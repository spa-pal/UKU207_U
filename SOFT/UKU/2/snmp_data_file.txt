; generated by ARM C/C++ Compiler, 4.1 [Build 644]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\EXE\snmp_data_file.o --asm_dir=.\ --list_dir=.\ --depend=.\EXE\snmp_data_file.d --feedback=.\EXE\UKU_220_IPS_TERMOKOMPENSAT.fed --cpu=Cortex-M3 --apcs=interwork -O1 -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\INC\NXP\LPC17xx -D__MICROLIB -DUKU_220_IPS_TERMOKOMPENSAT -DUKU2071x -DUKU_ZVU --omf_browse=.\EXE\snmp_data_file.crf snmp_data_file.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  snmp_data PROC
;;;261    //-----------------------------------------------
;;;262    void snmp_data (void) 
000000  e92d5ff0          PUSH     {r4-r12,lr}
;;;263    {
;;;264    char i;
;;;265    
;;;266    snmp_mains_power_voltage=net_U;
000004  f8df9400          LDR      r9,|L1.1032|
000008  f8b90000          LDRH     r0,[r9,#0]  ; net_U
00000c  4fff              LDR      r7,|L1.1036|
00000e  8438              STRH     r0,[r7,#0x20]
;;;267    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;268    snmp_mains_power_frequency=net_F3;
000010  48ff              LDR      r0,|L1.1040|
000012  8800              LDRH     r0,[r0,#0]  ; net_F3
000014  8478              STRH     r0,[r7,#0x22]
;;;269    #else
;;;270    snmp_mains_power_frequency=net_F;
;;;271    #endif
;;;272    snmp_mains_power_voltage_phaseA=net_Ua;
000016  48ff              LDR      r0,|L1.1044|
000018  8800              LDRH     r0,[r0,#0]  ; net_Ua
00001a  8538              STRH     r0,[r7,#0x28]
;;;273    snmp_mains_power_voltage_phaseB=net_Ub;
00001c  48fe              LDR      r0,|L1.1048|
00001e  8800              LDRH     r0,[r0,#0]  ; net_Ub
000020  8578              STRH     r0,[r7,#0x2a]
;;;274    snmp_mains_power_voltage_phaseC=net_Uc;
000022  48fe              LDR      r0,|L1.1052|
000024  8800              LDRH     r0,[r0,#0]  ; net_Uc
000026  85b8              STRH     r0,[r7,#0x2c]
;;;275    
;;;276    
;;;277    if(avar_stat&0x0001)snmp_mains_power_alarm=1;
000028  48fd              LDR      r0,|L1.1056|
;;;278    else snmp_mains_power_alarm=0;
00002a  2400              MOVS     r4,#0
00002c  2601              MOVS     r6,#1                 ;277
00002e  6800              LDR      r0,[r0,#0]            ;277  ; avar_stat
000030  07c0              LSLS     r0,r0,#31             ;277
000032  2800              CMP      r0,#0                 ;277
000034  d001              BEQ      |L1.58|
000036  84fe              STRH     r6,[r7,#0x26]         ;277
000038  e000              B        |L1.60|
                  |L1.58|
00003a  84fc              STRH     r4,[r7,#0x26]
                  |L1.60|
;;;279    if(avar_stat&0x0001)snmp_mains_power_status=1;
00003c  d001              BEQ      |L1.66|
00003e  84be              STRH     r6,[r7,#0x24]
000040  e000              B        |L1.68|
                  |L1.66|
;;;280    else snmp_mains_power_status=0;
000042  84bc              STRH     r4,[r7,#0x24]
                  |L1.68|
;;;281    
;;;282    /*
;;;283    snmp_mains_power_status=0; 
;;;284    #if(UKU_VERSION==900)
;;;285    snmp_mains_power_status=2;
;;;286    #endif
;;;287    if(St&0x01)snmp_mains_power_status|=0x01;
;;;288    if(St&0x01)snmp_mains_power_alarm=1;
;;;289    
;;;290    
;;;291    
;;;292    
;;;293    
;;;294    
;;;295    for(i=0;i<snmp_numofevents;i++)event2snmp(i);
;;;296    //snmp_bpsnumber[0]=1;
;;;297    //snmp_bpsnumber[1]=2;
;;;298    
;;;299    
;;;300    snmp_sernum_lsb=0x1122;
;;;301    snmp_sernum_msb=0x3344;
;;;302    snmp_device_code=AUSW_MAIN;
;;;303    
;;;304    //memcpy(snmp_location,"lkhg;la",);
;;;305    
;;;306    
;;;307    snmp_numofbat=1;
;;;308    
;;;309    */
;;;310    snmp_sernum=AUSW_MAIN_NUMBER;
000044  48f7              LDR      r0,|L1.1060|
000046  f8dfa3c4          LDR      r10,|L1.1036|
00004a  f10a0a80          ADD      r10,r10,#0x80
00004e  6800              LDR      r0,[r0,#0]  ; AUSW_MAIN_NUMBER
000050  f8ca002c          STR      r0,[r10,#0x2c]  ; snmp_sernum
;;;311    
;;;312    snmp_load_voltage=load_U;
000054  48f4              LDR      r0,|L1.1064|
000056  f1070712          ADD      r7,r7,#0x12
00005a  8800              LDRH     r0,[r0,#0]  ; load_U
00005c  83b8              STRH     r0,[r7,#0x1c]
;;;313    snmp_load_current=load_I;
00005e  48f3              LDR      r0,|L1.1068|
000060  8800              LDRH     r0,[r0,#0]  ; load_I
000062  83f8              STRH     r0,[r7,#0x1e]
;;;314    snmp_numofbat=NUMBAT;
000064  f8df83c8          LDR      r8,|L1.1072|
000068  f8b80000          LDRH     r0,[r8,#0]  ; NUMBAT
00006c  8038              STRH     r0,[r7,#0]
;;;315    snmp_numofbps=NUMIST;
00006e  4df1              LDR      r5,|L1.1076|
000070  8828              LDRH     r0,[r5,#0]  ; NUMIST
000072  8078              STRH     r0,[r7,#2]
;;;316    snmp_numofinv=NUMINV;
000074  48f0              LDR      r0,|L1.1080|
000076  8800              LDRH     r0,[r0,#0]  ; NUMINV
000078  80b8              STRH     r0,[r7,#4]
;;;317    snmp_numofavt=NUMAVT;
00007a  48f0              LDR      r0,|L1.1084|
00007c  8800              LDRH     r0,[r0,#0]  ; NUMAVT
00007e  80f8              STRH     r0,[r7,#6]
;;;318    snmp_numofdt=NUMDT;
000080  48ef              LDR      r0,|L1.1088|
000082  8800              LDRH     r0,[r0,#0]  ; NUMDT
000084  8138              STRH     r0,[r7,#8]
;;;319    snmp_numofsk=NUMSK;
000086  48ef              LDR      r0,|L1.1092|
000088  8800              LDRH     r0,[r0,#0]  ; NUMSK
00008a  8178              STRH     r0,[r7,#0xa]
;;;320    snmp_numofevents=lc640_read_int(CNT_EVENT_LOG);
00008c  f6406002          MOV      r0,#0xe02
000090  f7fffffe          BL       lc640_read_int
000094  81b8              STRH     r0,[r7,#0xc]
;;;321    
;;;322    snmp_energy_vvod_phase_a=Uvv_eb2[0];
000096  48ec              LDR      r0,|L1.1096|
000098  8801              LDRH     r1,[r0,#0]  ; Uvv_eb2
00009a  84f9              STRH     r1,[r7,#0x26]
;;;323    snmp_energy_vvod_phase_b=Uvv_eb2[1];
00009c  8841              LDRH     r1,[r0,#2]  ; Uvv_eb2
00009e  8539              STRH     r1,[r7,#0x28]
;;;324    snmp_energy_vvod_phase_c=Uvv_eb2[2];
0000a0  8880              LDRH     r0,[r0,#4]  ; Uvv_eb2
0000a2  8578              STRH     r0,[r7,#0x2a]
;;;325    snmp_energy_pes_phase_a=Upes_eb2[0];
0000a4  48e9              LDR      r0,|L1.1100|
0000a6  8801              LDRH     r1,[r0,#0]  ; Upes_eb2
0000a8  85b9              STRH     r1,[r7,#0x2c]
;;;326    snmp_energy_pes_phase_b=Upes_eb2[1];
0000aa  8841              LDRH     r1,[r0,#2]  ; Upes_eb2
0000ac  85f9              STRH     r1,[r7,#0x2e]
;;;327    snmp_energy_pes_phase_c=Upes_eb2[2];
0000ae  8880              LDRH     r0,[r0,#4]  ; Upes_eb2
0000b0  8638              STRH     r0,[r7,#0x30]
;;;328    
;;;329    #ifdef UKU_KONTUR
;;;330    snmp_energy_vvod_phase_a=Uvv0;
;;;331    snmp_energy_pes_phase_a=Uvv[1];
;;;332    #endif
;;;333    
;;;334    snmp_energy_total_energy=power_summary;
0000b2  48e7              LDR      r0,|L1.1104|
0000b4  6800              LDR      r0,[r0,#0]  ; power_summary
0000b6  f8ca0050          STR      r0,[r10,#0x50]  ; snmp_energy_total_energy
;;;335    snmp_energy_current_energy=power_current;
0000ba  48e6              LDR      r0,|L1.1108|
0000bc  8800              LDRH     r0,[r0,#0]  ; power_current
0000be  86b8              STRH     r0,[r7,#0x34]
;;;336    snmp_energy_input_voltage=net_U;
0000c0  f8b90000          LDRH     r0,[r9,#0]  ; net_U
0000c4  8678              STRH     r0,[r7,#0x32]
0000c6  f1a70712          SUB      r7,r7,#0x12
;;;337    
;;;338    
;;;339    #ifdef UKU_ZVU
;;;340    snmp_bat_number[0]=1;
0000ca  f10a0030          ADD      r0,r10,#0x30
0000ce  8006              STRH     r6,[r0,#0]
;;;341    snmp_bat_voltage[0]=out_U;
0000d0  48e1              LDR      r0,|L1.1112|
0000d2  f10a0134          ADD      r1,r10,#0x34
0000d6  8800              LDRH     r0,[r0,#0]  ; out_U
0000d8  8008              STRH     r0,[r1,#0]
;;;342    snmp_bat_current[0]=Ib_ips_termokompensat;
0000da  48e0              LDR      r0,|L1.1116|
0000dc  f1010104          ADD      r1,r1,#4
0000e0  f9b00000          LDRSH    r0,[r0,#0]  ; Ib_ips_termokompensat
0000e4  8008              STRH     r0,[r1,#0]
;;;343    snmp_bat_rem_time[0]=bat_hndl_t_razr_min;
0000e6  49de              LDR      r1,|L1.1120|
0000e8  880a              LDRH     r2,[r1,#0]  ; bat_hndl_t_razr_min
0000ea  f10a014c          ADD      r1,r10,#0x4c
0000ee  800a              STRH     r2,[r1,#0]
;;;344    if(Ib_ips_termokompensat>0)snmp_bat_rem_time[0]=-1;
0000f0  f04f32ff          MOV      r2,#0xffffffff
0000f4  2800              CMP      r0,#0
0000f6  dd00              BLE      |L1.250|
0000f8  800a              STRH     r2,[r1,#0]
                  |L1.250|
;;;345    snmp_bat_temperature[0]=t_ext[0];
0000fa  48da              LDR      r0,|L1.1124|
0000fc  f9b03000          LDRSH    r3,[r0,#0]  ; t_ext
000100  48c2              LDR      r0,|L1.1036|
000102  30bc              ADDS     r0,r0,#0xbc
000104  8003              STRH     r3,[r0,#0]
;;;346    if(ND_EXT[0])snmp_bat_temperature[0]=-1000;
000106  49d8              LDR      r1,|L1.1128|
000108  7809              LDRB     r1,[r1,#0]  ; ND_EXT
00010a  b111              CBZ      r1,|L1.274|
00010c  f64f4118          MOV      r1,#0xfc18
000110  8001              STRH     r1,[r0,#0]
                  |L1.274|
;;;347    snmp_bat_capacity[0]=BAT_C_POINT_20;
000112  48d6              LDR      r0,|L1.1132|
000114  49bd              LDR      r1,|L1.1036|
000116  31c0              ADDS     r1,r1,#0xc0
000118  8800              LDRH     r0,[r0,#0]  ; BAT_C_POINT_20
00011a  8008              STRH     r0,[r1,#0]
;;;348    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
00011c  48d4              LDR      r0,|L1.1136|
00011e  f2427110          MOV      r1,#0x2710
000122  6800              LDR      r0,[r0,#0]  ; bat_hndl_zvu_Q
000124  fb90f0f1          SDIV     r0,r0,r1
000128  49b8              LDR      r1,|L1.1036|
00012a  f10101c4          ADD      r1,r1,#0xc4
00012e  8008              STRH     r0,[r1,#0]
;;;349    snmp_bat_status[0]=bat_ips._av&1;
000130  48d0              LDR      r0,|L1.1140|
000132  f890003d          LDRB     r0,[r0,#0x3d]  ; bat_ips
000136  f0000101          AND      r1,r0,#1
00013a  48b4              LDR      r0,|L1.1036|
00013c  f10000c8          ADD      r0,r0,#0xc8
000140  8001              STRH     r1,[r0,#0]
;;;350    if(NUMBAT==0)snmp_bat_status[0]=0xff;
000142  f8b8c000          LDRH     r12,[r8,#0]  ; NUMBAT
000146  f04f01ff          MOV      r1,#0xff
00014a  f1bc0f00          CMP      r12,#0
00014e  d100              BNE      |L1.338|
000150  8001              STRH     r1,[r0,#0]
                  |L1.338|
;;;351    #endif
;;;352    
;;;353    #ifndef UKU_ZVU
;;;354    snmp_bat_number[0]=1;
;;;355    snmp_bat_voltage[0]=bat[0]._Ub;
;;;356    snmp_bat_part_voltage[0]=bat[0]._Ubm;
;;;357    snmp_bat_current[0]=bat[0]._Ib;
;;;358    
;;;359    /*
;;;360    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;361    if(((AUSW_MAIN==22063)||(AUSW_MAIN==22023))&&(bps[8]._device==dIBAT_METR))
;;;362    	{
;;;363    	snmp_bat_current[0]=Ib_ips_termokompensat;
;;;364    	}
;;;365    #endif*/
;;;366    
;;;367    snmp_bat_temperature[0]=bat[0]._Tb;
;;;368    if(bat[0]._nd) snmp_bat_temperature[0]=-1000;
;;;369    
;;;370    if(BAT_C_REAL[0]==0x5555)snmp_bat_capacity[0]=BAT_C_NOM[0];
;;;371    else snmp_bat_capacity[0]=BAT_C_REAL[0];
;;;372    /*
;;;373    #ifdef UKU_ZVU
;;;374    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;375    
;;;376    #else
;;;377    snmp_bat_charge[0]=bat[0]._zar;
;;;378    #endif */
;;;379    snmp_bat_charge[0]=bat[0]._zar;
;;;380    snmp_bat_status[0]=bat[0]._av;
;;;381    if(BAT_IS_ON[0]!=bisON)snmp_bat_status[0]=0xff;
;;;382    
;;;383    
;;;384    snmp_bat_number[1]=2;
;;;385    snmp_bat_voltage[1]=bat[1]._Ub;
;;;386    snmp_bat_part_voltage[1]=bat[1]._Ubm;
;;;387    snmp_bat_current[1]=bat[1]._Ib;
;;;388    snmp_bat_temperature[1]=bat[1]._Tb;
;;;389    if(bat[1]._nd) snmp_bat_temperature[1]=-1000;
;;;390    if(BAT_C_REAL[1]==0x5555)snmp_bat_capacity[1]=BAT_C_NOM[1];
;;;391    else snmp_bat_capacity[1]=BAT_C_REAL[1];
;;;392    snmp_bat_charge[1]=bat[1]._zar;
;;;393    snmp_bat_status[1]=bat[1]._av;
;;;394    if(BAT_IS_ON[1]!=bisON)snmp_bat_status[1]=0xff;
;;;395    #endif
;;;396    
;;;397    
;;;398    snmp_bps_number[0]=1;
000152  f8df9324          LDR      r9,|L1.1144|
000156  46b6              MOV      lr,r6
000158  f8a96000          STRH     r6,[r9,#0]
;;;399    snmp_bps_voltage[0]=bps[0]._Uii;
00015c  f8dfa31c          LDR      r10,|L1.1148|
000160  f1090810          ADD      r8,r9,#0x10
000164  f8da001c          LDR      r0,[r10,#0x1c]  ; bps
000168  f8a80000          STRH     r0,[r8,#0]
;;;400    snmp_bps_current[0]=bps[0]._Ii;
00016c  f1080b10          ADD      r11,r8,#0x10
000170  f8da0024          LDR      r0,[r10,#0x24]  ; bps
000174  f8ab0000          STRH     r0,[r11,#0]
;;;401    snmp_bps_temperature[0]=bps[0]._Ti;
000178  f1080c20          ADD      r12,r8,#0x20
00017c  f8da0028          LDR      r0,[r10,#0x28]  ; bps
000180  f8ac0000          STRH     r0,[r12,#0]
;;;402    snmp_bps_stat[0]=bps[0]._av;
000184  f1080630          ADD      r6,r8,#0x30
000188  f89a0001          LDRB     r0,[r10,#1]  ; bps
00018c  8030              STRH     r0,[r6,#0]
;;;403    if(!(NUMIST>0))snmp_bps_stat[0]=0xff;												//Байт состояния БПСа.
00018e  f9b50000          LDRSH    r0,[r5,#0]  ; NUMIST
000192  2800              CMP      r0,#0
000194  dc00              BGT      |L1.408|
000196  8031              STRH     r1,[r6,#0]
                  |L1.408|
;;;404    
;;;405    /*if(St_[0]&(1<<2))snmp_bps_stat[0]=(1<<3); 							//авария по Umin
;;;406    else if(St_[0]&(1<<3))snmp_bps_stat[0]=(1<<2); 						//авария по Umax
;;;407    else if(bps[0]._av&(1<<0))snmp_bps_stat[0]=(1<<1); 						//авария по Tmax
;;;408    else if(St_[0]&(1<<5))snmp_bps_stat[0]=(1<<5); 						//заблокирован
;;;409    else if((!(St_[0]&0x3c))&&(!St&0x01)&&(!OFFBP1))snmp_bps_stat[0]=1; 		//Работает
;;;410    */
;;;411    
;;;412    snmp_bps_number[1]=2;
000198  f04f0502          MOV      r5,#2
00019c  f8a95002          STRH     r5,[r9,#2]
;;;413    snmp_bps_voltage[1]=bps[1]._Uii;
0001a0  f8da5078          LDR      r5,[r10,#0x78]  ; bps
0001a4  f8a85002          STRH     r5,[r8,#2]
;;;414    snmp_bps_current[1]=bps[1]._Ii;
0001a8  f8dfb2cc          LDR      r11,|L1.1144|
0001ac  f8da5080          LDR      r5,[r10,#0x80]  ; bps
0001b0  f10b0b20          ADD      r11,r11,#0x20
0001b4  f8ab5002          STRH     r5,[r11,#2]
;;;415    snmp_bps_temperature[1]=bps[1]._Ti;
0001b8  f8da5084          LDR      r5,[r10,#0x84]  ; bps
0001bc  f8ac5002          STRH     r5,[r12,#2]
;;;416    snmp_bps_stat[1]=bps[1]._av;
0001c0  f89a505d          LDRB     r5,[r10,#0x5d]  ; bps
0001c4  8075              STRH     r5,[r6,#2]
;;;417    if(!(NUMIST>1))snmp_bps_stat[1]=0xff;												//Байт состояния БПСа.
0001c6  2801              CMP      r0,#1
0001c8  dc00              BGT      |L1.460|
0001ca  8071              STRH     r1,[r6,#2]
                  |L1.460|
;;;418    /*if(St_[1]&(1<<2))snmp_bps_stat[1]=(1<<3); 							//авария по Umin
;;;419    else if(St_[1]&(1<<3))snmp_bps_stat[1]=(1<<2); 						//авария по Umax
;;;420    else if(St_[1]&(1<<4))snmp_bps_stat[1]=(1<<1); 						//авария по Tmax
;;;421    else if(St_[1]&(1<<5))snmp_bps_stat[1]=(1<<5); 						//заблокирован
;;;422    else if((!(St_[1]&0x3c))&&(!St&0x01)&&(!OFFBP2))snmp_bps_stat[1]=1; 		//Работает
;;;423    */
;;;424    
;;;425    snmp_bps_number[2]=3;
0001cc  f04f0503          MOV      r5,#3
0001d0  f8a95004          STRH     r5,[r9,#4]
;;;426    snmp_bps_voltage[2]=bps[2]._Uii;
0001d4  4da9              LDR      r5,|L1.1148|
0001d6  f8d5a0d4          LDR      r10,[r5,#0xd4]  ; bps
0001da  f8a8a004          STRH     r10,[r8,#4]
;;;427    snmp_bps_current[2]=bps[2]._Ii;
0001de  f8dfa298          LDR      r10,|L1.1144|
0001e2  f8d5b0dc          LDR      r11,[r5,#0xdc]  ; bps
0001e6  f10a0a20          ADD      r10,r10,#0x20
0001ea  f8aab004          STRH     r11,[r10,#4]
;;;428    snmp_bps_temperature[2]=bps[2]._Ti;
0001ee  f10a0c10          ADD      r12,r10,#0x10
0001f2  f8d5b0e0          LDR      r11,[r5,#0xe0]  ; bps
0001f6  f8acb004          STRH     r11,[r12,#4]
;;;429    snmp_bps_stat[2]=bps[2]._av;
0001fa  f89550b9          LDRB     r5,[r5,#0xb9]  ; bps
0001fe  80b5              STRH     r5,[r6,#4]
;;;430    if(!(NUMIST>2))snmp_bps_stat[2]=0xff;
000200  2802              CMP      r0,#2
000202  dc00              BGT      |L1.518|
000204  80b1              STRH     r1,[r6,#4]
                  |L1.518|
;;;431    
;;;432    snmp_bps_number[3]=4;
000206  f04f0504          MOV      r5,#4
00020a  f8a95006          STRH     r5,[r9,#6]
;;;433    snmp_bps_voltage[3]=bps[3]._Uii;
00020e  4d9b              LDR      r5,|L1.1148|
000210  f8d5c130          LDR      r12,[r5,#0x130]  ; bps
000214  f8a8c006          STRH     r12,[r8,#6]
;;;434    snmp_bps_current[3]=bps[3]._Ii;
000218  f8d5c138          LDR      r12,[r5,#0x138]  ; bps
00021c  f8aac006          STRH     r12,[r10,#6]
;;;435    snmp_bps_temperature[3]=bps[3]._Ti;
000220  f8dfc254          LDR      r12,|L1.1144|
000224  f8d5b13c          LDR      r11,[r5,#0x13c]  ; bps
000228  f10c0c30          ADD      r12,r12,#0x30
00022c  f8acb006          STRH     r11,[r12,#6]
;;;436    snmp_bps_stat[3]=bps[3]._av;
000230  f895b115          LDRB     r11,[r5,#0x115]  ; bps
000234  f8a6b006          STRH     r11,[r6,#6]
;;;437    if(!(NUMIST>3))snmp_bps_stat[3]=0xff;
000238  2803              CMP      r0,#3
00023a  dc00              BGT      |L1.574|
00023c  80f1              STRH     r1,[r6,#6]
                  |L1.574|
;;;438    
;;;439    snmp_bps_number[4]=5;
00023e  f04f0b05          MOV      r11,#5
000242  f8a9b008          STRH     r11,[r9,#8]
;;;440    snmp_bps_voltage[4]=bps[4]._Uii;
000246  f8df8230          LDR      r8,|L1.1144|
00024a  f8d5b18c          LDR      r11,[r5,#0x18c]  ; bps
00024e  f1080810          ADD      r8,r8,#0x10
000252  f8a8b008          STRH     r11,[r8,#8]
;;;441    snmp_bps_current[4]=bps[4]._Ii;
000256  f8d58194          LDR      r8,[r5,#0x194]  ; bps
00025a  f8aa8008          STRH     r8,[r10,#8]
;;;442    snmp_bps_temperature[4]=bps[4]._Ti;
00025e  f8d58198          LDR      r8,[r5,#0x198]  ; bps
000262  f8ac8008          STRH     r8,[r12,#8]
;;;443    snmp_bps_stat[4]=bps[4]._av;
000266  f8958171          LDRB     r8,[r5,#0x171]  ; bps
00026a  f8a68008          STRH     r8,[r6,#8]
;;;444    if(!(NUMIST>4))snmp_bps_stat[4]=0xff;
00026e  2804              CMP      r0,#4
000270  dc00              BGT      |L1.628|
000272  8131              STRH     r1,[r6,#8]
                  |L1.628|
;;;445    
;;;446    snmp_bps_number[5]=6;
000274  f04f0806          MOV      r8,#6
000278  f8a9800a          STRH     r8,[r9,#0xa]
;;;447    snmp_bps_voltage[5]=bps[5]._Uii;
00027c  f8dfb1f8          LDR      r11,|L1.1144|
000280  f8d581e8          LDR      r8,[r5,#0x1e8]  ; bps
000284  f10b0b10          ADD      r11,r11,#0x10
000288  f8ab800a          STRH     r8,[r11,#0xa]
;;;448    snmp_bps_current[5]=bps[5]._Ii;
00028c  f8d581f0          LDR      r8,[r5,#0x1f0]  ; bps
000290  f8aa800a          STRH     r8,[r10,#0xa]
;;;449    snmp_bps_temperature[5]=bps[5]._Ti;
000294  f8d581f4          LDR      r8,[r5,#0x1f4]  ; bps
000298  f8ac800a          STRH     r8,[r12,#0xa]
;;;450    snmp_bps_stat[5]=bps[5]._av;
00029c  f89581cd          LDRB     r8,[r5,#0x1cd]  ; bps
0002a0  f8a6800a          STRH     r8,[r6,#0xa]
;;;451    if(!(NUMIST>5))snmp_bps_stat[5]=0xff;
0002a4  2805              CMP      r0,#5
0002a6  dc00              BGT      |L1.682|
0002a8  8171              STRH     r1,[r6,#0xa]
                  |L1.682|
;;;452    
;;;453    snmp_bps_number[6]=7;
0002aa  f04f0807          MOV      r8,#7
0002ae  f8a9800c          STRH     r8,[r9,#0xc]
;;;454    snmp_bps_voltage[6]=bps[6]._Uii;
0002b2  4d72              LDR      r5,|L1.1148|
0002b4  f8d58244          LDR      r8,[r5,#0x244]  ; bps
0002b8  f8ab800c          STRH     r8,[r11,#0xc]
;;;455    snmp_bps_current[6]=bps[6]._Ii;
0002bc  f8d5824c          LDR      r8,[r5,#0x24c]  ; bps
0002c0  f8aa800c          STRH     r8,[r10,#0xc]
;;;456    snmp_bps_temperature[6]=bps[6]._Ti;
0002c4  f8d58250          LDR      r8,[r5,#0x250]  ; bps
0002c8  f8ac800c          STRH     r8,[r12,#0xc]
;;;457    snmp_bps_stat[6]=bps[6]._av;
0002cc  f8955229          LDRB     r5,[r5,#0x229]  ; bps
0002d0  81b5              STRH     r5,[r6,#0xc]
;;;458    if(!(NUMIST>6))snmp_bps_stat[6]=0xff;
0002d2  2806              CMP      r0,#6
0002d4  dc00              BGT      |L1.728|
0002d6  81b1              STRH     r1,[r6,#0xc]
                  |L1.728|
;;;459    
;;;460    snmp_bps_number[7]=8;
0002d8  f04f0508          MOV      r5,#8
0002dc  f8a9500e          STRH     r5,[r9,#0xe]
;;;461    snmp_bps_voltage[7]=bps[7]._Uii;
0002e0  4d66              LDR      r5,|L1.1148|
0002e2  f8d582a0          LDR      r8,[r5,#0x2a0]  ; bps
0002e6  f8ab800e          STRH     r8,[r11,#0xe]
;;;462    snmp_bps_current[7]=bps[7]._Ii;
0002ea  f8d582a8          LDR      r8,[r5,#0x2a8]  ; bps
0002ee  f8aa800e          STRH     r8,[r10,#0xe]
;;;463    snmp_bps_temperature[7]=bps[7]._Ti;
0002f2  f8d582ac          LDR      r8,[r5,#0x2ac]  ; bps
0002f6  f8ac800e          STRH     r8,[r12,#0xe]
;;;464    snmp_bps_stat[7]=bps[7]._av;
0002fa  f8955285          LDRB     r5,[r5,#0x285]  ; bps
0002fe  81f5              STRH     r5,[r6,#0xe]
;;;465    if(!(NUMIST>7))snmp_bps_stat[7]=0xff;
000300  2807              CMP      r0,#7
000302  dc00              BGT      |L1.774|
000304  81f1              STRH     r1,[r6,#0xe]
                  |L1.774|
;;;466    
;;;467    
;;;468    
;;;469    snmp_inv_number[0]=1;
000306  4d41              LDR      r5,|L1.1036|
000308  4670              MOV      r0,lr
00030a  f10505e8          ADD      r5,r5,#0xe8
00030e  f8a5e000          STRH     lr,[r5,#0]
;;;470    snmp_inv_voltage[0]=inv[0]._Uio;
000312  495b              LDR      r1,|L1.1152|
000314  f1050606          ADD      r6,r5,#6
000318  f851cc4c          LDR      r12,[r1,#-0x4c]  ; inv
00031c  f8a6c000          STRH     r12,[r6,#0]
;;;471    snmp_inv_current[0]=inv[0]._Ii;
000320  f1050c0c          ADD      r12,r5,#0xc
000324  f8518c48          LDR      r8,[r1,#-0x48]  ; inv
000328  f8ac8000          STRH     r8,[r12,#0]
;;;472    snmp_inv_temperature[0]=inv[0]._Ti;
00032c  f1050812          ADD      r8,r5,#0x12
000330  f8519c44          LDR      r9,[r1,#-0x44]  ; inv
000334  f8a89000          STRH     r9,[r8,#0]
;;;473    snmp_inv_stat[0]=inv[0]._flags_tm;
000338  f1050a18          ADD      r10,r5,#0x18
00033c  f8119c1e          LDRB     r9,[r1,#-0x1e]  ; inv
000340  f8aa9000          STRH     r9,[r10,#0]
;;;474    
;;;475    snmp_inv_number[1]=2;
000344  f04f0b02          MOV      r11,#2
000348  f8a5b002          STRH     r11,[r5,#2]
;;;476    snmp_inv_voltage[1]=inv[1]._Uio;
00034c  f8d19014          LDR      r9,[r1,#0x14]  ; inv
000350  f8a69002          STRH     r9,[r6,#2]
;;;477    snmp_inv_current[1]=inv[1]._Ii;
000354  f8d19018          LDR      r9,[r1,#0x18]  ; inv
000358  f8ac9002          STRH     r9,[r12,#2]
;;;478    snmp_inv_temperature[1]=inv[1]._Ti;
00035c  f8d1901c          LDR      r9,[r1,#0x1c]  ; inv
000360  f8a89002          STRH     r9,[r8,#2]
;;;479    snmp_inv_stat[1]=inv[1]._flags_tm;
000364  f8919042          LDRB     r9,[r1,#0x42]  ; inv
000368  f8aa9002          STRH     r9,[r10,#2]
;;;480    
;;;481    snmp_inv_number[2]=3;
00036c  f04f0903          MOV      r9,#3
000370  f8a59004          STRH     r9,[r5,#4]
;;;482    snmp_inv_voltage[2]=inv[2]._Uio;
000374  6f4d              LDR      r5,[r1,#0x74]  ; inv
000376  80b5              STRH     r5,[r6,#4]
;;;483    snmp_inv_current[2]=inv[2]._Ii;
000378  6f8d              LDR      r5,[r1,#0x78]  ; inv
00037a  f8ac5004          STRH     r5,[r12,#4]
;;;484    snmp_inv_temperature[2]=inv[2]._Ti;
00037e  6fcd              LDR      r5,[r1,#0x7c]  ; inv
000380  f8a85004          STRH     r5,[r8,#4]
;;;485    snmp_inv_stat[2]=inv[2]._flags_tm;
000384  f89110a2          LDRB     r1,[r1,#0xa2]  ; inv
000388  f8aa1004          STRH     r1,[r10,#4]
;;;486    
;;;487    
;;;488    
;;;489    
;;;490    					  
;;;491    snmp_sk_number[0]=1;
00038c  f1a60e1a          SUB      lr,r6,#0x1a
000390  f88e0000          STRB     r0,[lr,#0]
;;;492    memcpy(&snmp_sk_name[0][0],"Door",10);
000394  f8dfc0e0          LDR      r12,|L1.1144|
000398  a13a              ADR      r1,|L1.1156|
00039a  f10c0c88          ADD      r12,r12,#0x88
00039e  680d              LDR      r5,[r1,#0]
0003a0  f8cc5044          STR      r5,[r12,#0x44]  ; snmp_sk_name
0003a4  684d              LDR      r5,[r1,#4]
0003a6  f8cc5048          STR      r5,[r12,#0x48]  ; snmp_sk_name
0003aa  8909              LDRH     r1,[r1,#8]
0003ac  f8ac104c          STRH     r1,[r12,#0x4c]
;;;493    if(sk_stat[0]==ssON) snmp_sk_aktiv[0]=1;
0003b0  4936              LDR      r1,|L1.1164|
0003b2  780d              LDRB     r5,[r1,#0]  ; sk_stat
0003b4  f1a60116          SUB      r1,r6,#0x16
0003b8  2d01              CMP      r5,#1
0003ba  d071              BEQ      |L1.1184|
;;;494    else snmp_sk_aktiv[0]=0;
0003bc  700c              STRB     r4,[r1,#0]
                  |L1.958|
;;;495    if(!SK_SIGN[0])snmp_sk_alarm_aktiv[0]=1;
0003be  4d34              LDR      r5,|L1.1168|
0003c0  882e              LDRH     r6,[r5,#0]  ; SK_SIGN
0003c2  4d12              LDR      r5,|L1.1036|
0003c4  35dc              ADDS     r5,r5,#0xdc
0003c6  2e00              CMP      r6,#0
0003c8  d06b              BEQ      |L1.1186|
;;;496    else snmp_sk_alarm_aktiv[0]=0;
0003ca  702c              STRB     r4,[r5,#0]
                  |L1.972|
;;;497    if(sk_av_stat[0]==sasON)	snmp_sk_alarm[0]=1;
0003cc  4e31              LDR      r6,|L1.1172|
0003ce  f8968000          LDRB     r8,[r6,#0]  ; sk_av_stat
0003d2  4e0e              LDR      r6,|L1.1036|
0003d4  36e0              ADDS     r6,r6,#0xe0
0003d6  f1b80f01          CMP      r8,#1
0003da  d07e              BEQ      |L1.1242|
;;;498    else                     snmp_sk_alarm[0]=0;
0003dc  7034              STRB     r4,[r6,#0]
                  |L1.990|
;;;499    
;;;500    
;;;501    snmp_sk_number[1]=2;
0003de  f88eb001          STRB     r11,[lr,#1]
;;;502    memcpy(&snmp_sk_name[1][0],"Smoke",10);
0003e2  f20f08b4          ADR      r8,|L1.1176|
0003e6  f8d8a000          LDR      r10,[r8,#0]
0003ea  f8cca058          STR      r10,[r12,#0x58]  ; snmp_sk_name
0003ee  f8d8a004          LDR      r10,[r8,#4]
0003f2  f8cca05c          STR      r10,[r12,#0x5c]  ; snmp_sk_name
0003f6  f8b88008          LDRH     r8,[r8,#8]
0003fa  f8ac8060          STRH     r8,[r12,#0x60]
;;;503    if(sk_stat[1]==ssON) snmp_sk_aktiv[1]=1;
0003fe  f8df808c          LDR      r8,|L1.1164|
000402  f8988001          LDRB     r8,[r8,#1]  ; sk_stat
000406  e04d              B        |L1.1188|
                  |L1.1032|
                          DCD      net_U
                  |L1.1036|
                          DCD      ||.data||
                  |L1.1040|
                          DCD      net_F3
                  |L1.1044|
                          DCD      net_Ua
                  |L1.1048|
                          DCD      net_Ub
                  |L1.1052|
                          DCD      net_Uc
                  |L1.1056|
                          DCD      avar_stat
                  |L1.1060|
                          DCD      AUSW_MAIN_NUMBER
                  |L1.1064|
                          DCD      load_U
                  |L1.1068|
                          DCD      load_I
                  |L1.1072|
                          DCD      NUMBAT
                  |L1.1076|
                          DCD      NUMIST
                  |L1.1080|
                          DCD      NUMINV
                  |L1.1084|
                          DCD      NUMAVT
                  |L1.1088|
                          DCD      NUMDT
                  |L1.1092|
                          DCD      NUMSK
                  |L1.1096|
                          DCD      Uvv_eb2
                  |L1.1100|
                          DCD      Upes_eb2
                  |L1.1104|
                          DCD      power_summary
                  |L1.1108|
                          DCD      power_current
                  |L1.1112|
                          DCD      out_U
                  |L1.1116|
                          DCD      Ib_ips_termokompensat
                  |L1.1120|
                          DCD      bat_hndl_t_razr_min
                  |L1.1124|
                          DCD      t_ext
                  |L1.1128|
                          DCD      ND_EXT
                  |L1.1132|
                          DCD      BAT_C_POINT_20
                  |L1.1136|
                          DCD      bat_hndl_zvu_Q
                  |L1.1140|
                          DCD      bat_ips
                  |L1.1144|
                          DCD      ||.bss||+0x78
                  |L1.1148|
                          DCD      bps
                  |L1.1152|
                          DCD      inv+0x64
                  |L1.1156|
000484  446f6f72          DCB      "Door",0
000488  00      
000489  00                DCB      0
00048a  00                DCB      0
00048b  00                DCB      0
                  |L1.1164|
                          DCD      sk_stat
                  |L1.1168|
                          DCD      SK_SIGN
                  |L1.1172|
                          DCD      sk_av_stat
                  |L1.1176|
000498  536d6f6b          DCB      "Smoke",0
00049c  6500    
00049e  00                DCB      0
00049f  00                DCB      0
                  |L1.1184|
0004a0  e072              B        |L1.1416|
                  |L1.1186|
0004a2  e075              B        |L1.1424|
                  |L1.1188|
0004a4  f1b80f01          CMP      r8,#1
0004a8  d076              BEQ      |L1.1432|
;;;504    else snmp_sk_aktiv[1]=0;
0004aa  704c              STRB     r4,[r1,#1]
                  |L1.1196|
;;;505    if(!SK_SIGN[1])snmp_sk_alarm_aktiv[1]=1;
0004ac  f8dfa4a0          LDR      r10,|L1.2384|
0004b0  f8ba8002          LDRH     r8,[r10,#2]  ; SK_SIGN
0004b4  f1b80f00          CMP      r8,#0
0004b8  d070              BEQ      |L1.1436|
;;;506    else snmp_sk_alarm_aktiv[1]=0;
0004ba  706c              STRB     r4,[r5,#1]
                  |L1.1212|
;;;507    if(sk_av_stat[1]==sasON)	snmp_sk_alarm[1]=1;
0004bc  f8df8494          LDR      r8,|L1.2388|
0004c0  f8988001          LDRB     r8,[r8,#1]  ; sk_av_stat
0004c4  f1b80f01          CMP      r8,#1
0004c8  d06a              BEQ      |L1.1440|
;;;508    else                     snmp_sk_alarm[1]=0;
0004ca  7074              STRB     r4,[r6,#1]
                  |L1.1228|
;;;509    
;;;510    snmp_sk_number[2]=3;
0004cc  f8df9488          LDR      r9,|L1.2392|
0004d0  f04f0803          MOV      r8,#3
0004d4  f8898002          STRB     r8,[r9,#2]
;;;511    memcpy(&snmp_sk_name[2][0],"Shock",10);
0004d8  e000              B        |L1.1244|
                  |L1.1242|
0004da  e05b              B        |L1.1428|
                  |L1.1244|
0004dc  f20f487c          ADR      r8,|L1.2396|
0004e0  f8d89000          LDR      r9,[r8,#0]
0004e4  f8cc906c          STR      r9,[r12,#0x6c]  ; snmp_sk_name
0004e8  f8d89004          LDR      r9,[r8,#4]
0004ec  f8cc9070          STR      r9,[r12,#0x70]  ; snmp_sk_name
0004f0  f8b88008          LDRH     r8,[r8,#8]
0004f4  f8ac8074          STRH     r8,[r12,#0x74]
;;;512    if(sk_stat[2]==ssON) snmp_sk_aktiv[2]=1;
0004f8  f8dfc468          LDR      r12,|L1.2404|
0004fc  f89cc002          LDRB     r12,[r12,#2]  ; sk_stat
000500  f1bc0f01          CMP      r12,#1
000504  d04e              BEQ      |L1.1444|
;;;513    else snmp_sk_aktiv[2]=0;
000506  708c              STRB     r4,[r1,#2]
                  |L1.1288|
;;;514    if(!SK_SIGN[2])snmp_sk_alarm_aktiv[2]=1;
000508  f8dfc444          LDR      r12,|L1.2384|
00050c  f8bcc004          LDRH     r12,[r12,#4]  ; SK_SIGN
000510  f1bc0f00          CMP      r12,#0
000514  d048              BEQ      |L1.1448|
;;;515    else snmp_sk_alarm_aktiv[2]=0;
000516  70ac              STRB     r4,[r5,#2]
                  |L1.1304|
;;;516    if(sk_av_stat[2]==sasON)	snmp_sk_alarm[2]=1;
000518  f8df9438          LDR      r9,|L1.2388|
00051c  f899c002          LDRB     r12,[r9,#2]  ; sk_av_stat
000520  f1bc0f01          CMP      r12,#1
000524  d042              BEQ      |L1.1452|
;;;517    else                     snmp_sk_alarm[2]=0;
000526  70b4              STRB     r4,[r6,#2]
                  |L1.1320|
;;;518    
;;;519    snmp_sk_number[3]=4;
000528  f8df842c          LDR      r8,|L1.2392|
00052c  f04f0e04          MOV      lr,#4
000530  f888e003          STRB     lr,[r8,#3]
;;;520    memcpy(&snmp_sk_name[3][0],"     ",10);
000534  f8dfc430          LDR      r12,|L1.2408|
000538  f20f4830          ADR      r8,|L1.2412|
00053c  f8d8a000          LDR      r10,[r8,#0]
000540  f8cca000          STR      r10,[r12,#0]  ; snmp_sk_name
000544  f8d8a004          LDR      r10,[r8,#4]
000548  f8cca004          STR      r10,[r12,#4]  ; snmp_sk_name
00054c  f8b88008          LDRH     r8,[r8,#8]
000550  f8ac8008          STRH     r8,[r12,#8]
;;;521    if(sk_stat[3]==ssON) snmp_sk_aktiv[3]=1;
000554  f8dfc40c          LDR      r12,|L1.2404|
000558  f89cc003          LDRB     r12,[r12,#3]  ; sk_stat
00055c  f1bc0f01          CMP      r12,#1
000560  d026              BEQ      |L1.1456|
;;;522    else snmp_sk_aktiv[3]=0;
000562  70cc              STRB     r4,[r1,#3]
                  |L1.1380|
;;;523    if(!SK_SIGN[3])snmp_sk_alarm_aktiv[3]=1;
000564  49fa              LDR      r1,|L1.2384|
000566  88c9              LDRH     r1,[r1,#6]  ; SK_SIGN
000568  b321              CBZ      r1,|L1.1460|
;;;524    else snmp_sk_alarm_aktiv[3]=0;
00056a  70ec              STRB     r4,[r5,#3]
                  |L1.1388|
;;;525    if(sk_av_stat[3]==sasON)	snmp_sk_alarm[3]=1;
00056c  f8991003          LDRB     r1,[r9,#3]  ; sk_av_stat
000570  2901              CMP      r1,#1
000572  d021              BEQ      |L1.1464|
;;;526    else                     snmp_sk_alarm[3]=0;
000574  70f4              STRB     r4,[r6,#3]
                  |L1.1398|
;;;527    
;;;528    
;;;529    if(makb[0]._cnt>8) snmp_makb_connect_status[0]=1;
000576  49ff              LDR      r1,|L1.2420|
000578  4df7              LDR      r5,|L1.2392|
00057a  f9b16028          LDRSH    r6,[r1,#0x28]  ; makb
00057e  3538              ADDS     r5,r5,#0x38
000580  2e08              CMP      r6,#8
000582  dd1b              BLE      |L1.1468|
000584  8028              STRH     r0,[r5,#0]
000586  e01c              B        |L1.1474|
                  |L1.1416|
000588  7008              STRB     r0,[r1,#0]            ;493
00058a  e718              B        |L1.958|
00058c  e004              B        |L1.1432|
00058e  e005              B        |L1.1436|
                  |L1.1424|
000590  7028              STRB     r0,[r5,#0]            ;495
000592  e71b              B        |L1.972|
                  |L1.1428|
000594  7030              STRB     r0,[r6,#0]            ;497
000596  e722              B        |L1.990|
                  |L1.1432|
000598  7048              STRB     r0,[r1,#1]            ;503
00059a  e787              B        |L1.1196|
                  |L1.1436|
00059c  7068              STRB     r0,[r5,#1]            ;505
00059e  e78d              B        |L1.1212|
                  |L1.1440|
0005a0  7070              STRB     r0,[r6,#1]            ;507
0005a2  e793              B        |L1.1228|
                  |L1.1444|
0005a4  7088              STRB     r0,[r1,#2]            ;512
0005a6  e7af              B        |L1.1288|
                  |L1.1448|
0005a8  70a8              STRB     r0,[r5,#2]            ;514
0005aa  e7b5              B        |L1.1304|
                  |L1.1452|
0005ac  70b0              STRB     r0,[r6,#2]            ;516
0005ae  e7bb              B        |L1.1320|
                  |L1.1456|
0005b0  70c8              STRB     r0,[r1,#3]            ;521
0005b2  e7d7              B        |L1.1380|
                  |L1.1460|
0005b4  70e8              STRB     r0,[r5,#3]            ;523
0005b6  e7d9              B        |L1.1388|
                  |L1.1464|
0005b8  70f0              STRB     r0,[r6,#3]            ;525
0005ba  e7dc              B        |L1.1398|
                  |L1.1468|
;;;530    else if(makb[0]._cnt<2) snmp_makb_connect_status[0]=0;
0005bc  2e02              CMP      r6,#2
0005be  da00              BGE      |L1.1474|
0005c0  802c              STRH     r4,[r5,#0]
                  |L1.1474|
;;;531    if(makb[1]._cnt>8) snmp_makb_connect_status[1]=1;
0005c2  f9b16052          LDRSH    r6,[r1,#0x52]  ; makb
0005c6  2e08              CMP      r6,#8
0005c8  dd01              BLE      |L1.1486|
0005ca  8068              STRH     r0,[r5,#2]
0005cc  e002              B        |L1.1492|
                  |L1.1486|
;;;532    else if(makb[1]._cnt<2) snmp_makb_connect_status[1]=0;
0005ce  2e02              CMP      r6,#2
0005d0  da00              BGE      |L1.1492|
0005d2  806c              STRH     r4,[r5,#2]
                  |L1.1492|
;;;533    if(makb[2]._cnt>8) snmp_makb_connect_status[2]=1;
0005d4  f9b1607c          LDRSH    r6,[r1,#0x7c]  ; makb
0005d8  2e08              CMP      r6,#8
0005da  dd01              BLE      |L1.1504|
0005dc  80a8              STRH     r0,[r5,#4]
0005de  e002              B        |L1.1510|
                  |L1.1504|
;;;534    else if(makb[2]._cnt<2) snmp_makb_connect_status[2]=0;
0005e0  2e02              CMP      r6,#2
0005e2  da00              BGE      |L1.1510|
0005e4  80ac              STRH     r4,[r5,#4]
                  |L1.1510|
;;;535    if(makb[3]._cnt>8) snmp_makb_connect_status[3]=1;
0005e6  f9b160a6          LDRSH    r6,[r1,#0xa6]  ; makb
0005ea  2e08              CMP      r6,#8
0005ec  dd01              BLE      |L1.1522|
0005ee  80e8              STRH     r0,[r5,#6]
0005f0  e002              B        |L1.1528|
                  |L1.1522|
;;;536    else if(makb[3]._cnt<2) snmp_makb_connect_status[3]=0;
0005f2  2e02              CMP      r6,#2
0005f4  da00              BGE      |L1.1528|
0005f6  80ec              STRH     r4,[r5,#6]
                  |L1.1528|
;;;537    
;;;538    snmp_makb_voltage0[0]=makb[0]._Ub[0];
0005f8  4ed7              LDR      r6,|L1.2392|
0005fa  f101015c          ADD      r1,r1,#0x5c
0005fe  f1060640          ADD      r6,r6,#0x40
000602  f8315c52          LDRH     r5,[r1,#-0x52]  ; makb
000606  8035              STRH     r5,[r6,#0]
;;;539    snmp_makb_voltage1[0]=makb[0]._Ub[1];
000608  f1060608          ADD      r6,r6,#8
00060c  f8315c50          LDRH     r5,[r1,#-0x50]  ; makb
000610  8035              STRH     r5,[r6,#0]
;;;540    snmp_makb_voltage2[0]=makb[0]._Ub[2];
000612  f1060608          ADD      r6,r6,#8
000616  f8315c4e          LDRH     r5,[r1,#-0x4e]  ; makb
00061a  8035              STRH     r5,[r6,#0]
;;;541    snmp_makb_voltage3[0]=makb[0]._Ub[3];
00061c  f1060608          ADD      r6,r6,#8
000620  f8315c4c          LDRH     r5,[r1,#-0x4c]  ; makb
000624  8035              STRH     r5,[r6,#0]
;;;542    snmp_makb_voltage4[0]=makb[0]._Ub[4];
000626  f1060608          ADD      r6,r6,#8
00062a  f8315c4a          LDRH     r5,[r1,#-0x4a]  ; makb
00062e  8035              STRH     r5,[r6,#0]
;;;543    snmp_makb_voltage0[1]=makb[1]._Ub[0];
000630  f1a60620          SUB      r6,r6,#0x20
000634  f8315c28          LDRH     r5,[r1,#-0x28]  ; makb
000638  8075              STRH     r5,[r6,#2]
;;;544    snmp_makb_voltage1[1]=makb[1]._Ub[1];
00063a  f1060608          ADD      r6,r6,#8
00063e  f8315c26          LDRH     r5,[r1,#-0x26]  ; makb
000642  8075              STRH     r5,[r6,#2]
;;;545    snmp_makb_voltage2[1]=makb[1]._Ub[2];
000644  f1060608          ADD      r6,r6,#8
000648  f8315c24          LDRH     r5,[r1,#-0x24]  ; makb
00064c  8075              STRH     r5,[r6,#2]
;;;546    snmp_makb_voltage3[1]=makb[1]._Ub[3];
00064e  f1060608          ADD      r6,r6,#8
000652  f8315c22          LDRH     r5,[r1,#-0x22]  ; makb
000656  8075              STRH     r5,[r6,#2]
;;;547    snmp_makb_voltage4[1]=makb[1]._Ub[4];
000658  f1060608          ADD      r6,r6,#8
00065c  f8315c20          LDRH     r5,[r1,#-0x20]  ; makb
000660  8075              STRH     r5,[r6,#2]
;;;548    snmp_makb_voltage0[2]=makb[2]._Ub[0];
000662  f1a60620          SUB      r6,r6,#0x20
000666  884d              LDRH     r5,[r1,#2]  ; makb
000668  80b5              STRH     r5,[r6,#4]
;;;549    snmp_makb_voltage1[2]=makb[2]._Ub[1];
00066a  f1060608          ADD      r6,r6,#8
00066e  888d              LDRH     r5,[r1,#4]  ; makb
000670  80b5              STRH     r5,[r6,#4]
;;;550    snmp_makb_voltage2[2]=makb[2]._Ub[2];
000672  f1060608          ADD      r6,r6,#8
000676  88cd              LDRH     r5,[r1,#6]  ; makb
000678  80b5              STRH     r5,[r6,#4]
;;;551    snmp_makb_voltage3[2]=makb[2]._Ub[3];
00067a  f1060608          ADD      r6,r6,#8
00067e  890d              LDRH     r5,[r1,#8]  ; makb
000680  80b5              STRH     r5,[r6,#4]
;;;552    snmp_makb_voltage4[2]=makb[2]._Ub[4];
000682  f1060608          ADD      r6,r6,#8
000686  894d              LDRH     r5,[r1,#0xa]  ; makb
000688  80b5              STRH     r5,[r6,#4]
;;;553    snmp_makb_voltage0[3]=makb[3]._Ub[0];
00068a  f1a60620          SUB      r6,r6,#0x20
00068e  8d8d              LDRH     r5,[r1,#0x2c]  ; makb
000690  80f5              STRH     r5,[r6,#6]
;;;554    snmp_makb_voltage1[3]=makb[3]._Ub[1];
000692  f1060608          ADD      r6,r6,#8
000696  8dcd              LDRH     r5,[r1,#0x2e]  ; makb
000698  80f5              STRH     r5,[r6,#6]
;;;555    snmp_makb_voltage2[3]=makb[3]._Ub[2];
00069a  f1060608          ADD      r6,r6,#8
00069e  8e0d              LDRH     r5,[r1,#0x30]  ; makb
0006a0  80f5              STRH     r5,[r6,#6]
;;;556    snmp_makb_voltage3[3]=makb[3]._Ub[3];
0006a2  f1060608          ADD      r6,r6,#8
0006a6  8e4d              LDRH     r5,[r1,#0x32]  ; makb
0006a8  80f5              STRH     r5,[r6,#6]
;;;557    snmp_makb_voltage4[3]=makb[3]._Ub[4];
0006aa  f1060608          ADD      r6,r6,#8
0006ae  8e8d              LDRH     r5,[r1,#0x34]  ; makb
0006b0  80f5              STRH     r5,[r6,#6]
;;;558    
;;;559    snmp_makb_temper0[0]=makb[0]._T[0];
0006b2  4da9              LDR      r5,|L1.2392|
0006b4  f8316c48          LDRH     r6,[r1,#-0x48]  ; makb
0006b8  f1050568          ADD      r5,r5,#0x68
0006bc  802e              STRH     r6,[r5,#0]
;;;560    snmp_makb_temper1[0]=makb[0]._T[1];
0006be  f1050608          ADD      r6,r5,#8
0006c2  f831cc46          LDRH     r12,[r1,#-0x46]  ; makb
0006c6  f8a6c000          STRH     r12,[r6,#0]
;;;561    snmp_makb_temper2[0]=makb[0]._T[2];
0006ca  f1050c10          ADD      r12,r5,#0x10
0006ce  f8318c44          LDRH     r8,[r1,#-0x44]  ; makb
0006d2  f8ac8000          STRH     r8,[r12,#0]
;;;562    snmp_makb_temper3[0]=makb[0]._T[3];
0006d6  f1050818          ADD      r8,r5,#0x18
0006da  f8319c42          LDRH     r9,[r1,#-0x42]  ; makb
0006de  f8a89000          STRH     r9,[r8,#0]
;;;563    snmp_makb_temper4[0]=makb[0]._T[4];
0006e2  f1050920          ADD      r9,r5,#0x20
0006e6  f831ac40          LDRH     r10,[r1,#-0x40]  ; makb
0006ea  f8a9a000          STRH     r10,[r9,#0]
;;;564    snmp_makb_temper0[1]=makb[1]._T[0];
0006ee  f831ac1e          LDRH     r10,[r1,#-0x1e]  ; makb
0006f2  f8a5a002          STRH     r10,[r5,#2]
;;;565    snmp_makb_temper1[1]=makb[1]._T[1];
0006f6  f831ac1c          LDRH     r10,[r1,#-0x1c]  ; makb
0006fa  f8a6a002          STRH     r10,[r6,#2]
;;;566    snmp_makb_temper2[1]=makb[1]._T[2];
0006fe  f831ac1a          LDRH     r10,[r1,#-0x1a]  ; makb
000702  f8aca002          STRH     r10,[r12,#2]
;;;567    snmp_makb_temper3[1]=makb[1]._T[3];
000706  f831ac18          LDRH     r10,[r1,#-0x18]  ; makb
00070a  f8a8a002          STRH     r10,[r8,#2]
;;;568    snmp_makb_temper4[1]=makb[1]._T[4];
00070e  f831ac16          LDRH     r10,[r1,#-0x16]  ; makb
000712  f8a9a002          STRH     r10,[r9,#2]
;;;569    snmp_makb_temper0[2]=makb[2]._T[0];
000716  f8b1a00c          LDRH     r10,[r1,#0xc]  ; makb
00071a  f8a5a004          STRH     r10,[r5,#4]
;;;570    snmp_makb_temper1[2]=makb[2]._T[1];
00071e  f8b1a00e          LDRH     r10,[r1,#0xe]  ; makb
000722  f8a6a004          STRH     r10,[r6,#4]
;;;571    snmp_makb_temper2[2]=makb[2]._T[2];
000726  f8b1a010          LDRH     r10,[r1,#0x10]  ; makb
00072a  f8aca004          STRH     r10,[r12,#4]
;;;572    snmp_makb_temper3[2]=makb[2]._T[3];
00072e  f8b1a012          LDRH     r10,[r1,#0x12]  ; makb
000732  f8a8a004          STRH     r10,[r8,#4]
;;;573    snmp_makb_temper4[2]=makb[2]._T[4];
000736  f8b1a014          LDRH     r10,[r1,#0x14]  ; makb
00073a  f8a9a004          STRH     r10,[r9,#4]
;;;574    snmp_makb_temper0[3]=makb[3]._T[0];
00073e  f8b1a036          LDRH     r10,[r1,#0x36]  ; makb
000742  f8a5a006          STRH     r10,[r5,#6]
;;;575    snmp_makb_temper1[3]=makb[3]._T[1];
000746  8f0d              LDRH     r5,[r1,#0x38]  ; makb
000748  80f5              STRH     r5,[r6,#6]
;;;576    snmp_makb_temper2[3]=makb[3]._T[2];
00074a  8f4d              LDRH     r5,[r1,#0x3a]  ; makb
00074c  f8ac5006          STRH     r5,[r12,#6]
;;;577    snmp_makb_temper3[3]=makb[3]._T[3];
000750  8f8d              LDRH     r5,[r1,#0x3c]  ; makb
000752  f8a85006          STRH     r5,[r8,#6]
;;;578    snmp_makb_temper4[3]=makb[3]._T[4];
000756  8fcd              LDRH     r5,[r1,#0x3e]  ; makb
000758  f8a95006          STRH     r5,[r9,#6]
;;;579    
;;;580    snmp_makb_temper0_stat[0]=makb[0]._T_nd[0];
00075c  f1080510          ADD      r5,r8,#0x10
000760  f8316c3e          LDRH     r6,[r1,#-0x3e]  ; makb
000764  802e              STRH     r6,[r5,#0]
;;;581    snmp_makb_temper1_stat[0]=makb[0]._T_nd[1];
000766  f1050608          ADD      r6,r5,#8
00076a  f831cc3c          LDRH     r12,[r1,#-0x3c]  ; makb
00076e  f8a6c000          STRH     r12,[r6,#0]
;;;582    snmp_makb_temper2_stat[0]=makb[0]._T_nd[2];
000772  f1050c10          ADD      r12,r5,#0x10
000776  f8318c3a          LDRH     r8,[r1,#-0x3a]  ; makb
00077a  f8ac8000          STRH     r8,[r12,#0]
;;;583    snmp_makb_temper3_stat[0]=makb[0]._T_nd[3];
00077e  f1050818          ADD      r8,r5,#0x18
000782  f8319c38          LDRH     r9,[r1,#-0x38]  ; makb
000786  f8a89000          STRH     r9,[r8,#0]
;;;584    snmp_makb_temper4_stat[0]=makb[0]._T_nd[4];
00078a  f1050920          ADD      r9,r5,#0x20
00078e  f831ac36          LDRH     r10,[r1,#-0x36]  ; makb
000792  f8a9a000          STRH     r10,[r9,#0]
;;;585    snmp_makb_temper0_stat[1]=makb[1]._T_nd[0];
000796  f831ac14          LDRH     r10,[r1,#-0x14]  ; makb
00079a  f8a5a002          STRH     r10,[r5,#2]
;;;586    snmp_makb_temper1_stat[1]=makb[1]._T_nd[1];
00079e  f831ac12          LDRH     r10,[r1,#-0x12]  ; makb
0007a2  f8a6a002          STRH     r10,[r6,#2]
;;;587    snmp_makb_temper2_stat[1]=makb[1]._T_nd[2];
0007a6  f831ac10          LDRH     r10,[r1,#-0x10]  ; makb
0007aa  f8aca002          STRH     r10,[r12,#2]
;;;588    snmp_makb_temper3_stat[1]=makb[1]._T_nd[3];
0007ae  f831ac0e          LDRH     r10,[r1,#-0xe]  ; makb
0007b2  f8a8a002          STRH     r10,[r8,#2]
;;;589    snmp_makb_temper4_stat[1]=makb[1]._T_nd[4];
0007b6  f831ac0c          LDRH     r10,[r1,#-0xc]  ; makb
0007ba  f8a9a002          STRH     r10,[r9,#2]
;;;590    snmp_makb_temper0_stat[2]=makb[2]._T_nd[0];
0007be  f8b1a016          LDRH     r10,[r1,#0x16]  ; makb
0007c2  f8a5a004          STRH     r10,[r5,#4]
;;;591    snmp_makb_temper1_stat[2]=makb[2]._T_nd[1];
0007c6  f8b1a018          LDRH     r10,[r1,#0x18]  ; makb
0007ca  f8a6a004          STRH     r10,[r6,#4]
;;;592    snmp_makb_temper2_stat[2]=makb[2]._T_nd[2];
0007ce  f8b1a01a          LDRH     r10,[r1,#0x1a]  ; makb
0007d2  f8aca004          STRH     r10,[r12,#4]
;;;593    snmp_makb_temper3_stat[2]=makb[2]._T_nd[3];
0007d6  f8b1a01c          LDRH     r10,[r1,#0x1c]  ; makb
0007da  f8a8a004          STRH     r10,[r8,#4]
;;;594    snmp_makb_temper4_stat[2]=makb[2]._T_nd[4];
0007de  f8b1a01e          LDRH     r10,[r1,#0x1e]  ; makb
0007e2  f8a9a004          STRH     r10,[r9,#4]
;;;595    snmp_makb_temper0_stat[3]=makb[3]._T_nd[0];
0007e6  f831af40          LDRH     r10,[r1,#0x40]!  ; makb
0007ea  f8a5a006          STRH     r10,[r5,#6]
;;;596    snmp_makb_temper1_stat[3]=makb[3]._T_nd[1];
0007ee  884d              LDRH     r5,[r1,#2]  ; makb
0007f0  80f5              STRH     r5,[r6,#6]
;;;597    snmp_makb_temper2_stat[3]=makb[3]._T_nd[2];
0007f2  888d              LDRH     r5,[r1,#4]  ; makb
0007f4  f8ac5006          STRH     r5,[r12,#6]
;;;598    snmp_makb_temper3_stat[3]=makb[3]._T_nd[3];
0007f8  88cd              LDRH     r5,[r1,#6]  ; makb
0007fa  f1a10140          SUB      r1,r1,#0x40
0007fe  f8a85006          STRH     r5,[r8,#6]
;;;599    snmp_makb_temper4_stat[3]=makb[3]._T_nd[4];
000802  f8b11048          LDRH     r1,[r1,#0x48]  ; makb
000806  f8a91006          STRH     r1,[r9,#6]
;;;600    
;;;601    
;;;602    snmp_klimat_box_temper=t_box;
00080a  495b              LDR      r1,|L1.2424|
00080c  8809              LDRH     r1,[r1,#0]  ; t_box
00080e  f8a7107a          STRH     r1,[r7,#0x7a]
;;;603    snmp_klimat_settings_box_alarm=TBOXMAX;
000812  495a              LDR      r1,|L1.2428|
000814  f5a675b6          SUB      r5,r6,#0x16c
000818  8809              LDRH     r1,[r1,#0]  ; TBOXMAX
00081a  f8a5107c          STRH     r1,[r5,#0x7c]
;;;604    snmp_klimat_settings_vent_on=TBOXVENTON;
00081e  4958              LDR      r1,|L1.2432|
000820  8809              LDRH     r1,[r1,#0]  ; TBOXVENTON
000822  f8a5107e          STRH     r1,[r5,#0x7e]
;;;605    snmp_klimat_settings_vent_off=TBOXVENTOFF;
000826  4957              LDR      r1,|L1.2436|
000828  880d              LDRH     r5,[r1,#0]  ; TBOXVENTOFF
00082a  f1a601ec          SUB      r1,r6,#0xec
00082e  800d              STRH     r5,[r1,#0]
;;;606    snmp_klimat_settings_warm_on=TBOXWARMON;
000830  4d55              LDR      r5,|L1.2440|
000832  882d              LDRH     r5,[r5,#0]  ; TBOXWARMON
000834  804d              STRH     r5,[r1,#2]
;;;607    snmp_klimat_settings_warm_off=TBOXWARMOFF;
000836  4d55              LDR      r5,|L1.2444|
000838  882d              LDRH     r5,[r5,#0]  ; TBOXWARMOFF
00083a  808d              STRH     r5,[r1,#4]
;;;608    snmp_klimat_settings_load_on=TLOADENABLE;
00083c  4d54              LDR      r5,|L1.2448|
00083e  882d              LDRH     r5,[r5,#0]  ; TLOADENABLE
000840  80cd              STRH     r5,[r1,#6]
;;;609    snmp_klimat_settings_load_off=TLOADDISABLE;
000842  4d54              LDR      r5,|L1.2452|
000844  882d              LDRH     r5,[r5,#0]  ; TLOADDISABLE
000846  810d              STRH     r5,[r1,#8]
;;;610    snmp_klimat_settings_batt_on=TBATENABLE;
000848  4d53              LDR      r5,|L1.2456|
00084a  882d              LDRH     r5,[r5,#0]  ; TBATENABLE
00084c  814d              STRH     r5,[r1,#0xa]
;;;611    snmp_klimat_settings_batt_off=TBATDISABLE;
00084e  4d53              LDR      r5,|L1.2460|
000850  882d              LDRH     r5,[r5,#0]  ; TBATDISABLE
000852  818d              STRH     r5,[r1,#0xc]
;;;612    
;;;613    snmp_dt_ext=t_ext[0];
000854  4d52              LDR      r5,|L1.2464|
000856  81cb              STRH     r3,[r1,#0xe]
;;;614    snmp_dt_msan=t_ext[1];
000858  f9b57002          LDRSH    r7,[r5,#2]  ; t_ext
00085c  820f              STRH     r7,[r1,#0x10]
;;;615    snmp_dt_epu=t_ext[2];
00085e  f9b5c004          LDRSH    r12,[r5,#4]  ; t_ext
000862  f8a1c012          STRH     r12,[r1,#0x12]
;;;616    
;;;617    /*
;;;618    snmp_bat_voltage=Ubat;
;;;619    snmp_bat_current=Ibat;
;;;620    snmp_bat_temperature=t_b;
;;;621    if(BAT_C_REAL==0x5555)
;;;622    	{
;;;623    	snmp_bat_capacity=BAT_C_NOM*10;												    11
;;;624    	}
;;;625    else
;;;626    	{
;;;627    	snmp_bat_capacity=BAT_C_REAL;
;;;628    	}
;;;629    snmp_bat_charge=zar_percent;
;;;630    snmp_bat_status=0;
;;;631    if(St&0x02)snmp_bat_status|=0x01;
;;;632    if(Ibat>0)snmp_bat_status|=0x02;
;;;633    
;;;634    
;;;635    if(spc_stat==spc_OFF) snmp_spc_stat=0;
;;;636    else if(spc_stat==spc_KE) snmp_spc_stat=1;
;;;637    else if(spc_stat==spc_VZ) snmp_spc_stat=10;
;;;638    
;;;639    
;;;640    snmp_main_bps=MAIN_IST+1;
;;;641    */
;;;642    snmp_zv_en=ZV_ON;
000866  494f              LDR      r1,|L1.2468|
000868  f5a675b6          SUB      r5,r6,#0x16c
00086c  8809              LDRH     r1,[r1,#0]  ; ZV_ON
00086e  f8a5104c          STRH     r1,[r5,#0x4c]
;;;643    snmp_alarm_auto_disable=AV_OFF_AVT;
000872  494d              LDR      r1,|L1.2472|
000874  8809              LDRH     r1,[r1,#0]  ; AV_OFF_AVT
000876  f8a5104e          STRH     r1,[r5,#0x4e]
;;;644    snmp_bat_test_time=TBAT;
00087a  494c              LDR      r1,|L1.2476|
00087c  8809              LDRH     r1,[r1,#0]  ; TBAT
00087e  f8a51050          STRH     r1,[r5,#0x50]
;;;645    snmp_u_max=UMAX;
000882  494b              LDR      r1,|L1.2480|
000884  8809              LDRH     r1,[r1,#0]  ; UMAX
000886  f8a51052          STRH     r1,[r5,#0x52]
;;;646    snmp_u_min=UB20-DU;
00088a  494a              LDR      r1,|L1.2484|
00088c  4d4a              LDR      r5,|L1.2488|
00088e  f5a676b6          SUB      r6,r6,#0x16c
000892  8809              LDRH     r1,[r1,#0]  ; UB20
000894  882d              LDRH     r5,[r5,#0]  ; DU
000896  eba10505          SUB      r5,r1,r5
00089a  f8a65054          STRH     r5,[r6,#0x54]
;;;647    snmp_u_0_grad=UB0;
00089e  4d47              LDR      r5,|L1.2492|
0008a0  882d              LDRH     r5,[r5,#0]  ; UB0
0008a2  f8a65056          STRH     r5,[r6,#0x56]
;;;648    snmp_u_20_grad=UB20;
0008a6  4635              MOV      r5,r6
0008a8  f8a51058          STRH     r1,[r5,#0x58]
;;;649    snmp_u_sign=USIGN;
0008ac  4944              LDR      r1,|L1.2496|
0008ae  8809              LDRH     r1,[r1,#0]  ; USIGN
0008b0  f8a5105a          STRH     r1,[r5,#0x5a]
;;;650    snmp_u_min_power=UMN;
0008b4  4943              LDR      r1,|L1.2500|
0008b6  8809              LDRH     r1,[r1,#0]  ; UMN
0008b8  f8a5105c          STRH     r1,[r5,#0x5c]
;;;651    snmp_u_withouth_bat=U0B;
0008bc  4942              LDR      r1,|L1.2504|
0008be  8809              LDRH     r1,[r1,#0]  ; U0B
0008c0  f8a5105e          STRH     r1,[r5,#0x5e]
;;;652    snmp_control_current=IKB;
0008c4  4941              LDR      r1,|L1.2508|
0008c6  8809              LDRH     r1,[r1,#0]  ; IKB
0008c8  f8a51060          STRH     r1,[r5,#0x60]
;;;653    snmp_max_charge_current=IZMAX;
0008cc  4940              LDR      r1,|L1.2512|
0008ce  8809              LDRH     r1,[r1,#0]  ; IZMAX
0008d0  f8a51062          STRH     r1,[r5,#0x62]
;;;654    snmp_max_current=IMAX;
0008d4  493f              LDR      r1,|L1.2516|
0008d6  8809              LDRH     r1,[r1,#0]  ; IMAX
0008d8  f8a51064          STRH     r1,[r5,#0x64]
;;;655    snmp_min_current=IMIN;
0008dc  493e              LDR      r1,|L1.2520|
0008de  880d              LDRH     r5,[r1,#0]  ; IMIN
0008e0  4631              MOV      r1,r6
0008e2  f8a15066          STRH     r5,[r1,#0x66]
;;;656    //snmp_max_current_koef=KIMAX;
;;;657    snmp_uvz=UVZ;
0008e6  493d              LDR      r1,|L1.2524|
0008e8  4635              MOV      r5,r6
0008ea  8809              LDRH     r1,[r1,#0]  ; UVZ
0008ec  f8a51068          STRH     r1,[r5,#0x68]
;;;658    snmp_powerup_psu_timeout=TZAS;
0008f0  493b              LDR      r1,|L1.2528|
0008f2  8809              LDRH     r1,[r1,#0]  ; TZAS
0008f4  f8a5106a          STRH     r1,[r5,#0x6a]
;;;659    snmp_max_temperature=TMAX;
0008f8  493a              LDR      r1,|L1.2532|
0008fa  8809              LDRH     r1,[r1,#0]  ; TMAX
0008fc  f8a5106c          STRH     r1,[r5,#0x6c]
;;;660    snmp_tsign_bat=TBATSIGN; 
000900  4d39              LDR      r5,|L1.2536|
000902  882d              LDRH     r5,[r5,#0]  ; TBATSIGN
000904  f8a6506e          STRH     r5,[r6,#0x6e]
;;;661    snmp_tmax_bat=TBATMAX;
000908  4d38              LDR      r5,|L1.2540|
00090a  882d              LDRH     r5,[r5,#0]  ; TBATMAX
00090c  f8a65070          STRH     r5,[r6,#0x70]
;;;662    snmp_tsign_bps=TSIGN;
000910  4d37              LDR      r5,|L1.2544|
000912  882d              LDRH     r5,[r5,#0]  ; TSIGN
000914  f8a65072          STRH     r5,[r6,#0x72]
;;;663    snmp_tmax_bps=TMAX;
000918  4635              MOV      r5,r6
00091a  f8a51074          STRH     r1,[r5,#0x74]
;;;664    snmp_bat_part_alarm=UBM_AV; 
00091e  4935              LDR      r1,|L1.2548|
000920  880d              LDRH     r5,[r1,#0]  ; UBM_AV
000922  4631              MOV      r1,r6
000924  f8a15076          STRH     r5,[r1,#0x76]
;;;665    snmp_power_cnt_adress=POWER_CNT_ADRESS;
000928  4933              LDR      r1,|L1.2552|
00092a  4635              MOV      r5,r6
00092c  8809              LDRH     r1,[r1,#0]  ; POWER_CNT_ADRESS
00092e  f8a51078          STRH     r1,[r5,#0x78]
;;;666    
;;;667    for(i=0;i<12;i++)
000932  f04f0100          MOV      r1,#0
;;;668    	{
;;;669    	snmp_avt_number[i]=i+1;
000936  f8df8030          LDR      r8,|L1.2408|
;;;670    	if(avt_stat[i]==avtOFF)snmp_avt_stat[i]=0;
00093a  f8df90c0          LDR      r9,|L1.2556|
00093e  f1a80854          SUB      r8,r8,#0x54           ;669
000942  f108060c          ADD      r6,r8,#0xc
                  |L1.2374|
000946  f1010501          ADD      r5,r1,#1              ;669
00094a  f8085001          STRB     r5,[r8,r1]            ;669
00094e  e057              B        |L1.2560|
                  |L1.2384|
                          DCD      SK_SIGN
                  |L1.2388|
                          DCD      sk_av_stat
                  |L1.2392|
                          DCD      ||.data||+0xd4
                  |L1.2396|
00095c  53686f63          DCB      "Shock",0
000960  6b00    
000962  00                DCB      0
000963  00                DCB      0
                  |L1.2404|
                          DCD      sk_stat
                  |L1.2408|
                          DCD      ||.bss||+0x180
                  |L1.2412|
00096c  20202020          DCB      "     ",0
000970  2000    
000972  00                DCB      0
000973  00                DCB      0
                  |L1.2420|
                          DCD      makb
                  |L1.2424|
                          DCD      t_box
                  |L1.2428|
                          DCD      TBOXMAX
                  |L1.2432|
                          DCD      TBOXVENTON
                  |L1.2436|
                          DCD      TBOXVENTOFF
                  |L1.2440|
                          DCD      TBOXWARMON
                  |L1.2444|
                          DCD      TBOXWARMOFF
                  |L1.2448|
                          DCD      TLOADENABLE
                  |L1.2452|
                          DCD      TLOADDISABLE
                  |L1.2456|
                          DCD      TBATENABLE
                  |L1.2460|
                          DCD      TBATDISABLE
                  |L1.2464|
                          DCD      t_ext
                  |L1.2468|
                          DCD      ZV_ON
                  |L1.2472|
                          DCD      AV_OFF_AVT
                  |L1.2476|
                          DCD      TBAT
                  |L1.2480|
                          DCD      UMAX
                  |L1.2484|
                          DCD      UB20
                  |L1.2488|
                          DCD      ||DU||
                  |L1.2492|
                          DCD      UB0
                  |L1.2496|
                          DCD      USIGN
                  |L1.2500|
                          DCD      UMN
                  |L1.2504|
                          DCD      U0B
                  |L1.2508|
                          DCD      IKB
                  |L1.2512|
                          DCD      IZMAX
                  |L1.2516|
                          DCD      IMAX
                  |L1.2520|
                          DCD      IMIN
                  |L1.2524|
                          DCD      UVZ
                  |L1.2528|
                          DCD      TZAS
                  |L1.2532|
                          DCD      TMAX
                  |L1.2536|
                          DCD      TBATSIGN
                  |L1.2540|
                          DCD      TBATMAX
                  |L1.2544|
                          DCD      TSIGN
                  |L1.2548|
                          DCD      UBM_AV
                  |L1.2552|
                          DCD      POWER_CNT_ADRESS
                  |L1.2556|
                          DCD      avt_stat
                  |L1.2560|
000a00  f819a001          LDRB     r10,[r9,r1]
000a04  f1ba0f00          CMP      r10,#0
000a08  d07d              BEQ      |L1.2822|
;;;671    	else snmp_avt_stat[i]=1;
000a0a  5470              STRB     r0,[r6,r1]
                  |L1.2572|
000a0c  b2e9              UXTB     r1,r5                 ;667
000a0e  290c              CMP      r1,#0xc               ;667
000a10  d399              BCC      |L1.2374|
;;;672    	}
;;;673    
;;;674    snmp_dt_number[0]=1;
000a12  49fa              LDR      r1,|L1.3580|
000a14  7008              STRB     r0,[r1,#0]
;;;675    snmp_dt_number[1]=2;
000a16  f881b001          STRB     r11,[r1,#1]
;;;676    snmp_dt_number[2]=3;
000a1a  f04f0403          MOV      r4,#3
000a1e  708c              STRB     r4,[r1,#2]
;;;677    //snmp_dt_number[3]=4;
;;;678    snmp_dt_temper[0]=t_ext[0];
000a20  f1010172          ADD      r1,r1,#0x72
000a24  800b              STRH     r3,[r1,#0]
;;;679    snmp_dt_temper[1]=t_ext[1];
000a26  804f              STRH     r7,[r1,#2]
;;;680    snmp_dt_temper[2]=t_ext[2];
000a28  f8a1c004          STRH     r12,[r1,#4]
;;;681    //snmp_dt_temper[3]=t_ext[3];
;;;682    snmp_dt_error[0]=ND_EXT[0];
000a2c  4df4              LDR      r5,|L1.3584|
000a2e  4bf3              LDR      r3,|L1.3580|
000a30  f1030303          ADD      r3,r3,#3
000a34  7829              LDRB     r1,[r5,#0]  ; ND_EXT
000a36  7019              STRB     r1,[r3,#0]
;;;683    if(NUMDT<1)snmp_dt_error[0]=0xff;
000a38  49f2              LDR      r1,|L1.3588|
000a3a  f9b11000          LDRSH    r1,[r1,#0]  ; NUMDT
000a3e  2901              CMP      r1,#1
000a40  da00              BGE      |L1.2628|
000a42  701a              STRB     r2,[r3,#0]
                  |L1.2628|
;;;684    snmp_dt_error[1]=ND_EXT[1];
000a44  786e              LDRB     r6,[r5,#1]  ; ND_EXT
000a46  705e              STRB     r6,[r3,#1]
;;;685    if(NUMDT<2)snmp_dt_error[0]=0xff;
000a48  2902              CMP      r1,#2
000a4a  da00              BGE      |L1.2638|
000a4c  701a              STRB     r2,[r3,#0]
                  |L1.2638|
;;;686    snmp_dt_error[2]=ND_EXT[2];
000a4e  78ad              LDRB     r5,[r5,#2]  ; ND_EXT
000a50  709d              STRB     r5,[r3,#2]
;;;687    if(NUMDT<3)snmp_dt_error[0]=0xff;
000a52  2903              CMP      r1,#3
000a54  da00              BGE      |L1.2648|
000a56  701a              STRB     r2,[r3,#0]
                  |L1.2648|
;;;688    //snmp_dt_error[3]=ND_EXT[3];
;;;689    if(NUMDT<4)snmp_dt_error[0]=0xff;
000a58  2904              CMP      r1,#4
000a5a  da00              BGE      |L1.2654|
000a5c  701a              STRB     r2,[r3,#0]
                  |L1.2654|
;;;690    
;;;691    /*
;;;692    //Литиевые батареи
;;;693    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;694    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;695    snmp_lakb_voltage[0]=lakb[0]._tot_bat_volt;				//Напряжение ЛАКБ
;;;696    snmp_lakb_voltage[1]=lakb[1]._tot_bat_volt;				//Напряжение ЛАКБ
;;;697    snmp_lakb_max_cell_voltage[0]=lakb[0]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;698    snmp_lakb_max_cell_voltage[1]=lakb[1]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;699    snmp_lakb_min_cell_voltage[0]=lakb[0]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;700    snmp_lakb_min_cell_voltage[1]=lakb[1]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;701    snmp_lakb_max_cell_temperature[0]=lakb[0]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;702    snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;703    snmp_lakb_min_cell_temperature[0]=lakb[0]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;704    snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;705    snmp_lakb_ch_curr[0]=lakb[0]._ch_curr;					//Ток заряда ЛАКБ
;;;706    snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;707    snmp_lakb_dsch_curr[0]=lakb[0]._dsch_curr;				//Ток разряда ЛАКБ
;;;708    snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;709    snmp_lakb_rat_cap[0]=lakb[0]._rat_cap;					//Номинальная емкость ЛАКБ
;;;710    snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;711    snmp_lakb_soh[0]=lakb[0]._s_o_h;						//Остаточная емкость ЛАКБ
;;;712    snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;713    snmp_lakb_soc[0]=lakb[0]._s_o_c;						//Заряд ЛАКБ
;;;714    snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;715    snmp_lakb_cclv[0]=lakb[0]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;716    snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;717    snmp_lakb_rbt[0]=lakb[0]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;718    snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;719    snmp_lakb_flags1[0]=lakb[0]._flags1;					//Первый флаг состояния ЛАКБ
;;;720    snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;721    snmp_lakb_flags2[0]=lakb[0]._flags2;					//Второй флаг состояния ЛАКБ
;;;722    snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ */
;;;723    
;;;724    //Литиевые батареи
;;;725    snmp_lakb_number[0]=1;								//Номер ЛАКБ
000a5e  49ea              LDR      r1,|L1.3592|
000a60  8008              STRH     r0,[r1,#0]
;;;726    snmp_lakb_number[1]=2;								//Номер ЛАКБ
000a62  f8a1b002          STRH     r11,[r1,#2]
;;;727    snmp_lakb_number[2]=3;								//Номер ЛАКБ
000a66  808c              STRH     r4,[r1,#4]
;;;728    snmp_lakb_number[3]=4;								//Номер ЛАКБ
000a68  f8a1e006          STRH     lr,[r1,#6]
;;;729    snmp_lakb_number[4]=5;								//Номер ЛАКБ
000a6c  f04f0005          MOV      r0,#5
000a70  8108              STRH     r0,[r1,#8]
;;;730    snmp_lakb_number[5]=6;								//Номер ЛАКБ
000a72  f04f0006          MOV      r0,#6
000a76  8148              STRH     r0,[r1,#0xa]
;;;731    snmp_lakb_number[6]=7;								//Номер ЛАКБ
000a78  f04f0007          MOV      r0,#7
000a7c  8188              STRH     r0,[r1,#0xc]
;;;732    
;;;733    for (i=0;i<3;i++)
000a7e  f04f0000          MOV      r0,#0
;;;734    	{
;;;735    	snmp_lakb_voltage[i]=lakb[i]._tot_bat_volt;				//Напряжение ЛАКБ
000a82  4de2              LDR      r5,|L1.3596|
000a84  f101030e          ADD      r3,r1,#0xe
;;;736    	snmp_lakb_max_cell_voltage[i]=lakb[i]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
000a88  f101061c          ADD      r6,r1,#0x1c
;;;737    	snmp_lakb_min_cell_voltage[i]=lakb[i]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
000a8c  f101072a          ADD      r7,r1,#0x2a
;;;738    	snmp_lakb_max_cell_temperature[i]=lakb[i]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
000a90  f1010c38          ADD      r12,r1,#0x38
;;;739    	//snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;740    	snmp_lakb_min_cell_temperature[i]=lakb[i]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
000a94  f1010846          ADD      r8,r1,#0x46
;;;741    	//snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;742    	snmp_lakb_ch_curr[i]=lakb[i]._ch_curr;					//Ток заряда ЛАКБ
000a98  f1010954          ADD      r9,r1,#0x54
;;;743    	//snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;744    	snmp_lakb_dsch_curr[i]=lakb[i]._dsch_curr;				//Ток разряда ЛАКБ
000a9c  f1010a62          ADD      r10,r1,#0x62
;;;745    	//snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;746    	snmp_lakb_rat_cap[i]=lakb[i]._rat_cap;					//Номинальная емкость ЛАКБ
000aa0  f1010b70          ADD      r11,r1,#0x70
;;;747    	//snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;748    	snmp_lakb_soh[i]=lakb[i]._s_o_h;						//Остаточная емкость ЛАКБ
000aa4  f1010e7e          ADD      lr,r1,#0x7e
                  |L1.2728|
000aa8  eb000140          ADD      r1,r0,r0,LSL #1       ;735
000aac  eb011200          ADD      r2,r1,r0,LSL #4       ;735
000ab0  eb050182          ADD      r1,r5,r2,LSL #2       ;735
000ab4  890c              LDRH     r4,[r1,#8]            ;735
000ab6  f8234010          STRH     r4,[r3,r0,LSL #1]     ;735
000aba  f8352022          LDRH     r2,[r5,r2,LSL #2]     ;736
000abe  f8262010          STRH     r2,[r6,r0,LSL #1]     ;736
000ac2  884a              LDRH     r2,[r1,#2]            ;737
000ac4  f8272010          STRH     r2,[r7,r0,LSL #1]     ;737
000ac8  888a              LDRH     r2,[r1,#4]            ;738
000aca  f82c2010          STRH     r2,[r12,r0,LSL #1]    ;738
000ace  88ca              LDRH     r2,[r1,#6]            ;740
000ad0  f8282010          STRH     r2,[r8,r0,LSL #1]     ;740
000ad4  894a              LDRH     r2,[r1,#0xa]          ;742
000ad6  f8292010          STRH     r2,[r9,r0,LSL #1]     ;742
000ada  898a              LDRH     r2,[r1,#0xc]          ;744
000adc  f82a2010          STRH     r2,[r10,r0,LSL #1]    ;744
000ae0  89ca              LDRH     r2,[r1,#0xe]          ;746
000ae2  f82b2010          STRH     r2,[r11,r0,LSL #1]    ;746
000ae6  8a0a              LDRH     r2,[r1,#0x10]
000ae8  f82e2010          STRH     r2,[lr,r0,LSL #1]
;;;749    	//snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;750    	snmp_lakb_soc[i]=lakb[i]._s_o_c;						//Заряд ЛАКБ
000aec  4ac6              LDR      r2,|L1.3592|
000aee  8a4c              LDRH     r4,[r1,#0x12]
000af0  f102028c          ADD      r2,r2,#0x8c
000af4  f8224010          STRH     r4,[r2,r0,LSL #1]
;;;751    	//snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;752    	snmp_lakb_cclv[i]=lakb[i]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
000af8  f102020e          ADD      r2,r2,#0xe
000afc  8a8c              LDRH     r4,[r1,#0x14]
000afe  f8224010          STRH     r4,[r2,r0,LSL #1]
;;;753    	//snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;754    	snmp_lakb_rbt[i]=lakb[i]._r_b_t;						//Оцениваемое время работы ЛАКБ
000b02  8acc              LDRH     r4,[r1,#0x16]
000b04  e000              B        |L1.2824|
                  |L1.2822|
000b06  e03b              B        |L1.2944|
                  |L1.2824|
000b08  f102020e          ADD      r2,r2,#0xe
000b0c  f8224010          STRH     r4,[r2,r0,LSL #1]
;;;755    	//snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;756    	snmp_lakb_flags1[i]=lakb[i]._flags1;					//Первый флаг состояния ЛАКБ
000b10  f102020e          ADD      r2,r2,#0xe
000b14  8b4c              LDRH     r4,[r1,#0x1a]
000b16  f8224010          STRH     r4,[r2,r0,LSL #1]
;;;757    	//snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;758    	snmp_lakb_flags2[i]=lakb[i]._flags2;					//Второй флаг состояния ЛАКБ
000b1a  f102020e          ADD      r2,r2,#0xe
000b1e  8b8c              LDRH     r4,[r1,#0x1c]
000b20  f8224010          STRH     r4,[r2,r0,LSL #1]
;;;759    	//snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ
;;;760    
;;;761    	snmp_lakb_cell_temperature_1[i]= lakb[i]._cell_temp_1;
000b24  4ab5              LDR      r2,|L1.3580|
000b26  f891403a          LDRB     r4,[r1,#0x3a]
000b2a  f1020206          ADD      r2,r2,#6
000b2e  5414              STRB     r4,[r2,r0]
;;;762    	snmp_lakb_cell_temperature_2[i]= lakb[i]._cell_temp_2;
000b30  4cb2              LDR      r4,|L1.3580|
000b32  f891203b          LDRB     r2,[r1,#0x3b]
000b36  f1040409          ADD      r4,r4,#9
000b3a  5422              STRB     r2,[r4,r0]
;;;763    	snmp_lakb_cell_temperature_3[i]= lakb[i]._cell_temp_3;
000b3c  f1040403          ADD      r4,r4,#3
000b40  f891203c          LDRB     r2,[r1,#0x3c]
000b44  5422              STRB     r2,[r4,r0]
;;;764    	snmp_lakb_cell_temperature_4[i]= lakb[i]._cell_temp_4;
000b46  f1040403          ADD      r4,r4,#3
000b4a  f891203d          LDRB     r2,[r1,#0x3d]
000b4e  5422              STRB     r2,[r4,r0]
;;;765    	snmp_lakb_cell_temperature_ambient[i]=lakb[i]._cell_temp_ambient;
000b50  f1040403          ADD      r4,r4,#3
000b54  f891203e          LDRB     r2,[r1,#0x3e]
000b58  5422              STRB     r2,[r4,r0]
;;;766    	snmp_lakb_cell_temperature_power[i]=lakb[i]._cell_temp_power;
000b5a  f1040203          ADD      r2,r4,#3
000b5e  f891103f          LDRB     r1,[r1,#0x3f]
000b62  5411              STRB     r1,[r2,r0]
000b64  f1000001          ADD      r0,r0,#1              ;733
000b68  b2c0              UXTB     r0,r0                 ;733
000b6a  2803              CMP      r0,#3                 ;733
000b6c  d39c              BCC      |L1.2728|
;;;767    	}
;;;768    
;;;769    for (i=0;i<7;i++)
000b6e  f04f0000          MOV      r0,#0
                  |L1.2930|
000b72  f1000001          ADD      r0,r0,#1
000b76  b2c0              UXTB     r0,r0
000b78  2807              CMP      r0,#7
000b7a  d3fa              BCC      |L1.2930|
;;;770    {
;;;771    /*
;;;772    snmp_lakb_damp1[i][0]=ABCDEF[(lakb_damp[i][0])>>4];			//Дамп
;;;773    snmp_lakb_damp1[i][1]=ABCDEF[(lakb_damp[i][0])&0x0f];			//Дамп
;;;774    snmp_lakb_damp1[i][2]=' ';
;;;775    snmp_lakb_damp1[i][3]=ABCDEF[(lakb_damp[i][1])>>4];			//Дамп
;;;776    snmp_lakb_damp1[i][4]=ABCDEF[(lakb_damp[i][1])&0x0f];			//Дамп
;;;777    snmp_lakb_damp1[i][5]=' ';
;;;778    snmp_lakb_damp1[i][6]=ABCDEF[(lakb_damp[i][2])>>4];			//Дамп
;;;779    snmp_lakb_damp1[i][7]=ABCDEF[(lakb_damp[i][2])&0x0f];			//Дамп
;;;780    snmp_lakb_damp1[i][8]=' ';
;;;781    snmp_lakb_damp1[i][9]=ABCDEF[(lakb_damp[i][3])>>4];			//Дамп
;;;782    snmp_lakb_damp1[i][10]=ABCDEF[(lakb_damp[i][3])&0x0f];			//Дамп
;;;783    snmp_lakb_damp1[i][11]=' ';
;;;784    snmp_lakb_damp1[i][12]=ABCDEF[(lakb_damp[i][4])>>4];			//Дамп
;;;785    snmp_lakb_damp1[i][13]=ABCDEF[(lakb_damp[i][4])&0x0f];			//Дамп
;;;786    snmp_lakb_damp1[i][14]=' '; 
;;;787    snmp_lakb_damp1[i][15]=ABCDEF[(lakb_damp[i][5])>>4];			//Дамп
;;;788    snmp_lakb_damp1[i][16]=ABCDEF[(lakb_damp[i][5])&0x0f];			//Дамп
;;;789    snmp_lakb_damp1[i][17]=' ';
;;;790    snmp_lakb_damp1[i][18]=ABCDEF[(lakb_damp[i][6])>>4];			//Дамп
;;;791    snmp_lakb_damp1[i][19]=ABCDEF[(lakb_damp[i][6])&0x0f];			//Дамп
;;;792    snmp_lakb_damp1[i][20]=' ';
;;;793    snmp_lakb_damp1[i][21]=ABCDEF[(lakb_damp[i][7])>>4];			//Дамп
;;;794    snmp_lakb_damp1[i][22]=ABCDEF[(lakb_damp[i][7])&0x0f];			//Дамп
;;;795    snmp_lakb_damp1[i][23]=' ';
;;;796    snmp_lakb_damp1[i][24]=ABCDEF[(lakb_damp[i][8])>>4];			//Дамп
;;;797    snmp_lakb_damp1[i][25]=ABCDEF[(lakb_damp[i][8])&0x0f];			//Дамп
;;;798    snmp_lakb_damp1[i][26]=' ';
;;;799    snmp_lakb_damp1[i][27]=ABCDEF[(lakb_damp[i][9])>>4];			//Дамп
;;;800    snmp_lakb_damp1[i][28]=ABCDEF[(lakb_damp[i][9])&0x0f];			//Дамп
;;;801    snmp_lakb_damp1[i][29]=0; 
;;;802    
;;;803    snmp_lakb_damp1[i][30]=ABCDEF[(lakb_damp[i][10])>>4];			//Дамп
;;;804    snmp_lakb_damp1[i][31]=ABCDEF[(lakb_damp[i][10])&0x0f];			//Дамп
;;;805    snmp_lakb_damp1[i][32]=' ';
;;;806    snmp_lakb_damp1[i][33]=ABCDEF[(lakb_damp[i][11])>>4];			//Дамп
;;;807    snmp_lakb_damp1[i][34]=ABCDEF[(lakb_damp[i][11])&0x0f];			//Дамп
;;;808    snmp_lakb_damp1[i][35]=' ';
;;;809    snmp_lakb_damp1[i][36]=ABCDEF[(lakb_damp[i][12])>>4];			//Дамп
;;;810    snmp_lakb_damp1[i][37]=ABCDEF[(lakb_damp[i][12])&0x0f];			//Дамп
;;;811    snmp_lakb_damp1[i][38]=' ';
;;;812    snmp_lakb_damp1[i][39]=ABCDEF[(lakb_damp[i][13])>>4];			//Дамп
;;;813    snmp_lakb_damp1[i][40]=ABCDEF[(lakb_damp[i][13])&0x0f];			//Дамп
;;;814    snmp_lakb_damp1[i][41]=' ';
;;;815    snmp_lakb_damp1[i][42]=ABCDEF[(lakb_damp[i][14])>>4];			//Дамп
;;;816    snmp_lakb_damp1[i][43]=ABCDEF[(lakb_damp[i][14])&0x0f];			//Дамп
;;;817    snmp_lakb_damp1[i][44]=' '; 
;;;818    snmp_lakb_damp1[i][45]=ABCDEF[(lakb_damp[i][15])>>4];			//Дамп
;;;819    snmp_lakb_damp1[i][46]=ABCDEF[(lakb_damp[i][15])&0x0f];			//Дамп
;;;820    snmp_lakb_damp1[i][47]=' ';
;;;821    snmp_lakb_damp1[i][48]=ABCDEF[(lakb_damp[i][16])>>4];			//Дамп
;;;822    snmp_lakb_damp1[i][49]=ABCDEF[(lakb_damp[i][16])&0x0f];			//Дамп
;;;823    snmp_lakb_damp1[i][50]=' ';
;;;824    snmp_lakb_damp1[i][51]=ABCDEF[(lakb_damp[i][17])>>4];			//Дамп
;;;825    snmp_lakb_damp1[i][52]=ABCDEF[(lakb_damp[i][17])&0x0f];			//Дамп
;;;826    snmp_lakb_damp1[i][53]=' ';
;;;827    snmp_lakb_damp1[i][54]=ABCDEF[(lakb_damp[i][18])>>4];			//Дамп
;;;828    snmp_lakb_damp1[i][55]=ABCDEF[(lakb_damp[i][18])&0x0f];			//Дамп
;;;829    snmp_lakb_damp1[i][56]=' ';
;;;830    snmp_lakb_damp1[i][57]=ABCDEF[(lakb_damp[i][19])>>4];			//Дамп
;;;831    snmp_lakb_damp1[i][58]=ABCDEF[(lakb_damp[i][19])&0x0f];			//Дамп
;;;832    snmp_lakb_damp1[i][59]=0; 
;;;833    
;;;834    
;;;835    snmp_lakb_damp1[i][60]=ABCDEF[(lakb_damp[i][20])>>4];			//Дамп
;;;836    snmp_lakb_damp1[i][61]=ABCDEF[(lakb_damp[i][20])&0x0f];			//Дамп
;;;837    snmp_lakb_damp1[i][62]=' ';
;;;838    snmp_lakb_damp1[i][63]=ABCDEF[(lakb_damp[i][21])>>4];			//Дамп
;;;839    snmp_lakb_damp1[i][64]=ABCDEF[(lakb_damp[i][21])&0x0f];			//Дамп
;;;840    snmp_lakb_damp1[i][65]=' ';
;;;841    snmp_lakb_damp1[i][66]=ABCDEF[(lakb_damp[i][22])>>4];			//Дамп
;;;842    snmp_lakb_damp1[i][67]=ABCDEF[(lakb_damp[i][22])&0x0f];			//Дамп
;;;843    snmp_lakb_damp1[i][68]=' ';
;;;844    snmp_lakb_damp1[i][69]=ABCDEF[(lakb_damp[i][23])>>4];			//Дамп
;;;845    snmp_lakb_damp1[i][70]=ABCDEF[(lakb_damp[i][23])&0x0f];			//Дамп
;;;846    snmp_lakb_damp1[i][71]=' ';
;;;847    snmp_lakb_damp1[i][72]=ABCDEF[(lakb_damp[i][24])>>4];			//Дамп
;;;848    snmp_lakb_damp1[i][73]=ABCDEF[(lakb_damp[i][24])&0x0f];			//Дамп
;;;849    snmp_lakb_damp1[i][74]=' '; 
;;;850    snmp_lakb_damp1[i][75]=ABCDEF[(lakb_damp[i][25])>>4];			//Дамп
;;;851    snmp_lakb_damp1[i][76]=ABCDEF[(lakb_damp[i][25])&0x0f];			//Дамп
;;;852    snmp_lakb_damp1[i][77]=' ';
;;;853    snmp_lakb_damp1[i][78]=ABCDEF[(lakb_damp[i][26])>>4];			//Дамп
;;;854    snmp_lakb_damp1[i][79]=ABCDEF[(lakb_damp[i][26])&0x0f];			//Дамп
;;;855    snmp_lakb_damp1[i][80]=' ';
;;;856    snmp_lakb_damp1[i][81]=ABCDEF[(lakb_damp[i][27])>>4];			//Дамп
;;;857    snmp_lakb_damp1[i][82]=ABCDEF[(lakb_damp[i][27])&0x0f];			//Дамп
;;;858    snmp_lakb_damp1[i][83]=' ';
;;;859    snmp_lakb_damp1[i][84]=ABCDEF[(lakb_damp[i][28])>>4];			//Дамп
;;;860    snmp_lakb_damp1[i][85]=ABCDEF[(lakb_damp[i][28])&0x0f];			//Дамп
;;;861    snmp_lakb_damp1[i][86]=' ';
;;;862    snmp_lakb_damp1[i][87]=ABCDEF[(lakb_damp[i][29])>>4];			//Дамп
;;;863    snmp_lakb_damp1[i][88]=ABCDEF[(lakb_damp[i][29])&0x0f];			//Дамп
;;;864    snmp_lakb_damp1[i][89]=0;
;;;865    
;;;866    
;;;867    snmp_lakb_damp1[i][90]=ABCDEF[(lakb_damp[i][30])>>4];			//Дамп
;;;868    snmp_lakb_damp1[i][91]=ABCDEF[(lakb_damp[i][30])&0x0f];			//Дамп
;;;869    snmp_lakb_damp1[i][92]=' ';
;;;870    snmp_lakb_damp1[i][93]=ABCDEF[(lakb_damp[i][31])>>4];			//Дамп
;;;871    snmp_lakb_damp1[i][94]=ABCDEF[(lakb_damp[i][31])&0x0f];			//Дамп
;;;872    snmp_lakb_damp1[i][95]=' ';
;;;873    snmp_lakb_damp1[i][96]=ABCDEF[(lakb_damp[i][32])>>4];			//Дамп
;;;874    snmp_lakb_damp1[i][97]=ABCDEF[(lakb_damp[i][32])&0x0f];			//Дамп
;;;875    snmp_lakb_damp1[i][98]=' ';
;;;876    snmp_lakb_damp1[i][99]=ABCDEF[(lakb_damp[i][33])>>4];			//Дамп
;;;877    snmp_lakb_damp1[i][100]=ABCDEF[(lakb_damp[i][33])&0x0f];			//Дамп
;;;878    snmp_lakb_damp1[i][101]=' ';
;;;879    snmp_lakb_damp1[i][102]=ABCDEF[(lakb_damp[i][34])>>4];			//Дамп
;;;880    snmp_lakb_damp1[i][103]=ABCDEF[(lakb_damp[i][34])&0x0f];			//Дамп
;;;881    snmp_lakb_damp1[i][104]=' '; 
;;;882    snmp_lakb_damp1[i][105]=ABCDEF[(lakb_damp[i][35])>>4];			//Дамп
;;;883    snmp_lakb_damp1[i][106]=ABCDEF[(lakb_damp[i][35])&0x0f];			//Дамп
;;;884    snmp_lakb_damp1[i][107]=' ';
;;;885    snmp_lakb_damp1[i][108]=ABCDEF[(lakb_damp[i][36])>>4];			//Дамп
;;;886    snmp_lakb_damp1[i][109]=ABCDEF[(lakb_damp[i][36])&0x0f];			//Дамп
;;;887    snmp_lakb_damp1[i][110]=' ';
;;;888    snmp_lakb_damp1[i][111]=ABCDEF[(lakb_damp[i][37])>>4];			//Дамп
;;;889    snmp_lakb_damp1[i][112]=ABCDEF[(lakb_damp[i][37])&0x0f];			//Дамп
;;;890    snmp_lakb_damp1[i][113]=' ';
;;;891    snmp_lakb_damp1[i][114]=ABCDEF[(lakb_damp[i][38])>>4];			//Дамп
;;;892    snmp_lakb_damp1[i][115]=ABCDEF[(lakb_damp[i][38])&0x0f];			//Дамп
;;;893    snmp_lakb_damp1[i][116]=' ';
;;;894    snmp_lakb_damp1[i][117]=ABCDEF[(lakb_damp[i][39])>>4];			//Дамп
;;;895    snmp_lakb_damp1[i][118]=ABCDEF[(lakb_damp[i][39])&0x0f];			//Дамп
;;;896    snmp_lakb_damp1[i][119]=0; 
;;;897     
;;;898    
;;;899    snmp_lakb_damp1[i][120]=ABCDEF[(lakb_damp[i][40])>>4];			//Дамп
;;;900    snmp_lakb_damp1[i][121]=ABCDEF[(lakb_damp[i][40])&0x0f];			//Дамп
;;;901    snmp_lakb_damp1[i][122]=' ';
;;;902    snmp_lakb_damp1[i][123]=ABCDEF[(lakb_damp[i][41])>>4];			//Дамп
;;;903    snmp_lakb_damp1[i][124]=ABCDEF[(lakb_damp[i][41])&0x0f];			//Дамп
;;;904    snmp_lakb_damp1[i][125]=' ';
;;;905    snmp_lakb_damp1[i][126]=ABCDEF[(lakb_damp[i][42])>>4];			//Дамп
;;;906    snmp_lakb_damp1[i][127]=ABCDEF[(lakb_damp[i][42])&0x0f];			//Дамп
;;;907    snmp_lakb_damp1[i][128]=' ';
;;;908    snmp_lakb_damp1[i][129]=ABCDEF[(lakb_damp[i][43])>>4];			//Дамп
;;;909    snmp_lakb_damp1[i][130]=ABCDEF[(lakb_damp[i][43])&0x0f];			//Дамп
;;;910    snmp_lakb_damp1[i][131]=' ';
;;;911    snmp_lakb_damp1[i][132]=ABCDEF[(lakb_damp[i][44])>>4];			//Дамп
;;;912    snmp_lakb_damp1[i][133]=ABCDEF[(lakb_damp[i][44])&0x0f];			//Дамп
;;;913    snmp_lakb_damp1[i][134]=' '; 
;;;914    snmp_lakb_damp1[i][135]=ABCDEF[(lakb_damp[i][45])>>4];			//Дамп
;;;915    snmp_lakb_damp1[i][136]=ABCDEF[(lakb_damp[i][45])&0x0f];			//Дамп
;;;916    snmp_lakb_damp1[i][137]=' ';
;;;917    snmp_lakb_damp1[i][138]=ABCDEF[(lakb_damp[i][46])>>4];			//Дамп
;;;918    snmp_lakb_damp1[i][139]=ABCDEF[(lakb_damp[i][46])&0x0f];			//Дамп
;;;919    snmp_lakb_damp1[i][140]=' ';
;;;920    snmp_lakb_damp1[i][141]=ABCDEF[(lakb_damp[i][47])>>4];			//Дамп
;;;921    snmp_lakb_damp1[i][142]=ABCDEF[(lakb_damp[i][47])&0x0f];			//Дамп
;;;922    snmp_lakb_damp1[i][143]=' ';
;;;923    snmp_lakb_damp1[i][144]=ABCDEF[(lakb_damp[i][48])>>4];			//Дамп
;;;924    snmp_lakb_damp1[i][145]=ABCDEF[(lakb_damp[i][48])&0x0f];			//Дамп
;;;925    snmp_lakb_damp1[i][146]=' ';
;;;926    snmp_lakb_damp1[i][147]=ABCDEF[(lakb_damp[i][49])>>4];			//Дамп
;;;927    snmp_lakb_damp1[i][148]=ABCDEF[(lakb_damp[i][49])&0x0f];			//Дамп
;;;928    snmp_lakb_damp1[i][149]=0;  */
;;;929    }
;;;930    
;;;931    #ifdef UKU_TELECORE2017
;;;932    snmp_warm_sign=0;
;;;933    if(TELECORE2017_KLIMAT_WARM_SIGNAL==0) snmp_warm_sign=2;
;;;934    else if(TELECORE2017_KLIMAT_WARM_SIGNAL==1) snmp_warm_sign=1;
;;;935    snmp_cool_sign=0;
;;;936    if(TELECORE2017_KLIMAT_VENT_SIGNAL==0) snmp_cool_sign=2;
;;;937    else if(TELECORE2017_KLIMAT_VENT_SIGNAL==1) snmp_cool_sign=1;
;;;938    snmp_warm_on_temper=(signed char)TELECORE2017_KLIMAT_WARM_ON; 
;;;939    snmp_warm_off_temper=(signed char)TELECORE2017_KLIMAT_WARM_OFF;
;;;940    snmp_warm_q=(signed char)TELECORE2017_KLIMAT_CAP;	
;;;941    snmp_cool_20_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON20;
;;;942    snmp_cool_40_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON40;
;;;943    snmp_cool_60_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON60;
;;;944    snmp_cool_80_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON80;
;;;945    snmp_cool_100_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON100;
;;;946    snmp_cool_20_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON20;
;;;947    snmp_cool_40_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON40;
;;;948    snmp_cool_60_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON60;
;;;949    snmp_cool_80_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON80;
;;;950    snmp_cool_100_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON100;
;;;951    snmp_warm_stat=0;
;;;952    if(warm_stat_k==wsON) snmp_warm_stat=1;
;;;953    #endif
;;;954    }
000b7c  e8bd9ff0          POP      {r4-r12,pc}
                  |L1.2944|
000b80  5474              STRB     r4,[r6,r1]            ;670
000b82  e743              B        |L1.2572|
;;;955    //-----------------------------------------------
                          ENDP

                  snmp_location_write PROC
;;;965    //-----------------------------------------------
;;;966    void snmp_location_write (int mode) 
000b84  b570              PUSH     {r4-r6,lr}
;;;967    {
;;;968    char i;
;;;969    if(mode==MIB_WRITE)
000b86  2801              CMP      r0,#1
000b88  d10c              BNE      |L1.2980|
;;;970    	{
;;;971    	for(i=0;i<64;i++)
000b8a  f04f0400          MOV      r4,#0
;;;972    		{
;;;973    		lc640_write(EE_LOCATION+i,snmp_location[i]);
000b8e  4da0              LDR      r5,|L1.3600|
                  |L1.2960|
000b90  f5047065          ADD      r0,r4,#0x394
000b94  5d29              LDRB     r1,[r5,r4]
000b96  f7fffffe          BL       lc640_write
000b9a  f1040401          ADD      r4,r4,#1              ;971
000b9e  b2e4              UXTB     r4,r4                 ;971
000ba0  2c40              CMP      r4,#0x40              ;971
000ba2  d3f5              BCC      |L1.2960|
                  |L1.2980|
;;;974    		}
;;;975    	}
;;;976    }
000ba4  bd70              POP      {r4-r6,pc}
;;;977    
                          ENDP

                  snmp_alarm_aktiv_write1 PROC
;;;978    //-----------------------------------------------
;;;979    void snmp_alarm_aktiv_write1(int mode)
000ba6  2801              CMP      r0,#1
;;;980    {
;;;981    if(mode==MIB_WRITE)
000ba8  d10f              BNE      |L1.3018|
;;;982    	{
;;;983    	if(!snmp_sk_alarm_aktiv[0])   lc640_write_int(ADR_SK_SIGN[0],0xffff);
000baa  4894              LDR      r0,|L1.3580|
000bac  3048              ADDS     r0,r0,#0x48
000bae  7801              LDRB     r1,[r0,#0]  ; snmp_sk_alarm_aktiv
000bb0  4898              LDR      r0,|L1.3604|
000bb2  b121              CBZ      r1,|L1.3006|
;;;984    	else lc640_write_int(ADR_SK_SIGN[0],0);
000bb4  f9b00000          LDRSH    r0,[r0,#0]  ; ADR_SK_SIGN
000bb8  2100              MOVS     r1,#0
000bba  f7ffbffe          B.W      lc640_write_int
                  |L1.3006|
000bbe  f9b00000          LDRSH    r0,[r0,#0]            ;983  ; ADR_SK_SIGN
000bc2  f04f31ff          MOV      r1,#0xffffffff        ;983
000bc6  f7ffbffe          B.W      lc640_write_int
                  |L1.3018|
;;;985    	}
;;;986    }
000bca  4770              BX       lr
;;;987    
                          ENDP

                  snmp_alarm_aktiv_write2 PROC
;;;988    //-----------------------------------------------
;;;989    void snmp_alarm_aktiv_write2(int mode)
000bcc  2801              CMP      r0,#1
;;;990    {
;;;991    if(mode==MIB_WRITE)
000bce  d10f              BNE      |L1.3056|
;;;992    	{
;;;993    	if(!snmp_sk_alarm_aktiv[1])   lc640_write_int(ADR_SK_SIGN[1],0xffff);
000bd0  488a              LDR      r0,|L1.3580|
000bd2  3048              ADDS     r0,r0,#0x48
000bd4  7841              LDRB     r1,[r0,#1]  ; snmp_sk_alarm_aktiv
000bd6  488f              LDR      r0,|L1.3604|
000bd8  b121              CBZ      r1,|L1.3044|
;;;994    	else lc640_write_int(ADR_SK_SIGN[1],0);
000bda  f9b00002          LDRSH    r0,[r0,#2]  ; ADR_SK_SIGN
000bde  2100              MOVS     r1,#0
000be0  f7ffbffe          B.W      lc640_write_int
                  |L1.3044|
000be4  f9b00002          LDRSH    r0,[r0,#2]            ;993  ; ADR_SK_SIGN
000be8  f04f31ff          MOV      r1,#0xffffffff        ;993
000bec  f7ffbffe          B.W      lc640_write_int
                  |L1.3056|
;;;995    	}
;;;996    }
000bf0  4770              BX       lr
;;;997    
                          ENDP

                  snmp_zv_on_write PROC
;;;1027   //-----------------------------------------------
;;;1028   void snmp_zv_on_write (int mode)
000bf2  2801              CMP      r0,#1
;;;1029   {
;;;1030   if(mode==MIB_WRITE)
000bf4  d106              BNE      |L1.3076|
;;;1031   	{
;;;1032   	lc640_write_int(EE_ZV_ON,snmp_zv_en);
000bf6  4881              LDR      r0,|L1.3580|
000bf8  3894              SUBS     r0,r0,#0x94
000bfa  f9b0104c          LDRSH    r1,[r0,#0x4c]  ; snmp_zv_en
000bfe  2086              MOVS     r0,#0x86
000c00  f7ffbffe          B.W      lc640_write_int
                  |L1.3076|
;;;1033   	}
;;;1034   }
000c04  4770              BX       lr
;;;1035   
                          ENDP

                  snmp_alarm_auto_disable_write PROC
;;;1036   //-----------------------------------------------
;;;1037   void snmp_alarm_auto_disable_write (int mode)
000c06  2801              CMP      r0,#1
;;;1038   {
;;;1039   if(mode==MIB_WRITE)
000c08  d106              BNE      |L1.3096|
;;;1040   	{
;;;1041        lc640_write_int(EE_AV_OFF_AVT,snmp_alarm_auto_disable);
000c0a  487c              LDR      r0,|L1.3580|
000c0c  3894              SUBS     r0,r0,#0x94
000c0e  f9b0104e          LDRSH    r1,[r0,#0x4e]  ; snmp_alarm_auto_disable
000c12  2080              MOVS     r0,#0x80
000c14  f7ffbffe          B.W      lc640_write_int
                  |L1.3096|
;;;1042   	}
;;;1043   }
000c18  4770              BX       lr
;;;1044   
                          ENDP

                  snmp_bat_test_time_write PROC
;;;1045   //-----------------------------------------------
;;;1046   void snmp_bat_test_time_write (int mode)
000c1a  2801              CMP      r0,#1
;;;1047   {
;;;1048   if(mode==MIB_WRITE)
000c1c  d106              BNE      |L1.3116|
;;;1049   	{
;;;1050   	lc640_write_int(EE_TBAT,snmp_bat_test_time);
000c1e  4877              LDR      r0,|L1.3580|
000c20  3894              SUBS     r0,r0,#0x94
000c22  f9b01050          LDRSH    r1,[r0,#0x50]  ; snmp_bat_test_time
000c26  20c2              MOVS     r0,#0xc2
000c28  f7ffbffe          B.W      lc640_write_int
                  |L1.3116|
;;;1051   	}
;;;1052   }
000c2c  4770              BX       lr
;;;1053   
                          ENDP

                  snmp_u_max_write PROC
;;;1054   //-----------------------------------------------
;;;1055   void snmp_u_max_write (int mode)
000c2e  2801              CMP      r0,#1
;;;1056   {
;;;1057   if(mode==MIB_WRITE)
000c30  d106              BNE      |L1.3136|
;;;1058   	{
;;;1059        lc640_write_int(EE_UMAX,snmp_u_max);
000c32  4872              LDR      r0,|L1.3580|
000c34  3894              SUBS     r0,r0,#0x94
000c36  f9b01052          LDRSH    r1,[r0,#0x52]  ; snmp_u_max
000c3a  2078              MOVS     r0,#0x78
000c3c  f7ffbffe          B.W      lc640_write_int
                  |L1.3136|
;;;1060   	}
;;;1061   }
000c40  4770              BX       lr
;;;1062   
                          ENDP

                  snmp_u_min_write PROC
;;;1064   //-----------------------------------------------
;;;1065   void snmp_u_min_write (int mode)
000c42  2801              CMP      r0,#1
;;;1066   {
;;;1067   if(mode==MIB_WRITE)
000c44  d10a              BNE      |L1.3164|
;;;1068   	{
;;;1069        lc640_write_int(EE_DU,UB20-snmp_u_min);
000c46  496d              LDR      r1,|L1.3580|
000c48  4873              LDR      r0,|L1.3608|
000c4a  3994              SUBS     r1,r1,#0x94
000c4c  8800              LDRH     r0,[r0,#0]  ; UB20
000c4e  f8b11054          LDRH     r1,[r1,#0x54]  ; snmp_u_min
000c52  1a40              SUBS     r0,r0,r1
000c54  b201              SXTH     r1,r0
000c56  20c8              MOVS     r0,#0xc8
000c58  f7ffbffe          B.W      lc640_write_int
                  |L1.3164|
;;;1070   	}
;;;1071   }
000c5c  4770              BX       lr
;;;1072   
                          ENDP

                  snmp_u_ips_set_write PROC
;;;1073   //-----------------------------------------------
;;;1074   void snmp_u_ips_set_write (int mode)
000c5e  b510              PUSH     {r4,lr}
;;;1075   {
;;;1076   if(mode==MIB_WRITE)
000c60  2801              CMP      r0,#1
000c62  d10d              BNE      |L1.3200|
;;;1077   	{
;;;1078   	lc640_write_int(EE_UB0,snmp_u_0_grad);
000c64  4c65              LDR      r4,|L1.3580|
000c66  207a              MOVS     r0,#0x7a
000c68  3c94              SUBS     r4,r4,#0x94
000c6a  f9b41056          LDRSH    r1,[r4,#0x56]  ; snmp_u_0_grad
000c6e  f7fffffe          BL       lc640_write_int
;;;1079   	lc640_write_int(EE_UB20,snmp_u_0_grad);
000c72  f9b41056          LDRSH    r1,[r4,#0x56]  ; snmp_u_0_grad
000c76  e8bd4010          POP      {r4,lr}
000c7a  207c              MOVS     r0,#0x7c
000c7c  f7ffbffe          B.W      lc640_write_int
                  |L1.3200|
;;;1080   	}
;;;1081   }
000c80  bd10              POP      {r4,pc}
;;;1082   //-----------------------------------------------
                          ENDP

                  snmp_u_0_grad_write PROC
;;;1083   void snmp_u_0_grad_write (int mode)
000c82  2801              CMP      r0,#1
;;;1084   {
;;;1085   if(mode==MIB_WRITE)
000c84  d106              BNE      |L1.3220|
;;;1086   	{
;;;1087   	lc640_write_int(EE_UB0,snmp_u_0_grad);
000c86  485d              LDR      r0,|L1.3580|
000c88  3894              SUBS     r0,r0,#0x94
000c8a  f9b01056          LDRSH    r1,[r0,#0x56]  ; snmp_u_0_grad
000c8e  207a              MOVS     r0,#0x7a
000c90  f7ffbffe          B.W      lc640_write_int
                  |L1.3220|
;;;1088   	}
;;;1089   }
000c94  4770              BX       lr
;;;1090   //-----------------------------------------------
                          ENDP

                  snmp_u_20_grad_write PROC
;;;1091   void snmp_u_20_grad_write (int mode)
000c96  2801              CMP      r0,#1
;;;1092   {
;;;1093   if(mode==MIB_WRITE)
000c98  d106              BNE      |L1.3240|
;;;1094   	{
;;;1095   	lc640_write_int(EE_UB20,snmp_u_20_grad);
000c9a  4858              LDR      r0,|L1.3580|
000c9c  3894              SUBS     r0,r0,#0x94
000c9e  f9b01058          LDRSH    r1,[r0,#0x58]  ; snmp_u_20_grad
000ca2  207c              MOVS     r0,#0x7c
000ca4  f7ffbffe          B.W      lc640_write_int
                  |L1.3240|
;;;1096   	}
;;;1097   }
000ca8  4770              BX       lr
;;;1098   
                          ENDP

                  snmp_u_sign_write PROC
;;;1099   //-----------------------------------------------
;;;1100   void snmp_u_sign_write (int mode)
000caa  2801              CMP      r0,#1
;;;1101   {
;;;1102   if(mode==MIB_WRITE)
000cac  d106              BNE      |L1.3260|
;;;1103   	{
;;;1104       lc640_write_int(EE_USIGN,snmp_u_sign);
000cae  4853              LDR      r0,|L1.3580|
000cb0  3894              SUBS     r0,r0,#0x94
000cb2  f9b0105a          LDRSH    r1,[r0,#0x5a]  ; snmp_u_sign
000cb6  2082              MOVS     r0,#0x82
000cb8  f7ffbffe          B.W      lc640_write_int
                  |L1.3260|
;;;1105   	}
;;;1106   }
000cbc  4770              BX       lr
;;;1107   //-----------------------------------------------
                          ENDP

                  snmp_u_min_power_write PROC
;;;1108   void snmp_u_min_power_write (int mode)
000cbe  2801              CMP      r0,#1
;;;1109   {
;;;1110   if(mode==MIB_WRITE)
000cc0  d106              BNE      |L1.3280|
;;;1111   	{
;;;1112   	lc640_write_int(EE_UMN,snmp_u_min_power);
000cc2  484e              LDR      r0,|L1.3580|
000cc4  3894              SUBS     r0,r0,#0x94
000cc6  f9b0105c          LDRSH    r1,[r0,#0x5c]  ; snmp_u_min_power
000cca  2084              MOVS     r0,#0x84
000ccc  f7ffbffe          B.W      lc640_write_int
                  |L1.3280|
;;;1113   	}
;;;1114   }
000cd0  4770              BX       lr
;;;1115   //-----------------------------------------------
                          ENDP

                  snmp_u_withouth_bat_write PROC
;;;1116   void snmp_u_withouth_bat_write (int mode)
000cd2  2801              CMP      r0,#1
;;;1117   {
;;;1118   if(mode==MIB_WRITE)
000cd4  d106              BNE      |L1.3300|
;;;1119   	{
;;;1120   	lc640_write_int(EE_U0B,snmp_u_withouth_bat);
000cd6  4849              LDR      r0,|L1.3580|
000cd8  3894              SUBS     r0,r0,#0x94
000cda  f9b0105e          LDRSH    r1,[r0,#0x5e]  ; snmp_u_withouth_bat
000cde  2094              MOVS     r0,#0x94
000ce0  f7ffbffe          B.W      lc640_write_int
                  |L1.3300|
;;;1121   	}
;;;1122   }
000ce4  4770              BX       lr
;;;1123   
                          ENDP

                  snmp_control_current_write PROC
;;;1124   //-----------------------------------------------
;;;1125   void snmp_control_current_write (int mode)
000ce6  2801              CMP      r0,#1
;;;1126   {
;;;1127   if(mode==MIB_WRITE)
000ce8  d106              BNE      |L1.3320|
;;;1128   	{
;;;1129   	lc640_write_int(EE_IKB,snmp_control_current);
000cea  4844              LDR      r0,|L1.3580|
000cec  3894              SUBS     r0,r0,#0x94
000cee  f9b01060          LDRSH    r1,[r0,#0x60]  ; snmp_control_current
000cf2  2088              MOVS     r0,#0x88
000cf4  f7ffbffe          B.W      lc640_write_int
                  |L1.3320|
;;;1130   	}
;;;1131   }
000cf8  4770              BX       lr
;;;1132   
                          ENDP

                  snmp_max_charge_current_write PROC
;;;1133   //-----------------------------------------------
;;;1134   void snmp_max_charge_current_write (int mode)
000cfa  2801              CMP      r0,#1
;;;1135   {
;;;1136   if(mode==MIB_WRITE)
000cfc  d106              BNE      |L1.3340|
;;;1137   	{
;;;1138   	lc640_write_int(EE_IZMAX,snmp_max_charge_current);
000cfe  483f              LDR      r0,|L1.3580|
000d00  3894              SUBS     r0,r0,#0x94
000d02  f9b01062          LDRSH    r1,[r0,#0x62]  ; snmp_max_charge_current
000d06  2092              MOVS     r0,#0x92
000d08  f7ffbffe          B.W      lc640_write_int
                  |L1.3340|
;;;1139   	}
;;;1140   }
000d0c  4770              BX       lr
;;;1141   
                          ENDP

                  snmp_max_current_write PROC
;;;1142   //-----------------------------------------------
;;;1143   void snmp_max_current_write (int mode)
000d0e  2801              CMP      r0,#1
;;;1144   {
;;;1145   if(mode==MIB_WRITE)
000d10  d106              BNE      |L1.3360|
;;;1146   	{
;;;1147        lc640_write_int(EE_IMAX,snmp_max_current);
000d12  483a              LDR      r0,|L1.3580|
000d14  3894              SUBS     r0,r0,#0x94
000d16  f9b01064          LDRSH    r1,[r0,#0x64]  ; snmp_max_current
000d1a  208c              MOVS     r0,#0x8c
000d1c  f7ffbffe          B.W      lc640_write_int
                  |L1.3360|
;;;1148   	}
;;;1149   }
000d20  4770              BX       lr
;;;1150   
                          ENDP

                  snmp_min_current_write PROC
;;;1151   //-----------------------------------------------
;;;1152   void snmp_min_current_write (int mode)
000d22  2801              CMP      r0,#1
;;;1153   {
;;;1154   if(mode==MIB_WRITE)
000d24  d106              BNE      |L1.3380|
;;;1155   	{
;;;1156        lc640_write_int(EE_IMIN,snmp_min_current);
000d26  4835              LDR      r0,|L1.3580|
000d28  3894              SUBS     r0,r0,#0x94
000d2a  f9b01066          LDRSH    r1,[r0,#0x66]  ; snmp_min_current
000d2e  208e              MOVS     r0,#0x8e
000d30  f7ffbffe          B.W      lc640_write_int
                  |L1.3380|
;;;1157   	}
;;;1158   }
000d34  4770              BX       lr
;;;1159   
                          ENDP

                  snmp_powerup_psu_timeout_write PROC
;;;1178   //-----------------------------------------------
;;;1179   void snmp_powerup_psu_timeout_write (int mode)
000d36  2801              CMP      r0,#1
;;;1180   {
;;;1181   if(mode==MIB_WRITE)
000d38  d106              BNE      |L1.3400|
;;;1182   	{
;;;1183        lc640_write_int(EE_TZAS,snmp_powerup_psu_timeout);
000d3a  4830              LDR      r0,|L1.3580|
000d3c  3894              SUBS     r0,r0,#0x94
000d3e  f9b0106a          LDRSH    r1,[r0,#0x6a]  ; snmp_powerup_psu_timeout
000d42  2096              MOVS     r0,#0x96
000d44  f7ffbffe          B.W      lc640_write_int
                  |L1.3400|
;;;1184   	}
;;;1185   }
000d48  4770              BX       lr
;;;1186   
                          ENDP

                  snmp_tsign_bat_write PROC
;;;1196   //-----------------------------------------------
;;;1197   void snmp_tsign_bat_write(int mode)
000d4a  2801              CMP      r0,#1
;;;1198   {
;;;1199   if(mode==MIB_WRITE)
000d4c  d106              BNE      |L1.3420|
;;;1200   	{
;;;1201    	lc640_write_int(EE_TBATSIGN,snmp_tsign_bat);
000d4e  482b              LDR      r0,|L1.3580|
000d50  3894              SUBS     r0,r0,#0x94
000d52  f9b0106e          LDRSH    r1,[r0,#0x6e]  ; snmp_tsign_bat
000d56  20ce              MOVS     r0,#0xce
000d58  f7ffbffe          B.W      lc640_write_int
                  |L1.3420|
;;;1202   	}
;;;1203   }
000d5c  4770              BX       lr
;;;1204   //-----------------------------------------------
                          ENDP

                  snmp_tmax_bat_write PROC
;;;1205   void snmp_tmax_bat_write(int mode)
000d5e  2801              CMP      r0,#1
;;;1206   {
;;;1207   if(mode==MIB_WRITE)
000d60  d106              BNE      |L1.3440|
;;;1208   	{
;;;1209    	lc640_write_int(EE_TBATMAX,snmp_tmax_bat);
000d62  4826              LDR      r0,|L1.3580|
000d64  3894              SUBS     r0,r0,#0x94
000d66  f9b01070          LDRSH    r1,[r0,#0x70]  ; snmp_tmax_bat
000d6a  20cc              MOVS     r0,#0xcc
000d6c  f7ffbffe          B.W      lc640_write_int
                  |L1.3440|
;;;1210   	}
;;;1211   }
000d70  4770              BX       lr
;;;1212   //-----------------------------------------------
                          ENDP

                  snmp_tsign_bps_write PROC
;;;1213   void snmp_tsign_bps_write(int mode)
000d72  2801              CMP      r0,#1
;;;1214   {
;;;1215   if(mode==MIB_WRITE)
000d74  d106              BNE      |L1.3460|
;;;1216   	{
;;;1217   	lc640_write_int(EE_TSIGN,snmp_tsign_bps);
000d76  4821              LDR      r0,|L1.3580|
000d78  3894              SUBS     r0,r0,#0x94
000d7a  f9b01072          LDRSH    r1,[r0,#0x72]  ; snmp_tsign_bps
000d7e  20c6              MOVS     r0,#0xc6
000d80  f7ffbffe          B.W      lc640_write_int
                  |L1.3460|
;;;1218   	}
;;;1219   }
000d84  4770              BX       lr
;;;1220   //-----------------------------------------------
                          ENDP

                  snmp_tmax_bps_write PROC
;;;1221   void snmp_tmax_bps_write(int mode)
000d86  2801              CMP      r0,#1
;;;1222   {
;;;1223   if(mode==MIB_WRITE)
000d88  d106              BNE      |L1.3480|
;;;1224   	{
;;;1225   	lc640_write_int(EE_TMAX,snmp_tmax_bps);
000d8a  481c              LDR      r0,|L1.3580|
000d8c  3894              SUBS     r0,r0,#0x94
000d8e  f9b01074          LDRSH    r1,[r0,#0x74]  ; snmp_tmax_bps
000d92  207e              MOVS     r0,#0x7e
000d94  f7ffbffe          B.W      lc640_write_int
                  |L1.3480|
;;;1226   	}
;;;1227   }
000d98  4770              BX       lr
;;;1228   
                          ENDP

                  snmp_uvz_write PROC
;;;1229   //-----------------------------------------------
;;;1230   void snmp_uvz_write(int mode)
000d9a  2801              CMP      r0,#1
;;;1231   {
;;;1232   if(mode==MIB_WRITE)
000d9c  d106              BNE      |L1.3500|
;;;1233   	{
;;;1234   	lc640_write_int(EE_UVZ,snmp_uvz);
000d9e  4817              LDR      r0,|L1.3580|
000da0  3894              SUBS     r0,r0,#0x94
000da2  f9b01068          LDRSH    r1,[r0,#0x68]  ; snmp_uvz
000da6  20de              MOVS     r0,#0xde
000da8  f7ffbffe          B.W      lc640_write_int
                  |L1.3500|
;;;1235   	}
;;;1236   }
000dac  4770              BX       lr
;;;1237   //-----------------------------------------------
                          ENDP

                  snmp_bat_part_alarm_write PROC
;;;1238   void snmp_bat_part_alarm_write(int mode)
000dae  2801              CMP      r0,#1
;;;1239   {
;;;1240   if(mode==MIB_WRITE)
000db0  d107              BNE      |L1.3522|
;;;1241   	{
;;;1242   	lc640_write_int(EE_UBM_AV,snmp_bat_part_alarm);
000db2  4812              LDR      r0,|L1.3580|
000db4  3894              SUBS     r0,r0,#0x94
000db6  f9b01076          LDRSH    r1,[r0,#0x76]  ; snmp_bat_part_alarm
000dba  f44f7019          MOV      r0,#0x264
000dbe  f7ffbffe          B.W      lc640_write_int
                  |L1.3522|
;;;1243   	}
;;;1244   }
000dc2  4770              BX       lr
;;;1245   //-----------------------------------------------
                          ENDP

                  snmp_power_cnt_adress_write PROC
;;;1246   void snmp_power_cnt_adress_write(int mode)
000dc4  2801              CMP      r0,#1
;;;1247   {
;;;1248   if(mode==MIB_WRITE)
000dc6  d107              BNE      |L1.3544|
;;;1249   	{
;;;1250   	lc640_write_int(EE_POWER_CNT_ADRESS,snmp_power_cnt_adress);
000dc8  480c              LDR      r0,|L1.3580|
000dca  3894              SUBS     r0,r0,#0x94
000dcc  f9b01078          LDRSH    r1,[r0,#0x78]  ; snmp_power_cnt_adress
000dd0  f2402062          MOV      r0,#0x262
000dd4  f7ffbffe          B.W      lc640_write_int
                  |L1.3544|
;;;1251   	}
;;;1252   }
000dd8  4770              BX       lr
;;;1253   
                          ENDP

                  snmp_command_execute PROC
;;;1254   //-----------------------------------------------
;;;1255   void snmp_command_execute (int mode)
000dda  b510              PUSH     {r4,lr}
;;;1256   {
;;;1257   if(mode==MIB_WRITE)
000ddc  2801              CMP      r0,#1
000dde  d125              BNE      |L1.3628|
;;;1258   	{
;;;1259   	
;;;1260   	//snmp_command=0x5555;
;;;1261   
;;;1262   	switch (snmp_command)
000de0  4806              LDR      r0,|L1.3580|
;;;1263   		{
;;;1264   		case SNMP_BPS_DISABLE:
;;;1265   			{
;;;1266   			snmp_command=COMMAND_OK;
000de2  f2455255          MOV      r2,#0x5555
000de6  3894              SUBS     r0,r0,#0x94           ;1262
000de8  4601              MOV      r1,r0                 ;1262
000dea  f9b04048          LDRSH    r4,[r0,#0x48]         ;1262  ; snmp_command
;;;1267   
;;;1268   		/*	switch (snmp_command_parametr)
;;;1269   				{
;;;1270   			
;;;1271   				case 1: 
;;;1272   				{
;;;1273   				St_[0]|=0x20;
;;;1274   				St_[1]&=0xdf;
;;;1275   				St&=0xfb;
;;;1276   				cnt_src[1]=10;
;;;1277   				snmp_plazma++;
;;;1278   				snmp_plazma++;
;;;1279   				break;
;;;1280   				}
;;;1281   			
;;;1282   				case 2:
;;;1283   				{
;;;1284   				St_[1]|=0x20;
;;;1285   				St_[0]&=0xdf;
;;;1286   				St&=0xfb;
;;;1287   				cnt_src[0]=10;	
;;;1288   				snmp_plazma++;
;;;1289   				break;
;;;1290   				}*/	
;;;1291   			
;;;1292   				//break;
;;;1293   			//	}
;;;1294   			if(snmp_command_parametr==1) 
;;;1295   				{
;;;1296   			//	St_[0]|=0x20;
;;;1297   			//	St_[1]&=0xdf;
;;;1298   			//	St&=0xfb;
;;;1299   		//		cnt_src[1]=10;
;;;1300   		//		snmp_plazma++;
;;;1301   		//		snmp_plazma++;
;;;1302   				}
;;;1303   			
;;;1304   			else if(snmp_command_parametr==2)
;;;1305   				{
;;;1306   			//	St_[1]|=0x20;
;;;1307   			//	St_[0]&=0xdf;
;;;1308   			//	St&=0xfb;
;;;1309   		//		cnt_src[0]=10;	
;;;1310   		//		snmp_plazma++;
;;;1311   				}	
;;;1312   			
;;;1313   			break;
;;;1314   			}
;;;1315   
;;;1316   		case SNMP_BPS_UNDISABLE:
;;;1317   			{
;;;1318   			snmp_command=COMMAND_OK;
;;;1319   		//	St_[0]&=0xdf;
;;;1320   		//	St_[1]&=0xdf;
;;;1321   			break;
;;;1322   			}
;;;1323   
;;;1324   		case SNMP_SPEC_VZ:
;;;1325   			{
;;;1326   			if((snmp_command_parametr>=1)&&(snmp_command_parametr<=24))
;;;1327   				{
;;;1328   			//	if(!(St&0x03)&&(NUMBAT))
;;;1329   					{
;;;1330   					snmp_command=COMMAND_OK;
;;;1331   		//			spc_stat=spc_VZ;
;;;1332   		//			cnt_vz_sec_=3600UL*snmp_command_parametr;
;;;1333   					}
;;;1334   			//	else
;;;1335    					{
;;;1336   					snmp_command=COMAND_FAIL;	
000dee  43d3              MVNS     r3,r2
000df0  1ee4              SUBS     r4,r4,#3              ;1262
000df2  f9b1104a          LDRSH    r1,[r1,#0x4a]         ;1294
000df6  2c06              CMP      r4,#6                 ;1262
000df8  d22d              BCS      |L1.3670|
000dfa  e00f              B        |L1.3612|
                  |L1.3580|
                          DCD      ||.data||+0x94
                  |L1.3584|
                          DCD      ND_EXT
                  |L1.3588|
                          DCD      NUMDT
                  |L1.3592|
                          DCD      ||.bss||+0x194
                  |L1.3596|
                          DCD      lakb
                  |L1.3600|
                          DCD      ||.bss||+0x14
                  |L1.3604|
                          DCD      ADR_SK_SIGN
                  |L1.3608|
                          DCD      UB20
                  |L1.3612|
000e1c  e8dff004          TBB      [pc,r4]               ;1262
000e20  0a15031b          DCB      0x0a,0x15,0x03,0x1b
000e24  1807              DCB      0x18,0x07
000e26  f8a02048          STRH     r2,[r0,#0x48]         ;1266
000e2a  2901              CMP      r1,#1                 ;1294
                  |L1.3628|
;;;1337    					}
;;;1338   				}
;;;1339   			else 
;;;1340   				{
;;;1341   				snmp_command=WRONG_PARAMETER;
;;;1342   				}
;;;1343   			break;
;;;1344   			}
;;;1345   
;;;1346   		case SNMP_SPEC_KE:
;;;1347   			{
;;;1348   	  	//	if(!(St&0x02)&&(NUMBAT))
;;;1349   				{
;;;1350   				//spc_stat=spc_KE;
;;;1351   			//zar_cnt_ee_ke=0;
;;;1352   			//	zar_cnt=0L;
;;;1353   				snmp_command=COMMAND_OK;
;;;1354   				}
;;;1355   		//	else
;;;1356   				{
;;;1357   				snmp_command=COMAND_FAIL;	
;;;1358   				}
;;;1359   			break;
;;;1360   			}
;;;1361   
;;;1362   		case SNMP_SPEC_DISABLE:
;;;1363   			{
;;;1364   		//	spc_stat=spc_OFF;
;;;1365   			snmp_command=COMMAND_OK;
;;;1366   			break;
;;;1367   			}
;;;1368   
;;;1369   
;;;1370   		default:
;;;1371   			{
;;;1372   			snmp_command=COMMAND_INVALID;
;;;1373   			break;
;;;1374   			}
;;;1375   		}
;;;1376   /*		else if((UIB2[1]==0x52)&&(UIB2[4]==5)&&(UIB2[5]==5)&&(UIB2[6])&&(UIB2[6]<=NUMIST)&&(UIB2[6]==UIB2[7])) 	//Выключение источника 
;;;1377   		{
;;;1378   	
;;;1379   		if((UIB2[6]==1)&&(UIB2[7]==1)) 
;;;1380   			{
;;;1381   			St_[0]|=0x20;
;;;1382   			St_[1]&=0xdf;
;;;1383   			St&=0xfb;
;;;1384   			cnt_src[1]=10;
;;;1385   			}
;;;1386   			
;;;1387   		else if((UIB2[6]==2)&&(UIB2[7]==2))
;;;1388   			{
;;;1389   			St_[1]|=0x20;
;;;1390   			St_[0]&=0xdf;
;;;1391   			St&=0xfb;
;;;1392   			cnt_src[0]=10;
;;;1393   			}	
;;;1394   		
;;;1395        	memo_out2[0]=0x33;
;;;1396        	memo_out2[1]=0x62;
;;;1397        	memo_out2[2]=4;
;;;1398        	memo_out2[3]=0x03;
;;;1399        	
;;;1400        	memo_out2[4]=5;
;;;1401        	memo_out2[5]=5;
;;;1402        	memo_out2[6]=UIB2[6];
;;;1403        	memo_out2[7]=UIB2[6];
;;;1404            	memo_out2[8]=crc_87(memo_out2,8);
;;;1405   		memo_out2[9]=crc_95(memo_out2,8);
;;;1406        	uart_out_adr2(memo_out2,10); 		
;;;1407   		} */
;;;1408   
;;;1409   
;;;1410   
;;;1411   	}
;;;1412   }
000e2c  bd10              POP      {r4,pc}
000e2e  f8a02048          STRH     r2,[r0,#0x48]         ;1318
000e32  bd10              POP      {r4,pc}
000e34  1e49              SUBS     r1,r1,#1              ;1326
000e36  2917              CMP      r1,#0x17              ;1326
000e38  d802              BHI      |L1.3648|
000e3a  f8a03048          STRH     r3,[r0,#0x48]         ;1336
000e3e  bd10              POP      {r4,pc}
                  |L1.3648|
000e40  f64e61ef          MOV      r1,#0xeeef            ;1341
000e44  f8a01048          STRH     r1,[r0,#0x48]         ;1341
000e48  bd10              POP      {r4,pc}
000e4a  f8a03048          STRH     r3,[r0,#0x48]         ;1357
000e4e  bd10              POP      {r4,pc}
000e50  f8a02048          STRH     r2,[r0,#0x48]         ;1365
000e54  bd10              POP      {r4,pc}
                  |L1.3670|
000e56  f64e61ee          MOV      r1,#0xeeee            ;1372
000e5a  f8a01048          STRH     r1,[r0,#0x48]         ;1372
000e5e  bd10              POP      {r4,pc}
;;;1413   
                          ENDP

                  snmp_trap_send PROC
;;;1972   //-----------------------------------------------
;;;1973   void snmp_trap_send(char* str, signed short in0, signed short in1, signed short in2)
000e60  e92d41f0          PUSH     {r4-r8,lr}
;;;1974   {
;;;1975   for(snmp_trap_send_i=0;snmp_trap_send_i<100;snmp_trap_send_i++)
000e64  4fd0              LDR      r7,|L1.4520|
000e66  f04f0500          MOV      r5,#0
000e6a  73fd              STRB     r5,[r7,#0xf]
;;;1976   	{
;;;1977   	snmp_spc_trap_message[snmp_trap_send_i]=0;
000e6c  4ecf              LDR      r6,|L1.4524|
                  |L1.3694|
000e6e  7bfc              LDRB     r4,[r7,#0xf]  ; snmp_trap_send_i
000e70  5535              STRB     r5,[r6,r4]
000e72  f1040401          ADD      r4,r4,#1              ;1975
000e76  b2e4              UXTB     r4,r4                 ;1975
000e78  73fc              STRB     r4,[r7,#0xf]          ;1975
000e7a  2c64              CMP      r4,#0x64              ;1975
000e7c  d3f7              BCC      |L1.3694|
;;;1978   	}
;;;1979   
;;;1980   
;;;1981   obj[0] = 0;
000e7e  f8dfc330          LDR      r12,|L1.4528|
000e82  f8ac5000          STRH     r5,[r12,#0]
;;;1982   snmp_trap_send_ii=1;
000e86  f04f0801          MOV      r8,#1
000e8a  f8878010          STRB     r8,[r7,#0x10]
;;;1983   if(str!=0)
000e8e  b1a8              CBZ      r0,|L1.3772|
;;;1984   	{
;;;1985   	obj[0]++;
000e90  f8ac8000          STRH     r8,[r12,#0]
;;;1986   	for(snmp_trap_send_i=0;snmp_trap_send_i<100&&(str[snmp_trap_send_i]);snmp_trap_send_i++)
000e94  73fd              STRB     r5,[r7,#0xf]
000e96  e003              B        |L1.3744|
                  |L1.3736|
;;;1987   		{
;;;1988   		snmp_spc_trap_message[snmp_trap_send_i]=str[snmp_trap_send_i];
000e98  5535              STRB     r5,[r6,r4]
000e9a  f1040401          ADD      r4,r4,#1              ;1986
000e9e  73fc              STRB     r4,[r7,#0xf]          ;1986
                  |L1.3744|
000ea0  7bfc              LDRB     r4,[r7,#0xf]          ;1986  ; snmp_trap_send_i
000ea2  2c64              CMP      r4,#0x64              ;1986
000ea4  d202              BCS      |L1.3756|
000ea6  5d05              LDRB     r5,[r0,r4]            ;1986
000ea8  2d00              CMP      r5,#0                 ;1986
000eaa  d1f5              BNE      |L1.3736|
                  |L1.3756|
;;;1989   		}
;;;1990   	obj[snmp_trap_send_ii] = 7;
000eac  f04f0007          MOV      r0,#7
000eb0  f82c0018          STRH     r0,[r12,r8,LSL #1]
;;;1991   	snmp_trap_send_ii++;
000eb4  f1080801          ADD      r8,r8,#1
000eb8  f8878010          STRB     r8,[r7,#0x10]
                  |L1.3772|
;;;1992   	}
;;;1993   if(in0!=0xffff)
000ebc  f64f74ff          MOV      r4,#0xffff
000ec0  42a1              CMP      r1,r4
000ec2  d00e              BEQ      |L1.3810|
;;;1994   	{
;;;1995   	obj[0]++;
000ec4  f8bc0000          LDRH     r0,[r12,#0]  ; obj
000ec8  f1000001          ADD      r0,r0,#1
000ecc  f8ac0000          STRH     r0,[r12,#0]
;;;1996   	snmp_spc_trap_value_0=in0;
000ed0  8679              STRH     r1,[r7,#0x32]
;;;1997   	obj[snmp_trap_send_ii] = 8;
000ed2  7c38              LDRB     r0,[r7,#0x10]  ; snmp_trap_send_ii
000ed4  f04f0108          MOV      r1,#8
000ed8  f82c1010          STRH     r1,[r12,r0,LSL #1]
;;;1998   	snmp_trap_send_ii++;
000edc  f1000001          ADD      r0,r0,#1
000ee0  7438              STRB     r0,[r7,#0x10]
                  |L1.3810|
;;;1999   	}
;;;2000   if(in1!=0xffff)
000ee2  42a2              CMP      r2,r4
000ee4  d00e              BEQ      |L1.3844|
;;;2001   	{
;;;2002   	obj[0]++;
000ee6  f8bc0000          LDRH     r0,[r12,#0]  ; obj
000eea  f1000001          ADD      r0,r0,#1
000eee  f8ac0000          STRH     r0,[r12,#0]
;;;2003   	snmp_spc_trap_value_1=in1;
000ef2  86ba              STRH     r2,[r7,#0x34]
;;;2004   	obj[snmp_trap_send_ii] = 9;
000ef4  7c38              LDRB     r0,[r7,#0x10]  ; snmp_trap_send_ii
000ef6  f04f0109          MOV      r1,#9
000efa  f82c1010          STRH     r1,[r12,r0,LSL #1]
;;;2005   	snmp_trap_send_ii++;
000efe  f1000001          ADD      r0,r0,#1
000f02  7438              STRB     r0,[r7,#0x10]
                  |L1.3844|
;;;2006   	}
;;;2007   if(in2!=0xffff)
000f04  42a3              CMP      r3,r4
000f06  d00e              BEQ      |L1.3878|
;;;2008   	{
;;;2009   	obj[0]++;
000f08  f8bc0000          LDRH     r0,[r12,#0]  ; obj
000f0c  f1000001          ADD      r0,r0,#1
000f10  f8ac0000          STRH     r0,[r12,#0]
;;;2010   	snmp_spc_trap_value_2=in2;
000f14  86fb              STRH     r3,[r7,#0x36]
;;;2011   	obj[snmp_trap_send_ii] = 10;
000f16  7c38              LDRB     r0,[r7,#0x10]  ; snmp_trap_send_ii
000f18  f04f010a          MOV      r1,#0xa
000f1c  f82c1010          STRH     r1,[r12,r0,LSL #1]
;;;2012   	snmp_trap_send_ii++;
000f20  f1000001          ADD      r0,r0,#1
000f24  7438              STRB     r0,[r7,#0x10]
                  |L1.3878|
;;;2013   	}
;;;2014   
;;;2015   
;;;2016   if((ETH_TRAP1_IP_1!=255)&&(ETH_TRAP1_IP_2!=255)&&(ETH_TRAP1_IP_3!=255)&&(ETH_TRAP1_IP_4!=255))
000f26  48a3              LDR      r0,|L1.4532|
;;;2017   	{
;;;2018   	temp_ip[0]= ETH_TRAP1_IP_1;
000f28  4c9f              LDR      r4,|L1.4520|
000f2a  f9b00000          LDRSH    r0,[r0,#0]            ;2016  ; ETH_TRAP1_IP_1
000f2e  34e4              ADDS     r4,r4,#0xe4
000f30  28ff              CMP      r0,#0xff              ;2016
000f32  d018              BEQ      |L1.3942|
000f34  49a0              LDR      r1,|L1.4536|
000f36  f9b11000          LDRSH    r1,[r1,#0]            ;2016  ; ETH_TRAP1_IP_2
000f3a  29ff              CMP      r1,#0xff              ;2016
000f3c  d013              BEQ      |L1.3942|
000f3e  4a9f              LDR      r2,|L1.4540|
000f40  f9b22000          LDRSH    r2,[r2,#0]            ;2016  ; ETH_TRAP1_IP_3
000f44  2aff              CMP      r2,#0xff              ;2016
000f46  d00e              BEQ      |L1.3942|
000f48  4b9d              LDR      r3,|L1.4544|
000f4a  f9b33000          LDRSH    r3,[r3,#0]            ;2016  ; ETH_TRAP1_IP_4
000f4e  2bff              CMP      r3,#0xff              ;2016
000f50  d009              BEQ      |L1.3942|
000f52  7020              STRB     r0,[r4,#0]
;;;2019   	temp_ip[1]= ETH_TRAP1_IP_2;
000f54  7061              STRB     r1,[r4,#1]
;;;2020   	temp_ip[2]= ETH_TRAP1_IP_3;
000f56  70a2              STRB     r2,[r4,#2]
;;;2021   	temp_ip[3]= ETH_TRAP1_IP_4;
000f58  70e3              STRB     r3,[r4,#3]
;;;2022   	snmp_trap (temp_ip, 6, 3, obj);
000f5a  4b95              LDR      r3,|L1.4528|
000f5c  2203              MOVS     r2,#3
000f5e  2106              MOVS     r1,#6
000f60  4620              MOV      r0,r4
000f62  f7fffffe          BL       snmp_trap
                  |L1.3942|
;;;2023   	}
;;;2024   if((ETH_TRAP2_IP_1!=255)&&(ETH_TRAP2_IP_2!=255)&&(ETH_TRAP2_IP_3!=255)&&(ETH_TRAP2_IP_4!=255))
000f66  4897              LDR      r0,|L1.4548|
000f68  f9b01000          LDRSH    r1,[r0,#0]  ; ETH_TRAP2_IP_1
000f6c  29ff              CMP      r1,#0xff
000f6e  d019              BEQ      |L1.4004|
000f70  4895              LDR      r0,|L1.4552|
000f72  f9b02000          LDRSH    r2,[r0,#0]  ; ETH_TRAP2_IP_2
000f76  2aff              CMP      r2,#0xff
000f78  d014              BEQ      |L1.4004|
000f7a  4894              LDR      r0,|L1.4556|
000f7c  f9b00000          LDRSH    r0,[r0,#0]  ; ETH_TRAP2_IP_3
000f80  28ff              CMP      r0,#0xff
000f82  d00f              BEQ      |L1.4004|
000f84  4b92              LDR      r3,|L1.4560|
000f86  f9b33000          LDRSH    r3,[r3,#0]  ; ETH_TRAP2_IP_4
000f8a  2bff              CMP      r3,#0xff
000f8c  d00a              BEQ      |L1.4004|
;;;2025   	{
;;;2026   	temp_ip[0]= ETH_TRAP2_IP_1;
000f8e  7021              STRB     r1,[r4,#0]
;;;2027   	temp_ip[1]= ETH_TRAP2_IP_2;
000f90  7062              STRB     r2,[r4,#1]
;;;2028   	temp_ip[2]= ETH_TRAP2_IP_3;
000f92  70a0              STRB     r0,[r4,#2]
;;;2029   	temp_ip[3]= ETH_TRAP2_IP_4;
000f94  70e3              STRB     r3,[r4,#3]
;;;2030   	snmp_trap (temp_ip, 6, 3, obj);
000f96  4884              LDR      r0,|L1.4520|
000f98  4b85              LDR      r3,|L1.4528|
000f9a  2203              MOVS     r2,#3
000f9c  2106              MOVS     r1,#6
000f9e  30e4              ADDS     r0,r0,#0xe4
000fa0  f7fffffe          BL       snmp_trap
                  |L1.4004|
;;;2031   	}
;;;2032   
;;;2033   if((ETH_TRAP3_IP_1!=255)&&(ETH_TRAP3_IP_2!=255)&&(ETH_TRAP3_IP_3!=255)&&(ETH_TRAP3_IP_4!=255))
000fa4  488b              LDR      r0,|L1.4564|
000fa6  f9b01000          LDRSH    r1,[r0,#0]  ; ETH_TRAP3_IP_1
000faa  29ff              CMP      r1,#0xff
000fac  d019              BEQ      |L1.4066|
000fae  488a              LDR      r0,|L1.4568|
000fb0  f9b02000          LDRSH    r2,[r0,#0]  ; ETH_TRAP3_IP_2
000fb4  2aff              CMP      r2,#0xff
000fb6  d014              BEQ      |L1.4066|
000fb8  4888              LDR      r0,|L1.4572|
000fba  f9b03000          LDRSH    r3,[r0,#0]  ; ETH_TRAP3_IP_3
000fbe  2bff              CMP      r3,#0xff
000fc0  d00f              BEQ      |L1.4066|
000fc2  4887              LDR      r0,|L1.4576|
000fc4  f9b00000          LDRSH    r0,[r0,#0]  ; ETH_TRAP3_IP_4
000fc8  28ff              CMP      r0,#0xff
000fca  d00a              BEQ      |L1.4066|
;;;2034   	{
;;;2035   	temp_ip[0]= ETH_TRAP3_IP_1;
000fcc  7021              STRB     r1,[r4,#0]
;;;2036   	temp_ip[1]= ETH_TRAP3_IP_2;
000fce  7062              STRB     r2,[r4,#1]
;;;2037   	temp_ip[2]= ETH_TRAP3_IP_3;
000fd0  70a3              STRB     r3,[r4,#2]
;;;2038   	temp_ip[3]= ETH_TRAP3_IP_4;
000fd2  70e0              STRB     r0,[r4,#3]
;;;2039   	snmp_trap (temp_ip, 6, 3, obj);
000fd4  4874              LDR      r0,|L1.4520|
000fd6  4b76              LDR      r3,|L1.4528|
000fd8  2203              MOVS     r2,#3
000fda  2106              MOVS     r1,#6
000fdc  30e4              ADDS     r0,r0,#0xe4
000fde  f7fffffe          BL       snmp_trap
                  |L1.4066|
;;;2040   	}
;;;2041   
;;;2042   if((ETH_TRAP4_IP_1!=255)&&(ETH_TRAP4_IP_2!=255)&&(ETH_TRAP4_IP_3!=255)&&(ETH_TRAP4_IP_4!=255))
000fe2  4880              LDR      r0,|L1.4580|
000fe4  f9b03000          LDRSH    r3,[r0,#0]  ; ETH_TRAP4_IP_1
000fe8  2bff              CMP      r3,#0xff
000fea  d019              BEQ      |L1.4128|
000fec  487e              LDR      r0,|L1.4584|
000fee  f9b00000          LDRSH    r0,[r0,#0]  ; ETH_TRAP4_IP_2
000ff2  28ff              CMP      r0,#0xff
000ff4  d014              BEQ      |L1.4128|
000ff6  497d              LDR      r1,|L1.4588|
000ff8  f9b11000          LDRSH    r1,[r1,#0]  ; ETH_TRAP4_IP_3
000ffc  29ff              CMP      r1,#0xff
000ffe  d00f              BEQ      |L1.4128|
001000  4a7b              LDR      r2,|L1.4592|
001002  f9b22000          LDRSH    r2,[r2,#0]  ; ETH_TRAP4_IP_4
001006  2aff              CMP      r2,#0xff
001008  d00a              BEQ      |L1.4128|
;;;2043   	{
;;;2044   	temp_ip[0]= ETH_TRAP4_IP_1;
00100a  7023              STRB     r3,[r4,#0]
;;;2045   	temp_ip[1]= ETH_TRAP4_IP_2;
00100c  7060              STRB     r0,[r4,#1]
;;;2046   	temp_ip[2]= ETH_TRAP4_IP_3;
00100e  70a1              STRB     r1,[r4,#2]
;;;2047   	temp_ip[3]= ETH_TRAP4_IP_4;
001010  70e2              STRB     r2,[r4,#3]
;;;2048   	snmp_trap (temp_ip, 6, 3, obj);
001012  4865              LDR      r0,|L1.4520|
001014  4b66              LDR      r3,|L1.4528|
001016  2203              MOVS     r2,#3
001018  2106              MOVS     r1,#6
00101a  30e4              ADDS     r0,r0,#0xe4
00101c  f7fffffe          BL       snmp_trap
                  |L1.4128|
;;;2049   	}
;;;2050   
;;;2051   if((ETH_TRAP5_IP_1!=255)&&(ETH_TRAP5_IP_2!=255)&&(ETH_TRAP5_IP_3!=255)&&(ETH_TRAP5_IP_4!=255))
001020  4874              LDR      r0,|L1.4596|
001022  f9b02000          LDRSH    r2,[r0,#0]  ; ETH_TRAP5_IP_1
001026  2aff              CMP      r2,#0xff
001028  d01b              BEQ      |L1.4194|
00102a  4873              LDR      r0,|L1.4600|
00102c  f9b01000          LDRSH    r1,[r0,#0]  ; ETH_TRAP5_IP_2
001030  29ff              CMP      r1,#0xff
001032  d016              BEQ      |L1.4194|
001034  4871              LDR      r0,|L1.4604|
001036  f9b00000          LDRSH    r0,[r0,#0]  ; ETH_TRAP5_IP_3
00103a  28ff              CMP      r0,#0xff
00103c  d011              BEQ      |L1.4194|
00103e  4b70              LDR      r3,|L1.4608|
001040  f9b33000          LDRSH    r3,[r3,#0]  ; ETH_TRAP5_IP_4
001044  2bff              CMP      r3,#0xff
001046  d00c              BEQ      |L1.4194|
;;;2052   	{
;;;2053   	temp_ip[0]= ETH_TRAP5_IP_1;
001048  7022              STRB     r2,[r4,#0]
;;;2054   	temp_ip[1]= ETH_TRAP5_IP_2;
00104a  7061              STRB     r1,[r4,#1]
;;;2055   	temp_ip[2]= ETH_TRAP5_IP_3;
00104c  70a0              STRB     r0,[r4,#2]
;;;2056   	temp_ip[3]= ETH_TRAP5_IP_4;
00104e  70e3              STRB     r3,[r4,#3]
;;;2057   	snmp_trap (temp_ip, 6, 3, obj);
001050  e8bd41f0          POP      {r4-r8,lr}
001054  4854              LDR      r0,|L1.4520|
001056  2203              MOVS     r2,#3
001058  2106              MOVS     r1,#6
00105a  4b55              LDR      r3,|L1.4528|
00105c  30e4              ADDS     r0,r0,#0xe4
00105e  f7ffbffe          B.W      snmp_trap
                  |L1.4194|
;;;2058   	}			
;;;2059   }
001062  e8bd81f0          POP      {r4-r8,pc}
;;;2060   
                          ENDP

                  snmp_warm_sign_write PROC
;;;2135   //-----------------------------------------------
;;;2136   void snmp_warm_sign_write(int mode)
001066  2801              CMP      r0,#1
;;;2137   {
;;;2138   if(mode==MIB_WRITE)
001068  d10b              BNE      |L1.4226|
;;;2139   	{
;;;2140        if(snmp_warm_sign==1)lc640_write_int(EE_TELECORE2017_KLIMAT_WARM_SIGNAL,1);
00106a  484f              LDR      r0,|L1.4520|
00106c  7801              LDRB     r1,[r0,#0]  ; snmp_warm_sign
00106e  f44f7082          MOV      r0,#0x104
001072  2901              CMP      r1,#1
001074  d002              BEQ      |L1.4220|
;;;2141   	 else lc640_write_int(EE_TELECORE2017_KLIMAT_WARM_SIGNAL,0);
001076  2100              MOVS     r1,#0
001078  f7ffbffe          B.W      lc640_write_int
                  |L1.4220|
00107c  2101              MOVS     r1,#1                 ;2140
00107e  f7ffbffe          B.W      lc640_write_int
                  |L1.4226|
;;;2142   	}
;;;2143   }
001082  4770              BX       lr
;;;2144   
                          ENDP

                  snmp_cool_sign_write PROC
;;;2145   //-----------------------------------------------
;;;2146   void snmp_cool_sign_write(int mode)
001084  2801              CMP      r0,#1
;;;2147   {
;;;2148   if(mode==MIB_WRITE)
001086  d10b              BNE      |L1.4256|
;;;2149   	{
;;;2150       if(snmp_cool_sign==1)lc640_write_int(EE_TELECORE2017_KLIMAT_VENT_SIGNAL,1);
001088  4847              LDR      r0,|L1.4520|
00108a  7841              LDRB     r1,[r0,#1]  ; snmp_cool_sign
00108c  f44f708a          MOV      r0,#0x114
001090  2901              CMP      r1,#1
001092  d002              BEQ      |L1.4250|
;;;2151   	else lc640_write_int(EE_TELECORE2017_KLIMAT_VENT_SIGNAL,0);
001094  2100              MOVS     r1,#0
001096  f7ffbffe          B.W      lc640_write_int
                  |L1.4250|
00109a  2101              MOVS     r1,#1                 ;2150
00109c  f7ffbffe          B.W      lc640_write_int
                  |L1.4256|
;;;2152   	}
;;;2153   }
0010a0  4770              BX       lr
;;;2154   
                          ENDP

                  snmp_warm_on_temper_write PROC
;;;2155   //-----------------------------------------------
;;;2156   void snmp_warm_on_temper_write(int mode)
0010a2  2801              CMP      r0,#1
;;;2157   {
;;;2158   if(mode==MIB_WRITE)
0010a4  d106              BNE      |L1.4276|
;;;2159   	{
;;;2160        lc640_write_int(EE_TELECORE2017_KLIMAT_WARM_ON,snmp_warm_on_temper);
0010a6  4840              LDR      r0,|L1.4520|
0010a8  f9901002          LDRSB    r1,[r0,#2]  ; snmp_warm_on_temper
0010ac  f44f7083          MOV      r0,#0x106
0010b0  f7ffbffe          B.W      lc640_write_int
                  |L1.4276|
;;;2161   	}
;;;2162   }
0010b4  4770              BX       lr
;;;2163   
                          ENDP

                  snmp_warm_off_temper_write PROC
;;;2164   //-----------------------------------------------
;;;2165   void snmp_warm_off_temper_write(int mode)
0010b6  2801              CMP      r0,#1
;;;2166   {
;;;2167   if(mode==MIB_WRITE)
0010b8  d106              BNE      |L1.4296|
;;;2168   	{
;;;2169        lc640_write_int(EE_TELECORE2017_KLIMAT_WARM_OFF,snmp_warm_off_temper);
0010ba  483b              LDR      r0,|L1.4520|
0010bc  f9901003          LDRSB    r1,[r0,#3]  ; snmp_warm_off_temper
0010c0  f44f7084          MOV      r0,#0x108
0010c4  f7ffbffe          B.W      lc640_write_int
                  |L1.4296|
;;;2170   	}
;;;2171   }
0010c8  4770              BX       lr
;;;2172   
                          ENDP

                  snmp_warm_q_write PROC
;;;2173   //-----------------------------------------------
;;;2174   void snmp_warm_q_write(int mode)
0010ca  2801              CMP      r0,#1
;;;2175   {
;;;2176   if(mode==MIB_WRITE)
0010cc  d106              BNE      |L1.4316|
;;;2177   	{
;;;2178        lc640_write_int(EE_TELECORE2017_KLIMAT_CAP,snmp_warm_q);
0010ce  4836              LDR      r0,|L1.4520|
0010d0  f9901004          LDRSB    r1,[r0,#4]  ; snmp_warm_q
0010d4  f44f7085          MOV      r0,#0x10a
0010d8  f7ffbffe          B.W      lc640_write_int
                  |L1.4316|
;;;2179   	}
;;;2180   }
0010dc  4770              BX       lr
;;;2181   
                          ENDP

                  snmp_cool_100_temper_write PROC
;;;2182   //-----------------------------------------------
;;;2183   void snmp_cool_100_temper_write(int mode)
0010de  2801              CMP      r0,#1
;;;2184   {
;;;2185   if(mode==MIB_WRITE)
0010e0  d106              BNE      |L1.4336|
;;;2186   	{
;;;2187        lc640_write_int(EE_TELECORE2017_KLIMAT_VENT_ON100,snmp_cool_100_temper);
0010e2  4831              LDR      r0,|L1.4520|
0010e4  f9901005          LDRSB    r1,[r0,#5]  ; snmp_cool_100_temper
0010e8  f44f70a3          MOV      r0,#0x146
0010ec  f7ffbffe          B.W      lc640_write_int
                  |L1.4336|
;;;2188   	}
;;;2189   }
0010f0  4770              BX       lr
;;;2190   
                          ENDP

                  snmp_cool_80_temper_write PROC
;;;2191   //-----------------------------------------------
;;;2192   void snmp_cool_80_temper_write(int mode)
0010f2  2801              CMP      r0,#1
;;;2193   {
;;;2194   if(mode==MIB_WRITE)
0010f4  d106              BNE      |L1.4356|
;;;2195   	{
;;;2196        lc640_write_int(EE_TELECORE2017_KLIMAT_VENT_ON80,snmp_cool_80_temper);
0010f6  482c              LDR      r0,|L1.4520|
0010f8  f9901006          LDRSB    r1,[r0,#6]  ; snmp_cool_80_temper
0010fc  f44f70a2          MOV      r0,#0x144
001100  f7ffbffe          B.W      lc640_write_int
                  |L1.4356|
;;;2197   	}
;;;2198   }
001104  4770              BX       lr
;;;2199   
                          ENDP

                  snmp_cool_60_temper_write PROC
;;;2200   //-----------------------------------------------
;;;2201   void snmp_cool_60_temper_write(int mode)
001106  2801              CMP      r0,#1
;;;2202   {
;;;2203   if(mode==MIB_WRITE)
001108  d106              BNE      |L1.4376|
;;;2204   	{
;;;2205        lc640_write_int(EE_TELECORE2017_KLIMAT_VENT_ON60,snmp_cool_60_temper);
00110a  4827              LDR      r0,|L1.4520|
00110c  f9901007          LDRSB    r1,[r0,#7]  ; snmp_cool_60_temper
001110  f44f70a1          MOV      r0,#0x142
001114  f7ffbffe          B.W      lc640_write_int
                  |L1.4376|
;;;2206   	}
;;;2207   }
001118  4770              BX       lr
;;;2208   
                          ENDP

                  snmp_cool_40_temper_write PROC
;;;2209   //-----------------------------------------------
;;;2210   void snmp_cool_40_temper_write(int mode)
00111a  2801              CMP      r0,#1
;;;2211   {
;;;2212   if(mode==MIB_WRITE)
00111c  d106              BNE      |L1.4396|
;;;2213   	{
;;;2214        lc640_write_int(EE_TELECORE2017_KLIMAT_VENT_ON40,snmp_cool_40_temper);
00111e  4822              LDR      r0,|L1.4520|
001120  f9901008          LDRSB    r1,[r0,#8]  ; snmp_cool_40_temper
001124  f44f70a0          MOV      r0,#0x140
001128  f7ffbffe          B.W      lc640_write_int
                  |L1.4396|
;;;2215   	}
;;;2216   }
00112c  4770              BX       lr
;;;2217   
                          ENDP

                  snmp_cool_20_temper_write PROC
;;;2218   //-----------------------------------------------
;;;2219   void snmp_cool_20_temper_write(int mode)
00112e  2801              CMP      r0,#1
;;;2220   {
;;;2221   if(mode==MIB_WRITE)
001130  d106              BNE      |L1.4416|
;;;2222   	{
;;;2223        lc640_write_int(EE_TELECORE2017_KLIMAT_VENT_ON20,snmp_cool_20_temper);
001132  481d              LDR      r0,|L1.4520|
001134  f9901009          LDRSB    r1,[r0,#9]  ; snmp_cool_20_temper
001138  f44f709f          MOV      r0,#0x13e
00113c  f7ffbffe          B.W      lc640_write_int
                  |L1.4416|
;;;2224   	}
;;;2225   }
001140  4770              BX       lr
;;;2226   
                          ENDP

                  snmp_cool_100_dtemper_write PROC
;;;2227   //-----------------------------------------------
;;;2228   void snmp_cool_100_dtemper_write(int mode)
001142  2801              CMP      r0,#1
;;;2229   {
;;;2230   if(mode==MIB_WRITE)
001144  d106              BNE      |L1.4436|
;;;2231   	{
;;;2232        lc640_write_int(EE_TELECORE2017_KLIMAT_DVENT_ON100,snmp_cool_100_dtemper);
001146  4818              LDR      r0,|L1.4520|
001148  f990100a          LDRSB    r1,[r0,#0xa]  ; snmp_cool_100_dtemper
00114c  f44f70a9          MOV      r0,#0x152
001150  f7ffbffe          B.W      lc640_write_int
                  |L1.4436|
;;;2233   	}
;;;2234   }
001154  4770              BX       lr
;;;2235   
                          ENDP

                  snmp_cool_80_dtemper_write PROC
;;;2236   //-----------------------------------------------
;;;2237   void snmp_cool_80_dtemper_write(int mode)
001156  2801              CMP      r0,#1
;;;2238   {
;;;2239   if(mode==MIB_WRITE)
001158  d106              BNE      |L1.4456|
;;;2240   	{
;;;2241        lc640_write_int(EE_TELECORE2017_KLIMAT_DVENT_ON80,snmp_cool_80_dtemper);
00115a  4813              LDR      r0,|L1.4520|
00115c  f990100b          LDRSB    r1,[r0,#0xb]  ; snmp_cool_80_dtemper
001160  f44f70a8          MOV      r0,#0x150
001164  f7ffbffe          B.W      lc640_write_int
                  |L1.4456|
;;;2242   	}
;;;2243   }
001168  4770              BX       lr
;;;2244   
                          ENDP

                  snmp_cool_60_dtemper_write PROC
;;;2245   //-----------------------------------------------
;;;2246   void snmp_cool_60_dtemper_write(int mode)
00116a  2801              CMP      r0,#1
;;;2247   {
;;;2248   if(mode==MIB_WRITE)
00116c  d106              BNE      |L1.4476|
;;;2249   	{
;;;2250        lc640_write_int(EE_TELECORE2017_KLIMAT_DVENT_ON60,snmp_cool_60_dtemper);
00116e  480e              LDR      r0,|L1.4520|
001170  f990100c          LDRSB    r1,[r0,#0xc]  ; snmp_cool_60_dtemper
001174  f44f70a7          MOV      r0,#0x14e
001178  f7ffbffe          B.W      lc640_write_int
                  |L1.4476|
;;;2251   	}
;;;2252   }
00117c  4770              BX       lr
;;;2253   
                          ENDP

                  snmp_cool_40_dtemper_write PROC
;;;2254   //-----------------------------------------------
;;;2255   void snmp_cool_40_dtemper_write(int mode)
00117e  2801              CMP      r0,#1
;;;2256   {
;;;2257   if(mode==MIB_WRITE)
001180  d106              BNE      |L1.4496|
;;;2258   	{
;;;2259        lc640_write_int(EE_TELECORE2017_KLIMAT_DVENT_ON40,snmp_cool_40_dtemper);
001182  4809              LDR      r0,|L1.4520|
001184  f990100d          LDRSB    r1,[r0,#0xd]  ; snmp_cool_40_dtemper
001188  f44f70a6          MOV      r0,#0x14c
00118c  f7ffbffe          B.W      lc640_write_int
                  |L1.4496|
;;;2260   	}
;;;2261   }
001190  4770              BX       lr
;;;2262   
                          ENDP

                  snmp_cool_20_dtemper_write PROC
;;;2263   //-----------------------------------------------
;;;2264   void snmp_cool_20_dtemper_write(int mode)
001192  2801              CMP      r0,#1
;;;2265   {
;;;2266   if(mode==MIB_WRITE)
001194  d106              BNE      |L1.4516|
;;;2267   	{
;;;2268        lc640_write_int(EE_TELECORE2017_KLIMAT_DVENT_ON20,snmp_cool_20_dtemper);
001196  4804              LDR      r0,|L1.4520|
001198  f990100e          LDRSB    r1,[r0,#0xe]  ; snmp_cool_20_dtemper
00119c  f44f70a5          MOV      r0,#0x14a
0011a0  f7ffbffe          B.W      lc640_write_int
                  |L1.4516|
;;;2269   	}
;;;2270   }
0011a4  4770              BX       lr
;;;2271   
                          ENDP

0011a6  0000              DCW      0x0000
                  |L1.4520|
                          DCD      ||.data||
                  |L1.4524|
                          DCD      ||.bss||+0xc8
                  |L1.4528|
                          DCD      ||.bss||+0x266
                  |L1.4532|
                          DCD      ETH_TRAP1_IP_1
                  |L1.4536|
                          DCD      ETH_TRAP1_IP_2
                  |L1.4540|
                          DCD      ETH_TRAP1_IP_3
                  |L1.4544|
                          DCD      ETH_TRAP1_IP_4
                  |L1.4548|
                          DCD      ETH_TRAP2_IP_1
                  |L1.4552|
                          DCD      ETH_TRAP2_IP_2
                  |L1.4556|
                          DCD      ETH_TRAP2_IP_3
                  |L1.4560|
                          DCD      ETH_TRAP2_IP_4
                  |L1.4564|
                          DCD      ETH_TRAP3_IP_1
                  |L1.4568|
                          DCD      ETH_TRAP3_IP_2
                  |L1.4572|
                          DCD      ETH_TRAP3_IP_3
                  |L1.4576|
                          DCD      ETH_TRAP3_IP_4
                  |L1.4580|
                          DCD      ETH_TRAP4_IP_1
                  |L1.4584|
                          DCD      ETH_TRAP4_IP_2
                  |L1.4588|
                          DCD      ETH_TRAP4_IP_3
                  |L1.4592|
                          DCD      ETH_TRAP4_IP_4
                  |L1.4596|
                          DCD      ETH_TRAP5_IP_1
                  |L1.4600|
                          DCD      ETH_TRAP5_IP_2
                  |L1.4604|
                          DCD      ETH_TRAP5_IP_3
                  |L1.4608|
                          DCD      ETH_TRAP5_IP_4

                          AREA ||area_number.2||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.2||, ||.text||
                  snmp_sernum_write PROC
;;;261    //-----------------------------------------------
;;;262    void snmp_data (void) 
000000  b510              PUSH     {r4,lr}
;;;263    {
000002  2801              CMP      r0,#1
;;;264    char i;
;;;265    
;;;266    snmp_mains_power_voltage=net_U;
000004  d10c              BNE      |L2.32|
000006  4c07              LDR      r4,|L2.36|
000008  f44f70ab          MOV      r0,#0x156
00000c  6ae1              LDR      r1,[r4,#0x2c]  ; snmp_sernum
00000e  f7fffffe          BL       lc640_write_long
;;;267    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;268    snmp_mains_power_frequency=net_F3;
000012  6ae1              LDR      r1,[r4,#0x2c]  ; snmp_sernum
000014  e8bd4010          POP      {r4,lr}
;;;269    #else
;;;270    snmp_mains_power_frequency=net_F;
;;;271    #endif
;;;272    snmp_mains_power_voltage_phaseA=net_Ua;
000018  f44f70ac          MOV      r0,#0x158
;;;273    snmp_mains_power_voltage_phaseB=net_Ub;
00001c  f7ffbffe          B.W      lc640_write_long
                  |L2.32|
000020  bd10              POP      {r4,pc}
;;;274    snmp_mains_power_voltage_phaseC=net_Uc;
;;;275    
;;;276    
;;;277    if(avar_stat&0x0001)snmp_mains_power_alarm=1;
;;;278    else snmp_mains_power_alarm=0;
;;;279    if(avar_stat&0x0001)snmp_mains_power_status=1;
;;;280    else snmp_mains_power_status=0;
;;;281    
;;;282    /*
;;;283    snmp_mains_power_status=0; 
;;;284    #if(UKU_VERSION==900)
;;;285    snmp_mains_power_status=2;
;;;286    #endif
;;;287    if(St&0x01)snmp_mains_power_status|=0x01;
;;;288    if(St&0x01)snmp_mains_power_alarm=1;
;;;289    
;;;290    
;;;291    
;;;292    
;;;293    
;;;294    
;;;295    for(i=0;i<snmp_numofevents;i++)event2snmp(i);
;;;296    //snmp_bpsnumber[0]=1;
;;;297    //snmp_bpsnumber[1]=2;
;;;298    
;;;299    
;;;300    snmp_sernum_lsb=0x1122;
;;;301    snmp_sernum_msb=0x3344;
;;;302    snmp_device_code=AUSW_MAIN;
;;;303    
;;;304    //memcpy(snmp_location,"lkhg;la",);
;;;305    
;;;306    
;;;307    snmp_numofbat=1;
;;;308    
;;;309    */
;;;310    snmp_sernum=AUSW_MAIN_NUMBER;
;;;311    
;;;312    snmp_load_voltage=load_U;
;;;313    snmp_load_current=load_I;
;;;314    snmp_numofbat=NUMBAT;
;;;315    snmp_numofbps=NUMIST;
;;;316    snmp_numofinv=NUMINV;
;;;317    snmp_numofavt=NUMAVT;
;;;318    snmp_numofdt=NUMDT;
;;;319    snmp_numofsk=NUMSK;
;;;320    snmp_numofevents=lc640_read_int(CNT_EVENT_LOG);
;;;321    
;;;322    snmp_energy_vvod_phase_a=Uvv_eb2[0];
;;;323    snmp_energy_vvod_phase_b=Uvv_eb2[1];
;;;324    snmp_energy_vvod_phase_c=Uvv_eb2[2];
;;;325    snmp_energy_pes_phase_a=Upes_eb2[0];
;;;326    snmp_energy_pes_phase_b=Upes_eb2[1];
;;;327    snmp_energy_pes_phase_c=Upes_eb2[2];
;;;328    
;;;329    #ifdef UKU_KONTUR
;;;330    snmp_energy_vvod_phase_a=Uvv0;
;;;331    snmp_energy_pes_phase_a=Uvv[1];
;;;332    #endif
;;;333    
;;;334    snmp_energy_total_energy=power_summary;
;;;335    snmp_energy_current_energy=power_current;
;;;336    snmp_energy_input_voltage=net_U;
;;;337    
;;;338    
;;;339    #ifdef UKU_ZVU
;;;340    snmp_bat_number[0]=1;
;;;341    snmp_bat_voltage[0]=out_U;
;;;342    snmp_bat_current[0]=Ib_ips_termokompensat;
;;;343    snmp_bat_rem_time[0]=bat_hndl_t_razr_min;
;;;344    if(Ib_ips_termokompensat>0)snmp_bat_rem_time[0]=-1;
;;;345    snmp_bat_temperature[0]=t_ext[0];
;;;346    if(ND_EXT[0])snmp_bat_temperature[0]=-1000;
;;;347    snmp_bat_capacity[0]=BAT_C_POINT_20;
;;;348    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;349    snmp_bat_status[0]=bat_ips._av&1;
;;;350    if(NUMBAT==0)snmp_bat_status[0]=0xff;
;;;351    #endif
;;;352    
;;;353    #ifndef UKU_ZVU
;;;354    snmp_bat_number[0]=1;
;;;355    snmp_bat_voltage[0]=bat[0]._Ub;
;;;356    snmp_bat_part_voltage[0]=bat[0]._Ubm;
;;;357    snmp_bat_current[0]=bat[0]._Ib;
;;;358    
;;;359    /*
;;;360    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;361    if(((AUSW_MAIN==22063)||(AUSW_MAIN==22023))&&(bps[8]._device==dIBAT_METR))
;;;362    	{
;;;363    	snmp_bat_current[0]=Ib_ips_termokompensat;
;;;364    	}
;;;365    #endif*/
;;;366    
;;;367    snmp_bat_temperature[0]=bat[0]._Tb;
;;;368    if(bat[0]._nd) snmp_bat_temperature[0]=-1000;
;;;369    
;;;370    if(BAT_C_REAL[0]==0x5555)snmp_bat_capacity[0]=BAT_C_NOM[0];
;;;371    else snmp_bat_capacity[0]=BAT_C_REAL[0];
;;;372    /*
;;;373    #ifdef UKU_ZVU
;;;374    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;375    
;;;376    #else
;;;377    snmp_bat_charge[0]=bat[0]._zar;
;;;378    #endif */
;;;379    snmp_bat_charge[0]=bat[0]._zar;
;;;380    snmp_bat_status[0]=bat[0]._av;
;;;381    if(BAT_IS_ON[0]!=bisON)snmp_bat_status[0]=0xff;
;;;382    
;;;383    
;;;384    snmp_bat_number[1]=2;
;;;385    snmp_bat_voltage[1]=bat[1]._Ub;
;;;386    snmp_bat_part_voltage[1]=bat[1]._Ubm;
;;;387    snmp_bat_current[1]=bat[1]._Ib;
;;;388    snmp_bat_temperature[1]=bat[1]._Tb;
;;;389    if(bat[1]._nd) snmp_bat_temperature[1]=-1000;
;;;390    if(BAT_C_REAL[1]==0x5555)snmp_bat_capacity[1]=BAT_C_NOM[1];
;;;391    else snmp_bat_capacity[1]=BAT_C_REAL[1];
;;;392    snmp_bat_charge[1]=bat[1]._zar;
;;;393    snmp_bat_status[1]=bat[1]._av;
;;;394    if(BAT_IS_ON[1]!=bisON)snmp_bat_status[1]=0xff;
;;;395    #endif
;;;396    
;;;397    
;;;398    snmp_bps_number[0]=1;
;;;399    snmp_bps_voltage[0]=bps[0]._Uii;
;;;400    snmp_bps_current[0]=bps[0]._Ii;
;;;401    snmp_bps_temperature[0]=bps[0]._Ti;
;;;402    snmp_bps_stat[0]=bps[0]._av;
;;;403    if(!(NUMIST>0))snmp_bps_stat[0]=0xff;												//Байт состояния БПСа.
;;;404    
;;;405    /*if(St_[0]&(1<<2))snmp_bps_stat[0]=(1<<3); 							//авария по Umin
;;;406    else if(St_[0]&(1<<3))snmp_bps_stat[0]=(1<<2); 						//авария по Umax
;;;407    else if(bps[0]._av&(1<<0))snmp_bps_stat[0]=(1<<1); 						//авария по Tmax
;;;408    else if(St_[0]&(1<<5))snmp_bps_stat[0]=(1<<5); 						//заблокирован
;;;409    else if((!(St_[0]&0x3c))&&(!St&0x01)&&(!OFFBP1))snmp_bps_stat[0]=1; 		//Работает
;;;410    */
;;;411    
;;;412    snmp_bps_number[1]=2;
;;;413    snmp_bps_voltage[1]=bps[1]._Uii;
;;;414    snmp_bps_current[1]=bps[1]._Ii;
;;;415    snmp_bps_temperature[1]=bps[1]._Ti;
;;;416    snmp_bps_stat[1]=bps[1]._av;
;;;417    if(!(NUMIST>1))snmp_bps_stat[1]=0xff;												//Байт состояния БПСа.
;;;418    /*if(St_[1]&(1<<2))snmp_bps_stat[1]=(1<<3); 							//авария по Umin
;;;419    else if(St_[1]&(1<<3))snmp_bps_stat[1]=(1<<2); 						//авария по Umax
;;;420    else if(St_[1]&(1<<4))snmp_bps_stat[1]=(1<<1); 						//авария по Tmax
;;;421    else if(St_[1]&(1<<5))snmp_bps_stat[1]=(1<<5); 						//заблокирован
;;;422    else if((!(St_[1]&0x3c))&&(!St&0x01)&&(!OFFBP2))snmp_bps_stat[1]=1; 		//Работает
;;;423    */
;;;424    
;;;425    snmp_bps_number[2]=3;
;;;426    snmp_bps_voltage[2]=bps[2]._Uii;
;;;427    snmp_bps_current[2]=bps[2]._Ii;
;;;428    snmp_bps_temperature[2]=bps[2]._Ti;
;;;429    snmp_bps_stat[2]=bps[2]._av;
;;;430    if(!(NUMIST>2))snmp_bps_stat[2]=0xff;
;;;431    
;;;432    snmp_bps_number[3]=4;
;;;433    snmp_bps_voltage[3]=bps[3]._Uii;
;;;434    snmp_bps_current[3]=bps[3]._Ii;
;;;435    snmp_bps_temperature[3]=bps[3]._Ti;
;;;436    snmp_bps_stat[3]=bps[3]._av;
;;;437    if(!(NUMIST>3))snmp_bps_stat[3]=0xff;
;;;438    
;;;439    snmp_bps_number[4]=5;
;;;440    snmp_bps_voltage[4]=bps[4]._Uii;
;;;441    snmp_bps_current[4]=bps[4]._Ii;
;;;442    snmp_bps_temperature[4]=bps[4]._Ti;
;;;443    snmp_bps_stat[4]=bps[4]._av;
;;;444    if(!(NUMIST>4))snmp_bps_stat[4]=0xff;
;;;445    
;;;446    snmp_bps_number[5]=6;
;;;447    snmp_bps_voltage[5]=bps[5]._Uii;
;;;448    snmp_bps_current[5]=bps[5]._Ii;
;;;449    snmp_bps_temperature[5]=bps[5]._Ti;
;;;450    snmp_bps_stat[5]=bps[5]._av;
;;;451    if(!(NUMIST>5))snmp_bps_stat[5]=0xff;
;;;452    
;;;453    snmp_bps_number[6]=7;
;;;454    snmp_bps_voltage[6]=bps[6]._Uii;
;;;455    snmp_bps_current[6]=bps[6]._Ii;
;;;456    snmp_bps_temperature[6]=bps[6]._Ti;
;;;457    snmp_bps_stat[6]=bps[6]._av;
;;;458    if(!(NUMIST>6))snmp_bps_stat[6]=0xff;
;;;459    
;;;460    snmp_bps_number[7]=8;
;;;461    snmp_bps_voltage[7]=bps[7]._Uii;
;;;462    snmp_bps_current[7]=bps[7]._Ii;
;;;463    snmp_bps_temperature[7]=bps[7]._Ti;
;;;464    snmp_bps_stat[7]=bps[7]._av;
;;;465    if(!(NUMIST>7))snmp_bps_stat[7]=0xff;
;;;466    
;;;467    
;;;468    
;;;469    snmp_inv_number[0]=1;
;;;470    snmp_inv_voltage[0]=inv[0]._Uio;
;;;471    snmp_inv_current[0]=inv[0]._Ii;
;;;472    snmp_inv_temperature[0]=inv[0]._Ti;
;;;473    snmp_inv_stat[0]=inv[0]._flags_tm;
;;;474    
;;;475    snmp_inv_number[1]=2;
;;;476    snmp_inv_voltage[1]=inv[1]._Uio;
;;;477    snmp_inv_current[1]=inv[1]._Ii;
;;;478    snmp_inv_temperature[1]=inv[1]._Ti;
;;;479    snmp_inv_stat[1]=inv[1]._flags_tm;
;;;480    
;;;481    snmp_inv_number[2]=3;
;;;482    snmp_inv_voltage[2]=inv[2]._Uio;
;;;483    snmp_inv_current[2]=inv[2]._Ii;
;;;484    snmp_inv_temperature[2]=inv[2]._Ti;
;;;485    snmp_inv_stat[2]=inv[2]._flags_tm;
;;;486    
;;;487    
;;;488    
;;;489    
;;;490    					  
;;;491    snmp_sk_number[0]=1;
;;;492    memcpy(&snmp_sk_name[0][0],"Door",10);
;;;493    if(sk_stat[0]==ssON) snmp_sk_aktiv[0]=1;
;;;494    else snmp_sk_aktiv[0]=0;
;;;495    if(!SK_SIGN[0])snmp_sk_alarm_aktiv[0]=1;
;;;496    else snmp_sk_alarm_aktiv[0]=0;
;;;497    if(sk_av_stat[0]==sasON)	snmp_sk_alarm[0]=1;
;;;498    else                     snmp_sk_alarm[0]=0;
;;;499    
;;;500    
;;;501    snmp_sk_number[1]=2;
;;;502    memcpy(&snmp_sk_name[1][0],"Smoke",10);
;;;503    if(sk_stat[1]==ssON) snmp_sk_aktiv[1]=1;
;;;504    else snmp_sk_aktiv[1]=0;
;;;505    if(!SK_SIGN[1])snmp_sk_alarm_aktiv[1]=1;
;;;506    else snmp_sk_alarm_aktiv[1]=0;
;;;507    if(sk_av_stat[1]==sasON)	snmp_sk_alarm[1]=1;
;;;508    else                     snmp_sk_alarm[1]=0;
;;;509    
;;;510    snmp_sk_number[2]=3;
;;;511    memcpy(&snmp_sk_name[2][0],"Shock",10);
;;;512    if(sk_stat[2]==ssON) snmp_sk_aktiv[2]=1;
;;;513    else snmp_sk_aktiv[2]=0;
;;;514    if(!SK_SIGN[2])snmp_sk_alarm_aktiv[2]=1;
;;;515    else snmp_sk_alarm_aktiv[2]=0;
;;;516    if(sk_av_stat[2]==sasON)	snmp_sk_alarm[2]=1;
;;;517    else                     snmp_sk_alarm[2]=0;
;;;518    
;;;519    snmp_sk_number[3]=4;
;;;520    memcpy(&snmp_sk_name[3][0],"     ",10);
;;;521    if(sk_stat[3]==ssON) snmp_sk_aktiv[3]=1;
;;;522    else snmp_sk_aktiv[3]=0;
;;;523    if(!SK_SIGN[3])snmp_sk_alarm_aktiv[3]=1;
;;;524    else snmp_sk_alarm_aktiv[3]=0;
;;;525    if(sk_av_stat[3]==sasON)	snmp_sk_alarm[3]=1;
;;;526    else                     snmp_sk_alarm[3]=0;
;;;527    
;;;528    
;;;529    if(makb[0]._cnt>8) snmp_makb_connect_status[0]=1;
;;;530    else if(makb[0]._cnt<2) snmp_makb_connect_status[0]=0;
;;;531    if(makb[1]._cnt>8) snmp_makb_connect_status[1]=1;
;;;532    else if(makb[1]._cnt<2) snmp_makb_connect_status[1]=0;
;;;533    if(makb[2]._cnt>8) snmp_makb_connect_status[2]=1;
;;;534    else if(makb[2]._cnt<2) snmp_makb_connect_status[2]=0;
;;;535    if(makb[3]._cnt>8) snmp_makb_connect_status[3]=1;
;;;536    else if(makb[3]._cnt<2) snmp_makb_connect_status[3]=0;
;;;537    
;;;538    snmp_makb_voltage0[0]=makb[0]._Ub[0];
;;;539    snmp_makb_voltage1[0]=makb[0]._Ub[1];
;;;540    snmp_makb_voltage2[0]=makb[0]._Ub[2];
;;;541    snmp_makb_voltage3[0]=makb[0]._Ub[3];
;;;542    snmp_makb_voltage4[0]=makb[0]._Ub[4];
;;;543    snmp_makb_voltage0[1]=makb[1]._Ub[0];
;;;544    snmp_makb_voltage1[1]=makb[1]._Ub[1];
;;;545    snmp_makb_voltage2[1]=makb[1]._Ub[2];
;;;546    snmp_makb_voltage3[1]=makb[1]._Ub[3];
;;;547    snmp_makb_voltage4[1]=makb[1]._Ub[4];
;;;548    snmp_makb_voltage0[2]=makb[2]._Ub[0];
;;;549    snmp_makb_voltage1[2]=makb[2]._Ub[1];
;;;550    snmp_makb_voltage2[2]=makb[2]._Ub[2];
;;;551    snmp_makb_voltage3[2]=makb[2]._Ub[3];
;;;552    snmp_makb_voltage4[2]=makb[2]._Ub[4];
;;;553    snmp_makb_voltage0[3]=makb[3]._Ub[0];
;;;554    snmp_makb_voltage1[3]=makb[3]._Ub[1];
;;;555    snmp_makb_voltage2[3]=makb[3]._Ub[2];
;;;556    snmp_makb_voltage3[3]=makb[3]._Ub[3];
;;;557    snmp_makb_voltage4[3]=makb[3]._Ub[4];
;;;558    
;;;559    snmp_makb_temper0[0]=makb[0]._T[0];
;;;560    snmp_makb_temper1[0]=makb[0]._T[1];
;;;561    snmp_makb_temper2[0]=makb[0]._T[2];
;;;562    snmp_makb_temper3[0]=makb[0]._T[3];
;;;563    snmp_makb_temper4[0]=makb[0]._T[4];
;;;564    snmp_makb_temper0[1]=makb[1]._T[0];
;;;565    snmp_makb_temper1[1]=makb[1]._T[1];
;;;566    snmp_makb_temper2[1]=makb[1]._T[2];
;;;567    snmp_makb_temper3[1]=makb[1]._T[3];
;;;568    snmp_makb_temper4[1]=makb[1]._T[4];
;;;569    snmp_makb_temper0[2]=makb[2]._T[0];
;;;570    snmp_makb_temper1[2]=makb[2]._T[1];
;;;571    snmp_makb_temper2[2]=makb[2]._T[2];
;;;572    snmp_makb_temper3[2]=makb[2]._T[3];
;;;573    snmp_makb_temper4[2]=makb[2]._T[4];
;;;574    snmp_makb_temper0[3]=makb[3]._T[0];
;;;575    snmp_makb_temper1[3]=makb[3]._T[1];
;;;576    snmp_makb_temper2[3]=makb[3]._T[2];
;;;577    snmp_makb_temper3[3]=makb[3]._T[3];
;;;578    snmp_makb_temper4[3]=makb[3]._T[4];
;;;579    
;;;580    snmp_makb_temper0_stat[0]=makb[0]._T_nd[0];
;;;581    snmp_makb_temper1_stat[0]=makb[0]._T_nd[1];
;;;582    snmp_makb_temper2_stat[0]=makb[0]._T_nd[2];
;;;583    snmp_makb_temper3_stat[0]=makb[0]._T_nd[3];
;;;584    snmp_makb_temper4_stat[0]=makb[0]._T_nd[4];
;;;585    snmp_makb_temper0_stat[1]=makb[1]._T_nd[0];
;;;586    snmp_makb_temper1_stat[1]=makb[1]._T_nd[1];
;;;587    snmp_makb_temper2_stat[1]=makb[1]._T_nd[2];
;;;588    snmp_makb_temper3_stat[1]=makb[1]._T_nd[3];
;;;589    snmp_makb_temper4_stat[1]=makb[1]._T_nd[4];
;;;590    snmp_makb_temper0_stat[2]=makb[2]._T_nd[0];
;;;591    snmp_makb_temper1_stat[2]=makb[2]._T_nd[1];
;;;592    snmp_makb_temper2_stat[2]=makb[2]._T_nd[2];
;;;593    snmp_makb_temper3_stat[2]=makb[2]._T_nd[3];
;;;594    snmp_makb_temper4_stat[2]=makb[2]._T_nd[4];
;;;595    snmp_makb_temper0_stat[3]=makb[3]._T_nd[0];
;;;596    snmp_makb_temper1_stat[3]=makb[3]._T_nd[1];
;;;597    snmp_makb_temper2_stat[3]=makb[3]._T_nd[2];
;;;598    snmp_makb_temper3_stat[3]=makb[3]._T_nd[3];
;;;599    snmp_makb_temper4_stat[3]=makb[3]._T_nd[4];
;;;600    
;;;601    
;;;602    snmp_klimat_box_temper=t_box;
;;;603    snmp_klimat_settings_box_alarm=TBOXMAX;
;;;604    snmp_klimat_settings_vent_on=TBOXVENTON;
;;;605    snmp_klimat_settings_vent_off=TBOXVENTOFF;
;;;606    snmp_klimat_settings_warm_on=TBOXWARMON;
;;;607    snmp_klimat_settings_warm_off=TBOXWARMOFF;
;;;608    snmp_klimat_settings_load_on=TLOADENABLE;
;;;609    snmp_klimat_settings_load_off=TLOADDISABLE;
;;;610    snmp_klimat_settings_batt_on=TBATENABLE;
;;;611    snmp_klimat_settings_batt_off=TBATDISABLE;
;;;612    
;;;613    snmp_dt_ext=t_ext[0];
;;;614    snmp_dt_msan=t_ext[1];
;;;615    snmp_dt_epu=t_ext[2];
;;;616    
;;;617    /*
;;;618    snmp_bat_voltage=Ubat;
;;;619    snmp_bat_current=Ibat;
;;;620    snmp_bat_temperature=t_b;
;;;621    if(BAT_C_REAL==0x5555)
;;;622    	{
;;;623    	snmp_bat_capacity=BAT_C_NOM*10;												    11
;;;624    	}
;;;625    else
;;;626    	{
;;;627    	snmp_bat_capacity=BAT_C_REAL;
;;;628    	}
;;;629    snmp_bat_charge=zar_percent;
;;;630    snmp_bat_status=0;
;;;631    if(St&0x02)snmp_bat_status|=0x01;
;;;632    if(Ibat>0)snmp_bat_status|=0x02;
;;;633    
;;;634    
;;;635    if(spc_stat==spc_OFF) snmp_spc_stat=0;
;;;636    else if(spc_stat==spc_KE) snmp_spc_stat=1;
;;;637    else if(spc_stat==spc_VZ) snmp_spc_stat=10;
;;;638    
;;;639    
;;;640    snmp_main_bps=MAIN_IST+1;
;;;641    */
;;;642    snmp_zv_en=ZV_ON;
;;;643    snmp_alarm_auto_disable=AV_OFF_AVT;
;;;644    snmp_bat_test_time=TBAT;
;;;645    snmp_u_max=UMAX;
;;;646    snmp_u_min=UB20-DU;
;;;647    snmp_u_0_grad=UB0;
;;;648    snmp_u_20_grad=UB20;
;;;649    snmp_u_sign=USIGN;
;;;650    snmp_u_min_power=UMN;
;;;651    snmp_u_withouth_bat=U0B;
;;;652    snmp_control_current=IKB;
;;;653    snmp_max_charge_current=IZMAX;
;;;654    snmp_max_current=IMAX;
;;;655    snmp_min_current=IMIN;
;;;656    //snmp_max_current_koef=KIMAX;
;;;657    snmp_uvz=UVZ;
;;;658    snmp_powerup_psu_timeout=TZAS;
;;;659    snmp_max_temperature=TMAX;
;;;660    snmp_tsign_bat=TBATSIGN; 
;;;661    snmp_tmax_bat=TBATMAX;
;;;662    snmp_tsign_bps=TSIGN;
;;;663    snmp_tmax_bps=TMAX;
;;;664    snmp_bat_part_alarm=UBM_AV; 
;;;665    snmp_power_cnt_adress=POWER_CNT_ADRESS;
;;;666    
;;;667    for(i=0;i<12;i++)
;;;668    	{
;;;669    	snmp_avt_number[i]=i+1;
;;;670    	if(avt_stat[i]==avtOFF)snmp_avt_stat[i]=0;
;;;671    	else snmp_avt_stat[i]=1;
;;;672    	}
;;;673    
;;;674    snmp_dt_number[0]=1;
;;;675    snmp_dt_number[1]=2;
;;;676    snmp_dt_number[2]=3;
;;;677    //snmp_dt_number[3]=4;
;;;678    snmp_dt_temper[0]=t_ext[0];
;;;679    snmp_dt_temper[1]=t_ext[1];
;;;680    snmp_dt_temper[2]=t_ext[2];
;;;681    //snmp_dt_temper[3]=t_ext[3];
;;;682    snmp_dt_error[0]=ND_EXT[0];
;;;683    if(NUMDT<1)snmp_dt_error[0]=0xff;
;;;684    snmp_dt_error[1]=ND_EXT[1];
;;;685    if(NUMDT<2)snmp_dt_error[0]=0xff;
;;;686    snmp_dt_error[2]=ND_EXT[2];
;;;687    if(NUMDT<3)snmp_dt_error[0]=0xff;
;;;688    //snmp_dt_error[3]=ND_EXT[3];
;;;689    if(NUMDT<4)snmp_dt_error[0]=0xff;
;;;690    
;;;691    /*
;;;692    //Литиевые батареи
;;;693    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;694    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;695    snmp_lakb_voltage[0]=lakb[0]._tot_bat_volt;				//Напряжение ЛАКБ
;;;696    snmp_lakb_voltage[1]=lakb[1]._tot_bat_volt;				//Напряжение ЛАКБ
;;;697    snmp_lakb_max_cell_voltage[0]=lakb[0]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;698    snmp_lakb_max_cell_voltage[1]=lakb[1]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;699    snmp_lakb_min_cell_voltage[0]=lakb[0]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;700    snmp_lakb_min_cell_voltage[1]=lakb[1]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;701    snmp_lakb_max_cell_temperature[0]=lakb[0]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;702    snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;703    snmp_lakb_min_cell_temperature[0]=lakb[0]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;704    snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;705    snmp_lakb_ch_curr[0]=lakb[0]._ch_curr;					//Ток заряда ЛАКБ
;;;706    snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;707    snmp_lakb_dsch_curr[0]=lakb[0]._dsch_curr;				//Ток разряда ЛАКБ
;;;708    snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;709    snmp_lakb_rat_cap[0]=lakb[0]._rat_cap;					//Номинальная емкость ЛАКБ
;;;710    snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;711    snmp_lakb_soh[0]=lakb[0]._s_o_h;						//Остаточная емкость ЛАКБ
;;;712    snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;713    snmp_lakb_soc[0]=lakb[0]._s_o_c;						//Заряд ЛАКБ
;;;714    snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;715    snmp_lakb_cclv[0]=lakb[0]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;716    snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;717    snmp_lakb_rbt[0]=lakb[0]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;718    snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;719    snmp_lakb_flags1[0]=lakb[0]._flags1;					//Первый флаг состояния ЛАКБ
;;;720    snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;721    snmp_lakb_flags2[0]=lakb[0]._flags2;					//Второй флаг состояния ЛАКБ
;;;722    snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ */
;;;723    
;;;724    //Литиевые батареи
;;;725    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;726    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;727    snmp_lakb_number[2]=3;								//Номер ЛАКБ
;;;728    snmp_lakb_number[3]=4;								//Номер ЛАКБ
;;;729    snmp_lakb_number[4]=5;								//Номер ЛАКБ
;;;730    snmp_lakb_number[5]=6;								//Номер ЛАКБ
;;;731    snmp_lakb_number[6]=7;								//Номер ЛАКБ
;;;732    
;;;733    for (i=0;i<3;i++)
;;;734    	{
;;;735    	snmp_lakb_voltage[i]=lakb[i]._tot_bat_volt;				//Напряжение ЛАКБ
;;;736    	snmp_lakb_max_cell_voltage[i]=lakb[i]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;737    	snmp_lakb_min_cell_voltage[i]=lakb[i]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;738    	snmp_lakb_max_cell_temperature[i]=lakb[i]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;739    	//snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;740    	snmp_lakb_min_cell_temperature[i]=lakb[i]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;741    	//snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;742    	snmp_lakb_ch_curr[i]=lakb[i]._ch_curr;					//Ток заряда ЛАКБ
;;;743    	//snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;744    	snmp_lakb_dsch_curr[i]=lakb[i]._dsch_curr;				//Ток разряда ЛАКБ
;;;745    	//snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;746    	snmp_lakb_rat_cap[i]=lakb[i]._rat_cap;					//Номинальная емкость ЛАКБ
;;;747    	//snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;748    	snmp_lakb_soh[i]=lakb[i]._s_o_h;						//Остаточная емкость ЛАКБ
;;;749    	//snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;750    	snmp_lakb_soc[i]=lakb[i]._s_o_c;						//Заряд ЛАКБ
;;;751    	//snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;752    	snmp_lakb_cclv[i]=lakb[i]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;753    	//snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;754    	snmp_lakb_rbt[i]=lakb[i]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;755    	//snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;756    	snmp_lakb_flags1[i]=lakb[i]._flags1;					//Первый флаг состояния ЛАКБ
;;;757    	//snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;758    	snmp_lakb_flags2[i]=lakb[i]._flags2;					//Второй флаг состояния ЛАКБ
;;;759    	//snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ
;;;760    
;;;761    	snmp_lakb_cell_temperature_1[i]= lakb[i]._cell_temp_1;
;;;762    	snmp_lakb_cell_temperature_2[i]= lakb[i]._cell_temp_2;
;;;763    	snmp_lakb_cell_temperature_3[i]= lakb[i]._cell_temp_3;
;;;764    	snmp_lakb_cell_temperature_4[i]= lakb[i]._cell_temp_4;
;;;765    	snmp_lakb_cell_temperature_ambient[i]=lakb[i]._cell_temp_ambient;
;;;766    	snmp_lakb_cell_temperature_power[i]=lakb[i]._cell_temp_power;
;;;767    	}
;;;768    
;;;769    for (i=0;i<7;i++)
;;;770    {
;;;771    /*
;;;772    snmp_lakb_damp1[i][0]=ABCDEF[(lakb_damp[i][0])>>4];			//Дамп
;;;773    snmp_lakb_damp1[i][1]=ABCDEF[(lakb_damp[i][0])&0x0f];			//Дамп
;;;774    snmp_lakb_damp1[i][2]=' ';
;;;775    snmp_lakb_damp1[i][3]=ABCDEF[(lakb_damp[i][1])>>4];			//Дамп
;;;776    snmp_lakb_damp1[i][4]=ABCDEF[(lakb_damp[i][1])&0x0f];			//Дамп
;;;777    snmp_lakb_damp1[i][5]=' ';
;;;778    snmp_lakb_damp1[i][6]=ABCDEF[(lakb_damp[i][2])>>4];			//Дамп
;;;779    snmp_lakb_damp1[i][7]=ABCDEF[(lakb_damp[i][2])&0x0f];			//Дамп
;;;780    snmp_lakb_damp1[i][8]=' ';
;;;781    snmp_lakb_damp1[i][9]=ABCDEF[(lakb_damp[i][3])>>4];			//Дамп
;;;782    snmp_lakb_damp1[i][10]=ABCDEF[(lakb_damp[i][3])&0x0f];			//Дамп
;;;783    snmp_lakb_damp1[i][11]=' ';
;;;784    snmp_lakb_damp1[i][12]=ABCDEF[(lakb_damp[i][4])>>4];			//Дамп
;;;785    snmp_lakb_damp1[i][13]=ABCDEF[(lakb_damp[i][4])&0x0f];			//Дамп
;;;786    snmp_lakb_damp1[i][14]=' '; 
;;;787    snmp_lakb_damp1[i][15]=ABCDEF[(lakb_damp[i][5])>>4];			//Дамп
;;;788    snmp_lakb_damp1[i][16]=ABCDEF[(lakb_damp[i][5])&0x0f];			//Дамп
;;;789    snmp_lakb_damp1[i][17]=' ';
;;;790    snmp_lakb_damp1[i][18]=ABCDEF[(lakb_damp[i][6])>>4];			//Дамп
;;;791    snmp_lakb_damp1[i][19]=ABCDEF[(lakb_damp[i][6])&0x0f];			//Дамп
;;;792    snmp_lakb_damp1[i][20]=' ';
;;;793    snmp_lakb_damp1[i][21]=ABCDEF[(lakb_damp[i][7])>>4];			//Дамп
;;;794    snmp_lakb_damp1[i][22]=ABCDEF[(lakb_damp[i][7])&0x0f];			//Дамп
;;;795    snmp_lakb_damp1[i][23]=' ';
;;;796    snmp_lakb_damp1[i][24]=ABCDEF[(lakb_damp[i][8])>>4];			//Дамп
;;;797    snmp_lakb_damp1[i][25]=ABCDEF[(lakb_damp[i][8])&0x0f];			//Дамп
;;;798    snmp_lakb_damp1[i][26]=' ';
;;;799    snmp_lakb_damp1[i][27]=ABCDEF[(lakb_damp[i][9])>>4];			//Дамп
;;;800    snmp_lakb_damp1[i][28]=ABCDEF[(lakb_damp[i][9])&0x0f];			//Дамп
;;;801    snmp_lakb_damp1[i][29]=0; 
;;;802    
;;;803    snmp_lakb_damp1[i][30]=ABCDEF[(lakb_damp[i][10])>>4];			//Дамп
;;;804    snmp_lakb_damp1[i][31]=ABCDEF[(lakb_damp[i][10])&0x0f];			//Дамп
;;;805    snmp_lakb_damp1[i][32]=' ';
;;;806    snmp_lakb_damp1[i][33]=ABCDEF[(lakb_damp[i][11])>>4];			//Дамп
;;;807    snmp_lakb_damp1[i][34]=ABCDEF[(lakb_damp[i][11])&0x0f];			//Дамп
;;;808    snmp_lakb_damp1[i][35]=' ';
;;;809    snmp_lakb_damp1[i][36]=ABCDEF[(lakb_damp[i][12])>>4];			//Дамп
;;;810    snmp_lakb_damp1[i][37]=ABCDEF[(lakb_damp[i][12])&0x0f];			//Дамп
;;;811    snmp_lakb_damp1[i][38]=' ';
;;;812    snmp_lakb_damp1[i][39]=ABCDEF[(lakb_damp[i][13])>>4];			//Дамп
;;;813    snmp_lakb_damp1[i][40]=ABCDEF[(lakb_damp[i][13])&0x0f];			//Дамп
;;;814    snmp_lakb_damp1[i][41]=' ';
;;;815    snmp_lakb_damp1[i][42]=ABCDEF[(lakb_damp[i][14])>>4];			//Дамп
;;;816    snmp_lakb_damp1[i][43]=ABCDEF[(lakb_damp[i][14])&0x0f];			//Дамп
;;;817    snmp_lakb_damp1[i][44]=' '; 
;;;818    snmp_lakb_damp1[i][45]=ABCDEF[(lakb_damp[i][15])>>4];			//Дамп
;;;819    snmp_lakb_damp1[i][46]=ABCDEF[(lakb_damp[i][15])&0x0f];			//Дамп
;;;820    snmp_lakb_damp1[i][47]=' ';
;;;821    snmp_lakb_damp1[i][48]=ABCDEF[(lakb_damp[i][16])>>4];			//Дамп
;;;822    snmp_lakb_damp1[i][49]=ABCDEF[(lakb_damp[i][16])&0x0f];			//Дамп
;;;823    snmp_lakb_damp1[i][50]=' ';
;;;824    snmp_lakb_damp1[i][51]=ABCDEF[(lakb_damp[i][17])>>4];			//Дамп
;;;825    snmp_lakb_damp1[i][52]=ABCDEF[(lakb_damp[i][17])&0x0f];			//Дамп
;;;826    snmp_lakb_damp1[i][53]=' ';
;;;827    snmp_lakb_damp1[i][54]=ABCDEF[(lakb_damp[i][18])>>4];			//Дамп
;;;828    snmp_lakb_damp1[i][55]=ABCDEF[(lakb_damp[i][18])&0x0f];			//Дамп
;;;829    snmp_lakb_damp1[i][56]=' ';
;;;830    snmp_lakb_damp1[i][57]=ABCDEF[(lakb_damp[i][19])>>4];			//Дамп
;;;831    snmp_lakb_damp1[i][58]=ABCDEF[(lakb_damp[i][19])&0x0f];			//Дамп
;;;832    snmp_lakb_damp1[i][59]=0; 
;;;833    
;;;834    
;;;835    snmp_lakb_damp1[i][60]=ABCDEF[(lakb_damp[i][20])>>4];			//Дамп
;;;836    snmp_lakb_damp1[i][61]=ABCDEF[(lakb_damp[i][20])&0x0f];			//Дамп
;;;837    snmp_lakb_damp1[i][62]=' ';
;;;838    snmp_lakb_damp1[i][63]=ABCDEF[(lakb_damp[i][21])>>4];			//Дамп
;;;839    snmp_lakb_damp1[i][64]=ABCDEF[(lakb_damp[i][21])&0x0f];			//Дамп
;;;840    snmp_lakb_damp1[i][65]=' ';
;;;841    snmp_lakb_damp1[i][66]=ABCDEF[(lakb_damp[i][22])>>4];			//Дамп
;;;842    snmp_lakb_damp1[i][67]=ABCDEF[(lakb_damp[i][22])&0x0f];			//Дамп
;;;843    snmp_lakb_damp1[i][68]=' ';
;;;844    snmp_lakb_damp1[i][69]=ABCDEF[(lakb_damp[i][23])>>4];			//Дамп
;;;845    snmp_lakb_damp1[i][70]=ABCDEF[(lakb_damp[i][23])&0x0f];			//Дамп
;;;846    snmp_lakb_damp1[i][71]=' ';
;;;847    snmp_lakb_damp1[i][72]=ABCDEF[(lakb_damp[i][24])>>4];			//Дамп
;;;848    snmp_lakb_damp1[i][73]=ABCDEF[(lakb_damp[i][24])&0x0f];			//Дамп
;;;849    snmp_lakb_damp1[i][74]=' '; 
;;;850    snmp_lakb_damp1[i][75]=ABCDEF[(lakb_damp[i][25])>>4];			//Дамп
;;;851    snmp_lakb_damp1[i][76]=ABCDEF[(lakb_damp[i][25])&0x0f];			//Дамп
;;;852    snmp_lakb_damp1[i][77]=' ';
;;;853    snmp_lakb_damp1[i][78]=ABCDEF[(lakb_damp[i][26])>>4];			//Дамп
;;;854    snmp_lakb_damp1[i][79]=ABCDEF[(lakb_damp[i][26])&0x0f];			//Дамп
;;;855    snmp_lakb_damp1[i][80]=' ';
;;;856    snmp_lakb_damp1[i][81]=ABCDEF[(lakb_damp[i][27])>>4];			//Дамп
;;;857    snmp_lakb_damp1[i][82]=ABCDEF[(lakb_damp[i][27])&0x0f];			//Дамп
;;;858    snmp_lakb_damp1[i][83]=' ';
;;;859    snmp_lakb_damp1[i][84]=ABCDEF[(lakb_damp[i][28])>>4];			//Дамп
;;;860    snmp_lakb_damp1[i][85]=ABCDEF[(lakb_damp[i][28])&0x0f];			//Дамп
;;;861    snmp_lakb_damp1[i][86]=' ';
;;;862    snmp_lakb_damp1[i][87]=ABCDEF[(lakb_damp[i][29])>>4];			//Дамп
;;;863    snmp_lakb_damp1[i][88]=ABCDEF[(lakb_damp[i][29])&0x0f];			//Дамп
;;;864    snmp_lakb_damp1[i][89]=0;
;;;865    
;;;866    
;;;867    snmp_lakb_damp1[i][90]=ABCDEF[(lakb_damp[i][30])>>4];			//Дамп
;;;868    snmp_lakb_damp1[i][91]=ABCDEF[(lakb_damp[i][30])&0x0f];			//Дамп
;;;869    snmp_lakb_damp1[i][92]=' ';
;;;870    snmp_lakb_damp1[i][93]=ABCDEF[(lakb_damp[i][31])>>4];			//Дамп
;;;871    snmp_lakb_damp1[i][94]=ABCDEF[(lakb_damp[i][31])&0x0f];			//Дамп
;;;872    snmp_lakb_damp1[i][95]=' ';
;;;873    snmp_lakb_damp1[i][96]=ABCDEF[(lakb_damp[i][32])>>4];			//Дамп
;;;874    snmp_lakb_damp1[i][97]=ABCDEF[(lakb_damp[i][32])&0x0f];			//Дамп
;;;875    snmp_lakb_damp1[i][98]=' ';
;;;876    snmp_lakb_damp1[i][99]=ABCDEF[(lakb_damp[i][33])>>4];			//Дамп
;;;877    snmp_lakb_damp1[i][100]=ABCDEF[(lakb_damp[i][33])&0x0f];			//Дамп
;;;878    snmp_lakb_damp1[i][101]=' ';
;;;879    snmp_lakb_damp1[i][102]=ABCDEF[(lakb_damp[i][34])>>4];			//Дамп
;;;880    snmp_lakb_damp1[i][103]=ABCDEF[(lakb_damp[i][34])&0x0f];			//Дамп
;;;881    snmp_lakb_damp1[i][104]=' '; 
;;;882    snmp_lakb_damp1[i][105]=ABCDEF[(lakb_damp[i][35])>>4];			//Дамп
;;;883    snmp_lakb_damp1[i][106]=ABCDEF[(lakb_damp[i][35])&0x0f];			//Дамп
;;;884    snmp_lakb_damp1[i][107]=' ';
;;;885    snmp_lakb_damp1[i][108]=ABCDEF[(lakb_damp[i][36])>>4];			//Дамп
;;;886    snmp_lakb_damp1[i][109]=ABCDEF[(lakb_damp[i][36])&0x0f];			//Дамп
;;;887    snmp_lakb_damp1[i][110]=' ';
;;;888    snmp_lakb_damp1[i][111]=ABCDEF[(lakb_damp[i][37])>>4];			//Дамп
;;;889    snmp_lakb_damp1[i][112]=ABCDEF[(lakb_damp[i][37])&0x0f];			//Дамп
;;;890    snmp_lakb_damp1[i][113]=' ';
;;;891    snmp_lakb_damp1[i][114]=ABCDEF[(lakb_damp[i][38])>>4];			//Дамп
;;;892    snmp_lakb_damp1[i][115]=ABCDEF[(lakb_damp[i][38])&0x0f];			//Дамп
;;;893    snmp_lakb_damp1[i][116]=' ';
;;;894    snmp_lakb_damp1[i][117]=ABCDEF[(lakb_damp[i][39])>>4];			//Дамп
;;;895    snmp_lakb_damp1[i][118]=ABCDEF[(lakb_damp[i][39])&0x0f];			//Дамп
;;;896    snmp_lakb_damp1[i][119]=0; 
;;;897     
;;;898    
;;;899    snmp_lakb_damp1[i][120]=ABCDEF[(lakb_damp[i][40])>>4];			//Дамп
;;;900    snmp_lakb_damp1[i][121]=ABCDEF[(lakb_damp[i][40])&0x0f];			//Дамп
;;;901    snmp_lakb_damp1[i][122]=' ';
;;;902    snmp_lakb_damp1[i][123]=ABCDEF[(lakb_damp[i][41])>>4];			//Дамп
;;;903    snmp_lakb_damp1[i][124]=ABCDEF[(lakb_damp[i][41])&0x0f];			//Дамп
;;;904    snmp_lakb_damp1[i][125]=' ';
;;;905    snmp_lakb_damp1[i][126]=ABCDEF[(lakb_damp[i][42])>>4];			//Дамп
;;;906    snmp_lakb_damp1[i][127]=ABCDEF[(lakb_damp[i][42])&0x0f];			//Дамп
;;;907    snmp_lakb_damp1[i][128]=' ';
;;;908    snmp_lakb_damp1[i][129]=ABCDEF[(lakb_damp[i][43])>>4];			//Дамп
;;;909    snmp_lakb_damp1[i][130]=ABCDEF[(lakb_damp[i][43])&0x0f];			//Дамп
;;;910    snmp_lakb_damp1[i][131]=' ';
;;;911    snmp_lakb_damp1[i][132]=ABCDEF[(lakb_damp[i][44])>>4];			//Дамп
;;;912    snmp_lakb_damp1[i][133]=ABCDEF[(lakb_damp[i][44])&0x0f];			//Дамп
;;;913    snmp_lakb_damp1[i][134]=' '; 
;;;914    snmp_lakb_damp1[i][135]=ABCDEF[(lakb_damp[i][45])>>4];			//Дамп
;;;915    snmp_lakb_damp1[i][136]=ABCDEF[(lakb_damp[i][45])&0x0f];			//Дамп
;;;916    snmp_lakb_damp1[i][137]=' ';
;;;917    snmp_lakb_damp1[i][138]=ABCDEF[(lakb_damp[i][46])>>4];			//Дамп
;;;918    snmp_lakb_damp1[i][139]=ABCDEF[(lakb_damp[i][46])&0x0f];			//Дамп
;;;919    snmp_lakb_damp1[i][140]=' ';
;;;920    snmp_lakb_damp1[i][141]=ABCDEF[(lakb_damp[i][47])>>4];			//Дамп
;;;921    snmp_lakb_damp1[i][142]=ABCDEF[(lakb_damp[i][47])&0x0f];			//Дамп
;;;922    snmp_lakb_damp1[i][143]=' ';
;;;923    snmp_lakb_damp1[i][144]=ABCDEF[(lakb_damp[i][48])>>4];			//Дамп
;;;924    snmp_lakb_damp1[i][145]=ABCDEF[(lakb_damp[i][48])&0x0f];			//Дамп
;;;925    snmp_lakb_damp1[i][146]=' ';
;;;926    snmp_lakb_damp1[i][147]=ABCDEF[(lakb_damp[i][49])>>4];			//Дамп
;;;927    snmp_lakb_damp1[i][148]=ABCDEF[(lakb_damp[i][49])&0x0f];			//Дамп
;;;928    snmp_lakb_damp1[i][149]=0;  */
;;;929    }
;;;930    
;;;931    #ifdef UKU_TELECORE2017
;;;932    snmp_warm_sign=0;
;;;933    if(TELECORE2017_KLIMAT_WARM_SIGNAL==0) snmp_warm_sign=2;
;;;934    else if(TELECORE2017_KLIMAT_WARM_SIGNAL==1) snmp_warm_sign=1;
;;;935    snmp_cool_sign=0;
;;;936    if(TELECORE2017_KLIMAT_VENT_SIGNAL==0) snmp_cool_sign=2;
;;;937    else if(TELECORE2017_KLIMAT_VENT_SIGNAL==1) snmp_cool_sign=1;
;;;938    snmp_warm_on_temper=(signed char)TELECORE2017_KLIMAT_WARM_ON; 
;;;939    snmp_warm_off_temper=(signed char)TELECORE2017_KLIMAT_WARM_OFF;
;;;940    snmp_warm_q=(signed char)TELECORE2017_KLIMAT_CAP;	
;;;941    snmp_cool_20_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON20;
;;;942    snmp_cool_40_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON40;
;;;943    snmp_cool_60_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON60;
;;;944    snmp_cool_80_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON80;
;;;945    snmp_cool_100_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON100;
;;;946    snmp_cool_20_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON20;
;;;947    snmp_cool_40_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON40;
;;;948    snmp_cool_60_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON60;
;;;949    snmp_cool_80_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON80;
;;;950    snmp_cool_100_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON100;
;;;951    snmp_warm_stat=0;
;;;952    if(warm_stat_k==wsON) snmp_warm_stat=1;
;;;953    #endif
;;;954    }
;;;955    //-----------------------------------------------
                          ENDP

000022  0000              DCW      0x0000
                  |L2.36|
                          DCD      ||.data||+0x80

                          AREA ||area_number.3||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.3||, ||.text||
                  snmp_alarm_aktiv_write3 PROC
;;;261    //-----------------------------------------------
;;;262    void snmp_data (void) 
000000  2801              CMP      r0,#1
;;;263    {
000002  d10e              BNE      |L3.34|
;;;264    char i;
;;;265    
;;;266    snmp_mains_power_voltage=net_U;
000004  4807              LDR      r0,|L3.36|
000006  7881              LDRB     r1,[r0,#2]  ; snmp_sk_alarm_aktiv
000008  4807              LDR      r0,|L3.40|
00000a  b121              CBZ      r1,|L3.22|
00000c  f9b00004          LDRSH    r0,[r0,#4]  ; ADR_SK_SIGN
;;;267    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;268    snmp_mains_power_frequency=net_F3;
000010  2100              MOVS     r1,#0
000012  f7ffbffe          B.W      lc640_write_int
                  |L3.22|
;;;269    #else
;;;270    snmp_mains_power_frequency=net_F;
;;;271    #endif
;;;272    snmp_mains_power_voltage_phaseA=net_Ua;
000016  f9b00004          LDRSH    r0,[r0,#4]  ; ADR_SK_SIGN
00001a  f04f31ff          MOV      r1,#0xffffffff
;;;273    snmp_mains_power_voltage_phaseB=net_Ub;
00001e  f7ffbffe          B.W      lc640_write_int
                  |L3.34|
;;;274    snmp_mains_power_voltage_phaseC=net_Uc;
000022  4770              BX       lr
;;;275    
;;;276    
;;;277    if(avar_stat&0x0001)snmp_mains_power_alarm=1;
;;;278    else snmp_mains_power_alarm=0;
;;;279    if(avar_stat&0x0001)snmp_mains_power_status=1;
;;;280    else snmp_mains_power_status=0;
;;;281    
;;;282    /*
;;;283    snmp_mains_power_status=0; 
;;;284    #if(UKU_VERSION==900)
;;;285    snmp_mains_power_status=2;
;;;286    #endif
;;;287    if(St&0x01)snmp_mains_power_status|=0x01;
;;;288    if(St&0x01)snmp_mains_power_alarm=1;
;;;289    
;;;290    
;;;291    
;;;292    
;;;293    
;;;294    
;;;295    for(i=0;i<snmp_numofevents;i++)event2snmp(i);
;;;296    //snmp_bpsnumber[0]=1;
;;;297    //snmp_bpsnumber[1]=2;
;;;298    
;;;299    
;;;300    snmp_sernum_lsb=0x1122;
;;;301    snmp_sernum_msb=0x3344;
;;;302    snmp_device_code=AUSW_MAIN;
;;;303    
;;;304    //memcpy(snmp_location,"lkhg;la",);
;;;305    
;;;306    
;;;307    snmp_numofbat=1;
;;;308    
;;;309    */
;;;310    snmp_sernum=AUSW_MAIN_NUMBER;
;;;311    
;;;312    snmp_load_voltage=load_U;
;;;313    snmp_load_current=load_I;
;;;314    snmp_numofbat=NUMBAT;
;;;315    snmp_numofbps=NUMIST;
;;;316    snmp_numofinv=NUMINV;
;;;317    snmp_numofavt=NUMAVT;
;;;318    snmp_numofdt=NUMDT;
;;;319    snmp_numofsk=NUMSK;
;;;320    snmp_numofevents=lc640_read_int(CNT_EVENT_LOG);
;;;321    
;;;322    snmp_energy_vvod_phase_a=Uvv_eb2[0];
;;;323    snmp_energy_vvod_phase_b=Uvv_eb2[1];
;;;324    snmp_energy_vvod_phase_c=Uvv_eb2[2];
;;;325    snmp_energy_pes_phase_a=Upes_eb2[0];
;;;326    snmp_energy_pes_phase_b=Upes_eb2[1];
;;;327    snmp_energy_pes_phase_c=Upes_eb2[2];
;;;328    
;;;329    #ifdef UKU_KONTUR
;;;330    snmp_energy_vvod_phase_a=Uvv0;
;;;331    snmp_energy_pes_phase_a=Uvv[1];
;;;332    #endif
;;;333    
;;;334    snmp_energy_total_energy=power_summary;
;;;335    snmp_energy_current_energy=power_current;
;;;336    snmp_energy_input_voltage=net_U;
;;;337    
;;;338    
;;;339    #ifdef UKU_ZVU
;;;340    snmp_bat_number[0]=1;
;;;341    snmp_bat_voltage[0]=out_U;
;;;342    snmp_bat_current[0]=Ib_ips_termokompensat;
;;;343    snmp_bat_rem_time[0]=bat_hndl_t_razr_min;
;;;344    if(Ib_ips_termokompensat>0)snmp_bat_rem_time[0]=-1;
;;;345    snmp_bat_temperature[0]=t_ext[0];
;;;346    if(ND_EXT[0])snmp_bat_temperature[0]=-1000;
;;;347    snmp_bat_capacity[0]=BAT_C_POINT_20;
;;;348    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;349    snmp_bat_status[0]=bat_ips._av&1;
;;;350    if(NUMBAT==0)snmp_bat_status[0]=0xff;
;;;351    #endif
;;;352    
;;;353    #ifndef UKU_ZVU
;;;354    snmp_bat_number[0]=1;
;;;355    snmp_bat_voltage[0]=bat[0]._Ub;
;;;356    snmp_bat_part_voltage[0]=bat[0]._Ubm;
;;;357    snmp_bat_current[0]=bat[0]._Ib;
;;;358    
;;;359    /*
;;;360    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;361    if(((AUSW_MAIN==22063)||(AUSW_MAIN==22023))&&(bps[8]._device==dIBAT_METR))
;;;362    	{
;;;363    	snmp_bat_current[0]=Ib_ips_termokompensat;
;;;364    	}
;;;365    #endif*/
;;;366    
;;;367    snmp_bat_temperature[0]=bat[0]._Tb;
;;;368    if(bat[0]._nd) snmp_bat_temperature[0]=-1000;
;;;369    
;;;370    if(BAT_C_REAL[0]==0x5555)snmp_bat_capacity[0]=BAT_C_NOM[0];
;;;371    else snmp_bat_capacity[0]=BAT_C_REAL[0];
;;;372    /*
;;;373    #ifdef UKU_ZVU
;;;374    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;375    
;;;376    #else
;;;377    snmp_bat_charge[0]=bat[0]._zar;
;;;378    #endif */
;;;379    snmp_bat_charge[0]=bat[0]._zar;
;;;380    snmp_bat_status[0]=bat[0]._av;
;;;381    if(BAT_IS_ON[0]!=bisON)snmp_bat_status[0]=0xff;
;;;382    
;;;383    
;;;384    snmp_bat_number[1]=2;
;;;385    snmp_bat_voltage[1]=bat[1]._Ub;
;;;386    snmp_bat_part_voltage[1]=bat[1]._Ubm;
;;;387    snmp_bat_current[1]=bat[1]._Ib;
;;;388    snmp_bat_temperature[1]=bat[1]._Tb;
;;;389    if(bat[1]._nd) snmp_bat_temperature[1]=-1000;
;;;390    if(BAT_C_REAL[1]==0x5555)snmp_bat_capacity[1]=BAT_C_NOM[1];
;;;391    else snmp_bat_capacity[1]=BAT_C_REAL[1];
;;;392    snmp_bat_charge[1]=bat[1]._zar;
;;;393    snmp_bat_status[1]=bat[1]._av;
;;;394    if(BAT_IS_ON[1]!=bisON)snmp_bat_status[1]=0xff;
;;;395    #endif
;;;396    
;;;397    
;;;398    snmp_bps_number[0]=1;
;;;399    snmp_bps_voltage[0]=bps[0]._Uii;
;;;400    snmp_bps_current[0]=bps[0]._Ii;
;;;401    snmp_bps_temperature[0]=bps[0]._Ti;
;;;402    snmp_bps_stat[0]=bps[0]._av;
;;;403    if(!(NUMIST>0))snmp_bps_stat[0]=0xff;												//Байт состояния БПСа.
;;;404    
;;;405    /*if(St_[0]&(1<<2))snmp_bps_stat[0]=(1<<3); 							//авария по Umin
;;;406    else if(St_[0]&(1<<3))snmp_bps_stat[0]=(1<<2); 						//авария по Umax
;;;407    else if(bps[0]._av&(1<<0))snmp_bps_stat[0]=(1<<1); 						//авария по Tmax
;;;408    else if(St_[0]&(1<<5))snmp_bps_stat[0]=(1<<5); 						//заблокирован
;;;409    else if((!(St_[0]&0x3c))&&(!St&0x01)&&(!OFFBP1))snmp_bps_stat[0]=1; 		//Работает
;;;410    */
;;;411    
;;;412    snmp_bps_number[1]=2;
;;;413    snmp_bps_voltage[1]=bps[1]._Uii;
;;;414    snmp_bps_current[1]=bps[1]._Ii;
;;;415    snmp_bps_temperature[1]=bps[1]._Ti;
;;;416    snmp_bps_stat[1]=bps[1]._av;
;;;417    if(!(NUMIST>1))snmp_bps_stat[1]=0xff;												//Байт состояния БПСа.
;;;418    /*if(St_[1]&(1<<2))snmp_bps_stat[1]=(1<<3); 							//авария по Umin
;;;419    else if(St_[1]&(1<<3))snmp_bps_stat[1]=(1<<2); 						//авария по Umax
;;;420    else if(St_[1]&(1<<4))snmp_bps_stat[1]=(1<<1); 						//авария по Tmax
;;;421    else if(St_[1]&(1<<5))snmp_bps_stat[1]=(1<<5); 						//заблокирован
;;;422    else if((!(St_[1]&0x3c))&&(!St&0x01)&&(!OFFBP2))snmp_bps_stat[1]=1; 		//Работает
;;;423    */
;;;424    
;;;425    snmp_bps_number[2]=3;
;;;426    snmp_bps_voltage[2]=bps[2]._Uii;
;;;427    snmp_bps_current[2]=bps[2]._Ii;
;;;428    snmp_bps_temperature[2]=bps[2]._Ti;
;;;429    snmp_bps_stat[2]=bps[2]._av;
;;;430    if(!(NUMIST>2))snmp_bps_stat[2]=0xff;
;;;431    
;;;432    snmp_bps_number[3]=4;
;;;433    snmp_bps_voltage[3]=bps[3]._Uii;
;;;434    snmp_bps_current[3]=bps[3]._Ii;
;;;435    snmp_bps_temperature[3]=bps[3]._Ti;
;;;436    snmp_bps_stat[3]=bps[3]._av;
;;;437    if(!(NUMIST>3))snmp_bps_stat[3]=0xff;
;;;438    
;;;439    snmp_bps_number[4]=5;
;;;440    snmp_bps_voltage[4]=bps[4]._Uii;
;;;441    snmp_bps_current[4]=bps[4]._Ii;
;;;442    snmp_bps_temperature[4]=bps[4]._Ti;
;;;443    snmp_bps_stat[4]=bps[4]._av;
;;;444    if(!(NUMIST>4))snmp_bps_stat[4]=0xff;
;;;445    
;;;446    snmp_bps_number[5]=6;
;;;447    snmp_bps_voltage[5]=bps[5]._Uii;
;;;448    snmp_bps_current[5]=bps[5]._Ii;
;;;449    snmp_bps_temperature[5]=bps[5]._Ti;
;;;450    snmp_bps_stat[5]=bps[5]._av;
;;;451    if(!(NUMIST>5))snmp_bps_stat[5]=0xff;
;;;452    
;;;453    snmp_bps_number[6]=7;
;;;454    snmp_bps_voltage[6]=bps[6]._Uii;
;;;455    snmp_bps_current[6]=bps[6]._Ii;
;;;456    snmp_bps_temperature[6]=bps[6]._Ti;
;;;457    snmp_bps_stat[6]=bps[6]._av;
;;;458    if(!(NUMIST>6))snmp_bps_stat[6]=0xff;
;;;459    
;;;460    snmp_bps_number[7]=8;
;;;461    snmp_bps_voltage[7]=bps[7]._Uii;
;;;462    snmp_bps_current[7]=bps[7]._Ii;
;;;463    snmp_bps_temperature[7]=bps[7]._Ti;
;;;464    snmp_bps_stat[7]=bps[7]._av;
;;;465    if(!(NUMIST>7))snmp_bps_stat[7]=0xff;
;;;466    
;;;467    
;;;468    
;;;469    snmp_inv_number[0]=1;
;;;470    snmp_inv_voltage[0]=inv[0]._Uio;
;;;471    snmp_inv_current[0]=inv[0]._Ii;
;;;472    snmp_inv_temperature[0]=inv[0]._Ti;
;;;473    snmp_inv_stat[0]=inv[0]._flags_tm;
;;;474    
;;;475    snmp_inv_number[1]=2;
;;;476    snmp_inv_voltage[1]=inv[1]._Uio;
;;;477    snmp_inv_current[1]=inv[1]._Ii;
;;;478    snmp_inv_temperature[1]=inv[1]._Ti;
;;;479    snmp_inv_stat[1]=inv[1]._flags_tm;
;;;480    
;;;481    snmp_inv_number[2]=3;
;;;482    snmp_inv_voltage[2]=inv[2]._Uio;
;;;483    snmp_inv_current[2]=inv[2]._Ii;
;;;484    snmp_inv_temperature[2]=inv[2]._Ti;
;;;485    snmp_inv_stat[2]=inv[2]._flags_tm;
;;;486    
;;;487    
;;;488    
;;;489    
;;;490    					  
;;;491    snmp_sk_number[0]=1;
;;;492    memcpy(&snmp_sk_name[0][0],"Door",10);
;;;493    if(sk_stat[0]==ssON) snmp_sk_aktiv[0]=1;
;;;494    else snmp_sk_aktiv[0]=0;
;;;495    if(!SK_SIGN[0])snmp_sk_alarm_aktiv[0]=1;
;;;496    else snmp_sk_alarm_aktiv[0]=0;
;;;497    if(sk_av_stat[0]==sasON)	snmp_sk_alarm[0]=1;
;;;498    else                     snmp_sk_alarm[0]=0;
;;;499    
;;;500    
;;;501    snmp_sk_number[1]=2;
;;;502    memcpy(&snmp_sk_name[1][0],"Smoke",10);
;;;503    if(sk_stat[1]==ssON) snmp_sk_aktiv[1]=1;
;;;504    else snmp_sk_aktiv[1]=0;
;;;505    if(!SK_SIGN[1])snmp_sk_alarm_aktiv[1]=1;
;;;506    else snmp_sk_alarm_aktiv[1]=0;
;;;507    if(sk_av_stat[1]==sasON)	snmp_sk_alarm[1]=1;
;;;508    else                     snmp_sk_alarm[1]=0;
;;;509    
;;;510    snmp_sk_number[2]=3;
;;;511    memcpy(&snmp_sk_name[2][0],"Shock",10);
;;;512    if(sk_stat[2]==ssON) snmp_sk_aktiv[2]=1;
;;;513    else snmp_sk_aktiv[2]=0;
;;;514    if(!SK_SIGN[2])snmp_sk_alarm_aktiv[2]=1;
;;;515    else snmp_sk_alarm_aktiv[2]=0;
;;;516    if(sk_av_stat[2]==sasON)	snmp_sk_alarm[2]=1;
;;;517    else                     snmp_sk_alarm[2]=0;
;;;518    
;;;519    snmp_sk_number[3]=4;
;;;520    memcpy(&snmp_sk_name[3][0],"     ",10);
;;;521    if(sk_stat[3]==ssON) snmp_sk_aktiv[3]=1;
;;;522    else snmp_sk_aktiv[3]=0;
;;;523    if(!SK_SIGN[3])snmp_sk_alarm_aktiv[3]=1;
;;;524    else snmp_sk_alarm_aktiv[3]=0;
;;;525    if(sk_av_stat[3]==sasON)	snmp_sk_alarm[3]=1;
;;;526    else                     snmp_sk_alarm[3]=0;
;;;527    
;;;528    
;;;529    if(makb[0]._cnt>8) snmp_makb_connect_status[0]=1;
;;;530    else if(makb[0]._cnt<2) snmp_makb_connect_status[0]=0;
;;;531    if(makb[1]._cnt>8) snmp_makb_connect_status[1]=1;
;;;532    else if(makb[1]._cnt<2) snmp_makb_connect_status[1]=0;
;;;533    if(makb[2]._cnt>8) snmp_makb_connect_status[2]=1;
;;;534    else if(makb[2]._cnt<2) snmp_makb_connect_status[2]=0;
;;;535    if(makb[3]._cnt>8) snmp_makb_connect_status[3]=1;
;;;536    else if(makb[3]._cnt<2) snmp_makb_connect_status[3]=0;
;;;537    
;;;538    snmp_makb_voltage0[0]=makb[0]._Ub[0];
;;;539    snmp_makb_voltage1[0]=makb[0]._Ub[1];
;;;540    snmp_makb_voltage2[0]=makb[0]._Ub[2];
;;;541    snmp_makb_voltage3[0]=makb[0]._Ub[3];
;;;542    snmp_makb_voltage4[0]=makb[0]._Ub[4];
;;;543    snmp_makb_voltage0[1]=makb[1]._Ub[0];
;;;544    snmp_makb_voltage1[1]=makb[1]._Ub[1];
;;;545    snmp_makb_voltage2[1]=makb[1]._Ub[2];
;;;546    snmp_makb_voltage3[1]=makb[1]._Ub[3];
;;;547    snmp_makb_voltage4[1]=makb[1]._Ub[4];
;;;548    snmp_makb_voltage0[2]=makb[2]._Ub[0];
;;;549    snmp_makb_voltage1[2]=makb[2]._Ub[1];
;;;550    snmp_makb_voltage2[2]=makb[2]._Ub[2];
;;;551    snmp_makb_voltage3[2]=makb[2]._Ub[3];
;;;552    snmp_makb_voltage4[2]=makb[2]._Ub[4];
;;;553    snmp_makb_voltage0[3]=makb[3]._Ub[0];
;;;554    snmp_makb_voltage1[3]=makb[3]._Ub[1];
;;;555    snmp_makb_voltage2[3]=makb[3]._Ub[2];
;;;556    snmp_makb_voltage3[3]=makb[3]._Ub[3];
;;;557    snmp_makb_voltage4[3]=makb[3]._Ub[4];
;;;558    
;;;559    snmp_makb_temper0[0]=makb[0]._T[0];
;;;560    snmp_makb_temper1[0]=makb[0]._T[1];
;;;561    snmp_makb_temper2[0]=makb[0]._T[2];
;;;562    snmp_makb_temper3[0]=makb[0]._T[3];
;;;563    snmp_makb_temper4[0]=makb[0]._T[4];
;;;564    snmp_makb_temper0[1]=makb[1]._T[0];
;;;565    snmp_makb_temper1[1]=makb[1]._T[1];
;;;566    snmp_makb_temper2[1]=makb[1]._T[2];
;;;567    snmp_makb_temper3[1]=makb[1]._T[3];
;;;568    snmp_makb_temper4[1]=makb[1]._T[4];
;;;569    snmp_makb_temper0[2]=makb[2]._T[0];
;;;570    snmp_makb_temper1[2]=makb[2]._T[1];
;;;571    snmp_makb_temper2[2]=makb[2]._T[2];
;;;572    snmp_makb_temper3[2]=makb[2]._T[3];
;;;573    snmp_makb_temper4[2]=makb[2]._T[4];
;;;574    snmp_makb_temper0[3]=makb[3]._T[0];
;;;575    snmp_makb_temper1[3]=makb[3]._T[1];
;;;576    snmp_makb_temper2[3]=makb[3]._T[2];
;;;577    snmp_makb_temper3[3]=makb[3]._T[3];
;;;578    snmp_makb_temper4[3]=makb[3]._T[4];
;;;579    
;;;580    snmp_makb_temper0_stat[0]=makb[0]._T_nd[0];
;;;581    snmp_makb_temper1_stat[0]=makb[0]._T_nd[1];
;;;582    snmp_makb_temper2_stat[0]=makb[0]._T_nd[2];
;;;583    snmp_makb_temper3_stat[0]=makb[0]._T_nd[3];
;;;584    snmp_makb_temper4_stat[0]=makb[0]._T_nd[4];
;;;585    snmp_makb_temper0_stat[1]=makb[1]._T_nd[0];
;;;586    snmp_makb_temper1_stat[1]=makb[1]._T_nd[1];
;;;587    snmp_makb_temper2_stat[1]=makb[1]._T_nd[2];
;;;588    snmp_makb_temper3_stat[1]=makb[1]._T_nd[3];
;;;589    snmp_makb_temper4_stat[1]=makb[1]._T_nd[4];
;;;590    snmp_makb_temper0_stat[2]=makb[2]._T_nd[0];
;;;591    snmp_makb_temper1_stat[2]=makb[2]._T_nd[1];
;;;592    snmp_makb_temper2_stat[2]=makb[2]._T_nd[2];
;;;593    snmp_makb_temper3_stat[2]=makb[2]._T_nd[3];
;;;594    snmp_makb_temper4_stat[2]=makb[2]._T_nd[4];
;;;595    snmp_makb_temper0_stat[3]=makb[3]._T_nd[0];
;;;596    snmp_makb_temper1_stat[3]=makb[3]._T_nd[1];
;;;597    snmp_makb_temper2_stat[3]=makb[3]._T_nd[2];
;;;598    snmp_makb_temper3_stat[3]=makb[3]._T_nd[3];
;;;599    snmp_makb_temper4_stat[3]=makb[3]._T_nd[4];
;;;600    
;;;601    
;;;602    snmp_klimat_box_temper=t_box;
;;;603    snmp_klimat_settings_box_alarm=TBOXMAX;
;;;604    snmp_klimat_settings_vent_on=TBOXVENTON;
;;;605    snmp_klimat_settings_vent_off=TBOXVENTOFF;
;;;606    snmp_klimat_settings_warm_on=TBOXWARMON;
;;;607    snmp_klimat_settings_warm_off=TBOXWARMOFF;
;;;608    snmp_klimat_settings_load_on=TLOADENABLE;
;;;609    snmp_klimat_settings_load_off=TLOADDISABLE;
;;;610    snmp_klimat_settings_batt_on=TBATENABLE;
;;;611    snmp_klimat_settings_batt_off=TBATDISABLE;
;;;612    
;;;613    snmp_dt_ext=t_ext[0];
;;;614    snmp_dt_msan=t_ext[1];
;;;615    snmp_dt_epu=t_ext[2];
;;;616    
;;;617    /*
;;;618    snmp_bat_voltage=Ubat;
;;;619    snmp_bat_current=Ibat;
;;;620    snmp_bat_temperature=t_b;
;;;621    if(BAT_C_REAL==0x5555)
;;;622    	{
;;;623    	snmp_bat_capacity=BAT_C_NOM*10;												    11
;;;624    	}
;;;625    else
;;;626    	{
;;;627    	snmp_bat_capacity=BAT_C_REAL;
;;;628    	}
;;;629    snmp_bat_charge=zar_percent;
;;;630    snmp_bat_status=0;
;;;631    if(St&0x02)snmp_bat_status|=0x01;
;;;632    if(Ibat>0)snmp_bat_status|=0x02;
;;;633    
;;;634    
;;;635    if(spc_stat==spc_OFF) snmp_spc_stat=0;
;;;636    else if(spc_stat==spc_KE) snmp_spc_stat=1;
;;;637    else if(spc_stat==spc_VZ) snmp_spc_stat=10;
;;;638    
;;;639    
;;;640    snmp_main_bps=MAIN_IST+1;
;;;641    */
;;;642    snmp_zv_en=ZV_ON;
;;;643    snmp_alarm_auto_disable=AV_OFF_AVT;
;;;644    snmp_bat_test_time=TBAT;
;;;645    snmp_u_max=UMAX;
;;;646    snmp_u_min=UB20-DU;
;;;647    snmp_u_0_grad=UB0;
;;;648    snmp_u_20_grad=UB20;
;;;649    snmp_u_sign=USIGN;
;;;650    snmp_u_min_power=UMN;
;;;651    snmp_u_withouth_bat=U0B;
;;;652    snmp_control_current=IKB;
;;;653    snmp_max_charge_current=IZMAX;
;;;654    snmp_max_current=IMAX;
;;;655    snmp_min_current=IMIN;
;;;656    //snmp_max_current_koef=KIMAX;
;;;657    snmp_uvz=UVZ;
;;;658    snmp_powerup_psu_timeout=TZAS;
;;;659    snmp_max_temperature=TMAX;
;;;660    snmp_tsign_bat=TBATSIGN; 
;;;661    snmp_tmax_bat=TBATMAX;
;;;662    snmp_tsign_bps=TSIGN;
;;;663    snmp_tmax_bps=TMAX;
;;;664    snmp_bat_part_alarm=UBM_AV; 
;;;665    snmp_power_cnt_adress=POWER_CNT_ADRESS;
;;;666    
;;;667    for(i=0;i<12;i++)
;;;668    	{
;;;669    	snmp_avt_number[i]=i+1;
;;;670    	if(avt_stat[i]==avtOFF)snmp_avt_stat[i]=0;
;;;671    	else snmp_avt_stat[i]=1;
;;;672    	}
;;;673    
;;;674    snmp_dt_number[0]=1;
;;;675    snmp_dt_number[1]=2;
;;;676    snmp_dt_number[2]=3;
;;;677    //snmp_dt_number[3]=4;
;;;678    snmp_dt_temper[0]=t_ext[0];
;;;679    snmp_dt_temper[1]=t_ext[1];
;;;680    snmp_dt_temper[2]=t_ext[2];
;;;681    //snmp_dt_temper[3]=t_ext[3];
;;;682    snmp_dt_error[0]=ND_EXT[0];
;;;683    if(NUMDT<1)snmp_dt_error[0]=0xff;
;;;684    snmp_dt_error[1]=ND_EXT[1];
;;;685    if(NUMDT<2)snmp_dt_error[0]=0xff;
;;;686    snmp_dt_error[2]=ND_EXT[2];
;;;687    if(NUMDT<3)snmp_dt_error[0]=0xff;
;;;688    //snmp_dt_error[3]=ND_EXT[3];
;;;689    if(NUMDT<4)snmp_dt_error[0]=0xff;
;;;690    
;;;691    /*
;;;692    //Литиевые батареи
;;;693    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;694    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;695    snmp_lakb_voltage[0]=lakb[0]._tot_bat_volt;				//Напряжение ЛАКБ
;;;696    snmp_lakb_voltage[1]=lakb[1]._tot_bat_volt;				//Напряжение ЛАКБ
;;;697    snmp_lakb_max_cell_voltage[0]=lakb[0]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;698    snmp_lakb_max_cell_voltage[1]=lakb[1]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;699    snmp_lakb_min_cell_voltage[0]=lakb[0]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;700    snmp_lakb_min_cell_voltage[1]=lakb[1]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;701    snmp_lakb_max_cell_temperature[0]=lakb[0]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;702    snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;703    snmp_lakb_min_cell_temperature[0]=lakb[0]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;704    snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;705    snmp_lakb_ch_curr[0]=lakb[0]._ch_curr;					//Ток заряда ЛАКБ
;;;706    snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;707    snmp_lakb_dsch_curr[0]=lakb[0]._dsch_curr;				//Ток разряда ЛАКБ
;;;708    snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;709    snmp_lakb_rat_cap[0]=lakb[0]._rat_cap;					//Номинальная емкость ЛАКБ
;;;710    snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;711    snmp_lakb_soh[0]=lakb[0]._s_o_h;						//Остаточная емкость ЛАКБ
;;;712    snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;713    snmp_lakb_soc[0]=lakb[0]._s_o_c;						//Заряд ЛАКБ
;;;714    snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;715    snmp_lakb_cclv[0]=lakb[0]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;716    snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;717    snmp_lakb_rbt[0]=lakb[0]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;718    snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;719    snmp_lakb_flags1[0]=lakb[0]._flags1;					//Первый флаг состояния ЛАКБ
;;;720    snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;721    snmp_lakb_flags2[0]=lakb[0]._flags2;					//Второй флаг состояния ЛАКБ
;;;722    snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ */
;;;723    
;;;724    //Литиевые батареи
;;;725    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;726    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;727    snmp_lakb_number[2]=3;								//Номер ЛАКБ
;;;728    snmp_lakb_number[3]=4;								//Номер ЛАКБ
;;;729    snmp_lakb_number[4]=5;								//Номер ЛАКБ
;;;730    snmp_lakb_number[5]=6;								//Номер ЛАКБ
;;;731    snmp_lakb_number[6]=7;								//Номер ЛАКБ
;;;732    
;;;733    for (i=0;i<3;i++)
;;;734    	{
;;;735    	snmp_lakb_voltage[i]=lakb[i]._tot_bat_volt;				//Напряжение ЛАКБ
;;;736    	snmp_lakb_max_cell_voltage[i]=lakb[i]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;737    	snmp_lakb_min_cell_voltage[i]=lakb[i]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;738    	snmp_lakb_max_cell_temperature[i]=lakb[i]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;739    	//snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;740    	snmp_lakb_min_cell_temperature[i]=lakb[i]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;741    	//snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;742    	snmp_lakb_ch_curr[i]=lakb[i]._ch_curr;					//Ток заряда ЛАКБ
;;;743    	//snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;744    	snmp_lakb_dsch_curr[i]=lakb[i]._dsch_curr;				//Ток разряда ЛАКБ
;;;745    	//snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;746    	snmp_lakb_rat_cap[i]=lakb[i]._rat_cap;					//Номинальная емкость ЛАКБ
;;;747    	//snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;748    	snmp_lakb_soh[i]=lakb[i]._s_o_h;						//Остаточная емкость ЛАКБ
;;;749    	//snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;750    	snmp_lakb_soc[i]=lakb[i]._s_o_c;						//Заряд ЛАКБ
;;;751    	//snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;752    	snmp_lakb_cclv[i]=lakb[i]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;753    	//snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;754    	snmp_lakb_rbt[i]=lakb[i]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;755    	//snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;756    	snmp_lakb_flags1[i]=lakb[i]._flags1;					//Первый флаг состояния ЛАКБ
;;;757    	//snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;758    	snmp_lakb_flags2[i]=lakb[i]._flags2;					//Второй флаг состояния ЛАКБ
;;;759    	//snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ
;;;760    
;;;761    	snmp_lakb_cell_temperature_1[i]= lakb[i]._cell_temp_1;
;;;762    	snmp_lakb_cell_temperature_2[i]= lakb[i]._cell_temp_2;
;;;763    	snmp_lakb_cell_temperature_3[i]= lakb[i]._cell_temp_3;
;;;764    	snmp_lakb_cell_temperature_4[i]= lakb[i]._cell_temp_4;
;;;765    	snmp_lakb_cell_temperature_ambient[i]=lakb[i]._cell_temp_ambient;
;;;766    	snmp_lakb_cell_temperature_power[i]=lakb[i]._cell_temp_power;
;;;767    	}
;;;768    
;;;769    for (i=0;i<7;i++)
;;;770    {
;;;771    /*
;;;772    snmp_lakb_damp1[i][0]=ABCDEF[(lakb_damp[i][0])>>4];			//Дамп
;;;773    snmp_lakb_damp1[i][1]=ABCDEF[(lakb_damp[i][0])&0x0f];			//Дамп
;;;774    snmp_lakb_damp1[i][2]=' ';
;;;775    snmp_lakb_damp1[i][3]=ABCDEF[(lakb_damp[i][1])>>4];			//Дамп
;;;776    snmp_lakb_damp1[i][4]=ABCDEF[(lakb_damp[i][1])&0x0f];			//Дамп
;;;777    snmp_lakb_damp1[i][5]=' ';
;;;778    snmp_lakb_damp1[i][6]=ABCDEF[(lakb_damp[i][2])>>4];			//Дамп
;;;779    snmp_lakb_damp1[i][7]=ABCDEF[(lakb_damp[i][2])&0x0f];			//Дамп
;;;780    snmp_lakb_damp1[i][8]=' ';
;;;781    snmp_lakb_damp1[i][9]=ABCDEF[(lakb_damp[i][3])>>4];			//Дамп
;;;782    snmp_lakb_damp1[i][10]=ABCDEF[(lakb_damp[i][3])&0x0f];			//Дамп
;;;783    snmp_lakb_damp1[i][11]=' ';
;;;784    snmp_lakb_damp1[i][12]=ABCDEF[(lakb_damp[i][4])>>4];			//Дамп
;;;785    snmp_lakb_damp1[i][13]=ABCDEF[(lakb_damp[i][4])&0x0f];			//Дамп
;;;786    snmp_lakb_damp1[i][14]=' '; 
;;;787    snmp_lakb_damp1[i][15]=ABCDEF[(lakb_damp[i][5])>>4];			//Дамп
;;;788    snmp_lakb_damp1[i][16]=ABCDEF[(lakb_damp[i][5])&0x0f];			//Дамп
;;;789    snmp_lakb_damp1[i][17]=' ';
;;;790    snmp_lakb_damp1[i][18]=ABCDEF[(lakb_damp[i][6])>>4];			//Дамп
;;;791    snmp_lakb_damp1[i][19]=ABCDEF[(lakb_damp[i][6])&0x0f];			//Дамп
;;;792    snmp_lakb_damp1[i][20]=' ';
;;;793    snmp_lakb_damp1[i][21]=ABCDEF[(lakb_damp[i][7])>>4];			//Дамп
;;;794    snmp_lakb_damp1[i][22]=ABCDEF[(lakb_damp[i][7])&0x0f];			//Дамп
;;;795    snmp_lakb_damp1[i][23]=' ';
;;;796    snmp_lakb_damp1[i][24]=ABCDEF[(lakb_damp[i][8])>>4];			//Дамп
;;;797    snmp_lakb_damp1[i][25]=ABCDEF[(lakb_damp[i][8])&0x0f];			//Дамп
;;;798    snmp_lakb_damp1[i][26]=' ';
;;;799    snmp_lakb_damp1[i][27]=ABCDEF[(lakb_damp[i][9])>>4];			//Дамп
;;;800    snmp_lakb_damp1[i][28]=ABCDEF[(lakb_damp[i][9])&0x0f];			//Дамп
;;;801    snmp_lakb_damp1[i][29]=0; 
;;;802    
;;;803    snmp_lakb_damp1[i][30]=ABCDEF[(lakb_damp[i][10])>>4];			//Дамп
;;;804    snmp_lakb_damp1[i][31]=ABCDEF[(lakb_damp[i][10])&0x0f];			//Дамп
;;;805    snmp_lakb_damp1[i][32]=' ';
;;;806    snmp_lakb_damp1[i][33]=ABCDEF[(lakb_damp[i][11])>>4];			//Дамп
;;;807    snmp_lakb_damp1[i][34]=ABCDEF[(lakb_damp[i][11])&0x0f];			//Дамп
;;;808    snmp_lakb_damp1[i][35]=' ';
;;;809    snmp_lakb_damp1[i][36]=ABCDEF[(lakb_damp[i][12])>>4];			//Дамп
;;;810    snmp_lakb_damp1[i][37]=ABCDEF[(lakb_damp[i][12])&0x0f];			//Дамп
;;;811    snmp_lakb_damp1[i][38]=' ';
;;;812    snmp_lakb_damp1[i][39]=ABCDEF[(lakb_damp[i][13])>>4];			//Дамп
;;;813    snmp_lakb_damp1[i][40]=ABCDEF[(lakb_damp[i][13])&0x0f];			//Дамп
;;;814    snmp_lakb_damp1[i][41]=' ';
;;;815    snmp_lakb_damp1[i][42]=ABCDEF[(lakb_damp[i][14])>>4];			//Дамп
;;;816    snmp_lakb_damp1[i][43]=ABCDEF[(lakb_damp[i][14])&0x0f];			//Дамп
;;;817    snmp_lakb_damp1[i][44]=' '; 
;;;818    snmp_lakb_damp1[i][45]=ABCDEF[(lakb_damp[i][15])>>4];			//Дамп
;;;819    snmp_lakb_damp1[i][46]=ABCDEF[(lakb_damp[i][15])&0x0f];			//Дамп
;;;820    snmp_lakb_damp1[i][47]=' ';
;;;821    snmp_lakb_damp1[i][48]=ABCDEF[(lakb_damp[i][16])>>4];			//Дамп
;;;822    snmp_lakb_damp1[i][49]=ABCDEF[(lakb_damp[i][16])&0x0f];			//Дамп
;;;823    snmp_lakb_damp1[i][50]=' ';
;;;824    snmp_lakb_damp1[i][51]=ABCDEF[(lakb_damp[i][17])>>4];			//Дамп
;;;825    snmp_lakb_damp1[i][52]=ABCDEF[(lakb_damp[i][17])&0x0f];			//Дамп
;;;826    snmp_lakb_damp1[i][53]=' ';
;;;827    snmp_lakb_damp1[i][54]=ABCDEF[(lakb_damp[i][18])>>4];			//Дамп
;;;828    snmp_lakb_damp1[i][55]=ABCDEF[(lakb_damp[i][18])&0x0f];			//Дамп
;;;829    snmp_lakb_damp1[i][56]=' ';
;;;830    snmp_lakb_damp1[i][57]=ABCDEF[(lakb_damp[i][19])>>4];			//Дамп
;;;831    snmp_lakb_damp1[i][58]=ABCDEF[(lakb_damp[i][19])&0x0f];			//Дамп
;;;832    snmp_lakb_damp1[i][59]=0; 
;;;833    
;;;834    
;;;835    snmp_lakb_damp1[i][60]=ABCDEF[(lakb_damp[i][20])>>4];			//Дамп
;;;836    snmp_lakb_damp1[i][61]=ABCDEF[(lakb_damp[i][20])&0x0f];			//Дамп
;;;837    snmp_lakb_damp1[i][62]=' ';
;;;838    snmp_lakb_damp1[i][63]=ABCDEF[(lakb_damp[i][21])>>4];			//Дамп
;;;839    snmp_lakb_damp1[i][64]=ABCDEF[(lakb_damp[i][21])&0x0f];			//Дамп
;;;840    snmp_lakb_damp1[i][65]=' ';
;;;841    snmp_lakb_damp1[i][66]=ABCDEF[(lakb_damp[i][22])>>4];			//Дамп
;;;842    snmp_lakb_damp1[i][67]=ABCDEF[(lakb_damp[i][22])&0x0f];			//Дамп
;;;843    snmp_lakb_damp1[i][68]=' ';
;;;844    snmp_lakb_damp1[i][69]=ABCDEF[(lakb_damp[i][23])>>4];			//Дамп
;;;845    snmp_lakb_damp1[i][70]=ABCDEF[(lakb_damp[i][23])&0x0f];			//Дамп
;;;846    snmp_lakb_damp1[i][71]=' ';
;;;847    snmp_lakb_damp1[i][72]=ABCDEF[(lakb_damp[i][24])>>4];			//Дамп
;;;848    snmp_lakb_damp1[i][73]=ABCDEF[(lakb_damp[i][24])&0x0f];			//Дамп
;;;849    snmp_lakb_damp1[i][74]=' '; 
;;;850    snmp_lakb_damp1[i][75]=ABCDEF[(lakb_damp[i][25])>>4];			//Дамп
;;;851    snmp_lakb_damp1[i][76]=ABCDEF[(lakb_damp[i][25])&0x0f];			//Дамп
;;;852    snmp_lakb_damp1[i][77]=' ';
;;;853    snmp_lakb_damp1[i][78]=ABCDEF[(lakb_damp[i][26])>>4];			//Дамп
;;;854    snmp_lakb_damp1[i][79]=ABCDEF[(lakb_damp[i][26])&0x0f];			//Дамп
;;;855    snmp_lakb_damp1[i][80]=' ';
;;;856    snmp_lakb_damp1[i][81]=ABCDEF[(lakb_damp[i][27])>>4];			//Дамп
;;;857    snmp_lakb_damp1[i][82]=ABCDEF[(lakb_damp[i][27])&0x0f];			//Дамп
;;;858    snmp_lakb_damp1[i][83]=' ';
;;;859    snmp_lakb_damp1[i][84]=ABCDEF[(lakb_damp[i][28])>>4];			//Дамп
;;;860    snmp_lakb_damp1[i][85]=ABCDEF[(lakb_damp[i][28])&0x0f];			//Дамп
;;;861    snmp_lakb_damp1[i][86]=' ';
;;;862    snmp_lakb_damp1[i][87]=ABCDEF[(lakb_damp[i][29])>>4];			//Дамп
;;;863    snmp_lakb_damp1[i][88]=ABCDEF[(lakb_damp[i][29])&0x0f];			//Дамп
;;;864    snmp_lakb_damp1[i][89]=0;
;;;865    
;;;866    
;;;867    snmp_lakb_damp1[i][90]=ABCDEF[(lakb_damp[i][30])>>4];			//Дамп
;;;868    snmp_lakb_damp1[i][91]=ABCDEF[(lakb_damp[i][30])&0x0f];			//Дамп
;;;869    snmp_lakb_damp1[i][92]=' ';
;;;870    snmp_lakb_damp1[i][93]=ABCDEF[(lakb_damp[i][31])>>4];			//Дамп
;;;871    snmp_lakb_damp1[i][94]=ABCDEF[(lakb_damp[i][31])&0x0f];			//Дамп
;;;872    snmp_lakb_damp1[i][95]=' ';
;;;873    snmp_lakb_damp1[i][96]=ABCDEF[(lakb_damp[i][32])>>4];			//Дамп
;;;874    snmp_lakb_damp1[i][97]=ABCDEF[(lakb_damp[i][32])&0x0f];			//Дамп
;;;875    snmp_lakb_damp1[i][98]=' ';
;;;876    snmp_lakb_damp1[i][99]=ABCDEF[(lakb_damp[i][33])>>4];			//Дамп
;;;877    snmp_lakb_damp1[i][100]=ABCDEF[(lakb_damp[i][33])&0x0f];			//Дамп
;;;878    snmp_lakb_damp1[i][101]=' ';
;;;879    snmp_lakb_damp1[i][102]=ABCDEF[(lakb_damp[i][34])>>4];			//Дамп
;;;880    snmp_lakb_damp1[i][103]=ABCDEF[(lakb_damp[i][34])&0x0f];			//Дамп
;;;881    snmp_lakb_damp1[i][104]=' '; 
;;;882    snmp_lakb_damp1[i][105]=ABCDEF[(lakb_damp[i][35])>>4];			//Дамп
;;;883    snmp_lakb_damp1[i][106]=ABCDEF[(lakb_damp[i][35])&0x0f];			//Дамп
;;;884    snmp_lakb_damp1[i][107]=' ';
;;;885    snmp_lakb_damp1[i][108]=ABCDEF[(lakb_damp[i][36])>>4];			//Дамп
;;;886    snmp_lakb_damp1[i][109]=ABCDEF[(lakb_damp[i][36])&0x0f];			//Дамп
;;;887    snmp_lakb_damp1[i][110]=' ';
;;;888    snmp_lakb_damp1[i][111]=ABCDEF[(lakb_damp[i][37])>>4];			//Дамп
;;;889    snmp_lakb_damp1[i][112]=ABCDEF[(lakb_damp[i][37])&0x0f];			//Дамп
;;;890    snmp_lakb_damp1[i][113]=' ';
;;;891    snmp_lakb_damp1[i][114]=ABCDEF[(lakb_damp[i][38])>>4];			//Дамп
;;;892    snmp_lakb_damp1[i][115]=ABCDEF[(lakb_damp[i][38])&0x0f];			//Дамп
;;;893    snmp_lakb_damp1[i][116]=' ';
;;;894    snmp_lakb_damp1[i][117]=ABCDEF[(lakb_damp[i][39])>>4];			//Дамп
;;;895    snmp_lakb_damp1[i][118]=ABCDEF[(lakb_damp[i][39])&0x0f];			//Дамп
;;;896    snmp_lakb_damp1[i][119]=0; 
;;;897     
;;;898    
;;;899    snmp_lakb_damp1[i][120]=ABCDEF[(lakb_damp[i][40])>>4];			//Дамп
;;;900    snmp_lakb_damp1[i][121]=ABCDEF[(lakb_damp[i][40])&0x0f];			//Дамп
;;;901    snmp_lakb_damp1[i][122]=' ';
;;;902    snmp_lakb_damp1[i][123]=ABCDEF[(lakb_damp[i][41])>>4];			//Дамп
;;;903    snmp_lakb_damp1[i][124]=ABCDEF[(lakb_damp[i][41])&0x0f];			//Дамп
;;;904    snmp_lakb_damp1[i][125]=' ';
;;;905    snmp_lakb_damp1[i][126]=ABCDEF[(lakb_damp[i][42])>>4];			//Дамп
;;;906    snmp_lakb_damp1[i][127]=ABCDEF[(lakb_damp[i][42])&0x0f];			//Дамп
;;;907    snmp_lakb_damp1[i][128]=' ';
;;;908    snmp_lakb_damp1[i][129]=ABCDEF[(lakb_damp[i][43])>>4];			//Дамп
;;;909    snmp_lakb_damp1[i][130]=ABCDEF[(lakb_damp[i][43])&0x0f];			//Дамп
;;;910    snmp_lakb_damp1[i][131]=' ';
;;;911    snmp_lakb_damp1[i][132]=ABCDEF[(lakb_damp[i][44])>>4];			//Дамп
;;;912    snmp_lakb_damp1[i][133]=ABCDEF[(lakb_damp[i][44])&0x0f];			//Дамп
;;;913    snmp_lakb_damp1[i][134]=' '; 
;;;914    snmp_lakb_damp1[i][135]=ABCDEF[(lakb_damp[i][45])>>4];			//Дамп
;;;915    snmp_lakb_damp1[i][136]=ABCDEF[(lakb_damp[i][45])&0x0f];			//Дамп
;;;916    snmp_lakb_damp1[i][137]=' ';
;;;917    snmp_lakb_damp1[i][138]=ABCDEF[(lakb_damp[i][46])>>4];			//Дамп
;;;918    snmp_lakb_damp1[i][139]=ABCDEF[(lakb_damp[i][46])&0x0f];			//Дамп
;;;919    snmp_lakb_damp1[i][140]=' ';
;;;920    snmp_lakb_damp1[i][141]=ABCDEF[(lakb_damp[i][47])>>4];			//Дамп
;;;921    snmp_lakb_damp1[i][142]=ABCDEF[(lakb_damp[i][47])&0x0f];			//Дамп
;;;922    snmp_lakb_damp1[i][143]=' ';
;;;923    snmp_lakb_damp1[i][144]=ABCDEF[(lakb_damp[i][48])>>4];			//Дамп
;;;924    snmp_lakb_damp1[i][145]=ABCDEF[(lakb_damp[i][48])&0x0f];			//Дамп
;;;925    snmp_lakb_damp1[i][146]=' ';
;;;926    snmp_lakb_damp1[i][147]=ABCDEF[(lakb_damp[i][49])>>4];			//Дамп
;;;927    snmp_lakb_damp1[i][148]=ABCDEF[(lakb_damp[i][49])&0x0f];			//Дамп
;;;928    snmp_lakb_damp1[i][149]=0;  */
;;;929    }
;;;930    
;;;931    #ifdef UKU_TELECORE2017
;;;932    snmp_warm_sign=0;
;;;933    if(TELECORE2017_KLIMAT_WARM_SIGNAL==0) snmp_warm_sign=2;
;;;934    else if(TELECORE2017_KLIMAT_WARM_SIGNAL==1) snmp_warm_sign=1;
;;;935    snmp_cool_sign=0;
;;;936    if(TELECORE2017_KLIMAT_VENT_SIGNAL==0) snmp_cool_sign=2;
;;;937    else if(TELECORE2017_KLIMAT_VENT_SIGNAL==1) snmp_cool_sign=1;
;;;938    snmp_warm_on_temper=(signed char)TELECORE2017_KLIMAT_WARM_ON; 
;;;939    snmp_warm_off_temper=(signed char)TELECORE2017_KLIMAT_WARM_OFF;
;;;940    snmp_warm_q=(signed char)TELECORE2017_KLIMAT_CAP;	
;;;941    snmp_cool_20_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON20;
;;;942    snmp_cool_40_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON40;
;;;943    snmp_cool_60_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON60;
;;;944    snmp_cool_80_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON80;
;;;945    snmp_cool_100_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON100;
;;;946    snmp_cool_20_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON20;
;;;947    snmp_cool_40_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON40;
;;;948    snmp_cool_60_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON60;
;;;949    snmp_cool_80_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON80;
;;;950    snmp_cool_100_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON100;
;;;951    snmp_warm_stat=0;
;;;952    if(warm_stat_k==wsON) snmp_warm_stat=1;
;;;953    #endif
;;;954    }
;;;955    //-----------------------------------------------
                          ENDP

                  |L3.36|
                          DCD      ||.data||+0xdc
                  |L3.40|
                          DCD      ADR_SK_SIGN

                          AREA ||area_number.4||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.4||, ||.text||
                  snmp_alarm_aktiv_write4 PROC
;;;261    //-----------------------------------------------
;;;262    void snmp_data (void) 
000000  2801              CMP      r0,#1
;;;263    {
000002  d10e              BNE      |L4.34|
;;;264    char i;
;;;265    
;;;266    snmp_mains_power_voltage=net_U;
000004  4807              LDR      r0,|L4.36|
000006  78c1              LDRB     r1,[r0,#3]  ; snmp_sk_alarm_aktiv
000008  4807              LDR      r0,|L4.40|
00000a  b121              CBZ      r1,|L4.22|
00000c  f9b00006          LDRSH    r0,[r0,#6]  ; ADR_SK_SIGN
;;;267    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;268    snmp_mains_power_frequency=net_F3;
000010  2100              MOVS     r1,#0
000012  f7ffbffe          B.W      lc640_write_int
                  |L4.22|
;;;269    #else
;;;270    snmp_mains_power_frequency=net_F;
;;;271    #endif
;;;272    snmp_mains_power_voltage_phaseA=net_Ua;
000016  f9b00006          LDRSH    r0,[r0,#6]  ; ADR_SK_SIGN
00001a  f04f31ff          MOV      r1,#0xffffffff
;;;273    snmp_mains_power_voltage_phaseB=net_Ub;
00001e  f7ffbffe          B.W      lc640_write_int
                  |L4.34|
;;;274    snmp_mains_power_voltage_phaseC=net_Uc;
000022  4770              BX       lr
;;;275    
;;;276    
;;;277    if(avar_stat&0x0001)snmp_mains_power_alarm=1;
;;;278    else snmp_mains_power_alarm=0;
;;;279    if(avar_stat&0x0001)snmp_mains_power_status=1;
;;;280    else snmp_mains_power_status=0;
;;;281    
;;;282    /*
;;;283    snmp_mains_power_status=0; 
;;;284    #if(UKU_VERSION==900)
;;;285    snmp_mains_power_status=2;
;;;286    #endif
;;;287    if(St&0x01)snmp_mains_power_status|=0x01;
;;;288    if(St&0x01)snmp_mains_power_alarm=1;
;;;289    
;;;290    
;;;291    
;;;292    
;;;293    
;;;294    
;;;295    for(i=0;i<snmp_numofevents;i++)event2snmp(i);
;;;296    //snmp_bpsnumber[0]=1;
;;;297    //snmp_bpsnumber[1]=2;
;;;298    
;;;299    
;;;300    snmp_sernum_lsb=0x1122;
;;;301    snmp_sernum_msb=0x3344;
;;;302    snmp_device_code=AUSW_MAIN;
;;;303    
;;;304    //memcpy(snmp_location,"lkhg;la",);
;;;305    
;;;306    
;;;307    snmp_numofbat=1;
;;;308    
;;;309    */
;;;310    snmp_sernum=AUSW_MAIN_NUMBER;
;;;311    
;;;312    snmp_load_voltage=load_U;
;;;313    snmp_load_current=load_I;
;;;314    snmp_numofbat=NUMBAT;
;;;315    snmp_numofbps=NUMIST;
;;;316    snmp_numofinv=NUMINV;
;;;317    snmp_numofavt=NUMAVT;
;;;318    snmp_numofdt=NUMDT;
;;;319    snmp_numofsk=NUMSK;
;;;320    snmp_numofevents=lc640_read_int(CNT_EVENT_LOG);
;;;321    
;;;322    snmp_energy_vvod_phase_a=Uvv_eb2[0];
;;;323    snmp_energy_vvod_phase_b=Uvv_eb2[1];
;;;324    snmp_energy_vvod_phase_c=Uvv_eb2[2];
;;;325    snmp_energy_pes_phase_a=Upes_eb2[0];
;;;326    snmp_energy_pes_phase_b=Upes_eb2[1];
;;;327    snmp_energy_pes_phase_c=Upes_eb2[2];
;;;328    
;;;329    #ifdef UKU_KONTUR
;;;330    snmp_energy_vvod_phase_a=Uvv0;
;;;331    snmp_energy_pes_phase_a=Uvv[1];
;;;332    #endif
;;;333    
;;;334    snmp_energy_total_energy=power_summary;
;;;335    snmp_energy_current_energy=power_current;
;;;336    snmp_energy_input_voltage=net_U;
;;;337    
;;;338    
;;;339    #ifdef UKU_ZVU
;;;340    snmp_bat_number[0]=1;
;;;341    snmp_bat_voltage[0]=out_U;
;;;342    snmp_bat_current[0]=Ib_ips_termokompensat;
;;;343    snmp_bat_rem_time[0]=bat_hndl_t_razr_min;
;;;344    if(Ib_ips_termokompensat>0)snmp_bat_rem_time[0]=-1;
;;;345    snmp_bat_temperature[0]=t_ext[0];
;;;346    if(ND_EXT[0])snmp_bat_temperature[0]=-1000;
;;;347    snmp_bat_capacity[0]=BAT_C_POINT_20;
;;;348    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;349    snmp_bat_status[0]=bat_ips._av&1;
;;;350    if(NUMBAT==0)snmp_bat_status[0]=0xff;
;;;351    #endif
;;;352    
;;;353    #ifndef UKU_ZVU
;;;354    snmp_bat_number[0]=1;
;;;355    snmp_bat_voltage[0]=bat[0]._Ub;
;;;356    snmp_bat_part_voltage[0]=bat[0]._Ubm;
;;;357    snmp_bat_current[0]=bat[0]._Ib;
;;;358    
;;;359    /*
;;;360    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;361    if(((AUSW_MAIN==22063)||(AUSW_MAIN==22023))&&(bps[8]._device==dIBAT_METR))
;;;362    	{
;;;363    	snmp_bat_current[0]=Ib_ips_termokompensat;
;;;364    	}
;;;365    #endif*/
;;;366    
;;;367    snmp_bat_temperature[0]=bat[0]._Tb;
;;;368    if(bat[0]._nd) snmp_bat_temperature[0]=-1000;
;;;369    
;;;370    if(BAT_C_REAL[0]==0x5555)snmp_bat_capacity[0]=BAT_C_NOM[0];
;;;371    else snmp_bat_capacity[0]=BAT_C_REAL[0];
;;;372    /*
;;;373    #ifdef UKU_ZVU
;;;374    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;375    
;;;376    #else
;;;377    snmp_bat_charge[0]=bat[0]._zar;
;;;378    #endif */
;;;379    snmp_bat_charge[0]=bat[0]._zar;
;;;380    snmp_bat_status[0]=bat[0]._av;
;;;381    if(BAT_IS_ON[0]!=bisON)snmp_bat_status[0]=0xff;
;;;382    
;;;383    
;;;384    snmp_bat_number[1]=2;
;;;385    snmp_bat_voltage[1]=bat[1]._Ub;
;;;386    snmp_bat_part_voltage[1]=bat[1]._Ubm;
;;;387    snmp_bat_current[1]=bat[1]._Ib;
;;;388    snmp_bat_temperature[1]=bat[1]._Tb;
;;;389    if(bat[1]._nd) snmp_bat_temperature[1]=-1000;
;;;390    if(BAT_C_REAL[1]==0x5555)snmp_bat_capacity[1]=BAT_C_NOM[1];
;;;391    else snmp_bat_capacity[1]=BAT_C_REAL[1];
;;;392    snmp_bat_charge[1]=bat[1]._zar;
;;;393    snmp_bat_status[1]=bat[1]._av;
;;;394    if(BAT_IS_ON[1]!=bisON)snmp_bat_status[1]=0xff;
;;;395    #endif
;;;396    
;;;397    
;;;398    snmp_bps_number[0]=1;
;;;399    snmp_bps_voltage[0]=bps[0]._Uii;
;;;400    snmp_bps_current[0]=bps[0]._Ii;
;;;401    snmp_bps_temperature[0]=bps[0]._Ti;
;;;402    snmp_bps_stat[0]=bps[0]._av;
;;;403    if(!(NUMIST>0))snmp_bps_stat[0]=0xff;												//Байт состояния БПСа.
;;;404    
;;;405    /*if(St_[0]&(1<<2))snmp_bps_stat[0]=(1<<3); 							//авария по Umin
;;;406    else if(St_[0]&(1<<3))snmp_bps_stat[0]=(1<<2); 						//авария по Umax
;;;407    else if(bps[0]._av&(1<<0))snmp_bps_stat[0]=(1<<1); 						//авария по Tmax
;;;408    else if(St_[0]&(1<<5))snmp_bps_stat[0]=(1<<5); 						//заблокирован
;;;409    else if((!(St_[0]&0x3c))&&(!St&0x01)&&(!OFFBP1))snmp_bps_stat[0]=1; 		//Работает
;;;410    */
;;;411    
;;;412    snmp_bps_number[1]=2;
;;;413    snmp_bps_voltage[1]=bps[1]._Uii;
;;;414    snmp_bps_current[1]=bps[1]._Ii;
;;;415    snmp_bps_temperature[1]=bps[1]._Ti;
;;;416    snmp_bps_stat[1]=bps[1]._av;
;;;417    if(!(NUMIST>1))snmp_bps_stat[1]=0xff;												//Байт состояния БПСа.
;;;418    /*if(St_[1]&(1<<2))snmp_bps_stat[1]=(1<<3); 							//авария по Umin
;;;419    else if(St_[1]&(1<<3))snmp_bps_stat[1]=(1<<2); 						//авария по Umax
;;;420    else if(St_[1]&(1<<4))snmp_bps_stat[1]=(1<<1); 						//авария по Tmax
;;;421    else if(St_[1]&(1<<5))snmp_bps_stat[1]=(1<<5); 						//заблокирован
;;;422    else if((!(St_[1]&0x3c))&&(!St&0x01)&&(!OFFBP2))snmp_bps_stat[1]=1; 		//Работает
;;;423    */
;;;424    
;;;425    snmp_bps_number[2]=3;
;;;426    snmp_bps_voltage[2]=bps[2]._Uii;
;;;427    snmp_bps_current[2]=bps[2]._Ii;
;;;428    snmp_bps_temperature[2]=bps[2]._Ti;
;;;429    snmp_bps_stat[2]=bps[2]._av;
;;;430    if(!(NUMIST>2))snmp_bps_stat[2]=0xff;
;;;431    
;;;432    snmp_bps_number[3]=4;
;;;433    snmp_bps_voltage[3]=bps[3]._Uii;
;;;434    snmp_bps_current[3]=bps[3]._Ii;
;;;435    snmp_bps_temperature[3]=bps[3]._Ti;
;;;436    snmp_bps_stat[3]=bps[3]._av;
;;;437    if(!(NUMIST>3))snmp_bps_stat[3]=0xff;
;;;438    
;;;439    snmp_bps_number[4]=5;
;;;440    snmp_bps_voltage[4]=bps[4]._Uii;
;;;441    snmp_bps_current[4]=bps[4]._Ii;
;;;442    snmp_bps_temperature[4]=bps[4]._Ti;
;;;443    snmp_bps_stat[4]=bps[4]._av;
;;;444    if(!(NUMIST>4))snmp_bps_stat[4]=0xff;
;;;445    
;;;446    snmp_bps_number[5]=6;
;;;447    snmp_bps_voltage[5]=bps[5]._Uii;
;;;448    snmp_bps_current[5]=bps[5]._Ii;
;;;449    snmp_bps_temperature[5]=bps[5]._Ti;
;;;450    snmp_bps_stat[5]=bps[5]._av;
;;;451    if(!(NUMIST>5))snmp_bps_stat[5]=0xff;
;;;452    
;;;453    snmp_bps_number[6]=7;
;;;454    snmp_bps_voltage[6]=bps[6]._Uii;
;;;455    snmp_bps_current[6]=bps[6]._Ii;
;;;456    snmp_bps_temperature[6]=bps[6]._Ti;
;;;457    snmp_bps_stat[6]=bps[6]._av;
;;;458    if(!(NUMIST>6))snmp_bps_stat[6]=0xff;
;;;459    
;;;460    snmp_bps_number[7]=8;
;;;461    snmp_bps_voltage[7]=bps[7]._Uii;
;;;462    snmp_bps_current[7]=bps[7]._Ii;
;;;463    snmp_bps_temperature[7]=bps[7]._Ti;
;;;464    snmp_bps_stat[7]=bps[7]._av;
;;;465    if(!(NUMIST>7))snmp_bps_stat[7]=0xff;
;;;466    
;;;467    
;;;468    
;;;469    snmp_inv_number[0]=1;
;;;470    snmp_inv_voltage[0]=inv[0]._Uio;
;;;471    snmp_inv_current[0]=inv[0]._Ii;
;;;472    snmp_inv_temperature[0]=inv[0]._Ti;
;;;473    snmp_inv_stat[0]=inv[0]._flags_tm;
;;;474    
;;;475    snmp_inv_number[1]=2;
;;;476    snmp_inv_voltage[1]=inv[1]._Uio;
;;;477    snmp_inv_current[1]=inv[1]._Ii;
;;;478    snmp_inv_temperature[1]=inv[1]._Ti;
;;;479    snmp_inv_stat[1]=inv[1]._flags_tm;
;;;480    
;;;481    snmp_inv_number[2]=3;
;;;482    snmp_inv_voltage[2]=inv[2]._Uio;
;;;483    snmp_inv_current[2]=inv[2]._Ii;
;;;484    snmp_inv_temperature[2]=inv[2]._Ti;
;;;485    snmp_inv_stat[2]=inv[2]._flags_tm;
;;;486    
;;;487    
;;;488    
;;;489    
;;;490    					  
;;;491    snmp_sk_number[0]=1;
;;;492    memcpy(&snmp_sk_name[0][0],"Door",10);
;;;493    if(sk_stat[0]==ssON) snmp_sk_aktiv[0]=1;
;;;494    else snmp_sk_aktiv[0]=0;
;;;495    if(!SK_SIGN[0])snmp_sk_alarm_aktiv[0]=1;
;;;496    else snmp_sk_alarm_aktiv[0]=0;
;;;497    if(sk_av_stat[0]==sasON)	snmp_sk_alarm[0]=1;
;;;498    else                     snmp_sk_alarm[0]=0;
;;;499    
;;;500    
;;;501    snmp_sk_number[1]=2;
;;;502    memcpy(&snmp_sk_name[1][0],"Smoke",10);
;;;503    if(sk_stat[1]==ssON) snmp_sk_aktiv[1]=1;
;;;504    else snmp_sk_aktiv[1]=0;
;;;505    if(!SK_SIGN[1])snmp_sk_alarm_aktiv[1]=1;
;;;506    else snmp_sk_alarm_aktiv[1]=0;
;;;507    if(sk_av_stat[1]==sasON)	snmp_sk_alarm[1]=1;
;;;508    else                     snmp_sk_alarm[1]=0;
;;;509    
;;;510    snmp_sk_number[2]=3;
;;;511    memcpy(&snmp_sk_name[2][0],"Shock",10);
;;;512    if(sk_stat[2]==ssON) snmp_sk_aktiv[2]=1;
;;;513    else snmp_sk_aktiv[2]=0;
;;;514    if(!SK_SIGN[2])snmp_sk_alarm_aktiv[2]=1;
;;;515    else snmp_sk_alarm_aktiv[2]=0;
;;;516    if(sk_av_stat[2]==sasON)	snmp_sk_alarm[2]=1;
;;;517    else                     snmp_sk_alarm[2]=0;
;;;518    
;;;519    snmp_sk_number[3]=4;
;;;520    memcpy(&snmp_sk_name[3][0],"     ",10);
;;;521    if(sk_stat[3]==ssON) snmp_sk_aktiv[3]=1;
;;;522    else snmp_sk_aktiv[3]=0;
;;;523    if(!SK_SIGN[3])snmp_sk_alarm_aktiv[3]=1;
;;;524    else snmp_sk_alarm_aktiv[3]=0;
;;;525    if(sk_av_stat[3]==sasON)	snmp_sk_alarm[3]=1;
;;;526    else                     snmp_sk_alarm[3]=0;
;;;527    
;;;528    
;;;529    if(makb[0]._cnt>8) snmp_makb_connect_status[0]=1;
;;;530    else if(makb[0]._cnt<2) snmp_makb_connect_status[0]=0;
;;;531    if(makb[1]._cnt>8) snmp_makb_connect_status[1]=1;
;;;532    else if(makb[1]._cnt<2) snmp_makb_connect_status[1]=0;
;;;533    if(makb[2]._cnt>8) snmp_makb_connect_status[2]=1;
;;;534    else if(makb[2]._cnt<2) snmp_makb_connect_status[2]=0;
;;;535    if(makb[3]._cnt>8) snmp_makb_connect_status[3]=1;
;;;536    else if(makb[3]._cnt<2) snmp_makb_connect_status[3]=0;
;;;537    
;;;538    snmp_makb_voltage0[0]=makb[0]._Ub[0];
;;;539    snmp_makb_voltage1[0]=makb[0]._Ub[1];
;;;540    snmp_makb_voltage2[0]=makb[0]._Ub[2];
;;;541    snmp_makb_voltage3[0]=makb[0]._Ub[3];
;;;542    snmp_makb_voltage4[0]=makb[0]._Ub[4];
;;;543    snmp_makb_voltage0[1]=makb[1]._Ub[0];
;;;544    snmp_makb_voltage1[1]=makb[1]._Ub[1];
;;;545    snmp_makb_voltage2[1]=makb[1]._Ub[2];
;;;546    snmp_makb_voltage3[1]=makb[1]._Ub[3];
;;;547    snmp_makb_voltage4[1]=makb[1]._Ub[4];
;;;548    snmp_makb_voltage0[2]=makb[2]._Ub[0];
;;;549    snmp_makb_voltage1[2]=makb[2]._Ub[1];
;;;550    snmp_makb_voltage2[2]=makb[2]._Ub[2];
;;;551    snmp_makb_voltage3[2]=makb[2]._Ub[3];
;;;552    snmp_makb_voltage4[2]=makb[2]._Ub[4];
;;;553    snmp_makb_voltage0[3]=makb[3]._Ub[0];
;;;554    snmp_makb_voltage1[3]=makb[3]._Ub[1];
;;;555    snmp_makb_voltage2[3]=makb[3]._Ub[2];
;;;556    snmp_makb_voltage3[3]=makb[3]._Ub[3];
;;;557    snmp_makb_voltage4[3]=makb[3]._Ub[4];
;;;558    
;;;559    snmp_makb_temper0[0]=makb[0]._T[0];
;;;560    snmp_makb_temper1[0]=makb[0]._T[1];
;;;561    snmp_makb_temper2[0]=makb[0]._T[2];
;;;562    snmp_makb_temper3[0]=makb[0]._T[3];
;;;563    snmp_makb_temper4[0]=makb[0]._T[4];
;;;564    snmp_makb_temper0[1]=makb[1]._T[0];
;;;565    snmp_makb_temper1[1]=makb[1]._T[1];
;;;566    snmp_makb_temper2[1]=makb[1]._T[2];
;;;567    snmp_makb_temper3[1]=makb[1]._T[3];
;;;568    snmp_makb_temper4[1]=makb[1]._T[4];
;;;569    snmp_makb_temper0[2]=makb[2]._T[0];
;;;570    snmp_makb_temper1[2]=makb[2]._T[1];
;;;571    snmp_makb_temper2[2]=makb[2]._T[2];
;;;572    snmp_makb_temper3[2]=makb[2]._T[3];
;;;573    snmp_makb_temper4[2]=makb[2]._T[4];
;;;574    snmp_makb_temper0[3]=makb[3]._T[0];
;;;575    snmp_makb_temper1[3]=makb[3]._T[1];
;;;576    snmp_makb_temper2[3]=makb[3]._T[2];
;;;577    snmp_makb_temper3[3]=makb[3]._T[3];
;;;578    snmp_makb_temper4[3]=makb[3]._T[4];
;;;579    
;;;580    snmp_makb_temper0_stat[0]=makb[0]._T_nd[0];
;;;581    snmp_makb_temper1_stat[0]=makb[0]._T_nd[1];
;;;582    snmp_makb_temper2_stat[0]=makb[0]._T_nd[2];
;;;583    snmp_makb_temper3_stat[0]=makb[0]._T_nd[3];
;;;584    snmp_makb_temper4_stat[0]=makb[0]._T_nd[4];
;;;585    snmp_makb_temper0_stat[1]=makb[1]._T_nd[0];
;;;586    snmp_makb_temper1_stat[1]=makb[1]._T_nd[1];
;;;587    snmp_makb_temper2_stat[1]=makb[1]._T_nd[2];
;;;588    snmp_makb_temper3_stat[1]=makb[1]._T_nd[3];
;;;589    snmp_makb_temper4_stat[1]=makb[1]._T_nd[4];
;;;590    snmp_makb_temper0_stat[2]=makb[2]._T_nd[0];
;;;591    snmp_makb_temper1_stat[2]=makb[2]._T_nd[1];
;;;592    snmp_makb_temper2_stat[2]=makb[2]._T_nd[2];
;;;593    snmp_makb_temper3_stat[2]=makb[2]._T_nd[3];
;;;594    snmp_makb_temper4_stat[2]=makb[2]._T_nd[4];
;;;595    snmp_makb_temper0_stat[3]=makb[3]._T_nd[0];
;;;596    snmp_makb_temper1_stat[3]=makb[3]._T_nd[1];
;;;597    snmp_makb_temper2_stat[3]=makb[3]._T_nd[2];
;;;598    snmp_makb_temper3_stat[3]=makb[3]._T_nd[3];
;;;599    snmp_makb_temper4_stat[3]=makb[3]._T_nd[4];
;;;600    
;;;601    
;;;602    snmp_klimat_box_temper=t_box;
;;;603    snmp_klimat_settings_box_alarm=TBOXMAX;
;;;604    snmp_klimat_settings_vent_on=TBOXVENTON;
;;;605    snmp_klimat_settings_vent_off=TBOXVENTOFF;
;;;606    snmp_klimat_settings_warm_on=TBOXWARMON;
;;;607    snmp_klimat_settings_warm_off=TBOXWARMOFF;
;;;608    snmp_klimat_settings_load_on=TLOADENABLE;
;;;609    snmp_klimat_settings_load_off=TLOADDISABLE;
;;;610    snmp_klimat_settings_batt_on=TBATENABLE;
;;;611    snmp_klimat_settings_batt_off=TBATDISABLE;
;;;612    
;;;613    snmp_dt_ext=t_ext[0];
;;;614    snmp_dt_msan=t_ext[1];
;;;615    snmp_dt_epu=t_ext[2];
;;;616    
;;;617    /*
;;;618    snmp_bat_voltage=Ubat;
;;;619    snmp_bat_current=Ibat;
;;;620    snmp_bat_temperature=t_b;
;;;621    if(BAT_C_REAL==0x5555)
;;;622    	{
;;;623    	snmp_bat_capacity=BAT_C_NOM*10;												    11
;;;624    	}
;;;625    else
;;;626    	{
;;;627    	snmp_bat_capacity=BAT_C_REAL;
;;;628    	}
;;;629    snmp_bat_charge=zar_percent;
;;;630    snmp_bat_status=0;
;;;631    if(St&0x02)snmp_bat_status|=0x01;
;;;632    if(Ibat>0)snmp_bat_status|=0x02;
;;;633    
;;;634    
;;;635    if(spc_stat==spc_OFF) snmp_spc_stat=0;
;;;636    else if(spc_stat==spc_KE) snmp_spc_stat=1;
;;;637    else if(spc_stat==spc_VZ) snmp_spc_stat=10;
;;;638    
;;;639    
;;;640    snmp_main_bps=MAIN_IST+1;
;;;641    */
;;;642    snmp_zv_en=ZV_ON;
;;;643    snmp_alarm_auto_disable=AV_OFF_AVT;
;;;644    snmp_bat_test_time=TBAT;
;;;645    snmp_u_max=UMAX;
;;;646    snmp_u_min=UB20-DU;
;;;647    snmp_u_0_grad=UB0;
;;;648    snmp_u_20_grad=UB20;
;;;649    snmp_u_sign=USIGN;
;;;650    snmp_u_min_power=UMN;
;;;651    snmp_u_withouth_bat=U0B;
;;;652    snmp_control_current=IKB;
;;;653    snmp_max_charge_current=IZMAX;
;;;654    snmp_max_current=IMAX;
;;;655    snmp_min_current=IMIN;
;;;656    //snmp_max_current_koef=KIMAX;
;;;657    snmp_uvz=UVZ;
;;;658    snmp_powerup_psu_timeout=TZAS;
;;;659    snmp_max_temperature=TMAX;
;;;660    snmp_tsign_bat=TBATSIGN; 
;;;661    snmp_tmax_bat=TBATMAX;
;;;662    snmp_tsign_bps=TSIGN;
;;;663    snmp_tmax_bps=TMAX;
;;;664    snmp_bat_part_alarm=UBM_AV; 
;;;665    snmp_power_cnt_adress=POWER_CNT_ADRESS;
;;;666    
;;;667    for(i=0;i<12;i++)
;;;668    	{
;;;669    	snmp_avt_number[i]=i+1;
;;;670    	if(avt_stat[i]==avtOFF)snmp_avt_stat[i]=0;
;;;671    	else snmp_avt_stat[i]=1;
;;;672    	}
;;;673    
;;;674    snmp_dt_number[0]=1;
;;;675    snmp_dt_number[1]=2;
;;;676    snmp_dt_number[2]=3;
;;;677    //snmp_dt_number[3]=4;
;;;678    snmp_dt_temper[0]=t_ext[0];
;;;679    snmp_dt_temper[1]=t_ext[1];
;;;680    snmp_dt_temper[2]=t_ext[2];
;;;681    //snmp_dt_temper[3]=t_ext[3];
;;;682    snmp_dt_error[0]=ND_EXT[0];
;;;683    if(NUMDT<1)snmp_dt_error[0]=0xff;
;;;684    snmp_dt_error[1]=ND_EXT[1];
;;;685    if(NUMDT<2)snmp_dt_error[0]=0xff;
;;;686    snmp_dt_error[2]=ND_EXT[2];
;;;687    if(NUMDT<3)snmp_dt_error[0]=0xff;
;;;688    //snmp_dt_error[3]=ND_EXT[3];
;;;689    if(NUMDT<4)snmp_dt_error[0]=0xff;
;;;690    
;;;691    /*
;;;692    //Литиевые батареи
;;;693    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;694    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;695    snmp_lakb_voltage[0]=lakb[0]._tot_bat_volt;				//Напряжение ЛАКБ
;;;696    snmp_lakb_voltage[1]=lakb[1]._tot_bat_volt;				//Напряжение ЛАКБ
;;;697    snmp_lakb_max_cell_voltage[0]=lakb[0]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;698    snmp_lakb_max_cell_voltage[1]=lakb[1]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;699    snmp_lakb_min_cell_voltage[0]=lakb[0]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;700    snmp_lakb_min_cell_voltage[1]=lakb[1]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;701    snmp_lakb_max_cell_temperature[0]=lakb[0]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;702    snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;703    snmp_lakb_min_cell_temperature[0]=lakb[0]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;704    snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;705    snmp_lakb_ch_curr[0]=lakb[0]._ch_curr;					//Ток заряда ЛАКБ
;;;706    snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;707    snmp_lakb_dsch_curr[0]=lakb[0]._dsch_curr;				//Ток разряда ЛАКБ
;;;708    snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;709    snmp_lakb_rat_cap[0]=lakb[0]._rat_cap;					//Номинальная емкость ЛАКБ
;;;710    snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;711    snmp_lakb_soh[0]=lakb[0]._s_o_h;						//Остаточная емкость ЛАКБ
;;;712    snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;713    snmp_lakb_soc[0]=lakb[0]._s_o_c;						//Заряд ЛАКБ
;;;714    snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;715    snmp_lakb_cclv[0]=lakb[0]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;716    snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;717    snmp_lakb_rbt[0]=lakb[0]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;718    snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;719    snmp_lakb_flags1[0]=lakb[0]._flags1;					//Первый флаг состояния ЛАКБ
;;;720    snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;721    snmp_lakb_flags2[0]=lakb[0]._flags2;					//Второй флаг состояния ЛАКБ
;;;722    snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ */
;;;723    
;;;724    //Литиевые батареи
;;;725    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;726    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;727    snmp_lakb_number[2]=3;								//Номер ЛАКБ
;;;728    snmp_lakb_number[3]=4;								//Номер ЛАКБ
;;;729    snmp_lakb_number[4]=5;								//Номер ЛАКБ
;;;730    snmp_lakb_number[5]=6;								//Номер ЛАКБ
;;;731    snmp_lakb_number[6]=7;								//Номер ЛАКБ
;;;732    
;;;733    for (i=0;i<3;i++)
;;;734    	{
;;;735    	snmp_lakb_voltage[i]=lakb[i]._tot_bat_volt;				//Напряжение ЛАКБ
;;;736    	snmp_lakb_max_cell_voltage[i]=lakb[i]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;737    	snmp_lakb_min_cell_voltage[i]=lakb[i]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;738    	snmp_lakb_max_cell_temperature[i]=lakb[i]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;739    	//snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;740    	snmp_lakb_min_cell_temperature[i]=lakb[i]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;741    	//snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;742    	snmp_lakb_ch_curr[i]=lakb[i]._ch_curr;					//Ток заряда ЛАКБ
;;;743    	//snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;744    	snmp_lakb_dsch_curr[i]=lakb[i]._dsch_curr;				//Ток разряда ЛАКБ
;;;745    	//snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;746    	snmp_lakb_rat_cap[i]=lakb[i]._rat_cap;					//Номинальная емкость ЛАКБ
;;;747    	//snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;748    	snmp_lakb_soh[i]=lakb[i]._s_o_h;						//Остаточная емкость ЛАКБ
;;;749    	//snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;750    	snmp_lakb_soc[i]=lakb[i]._s_o_c;						//Заряд ЛАКБ
;;;751    	//snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;752    	snmp_lakb_cclv[i]=lakb[i]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;753    	//snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;754    	snmp_lakb_rbt[i]=lakb[i]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;755    	//snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;756    	snmp_lakb_flags1[i]=lakb[i]._flags1;					//Первый флаг состояния ЛАКБ
;;;757    	//snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;758    	snmp_lakb_flags2[i]=lakb[i]._flags2;					//Второй флаг состояния ЛАКБ
;;;759    	//snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ
;;;760    
;;;761    	snmp_lakb_cell_temperature_1[i]= lakb[i]._cell_temp_1;
;;;762    	snmp_lakb_cell_temperature_2[i]= lakb[i]._cell_temp_2;
;;;763    	snmp_lakb_cell_temperature_3[i]= lakb[i]._cell_temp_3;
;;;764    	snmp_lakb_cell_temperature_4[i]= lakb[i]._cell_temp_4;
;;;765    	snmp_lakb_cell_temperature_ambient[i]=lakb[i]._cell_temp_ambient;
;;;766    	snmp_lakb_cell_temperature_power[i]=lakb[i]._cell_temp_power;
;;;767    	}
;;;768    
;;;769    for (i=0;i<7;i++)
;;;770    {
;;;771    /*
;;;772    snmp_lakb_damp1[i][0]=ABCDEF[(lakb_damp[i][0])>>4];			//Дамп
;;;773    snmp_lakb_damp1[i][1]=ABCDEF[(lakb_damp[i][0])&0x0f];			//Дамп
;;;774    snmp_lakb_damp1[i][2]=' ';
;;;775    snmp_lakb_damp1[i][3]=ABCDEF[(lakb_damp[i][1])>>4];			//Дамп
;;;776    snmp_lakb_damp1[i][4]=ABCDEF[(lakb_damp[i][1])&0x0f];			//Дамп
;;;777    snmp_lakb_damp1[i][5]=' ';
;;;778    snmp_lakb_damp1[i][6]=ABCDEF[(lakb_damp[i][2])>>4];			//Дамп
;;;779    snmp_lakb_damp1[i][7]=ABCDEF[(lakb_damp[i][2])&0x0f];			//Дамп
;;;780    snmp_lakb_damp1[i][8]=' ';
;;;781    snmp_lakb_damp1[i][9]=ABCDEF[(lakb_damp[i][3])>>4];			//Дамп
;;;782    snmp_lakb_damp1[i][10]=ABCDEF[(lakb_damp[i][3])&0x0f];			//Дамп
;;;783    snmp_lakb_damp1[i][11]=' ';
;;;784    snmp_lakb_damp1[i][12]=ABCDEF[(lakb_damp[i][4])>>4];			//Дамп
;;;785    snmp_lakb_damp1[i][13]=ABCDEF[(lakb_damp[i][4])&0x0f];			//Дамп
;;;786    snmp_lakb_damp1[i][14]=' '; 
;;;787    snmp_lakb_damp1[i][15]=ABCDEF[(lakb_damp[i][5])>>4];			//Дамп
;;;788    snmp_lakb_damp1[i][16]=ABCDEF[(lakb_damp[i][5])&0x0f];			//Дамп
;;;789    snmp_lakb_damp1[i][17]=' ';
;;;790    snmp_lakb_damp1[i][18]=ABCDEF[(lakb_damp[i][6])>>4];			//Дамп
;;;791    snmp_lakb_damp1[i][19]=ABCDEF[(lakb_damp[i][6])&0x0f];			//Дамп
;;;792    snmp_lakb_damp1[i][20]=' ';
;;;793    snmp_lakb_damp1[i][21]=ABCDEF[(lakb_damp[i][7])>>4];			//Дамп
;;;794    snmp_lakb_damp1[i][22]=ABCDEF[(lakb_damp[i][7])&0x0f];			//Дамп
;;;795    snmp_lakb_damp1[i][23]=' ';
;;;796    snmp_lakb_damp1[i][24]=ABCDEF[(lakb_damp[i][8])>>4];			//Дамп
;;;797    snmp_lakb_damp1[i][25]=ABCDEF[(lakb_damp[i][8])&0x0f];			//Дамп
;;;798    snmp_lakb_damp1[i][26]=' ';
;;;799    snmp_lakb_damp1[i][27]=ABCDEF[(lakb_damp[i][9])>>4];			//Дамп
;;;800    snmp_lakb_damp1[i][28]=ABCDEF[(lakb_damp[i][9])&0x0f];			//Дамп
;;;801    snmp_lakb_damp1[i][29]=0; 
;;;802    
;;;803    snmp_lakb_damp1[i][30]=ABCDEF[(lakb_damp[i][10])>>4];			//Дамп
;;;804    snmp_lakb_damp1[i][31]=ABCDEF[(lakb_damp[i][10])&0x0f];			//Дамп
;;;805    snmp_lakb_damp1[i][32]=' ';
;;;806    snmp_lakb_damp1[i][33]=ABCDEF[(lakb_damp[i][11])>>4];			//Дамп
;;;807    snmp_lakb_damp1[i][34]=ABCDEF[(lakb_damp[i][11])&0x0f];			//Дамп
;;;808    snmp_lakb_damp1[i][35]=' ';
;;;809    snmp_lakb_damp1[i][36]=ABCDEF[(lakb_damp[i][12])>>4];			//Дамп
;;;810    snmp_lakb_damp1[i][37]=ABCDEF[(lakb_damp[i][12])&0x0f];			//Дамп
;;;811    snmp_lakb_damp1[i][38]=' ';
;;;812    snmp_lakb_damp1[i][39]=ABCDEF[(lakb_damp[i][13])>>4];			//Дамп
;;;813    snmp_lakb_damp1[i][40]=ABCDEF[(lakb_damp[i][13])&0x0f];			//Дамп
;;;814    snmp_lakb_damp1[i][41]=' ';
;;;815    snmp_lakb_damp1[i][42]=ABCDEF[(lakb_damp[i][14])>>4];			//Дамп
;;;816    snmp_lakb_damp1[i][43]=ABCDEF[(lakb_damp[i][14])&0x0f];			//Дамп
;;;817    snmp_lakb_damp1[i][44]=' '; 
;;;818    snmp_lakb_damp1[i][45]=ABCDEF[(lakb_damp[i][15])>>4];			//Дамп
;;;819    snmp_lakb_damp1[i][46]=ABCDEF[(lakb_damp[i][15])&0x0f];			//Дамп
;;;820    snmp_lakb_damp1[i][47]=' ';
;;;821    snmp_lakb_damp1[i][48]=ABCDEF[(lakb_damp[i][16])>>4];			//Дамп
;;;822    snmp_lakb_damp1[i][49]=ABCDEF[(lakb_damp[i][16])&0x0f];			//Дамп
;;;823    snmp_lakb_damp1[i][50]=' ';
;;;824    snmp_lakb_damp1[i][51]=ABCDEF[(lakb_damp[i][17])>>4];			//Дамп
;;;825    snmp_lakb_damp1[i][52]=ABCDEF[(lakb_damp[i][17])&0x0f];			//Дамп
;;;826    snmp_lakb_damp1[i][53]=' ';
;;;827    snmp_lakb_damp1[i][54]=ABCDEF[(lakb_damp[i][18])>>4];			//Дамп
;;;828    snmp_lakb_damp1[i][55]=ABCDEF[(lakb_damp[i][18])&0x0f];			//Дамп
;;;829    snmp_lakb_damp1[i][56]=' ';
;;;830    snmp_lakb_damp1[i][57]=ABCDEF[(lakb_damp[i][19])>>4];			//Дамп
;;;831    snmp_lakb_damp1[i][58]=ABCDEF[(lakb_damp[i][19])&0x0f];			//Дамп
;;;832    snmp_lakb_damp1[i][59]=0; 
;;;833    
;;;834    
;;;835    snmp_lakb_damp1[i][60]=ABCDEF[(lakb_damp[i][20])>>4];			//Дамп
;;;836    snmp_lakb_damp1[i][61]=ABCDEF[(lakb_damp[i][20])&0x0f];			//Дамп
;;;837    snmp_lakb_damp1[i][62]=' ';
;;;838    snmp_lakb_damp1[i][63]=ABCDEF[(lakb_damp[i][21])>>4];			//Дамп
;;;839    snmp_lakb_damp1[i][64]=ABCDEF[(lakb_damp[i][21])&0x0f];			//Дамп
;;;840    snmp_lakb_damp1[i][65]=' ';
;;;841    snmp_lakb_damp1[i][66]=ABCDEF[(lakb_damp[i][22])>>4];			//Дамп
;;;842    snmp_lakb_damp1[i][67]=ABCDEF[(lakb_damp[i][22])&0x0f];			//Дамп
;;;843    snmp_lakb_damp1[i][68]=' ';
;;;844    snmp_lakb_damp1[i][69]=ABCDEF[(lakb_damp[i][23])>>4];			//Дамп
;;;845    snmp_lakb_damp1[i][70]=ABCDEF[(lakb_damp[i][23])&0x0f];			//Дамп
;;;846    snmp_lakb_damp1[i][71]=' ';
;;;847    snmp_lakb_damp1[i][72]=ABCDEF[(lakb_damp[i][24])>>4];			//Дамп
;;;848    snmp_lakb_damp1[i][73]=ABCDEF[(lakb_damp[i][24])&0x0f];			//Дамп
;;;849    snmp_lakb_damp1[i][74]=' '; 
;;;850    snmp_lakb_damp1[i][75]=ABCDEF[(lakb_damp[i][25])>>4];			//Дамп
;;;851    snmp_lakb_damp1[i][76]=ABCDEF[(lakb_damp[i][25])&0x0f];			//Дамп
;;;852    snmp_lakb_damp1[i][77]=' ';
;;;853    snmp_lakb_damp1[i][78]=ABCDEF[(lakb_damp[i][26])>>4];			//Дамп
;;;854    snmp_lakb_damp1[i][79]=ABCDEF[(lakb_damp[i][26])&0x0f];			//Дамп
;;;855    snmp_lakb_damp1[i][80]=' ';
;;;856    snmp_lakb_damp1[i][81]=ABCDEF[(lakb_damp[i][27])>>4];			//Дамп
;;;857    snmp_lakb_damp1[i][82]=ABCDEF[(lakb_damp[i][27])&0x0f];			//Дамп
;;;858    snmp_lakb_damp1[i][83]=' ';
;;;859    snmp_lakb_damp1[i][84]=ABCDEF[(lakb_damp[i][28])>>4];			//Дамп
;;;860    snmp_lakb_damp1[i][85]=ABCDEF[(lakb_damp[i][28])&0x0f];			//Дамп
;;;861    snmp_lakb_damp1[i][86]=' ';
;;;862    snmp_lakb_damp1[i][87]=ABCDEF[(lakb_damp[i][29])>>4];			//Дамп
;;;863    snmp_lakb_damp1[i][88]=ABCDEF[(lakb_damp[i][29])&0x0f];			//Дамп
;;;864    snmp_lakb_damp1[i][89]=0;
;;;865    
;;;866    
;;;867    snmp_lakb_damp1[i][90]=ABCDEF[(lakb_damp[i][30])>>4];			//Дамп
;;;868    snmp_lakb_damp1[i][91]=ABCDEF[(lakb_damp[i][30])&0x0f];			//Дамп
;;;869    snmp_lakb_damp1[i][92]=' ';
;;;870    snmp_lakb_damp1[i][93]=ABCDEF[(lakb_damp[i][31])>>4];			//Дамп
;;;871    snmp_lakb_damp1[i][94]=ABCDEF[(lakb_damp[i][31])&0x0f];			//Дамп
;;;872    snmp_lakb_damp1[i][95]=' ';
;;;873    snmp_lakb_damp1[i][96]=ABCDEF[(lakb_damp[i][32])>>4];			//Дамп
;;;874    snmp_lakb_damp1[i][97]=ABCDEF[(lakb_damp[i][32])&0x0f];			//Дамп
;;;875    snmp_lakb_damp1[i][98]=' ';
;;;876    snmp_lakb_damp1[i][99]=ABCDEF[(lakb_damp[i][33])>>4];			//Дамп
;;;877    snmp_lakb_damp1[i][100]=ABCDEF[(lakb_damp[i][33])&0x0f];			//Дамп
;;;878    snmp_lakb_damp1[i][101]=' ';
;;;879    snmp_lakb_damp1[i][102]=ABCDEF[(lakb_damp[i][34])>>4];			//Дамп
;;;880    snmp_lakb_damp1[i][103]=ABCDEF[(lakb_damp[i][34])&0x0f];			//Дамп
;;;881    snmp_lakb_damp1[i][104]=' '; 
;;;882    snmp_lakb_damp1[i][105]=ABCDEF[(lakb_damp[i][35])>>4];			//Дамп
;;;883    snmp_lakb_damp1[i][106]=ABCDEF[(lakb_damp[i][35])&0x0f];			//Дамп
;;;884    snmp_lakb_damp1[i][107]=' ';
;;;885    snmp_lakb_damp1[i][108]=ABCDEF[(lakb_damp[i][36])>>4];			//Дамп
;;;886    snmp_lakb_damp1[i][109]=ABCDEF[(lakb_damp[i][36])&0x0f];			//Дамп
;;;887    snmp_lakb_damp1[i][110]=' ';
;;;888    snmp_lakb_damp1[i][111]=ABCDEF[(lakb_damp[i][37])>>4];			//Дамп
;;;889    snmp_lakb_damp1[i][112]=ABCDEF[(lakb_damp[i][37])&0x0f];			//Дамп
;;;890    snmp_lakb_damp1[i][113]=' ';
;;;891    snmp_lakb_damp1[i][114]=ABCDEF[(lakb_damp[i][38])>>4];			//Дамп
;;;892    snmp_lakb_damp1[i][115]=ABCDEF[(lakb_damp[i][38])&0x0f];			//Дамп
;;;893    snmp_lakb_damp1[i][116]=' ';
;;;894    snmp_lakb_damp1[i][117]=ABCDEF[(lakb_damp[i][39])>>4];			//Дамп
;;;895    snmp_lakb_damp1[i][118]=ABCDEF[(lakb_damp[i][39])&0x0f];			//Дамп
;;;896    snmp_lakb_damp1[i][119]=0; 
;;;897     
;;;898    
;;;899    snmp_lakb_damp1[i][120]=ABCDEF[(lakb_damp[i][40])>>4];			//Дамп
;;;900    snmp_lakb_damp1[i][121]=ABCDEF[(lakb_damp[i][40])&0x0f];			//Дамп
;;;901    snmp_lakb_damp1[i][122]=' ';
;;;902    snmp_lakb_damp1[i][123]=ABCDEF[(lakb_damp[i][41])>>4];			//Дамп
;;;903    snmp_lakb_damp1[i][124]=ABCDEF[(lakb_damp[i][41])&0x0f];			//Дамп
;;;904    snmp_lakb_damp1[i][125]=' ';
;;;905    snmp_lakb_damp1[i][126]=ABCDEF[(lakb_damp[i][42])>>4];			//Дамп
;;;906    snmp_lakb_damp1[i][127]=ABCDEF[(lakb_damp[i][42])&0x0f];			//Дамп
;;;907    snmp_lakb_damp1[i][128]=' ';
;;;908    snmp_lakb_damp1[i][129]=ABCDEF[(lakb_damp[i][43])>>4];			//Дамп
;;;909    snmp_lakb_damp1[i][130]=ABCDEF[(lakb_damp[i][43])&0x0f];			//Дамп
;;;910    snmp_lakb_damp1[i][131]=' ';
;;;911    snmp_lakb_damp1[i][132]=ABCDEF[(lakb_damp[i][44])>>4];			//Дамп
;;;912    snmp_lakb_damp1[i][133]=ABCDEF[(lakb_damp[i][44])&0x0f];			//Дамп
;;;913    snmp_lakb_damp1[i][134]=' '; 
;;;914    snmp_lakb_damp1[i][135]=ABCDEF[(lakb_damp[i][45])>>4];			//Дамп
;;;915    snmp_lakb_damp1[i][136]=ABCDEF[(lakb_damp[i][45])&0x0f];			//Дамп
;;;916    snmp_lakb_damp1[i][137]=' ';
;;;917    snmp_lakb_damp1[i][138]=ABCDEF[(lakb_damp[i][46])>>4];			//Дамп
;;;918    snmp_lakb_damp1[i][139]=ABCDEF[(lakb_damp[i][46])&0x0f];			//Дамп
;;;919    snmp_lakb_damp1[i][140]=' ';
;;;920    snmp_lakb_damp1[i][141]=ABCDEF[(lakb_damp[i][47])>>4];			//Дамп
;;;921    snmp_lakb_damp1[i][142]=ABCDEF[(lakb_damp[i][47])&0x0f];			//Дамп
;;;922    snmp_lakb_damp1[i][143]=' ';
;;;923    snmp_lakb_damp1[i][144]=ABCDEF[(lakb_damp[i][48])>>4];			//Дамп
;;;924    snmp_lakb_damp1[i][145]=ABCDEF[(lakb_damp[i][48])&0x0f];			//Дамп
;;;925    snmp_lakb_damp1[i][146]=' ';
;;;926    snmp_lakb_damp1[i][147]=ABCDEF[(lakb_damp[i][49])>>4];			//Дамп
;;;927    snmp_lakb_damp1[i][148]=ABCDEF[(lakb_damp[i][49])&0x0f];			//Дамп
;;;928    snmp_lakb_damp1[i][149]=0;  */
;;;929    }
;;;930    
;;;931    #ifdef UKU_TELECORE2017
;;;932    snmp_warm_sign=0;
;;;933    if(TELECORE2017_KLIMAT_WARM_SIGNAL==0) snmp_warm_sign=2;
;;;934    else if(TELECORE2017_KLIMAT_WARM_SIGNAL==1) snmp_warm_sign=1;
;;;935    snmp_cool_sign=0;
;;;936    if(TELECORE2017_KLIMAT_VENT_SIGNAL==0) snmp_cool_sign=2;
;;;937    else if(TELECORE2017_KLIMAT_VENT_SIGNAL==1) snmp_cool_sign=1;
;;;938    snmp_warm_on_temper=(signed char)TELECORE2017_KLIMAT_WARM_ON; 
;;;939    snmp_warm_off_temper=(signed char)TELECORE2017_KLIMAT_WARM_OFF;
;;;940    snmp_warm_q=(signed char)TELECORE2017_KLIMAT_CAP;	
;;;941    snmp_cool_20_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON20;
;;;942    snmp_cool_40_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON40;
;;;943    snmp_cool_60_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON60;
;;;944    snmp_cool_80_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON80;
;;;945    snmp_cool_100_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON100;
;;;946    snmp_cool_20_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON20;
;;;947    snmp_cool_40_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON40;
;;;948    snmp_cool_60_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON60;
;;;949    snmp_cool_80_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON80;
;;;950    snmp_cool_100_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON100;
;;;951    snmp_warm_stat=0;
;;;952    if(warm_stat_k==wsON) snmp_warm_stat=1;
;;;953    #endif
;;;954    }
;;;955    //-----------------------------------------------
                          ENDP

                  |L4.36|
                          DCD      ||.data||+0xdc
                  |L4.40|
                          DCD      ADR_SK_SIGN

                          AREA ||area_number.5||, CODE, READONLY, ALIGN=1

                          EXPORTAS ||area_number.5||, ||.text||
                  snmp_main_bps_write PROC
;;;261    //-----------------------------------------------
;;;262    void snmp_data (void) 
000000  4770              BX       lr
;;;263    {
;;;264    char i;
;;;265    
;;;266    snmp_mains_power_voltage=net_U;
;;;267    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;268    snmp_mains_power_frequency=net_F3;
;;;269    #else
;;;270    snmp_mains_power_frequency=net_F;
;;;271    #endif
;;;272    snmp_mains_power_voltage_phaseA=net_Ua;
;;;273    snmp_mains_power_voltage_phaseB=net_Ub;
;;;274    snmp_mains_power_voltage_phaseC=net_Uc;
;;;275    
;;;276    
;;;277    if(avar_stat&0x0001)snmp_mains_power_alarm=1;
;;;278    else snmp_mains_power_alarm=0;
;;;279    if(avar_stat&0x0001)snmp_mains_power_status=1;
;;;280    else snmp_mains_power_status=0;
;;;281    
;;;282    /*
;;;283    snmp_mains_power_status=0; 
;;;284    #if(UKU_VERSION==900)
;;;285    snmp_mains_power_status=2;
;;;286    #endif
;;;287    if(St&0x01)snmp_mains_power_status|=0x01;
;;;288    if(St&0x01)snmp_mains_power_alarm=1;
;;;289    
;;;290    
;;;291    
;;;292    
;;;293    
;;;294    
;;;295    for(i=0;i<snmp_numofevents;i++)event2snmp(i);
;;;296    //snmp_bpsnumber[0]=1;
;;;297    //snmp_bpsnumber[1]=2;
;;;298    
;;;299    
;;;300    snmp_sernum_lsb=0x1122;
;;;301    snmp_sernum_msb=0x3344;
;;;302    snmp_device_code=AUSW_MAIN;
;;;303    
;;;304    //memcpy(snmp_location,"lkhg;la",);
;;;305    
;;;306    
;;;307    snmp_numofbat=1;
;;;308    
;;;309    */
;;;310    snmp_sernum=AUSW_MAIN_NUMBER;
;;;311    
;;;312    snmp_load_voltage=load_U;
;;;313    snmp_load_current=load_I;
;;;314    snmp_numofbat=NUMBAT;
;;;315    snmp_numofbps=NUMIST;
;;;316    snmp_numofinv=NUMINV;
;;;317    snmp_numofavt=NUMAVT;
;;;318    snmp_numofdt=NUMDT;
;;;319    snmp_numofsk=NUMSK;
;;;320    snmp_numofevents=lc640_read_int(CNT_EVENT_LOG);
;;;321    
;;;322    snmp_energy_vvod_phase_a=Uvv_eb2[0];
;;;323    snmp_energy_vvod_phase_b=Uvv_eb2[1];
;;;324    snmp_energy_vvod_phase_c=Uvv_eb2[2];
;;;325    snmp_energy_pes_phase_a=Upes_eb2[0];
;;;326    snmp_energy_pes_phase_b=Upes_eb2[1];
;;;327    snmp_energy_pes_phase_c=Upes_eb2[2];
;;;328    
;;;329    #ifdef UKU_KONTUR
;;;330    snmp_energy_vvod_phase_a=Uvv0;
;;;331    snmp_energy_pes_phase_a=Uvv[1];
;;;332    #endif
;;;333    
;;;334    snmp_energy_total_energy=power_summary;
;;;335    snmp_energy_current_energy=power_current;
;;;336    snmp_energy_input_voltage=net_U;
;;;337    
;;;338    
;;;339    #ifdef UKU_ZVU
;;;340    snmp_bat_number[0]=1;
;;;341    snmp_bat_voltage[0]=out_U;
;;;342    snmp_bat_current[0]=Ib_ips_termokompensat;
;;;343    snmp_bat_rem_time[0]=bat_hndl_t_razr_min;
;;;344    if(Ib_ips_termokompensat>0)snmp_bat_rem_time[0]=-1;
;;;345    snmp_bat_temperature[0]=t_ext[0];
;;;346    if(ND_EXT[0])snmp_bat_temperature[0]=-1000;
;;;347    snmp_bat_capacity[0]=BAT_C_POINT_20;
;;;348    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;349    snmp_bat_status[0]=bat_ips._av&1;
;;;350    if(NUMBAT==0)snmp_bat_status[0]=0xff;
;;;351    #endif
;;;352    
;;;353    #ifndef UKU_ZVU
;;;354    snmp_bat_number[0]=1;
;;;355    snmp_bat_voltage[0]=bat[0]._Ub;
;;;356    snmp_bat_part_voltage[0]=bat[0]._Ubm;
;;;357    snmp_bat_current[0]=bat[0]._Ib;
;;;358    
;;;359    /*
;;;360    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;361    if(((AUSW_MAIN==22063)||(AUSW_MAIN==22023))&&(bps[8]._device==dIBAT_METR))
;;;362    	{
;;;363    	snmp_bat_current[0]=Ib_ips_termokompensat;
;;;364    	}
;;;365    #endif*/
;;;366    
;;;367    snmp_bat_temperature[0]=bat[0]._Tb;
;;;368    if(bat[0]._nd) snmp_bat_temperature[0]=-1000;
;;;369    
;;;370    if(BAT_C_REAL[0]==0x5555)snmp_bat_capacity[0]=BAT_C_NOM[0];
;;;371    else snmp_bat_capacity[0]=BAT_C_REAL[0];
;;;372    /*
;;;373    #ifdef UKU_ZVU
;;;374    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;375    
;;;376    #else
;;;377    snmp_bat_charge[0]=bat[0]._zar;
;;;378    #endif */
;;;379    snmp_bat_charge[0]=bat[0]._zar;
;;;380    snmp_bat_status[0]=bat[0]._av;
;;;381    if(BAT_IS_ON[0]!=bisON)snmp_bat_status[0]=0xff;
;;;382    
;;;383    
;;;384    snmp_bat_number[1]=2;
;;;385    snmp_bat_voltage[1]=bat[1]._Ub;
;;;386    snmp_bat_part_voltage[1]=bat[1]._Ubm;
;;;387    snmp_bat_current[1]=bat[1]._Ib;
;;;388    snmp_bat_temperature[1]=bat[1]._Tb;
;;;389    if(bat[1]._nd) snmp_bat_temperature[1]=-1000;
;;;390    if(BAT_C_REAL[1]==0x5555)snmp_bat_capacity[1]=BAT_C_NOM[1];
;;;391    else snmp_bat_capacity[1]=BAT_C_REAL[1];
;;;392    snmp_bat_charge[1]=bat[1]._zar;
;;;393    snmp_bat_status[1]=bat[1]._av;
;;;394    if(BAT_IS_ON[1]!=bisON)snmp_bat_status[1]=0xff;
;;;395    #endif
;;;396    
;;;397    
;;;398    snmp_bps_number[0]=1;
;;;399    snmp_bps_voltage[0]=bps[0]._Uii;
;;;400    snmp_bps_current[0]=bps[0]._Ii;
;;;401    snmp_bps_temperature[0]=bps[0]._Ti;
;;;402    snmp_bps_stat[0]=bps[0]._av;
;;;403    if(!(NUMIST>0))snmp_bps_stat[0]=0xff;												//Байт состояния БПСа.
;;;404    
;;;405    /*if(St_[0]&(1<<2))snmp_bps_stat[0]=(1<<3); 							//авария по Umin
;;;406    else if(St_[0]&(1<<3))snmp_bps_stat[0]=(1<<2); 						//авария по Umax
;;;407    else if(bps[0]._av&(1<<0))snmp_bps_stat[0]=(1<<1); 						//авария по Tmax
;;;408    else if(St_[0]&(1<<5))snmp_bps_stat[0]=(1<<5); 						//заблокирован
;;;409    else if((!(St_[0]&0x3c))&&(!St&0x01)&&(!OFFBP1))snmp_bps_stat[0]=1; 		//Работает
;;;410    */
;;;411    
;;;412    snmp_bps_number[1]=2;
;;;413    snmp_bps_voltage[1]=bps[1]._Uii;
;;;414    snmp_bps_current[1]=bps[1]._Ii;
;;;415    snmp_bps_temperature[1]=bps[1]._Ti;
;;;416    snmp_bps_stat[1]=bps[1]._av;
;;;417    if(!(NUMIST>1))snmp_bps_stat[1]=0xff;												//Байт состояния БПСа.
;;;418    /*if(St_[1]&(1<<2))snmp_bps_stat[1]=(1<<3); 							//авария по Umin
;;;419    else if(St_[1]&(1<<3))snmp_bps_stat[1]=(1<<2); 						//авария по Umax
;;;420    else if(St_[1]&(1<<4))snmp_bps_stat[1]=(1<<1); 						//авария по Tmax
;;;421    else if(St_[1]&(1<<5))snmp_bps_stat[1]=(1<<5); 						//заблокирован
;;;422    else if((!(St_[1]&0x3c))&&(!St&0x01)&&(!OFFBP2))snmp_bps_stat[1]=1; 		//Работает
;;;423    */
;;;424    
;;;425    snmp_bps_number[2]=3;
;;;426    snmp_bps_voltage[2]=bps[2]._Uii;
;;;427    snmp_bps_current[2]=bps[2]._Ii;
;;;428    snmp_bps_temperature[2]=bps[2]._Ti;
;;;429    snmp_bps_stat[2]=bps[2]._av;
;;;430    if(!(NUMIST>2))snmp_bps_stat[2]=0xff;
;;;431    
;;;432    snmp_bps_number[3]=4;
;;;433    snmp_bps_voltage[3]=bps[3]._Uii;
;;;434    snmp_bps_current[3]=bps[3]._Ii;
;;;435    snmp_bps_temperature[3]=bps[3]._Ti;
;;;436    snmp_bps_stat[3]=bps[3]._av;
;;;437    if(!(NUMIST>3))snmp_bps_stat[3]=0xff;
;;;438    
;;;439    snmp_bps_number[4]=5;
;;;440    snmp_bps_voltage[4]=bps[4]._Uii;
;;;441    snmp_bps_current[4]=bps[4]._Ii;
;;;442    snmp_bps_temperature[4]=bps[4]._Ti;
;;;443    snmp_bps_stat[4]=bps[4]._av;
;;;444    if(!(NUMIST>4))snmp_bps_stat[4]=0xff;
;;;445    
;;;446    snmp_bps_number[5]=6;
;;;447    snmp_bps_voltage[5]=bps[5]._Uii;
;;;448    snmp_bps_current[5]=bps[5]._Ii;
;;;449    snmp_bps_temperature[5]=bps[5]._Ti;
;;;450    snmp_bps_stat[5]=bps[5]._av;
;;;451    if(!(NUMIST>5))snmp_bps_stat[5]=0xff;
;;;452    
;;;453    snmp_bps_number[6]=7;
;;;454    snmp_bps_voltage[6]=bps[6]._Uii;
;;;455    snmp_bps_current[6]=bps[6]._Ii;
;;;456    snmp_bps_temperature[6]=bps[6]._Ti;
;;;457    snmp_bps_stat[6]=bps[6]._av;
;;;458    if(!(NUMIST>6))snmp_bps_stat[6]=0xff;
;;;459    
;;;460    snmp_bps_number[7]=8;
;;;461    snmp_bps_voltage[7]=bps[7]._Uii;
;;;462    snmp_bps_current[7]=bps[7]._Ii;
;;;463    snmp_bps_temperature[7]=bps[7]._Ti;
;;;464    snmp_bps_stat[7]=bps[7]._av;
;;;465    if(!(NUMIST>7))snmp_bps_stat[7]=0xff;
;;;466    
;;;467    
;;;468    
;;;469    snmp_inv_number[0]=1;
;;;470    snmp_inv_voltage[0]=inv[0]._Uio;
;;;471    snmp_inv_current[0]=inv[0]._Ii;
;;;472    snmp_inv_temperature[0]=inv[0]._Ti;
;;;473    snmp_inv_stat[0]=inv[0]._flags_tm;
;;;474    
;;;475    snmp_inv_number[1]=2;
;;;476    snmp_inv_voltage[1]=inv[1]._Uio;
;;;477    snmp_inv_current[1]=inv[1]._Ii;
;;;478    snmp_inv_temperature[1]=inv[1]._Ti;
;;;479    snmp_inv_stat[1]=inv[1]._flags_tm;
;;;480    
;;;481    snmp_inv_number[2]=3;
;;;482    snmp_inv_voltage[2]=inv[2]._Uio;
;;;483    snmp_inv_current[2]=inv[2]._Ii;
;;;484    snmp_inv_temperature[2]=inv[2]._Ti;
;;;485    snmp_inv_stat[2]=inv[2]._flags_tm;
;;;486    
;;;487    
;;;488    
;;;489    
;;;490    					  
;;;491    snmp_sk_number[0]=1;
;;;492    memcpy(&snmp_sk_name[0][0],"Door",10);
;;;493    if(sk_stat[0]==ssON) snmp_sk_aktiv[0]=1;
;;;494    else snmp_sk_aktiv[0]=0;
;;;495    if(!SK_SIGN[0])snmp_sk_alarm_aktiv[0]=1;
;;;496    else snmp_sk_alarm_aktiv[0]=0;
;;;497    if(sk_av_stat[0]==sasON)	snmp_sk_alarm[0]=1;
;;;498    else                     snmp_sk_alarm[0]=0;
;;;499    
;;;500    
;;;501    snmp_sk_number[1]=2;
;;;502    memcpy(&snmp_sk_name[1][0],"Smoke",10);
;;;503    if(sk_stat[1]==ssON) snmp_sk_aktiv[1]=1;
;;;504    else snmp_sk_aktiv[1]=0;
;;;505    if(!SK_SIGN[1])snmp_sk_alarm_aktiv[1]=1;
;;;506    else snmp_sk_alarm_aktiv[1]=0;
;;;507    if(sk_av_stat[1]==sasON)	snmp_sk_alarm[1]=1;
;;;508    else                     snmp_sk_alarm[1]=0;
;;;509    
;;;510    snmp_sk_number[2]=3;
;;;511    memcpy(&snmp_sk_name[2][0],"Shock",10);
;;;512    if(sk_stat[2]==ssON) snmp_sk_aktiv[2]=1;
;;;513    else snmp_sk_aktiv[2]=0;
;;;514    if(!SK_SIGN[2])snmp_sk_alarm_aktiv[2]=1;
;;;515    else snmp_sk_alarm_aktiv[2]=0;
;;;516    if(sk_av_stat[2]==sasON)	snmp_sk_alarm[2]=1;
;;;517    else                     snmp_sk_alarm[2]=0;
;;;518    
;;;519    snmp_sk_number[3]=4;
;;;520    memcpy(&snmp_sk_name[3][0],"     ",10);
;;;521    if(sk_stat[3]==ssON) snmp_sk_aktiv[3]=1;
;;;522    else snmp_sk_aktiv[3]=0;
;;;523    if(!SK_SIGN[3])snmp_sk_alarm_aktiv[3]=1;
;;;524    else snmp_sk_alarm_aktiv[3]=0;
;;;525    if(sk_av_stat[3]==sasON)	snmp_sk_alarm[3]=1;
;;;526    else                     snmp_sk_alarm[3]=0;
;;;527    
;;;528    
;;;529    if(makb[0]._cnt>8) snmp_makb_connect_status[0]=1;
;;;530    else if(makb[0]._cnt<2) snmp_makb_connect_status[0]=0;
;;;531    if(makb[1]._cnt>8) snmp_makb_connect_status[1]=1;
;;;532    else if(makb[1]._cnt<2) snmp_makb_connect_status[1]=0;
;;;533    if(makb[2]._cnt>8) snmp_makb_connect_status[2]=1;
;;;534    else if(makb[2]._cnt<2) snmp_makb_connect_status[2]=0;
;;;535    if(makb[3]._cnt>8) snmp_makb_connect_status[3]=1;
;;;536    else if(makb[3]._cnt<2) snmp_makb_connect_status[3]=0;
;;;537    
;;;538    snmp_makb_voltage0[0]=makb[0]._Ub[0];
;;;539    snmp_makb_voltage1[0]=makb[0]._Ub[1];
;;;540    snmp_makb_voltage2[0]=makb[0]._Ub[2];
;;;541    snmp_makb_voltage3[0]=makb[0]._Ub[3];
;;;542    snmp_makb_voltage4[0]=makb[0]._Ub[4];
;;;543    snmp_makb_voltage0[1]=makb[1]._Ub[0];
;;;544    snmp_makb_voltage1[1]=makb[1]._Ub[1];
;;;545    snmp_makb_voltage2[1]=makb[1]._Ub[2];
;;;546    snmp_makb_voltage3[1]=makb[1]._Ub[3];
;;;547    snmp_makb_voltage4[1]=makb[1]._Ub[4];
;;;548    snmp_makb_voltage0[2]=makb[2]._Ub[0];
;;;549    snmp_makb_voltage1[2]=makb[2]._Ub[1];
;;;550    snmp_makb_voltage2[2]=makb[2]._Ub[2];
;;;551    snmp_makb_voltage3[2]=makb[2]._Ub[3];
;;;552    snmp_makb_voltage4[2]=makb[2]._Ub[4];
;;;553    snmp_makb_voltage0[3]=makb[3]._Ub[0];
;;;554    snmp_makb_voltage1[3]=makb[3]._Ub[1];
;;;555    snmp_makb_voltage2[3]=makb[3]._Ub[2];
;;;556    snmp_makb_voltage3[3]=makb[3]._Ub[3];
;;;557    snmp_makb_voltage4[3]=makb[3]._Ub[4];
;;;558    
;;;559    snmp_makb_temper0[0]=makb[0]._T[0];
;;;560    snmp_makb_temper1[0]=makb[0]._T[1];
;;;561    snmp_makb_temper2[0]=makb[0]._T[2];
;;;562    snmp_makb_temper3[0]=makb[0]._T[3];
;;;563    snmp_makb_temper4[0]=makb[0]._T[4];
;;;564    snmp_makb_temper0[1]=makb[1]._T[0];
;;;565    snmp_makb_temper1[1]=makb[1]._T[1];
;;;566    snmp_makb_temper2[1]=makb[1]._T[2];
;;;567    snmp_makb_temper3[1]=makb[1]._T[3];
;;;568    snmp_makb_temper4[1]=makb[1]._T[4];
;;;569    snmp_makb_temper0[2]=makb[2]._T[0];
;;;570    snmp_makb_temper1[2]=makb[2]._T[1];
;;;571    snmp_makb_temper2[2]=makb[2]._T[2];
;;;572    snmp_makb_temper3[2]=makb[2]._T[3];
;;;573    snmp_makb_temper4[2]=makb[2]._T[4];
;;;574    snmp_makb_temper0[3]=makb[3]._T[0];
;;;575    snmp_makb_temper1[3]=makb[3]._T[1];
;;;576    snmp_makb_temper2[3]=makb[3]._T[2];
;;;577    snmp_makb_temper3[3]=makb[3]._T[3];
;;;578    snmp_makb_temper4[3]=makb[3]._T[4];
;;;579    
;;;580    snmp_makb_temper0_stat[0]=makb[0]._T_nd[0];
;;;581    snmp_makb_temper1_stat[0]=makb[0]._T_nd[1];
;;;582    snmp_makb_temper2_stat[0]=makb[0]._T_nd[2];
;;;583    snmp_makb_temper3_stat[0]=makb[0]._T_nd[3];
;;;584    snmp_makb_temper4_stat[0]=makb[0]._T_nd[4];
;;;585    snmp_makb_temper0_stat[1]=makb[1]._T_nd[0];
;;;586    snmp_makb_temper1_stat[1]=makb[1]._T_nd[1];
;;;587    snmp_makb_temper2_stat[1]=makb[1]._T_nd[2];
;;;588    snmp_makb_temper3_stat[1]=makb[1]._T_nd[3];
;;;589    snmp_makb_temper4_stat[1]=makb[1]._T_nd[4];
;;;590    snmp_makb_temper0_stat[2]=makb[2]._T_nd[0];
;;;591    snmp_makb_temper1_stat[2]=makb[2]._T_nd[1];
;;;592    snmp_makb_temper2_stat[2]=makb[2]._T_nd[2];
;;;593    snmp_makb_temper3_stat[2]=makb[2]._T_nd[3];
;;;594    snmp_makb_temper4_stat[2]=makb[2]._T_nd[4];
;;;595    snmp_makb_temper0_stat[3]=makb[3]._T_nd[0];
;;;596    snmp_makb_temper1_stat[3]=makb[3]._T_nd[1];
;;;597    snmp_makb_temper2_stat[3]=makb[3]._T_nd[2];
;;;598    snmp_makb_temper3_stat[3]=makb[3]._T_nd[3];
;;;599    snmp_makb_temper4_stat[3]=makb[3]._T_nd[4];
;;;600    
;;;601    
;;;602    snmp_klimat_box_temper=t_box;
;;;603    snmp_klimat_settings_box_alarm=TBOXMAX;
;;;604    snmp_klimat_settings_vent_on=TBOXVENTON;
;;;605    snmp_klimat_settings_vent_off=TBOXVENTOFF;
;;;606    snmp_klimat_settings_warm_on=TBOXWARMON;
;;;607    snmp_klimat_settings_warm_off=TBOXWARMOFF;
;;;608    snmp_klimat_settings_load_on=TLOADENABLE;
;;;609    snmp_klimat_settings_load_off=TLOADDISABLE;
;;;610    snmp_klimat_settings_batt_on=TBATENABLE;
;;;611    snmp_klimat_settings_batt_off=TBATDISABLE;
;;;612    
;;;613    snmp_dt_ext=t_ext[0];
;;;614    snmp_dt_msan=t_ext[1];
;;;615    snmp_dt_epu=t_ext[2];
;;;616    
;;;617    /*
;;;618    snmp_bat_voltage=Ubat;
;;;619    snmp_bat_current=Ibat;
;;;620    snmp_bat_temperature=t_b;
;;;621    if(BAT_C_REAL==0x5555)
;;;622    	{
;;;623    	snmp_bat_capacity=BAT_C_NOM*10;												    11
;;;624    	}
;;;625    else
;;;626    	{
;;;627    	snmp_bat_capacity=BAT_C_REAL;
;;;628    	}
;;;629    snmp_bat_charge=zar_percent;
;;;630    snmp_bat_status=0;
;;;631    if(St&0x02)snmp_bat_status|=0x01;
;;;632    if(Ibat>0)snmp_bat_status|=0x02;
;;;633    
;;;634    
;;;635    if(spc_stat==spc_OFF) snmp_spc_stat=0;
;;;636    else if(spc_stat==spc_KE) snmp_spc_stat=1;
;;;637    else if(spc_stat==spc_VZ) snmp_spc_stat=10;
;;;638    
;;;639    
;;;640    snmp_main_bps=MAIN_IST+1;
;;;641    */
;;;642    snmp_zv_en=ZV_ON;
;;;643    snmp_alarm_auto_disable=AV_OFF_AVT;
;;;644    snmp_bat_test_time=TBAT;
;;;645    snmp_u_max=UMAX;
;;;646    snmp_u_min=UB20-DU;
;;;647    snmp_u_0_grad=UB0;
;;;648    snmp_u_20_grad=UB20;
;;;649    snmp_u_sign=USIGN;
;;;650    snmp_u_min_power=UMN;
;;;651    snmp_u_withouth_bat=U0B;
;;;652    snmp_control_current=IKB;
;;;653    snmp_max_charge_current=IZMAX;
;;;654    snmp_max_current=IMAX;
;;;655    snmp_min_current=IMIN;
;;;656    //snmp_max_current_koef=KIMAX;
;;;657    snmp_uvz=UVZ;
;;;658    snmp_powerup_psu_timeout=TZAS;
;;;659    snmp_max_temperature=TMAX;
;;;660    snmp_tsign_bat=TBATSIGN; 
;;;661    snmp_tmax_bat=TBATMAX;
;;;662    snmp_tsign_bps=TSIGN;
;;;663    snmp_tmax_bps=TMAX;
;;;664    snmp_bat_part_alarm=UBM_AV; 
;;;665    snmp_power_cnt_adress=POWER_CNT_ADRESS;
;;;666    
;;;667    for(i=0;i<12;i++)
;;;668    	{
;;;669    	snmp_avt_number[i]=i+1;
;;;670    	if(avt_stat[i]==avtOFF)snmp_avt_stat[i]=0;
;;;671    	else snmp_avt_stat[i]=1;
;;;672    	}
;;;673    
;;;674    snmp_dt_number[0]=1;
;;;675    snmp_dt_number[1]=2;
;;;676    snmp_dt_number[2]=3;
;;;677    //snmp_dt_number[3]=4;
;;;678    snmp_dt_temper[0]=t_ext[0];
;;;679    snmp_dt_temper[1]=t_ext[1];
;;;680    snmp_dt_temper[2]=t_ext[2];
;;;681    //snmp_dt_temper[3]=t_ext[3];
;;;682    snmp_dt_error[0]=ND_EXT[0];
;;;683    if(NUMDT<1)snmp_dt_error[0]=0xff;
;;;684    snmp_dt_error[1]=ND_EXT[1];
;;;685    if(NUMDT<2)snmp_dt_error[0]=0xff;
;;;686    snmp_dt_error[2]=ND_EXT[2];
;;;687    if(NUMDT<3)snmp_dt_error[0]=0xff;
;;;688    //snmp_dt_error[3]=ND_EXT[3];
;;;689    if(NUMDT<4)snmp_dt_error[0]=0xff;
;;;690    
;;;691    /*
;;;692    //Литиевые батареи
;;;693    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;694    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;695    snmp_lakb_voltage[0]=lakb[0]._tot_bat_volt;				//Напряжение ЛАКБ
;;;696    snmp_lakb_voltage[1]=lakb[1]._tot_bat_volt;				//Напряжение ЛАКБ
;;;697    snmp_lakb_max_cell_voltage[0]=lakb[0]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;698    snmp_lakb_max_cell_voltage[1]=lakb[1]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;699    snmp_lakb_min_cell_voltage[0]=lakb[0]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;700    snmp_lakb_min_cell_voltage[1]=lakb[1]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;701    snmp_lakb_max_cell_temperature[0]=lakb[0]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;702    snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;703    snmp_lakb_min_cell_temperature[0]=lakb[0]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;704    snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;705    snmp_lakb_ch_curr[0]=lakb[0]._ch_curr;					//Ток заряда ЛАКБ
;;;706    snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;707    snmp_lakb_dsch_curr[0]=lakb[0]._dsch_curr;				//Ток разряда ЛАКБ
;;;708    snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;709    snmp_lakb_rat_cap[0]=lakb[0]._rat_cap;					//Номинальная емкость ЛАКБ
;;;710    snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;711    snmp_lakb_soh[0]=lakb[0]._s_o_h;						//Остаточная емкость ЛАКБ
;;;712    snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;713    snmp_lakb_soc[0]=lakb[0]._s_o_c;						//Заряд ЛАКБ
;;;714    snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;715    snmp_lakb_cclv[0]=lakb[0]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;716    snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;717    snmp_lakb_rbt[0]=lakb[0]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;718    snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;719    snmp_lakb_flags1[0]=lakb[0]._flags1;					//Первый флаг состояния ЛАКБ
;;;720    snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;721    snmp_lakb_flags2[0]=lakb[0]._flags2;					//Второй флаг состояния ЛАКБ
;;;722    snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ */
;;;723    
;;;724    //Литиевые батареи
;;;725    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;726    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;727    snmp_lakb_number[2]=3;								//Номер ЛАКБ
;;;728    snmp_lakb_number[3]=4;								//Номер ЛАКБ
;;;729    snmp_lakb_number[4]=5;								//Номер ЛАКБ
;;;730    snmp_lakb_number[5]=6;								//Номер ЛАКБ
;;;731    snmp_lakb_number[6]=7;								//Номер ЛАКБ
;;;732    
;;;733    for (i=0;i<3;i++)
;;;734    	{
;;;735    	snmp_lakb_voltage[i]=lakb[i]._tot_bat_volt;				//Напряжение ЛАКБ
;;;736    	snmp_lakb_max_cell_voltage[i]=lakb[i]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;737    	snmp_lakb_min_cell_voltage[i]=lakb[i]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;738    	snmp_lakb_max_cell_temperature[i]=lakb[i]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;739    	//snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;740    	snmp_lakb_min_cell_temperature[i]=lakb[i]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;741    	//snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;742    	snmp_lakb_ch_curr[i]=lakb[i]._ch_curr;					//Ток заряда ЛАКБ
;;;743    	//snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;744    	snmp_lakb_dsch_curr[i]=lakb[i]._dsch_curr;				//Ток разряда ЛАКБ
;;;745    	//snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;746    	snmp_lakb_rat_cap[i]=lakb[i]._rat_cap;					//Номинальная емкость ЛАКБ
;;;747    	//snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;748    	snmp_lakb_soh[i]=lakb[i]._s_o_h;						//Остаточная емкость ЛАКБ
;;;749    	//snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;750    	snmp_lakb_soc[i]=lakb[i]._s_o_c;						//Заряд ЛАКБ
;;;751    	//snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;752    	snmp_lakb_cclv[i]=lakb[i]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;753    	//snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;754    	snmp_lakb_rbt[i]=lakb[i]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;755    	//snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;756    	snmp_lakb_flags1[i]=lakb[i]._flags1;					//Первый флаг состояния ЛАКБ
;;;757    	//snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;758    	snmp_lakb_flags2[i]=lakb[i]._flags2;					//Второй флаг состояния ЛАКБ
;;;759    	//snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ
;;;760    
;;;761    	snmp_lakb_cell_temperature_1[i]= lakb[i]._cell_temp_1;
;;;762    	snmp_lakb_cell_temperature_2[i]= lakb[i]._cell_temp_2;
;;;763    	snmp_lakb_cell_temperature_3[i]= lakb[i]._cell_temp_3;
;;;764    	snmp_lakb_cell_temperature_4[i]= lakb[i]._cell_temp_4;
;;;765    	snmp_lakb_cell_temperature_ambient[i]=lakb[i]._cell_temp_ambient;
;;;766    	snmp_lakb_cell_temperature_power[i]=lakb[i]._cell_temp_power;
;;;767    	}
;;;768    
;;;769    for (i=0;i<7;i++)
;;;770    {
;;;771    /*
;;;772    snmp_lakb_damp1[i][0]=ABCDEF[(lakb_damp[i][0])>>4];			//Дамп
;;;773    snmp_lakb_damp1[i][1]=ABCDEF[(lakb_damp[i][0])&0x0f];			//Дамп
;;;774    snmp_lakb_damp1[i][2]=' ';
;;;775    snmp_lakb_damp1[i][3]=ABCDEF[(lakb_damp[i][1])>>4];			//Дамп
;;;776    snmp_lakb_damp1[i][4]=ABCDEF[(lakb_damp[i][1])&0x0f];			//Дамп
;;;777    snmp_lakb_damp1[i][5]=' ';
;;;778    snmp_lakb_damp1[i][6]=ABCDEF[(lakb_damp[i][2])>>4];			//Дамп
;;;779    snmp_lakb_damp1[i][7]=ABCDEF[(lakb_damp[i][2])&0x0f];			//Дамп
;;;780    snmp_lakb_damp1[i][8]=' ';
;;;781    snmp_lakb_damp1[i][9]=ABCDEF[(lakb_damp[i][3])>>4];			//Дамп
;;;782    snmp_lakb_damp1[i][10]=ABCDEF[(lakb_damp[i][3])&0x0f];			//Дамп
;;;783    snmp_lakb_damp1[i][11]=' ';
;;;784    snmp_lakb_damp1[i][12]=ABCDEF[(lakb_damp[i][4])>>4];			//Дамп
;;;785    snmp_lakb_damp1[i][13]=ABCDEF[(lakb_damp[i][4])&0x0f];			//Дамп
;;;786    snmp_lakb_damp1[i][14]=' '; 
;;;787    snmp_lakb_damp1[i][15]=ABCDEF[(lakb_damp[i][5])>>4];			//Дамп
;;;788    snmp_lakb_damp1[i][16]=ABCDEF[(lakb_damp[i][5])&0x0f];			//Дамп
;;;789    snmp_lakb_damp1[i][17]=' ';
;;;790    snmp_lakb_damp1[i][18]=ABCDEF[(lakb_damp[i][6])>>4];			//Дамп
;;;791    snmp_lakb_damp1[i][19]=ABCDEF[(lakb_damp[i][6])&0x0f];			//Дамп
;;;792    snmp_lakb_damp1[i][20]=' ';
;;;793    snmp_lakb_damp1[i][21]=ABCDEF[(lakb_damp[i][7])>>4];			//Дамп
;;;794    snmp_lakb_damp1[i][22]=ABCDEF[(lakb_damp[i][7])&0x0f];			//Дамп
;;;795    snmp_lakb_damp1[i][23]=' ';
;;;796    snmp_lakb_damp1[i][24]=ABCDEF[(lakb_damp[i][8])>>4];			//Дамп
;;;797    snmp_lakb_damp1[i][25]=ABCDEF[(lakb_damp[i][8])&0x0f];			//Дамп
;;;798    snmp_lakb_damp1[i][26]=' ';
;;;799    snmp_lakb_damp1[i][27]=ABCDEF[(lakb_damp[i][9])>>4];			//Дамп
;;;800    snmp_lakb_damp1[i][28]=ABCDEF[(lakb_damp[i][9])&0x0f];			//Дамп
;;;801    snmp_lakb_damp1[i][29]=0; 
;;;802    
;;;803    snmp_lakb_damp1[i][30]=ABCDEF[(lakb_damp[i][10])>>4];			//Дамп
;;;804    snmp_lakb_damp1[i][31]=ABCDEF[(lakb_damp[i][10])&0x0f];			//Дамп
;;;805    snmp_lakb_damp1[i][32]=' ';
;;;806    snmp_lakb_damp1[i][33]=ABCDEF[(lakb_damp[i][11])>>4];			//Дамп
;;;807    snmp_lakb_damp1[i][34]=ABCDEF[(lakb_damp[i][11])&0x0f];			//Дамп
;;;808    snmp_lakb_damp1[i][35]=' ';
;;;809    snmp_lakb_damp1[i][36]=ABCDEF[(lakb_damp[i][12])>>4];			//Дамп
;;;810    snmp_lakb_damp1[i][37]=ABCDEF[(lakb_damp[i][12])&0x0f];			//Дамп
;;;811    snmp_lakb_damp1[i][38]=' ';
;;;812    snmp_lakb_damp1[i][39]=ABCDEF[(lakb_damp[i][13])>>4];			//Дамп
;;;813    snmp_lakb_damp1[i][40]=ABCDEF[(lakb_damp[i][13])&0x0f];			//Дамп
;;;814    snmp_lakb_damp1[i][41]=' ';
;;;815    snmp_lakb_damp1[i][42]=ABCDEF[(lakb_damp[i][14])>>4];			//Дамп
;;;816    snmp_lakb_damp1[i][43]=ABCDEF[(lakb_damp[i][14])&0x0f];			//Дамп
;;;817    snmp_lakb_damp1[i][44]=' '; 
;;;818    snmp_lakb_damp1[i][45]=ABCDEF[(lakb_damp[i][15])>>4];			//Дамп
;;;819    snmp_lakb_damp1[i][46]=ABCDEF[(lakb_damp[i][15])&0x0f];			//Дамп
;;;820    snmp_lakb_damp1[i][47]=' ';
;;;821    snmp_lakb_damp1[i][48]=ABCDEF[(lakb_damp[i][16])>>4];			//Дамп
;;;822    snmp_lakb_damp1[i][49]=ABCDEF[(lakb_damp[i][16])&0x0f];			//Дамп
;;;823    snmp_lakb_damp1[i][50]=' ';
;;;824    snmp_lakb_damp1[i][51]=ABCDEF[(lakb_damp[i][17])>>4];			//Дамп
;;;825    snmp_lakb_damp1[i][52]=ABCDEF[(lakb_damp[i][17])&0x0f];			//Дамп
;;;826    snmp_lakb_damp1[i][53]=' ';
;;;827    snmp_lakb_damp1[i][54]=ABCDEF[(lakb_damp[i][18])>>4];			//Дамп
;;;828    snmp_lakb_damp1[i][55]=ABCDEF[(lakb_damp[i][18])&0x0f];			//Дамп
;;;829    snmp_lakb_damp1[i][56]=' ';
;;;830    snmp_lakb_damp1[i][57]=ABCDEF[(lakb_damp[i][19])>>4];			//Дамп
;;;831    snmp_lakb_damp1[i][58]=ABCDEF[(lakb_damp[i][19])&0x0f];			//Дамп
;;;832    snmp_lakb_damp1[i][59]=0; 
;;;833    
;;;834    
;;;835    snmp_lakb_damp1[i][60]=ABCDEF[(lakb_damp[i][20])>>4];			//Дамп
;;;836    snmp_lakb_damp1[i][61]=ABCDEF[(lakb_damp[i][20])&0x0f];			//Дамп
;;;837    snmp_lakb_damp1[i][62]=' ';
;;;838    snmp_lakb_damp1[i][63]=ABCDEF[(lakb_damp[i][21])>>4];			//Дамп
;;;839    snmp_lakb_damp1[i][64]=ABCDEF[(lakb_damp[i][21])&0x0f];			//Дамп
;;;840    snmp_lakb_damp1[i][65]=' ';
;;;841    snmp_lakb_damp1[i][66]=ABCDEF[(lakb_damp[i][22])>>4];			//Дамп
;;;842    snmp_lakb_damp1[i][67]=ABCDEF[(lakb_damp[i][22])&0x0f];			//Дамп
;;;843    snmp_lakb_damp1[i][68]=' ';
;;;844    snmp_lakb_damp1[i][69]=ABCDEF[(lakb_damp[i][23])>>4];			//Дамп
;;;845    snmp_lakb_damp1[i][70]=ABCDEF[(lakb_damp[i][23])&0x0f];			//Дамп
;;;846    snmp_lakb_damp1[i][71]=' ';
;;;847    snmp_lakb_damp1[i][72]=ABCDEF[(lakb_damp[i][24])>>4];			//Дамп
;;;848    snmp_lakb_damp1[i][73]=ABCDEF[(lakb_damp[i][24])&0x0f];			//Дамп
;;;849    snmp_lakb_damp1[i][74]=' '; 
;;;850    snmp_lakb_damp1[i][75]=ABCDEF[(lakb_damp[i][25])>>4];			//Дамп
;;;851    snmp_lakb_damp1[i][76]=ABCDEF[(lakb_damp[i][25])&0x0f];			//Дамп
;;;852    snmp_lakb_damp1[i][77]=' ';
;;;853    snmp_lakb_damp1[i][78]=ABCDEF[(lakb_damp[i][26])>>4];			//Дамп
;;;854    snmp_lakb_damp1[i][79]=ABCDEF[(lakb_damp[i][26])&0x0f];			//Дамп
;;;855    snmp_lakb_damp1[i][80]=' ';
;;;856    snmp_lakb_damp1[i][81]=ABCDEF[(lakb_damp[i][27])>>4];			//Дамп
;;;857    snmp_lakb_damp1[i][82]=ABCDEF[(lakb_damp[i][27])&0x0f];			//Дамп
;;;858    snmp_lakb_damp1[i][83]=' ';
;;;859    snmp_lakb_damp1[i][84]=ABCDEF[(lakb_damp[i][28])>>4];			//Дамп
;;;860    snmp_lakb_damp1[i][85]=ABCDEF[(lakb_damp[i][28])&0x0f];			//Дамп
;;;861    snmp_lakb_damp1[i][86]=' ';
;;;862    snmp_lakb_damp1[i][87]=ABCDEF[(lakb_damp[i][29])>>4];			//Дамп
;;;863    snmp_lakb_damp1[i][88]=ABCDEF[(lakb_damp[i][29])&0x0f];			//Дамп
;;;864    snmp_lakb_damp1[i][89]=0;
;;;865    
;;;866    
;;;867    snmp_lakb_damp1[i][90]=ABCDEF[(lakb_damp[i][30])>>4];			//Дамп
;;;868    snmp_lakb_damp1[i][91]=ABCDEF[(lakb_damp[i][30])&0x0f];			//Дамп
;;;869    snmp_lakb_damp1[i][92]=' ';
;;;870    snmp_lakb_damp1[i][93]=ABCDEF[(lakb_damp[i][31])>>4];			//Дамп
;;;871    snmp_lakb_damp1[i][94]=ABCDEF[(lakb_damp[i][31])&0x0f];			//Дамп
;;;872    snmp_lakb_damp1[i][95]=' ';
;;;873    snmp_lakb_damp1[i][96]=ABCDEF[(lakb_damp[i][32])>>4];			//Дамп
;;;874    snmp_lakb_damp1[i][97]=ABCDEF[(lakb_damp[i][32])&0x0f];			//Дамп
;;;875    snmp_lakb_damp1[i][98]=' ';
;;;876    snmp_lakb_damp1[i][99]=ABCDEF[(lakb_damp[i][33])>>4];			//Дамп
;;;877    snmp_lakb_damp1[i][100]=ABCDEF[(lakb_damp[i][33])&0x0f];			//Дамп
;;;878    snmp_lakb_damp1[i][101]=' ';
;;;879    snmp_lakb_damp1[i][102]=ABCDEF[(lakb_damp[i][34])>>4];			//Дамп
;;;880    snmp_lakb_damp1[i][103]=ABCDEF[(lakb_damp[i][34])&0x0f];			//Дамп
;;;881    snmp_lakb_damp1[i][104]=' '; 
;;;882    snmp_lakb_damp1[i][105]=ABCDEF[(lakb_damp[i][35])>>4];			//Дамп
;;;883    snmp_lakb_damp1[i][106]=ABCDEF[(lakb_damp[i][35])&0x0f];			//Дамп
;;;884    snmp_lakb_damp1[i][107]=' ';
;;;885    snmp_lakb_damp1[i][108]=ABCDEF[(lakb_damp[i][36])>>4];			//Дамп
;;;886    snmp_lakb_damp1[i][109]=ABCDEF[(lakb_damp[i][36])&0x0f];			//Дамп
;;;887    snmp_lakb_damp1[i][110]=' ';
;;;888    snmp_lakb_damp1[i][111]=ABCDEF[(lakb_damp[i][37])>>4];			//Дамп
;;;889    snmp_lakb_damp1[i][112]=ABCDEF[(lakb_damp[i][37])&0x0f];			//Дамп
;;;890    snmp_lakb_damp1[i][113]=' ';
;;;891    snmp_lakb_damp1[i][114]=ABCDEF[(lakb_damp[i][38])>>4];			//Дамп
;;;892    snmp_lakb_damp1[i][115]=ABCDEF[(lakb_damp[i][38])&0x0f];			//Дамп
;;;893    snmp_lakb_damp1[i][116]=' ';
;;;894    snmp_lakb_damp1[i][117]=ABCDEF[(lakb_damp[i][39])>>4];			//Дамп
;;;895    snmp_lakb_damp1[i][118]=ABCDEF[(lakb_damp[i][39])&0x0f];			//Дамп
;;;896    snmp_lakb_damp1[i][119]=0; 
;;;897     
;;;898    
;;;899    snmp_lakb_damp1[i][120]=ABCDEF[(lakb_damp[i][40])>>4];			//Дамп
;;;900    snmp_lakb_damp1[i][121]=ABCDEF[(lakb_damp[i][40])&0x0f];			//Дамп
;;;901    snmp_lakb_damp1[i][122]=' ';
;;;902    snmp_lakb_damp1[i][123]=ABCDEF[(lakb_damp[i][41])>>4];			//Дамп
;;;903    snmp_lakb_damp1[i][124]=ABCDEF[(lakb_damp[i][41])&0x0f];			//Дамп
;;;904    snmp_lakb_damp1[i][125]=' ';
;;;905    snmp_lakb_damp1[i][126]=ABCDEF[(lakb_damp[i][42])>>4];			//Дамп
;;;906    snmp_lakb_damp1[i][127]=ABCDEF[(lakb_damp[i][42])&0x0f];			//Дамп
;;;907    snmp_lakb_damp1[i][128]=' ';
;;;908    snmp_lakb_damp1[i][129]=ABCDEF[(lakb_damp[i][43])>>4];			//Дамп
;;;909    snmp_lakb_damp1[i][130]=ABCDEF[(lakb_damp[i][43])&0x0f];			//Дамп
;;;910    snmp_lakb_damp1[i][131]=' ';
;;;911    snmp_lakb_damp1[i][132]=ABCDEF[(lakb_damp[i][44])>>4];			//Дамп
;;;912    snmp_lakb_damp1[i][133]=ABCDEF[(lakb_damp[i][44])&0x0f];			//Дамп
;;;913    snmp_lakb_damp1[i][134]=' '; 
;;;914    snmp_lakb_damp1[i][135]=ABCDEF[(lakb_damp[i][45])>>4];			//Дамп
;;;915    snmp_lakb_damp1[i][136]=ABCDEF[(lakb_damp[i][45])&0x0f];			//Дамп
;;;916    snmp_lakb_damp1[i][137]=' ';
;;;917    snmp_lakb_damp1[i][138]=ABCDEF[(lakb_damp[i][46])>>4];			//Дамп
;;;918    snmp_lakb_damp1[i][139]=ABCDEF[(lakb_damp[i][46])&0x0f];			//Дамп
;;;919    snmp_lakb_damp1[i][140]=' ';
;;;920    snmp_lakb_damp1[i][141]=ABCDEF[(lakb_damp[i][47])>>4];			//Дамп
;;;921    snmp_lakb_damp1[i][142]=ABCDEF[(lakb_damp[i][47])&0x0f];			//Дамп
;;;922    snmp_lakb_damp1[i][143]=' ';
;;;923    snmp_lakb_damp1[i][144]=ABCDEF[(lakb_damp[i][48])>>4];			//Дамп
;;;924    snmp_lakb_damp1[i][145]=ABCDEF[(lakb_damp[i][48])&0x0f];			//Дамп
;;;925    snmp_lakb_damp1[i][146]=' ';
;;;926    snmp_lakb_damp1[i][147]=ABCDEF[(lakb_damp[i][49])>>4];			//Дамп
;;;927    snmp_lakb_damp1[i][148]=ABCDEF[(lakb_damp[i][49])&0x0f];			//Дамп
;;;928    snmp_lakb_damp1[i][149]=0;  */
;;;929    }
;;;930    
;;;931    #ifdef UKU_TELECORE2017
;;;932    snmp_warm_sign=0;
;;;933    if(TELECORE2017_KLIMAT_WARM_SIGNAL==0) snmp_warm_sign=2;
;;;934    else if(TELECORE2017_KLIMAT_WARM_SIGNAL==1) snmp_warm_sign=1;
;;;935    snmp_cool_sign=0;
;;;936    if(TELECORE2017_KLIMAT_VENT_SIGNAL==0) snmp_cool_sign=2;
;;;937    else if(TELECORE2017_KLIMAT_VENT_SIGNAL==1) snmp_cool_sign=1;
;;;938    snmp_warm_on_temper=(signed char)TELECORE2017_KLIMAT_WARM_ON; 
;;;939    snmp_warm_off_temper=(signed char)TELECORE2017_KLIMAT_WARM_OFF;
;;;940    snmp_warm_q=(signed char)TELECORE2017_KLIMAT_CAP;	
;;;941    snmp_cool_20_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON20;
;;;942    snmp_cool_40_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON40;
;;;943    snmp_cool_60_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON60;
;;;944    snmp_cool_80_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON80;
;;;945    snmp_cool_100_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON100;
;;;946    snmp_cool_20_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON20;
;;;947    snmp_cool_40_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON40;
;;;948    snmp_cool_60_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON60;
;;;949    snmp_cool_80_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON80;
;;;950    snmp_cool_100_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON100;
;;;951    snmp_warm_stat=0;
;;;952    if(warm_stat_k==wsON) snmp_warm_stat=1;
;;;953    #endif
;;;954    }
;;;955    //-----------------------------------------------
                          ENDP


                          AREA ||area_number.6||, CODE, READONLY, ALIGN=1

                          EXPORTAS ||area_number.6||, ||.text||
                  snmp_max_current_koef_write PROC
;;;261    //-----------------------------------------------
;;;262    void snmp_data (void) 
000000  4770              BX       lr
;;;263    {
;;;264    char i;
;;;265    
;;;266    snmp_mains_power_voltage=net_U;
;;;267    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;268    snmp_mains_power_frequency=net_F3;
;;;269    #else
;;;270    snmp_mains_power_frequency=net_F;
;;;271    #endif
;;;272    snmp_mains_power_voltage_phaseA=net_Ua;
;;;273    snmp_mains_power_voltage_phaseB=net_Ub;
;;;274    snmp_mains_power_voltage_phaseC=net_Uc;
;;;275    
;;;276    
;;;277    if(avar_stat&0x0001)snmp_mains_power_alarm=1;
;;;278    else snmp_mains_power_alarm=0;
;;;279    if(avar_stat&0x0001)snmp_mains_power_status=1;
;;;280    else snmp_mains_power_status=0;
;;;281    
;;;282    /*
;;;283    snmp_mains_power_status=0; 
;;;284    #if(UKU_VERSION==900)
;;;285    snmp_mains_power_status=2;
;;;286    #endif
;;;287    if(St&0x01)snmp_mains_power_status|=0x01;
;;;288    if(St&0x01)snmp_mains_power_alarm=1;
;;;289    
;;;290    
;;;291    
;;;292    
;;;293    
;;;294    
;;;295    for(i=0;i<snmp_numofevents;i++)event2snmp(i);
;;;296    //snmp_bpsnumber[0]=1;
;;;297    //snmp_bpsnumber[1]=2;
;;;298    
;;;299    
;;;300    snmp_sernum_lsb=0x1122;
;;;301    snmp_sernum_msb=0x3344;
;;;302    snmp_device_code=AUSW_MAIN;
;;;303    
;;;304    //memcpy(snmp_location,"lkhg;la",);
;;;305    
;;;306    
;;;307    snmp_numofbat=1;
;;;308    
;;;309    */
;;;310    snmp_sernum=AUSW_MAIN_NUMBER;
;;;311    
;;;312    snmp_load_voltage=load_U;
;;;313    snmp_load_current=load_I;
;;;314    snmp_numofbat=NUMBAT;
;;;315    snmp_numofbps=NUMIST;
;;;316    snmp_numofinv=NUMINV;
;;;317    snmp_numofavt=NUMAVT;
;;;318    snmp_numofdt=NUMDT;
;;;319    snmp_numofsk=NUMSK;
;;;320    snmp_numofevents=lc640_read_int(CNT_EVENT_LOG);
;;;321    
;;;322    snmp_energy_vvod_phase_a=Uvv_eb2[0];
;;;323    snmp_energy_vvod_phase_b=Uvv_eb2[1];
;;;324    snmp_energy_vvod_phase_c=Uvv_eb2[2];
;;;325    snmp_energy_pes_phase_a=Upes_eb2[0];
;;;326    snmp_energy_pes_phase_b=Upes_eb2[1];
;;;327    snmp_energy_pes_phase_c=Upes_eb2[2];
;;;328    
;;;329    #ifdef UKU_KONTUR
;;;330    snmp_energy_vvod_phase_a=Uvv0;
;;;331    snmp_energy_pes_phase_a=Uvv[1];
;;;332    #endif
;;;333    
;;;334    snmp_energy_total_energy=power_summary;
;;;335    snmp_energy_current_energy=power_current;
;;;336    snmp_energy_input_voltage=net_U;
;;;337    
;;;338    
;;;339    #ifdef UKU_ZVU
;;;340    snmp_bat_number[0]=1;
;;;341    snmp_bat_voltage[0]=out_U;
;;;342    snmp_bat_current[0]=Ib_ips_termokompensat;
;;;343    snmp_bat_rem_time[0]=bat_hndl_t_razr_min;
;;;344    if(Ib_ips_termokompensat>0)snmp_bat_rem_time[0]=-1;
;;;345    snmp_bat_temperature[0]=t_ext[0];
;;;346    if(ND_EXT[0])snmp_bat_temperature[0]=-1000;
;;;347    snmp_bat_capacity[0]=BAT_C_POINT_20;
;;;348    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;349    snmp_bat_status[0]=bat_ips._av&1;
;;;350    if(NUMBAT==0)snmp_bat_status[0]=0xff;
;;;351    #endif
;;;352    
;;;353    #ifndef UKU_ZVU
;;;354    snmp_bat_number[0]=1;
;;;355    snmp_bat_voltage[0]=bat[0]._Ub;
;;;356    snmp_bat_part_voltage[0]=bat[0]._Ubm;
;;;357    snmp_bat_current[0]=bat[0]._Ib;
;;;358    
;;;359    /*
;;;360    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;361    if(((AUSW_MAIN==22063)||(AUSW_MAIN==22023))&&(bps[8]._device==dIBAT_METR))
;;;362    	{
;;;363    	snmp_bat_current[0]=Ib_ips_termokompensat;
;;;364    	}
;;;365    #endif*/
;;;366    
;;;367    snmp_bat_temperature[0]=bat[0]._Tb;
;;;368    if(bat[0]._nd) snmp_bat_temperature[0]=-1000;
;;;369    
;;;370    if(BAT_C_REAL[0]==0x5555)snmp_bat_capacity[0]=BAT_C_NOM[0];
;;;371    else snmp_bat_capacity[0]=BAT_C_REAL[0];
;;;372    /*
;;;373    #ifdef UKU_ZVU
;;;374    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;375    
;;;376    #else
;;;377    snmp_bat_charge[0]=bat[0]._zar;
;;;378    #endif */
;;;379    snmp_bat_charge[0]=bat[0]._zar;
;;;380    snmp_bat_status[0]=bat[0]._av;
;;;381    if(BAT_IS_ON[0]!=bisON)snmp_bat_status[0]=0xff;
;;;382    
;;;383    
;;;384    snmp_bat_number[1]=2;
;;;385    snmp_bat_voltage[1]=bat[1]._Ub;
;;;386    snmp_bat_part_voltage[1]=bat[1]._Ubm;
;;;387    snmp_bat_current[1]=bat[1]._Ib;
;;;388    snmp_bat_temperature[1]=bat[1]._Tb;
;;;389    if(bat[1]._nd) snmp_bat_temperature[1]=-1000;
;;;390    if(BAT_C_REAL[1]==0x5555)snmp_bat_capacity[1]=BAT_C_NOM[1];
;;;391    else snmp_bat_capacity[1]=BAT_C_REAL[1];
;;;392    snmp_bat_charge[1]=bat[1]._zar;
;;;393    snmp_bat_status[1]=bat[1]._av;
;;;394    if(BAT_IS_ON[1]!=bisON)snmp_bat_status[1]=0xff;
;;;395    #endif
;;;396    
;;;397    
;;;398    snmp_bps_number[0]=1;
;;;399    snmp_bps_voltage[0]=bps[0]._Uii;
;;;400    snmp_bps_current[0]=bps[0]._Ii;
;;;401    snmp_bps_temperature[0]=bps[0]._Ti;
;;;402    snmp_bps_stat[0]=bps[0]._av;
;;;403    if(!(NUMIST>0))snmp_bps_stat[0]=0xff;												//Байт состояния БПСа.
;;;404    
;;;405    /*if(St_[0]&(1<<2))snmp_bps_stat[0]=(1<<3); 							//авария по Umin
;;;406    else if(St_[0]&(1<<3))snmp_bps_stat[0]=(1<<2); 						//авария по Umax
;;;407    else if(bps[0]._av&(1<<0))snmp_bps_stat[0]=(1<<1); 						//авария по Tmax
;;;408    else if(St_[0]&(1<<5))snmp_bps_stat[0]=(1<<5); 						//заблокирован
;;;409    else if((!(St_[0]&0x3c))&&(!St&0x01)&&(!OFFBP1))snmp_bps_stat[0]=1; 		//Работает
;;;410    */
;;;411    
;;;412    snmp_bps_number[1]=2;
;;;413    snmp_bps_voltage[1]=bps[1]._Uii;
;;;414    snmp_bps_current[1]=bps[1]._Ii;
;;;415    snmp_bps_temperature[1]=bps[1]._Ti;
;;;416    snmp_bps_stat[1]=bps[1]._av;
;;;417    if(!(NUMIST>1))snmp_bps_stat[1]=0xff;												//Байт состояния БПСа.
;;;418    /*if(St_[1]&(1<<2))snmp_bps_stat[1]=(1<<3); 							//авария по Umin
;;;419    else if(St_[1]&(1<<3))snmp_bps_stat[1]=(1<<2); 						//авария по Umax
;;;420    else if(St_[1]&(1<<4))snmp_bps_stat[1]=(1<<1); 						//авария по Tmax
;;;421    else if(St_[1]&(1<<5))snmp_bps_stat[1]=(1<<5); 						//заблокирован
;;;422    else if((!(St_[1]&0x3c))&&(!St&0x01)&&(!OFFBP2))snmp_bps_stat[1]=1; 		//Работает
;;;423    */
;;;424    
;;;425    snmp_bps_number[2]=3;
;;;426    snmp_bps_voltage[2]=bps[2]._Uii;
;;;427    snmp_bps_current[2]=bps[2]._Ii;
;;;428    snmp_bps_temperature[2]=bps[2]._Ti;
;;;429    snmp_bps_stat[2]=bps[2]._av;
;;;430    if(!(NUMIST>2))snmp_bps_stat[2]=0xff;
;;;431    
;;;432    snmp_bps_number[3]=4;
;;;433    snmp_bps_voltage[3]=bps[3]._Uii;
;;;434    snmp_bps_current[3]=bps[3]._Ii;
;;;435    snmp_bps_temperature[3]=bps[3]._Ti;
;;;436    snmp_bps_stat[3]=bps[3]._av;
;;;437    if(!(NUMIST>3))snmp_bps_stat[3]=0xff;
;;;438    
;;;439    snmp_bps_number[4]=5;
;;;440    snmp_bps_voltage[4]=bps[4]._Uii;
;;;441    snmp_bps_current[4]=bps[4]._Ii;
;;;442    snmp_bps_temperature[4]=bps[4]._Ti;
;;;443    snmp_bps_stat[4]=bps[4]._av;
;;;444    if(!(NUMIST>4))snmp_bps_stat[4]=0xff;
;;;445    
;;;446    snmp_bps_number[5]=6;
;;;447    snmp_bps_voltage[5]=bps[5]._Uii;
;;;448    snmp_bps_current[5]=bps[5]._Ii;
;;;449    snmp_bps_temperature[5]=bps[5]._Ti;
;;;450    snmp_bps_stat[5]=bps[5]._av;
;;;451    if(!(NUMIST>5))snmp_bps_stat[5]=0xff;
;;;452    
;;;453    snmp_bps_number[6]=7;
;;;454    snmp_bps_voltage[6]=bps[6]._Uii;
;;;455    snmp_bps_current[6]=bps[6]._Ii;
;;;456    snmp_bps_temperature[6]=bps[6]._Ti;
;;;457    snmp_bps_stat[6]=bps[6]._av;
;;;458    if(!(NUMIST>6))snmp_bps_stat[6]=0xff;
;;;459    
;;;460    snmp_bps_number[7]=8;
;;;461    snmp_bps_voltage[7]=bps[7]._Uii;
;;;462    snmp_bps_current[7]=bps[7]._Ii;
;;;463    snmp_bps_temperature[7]=bps[7]._Ti;
;;;464    snmp_bps_stat[7]=bps[7]._av;
;;;465    if(!(NUMIST>7))snmp_bps_stat[7]=0xff;
;;;466    
;;;467    
;;;468    
;;;469    snmp_inv_number[0]=1;
;;;470    snmp_inv_voltage[0]=inv[0]._Uio;
;;;471    snmp_inv_current[0]=inv[0]._Ii;
;;;472    snmp_inv_temperature[0]=inv[0]._Ti;
;;;473    snmp_inv_stat[0]=inv[0]._flags_tm;
;;;474    
;;;475    snmp_inv_number[1]=2;
;;;476    snmp_inv_voltage[1]=inv[1]._Uio;
;;;477    snmp_inv_current[1]=inv[1]._Ii;
;;;478    snmp_inv_temperature[1]=inv[1]._Ti;
;;;479    snmp_inv_stat[1]=inv[1]._flags_tm;
;;;480    
;;;481    snmp_inv_number[2]=3;
;;;482    snmp_inv_voltage[2]=inv[2]._Uio;
;;;483    snmp_inv_current[2]=inv[2]._Ii;
;;;484    snmp_inv_temperature[2]=inv[2]._Ti;
;;;485    snmp_inv_stat[2]=inv[2]._flags_tm;
;;;486    
;;;487    
;;;488    
;;;489    
;;;490    					  
;;;491    snmp_sk_number[0]=1;
;;;492    memcpy(&snmp_sk_name[0][0],"Door",10);
;;;493    if(sk_stat[0]==ssON) snmp_sk_aktiv[0]=1;
;;;494    else snmp_sk_aktiv[0]=0;
;;;495    if(!SK_SIGN[0])snmp_sk_alarm_aktiv[0]=1;
;;;496    else snmp_sk_alarm_aktiv[0]=0;
;;;497    if(sk_av_stat[0]==sasON)	snmp_sk_alarm[0]=1;
;;;498    else                     snmp_sk_alarm[0]=0;
;;;499    
;;;500    
;;;501    snmp_sk_number[1]=2;
;;;502    memcpy(&snmp_sk_name[1][0],"Smoke",10);
;;;503    if(sk_stat[1]==ssON) snmp_sk_aktiv[1]=1;
;;;504    else snmp_sk_aktiv[1]=0;
;;;505    if(!SK_SIGN[1])snmp_sk_alarm_aktiv[1]=1;
;;;506    else snmp_sk_alarm_aktiv[1]=0;
;;;507    if(sk_av_stat[1]==sasON)	snmp_sk_alarm[1]=1;
;;;508    else                     snmp_sk_alarm[1]=0;
;;;509    
;;;510    snmp_sk_number[2]=3;
;;;511    memcpy(&snmp_sk_name[2][0],"Shock",10);
;;;512    if(sk_stat[2]==ssON) snmp_sk_aktiv[2]=1;
;;;513    else snmp_sk_aktiv[2]=0;
;;;514    if(!SK_SIGN[2])snmp_sk_alarm_aktiv[2]=1;
;;;515    else snmp_sk_alarm_aktiv[2]=0;
;;;516    if(sk_av_stat[2]==sasON)	snmp_sk_alarm[2]=1;
;;;517    else                     snmp_sk_alarm[2]=0;
;;;518    
;;;519    snmp_sk_number[3]=4;
;;;520    memcpy(&snmp_sk_name[3][0],"     ",10);
;;;521    if(sk_stat[3]==ssON) snmp_sk_aktiv[3]=1;
;;;522    else snmp_sk_aktiv[3]=0;
;;;523    if(!SK_SIGN[3])snmp_sk_alarm_aktiv[3]=1;
;;;524    else snmp_sk_alarm_aktiv[3]=0;
;;;525    if(sk_av_stat[3]==sasON)	snmp_sk_alarm[3]=1;
;;;526    else                     snmp_sk_alarm[3]=0;
;;;527    
;;;528    
;;;529    if(makb[0]._cnt>8) snmp_makb_connect_status[0]=1;
;;;530    else if(makb[0]._cnt<2) snmp_makb_connect_status[0]=0;
;;;531    if(makb[1]._cnt>8) snmp_makb_connect_status[1]=1;
;;;532    else if(makb[1]._cnt<2) snmp_makb_connect_status[1]=0;
;;;533    if(makb[2]._cnt>8) snmp_makb_connect_status[2]=1;
;;;534    else if(makb[2]._cnt<2) snmp_makb_connect_status[2]=0;
;;;535    if(makb[3]._cnt>8) snmp_makb_connect_status[3]=1;
;;;536    else if(makb[3]._cnt<2) snmp_makb_connect_status[3]=0;
;;;537    
;;;538    snmp_makb_voltage0[0]=makb[0]._Ub[0];
;;;539    snmp_makb_voltage1[0]=makb[0]._Ub[1];
;;;540    snmp_makb_voltage2[0]=makb[0]._Ub[2];
;;;541    snmp_makb_voltage3[0]=makb[0]._Ub[3];
;;;542    snmp_makb_voltage4[0]=makb[0]._Ub[4];
;;;543    snmp_makb_voltage0[1]=makb[1]._Ub[0];
;;;544    snmp_makb_voltage1[1]=makb[1]._Ub[1];
;;;545    snmp_makb_voltage2[1]=makb[1]._Ub[2];
;;;546    snmp_makb_voltage3[1]=makb[1]._Ub[3];
;;;547    snmp_makb_voltage4[1]=makb[1]._Ub[4];
;;;548    snmp_makb_voltage0[2]=makb[2]._Ub[0];
;;;549    snmp_makb_voltage1[2]=makb[2]._Ub[1];
;;;550    snmp_makb_voltage2[2]=makb[2]._Ub[2];
;;;551    snmp_makb_voltage3[2]=makb[2]._Ub[3];
;;;552    snmp_makb_voltage4[2]=makb[2]._Ub[4];
;;;553    snmp_makb_voltage0[3]=makb[3]._Ub[0];
;;;554    snmp_makb_voltage1[3]=makb[3]._Ub[1];
;;;555    snmp_makb_voltage2[3]=makb[3]._Ub[2];
;;;556    snmp_makb_voltage3[3]=makb[3]._Ub[3];
;;;557    snmp_makb_voltage4[3]=makb[3]._Ub[4];
;;;558    
;;;559    snmp_makb_temper0[0]=makb[0]._T[0];
;;;560    snmp_makb_temper1[0]=makb[0]._T[1];
;;;561    snmp_makb_temper2[0]=makb[0]._T[2];
;;;562    snmp_makb_temper3[0]=makb[0]._T[3];
;;;563    snmp_makb_temper4[0]=makb[0]._T[4];
;;;564    snmp_makb_temper0[1]=makb[1]._T[0];
;;;565    snmp_makb_temper1[1]=makb[1]._T[1];
;;;566    snmp_makb_temper2[1]=makb[1]._T[2];
;;;567    snmp_makb_temper3[1]=makb[1]._T[3];
;;;568    snmp_makb_temper4[1]=makb[1]._T[4];
;;;569    snmp_makb_temper0[2]=makb[2]._T[0];
;;;570    snmp_makb_temper1[2]=makb[2]._T[1];
;;;571    snmp_makb_temper2[2]=makb[2]._T[2];
;;;572    snmp_makb_temper3[2]=makb[2]._T[3];
;;;573    snmp_makb_temper4[2]=makb[2]._T[4];
;;;574    snmp_makb_temper0[3]=makb[3]._T[0];
;;;575    snmp_makb_temper1[3]=makb[3]._T[1];
;;;576    snmp_makb_temper2[3]=makb[3]._T[2];
;;;577    snmp_makb_temper3[3]=makb[3]._T[3];
;;;578    snmp_makb_temper4[3]=makb[3]._T[4];
;;;579    
;;;580    snmp_makb_temper0_stat[0]=makb[0]._T_nd[0];
;;;581    snmp_makb_temper1_stat[0]=makb[0]._T_nd[1];
;;;582    snmp_makb_temper2_stat[0]=makb[0]._T_nd[2];
;;;583    snmp_makb_temper3_stat[0]=makb[0]._T_nd[3];
;;;584    snmp_makb_temper4_stat[0]=makb[0]._T_nd[4];
;;;585    snmp_makb_temper0_stat[1]=makb[1]._T_nd[0];
;;;586    snmp_makb_temper1_stat[1]=makb[1]._T_nd[1];
;;;587    snmp_makb_temper2_stat[1]=makb[1]._T_nd[2];
;;;588    snmp_makb_temper3_stat[1]=makb[1]._T_nd[3];
;;;589    snmp_makb_temper4_stat[1]=makb[1]._T_nd[4];
;;;590    snmp_makb_temper0_stat[2]=makb[2]._T_nd[0];
;;;591    snmp_makb_temper1_stat[2]=makb[2]._T_nd[1];
;;;592    snmp_makb_temper2_stat[2]=makb[2]._T_nd[2];
;;;593    snmp_makb_temper3_stat[2]=makb[2]._T_nd[3];
;;;594    snmp_makb_temper4_stat[2]=makb[2]._T_nd[4];
;;;595    snmp_makb_temper0_stat[3]=makb[3]._T_nd[0];
;;;596    snmp_makb_temper1_stat[3]=makb[3]._T_nd[1];
;;;597    snmp_makb_temper2_stat[3]=makb[3]._T_nd[2];
;;;598    snmp_makb_temper3_stat[3]=makb[3]._T_nd[3];
;;;599    snmp_makb_temper4_stat[3]=makb[3]._T_nd[4];
;;;600    
;;;601    
;;;602    snmp_klimat_box_temper=t_box;
;;;603    snmp_klimat_settings_box_alarm=TBOXMAX;
;;;604    snmp_klimat_settings_vent_on=TBOXVENTON;
;;;605    snmp_klimat_settings_vent_off=TBOXVENTOFF;
;;;606    snmp_klimat_settings_warm_on=TBOXWARMON;
;;;607    snmp_klimat_settings_warm_off=TBOXWARMOFF;
;;;608    snmp_klimat_settings_load_on=TLOADENABLE;
;;;609    snmp_klimat_settings_load_off=TLOADDISABLE;
;;;610    snmp_klimat_settings_batt_on=TBATENABLE;
;;;611    snmp_klimat_settings_batt_off=TBATDISABLE;
;;;612    
;;;613    snmp_dt_ext=t_ext[0];
;;;614    snmp_dt_msan=t_ext[1];
;;;615    snmp_dt_epu=t_ext[2];
;;;616    
;;;617    /*
;;;618    snmp_bat_voltage=Ubat;
;;;619    snmp_bat_current=Ibat;
;;;620    snmp_bat_temperature=t_b;
;;;621    if(BAT_C_REAL==0x5555)
;;;622    	{
;;;623    	snmp_bat_capacity=BAT_C_NOM*10;												    11
;;;624    	}
;;;625    else
;;;626    	{
;;;627    	snmp_bat_capacity=BAT_C_REAL;
;;;628    	}
;;;629    snmp_bat_charge=zar_percent;
;;;630    snmp_bat_status=0;
;;;631    if(St&0x02)snmp_bat_status|=0x01;
;;;632    if(Ibat>0)snmp_bat_status|=0x02;
;;;633    
;;;634    
;;;635    if(spc_stat==spc_OFF) snmp_spc_stat=0;
;;;636    else if(spc_stat==spc_KE) snmp_spc_stat=1;
;;;637    else if(spc_stat==spc_VZ) snmp_spc_stat=10;
;;;638    
;;;639    
;;;640    snmp_main_bps=MAIN_IST+1;
;;;641    */
;;;642    snmp_zv_en=ZV_ON;
;;;643    snmp_alarm_auto_disable=AV_OFF_AVT;
;;;644    snmp_bat_test_time=TBAT;
;;;645    snmp_u_max=UMAX;
;;;646    snmp_u_min=UB20-DU;
;;;647    snmp_u_0_grad=UB0;
;;;648    snmp_u_20_grad=UB20;
;;;649    snmp_u_sign=USIGN;
;;;650    snmp_u_min_power=UMN;
;;;651    snmp_u_withouth_bat=U0B;
;;;652    snmp_control_current=IKB;
;;;653    snmp_max_charge_current=IZMAX;
;;;654    snmp_max_current=IMAX;
;;;655    snmp_min_current=IMIN;
;;;656    //snmp_max_current_koef=KIMAX;
;;;657    snmp_uvz=UVZ;
;;;658    snmp_powerup_psu_timeout=TZAS;
;;;659    snmp_max_temperature=TMAX;
;;;660    snmp_tsign_bat=TBATSIGN; 
;;;661    snmp_tmax_bat=TBATMAX;
;;;662    snmp_tsign_bps=TSIGN;
;;;663    snmp_tmax_bps=TMAX;
;;;664    snmp_bat_part_alarm=UBM_AV; 
;;;665    snmp_power_cnt_adress=POWER_CNT_ADRESS;
;;;666    
;;;667    for(i=0;i<12;i++)
;;;668    	{
;;;669    	snmp_avt_number[i]=i+1;
;;;670    	if(avt_stat[i]==avtOFF)snmp_avt_stat[i]=0;
;;;671    	else snmp_avt_stat[i]=1;
;;;672    	}
;;;673    
;;;674    snmp_dt_number[0]=1;
;;;675    snmp_dt_number[1]=2;
;;;676    snmp_dt_number[2]=3;
;;;677    //snmp_dt_number[3]=4;
;;;678    snmp_dt_temper[0]=t_ext[0];
;;;679    snmp_dt_temper[1]=t_ext[1];
;;;680    snmp_dt_temper[2]=t_ext[2];
;;;681    //snmp_dt_temper[3]=t_ext[3];
;;;682    snmp_dt_error[0]=ND_EXT[0];
;;;683    if(NUMDT<1)snmp_dt_error[0]=0xff;
;;;684    snmp_dt_error[1]=ND_EXT[1];
;;;685    if(NUMDT<2)snmp_dt_error[0]=0xff;
;;;686    snmp_dt_error[2]=ND_EXT[2];
;;;687    if(NUMDT<3)snmp_dt_error[0]=0xff;
;;;688    //snmp_dt_error[3]=ND_EXT[3];
;;;689    if(NUMDT<4)snmp_dt_error[0]=0xff;
;;;690    
;;;691    /*
;;;692    //Литиевые батареи
;;;693    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;694    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;695    snmp_lakb_voltage[0]=lakb[0]._tot_bat_volt;				//Напряжение ЛАКБ
;;;696    snmp_lakb_voltage[1]=lakb[1]._tot_bat_volt;				//Напряжение ЛАКБ
;;;697    snmp_lakb_max_cell_voltage[0]=lakb[0]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;698    snmp_lakb_max_cell_voltage[1]=lakb[1]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;699    snmp_lakb_min_cell_voltage[0]=lakb[0]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;700    snmp_lakb_min_cell_voltage[1]=lakb[1]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;701    snmp_lakb_max_cell_temperature[0]=lakb[0]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;702    snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;703    snmp_lakb_min_cell_temperature[0]=lakb[0]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;704    snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;705    snmp_lakb_ch_curr[0]=lakb[0]._ch_curr;					//Ток заряда ЛАКБ
;;;706    snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;707    snmp_lakb_dsch_curr[0]=lakb[0]._dsch_curr;				//Ток разряда ЛАКБ
;;;708    snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;709    snmp_lakb_rat_cap[0]=lakb[0]._rat_cap;					//Номинальная емкость ЛАКБ
;;;710    snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;711    snmp_lakb_soh[0]=lakb[0]._s_o_h;						//Остаточная емкость ЛАКБ
;;;712    snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;713    snmp_lakb_soc[0]=lakb[0]._s_o_c;						//Заряд ЛАКБ
;;;714    snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;715    snmp_lakb_cclv[0]=lakb[0]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;716    snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;717    snmp_lakb_rbt[0]=lakb[0]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;718    snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;719    snmp_lakb_flags1[0]=lakb[0]._flags1;					//Первый флаг состояния ЛАКБ
;;;720    snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;721    snmp_lakb_flags2[0]=lakb[0]._flags2;					//Второй флаг состояния ЛАКБ
;;;722    snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ */
;;;723    
;;;724    //Литиевые батареи
;;;725    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;726    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;727    snmp_lakb_number[2]=3;								//Номер ЛАКБ
;;;728    snmp_lakb_number[3]=4;								//Номер ЛАКБ
;;;729    snmp_lakb_number[4]=5;								//Номер ЛАКБ
;;;730    snmp_lakb_number[5]=6;								//Номер ЛАКБ
;;;731    snmp_lakb_number[6]=7;								//Номер ЛАКБ
;;;732    
;;;733    for (i=0;i<3;i++)
;;;734    	{
;;;735    	snmp_lakb_voltage[i]=lakb[i]._tot_bat_volt;				//Напряжение ЛАКБ
;;;736    	snmp_lakb_max_cell_voltage[i]=lakb[i]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;737    	snmp_lakb_min_cell_voltage[i]=lakb[i]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;738    	snmp_lakb_max_cell_temperature[i]=lakb[i]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;739    	//snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;740    	snmp_lakb_min_cell_temperature[i]=lakb[i]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;741    	//snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;742    	snmp_lakb_ch_curr[i]=lakb[i]._ch_curr;					//Ток заряда ЛАКБ
;;;743    	//snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;744    	snmp_lakb_dsch_curr[i]=lakb[i]._dsch_curr;				//Ток разряда ЛАКБ
;;;745    	//snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;746    	snmp_lakb_rat_cap[i]=lakb[i]._rat_cap;					//Номинальная емкость ЛАКБ
;;;747    	//snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;748    	snmp_lakb_soh[i]=lakb[i]._s_o_h;						//Остаточная емкость ЛАКБ
;;;749    	//snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;750    	snmp_lakb_soc[i]=lakb[i]._s_o_c;						//Заряд ЛАКБ
;;;751    	//snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;752    	snmp_lakb_cclv[i]=lakb[i]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;753    	//snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;754    	snmp_lakb_rbt[i]=lakb[i]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;755    	//snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;756    	snmp_lakb_flags1[i]=lakb[i]._flags1;					//Первый флаг состояния ЛАКБ
;;;757    	//snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;758    	snmp_lakb_flags2[i]=lakb[i]._flags2;					//Второй флаг состояния ЛАКБ
;;;759    	//snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ
;;;760    
;;;761    	snmp_lakb_cell_temperature_1[i]= lakb[i]._cell_temp_1;
;;;762    	snmp_lakb_cell_temperature_2[i]= lakb[i]._cell_temp_2;
;;;763    	snmp_lakb_cell_temperature_3[i]= lakb[i]._cell_temp_3;
;;;764    	snmp_lakb_cell_temperature_4[i]= lakb[i]._cell_temp_4;
;;;765    	snmp_lakb_cell_temperature_ambient[i]=lakb[i]._cell_temp_ambient;
;;;766    	snmp_lakb_cell_temperature_power[i]=lakb[i]._cell_temp_power;
;;;767    	}
;;;768    
;;;769    for (i=0;i<7;i++)
;;;770    {
;;;771    /*
;;;772    snmp_lakb_damp1[i][0]=ABCDEF[(lakb_damp[i][0])>>4];			//Дамп
;;;773    snmp_lakb_damp1[i][1]=ABCDEF[(lakb_damp[i][0])&0x0f];			//Дамп
;;;774    snmp_lakb_damp1[i][2]=' ';
;;;775    snmp_lakb_damp1[i][3]=ABCDEF[(lakb_damp[i][1])>>4];			//Дамп
;;;776    snmp_lakb_damp1[i][4]=ABCDEF[(lakb_damp[i][1])&0x0f];			//Дамп
;;;777    snmp_lakb_damp1[i][5]=' ';
;;;778    snmp_lakb_damp1[i][6]=ABCDEF[(lakb_damp[i][2])>>4];			//Дамп
;;;779    snmp_lakb_damp1[i][7]=ABCDEF[(lakb_damp[i][2])&0x0f];			//Дамп
;;;780    snmp_lakb_damp1[i][8]=' ';
;;;781    snmp_lakb_damp1[i][9]=ABCDEF[(lakb_damp[i][3])>>4];			//Дамп
;;;782    snmp_lakb_damp1[i][10]=ABCDEF[(lakb_damp[i][3])&0x0f];			//Дамп
;;;783    snmp_lakb_damp1[i][11]=' ';
;;;784    snmp_lakb_damp1[i][12]=ABCDEF[(lakb_damp[i][4])>>4];			//Дамп
;;;785    snmp_lakb_damp1[i][13]=ABCDEF[(lakb_damp[i][4])&0x0f];			//Дамп
;;;786    snmp_lakb_damp1[i][14]=' '; 
;;;787    snmp_lakb_damp1[i][15]=ABCDEF[(lakb_damp[i][5])>>4];			//Дамп
;;;788    snmp_lakb_damp1[i][16]=ABCDEF[(lakb_damp[i][5])&0x0f];			//Дамп
;;;789    snmp_lakb_damp1[i][17]=' ';
;;;790    snmp_lakb_damp1[i][18]=ABCDEF[(lakb_damp[i][6])>>4];			//Дамп
;;;791    snmp_lakb_damp1[i][19]=ABCDEF[(lakb_damp[i][6])&0x0f];			//Дамп
;;;792    snmp_lakb_damp1[i][20]=' ';
;;;793    snmp_lakb_damp1[i][21]=ABCDEF[(lakb_damp[i][7])>>4];			//Дамп
;;;794    snmp_lakb_damp1[i][22]=ABCDEF[(lakb_damp[i][7])&0x0f];			//Дамп
;;;795    snmp_lakb_damp1[i][23]=' ';
;;;796    snmp_lakb_damp1[i][24]=ABCDEF[(lakb_damp[i][8])>>4];			//Дамп
;;;797    snmp_lakb_damp1[i][25]=ABCDEF[(lakb_damp[i][8])&0x0f];			//Дамп
;;;798    snmp_lakb_damp1[i][26]=' ';
;;;799    snmp_lakb_damp1[i][27]=ABCDEF[(lakb_damp[i][9])>>4];			//Дамп
;;;800    snmp_lakb_damp1[i][28]=ABCDEF[(lakb_damp[i][9])&0x0f];			//Дамп
;;;801    snmp_lakb_damp1[i][29]=0; 
;;;802    
;;;803    snmp_lakb_damp1[i][30]=ABCDEF[(lakb_damp[i][10])>>4];			//Дамп
;;;804    snmp_lakb_damp1[i][31]=ABCDEF[(lakb_damp[i][10])&0x0f];			//Дамп
;;;805    snmp_lakb_damp1[i][32]=' ';
;;;806    snmp_lakb_damp1[i][33]=ABCDEF[(lakb_damp[i][11])>>4];			//Дамп
;;;807    snmp_lakb_damp1[i][34]=ABCDEF[(lakb_damp[i][11])&0x0f];			//Дамп
;;;808    snmp_lakb_damp1[i][35]=' ';
;;;809    snmp_lakb_damp1[i][36]=ABCDEF[(lakb_damp[i][12])>>4];			//Дамп
;;;810    snmp_lakb_damp1[i][37]=ABCDEF[(lakb_damp[i][12])&0x0f];			//Дамп
;;;811    snmp_lakb_damp1[i][38]=' ';
;;;812    snmp_lakb_damp1[i][39]=ABCDEF[(lakb_damp[i][13])>>4];			//Дамп
;;;813    snmp_lakb_damp1[i][40]=ABCDEF[(lakb_damp[i][13])&0x0f];			//Дамп
;;;814    snmp_lakb_damp1[i][41]=' ';
;;;815    snmp_lakb_damp1[i][42]=ABCDEF[(lakb_damp[i][14])>>4];			//Дамп
;;;816    snmp_lakb_damp1[i][43]=ABCDEF[(lakb_damp[i][14])&0x0f];			//Дамп
;;;817    snmp_lakb_damp1[i][44]=' '; 
;;;818    snmp_lakb_damp1[i][45]=ABCDEF[(lakb_damp[i][15])>>4];			//Дамп
;;;819    snmp_lakb_damp1[i][46]=ABCDEF[(lakb_damp[i][15])&0x0f];			//Дамп
;;;820    snmp_lakb_damp1[i][47]=' ';
;;;821    snmp_lakb_damp1[i][48]=ABCDEF[(lakb_damp[i][16])>>4];			//Дамп
;;;822    snmp_lakb_damp1[i][49]=ABCDEF[(lakb_damp[i][16])&0x0f];			//Дамп
;;;823    snmp_lakb_damp1[i][50]=' ';
;;;824    snmp_lakb_damp1[i][51]=ABCDEF[(lakb_damp[i][17])>>4];			//Дамп
;;;825    snmp_lakb_damp1[i][52]=ABCDEF[(lakb_damp[i][17])&0x0f];			//Дамп
;;;826    snmp_lakb_damp1[i][53]=' ';
;;;827    snmp_lakb_damp1[i][54]=ABCDEF[(lakb_damp[i][18])>>4];			//Дамп
;;;828    snmp_lakb_damp1[i][55]=ABCDEF[(lakb_damp[i][18])&0x0f];			//Дамп
;;;829    snmp_lakb_damp1[i][56]=' ';
;;;830    snmp_lakb_damp1[i][57]=ABCDEF[(lakb_damp[i][19])>>4];			//Дамп
;;;831    snmp_lakb_damp1[i][58]=ABCDEF[(lakb_damp[i][19])&0x0f];			//Дамп
;;;832    snmp_lakb_damp1[i][59]=0; 
;;;833    
;;;834    
;;;835    snmp_lakb_damp1[i][60]=ABCDEF[(lakb_damp[i][20])>>4];			//Дамп
;;;836    snmp_lakb_damp1[i][61]=ABCDEF[(lakb_damp[i][20])&0x0f];			//Дамп
;;;837    snmp_lakb_damp1[i][62]=' ';
;;;838    snmp_lakb_damp1[i][63]=ABCDEF[(lakb_damp[i][21])>>4];			//Дамп
;;;839    snmp_lakb_damp1[i][64]=ABCDEF[(lakb_damp[i][21])&0x0f];			//Дамп
;;;840    snmp_lakb_damp1[i][65]=' ';
;;;841    snmp_lakb_damp1[i][66]=ABCDEF[(lakb_damp[i][22])>>4];			//Дамп
;;;842    snmp_lakb_damp1[i][67]=ABCDEF[(lakb_damp[i][22])&0x0f];			//Дамп
;;;843    snmp_lakb_damp1[i][68]=' ';
;;;844    snmp_lakb_damp1[i][69]=ABCDEF[(lakb_damp[i][23])>>4];			//Дамп
;;;845    snmp_lakb_damp1[i][70]=ABCDEF[(lakb_damp[i][23])&0x0f];			//Дамп
;;;846    snmp_lakb_damp1[i][71]=' ';
;;;847    snmp_lakb_damp1[i][72]=ABCDEF[(lakb_damp[i][24])>>4];			//Дамп
;;;848    snmp_lakb_damp1[i][73]=ABCDEF[(lakb_damp[i][24])&0x0f];			//Дамп
;;;849    snmp_lakb_damp1[i][74]=' '; 
;;;850    snmp_lakb_damp1[i][75]=ABCDEF[(lakb_damp[i][25])>>4];			//Дамп
;;;851    snmp_lakb_damp1[i][76]=ABCDEF[(lakb_damp[i][25])&0x0f];			//Дамп
;;;852    snmp_lakb_damp1[i][77]=' ';
;;;853    snmp_lakb_damp1[i][78]=ABCDEF[(lakb_damp[i][26])>>4];			//Дамп
;;;854    snmp_lakb_damp1[i][79]=ABCDEF[(lakb_damp[i][26])&0x0f];			//Дамп
;;;855    snmp_lakb_damp1[i][80]=' ';
;;;856    snmp_lakb_damp1[i][81]=ABCDEF[(lakb_damp[i][27])>>4];			//Дамп
;;;857    snmp_lakb_damp1[i][82]=ABCDEF[(lakb_damp[i][27])&0x0f];			//Дамп
;;;858    snmp_lakb_damp1[i][83]=' ';
;;;859    snmp_lakb_damp1[i][84]=ABCDEF[(lakb_damp[i][28])>>4];			//Дамп
;;;860    snmp_lakb_damp1[i][85]=ABCDEF[(lakb_damp[i][28])&0x0f];			//Дамп
;;;861    snmp_lakb_damp1[i][86]=' ';
;;;862    snmp_lakb_damp1[i][87]=ABCDEF[(lakb_damp[i][29])>>4];			//Дамп
;;;863    snmp_lakb_damp1[i][88]=ABCDEF[(lakb_damp[i][29])&0x0f];			//Дамп
;;;864    snmp_lakb_damp1[i][89]=0;
;;;865    
;;;866    
;;;867    snmp_lakb_damp1[i][90]=ABCDEF[(lakb_damp[i][30])>>4];			//Дамп
;;;868    snmp_lakb_damp1[i][91]=ABCDEF[(lakb_damp[i][30])&0x0f];			//Дамп
;;;869    snmp_lakb_damp1[i][92]=' ';
;;;870    snmp_lakb_damp1[i][93]=ABCDEF[(lakb_damp[i][31])>>4];			//Дамп
;;;871    snmp_lakb_damp1[i][94]=ABCDEF[(lakb_damp[i][31])&0x0f];			//Дамп
;;;872    snmp_lakb_damp1[i][95]=' ';
;;;873    snmp_lakb_damp1[i][96]=ABCDEF[(lakb_damp[i][32])>>4];			//Дамп
;;;874    snmp_lakb_damp1[i][97]=ABCDEF[(lakb_damp[i][32])&0x0f];			//Дамп
;;;875    snmp_lakb_damp1[i][98]=' ';
;;;876    snmp_lakb_damp1[i][99]=ABCDEF[(lakb_damp[i][33])>>4];			//Дамп
;;;877    snmp_lakb_damp1[i][100]=ABCDEF[(lakb_damp[i][33])&0x0f];			//Дамп
;;;878    snmp_lakb_damp1[i][101]=' ';
;;;879    snmp_lakb_damp1[i][102]=ABCDEF[(lakb_damp[i][34])>>4];			//Дамп
;;;880    snmp_lakb_damp1[i][103]=ABCDEF[(lakb_damp[i][34])&0x0f];			//Дамп
;;;881    snmp_lakb_damp1[i][104]=' '; 
;;;882    snmp_lakb_damp1[i][105]=ABCDEF[(lakb_damp[i][35])>>4];			//Дамп
;;;883    snmp_lakb_damp1[i][106]=ABCDEF[(lakb_damp[i][35])&0x0f];			//Дамп
;;;884    snmp_lakb_damp1[i][107]=' ';
;;;885    snmp_lakb_damp1[i][108]=ABCDEF[(lakb_damp[i][36])>>4];			//Дамп
;;;886    snmp_lakb_damp1[i][109]=ABCDEF[(lakb_damp[i][36])&0x0f];			//Дамп
;;;887    snmp_lakb_damp1[i][110]=' ';
;;;888    snmp_lakb_damp1[i][111]=ABCDEF[(lakb_damp[i][37])>>4];			//Дамп
;;;889    snmp_lakb_damp1[i][112]=ABCDEF[(lakb_damp[i][37])&0x0f];			//Дамп
;;;890    snmp_lakb_damp1[i][113]=' ';
;;;891    snmp_lakb_damp1[i][114]=ABCDEF[(lakb_damp[i][38])>>4];			//Дамп
;;;892    snmp_lakb_damp1[i][115]=ABCDEF[(lakb_damp[i][38])&0x0f];			//Дамп
;;;893    snmp_lakb_damp1[i][116]=' ';
;;;894    snmp_lakb_damp1[i][117]=ABCDEF[(lakb_damp[i][39])>>4];			//Дамп
;;;895    snmp_lakb_damp1[i][118]=ABCDEF[(lakb_damp[i][39])&0x0f];			//Дамп
;;;896    snmp_lakb_damp1[i][119]=0; 
;;;897     
;;;898    
;;;899    snmp_lakb_damp1[i][120]=ABCDEF[(lakb_damp[i][40])>>4];			//Дамп
;;;900    snmp_lakb_damp1[i][121]=ABCDEF[(lakb_damp[i][40])&0x0f];			//Дамп
;;;901    snmp_lakb_damp1[i][122]=' ';
;;;902    snmp_lakb_damp1[i][123]=ABCDEF[(lakb_damp[i][41])>>4];			//Дамп
;;;903    snmp_lakb_damp1[i][124]=ABCDEF[(lakb_damp[i][41])&0x0f];			//Дамп
;;;904    snmp_lakb_damp1[i][125]=' ';
;;;905    snmp_lakb_damp1[i][126]=ABCDEF[(lakb_damp[i][42])>>4];			//Дамп
;;;906    snmp_lakb_damp1[i][127]=ABCDEF[(lakb_damp[i][42])&0x0f];			//Дамп
;;;907    snmp_lakb_damp1[i][128]=' ';
;;;908    snmp_lakb_damp1[i][129]=ABCDEF[(lakb_damp[i][43])>>4];			//Дамп
;;;909    snmp_lakb_damp1[i][130]=ABCDEF[(lakb_damp[i][43])&0x0f];			//Дамп
;;;910    snmp_lakb_damp1[i][131]=' ';
;;;911    snmp_lakb_damp1[i][132]=ABCDEF[(lakb_damp[i][44])>>4];			//Дамп
;;;912    snmp_lakb_damp1[i][133]=ABCDEF[(lakb_damp[i][44])&0x0f];			//Дамп
;;;913    snmp_lakb_damp1[i][134]=' '; 
;;;914    snmp_lakb_damp1[i][135]=ABCDEF[(lakb_damp[i][45])>>4];			//Дамп
;;;915    snmp_lakb_damp1[i][136]=ABCDEF[(lakb_damp[i][45])&0x0f];			//Дамп
;;;916    snmp_lakb_damp1[i][137]=' ';
;;;917    snmp_lakb_damp1[i][138]=ABCDEF[(lakb_damp[i][46])>>4];			//Дамп
;;;918    snmp_lakb_damp1[i][139]=ABCDEF[(lakb_damp[i][46])&0x0f];			//Дамп
;;;919    snmp_lakb_damp1[i][140]=' ';
;;;920    snmp_lakb_damp1[i][141]=ABCDEF[(lakb_damp[i][47])>>4];			//Дамп
;;;921    snmp_lakb_damp1[i][142]=ABCDEF[(lakb_damp[i][47])&0x0f];			//Дамп
;;;922    snmp_lakb_damp1[i][143]=' ';
;;;923    snmp_lakb_damp1[i][144]=ABCDEF[(lakb_damp[i][48])>>4];			//Дамп
;;;924    snmp_lakb_damp1[i][145]=ABCDEF[(lakb_damp[i][48])&0x0f];			//Дамп
;;;925    snmp_lakb_damp1[i][146]=' ';
;;;926    snmp_lakb_damp1[i][147]=ABCDEF[(lakb_damp[i][49])>>4];			//Дамп
;;;927    snmp_lakb_damp1[i][148]=ABCDEF[(lakb_damp[i][49])&0x0f];			//Дамп
;;;928    snmp_lakb_damp1[i][149]=0;  */
;;;929    }
;;;930    
;;;931    #ifdef UKU_TELECORE2017
;;;932    snmp_warm_sign=0;
;;;933    if(TELECORE2017_KLIMAT_WARM_SIGNAL==0) snmp_warm_sign=2;
;;;934    else if(TELECORE2017_KLIMAT_WARM_SIGNAL==1) snmp_warm_sign=1;
;;;935    snmp_cool_sign=0;
;;;936    if(TELECORE2017_KLIMAT_VENT_SIGNAL==0) snmp_cool_sign=2;
;;;937    else if(TELECORE2017_KLIMAT_VENT_SIGNAL==1) snmp_cool_sign=1;
;;;938    snmp_warm_on_temper=(signed char)TELECORE2017_KLIMAT_WARM_ON; 
;;;939    snmp_warm_off_temper=(signed char)TELECORE2017_KLIMAT_WARM_OFF;
;;;940    snmp_warm_q=(signed char)TELECORE2017_KLIMAT_CAP;	
;;;941    snmp_cool_20_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON20;
;;;942    snmp_cool_40_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON40;
;;;943    snmp_cool_60_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON60;
;;;944    snmp_cool_80_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON80;
;;;945    snmp_cool_100_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON100;
;;;946    snmp_cool_20_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON20;
;;;947    snmp_cool_40_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON40;
;;;948    snmp_cool_60_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON60;
;;;949    snmp_cool_80_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON80;
;;;950    snmp_cool_100_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON100;
;;;951    snmp_warm_stat=0;
;;;952    if(warm_stat_k==wsON) snmp_warm_stat=1;
;;;953    #endif
;;;954    }
;;;955    //-----------------------------------------------
                          ENDP


                          AREA ||area_number.7||, CODE, READONLY, ALIGN=1

                          EXPORTAS ||area_number.7||, ||.text||
                  snmp_up_charge_koef_write PROC
;;;261    //-----------------------------------------------
;;;262    void snmp_data (void) 
000000  4770              BX       lr
;;;263    {
;;;264    char i;
;;;265    
;;;266    snmp_mains_power_voltage=net_U;
;;;267    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;268    snmp_mains_power_frequency=net_F3;
;;;269    #else
;;;270    snmp_mains_power_frequency=net_F;
;;;271    #endif
;;;272    snmp_mains_power_voltage_phaseA=net_Ua;
;;;273    snmp_mains_power_voltage_phaseB=net_Ub;
;;;274    snmp_mains_power_voltage_phaseC=net_Uc;
;;;275    
;;;276    
;;;277    if(avar_stat&0x0001)snmp_mains_power_alarm=1;
;;;278    else snmp_mains_power_alarm=0;
;;;279    if(avar_stat&0x0001)snmp_mains_power_status=1;
;;;280    else snmp_mains_power_status=0;
;;;281    
;;;282    /*
;;;283    snmp_mains_power_status=0; 
;;;284    #if(UKU_VERSION==900)
;;;285    snmp_mains_power_status=2;
;;;286    #endif
;;;287    if(St&0x01)snmp_mains_power_status|=0x01;
;;;288    if(St&0x01)snmp_mains_power_alarm=1;
;;;289    
;;;290    
;;;291    
;;;292    
;;;293    
;;;294    
;;;295    for(i=0;i<snmp_numofevents;i++)event2snmp(i);
;;;296    //snmp_bpsnumber[0]=1;
;;;297    //snmp_bpsnumber[1]=2;
;;;298    
;;;299    
;;;300    snmp_sernum_lsb=0x1122;
;;;301    snmp_sernum_msb=0x3344;
;;;302    snmp_device_code=AUSW_MAIN;
;;;303    
;;;304    //memcpy(snmp_location,"lkhg;la",);
;;;305    
;;;306    
;;;307    snmp_numofbat=1;
;;;308    
;;;309    */
;;;310    snmp_sernum=AUSW_MAIN_NUMBER;
;;;311    
;;;312    snmp_load_voltage=load_U;
;;;313    snmp_load_current=load_I;
;;;314    snmp_numofbat=NUMBAT;
;;;315    snmp_numofbps=NUMIST;
;;;316    snmp_numofinv=NUMINV;
;;;317    snmp_numofavt=NUMAVT;
;;;318    snmp_numofdt=NUMDT;
;;;319    snmp_numofsk=NUMSK;
;;;320    snmp_numofevents=lc640_read_int(CNT_EVENT_LOG);
;;;321    
;;;322    snmp_energy_vvod_phase_a=Uvv_eb2[0];
;;;323    snmp_energy_vvod_phase_b=Uvv_eb2[1];
;;;324    snmp_energy_vvod_phase_c=Uvv_eb2[2];
;;;325    snmp_energy_pes_phase_a=Upes_eb2[0];
;;;326    snmp_energy_pes_phase_b=Upes_eb2[1];
;;;327    snmp_energy_pes_phase_c=Upes_eb2[2];
;;;328    
;;;329    #ifdef UKU_KONTUR
;;;330    snmp_energy_vvod_phase_a=Uvv0;
;;;331    snmp_energy_pes_phase_a=Uvv[1];
;;;332    #endif
;;;333    
;;;334    snmp_energy_total_energy=power_summary;
;;;335    snmp_energy_current_energy=power_current;
;;;336    snmp_energy_input_voltage=net_U;
;;;337    
;;;338    
;;;339    #ifdef UKU_ZVU
;;;340    snmp_bat_number[0]=1;
;;;341    snmp_bat_voltage[0]=out_U;
;;;342    snmp_bat_current[0]=Ib_ips_termokompensat;
;;;343    snmp_bat_rem_time[0]=bat_hndl_t_razr_min;
;;;344    if(Ib_ips_termokompensat>0)snmp_bat_rem_time[0]=-1;
;;;345    snmp_bat_temperature[0]=t_ext[0];
;;;346    if(ND_EXT[0])snmp_bat_temperature[0]=-1000;
;;;347    snmp_bat_capacity[0]=BAT_C_POINT_20;
;;;348    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;349    snmp_bat_status[0]=bat_ips._av&1;
;;;350    if(NUMBAT==0)snmp_bat_status[0]=0xff;
;;;351    #endif
;;;352    
;;;353    #ifndef UKU_ZVU
;;;354    snmp_bat_number[0]=1;
;;;355    snmp_bat_voltage[0]=bat[0]._Ub;
;;;356    snmp_bat_part_voltage[0]=bat[0]._Ubm;
;;;357    snmp_bat_current[0]=bat[0]._Ib;
;;;358    
;;;359    /*
;;;360    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;361    if(((AUSW_MAIN==22063)||(AUSW_MAIN==22023))&&(bps[8]._device==dIBAT_METR))
;;;362    	{
;;;363    	snmp_bat_current[0]=Ib_ips_termokompensat;
;;;364    	}
;;;365    #endif*/
;;;366    
;;;367    snmp_bat_temperature[0]=bat[0]._Tb;
;;;368    if(bat[0]._nd) snmp_bat_temperature[0]=-1000;
;;;369    
;;;370    if(BAT_C_REAL[0]==0x5555)snmp_bat_capacity[0]=BAT_C_NOM[0];
;;;371    else snmp_bat_capacity[0]=BAT_C_REAL[0];
;;;372    /*
;;;373    #ifdef UKU_ZVU
;;;374    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;375    
;;;376    #else
;;;377    snmp_bat_charge[0]=bat[0]._zar;
;;;378    #endif */
;;;379    snmp_bat_charge[0]=bat[0]._zar;
;;;380    snmp_bat_status[0]=bat[0]._av;
;;;381    if(BAT_IS_ON[0]!=bisON)snmp_bat_status[0]=0xff;
;;;382    
;;;383    
;;;384    snmp_bat_number[1]=2;
;;;385    snmp_bat_voltage[1]=bat[1]._Ub;
;;;386    snmp_bat_part_voltage[1]=bat[1]._Ubm;
;;;387    snmp_bat_current[1]=bat[1]._Ib;
;;;388    snmp_bat_temperature[1]=bat[1]._Tb;
;;;389    if(bat[1]._nd) snmp_bat_temperature[1]=-1000;
;;;390    if(BAT_C_REAL[1]==0x5555)snmp_bat_capacity[1]=BAT_C_NOM[1];
;;;391    else snmp_bat_capacity[1]=BAT_C_REAL[1];
;;;392    snmp_bat_charge[1]=bat[1]._zar;
;;;393    snmp_bat_status[1]=bat[1]._av;
;;;394    if(BAT_IS_ON[1]!=bisON)snmp_bat_status[1]=0xff;
;;;395    #endif
;;;396    
;;;397    
;;;398    snmp_bps_number[0]=1;
;;;399    snmp_bps_voltage[0]=bps[0]._Uii;
;;;400    snmp_bps_current[0]=bps[0]._Ii;
;;;401    snmp_bps_temperature[0]=bps[0]._Ti;
;;;402    snmp_bps_stat[0]=bps[0]._av;
;;;403    if(!(NUMIST>0))snmp_bps_stat[0]=0xff;												//Байт состояния БПСа.
;;;404    
;;;405    /*if(St_[0]&(1<<2))snmp_bps_stat[0]=(1<<3); 							//авария по Umin
;;;406    else if(St_[0]&(1<<3))snmp_bps_stat[0]=(1<<2); 						//авария по Umax
;;;407    else if(bps[0]._av&(1<<0))snmp_bps_stat[0]=(1<<1); 						//авария по Tmax
;;;408    else if(St_[0]&(1<<5))snmp_bps_stat[0]=(1<<5); 						//заблокирован
;;;409    else if((!(St_[0]&0x3c))&&(!St&0x01)&&(!OFFBP1))snmp_bps_stat[0]=1; 		//Работает
;;;410    */
;;;411    
;;;412    snmp_bps_number[1]=2;
;;;413    snmp_bps_voltage[1]=bps[1]._Uii;
;;;414    snmp_bps_current[1]=bps[1]._Ii;
;;;415    snmp_bps_temperature[1]=bps[1]._Ti;
;;;416    snmp_bps_stat[1]=bps[1]._av;
;;;417    if(!(NUMIST>1))snmp_bps_stat[1]=0xff;												//Байт состояния БПСа.
;;;418    /*if(St_[1]&(1<<2))snmp_bps_stat[1]=(1<<3); 							//авария по Umin
;;;419    else if(St_[1]&(1<<3))snmp_bps_stat[1]=(1<<2); 						//авария по Umax
;;;420    else if(St_[1]&(1<<4))snmp_bps_stat[1]=(1<<1); 						//авария по Tmax
;;;421    else if(St_[1]&(1<<5))snmp_bps_stat[1]=(1<<5); 						//заблокирован
;;;422    else if((!(St_[1]&0x3c))&&(!St&0x01)&&(!OFFBP2))snmp_bps_stat[1]=1; 		//Работает
;;;423    */
;;;424    
;;;425    snmp_bps_number[2]=3;
;;;426    snmp_bps_voltage[2]=bps[2]._Uii;
;;;427    snmp_bps_current[2]=bps[2]._Ii;
;;;428    snmp_bps_temperature[2]=bps[2]._Ti;
;;;429    snmp_bps_stat[2]=bps[2]._av;
;;;430    if(!(NUMIST>2))snmp_bps_stat[2]=0xff;
;;;431    
;;;432    snmp_bps_number[3]=4;
;;;433    snmp_bps_voltage[3]=bps[3]._Uii;
;;;434    snmp_bps_current[3]=bps[3]._Ii;
;;;435    snmp_bps_temperature[3]=bps[3]._Ti;
;;;436    snmp_bps_stat[3]=bps[3]._av;
;;;437    if(!(NUMIST>3))snmp_bps_stat[3]=0xff;
;;;438    
;;;439    snmp_bps_number[4]=5;
;;;440    snmp_bps_voltage[4]=bps[4]._Uii;
;;;441    snmp_bps_current[4]=bps[4]._Ii;
;;;442    snmp_bps_temperature[4]=bps[4]._Ti;
;;;443    snmp_bps_stat[4]=bps[4]._av;
;;;444    if(!(NUMIST>4))snmp_bps_stat[4]=0xff;
;;;445    
;;;446    snmp_bps_number[5]=6;
;;;447    snmp_bps_voltage[5]=bps[5]._Uii;
;;;448    snmp_bps_current[5]=bps[5]._Ii;
;;;449    snmp_bps_temperature[5]=bps[5]._Ti;
;;;450    snmp_bps_stat[5]=bps[5]._av;
;;;451    if(!(NUMIST>5))snmp_bps_stat[5]=0xff;
;;;452    
;;;453    snmp_bps_number[6]=7;
;;;454    snmp_bps_voltage[6]=bps[6]._Uii;
;;;455    snmp_bps_current[6]=bps[6]._Ii;
;;;456    snmp_bps_temperature[6]=bps[6]._Ti;
;;;457    snmp_bps_stat[6]=bps[6]._av;
;;;458    if(!(NUMIST>6))snmp_bps_stat[6]=0xff;
;;;459    
;;;460    snmp_bps_number[7]=8;
;;;461    snmp_bps_voltage[7]=bps[7]._Uii;
;;;462    snmp_bps_current[7]=bps[7]._Ii;
;;;463    snmp_bps_temperature[7]=bps[7]._Ti;
;;;464    snmp_bps_stat[7]=bps[7]._av;
;;;465    if(!(NUMIST>7))snmp_bps_stat[7]=0xff;
;;;466    
;;;467    
;;;468    
;;;469    snmp_inv_number[0]=1;
;;;470    snmp_inv_voltage[0]=inv[0]._Uio;
;;;471    snmp_inv_current[0]=inv[0]._Ii;
;;;472    snmp_inv_temperature[0]=inv[0]._Ti;
;;;473    snmp_inv_stat[0]=inv[0]._flags_tm;
;;;474    
;;;475    snmp_inv_number[1]=2;
;;;476    snmp_inv_voltage[1]=inv[1]._Uio;
;;;477    snmp_inv_current[1]=inv[1]._Ii;
;;;478    snmp_inv_temperature[1]=inv[1]._Ti;
;;;479    snmp_inv_stat[1]=inv[1]._flags_tm;
;;;480    
;;;481    snmp_inv_number[2]=3;
;;;482    snmp_inv_voltage[2]=inv[2]._Uio;
;;;483    snmp_inv_current[2]=inv[2]._Ii;
;;;484    snmp_inv_temperature[2]=inv[2]._Ti;
;;;485    snmp_inv_stat[2]=inv[2]._flags_tm;
;;;486    
;;;487    
;;;488    
;;;489    
;;;490    					  
;;;491    snmp_sk_number[0]=1;
;;;492    memcpy(&snmp_sk_name[0][0],"Door",10);
;;;493    if(sk_stat[0]==ssON) snmp_sk_aktiv[0]=1;
;;;494    else snmp_sk_aktiv[0]=0;
;;;495    if(!SK_SIGN[0])snmp_sk_alarm_aktiv[0]=1;
;;;496    else snmp_sk_alarm_aktiv[0]=0;
;;;497    if(sk_av_stat[0]==sasON)	snmp_sk_alarm[0]=1;
;;;498    else                     snmp_sk_alarm[0]=0;
;;;499    
;;;500    
;;;501    snmp_sk_number[1]=2;
;;;502    memcpy(&snmp_sk_name[1][0],"Smoke",10);
;;;503    if(sk_stat[1]==ssON) snmp_sk_aktiv[1]=1;
;;;504    else snmp_sk_aktiv[1]=0;
;;;505    if(!SK_SIGN[1])snmp_sk_alarm_aktiv[1]=1;
;;;506    else snmp_sk_alarm_aktiv[1]=0;
;;;507    if(sk_av_stat[1]==sasON)	snmp_sk_alarm[1]=1;
;;;508    else                     snmp_sk_alarm[1]=0;
;;;509    
;;;510    snmp_sk_number[2]=3;
;;;511    memcpy(&snmp_sk_name[2][0],"Shock",10);
;;;512    if(sk_stat[2]==ssON) snmp_sk_aktiv[2]=1;
;;;513    else snmp_sk_aktiv[2]=0;
;;;514    if(!SK_SIGN[2])snmp_sk_alarm_aktiv[2]=1;
;;;515    else snmp_sk_alarm_aktiv[2]=0;
;;;516    if(sk_av_stat[2]==sasON)	snmp_sk_alarm[2]=1;
;;;517    else                     snmp_sk_alarm[2]=0;
;;;518    
;;;519    snmp_sk_number[3]=4;
;;;520    memcpy(&snmp_sk_name[3][0],"     ",10);
;;;521    if(sk_stat[3]==ssON) snmp_sk_aktiv[3]=1;
;;;522    else snmp_sk_aktiv[3]=0;
;;;523    if(!SK_SIGN[3])snmp_sk_alarm_aktiv[3]=1;
;;;524    else snmp_sk_alarm_aktiv[3]=0;
;;;525    if(sk_av_stat[3]==sasON)	snmp_sk_alarm[3]=1;
;;;526    else                     snmp_sk_alarm[3]=0;
;;;527    
;;;528    
;;;529    if(makb[0]._cnt>8) snmp_makb_connect_status[0]=1;
;;;530    else if(makb[0]._cnt<2) snmp_makb_connect_status[0]=0;
;;;531    if(makb[1]._cnt>8) snmp_makb_connect_status[1]=1;
;;;532    else if(makb[1]._cnt<2) snmp_makb_connect_status[1]=0;
;;;533    if(makb[2]._cnt>8) snmp_makb_connect_status[2]=1;
;;;534    else if(makb[2]._cnt<2) snmp_makb_connect_status[2]=0;
;;;535    if(makb[3]._cnt>8) snmp_makb_connect_status[3]=1;
;;;536    else if(makb[3]._cnt<2) snmp_makb_connect_status[3]=0;
;;;537    
;;;538    snmp_makb_voltage0[0]=makb[0]._Ub[0];
;;;539    snmp_makb_voltage1[0]=makb[0]._Ub[1];
;;;540    snmp_makb_voltage2[0]=makb[0]._Ub[2];
;;;541    snmp_makb_voltage3[0]=makb[0]._Ub[3];
;;;542    snmp_makb_voltage4[0]=makb[0]._Ub[4];
;;;543    snmp_makb_voltage0[1]=makb[1]._Ub[0];
;;;544    snmp_makb_voltage1[1]=makb[1]._Ub[1];
;;;545    snmp_makb_voltage2[1]=makb[1]._Ub[2];
;;;546    snmp_makb_voltage3[1]=makb[1]._Ub[3];
;;;547    snmp_makb_voltage4[1]=makb[1]._Ub[4];
;;;548    snmp_makb_voltage0[2]=makb[2]._Ub[0];
;;;549    snmp_makb_voltage1[2]=makb[2]._Ub[1];
;;;550    snmp_makb_voltage2[2]=makb[2]._Ub[2];
;;;551    snmp_makb_voltage3[2]=makb[2]._Ub[3];
;;;552    snmp_makb_voltage4[2]=makb[2]._Ub[4];
;;;553    snmp_makb_voltage0[3]=makb[3]._Ub[0];
;;;554    snmp_makb_voltage1[3]=makb[3]._Ub[1];
;;;555    snmp_makb_voltage2[3]=makb[3]._Ub[2];
;;;556    snmp_makb_voltage3[3]=makb[3]._Ub[3];
;;;557    snmp_makb_voltage4[3]=makb[3]._Ub[4];
;;;558    
;;;559    snmp_makb_temper0[0]=makb[0]._T[0];
;;;560    snmp_makb_temper1[0]=makb[0]._T[1];
;;;561    snmp_makb_temper2[0]=makb[0]._T[2];
;;;562    snmp_makb_temper3[0]=makb[0]._T[3];
;;;563    snmp_makb_temper4[0]=makb[0]._T[4];
;;;564    snmp_makb_temper0[1]=makb[1]._T[0];
;;;565    snmp_makb_temper1[1]=makb[1]._T[1];
;;;566    snmp_makb_temper2[1]=makb[1]._T[2];
;;;567    snmp_makb_temper3[1]=makb[1]._T[3];
;;;568    snmp_makb_temper4[1]=makb[1]._T[4];
;;;569    snmp_makb_temper0[2]=makb[2]._T[0];
;;;570    snmp_makb_temper1[2]=makb[2]._T[1];
;;;571    snmp_makb_temper2[2]=makb[2]._T[2];
;;;572    snmp_makb_temper3[2]=makb[2]._T[3];
;;;573    snmp_makb_temper4[2]=makb[2]._T[4];
;;;574    snmp_makb_temper0[3]=makb[3]._T[0];
;;;575    snmp_makb_temper1[3]=makb[3]._T[1];
;;;576    snmp_makb_temper2[3]=makb[3]._T[2];
;;;577    snmp_makb_temper3[3]=makb[3]._T[3];
;;;578    snmp_makb_temper4[3]=makb[3]._T[4];
;;;579    
;;;580    snmp_makb_temper0_stat[0]=makb[0]._T_nd[0];
;;;581    snmp_makb_temper1_stat[0]=makb[0]._T_nd[1];
;;;582    snmp_makb_temper2_stat[0]=makb[0]._T_nd[2];
;;;583    snmp_makb_temper3_stat[0]=makb[0]._T_nd[3];
;;;584    snmp_makb_temper4_stat[0]=makb[0]._T_nd[4];
;;;585    snmp_makb_temper0_stat[1]=makb[1]._T_nd[0];
;;;586    snmp_makb_temper1_stat[1]=makb[1]._T_nd[1];
;;;587    snmp_makb_temper2_stat[1]=makb[1]._T_nd[2];
;;;588    snmp_makb_temper3_stat[1]=makb[1]._T_nd[3];
;;;589    snmp_makb_temper4_stat[1]=makb[1]._T_nd[4];
;;;590    snmp_makb_temper0_stat[2]=makb[2]._T_nd[0];
;;;591    snmp_makb_temper1_stat[2]=makb[2]._T_nd[1];
;;;592    snmp_makb_temper2_stat[2]=makb[2]._T_nd[2];
;;;593    snmp_makb_temper3_stat[2]=makb[2]._T_nd[3];
;;;594    snmp_makb_temper4_stat[2]=makb[2]._T_nd[4];
;;;595    snmp_makb_temper0_stat[3]=makb[3]._T_nd[0];
;;;596    snmp_makb_temper1_stat[3]=makb[3]._T_nd[1];
;;;597    snmp_makb_temper2_stat[3]=makb[3]._T_nd[2];
;;;598    snmp_makb_temper3_stat[3]=makb[3]._T_nd[3];
;;;599    snmp_makb_temper4_stat[3]=makb[3]._T_nd[4];
;;;600    
;;;601    
;;;602    snmp_klimat_box_temper=t_box;
;;;603    snmp_klimat_settings_box_alarm=TBOXMAX;
;;;604    snmp_klimat_settings_vent_on=TBOXVENTON;
;;;605    snmp_klimat_settings_vent_off=TBOXVENTOFF;
;;;606    snmp_klimat_settings_warm_on=TBOXWARMON;
;;;607    snmp_klimat_settings_warm_off=TBOXWARMOFF;
;;;608    snmp_klimat_settings_load_on=TLOADENABLE;
;;;609    snmp_klimat_settings_load_off=TLOADDISABLE;
;;;610    snmp_klimat_settings_batt_on=TBATENABLE;
;;;611    snmp_klimat_settings_batt_off=TBATDISABLE;
;;;612    
;;;613    snmp_dt_ext=t_ext[0];
;;;614    snmp_dt_msan=t_ext[1];
;;;615    snmp_dt_epu=t_ext[2];
;;;616    
;;;617    /*
;;;618    snmp_bat_voltage=Ubat;
;;;619    snmp_bat_current=Ibat;
;;;620    snmp_bat_temperature=t_b;
;;;621    if(BAT_C_REAL==0x5555)
;;;622    	{
;;;623    	snmp_bat_capacity=BAT_C_NOM*10;												    11
;;;624    	}
;;;625    else
;;;626    	{
;;;627    	snmp_bat_capacity=BAT_C_REAL;
;;;628    	}
;;;629    snmp_bat_charge=zar_percent;
;;;630    snmp_bat_status=0;
;;;631    if(St&0x02)snmp_bat_status|=0x01;
;;;632    if(Ibat>0)snmp_bat_status|=0x02;
;;;633    
;;;634    
;;;635    if(spc_stat==spc_OFF) snmp_spc_stat=0;
;;;636    else if(spc_stat==spc_KE) snmp_spc_stat=1;
;;;637    else if(spc_stat==spc_VZ) snmp_spc_stat=10;
;;;638    
;;;639    
;;;640    snmp_main_bps=MAIN_IST+1;
;;;641    */
;;;642    snmp_zv_en=ZV_ON;
;;;643    snmp_alarm_auto_disable=AV_OFF_AVT;
;;;644    snmp_bat_test_time=TBAT;
;;;645    snmp_u_max=UMAX;
;;;646    snmp_u_min=UB20-DU;
;;;647    snmp_u_0_grad=UB0;
;;;648    snmp_u_20_grad=UB20;
;;;649    snmp_u_sign=USIGN;
;;;650    snmp_u_min_power=UMN;
;;;651    snmp_u_withouth_bat=U0B;
;;;652    snmp_control_current=IKB;
;;;653    snmp_max_charge_current=IZMAX;
;;;654    snmp_max_current=IMAX;
;;;655    snmp_min_current=IMIN;
;;;656    //snmp_max_current_koef=KIMAX;
;;;657    snmp_uvz=UVZ;
;;;658    snmp_powerup_psu_timeout=TZAS;
;;;659    snmp_max_temperature=TMAX;
;;;660    snmp_tsign_bat=TBATSIGN; 
;;;661    snmp_tmax_bat=TBATMAX;
;;;662    snmp_tsign_bps=TSIGN;
;;;663    snmp_tmax_bps=TMAX;
;;;664    snmp_bat_part_alarm=UBM_AV; 
;;;665    snmp_power_cnt_adress=POWER_CNT_ADRESS;
;;;666    
;;;667    for(i=0;i<12;i++)
;;;668    	{
;;;669    	snmp_avt_number[i]=i+1;
;;;670    	if(avt_stat[i]==avtOFF)snmp_avt_stat[i]=0;
;;;671    	else snmp_avt_stat[i]=1;
;;;672    	}
;;;673    
;;;674    snmp_dt_number[0]=1;
;;;675    snmp_dt_number[1]=2;
;;;676    snmp_dt_number[2]=3;
;;;677    //snmp_dt_number[3]=4;
;;;678    snmp_dt_temper[0]=t_ext[0];
;;;679    snmp_dt_temper[1]=t_ext[1];
;;;680    snmp_dt_temper[2]=t_ext[2];
;;;681    //snmp_dt_temper[3]=t_ext[3];
;;;682    snmp_dt_error[0]=ND_EXT[0];
;;;683    if(NUMDT<1)snmp_dt_error[0]=0xff;
;;;684    snmp_dt_error[1]=ND_EXT[1];
;;;685    if(NUMDT<2)snmp_dt_error[0]=0xff;
;;;686    snmp_dt_error[2]=ND_EXT[2];
;;;687    if(NUMDT<3)snmp_dt_error[0]=0xff;
;;;688    //snmp_dt_error[3]=ND_EXT[3];
;;;689    if(NUMDT<4)snmp_dt_error[0]=0xff;
;;;690    
;;;691    /*
;;;692    //Литиевые батареи
;;;693    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;694    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;695    snmp_lakb_voltage[0]=lakb[0]._tot_bat_volt;				//Напряжение ЛАКБ
;;;696    snmp_lakb_voltage[1]=lakb[1]._tot_bat_volt;				//Напряжение ЛАКБ
;;;697    snmp_lakb_max_cell_voltage[0]=lakb[0]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;698    snmp_lakb_max_cell_voltage[1]=lakb[1]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;699    snmp_lakb_min_cell_voltage[0]=lakb[0]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;700    snmp_lakb_min_cell_voltage[1]=lakb[1]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;701    snmp_lakb_max_cell_temperature[0]=lakb[0]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;702    snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;703    snmp_lakb_min_cell_temperature[0]=lakb[0]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;704    snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;705    snmp_lakb_ch_curr[0]=lakb[0]._ch_curr;					//Ток заряда ЛАКБ
;;;706    snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;707    snmp_lakb_dsch_curr[0]=lakb[0]._dsch_curr;				//Ток разряда ЛАКБ
;;;708    snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;709    snmp_lakb_rat_cap[0]=lakb[0]._rat_cap;					//Номинальная емкость ЛАКБ
;;;710    snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;711    snmp_lakb_soh[0]=lakb[0]._s_o_h;						//Остаточная емкость ЛАКБ
;;;712    snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;713    snmp_lakb_soc[0]=lakb[0]._s_o_c;						//Заряд ЛАКБ
;;;714    snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;715    snmp_lakb_cclv[0]=lakb[0]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;716    snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;717    snmp_lakb_rbt[0]=lakb[0]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;718    snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;719    snmp_lakb_flags1[0]=lakb[0]._flags1;					//Первый флаг состояния ЛАКБ
;;;720    snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;721    snmp_lakb_flags2[0]=lakb[0]._flags2;					//Второй флаг состояния ЛАКБ
;;;722    snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ */
;;;723    
;;;724    //Литиевые батареи
;;;725    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;726    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;727    snmp_lakb_number[2]=3;								//Номер ЛАКБ
;;;728    snmp_lakb_number[3]=4;								//Номер ЛАКБ
;;;729    snmp_lakb_number[4]=5;								//Номер ЛАКБ
;;;730    snmp_lakb_number[5]=6;								//Номер ЛАКБ
;;;731    snmp_lakb_number[6]=7;								//Номер ЛАКБ
;;;732    
;;;733    for (i=0;i<3;i++)
;;;734    	{
;;;735    	snmp_lakb_voltage[i]=lakb[i]._tot_bat_volt;				//Напряжение ЛАКБ
;;;736    	snmp_lakb_max_cell_voltage[i]=lakb[i]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;737    	snmp_lakb_min_cell_voltage[i]=lakb[i]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;738    	snmp_lakb_max_cell_temperature[i]=lakb[i]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;739    	//snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;740    	snmp_lakb_min_cell_temperature[i]=lakb[i]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;741    	//snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;742    	snmp_lakb_ch_curr[i]=lakb[i]._ch_curr;					//Ток заряда ЛАКБ
;;;743    	//snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;744    	snmp_lakb_dsch_curr[i]=lakb[i]._dsch_curr;				//Ток разряда ЛАКБ
;;;745    	//snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;746    	snmp_lakb_rat_cap[i]=lakb[i]._rat_cap;					//Номинальная емкость ЛАКБ
;;;747    	//snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;748    	snmp_lakb_soh[i]=lakb[i]._s_o_h;						//Остаточная емкость ЛАКБ
;;;749    	//snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;750    	snmp_lakb_soc[i]=lakb[i]._s_o_c;						//Заряд ЛАКБ
;;;751    	//snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;752    	snmp_lakb_cclv[i]=lakb[i]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;753    	//snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;754    	snmp_lakb_rbt[i]=lakb[i]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;755    	//snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;756    	snmp_lakb_flags1[i]=lakb[i]._flags1;					//Первый флаг состояния ЛАКБ
;;;757    	//snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;758    	snmp_lakb_flags2[i]=lakb[i]._flags2;					//Второй флаг состояния ЛАКБ
;;;759    	//snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ
;;;760    
;;;761    	snmp_lakb_cell_temperature_1[i]= lakb[i]._cell_temp_1;
;;;762    	snmp_lakb_cell_temperature_2[i]= lakb[i]._cell_temp_2;
;;;763    	snmp_lakb_cell_temperature_3[i]= lakb[i]._cell_temp_3;
;;;764    	snmp_lakb_cell_temperature_4[i]= lakb[i]._cell_temp_4;
;;;765    	snmp_lakb_cell_temperature_ambient[i]=lakb[i]._cell_temp_ambient;
;;;766    	snmp_lakb_cell_temperature_power[i]=lakb[i]._cell_temp_power;
;;;767    	}
;;;768    
;;;769    for (i=0;i<7;i++)
;;;770    {
;;;771    /*
;;;772    snmp_lakb_damp1[i][0]=ABCDEF[(lakb_damp[i][0])>>4];			//Дамп
;;;773    snmp_lakb_damp1[i][1]=ABCDEF[(lakb_damp[i][0])&0x0f];			//Дамп
;;;774    snmp_lakb_damp1[i][2]=' ';
;;;775    snmp_lakb_damp1[i][3]=ABCDEF[(lakb_damp[i][1])>>4];			//Дамп
;;;776    snmp_lakb_damp1[i][4]=ABCDEF[(lakb_damp[i][1])&0x0f];			//Дамп
;;;777    snmp_lakb_damp1[i][5]=' ';
;;;778    snmp_lakb_damp1[i][6]=ABCDEF[(lakb_damp[i][2])>>4];			//Дамп
;;;779    snmp_lakb_damp1[i][7]=ABCDEF[(lakb_damp[i][2])&0x0f];			//Дамп
;;;780    snmp_lakb_damp1[i][8]=' ';
;;;781    snmp_lakb_damp1[i][9]=ABCDEF[(lakb_damp[i][3])>>4];			//Дамп
;;;782    snmp_lakb_damp1[i][10]=ABCDEF[(lakb_damp[i][3])&0x0f];			//Дамп
;;;783    snmp_lakb_damp1[i][11]=' ';
;;;784    snmp_lakb_damp1[i][12]=ABCDEF[(lakb_damp[i][4])>>4];			//Дамп
;;;785    snmp_lakb_damp1[i][13]=ABCDEF[(lakb_damp[i][4])&0x0f];			//Дамп
;;;786    snmp_lakb_damp1[i][14]=' '; 
;;;787    snmp_lakb_damp1[i][15]=ABCDEF[(lakb_damp[i][5])>>4];			//Дамп
;;;788    snmp_lakb_damp1[i][16]=ABCDEF[(lakb_damp[i][5])&0x0f];			//Дамп
;;;789    snmp_lakb_damp1[i][17]=' ';
;;;790    snmp_lakb_damp1[i][18]=ABCDEF[(lakb_damp[i][6])>>4];			//Дамп
;;;791    snmp_lakb_damp1[i][19]=ABCDEF[(lakb_damp[i][6])&0x0f];			//Дамп
;;;792    snmp_lakb_damp1[i][20]=' ';
;;;793    snmp_lakb_damp1[i][21]=ABCDEF[(lakb_damp[i][7])>>4];			//Дамп
;;;794    snmp_lakb_damp1[i][22]=ABCDEF[(lakb_damp[i][7])&0x0f];			//Дамп
;;;795    snmp_lakb_damp1[i][23]=' ';
;;;796    snmp_lakb_damp1[i][24]=ABCDEF[(lakb_damp[i][8])>>4];			//Дамп
;;;797    snmp_lakb_damp1[i][25]=ABCDEF[(lakb_damp[i][8])&0x0f];			//Дамп
;;;798    snmp_lakb_damp1[i][26]=' ';
;;;799    snmp_lakb_damp1[i][27]=ABCDEF[(lakb_damp[i][9])>>4];			//Дамп
;;;800    snmp_lakb_damp1[i][28]=ABCDEF[(lakb_damp[i][9])&0x0f];			//Дамп
;;;801    snmp_lakb_damp1[i][29]=0; 
;;;802    
;;;803    snmp_lakb_damp1[i][30]=ABCDEF[(lakb_damp[i][10])>>4];			//Дамп
;;;804    snmp_lakb_damp1[i][31]=ABCDEF[(lakb_damp[i][10])&0x0f];			//Дамп
;;;805    snmp_lakb_damp1[i][32]=' ';
;;;806    snmp_lakb_damp1[i][33]=ABCDEF[(lakb_damp[i][11])>>4];			//Дамп
;;;807    snmp_lakb_damp1[i][34]=ABCDEF[(lakb_damp[i][11])&0x0f];			//Дамп
;;;808    snmp_lakb_damp1[i][35]=' ';
;;;809    snmp_lakb_damp1[i][36]=ABCDEF[(lakb_damp[i][12])>>4];			//Дамп
;;;810    snmp_lakb_damp1[i][37]=ABCDEF[(lakb_damp[i][12])&0x0f];			//Дамп
;;;811    snmp_lakb_damp1[i][38]=' ';
;;;812    snmp_lakb_damp1[i][39]=ABCDEF[(lakb_damp[i][13])>>4];			//Дамп
;;;813    snmp_lakb_damp1[i][40]=ABCDEF[(lakb_damp[i][13])&0x0f];			//Дамп
;;;814    snmp_lakb_damp1[i][41]=' ';
;;;815    snmp_lakb_damp1[i][42]=ABCDEF[(lakb_damp[i][14])>>4];			//Дамп
;;;816    snmp_lakb_damp1[i][43]=ABCDEF[(lakb_damp[i][14])&0x0f];			//Дамп
;;;817    snmp_lakb_damp1[i][44]=' '; 
;;;818    snmp_lakb_damp1[i][45]=ABCDEF[(lakb_damp[i][15])>>4];			//Дамп
;;;819    snmp_lakb_damp1[i][46]=ABCDEF[(lakb_damp[i][15])&0x0f];			//Дамп
;;;820    snmp_lakb_damp1[i][47]=' ';
;;;821    snmp_lakb_damp1[i][48]=ABCDEF[(lakb_damp[i][16])>>4];			//Дамп
;;;822    snmp_lakb_damp1[i][49]=ABCDEF[(lakb_damp[i][16])&0x0f];			//Дамп
;;;823    snmp_lakb_damp1[i][50]=' ';
;;;824    snmp_lakb_damp1[i][51]=ABCDEF[(lakb_damp[i][17])>>4];			//Дамп
;;;825    snmp_lakb_damp1[i][52]=ABCDEF[(lakb_damp[i][17])&0x0f];			//Дамп
;;;826    snmp_lakb_damp1[i][53]=' ';
;;;827    snmp_lakb_damp1[i][54]=ABCDEF[(lakb_damp[i][18])>>4];			//Дамп
;;;828    snmp_lakb_damp1[i][55]=ABCDEF[(lakb_damp[i][18])&0x0f];			//Дамп
;;;829    snmp_lakb_damp1[i][56]=' ';
;;;830    snmp_lakb_damp1[i][57]=ABCDEF[(lakb_damp[i][19])>>4];			//Дамп
;;;831    snmp_lakb_damp1[i][58]=ABCDEF[(lakb_damp[i][19])&0x0f];			//Дамп
;;;832    snmp_lakb_damp1[i][59]=0; 
;;;833    
;;;834    
;;;835    snmp_lakb_damp1[i][60]=ABCDEF[(lakb_damp[i][20])>>4];			//Дамп
;;;836    snmp_lakb_damp1[i][61]=ABCDEF[(lakb_damp[i][20])&0x0f];			//Дамп
;;;837    snmp_lakb_damp1[i][62]=' ';
;;;838    snmp_lakb_damp1[i][63]=ABCDEF[(lakb_damp[i][21])>>4];			//Дамп
;;;839    snmp_lakb_damp1[i][64]=ABCDEF[(lakb_damp[i][21])&0x0f];			//Дамп
;;;840    snmp_lakb_damp1[i][65]=' ';
;;;841    snmp_lakb_damp1[i][66]=ABCDEF[(lakb_damp[i][22])>>4];			//Дамп
;;;842    snmp_lakb_damp1[i][67]=ABCDEF[(lakb_damp[i][22])&0x0f];			//Дамп
;;;843    snmp_lakb_damp1[i][68]=' ';
;;;844    snmp_lakb_damp1[i][69]=ABCDEF[(lakb_damp[i][23])>>4];			//Дамп
;;;845    snmp_lakb_damp1[i][70]=ABCDEF[(lakb_damp[i][23])&0x0f];			//Дамп
;;;846    snmp_lakb_damp1[i][71]=' ';
;;;847    snmp_lakb_damp1[i][72]=ABCDEF[(lakb_damp[i][24])>>4];			//Дамп
;;;848    snmp_lakb_damp1[i][73]=ABCDEF[(lakb_damp[i][24])&0x0f];			//Дамп
;;;849    snmp_lakb_damp1[i][74]=' '; 
;;;850    snmp_lakb_damp1[i][75]=ABCDEF[(lakb_damp[i][25])>>4];			//Дамп
;;;851    snmp_lakb_damp1[i][76]=ABCDEF[(lakb_damp[i][25])&0x0f];			//Дамп
;;;852    snmp_lakb_damp1[i][77]=' ';
;;;853    snmp_lakb_damp1[i][78]=ABCDEF[(lakb_damp[i][26])>>4];			//Дамп
;;;854    snmp_lakb_damp1[i][79]=ABCDEF[(lakb_damp[i][26])&0x0f];			//Дамп
;;;855    snmp_lakb_damp1[i][80]=' ';
;;;856    snmp_lakb_damp1[i][81]=ABCDEF[(lakb_damp[i][27])>>4];			//Дамп
;;;857    snmp_lakb_damp1[i][82]=ABCDEF[(lakb_damp[i][27])&0x0f];			//Дамп
;;;858    snmp_lakb_damp1[i][83]=' ';
;;;859    snmp_lakb_damp1[i][84]=ABCDEF[(lakb_damp[i][28])>>4];			//Дамп
;;;860    snmp_lakb_damp1[i][85]=ABCDEF[(lakb_damp[i][28])&0x0f];			//Дамп
;;;861    snmp_lakb_damp1[i][86]=' ';
;;;862    snmp_lakb_damp1[i][87]=ABCDEF[(lakb_damp[i][29])>>4];			//Дамп
;;;863    snmp_lakb_damp1[i][88]=ABCDEF[(lakb_damp[i][29])&0x0f];			//Дамп
;;;864    snmp_lakb_damp1[i][89]=0;
;;;865    
;;;866    
;;;867    snmp_lakb_damp1[i][90]=ABCDEF[(lakb_damp[i][30])>>4];			//Дамп
;;;868    snmp_lakb_damp1[i][91]=ABCDEF[(lakb_damp[i][30])&0x0f];			//Дамп
;;;869    snmp_lakb_damp1[i][92]=' ';
;;;870    snmp_lakb_damp1[i][93]=ABCDEF[(lakb_damp[i][31])>>4];			//Дамп
;;;871    snmp_lakb_damp1[i][94]=ABCDEF[(lakb_damp[i][31])&0x0f];			//Дамп
;;;872    snmp_lakb_damp1[i][95]=' ';
;;;873    snmp_lakb_damp1[i][96]=ABCDEF[(lakb_damp[i][32])>>4];			//Дамп
;;;874    snmp_lakb_damp1[i][97]=ABCDEF[(lakb_damp[i][32])&0x0f];			//Дамп
;;;875    snmp_lakb_damp1[i][98]=' ';
;;;876    snmp_lakb_damp1[i][99]=ABCDEF[(lakb_damp[i][33])>>4];			//Дамп
;;;877    snmp_lakb_damp1[i][100]=ABCDEF[(lakb_damp[i][33])&0x0f];			//Дамп
;;;878    snmp_lakb_damp1[i][101]=' ';
;;;879    snmp_lakb_damp1[i][102]=ABCDEF[(lakb_damp[i][34])>>4];			//Дамп
;;;880    snmp_lakb_damp1[i][103]=ABCDEF[(lakb_damp[i][34])&0x0f];			//Дамп
;;;881    snmp_lakb_damp1[i][104]=' '; 
;;;882    snmp_lakb_damp1[i][105]=ABCDEF[(lakb_damp[i][35])>>4];			//Дамп
;;;883    snmp_lakb_damp1[i][106]=ABCDEF[(lakb_damp[i][35])&0x0f];			//Дамп
;;;884    snmp_lakb_damp1[i][107]=' ';
;;;885    snmp_lakb_damp1[i][108]=ABCDEF[(lakb_damp[i][36])>>4];			//Дамп
;;;886    snmp_lakb_damp1[i][109]=ABCDEF[(lakb_damp[i][36])&0x0f];			//Дамп
;;;887    snmp_lakb_damp1[i][110]=' ';
;;;888    snmp_lakb_damp1[i][111]=ABCDEF[(lakb_damp[i][37])>>4];			//Дамп
;;;889    snmp_lakb_damp1[i][112]=ABCDEF[(lakb_damp[i][37])&0x0f];			//Дамп
;;;890    snmp_lakb_damp1[i][113]=' ';
;;;891    snmp_lakb_damp1[i][114]=ABCDEF[(lakb_damp[i][38])>>4];			//Дамп
;;;892    snmp_lakb_damp1[i][115]=ABCDEF[(lakb_damp[i][38])&0x0f];			//Дамп
;;;893    snmp_lakb_damp1[i][116]=' ';
;;;894    snmp_lakb_damp1[i][117]=ABCDEF[(lakb_damp[i][39])>>4];			//Дамп
;;;895    snmp_lakb_damp1[i][118]=ABCDEF[(lakb_damp[i][39])&0x0f];			//Дамп
;;;896    snmp_lakb_damp1[i][119]=0; 
;;;897     
;;;898    
;;;899    snmp_lakb_damp1[i][120]=ABCDEF[(lakb_damp[i][40])>>4];			//Дамп
;;;900    snmp_lakb_damp1[i][121]=ABCDEF[(lakb_damp[i][40])&0x0f];			//Дамп
;;;901    snmp_lakb_damp1[i][122]=' ';
;;;902    snmp_lakb_damp1[i][123]=ABCDEF[(lakb_damp[i][41])>>4];			//Дамп
;;;903    snmp_lakb_damp1[i][124]=ABCDEF[(lakb_damp[i][41])&0x0f];			//Дамп
;;;904    snmp_lakb_damp1[i][125]=' ';
;;;905    snmp_lakb_damp1[i][126]=ABCDEF[(lakb_damp[i][42])>>4];			//Дамп
;;;906    snmp_lakb_damp1[i][127]=ABCDEF[(lakb_damp[i][42])&0x0f];			//Дамп
;;;907    snmp_lakb_damp1[i][128]=' ';
;;;908    snmp_lakb_damp1[i][129]=ABCDEF[(lakb_damp[i][43])>>4];			//Дамп
;;;909    snmp_lakb_damp1[i][130]=ABCDEF[(lakb_damp[i][43])&0x0f];			//Дамп
;;;910    snmp_lakb_damp1[i][131]=' ';
;;;911    snmp_lakb_damp1[i][132]=ABCDEF[(lakb_damp[i][44])>>4];			//Дамп
;;;912    snmp_lakb_damp1[i][133]=ABCDEF[(lakb_damp[i][44])&0x0f];			//Дамп
;;;913    snmp_lakb_damp1[i][134]=' '; 
;;;914    snmp_lakb_damp1[i][135]=ABCDEF[(lakb_damp[i][45])>>4];			//Дамп
;;;915    snmp_lakb_damp1[i][136]=ABCDEF[(lakb_damp[i][45])&0x0f];			//Дамп
;;;916    snmp_lakb_damp1[i][137]=' ';
;;;917    snmp_lakb_damp1[i][138]=ABCDEF[(lakb_damp[i][46])>>4];			//Дамп
;;;918    snmp_lakb_damp1[i][139]=ABCDEF[(lakb_damp[i][46])&0x0f];			//Дамп
;;;919    snmp_lakb_damp1[i][140]=' ';
;;;920    snmp_lakb_damp1[i][141]=ABCDEF[(lakb_damp[i][47])>>4];			//Дамп
;;;921    snmp_lakb_damp1[i][142]=ABCDEF[(lakb_damp[i][47])&0x0f];			//Дамп
;;;922    snmp_lakb_damp1[i][143]=' ';
;;;923    snmp_lakb_damp1[i][144]=ABCDEF[(lakb_damp[i][48])>>4];			//Дамп
;;;924    snmp_lakb_damp1[i][145]=ABCDEF[(lakb_damp[i][48])&0x0f];			//Дамп
;;;925    snmp_lakb_damp1[i][146]=' ';
;;;926    snmp_lakb_damp1[i][147]=ABCDEF[(lakb_damp[i][49])>>4];			//Дамп
;;;927    snmp_lakb_damp1[i][148]=ABCDEF[(lakb_damp[i][49])&0x0f];			//Дамп
;;;928    snmp_lakb_damp1[i][149]=0;  */
;;;929    }
;;;930    
;;;931    #ifdef UKU_TELECORE2017
;;;932    snmp_warm_sign=0;
;;;933    if(TELECORE2017_KLIMAT_WARM_SIGNAL==0) snmp_warm_sign=2;
;;;934    else if(TELECORE2017_KLIMAT_WARM_SIGNAL==1) snmp_warm_sign=1;
;;;935    snmp_cool_sign=0;
;;;936    if(TELECORE2017_KLIMAT_VENT_SIGNAL==0) snmp_cool_sign=2;
;;;937    else if(TELECORE2017_KLIMAT_VENT_SIGNAL==1) snmp_cool_sign=1;
;;;938    snmp_warm_on_temper=(signed char)TELECORE2017_KLIMAT_WARM_ON; 
;;;939    snmp_warm_off_temper=(signed char)TELECORE2017_KLIMAT_WARM_OFF;
;;;940    snmp_warm_q=(signed char)TELECORE2017_KLIMAT_CAP;	
;;;941    snmp_cool_20_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON20;
;;;942    snmp_cool_40_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON40;
;;;943    snmp_cool_60_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON60;
;;;944    snmp_cool_80_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON80;
;;;945    snmp_cool_100_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON100;
;;;946    snmp_cool_20_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON20;
;;;947    snmp_cool_40_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON40;
;;;948    snmp_cool_60_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON60;
;;;949    snmp_cool_80_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON80;
;;;950    snmp_cool_100_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON100;
;;;951    snmp_warm_stat=0;
;;;952    if(warm_stat_k==wsON) snmp_warm_stat=1;
;;;953    #endif
;;;954    }
;;;955    //-----------------------------------------------
                          ENDP


                          AREA ||area_number.8||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.8||, ||.text||
                  snmp_max_temperature_write PROC
;;;261    //-----------------------------------------------
;;;262    void snmp_data (void) 
000000  2801              CMP      r0,#1
;;;263    {
000002  d105              BNE      |L8.16|
;;;264    char i;
;;;265    
;;;266    snmp_mains_power_voltage=net_U;
000004  4803              LDR      r0,|L8.20|
000006  f9b0106c          LDRSH    r1,[r0,#0x6c]  ; snmp_max_temperature
00000a  207e              MOVS     r0,#0x7e
00000c  f7ffbffe          B.W      lc640_write_int
                  |L8.16|
;;;267    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;268    snmp_mains_power_frequency=net_F3;
000010  4770              BX       lr
;;;269    #else
;;;270    snmp_mains_power_frequency=net_F;
;;;271    #endif
;;;272    snmp_mains_power_voltage_phaseA=net_Ua;
;;;273    snmp_mains_power_voltage_phaseB=net_Ub;
;;;274    snmp_mains_power_voltage_phaseC=net_Uc;
;;;275    
;;;276    
;;;277    if(avar_stat&0x0001)snmp_mains_power_alarm=1;
;;;278    else snmp_mains_power_alarm=0;
;;;279    if(avar_stat&0x0001)snmp_mains_power_status=1;
;;;280    else snmp_mains_power_status=0;
;;;281    
;;;282    /*
;;;283    snmp_mains_power_status=0; 
;;;284    #if(UKU_VERSION==900)
;;;285    snmp_mains_power_status=2;
;;;286    #endif
;;;287    if(St&0x01)snmp_mains_power_status|=0x01;
;;;288    if(St&0x01)snmp_mains_power_alarm=1;
;;;289    
;;;290    
;;;291    
;;;292    
;;;293    
;;;294    
;;;295    for(i=0;i<snmp_numofevents;i++)event2snmp(i);
;;;296    //snmp_bpsnumber[0]=1;
;;;297    //snmp_bpsnumber[1]=2;
;;;298    
;;;299    
;;;300    snmp_sernum_lsb=0x1122;
;;;301    snmp_sernum_msb=0x3344;
;;;302    snmp_device_code=AUSW_MAIN;
;;;303    
;;;304    //memcpy(snmp_location,"lkhg;la",);
;;;305    
;;;306    
;;;307    snmp_numofbat=1;
;;;308    
;;;309    */
;;;310    snmp_sernum=AUSW_MAIN_NUMBER;
;;;311    
;;;312    snmp_load_voltage=load_U;
;;;313    snmp_load_current=load_I;
;;;314    snmp_numofbat=NUMBAT;
;;;315    snmp_numofbps=NUMIST;
;;;316    snmp_numofinv=NUMINV;
;;;317    snmp_numofavt=NUMAVT;
;;;318    snmp_numofdt=NUMDT;
;;;319    snmp_numofsk=NUMSK;
;;;320    snmp_numofevents=lc640_read_int(CNT_EVENT_LOG);
;;;321    
;;;322    snmp_energy_vvod_phase_a=Uvv_eb2[0];
;;;323    snmp_energy_vvod_phase_b=Uvv_eb2[1];
;;;324    snmp_energy_vvod_phase_c=Uvv_eb2[2];
;;;325    snmp_energy_pes_phase_a=Upes_eb2[0];
;;;326    snmp_energy_pes_phase_b=Upes_eb2[1];
;;;327    snmp_energy_pes_phase_c=Upes_eb2[2];
;;;328    
;;;329    #ifdef UKU_KONTUR
;;;330    snmp_energy_vvod_phase_a=Uvv0;
;;;331    snmp_energy_pes_phase_a=Uvv[1];
;;;332    #endif
;;;333    
;;;334    snmp_energy_total_energy=power_summary;
;;;335    snmp_energy_current_energy=power_current;
;;;336    snmp_energy_input_voltage=net_U;
;;;337    
;;;338    
;;;339    #ifdef UKU_ZVU
;;;340    snmp_bat_number[0]=1;
;;;341    snmp_bat_voltage[0]=out_U;
;;;342    snmp_bat_current[0]=Ib_ips_termokompensat;
;;;343    snmp_bat_rem_time[0]=bat_hndl_t_razr_min;
;;;344    if(Ib_ips_termokompensat>0)snmp_bat_rem_time[0]=-1;
;;;345    snmp_bat_temperature[0]=t_ext[0];
;;;346    if(ND_EXT[0])snmp_bat_temperature[0]=-1000;
;;;347    snmp_bat_capacity[0]=BAT_C_POINT_20;
;;;348    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;349    snmp_bat_status[0]=bat_ips._av&1;
;;;350    if(NUMBAT==0)snmp_bat_status[0]=0xff;
;;;351    #endif
;;;352    
;;;353    #ifndef UKU_ZVU
;;;354    snmp_bat_number[0]=1;
;;;355    snmp_bat_voltage[0]=bat[0]._Ub;
;;;356    snmp_bat_part_voltage[0]=bat[0]._Ubm;
;;;357    snmp_bat_current[0]=bat[0]._Ib;
;;;358    
;;;359    /*
;;;360    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;361    if(((AUSW_MAIN==22063)||(AUSW_MAIN==22023))&&(bps[8]._device==dIBAT_METR))
;;;362    	{
;;;363    	snmp_bat_current[0]=Ib_ips_termokompensat;
;;;364    	}
;;;365    #endif*/
;;;366    
;;;367    snmp_bat_temperature[0]=bat[0]._Tb;
;;;368    if(bat[0]._nd) snmp_bat_temperature[0]=-1000;
;;;369    
;;;370    if(BAT_C_REAL[0]==0x5555)snmp_bat_capacity[0]=BAT_C_NOM[0];
;;;371    else snmp_bat_capacity[0]=BAT_C_REAL[0];
;;;372    /*
;;;373    #ifdef UKU_ZVU
;;;374    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;375    
;;;376    #else
;;;377    snmp_bat_charge[0]=bat[0]._zar;
;;;378    #endif */
;;;379    snmp_bat_charge[0]=bat[0]._zar;
;;;380    snmp_bat_status[0]=bat[0]._av;
;;;381    if(BAT_IS_ON[0]!=bisON)snmp_bat_status[0]=0xff;
;;;382    
;;;383    
;;;384    snmp_bat_number[1]=2;
;;;385    snmp_bat_voltage[1]=bat[1]._Ub;
;;;386    snmp_bat_part_voltage[1]=bat[1]._Ubm;
;;;387    snmp_bat_current[1]=bat[1]._Ib;
;;;388    snmp_bat_temperature[1]=bat[1]._Tb;
;;;389    if(bat[1]._nd) snmp_bat_temperature[1]=-1000;
;;;390    if(BAT_C_REAL[1]==0x5555)snmp_bat_capacity[1]=BAT_C_NOM[1];
;;;391    else snmp_bat_capacity[1]=BAT_C_REAL[1];
;;;392    snmp_bat_charge[1]=bat[1]._zar;
;;;393    snmp_bat_status[1]=bat[1]._av;
;;;394    if(BAT_IS_ON[1]!=bisON)snmp_bat_status[1]=0xff;
;;;395    #endif
;;;396    
;;;397    
;;;398    snmp_bps_number[0]=1;
;;;399    snmp_bps_voltage[0]=bps[0]._Uii;
;;;400    snmp_bps_current[0]=bps[0]._Ii;
;;;401    snmp_bps_temperature[0]=bps[0]._Ti;
;;;402    snmp_bps_stat[0]=bps[0]._av;
;;;403    if(!(NUMIST>0))snmp_bps_stat[0]=0xff;												//Байт состояния БПСа.
;;;404    
;;;405    /*if(St_[0]&(1<<2))snmp_bps_stat[0]=(1<<3); 							//авария по Umin
;;;406    else if(St_[0]&(1<<3))snmp_bps_stat[0]=(1<<2); 						//авария по Umax
;;;407    else if(bps[0]._av&(1<<0))snmp_bps_stat[0]=(1<<1); 						//авария по Tmax
;;;408    else if(St_[0]&(1<<5))snmp_bps_stat[0]=(1<<5); 						//заблокирован
;;;409    else if((!(St_[0]&0x3c))&&(!St&0x01)&&(!OFFBP1))snmp_bps_stat[0]=1; 		//Работает
;;;410    */
;;;411    
;;;412    snmp_bps_number[1]=2;
;;;413    snmp_bps_voltage[1]=bps[1]._Uii;
;;;414    snmp_bps_current[1]=bps[1]._Ii;
;;;415    snmp_bps_temperature[1]=bps[1]._Ti;
;;;416    snmp_bps_stat[1]=bps[1]._av;
;;;417    if(!(NUMIST>1))snmp_bps_stat[1]=0xff;												//Байт состояния БПСа.
;;;418    /*if(St_[1]&(1<<2))snmp_bps_stat[1]=(1<<3); 							//авария по Umin
;;;419    else if(St_[1]&(1<<3))snmp_bps_stat[1]=(1<<2); 						//авария по Umax
;;;420    else if(St_[1]&(1<<4))snmp_bps_stat[1]=(1<<1); 						//авария по Tmax
;;;421    else if(St_[1]&(1<<5))snmp_bps_stat[1]=(1<<5); 						//заблокирован
;;;422    else if((!(St_[1]&0x3c))&&(!St&0x01)&&(!OFFBP2))snmp_bps_stat[1]=1; 		//Работает
;;;423    */
;;;424    
;;;425    snmp_bps_number[2]=3;
;;;426    snmp_bps_voltage[2]=bps[2]._Uii;
;;;427    snmp_bps_current[2]=bps[2]._Ii;
;;;428    snmp_bps_temperature[2]=bps[2]._Ti;
;;;429    snmp_bps_stat[2]=bps[2]._av;
;;;430    if(!(NUMIST>2))snmp_bps_stat[2]=0xff;
;;;431    
;;;432    snmp_bps_number[3]=4;
;;;433    snmp_bps_voltage[3]=bps[3]._Uii;
;;;434    snmp_bps_current[3]=bps[3]._Ii;
;;;435    snmp_bps_temperature[3]=bps[3]._Ti;
;;;436    snmp_bps_stat[3]=bps[3]._av;
;;;437    if(!(NUMIST>3))snmp_bps_stat[3]=0xff;
;;;438    
;;;439    snmp_bps_number[4]=5;
;;;440    snmp_bps_voltage[4]=bps[4]._Uii;
;;;441    snmp_bps_current[4]=bps[4]._Ii;
;;;442    snmp_bps_temperature[4]=bps[4]._Ti;
;;;443    snmp_bps_stat[4]=bps[4]._av;
;;;444    if(!(NUMIST>4))snmp_bps_stat[4]=0xff;
;;;445    
;;;446    snmp_bps_number[5]=6;
;;;447    snmp_bps_voltage[5]=bps[5]._Uii;
;;;448    snmp_bps_current[5]=bps[5]._Ii;
;;;449    snmp_bps_temperature[5]=bps[5]._Ti;
;;;450    snmp_bps_stat[5]=bps[5]._av;
;;;451    if(!(NUMIST>5))snmp_bps_stat[5]=0xff;
;;;452    
;;;453    snmp_bps_number[6]=7;
;;;454    snmp_bps_voltage[6]=bps[6]._Uii;
;;;455    snmp_bps_current[6]=bps[6]._Ii;
;;;456    snmp_bps_temperature[6]=bps[6]._Ti;
;;;457    snmp_bps_stat[6]=bps[6]._av;
;;;458    if(!(NUMIST>6))snmp_bps_stat[6]=0xff;
;;;459    
;;;460    snmp_bps_number[7]=8;
;;;461    snmp_bps_voltage[7]=bps[7]._Uii;
;;;462    snmp_bps_current[7]=bps[7]._Ii;
;;;463    snmp_bps_temperature[7]=bps[7]._Ti;
;;;464    snmp_bps_stat[7]=bps[7]._av;
;;;465    if(!(NUMIST>7))snmp_bps_stat[7]=0xff;
;;;466    
;;;467    
;;;468    
;;;469    snmp_inv_number[0]=1;
;;;470    snmp_inv_voltage[0]=inv[0]._Uio;
;;;471    snmp_inv_current[0]=inv[0]._Ii;
;;;472    snmp_inv_temperature[0]=inv[0]._Ti;
;;;473    snmp_inv_stat[0]=inv[0]._flags_tm;
;;;474    
;;;475    snmp_inv_number[1]=2;
;;;476    snmp_inv_voltage[1]=inv[1]._Uio;
;;;477    snmp_inv_current[1]=inv[1]._Ii;
;;;478    snmp_inv_temperature[1]=inv[1]._Ti;
;;;479    snmp_inv_stat[1]=inv[1]._flags_tm;
;;;480    
;;;481    snmp_inv_number[2]=3;
;;;482    snmp_inv_voltage[2]=inv[2]._Uio;
;;;483    snmp_inv_current[2]=inv[2]._Ii;
;;;484    snmp_inv_temperature[2]=inv[2]._Ti;
;;;485    snmp_inv_stat[2]=inv[2]._flags_tm;
;;;486    
;;;487    
;;;488    
;;;489    
;;;490    					  
;;;491    snmp_sk_number[0]=1;
;;;492    memcpy(&snmp_sk_name[0][0],"Door",10);
;;;493    if(sk_stat[0]==ssON) snmp_sk_aktiv[0]=1;
;;;494    else snmp_sk_aktiv[0]=0;
;;;495    if(!SK_SIGN[0])snmp_sk_alarm_aktiv[0]=1;
;;;496    else snmp_sk_alarm_aktiv[0]=0;
;;;497    if(sk_av_stat[0]==sasON)	snmp_sk_alarm[0]=1;
;;;498    else                     snmp_sk_alarm[0]=0;
;;;499    
;;;500    
;;;501    snmp_sk_number[1]=2;
;;;502    memcpy(&snmp_sk_name[1][0],"Smoke",10);
;;;503    if(sk_stat[1]==ssON) snmp_sk_aktiv[1]=1;
;;;504    else snmp_sk_aktiv[1]=0;
;;;505    if(!SK_SIGN[1])snmp_sk_alarm_aktiv[1]=1;
;;;506    else snmp_sk_alarm_aktiv[1]=0;
;;;507    if(sk_av_stat[1]==sasON)	snmp_sk_alarm[1]=1;
;;;508    else                     snmp_sk_alarm[1]=0;
;;;509    
;;;510    snmp_sk_number[2]=3;
;;;511    memcpy(&snmp_sk_name[2][0],"Shock",10);
;;;512    if(sk_stat[2]==ssON) snmp_sk_aktiv[2]=1;
;;;513    else snmp_sk_aktiv[2]=0;
;;;514    if(!SK_SIGN[2])snmp_sk_alarm_aktiv[2]=1;
;;;515    else snmp_sk_alarm_aktiv[2]=0;
;;;516    if(sk_av_stat[2]==sasON)	snmp_sk_alarm[2]=1;
;;;517    else                     snmp_sk_alarm[2]=0;
;;;518    
;;;519    snmp_sk_number[3]=4;
;;;520    memcpy(&snmp_sk_name[3][0],"     ",10);
;;;521    if(sk_stat[3]==ssON) snmp_sk_aktiv[3]=1;
;;;522    else snmp_sk_aktiv[3]=0;
;;;523    if(!SK_SIGN[3])snmp_sk_alarm_aktiv[3]=1;
;;;524    else snmp_sk_alarm_aktiv[3]=0;
;;;525    if(sk_av_stat[3]==sasON)	snmp_sk_alarm[3]=1;
;;;526    else                     snmp_sk_alarm[3]=0;
;;;527    
;;;528    
;;;529    if(makb[0]._cnt>8) snmp_makb_connect_status[0]=1;
;;;530    else if(makb[0]._cnt<2) snmp_makb_connect_status[0]=0;
;;;531    if(makb[1]._cnt>8) snmp_makb_connect_status[1]=1;
;;;532    else if(makb[1]._cnt<2) snmp_makb_connect_status[1]=0;
;;;533    if(makb[2]._cnt>8) snmp_makb_connect_status[2]=1;
;;;534    else if(makb[2]._cnt<2) snmp_makb_connect_status[2]=0;
;;;535    if(makb[3]._cnt>8) snmp_makb_connect_status[3]=1;
;;;536    else if(makb[3]._cnt<2) snmp_makb_connect_status[3]=0;
;;;537    
;;;538    snmp_makb_voltage0[0]=makb[0]._Ub[0];
;;;539    snmp_makb_voltage1[0]=makb[0]._Ub[1];
;;;540    snmp_makb_voltage2[0]=makb[0]._Ub[2];
;;;541    snmp_makb_voltage3[0]=makb[0]._Ub[3];
;;;542    snmp_makb_voltage4[0]=makb[0]._Ub[4];
;;;543    snmp_makb_voltage0[1]=makb[1]._Ub[0];
;;;544    snmp_makb_voltage1[1]=makb[1]._Ub[1];
;;;545    snmp_makb_voltage2[1]=makb[1]._Ub[2];
;;;546    snmp_makb_voltage3[1]=makb[1]._Ub[3];
;;;547    snmp_makb_voltage4[1]=makb[1]._Ub[4];
;;;548    snmp_makb_voltage0[2]=makb[2]._Ub[0];
;;;549    snmp_makb_voltage1[2]=makb[2]._Ub[1];
;;;550    snmp_makb_voltage2[2]=makb[2]._Ub[2];
;;;551    snmp_makb_voltage3[2]=makb[2]._Ub[3];
;;;552    snmp_makb_voltage4[2]=makb[2]._Ub[4];
;;;553    snmp_makb_voltage0[3]=makb[3]._Ub[0];
;;;554    snmp_makb_voltage1[3]=makb[3]._Ub[1];
;;;555    snmp_makb_voltage2[3]=makb[3]._Ub[2];
;;;556    snmp_makb_voltage3[3]=makb[3]._Ub[3];
;;;557    snmp_makb_voltage4[3]=makb[3]._Ub[4];
;;;558    
;;;559    snmp_makb_temper0[0]=makb[0]._T[0];
;;;560    snmp_makb_temper1[0]=makb[0]._T[1];
;;;561    snmp_makb_temper2[0]=makb[0]._T[2];
;;;562    snmp_makb_temper3[0]=makb[0]._T[3];
;;;563    snmp_makb_temper4[0]=makb[0]._T[4];
;;;564    snmp_makb_temper0[1]=makb[1]._T[0];
;;;565    snmp_makb_temper1[1]=makb[1]._T[1];
;;;566    snmp_makb_temper2[1]=makb[1]._T[2];
;;;567    snmp_makb_temper3[1]=makb[1]._T[3];
;;;568    snmp_makb_temper4[1]=makb[1]._T[4];
;;;569    snmp_makb_temper0[2]=makb[2]._T[0];
;;;570    snmp_makb_temper1[2]=makb[2]._T[1];
;;;571    snmp_makb_temper2[2]=makb[2]._T[2];
;;;572    snmp_makb_temper3[2]=makb[2]._T[3];
;;;573    snmp_makb_temper4[2]=makb[2]._T[4];
;;;574    snmp_makb_temper0[3]=makb[3]._T[0];
;;;575    snmp_makb_temper1[3]=makb[3]._T[1];
;;;576    snmp_makb_temper2[3]=makb[3]._T[2];
;;;577    snmp_makb_temper3[3]=makb[3]._T[3];
;;;578    snmp_makb_temper4[3]=makb[3]._T[4];
;;;579    
;;;580    snmp_makb_temper0_stat[0]=makb[0]._T_nd[0];
;;;581    snmp_makb_temper1_stat[0]=makb[0]._T_nd[1];
;;;582    snmp_makb_temper2_stat[0]=makb[0]._T_nd[2];
;;;583    snmp_makb_temper3_stat[0]=makb[0]._T_nd[3];
;;;584    snmp_makb_temper4_stat[0]=makb[0]._T_nd[4];
;;;585    snmp_makb_temper0_stat[1]=makb[1]._T_nd[0];
;;;586    snmp_makb_temper1_stat[1]=makb[1]._T_nd[1];
;;;587    snmp_makb_temper2_stat[1]=makb[1]._T_nd[2];
;;;588    snmp_makb_temper3_stat[1]=makb[1]._T_nd[3];
;;;589    snmp_makb_temper4_stat[1]=makb[1]._T_nd[4];
;;;590    snmp_makb_temper0_stat[2]=makb[2]._T_nd[0];
;;;591    snmp_makb_temper1_stat[2]=makb[2]._T_nd[1];
;;;592    snmp_makb_temper2_stat[2]=makb[2]._T_nd[2];
;;;593    snmp_makb_temper3_stat[2]=makb[2]._T_nd[3];
;;;594    snmp_makb_temper4_stat[2]=makb[2]._T_nd[4];
;;;595    snmp_makb_temper0_stat[3]=makb[3]._T_nd[0];
;;;596    snmp_makb_temper1_stat[3]=makb[3]._T_nd[1];
;;;597    snmp_makb_temper2_stat[3]=makb[3]._T_nd[2];
;;;598    snmp_makb_temper3_stat[3]=makb[3]._T_nd[3];
;;;599    snmp_makb_temper4_stat[3]=makb[3]._T_nd[4];
;;;600    
;;;601    
;;;602    snmp_klimat_box_temper=t_box;
;;;603    snmp_klimat_settings_box_alarm=TBOXMAX;
;;;604    snmp_klimat_settings_vent_on=TBOXVENTON;
;;;605    snmp_klimat_settings_vent_off=TBOXVENTOFF;
;;;606    snmp_klimat_settings_warm_on=TBOXWARMON;
;;;607    snmp_klimat_settings_warm_off=TBOXWARMOFF;
;;;608    snmp_klimat_settings_load_on=TLOADENABLE;
;;;609    snmp_klimat_settings_load_off=TLOADDISABLE;
;;;610    snmp_klimat_settings_batt_on=TBATENABLE;
;;;611    snmp_klimat_settings_batt_off=TBATDISABLE;
;;;612    
;;;613    snmp_dt_ext=t_ext[0];
;;;614    snmp_dt_msan=t_ext[1];
;;;615    snmp_dt_epu=t_ext[2];
;;;616    
;;;617    /*
;;;618    snmp_bat_voltage=Ubat;
;;;619    snmp_bat_current=Ibat;
;;;620    snmp_bat_temperature=t_b;
;;;621    if(BAT_C_REAL==0x5555)
;;;622    	{
;;;623    	snmp_bat_capacity=BAT_C_NOM*10;												    11
;;;624    	}
;;;625    else
;;;626    	{
;;;627    	snmp_bat_capacity=BAT_C_REAL;
;;;628    	}
;;;629    snmp_bat_charge=zar_percent;
;;;630    snmp_bat_status=0;
;;;631    if(St&0x02)snmp_bat_status|=0x01;
;;;632    if(Ibat>0)snmp_bat_status|=0x02;
;;;633    
;;;634    
;;;635    if(spc_stat==spc_OFF) snmp_spc_stat=0;
;;;636    else if(spc_stat==spc_KE) snmp_spc_stat=1;
;;;637    else if(spc_stat==spc_VZ) snmp_spc_stat=10;
;;;638    
;;;639    
;;;640    snmp_main_bps=MAIN_IST+1;
;;;641    */
;;;642    snmp_zv_en=ZV_ON;
;;;643    snmp_alarm_auto_disable=AV_OFF_AVT;
;;;644    snmp_bat_test_time=TBAT;
;;;645    snmp_u_max=UMAX;
;;;646    snmp_u_min=UB20-DU;
;;;647    snmp_u_0_grad=UB0;
;;;648    snmp_u_20_grad=UB20;
;;;649    snmp_u_sign=USIGN;
;;;650    snmp_u_min_power=UMN;
;;;651    snmp_u_withouth_bat=U0B;
;;;652    snmp_control_current=IKB;
;;;653    snmp_max_charge_current=IZMAX;
;;;654    snmp_max_current=IMAX;
;;;655    snmp_min_current=IMIN;
;;;656    //snmp_max_current_koef=KIMAX;
;;;657    snmp_uvz=UVZ;
;;;658    snmp_powerup_psu_timeout=TZAS;
;;;659    snmp_max_temperature=TMAX;
;;;660    snmp_tsign_bat=TBATSIGN; 
;;;661    snmp_tmax_bat=TBATMAX;
;;;662    snmp_tsign_bps=TSIGN;
;;;663    snmp_tmax_bps=TMAX;
;;;664    snmp_bat_part_alarm=UBM_AV; 
;;;665    snmp_power_cnt_adress=POWER_CNT_ADRESS;
;;;666    
;;;667    for(i=0;i<12;i++)
;;;668    	{
;;;669    	snmp_avt_number[i]=i+1;
;;;670    	if(avt_stat[i]==avtOFF)snmp_avt_stat[i]=0;
;;;671    	else snmp_avt_stat[i]=1;
;;;672    	}
;;;673    
;;;674    snmp_dt_number[0]=1;
;;;675    snmp_dt_number[1]=2;
;;;676    snmp_dt_number[2]=3;
;;;677    //snmp_dt_number[3]=4;
;;;678    snmp_dt_temper[0]=t_ext[0];
;;;679    snmp_dt_temper[1]=t_ext[1];
;;;680    snmp_dt_temper[2]=t_ext[2];
;;;681    //snmp_dt_temper[3]=t_ext[3];
;;;682    snmp_dt_error[0]=ND_EXT[0];
;;;683    if(NUMDT<1)snmp_dt_error[0]=0xff;
;;;684    snmp_dt_error[1]=ND_EXT[1];
;;;685    if(NUMDT<2)snmp_dt_error[0]=0xff;
;;;686    snmp_dt_error[2]=ND_EXT[2];
;;;687    if(NUMDT<3)snmp_dt_error[0]=0xff;
;;;688    //snmp_dt_error[3]=ND_EXT[3];
;;;689    if(NUMDT<4)snmp_dt_error[0]=0xff;
;;;690    
;;;691    /*
;;;692    //Литиевые батареи
;;;693    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;694    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;695    snmp_lakb_voltage[0]=lakb[0]._tot_bat_volt;				//Напряжение ЛАКБ
;;;696    snmp_lakb_voltage[1]=lakb[1]._tot_bat_volt;				//Напряжение ЛАКБ
;;;697    snmp_lakb_max_cell_voltage[0]=lakb[0]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;698    snmp_lakb_max_cell_voltage[1]=lakb[1]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;699    snmp_lakb_min_cell_voltage[0]=lakb[0]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;700    snmp_lakb_min_cell_voltage[1]=lakb[1]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;701    snmp_lakb_max_cell_temperature[0]=lakb[0]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;702    snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;703    snmp_lakb_min_cell_temperature[0]=lakb[0]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;704    snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;705    snmp_lakb_ch_curr[0]=lakb[0]._ch_curr;					//Ток заряда ЛАКБ
;;;706    snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;707    snmp_lakb_dsch_curr[0]=lakb[0]._dsch_curr;				//Ток разряда ЛАКБ
;;;708    snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;709    snmp_lakb_rat_cap[0]=lakb[0]._rat_cap;					//Номинальная емкость ЛАКБ
;;;710    snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;711    snmp_lakb_soh[0]=lakb[0]._s_o_h;						//Остаточная емкость ЛАКБ
;;;712    snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;713    snmp_lakb_soc[0]=lakb[0]._s_o_c;						//Заряд ЛАКБ
;;;714    snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;715    snmp_lakb_cclv[0]=lakb[0]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;716    snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;717    snmp_lakb_rbt[0]=lakb[0]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;718    snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;719    snmp_lakb_flags1[0]=lakb[0]._flags1;					//Первый флаг состояния ЛАКБ
;;;720    snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;721    snmp_lakb_flags2[0]=lakb[0]._flags2;					//Второй флаг состояния ЛАКБ
;;;722    snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ */
;;;723    
;;;724    //Литиевые батареи
;;;725    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;726    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;727    snmp_lakb_number[2]=3;								//Номер ЛАКБ
;;;728    snmp_lakb_number[3]=4;								//Номер ЛАКБ
;;;729    snmp_lakb_number[4]=5;								//Номер ЛАКБ
;;;730    snmp_lakb_number[5]=6;								//Номер ЛАКБ
;;;731    snmp_lakb_number[6]=7;								//Номер ЛАКБ
;;;732    
;;;733    for (i=0;i<3;i++)
;;;734    	{
;;;735    	snmp_lakb_voltage[i]=lakb[i]._tot_bat_volt;				//Напряжение ЛАКБ
;;;736    	snmp_lakb_max_cell_voltage[i]=lakb[i]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;737    	snmp_lakb_min_cell_voltage[i]=lakb[i]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;738    	snmp_lakb_max_cell_temperature[i]=lakb[i]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;739    	//snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;740    	snmp_lakb_min_cell_temperature[i]=lakb[i]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;741    	//snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;742    	snmp_lakb_ch_curr[i]=lakb[i]._ch_curr;					//Ток заряда ЛАКБ
;;;743    	//snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;744    	snmp_lakb_dsch_curr[i]=lakb[i]._dsch_curr;				//Ток разряда ЛАКБ
;;;745    	//snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;746    	snmp_lakb_rat_cap[i]=lakb[i]._rat_cap;					//Номинальная емкость ЛАКБ
;;;747    	//snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;748    	snmp_lakb_soh[i]=lakb[i]._s_o_h;						//Остаточная емкость ЛАКБ
;;;749    	//snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;750    	snmp_lakb_soc[i]=lakb[i]._s_o_c;						//Заряд ЛАКБ
;;;751    	//snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;752    	snmp_lakb_cclv[i]=lakb[i]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;753    	//snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;754    	snmp_lakb_rbt[i]=lakb[i]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;755    	//snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;756    	snmp_lakb_flags1[i]=lakb[i]._flags1;					//Первый флаг состояния ЛАКБ
;;;757    	//snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;758    	snmp_lakb_flags2[i]=lakb[i]._flags2;					//Второй флаг состояния ЛАКБ
;;;759    	//snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ
;;;760    
;;;761    	snmp_lakb_cell_temperature_1[i]= lakb[i]._cell_temp_1;
;;;762    	snmp_lakb_cell_temperature_2[i]= lakb[i]._cell_temp_2;
;;;763    	snmp_lakb_cell_temperature_3[i]= lakb[i]._cell_temp_3;
;;;764    	snmp_lakb_cell_temperature_4[i]= lakb[i]._cell_temp_4;
;;;765    	snmp_lakb_cell_temperature_ambient[i]=lakb[i]._cell_temp_ambient;
;;;766    	snmp_lakb_cell_temperature_power[i]=lakb[i]._cell_temp_power;
;;;767    	}
;;;768    
;;;769    for (i=0;i<7;i++)
;;;770    {
;;;771    /*
;;;772    snmp_lakb_damp1[i][0]=ABCDEF[(lakb_damp[i][0])>>4];			//Дамп
;;;773    snmp_lakb_damp1[i][1]=ABCDEF[(lakb_damp[i][0])&0x0f];			//Дамп
;;;774    snmp_lakb_damp1[i][2]=' ';
;;;775    snmp_lakb_damp1[i][3]=ABCDEF[(lakb_damp[i][1])>>4];			//Дамп
;;;776    snmp_lakb_damp1[i][4]=ABCDEF[(lakb_damp[i][1])&0x0f];			//Дамп
;;;777    snmp_lakb_damp1[i][5]=' ';
;;;778    snmp_lakb_damp1[i][6]=ABCDEF[(lakb_damp[i][2])>>4];			//Дамп
;;;779    snmp_lakb_damp1[i][7]=ABCDEF[(lakb_damp[i][2])&0x0f];			//Дамп
;;;780    snmp_lakb_damp1[i][8]=' ';
;;;781    snmp_lakb_damp1[i][9]=ABCDEF[(lakb_damp[i][3])>>4];			//Дамп
;;;782    snmp_lakb_damp1[i][10]=ABCDEF[(lakb_damp[i][3])&0x0f];			//Дамп
;;;783    snmp_lakb_damp1[i][11]=' ';
;;;784    snmp_lakb_damp1[i][12]=ABCDEF[(lakb_damp[i][4])>>4];			//Дамп
;;;785    snmp_lakb_damp1[i][13]=ABCDEF[(lakb_damp[i][4])&0x0f];			//Дамп
;;;786    snmp_lakb_damp1[i][14]=' '; 
;;;787    snmp_lakb_damp1[i][15]=ABCDEF[(lakb_damp[i][5])>>4];			//Дамп
;;;788    snmp_lakb_damp1[i][16]=ABCDEF[(lakb_damp[i][5])&0x0f];			//Дамп
;;;789    snmp_lakb_damp1[i][17]=' ';
;;;790    snmp_lakb_damp1[i][18]=ABCDEF[(lakb_damp[i][6])>>4];			//Дамп
;;;791    snmp_lakb_damp1[i][19]=ABCDEF[(lakb_damp[i][6])&0x0f];			//Дамп
;;;792    snmp_lakb_damp1[i][20]=' ';
;;;793    snmp_lakb_damp1[i][21]=ABCDEF[(lakb_damp[i][7])>>4];			//Дамп
;;;794    snmp_lakb_damp1[i][22]=ABCDEF[(lakb_damp[i][7])&0x0f];			//Дамп
;;;795    snmp_lakb_damp1[i][23]=' ';
;;;796    snmp_lakb_damp1[i][24]=ABCDEF[(lakb_damp[i][8])>>4];			//Дамп
;;;797    snmp_lakb_damp1[i][25]=ABCDEF[(lakb_damp[i][8])&0x0f];			//Дамп
;;;798    snmp_lakb_damp1[i][26]=' ';
;;;799    snmp_lakb_damp1[i][27]=ABCDEF[(lakb_damp[i][9])>>4];			//Дамп
;;;800    snmp_lakb_damp1[i][28]=ABCDEF[(lakb_damp[i][9])&0x0f];			//Дамп
;;;801    snmp_lakb_damp1[i][29]=0; 
;;;802    
;;;803    snmp_lakb_damp1[i][30]=ABCDEF[(lakb_damp[i][10])>>4];			//Дамп
;;;804    snmp_lakb_damp1[i][31]=ABCDEF[(lakb_damp[i][10])&0x0f];			//Дамп
;;;805    snmp_lakb_damp1[i][32]=' ';
;;;806    snmp_lakb_damp1[i][33]=ABCDEF[(lakb_damp[i][11])>>4];			//Дамп
;;;807    snmp_lakb_damp1[i][34]=ABCDEF[(lakb_damp[i][11])&0x0f];			//Дамп
;;;808    snmp_lakb_damp1[i][35]=' ';
;;;809    snmp_lakb_damp1[i][36]=ABCDEF[(lakb_damp[i][12])>>4];			//Дамп
;;;810    snmp_lakb_damp1[i][37]=ABCDEF[(lakb_damp[i][12])&0x0f];			//Дамп
;;;811    snmp_lakb_damp1[i][38]=' ';
;;;812    snmp_lakb_damp1[i][39]=ABCDEF[(lakb_damp[i][13])>>4];			//Дамп
;;;813    snmp_lakb_damp1[i][40]=ABCDEF[(lakb_damp[i][13])&0x0f];			//Дамп
;;;814    snmp_lakb_damp1[i][41]=' ';
;;;815    snmp_lakb_damp1[i][42]=ABCDEF[(lakb_damp[i][14])>>4];			//Дамп
;;;816    snmp_lakb_damp1[i][43]=ABCDEF[(lakb_damp[i][14])&0x0f];			//Дамп
;;;817    snmp_lakb_damp1[i][44]=' '; 
;;;818    snmp_lakb_damp1[i][45]=ABCDEF[(lakb_damp[i][15])>>4];			//Дамп
;;;819    snmp_lakb_damp1[i][46]=ABCDEF[(lakb_damp[i][15])&0x0f];			//Дамп
;;;820    snmp_lakb_damp1[i][47]=' ';
;;;821    snmp_lakb_damp1[i][48]=ABCDEF[(lakb_damp[i][16])>>4];			//Дамп
;;;822    snmp_lakb_damp1[i][49]=ABCDEF[(lakb_damp[i][16])&0x0f];			//Дамп
;;;823    snmp_lakb_damp1[i][50]=' ';
;;;824    snmp_lakb_damp1[i][51]=ABCDEF[(lakb_damp[i][17])>>4];			//Дамп
;;;825    snmp_lakb_damp1[i][52]=ABCDEF[(lakb_damp[i][17])&0x0f];			//Дамп
;;;826    snmp_lakb_damp1[i][53]=' ';
;;;827    snmp_lakb_damp1[i][54]=ABCDEF[(lakb_damp[i][18])>>4];			//Дамп
;;;828    snmp_lakb_damp1[i][55]=ABCDEF[(lakb_damp[i][18])&0x0f];			//Дамп
;;;829    snmp_lakb_damp1[i][56]=' ';
;;;830    snmp_lakb_damp1[i][57]=ABCDEF[(lakb_damp[i][19])>>4];			//Дамп
;;;831    snmp_lakb_damp1[i][58]=ABCDEF[(lakb_damp[i][19])&0x0f];			//Дамп
;;;832    snmp_lakb_damp1[i][59]=0; 
;;;833    
;;;834    
;;;835    snmp_lakb_damp1[i][60]=ABCDEF[(lakb_damp[i][20])>>4];			//Дамп
;;;836    snmp_lakb_damp1[i][61]=ABCDEF[(lakb_damp[i][20])&0x0f];			//Дамп
;;;837    snmp_lakb_damp1[i][62]=' ';
;;;838    snmp_lakb_damp1[i][63]=ABCDEF[(lakb_damp[i][21])>>4];			//Дамп
;;;839    snmp_lakb_damp1[i][64]=ABCDEF[(lakb_damp[i][21])&0x0f];			//Дамп
;;;840    snmp_lakb_damp1[i][65]=' ';
;;;841    snmp_lakb_damp1[i][66]=ABCDEF[(lakb_damp[i][22])>>4];			//Дамп
;;;842    snmp_lakb_damp1[i][67]=ABCDEF[(lakb_damp[i][22])&0x0f];			//Дамп
;;;843    snmp_lakb_damp1[i][68]=' ';
;;;844    snmp_lakb_damp1[i][69]=ABCDEF[(lakb_damp[i][23])>>4];			//Дамп
;;;845    snmp_lakb_damp1[i][70]=ABCDEF[(lakb_damp[i][23])&0x0f];			//Дамп
;;;846    snmp_lakb_damp1[i][71]=' ';
;;;847    snmp_lakb_damp1[i][72]=ABCDEF[(lakb_damp[i][24])>>4];			//Дамп
;;;848    snmp_lakb_damp1[i][73]=ABCDEF[(lakb_damp[i][24])&0x0f];			//Дамп
;;;849    snmp_lakb_damp1[i][74]=' '; 
;;;850    snmp_lakb_damp1[i][75]=ABCDEF[(lakb_damp[i][25])>>4];			//Дамп
;;;851    snmp_lakb_damp1[i][76]=ABCDEF[(lakb_damp[i][25])&0x0f];			//Дамп
;;;852    snmp_lakb_damp1[i][77]=' ';
;;;853    snmp_lakb_damp1[i][78]=ABCDEF[(lakb_damp[i][26])>>4];			//Дамп
;;;854    snmp_lakb_damp1[i][79]=ABCDEF[(lakb_damp[i][26])&0x0f];			//Дамп
;;;855    snmp_lakb_damp1[i][80]=' ';
;;;856    snmp_lakb_damp1[i][81]=ABCDEF[(lakb_damp[i][27])>>4];			//Дамп
;;;857    snmp_lakb_damp1[i][82]=ABCDEF[(lakb_damp[i][27])&0x0f];			//Дамп
;;;858    snmp_lakb_damp1[i][83]=' ';
;;;859    snmp_lakb_damp1[i][84]=ABCDEF[(lakb_damp[i][28])>>4];			//Дамп
;;;860    snmp_lakb_damp1[i][85]=ABCDEF[(lakb_damp[i][28])&0x0f];			//Дамп
;;;861    snmp_lakb_damp1[i][86]=' ';
;;;862    snmp_lakb_damp1[i][87]=ABCDEF[(lakb_damp[i][29])>>4];			//Дамп
;;;863    snmp_lakb_damp1[i][88]=ABCDEF[(lakb_damp[i][29])&0x0f];			//Дамп
;;;864    snmp_lakb_damp1[i][89]=0;
;;;865    
;;;866    
;;;867    snmp_lakb_damp1[i][90]=ABCDEF[(lakb_damp[i][30])>>4];			//Дамп
;;;868    snmp_lakb_damp1[i][91]=ABCDEF[(lakb_damp[i][30])&0x0f];			//Дамп
;;;869    snmp_lakb_damp1[i][92]=' ';
;;;870    snmp_lakb_damp1[i][93]=ABCDEF[(lakb_damp[i][31])>>4];			//Дамп
;;;871    snmp_lakb_damp1[i][94]=ABCDEF[(lakb_damp[i][31])&0x0f];			//Дамп
;;;872    snmp_lakb_damp1[i][95]=' ';
;;;873    snmp_lakb_damp1[i][96]=ABCDEF[(lakb_damp[i][32])>>4];			//Дамп
;;;874    snmp_lakb_damp1[i][97]=ABCDEF[(lakb_damp[i][32])&0x0f];			//Дамп
;;;875    snmp_lakb_damp1[i][98]=' ';
;;;876    snmp_lakb_damp1[i][99]=ABCDEF[(lakb_damp[i][33])>>4];			//Дамп
;;;877    snmp_lakb_damp1[i][100]=ABCDEF[(lakb_damp[i][33])&0x0f];			//Дамп
;;;878    snmp_lakb_damp1[i][101]=' ';
;;;879    snmp_lakb_damp1[i][102]=ABCDEF[(lakb_damp[i][34])>>4];			//Дамп
;;;880    snmp_lakb_damp1[i][103]=ABCDEF[(lakb_damp[i][34])&0x0f];			//Дамп
;;;881    snmp_lakb_damp1[i][104]=' '; 
;;;882    snmp_lakb_damp1[i][105]=ABCDEF[(lakb_damp[i][35])>>4];			//Дамп
;;;883    snmp_lakb_damp1[i][106]=ABCDEF[(lakb_damp[i][35])&0x0f];			//Дамп
;;;884    snmp_lakb_damp1[i][107]=' ';
;;;885    snmp_lakb_damp1[i][108]=ABCDEF[(lakb_damp[i][36])>>4];			//Дамп
;;;886    snmp_lakb_damp1[i][109]=ABCDEF[(lakb_damp[i][36])&0x0f];			//Дамп
;;;887    snmp_lakb_damp1[i][110]=' ';
;;;888    snmp_lakb_damp1[i][111]=ABCDEF[(lakb_damp[i][37])>>4];			//Дамп
;;;889    snmp_lakb_damp1[i][112]=ABCDEF[(lakb_damp[i][37])&0x0f];			//Дамп
;;;890    snmp_lakb_damp1[i][113]=' ';
;;;891    snmp_lakb_damp1[i][114]=ABCDEF[(lakb_damp[i][38])>>4];			//Дамп
;;;892    snmp_lakb_damp1[i][115]=ABCDEF[(lakb_damp[i][38])&0x0f];			//Дамп
;;;893    snmp_lakb_damp1[i][116]=' ';
;;;894    snmp_lakb_damp1[i][117]=ABCDEF[(lakb_damp[i][39])>>4];			//Дамп
;;;895    snmp_lakb_damp1[i][118]=ABCDEF[(lakb_damp[i][39])&0x0f];			//Дамп
;;;896    snmp_lakb_damp1[i][119]=0; 
;;;897     
;;;898    
;;;899    snmp_lakb_damp1[i][120]=ABCDEF[(lakb_damp[i][40])>>4];			//Дамп
;;;900    snmp_lakb_damp1[i][121]=ABCDEF[(lakb_damp[i][40])&0x0f];			//Дамп
;;;901    snmp_lakb_damp1[i][122]=' ';
;;;902    snmp_lakb_damp1[i][123]=ABCDEF[(lakb_damp[i][41])>>4];			//Дамп
;;;903    snmp_lakb_damp1[i][124]=ABCDEF[(lakb_damp[i][41])&0x0f];			//Дамп
;;;904    snmp_lakb_damp1[i][125]=' ';
;;;905    snmp_lakb_damp1[i][126]=ABCDEF[(lakb_damp[i][42])>>4];			//Дамп
;;;906    snmp_lakb_damp1[i][127]=ABCDEF[(lakb_damp[i][42])&0x0f];			//Дамп
;;;907    snmp_lakb_damp1[i][128]=' ';
;;;908    snmp_lakb_damp1[i][129]=ABCDEF[(lakb_damp[i][43])>>4];			//Дамп
;;;909    snmp_lakb_damp1[i][130]=ABCDEF[(lakb_damp[i][43])&0x0f];			//Дамп
;;;910    snmp_lakb_damp1[i][131]=' ';
;;;911    snmp_lakb_damp1[i][132]=ABCDEF[(lakb_damp[i][44])>>4];			//Дамп
;;;912    snmp_lakb_damp1[i][133]=ABCDEF[(lakb_damp[i][44])&0x0f];			//Дамп
;;;913    snmp_lakb_damp1[i][134]=' '; 
;;;914    snmp_lakb_damp1[i][135]=ABCDEF[(lakb_damp[i][45])>>4];			//Дамп
;;;915    snmp_lakb_damp1[i][136]=ABCDEF[(lakb_damp[i][45])&0x0f];			//Дамп
;;;916    snmp_lakb_damp1[i][137]=' ';
;;;917    snmp_lakb_damp1[i][138]=ABCDEF[(lakb_damp[i][46])>>4];			//Дамп
;;;918    snmp_lakb_damp1[i][139]=ABCDEF[(lakb_damp[i][46])&0x0f];			//Дамп
;;;919    snmp_lakb_damp1[i][140]=' ';
;;;920    snmp_lakb_damp1[i][141]=ABCDEF[(lakb_damp[i][47])>>4];			//Дамп
;;;921    snmp_lakb_damp1[i][142]=ABCDEF[(lakb_damp[i][47])&0x0f];			//Дамп
;;;922    snmp_lakb_damp1[i][143]=' ';
;;;923    snmp_lakb_damp1[i][144]=ABCDEF[(lakb_damp[i][48])>>4];			//Дамп
;;;924    snmp_lakb_damp1[i][145]=ABCDEF[(lakb_damp[i][48])&0x0f];			//Дамп
;;;925    snmp_lakb_damp1[i][146]=' ';
;;;926    snmp_lakb_damp1[i][147]=ABCDEF[(lakb_damp[i][49])>>4];			//Дамп
;;;927    snmp_lakb_damp1[i][148]=ABCDEF[(lakb_damp[i][49])&0x0f];			//Дамп
;;;928    snmp_lakb_damp1[i][149]=0;  */
;;;929    }
;;;930    
;;;931    #ifdef UKU_TELECORE2017
;;;932    snmp_warm_sign=0;
;;;933    if(TELECORE2017_KLIMAT_WARM_SIGNAL==0) snmp_warm_sign=2;
;;;934    else if(TELECORE2017_KLIMAT_WARM_SIGNAL==1) snmp_warm_sign=1;
;;;935    snmp_cool_sign=0;
;;;936    if(TELECORE2017_KLIMAT_VENT_SIGNAL==0) snmp_cool_sign=2;
;;;937    else if(TELECORE2017_KLIMAT_VENT_SIGNAL==1) snmp_cool_sign=1;
;;;938    snmp_warm_on_temper=(signed char)TELECORE2017_KLIMAT_WARM_ON; 
;;;939    snmp_warm_off_temper=(signed char)TELECORE2017_KLIMAT_WARM_OFF;
;;;940    snmp_warm_q=(signed char)TELECORE2017_KLIMAT_CAP;	
;;;941    snmp_cool_20_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON20;
;;;942    snmp_cool_40_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON40;
;;;943    snmp_cool_60_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON60;
;;;944    snmp_cool_80_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON80;
;;;945    snmp_cool_100_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON100;
;;;946    snmp_cool_20_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON20;
;;;947    snmp_cool_40_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON40;
;;;948    snmp_cool_60_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON60;
;;;949    snmp_cool_80_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON80;
;;;950    snmp_cool_100_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON100;
;;;951    snmp_warm_stat=0;
;;;952    if(warm_stat_k==wsON) snmp_warm_stat=1;
;;;953    #endif
;;;954    }
;;;955    //-----------------------------------------------
                          ENDP

000012  0000              DCW      0x0000
                  |L8.20|
                          DCD      ||.data||

                          AREA ||area_number.9||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.9||, ||.text||
                  datatime2str PROC
;;;261    //-----------------------------------------------
;;;262    void snmp_data (void) 
000000  e92d5ff0          PUSH     {r4-r12,lr}
;;;263    {
;;;264    char i;
;;;265    
;;;266    snmp_mains_power_voltage=net_U;
000004  4683              MOV      r11,r0
000006  e9dd760a          LDRD     r7,r6,[sp,#0x28]
00000a  468a              MOV      r10,r1
00000c  4691              MOV      r9,r2
00000e  4698              MOV      r8,r3
;;;267    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;268    snmp_mains_power_frequency=net_F3;
000010  f04f0214          MOV      r2,#0x14
000014  a121              ADR      r1,|L9.156|
;;;269    #else
;;;270    snmp_mains_power_frequency=net_F;
;;;271    #endif
;;;272    snmp_mains_power_voltage_phaseA=net_Ua;
000016  4828              LDR      r0,|L9.184|
000018  f7fffffe          BL       __aeabi_memcpy
;;;273    snmp_mains_power_voltage_phaseB=net_Ub;
00001c  f04f040a          MOV      r4,#0xa
000020  fbbbf5f4          UDIV     r5,r11,r4
;;;274    snmp_mains_power_voltage_phaseC=net_Uc;
000024  fb04b115          MLS      r1,r4,r5,r11
;;;275    
;;;276    
;;;277    if(avar_stat&0x0001)snmp_mains_power_alarm=1;
000028  4823              LDR      r0,|L9.184|
;;;278    else snmp_mains_power_alarm=0;
00002a  f1010130          ADD      r1,r1,#0x30
00002e  7041              STRB     r1,[r0,#1]            ;277
000030  f1050530          ADD      r5,r5,#0x30           ;277
000034  7005              STRB     r5,[r0,#0]            ;277
000036  4921              LDR      r1,|L9.188|
000038  eb01018a          ADD      r1,r1,r10,LSL #2      ;277
;;;279    if(avar_stat&0x0001)snmp_mains_power_status=1;
00003c  880a              LDRH     r2,[r1,#0]
00003e  f8a02003          STRH     r2,[r0,#3]
;;;280    else snmp_mains_power_status=0;
000042  7889              LDRB     r1,[r1,#2]
;;;281    
;;;282    /*
;;;283    snmp_mains_power_status=0; 
;;;284    #if(UKU_VERSION==900)
;;;285    snmp_mains_power_status=2;
;;;286    #endif
;;;287    if(St&0x01)snmp_mains_power_status|=0x01;
;;;288    if(St&0x01)snmp_mains_power_alarm=1;
;;;289    
;;;290    
;;;291    
;;;292    
;;;293    
;;;294    
;;;295    for(i=0;i<snmp_numofevents;i++)event2snmp(i);
;;;296    //snmp_bpsnumber[0]=1;
;;;297    //snmp_bpsnumber[1]=2;
;;;298    
;;;299    
;;;300    snmp_sernum_lsb=0x1122;
;;;301    snmp_sernum_msb=0x3344;
;;;302    snmp_device_code=AUSW_MAIN;
;;;303    
;;;304    //memcpy(snmp_location,"lkhg;la",);
;;;305    
;;;306    
;;;307    snmp_numofbat=1;
;;;308    
;;;309    */
;;;310    snmp_sernum=AUSW_MAIN_NUMBER;
000044  7141              STRB     r1,[r0,#5]
000046  fbb9f1f4          UDIV     r1,r9,r4
00004a  fb049211          MLS      r2,r4,r1,r9
00004e  f1020230          ADD      r2,r2,#0x30
000052  7202              STRB     r2,[r0,#8]
;;;311    
;;;312    snmp_load_voltage=load_U;
000054  f1010130          ADD      r1,r1,#0x30
000058  71c1              STRB     r1,[r0,#7]
00005a  fbb8f1f4          UDIV     r1,r8,r4
;;;313    snmp_load_current=load_I;
00005e  fb048211          MLS      r2,r4,r1,r8
000062  f1020230          ADD      r2,r2,#0x30
;;;314    snmp_numofbat=NUMBAT;
000066  7302              STRB     r2,[r0,#0xc]
000068  f1010130          ADD      r1,r1,#0x30
00006c  72c1              STRB     r1,[r0,#0xb]
;;;315    snmp_numofbps=NUMIST;
00006e  fbb7f1f4          UDIV     r1,r7,r4
000072  fb047211          MLS      r2,r4,r1,r7
;;;316    snmp_numofinv=NUMINV;
000076  f1020230          ADD      r2,r2,#0x30
;;;317    snmp_numofavt=NUMAVT;
00007a  73c2              STRB     r2,[r0,#0xf]
00007c  f1010130          ADD      r1,r1,#0x30
;;;318    snmp_numofdt=NUMDT;
000080  7381              STRB     r1,[r0,#0xe]
000082  fbb6f1f4          UDIV     r1,r6,r4
;;;319    snmp_numofsk=NUMSK;
000086  fb046211          MLS      r2,r4,r1,r6
00008a  f1020230          ADD      r2,r2,#0x30
;;;320    snmp_numofevents=lc640_read_int(CNT_EVENT_LOG);
00008e  7482              STRB     r2,[r0,#0x12]
000090  f1010130          ADD      r1,r1,#0x30
000094  7441              STRB     r1,[r0,#0x11]
;;;321    
;;;322    snmp_energy_vvod_phase_a=Uvv_eb2[0];
000096  e8bd9ff0          POP      {r4-r12,pc}
;;;323    snmp_energy_vvod_phase_b=Uvv_eb2[1];
;;;324    snmp_energy_vvod_phase_c=Uvv_eb2[2];
;;;325    snmp_energy_pes_phase_a=Upes_eb2[0];
;;;326    snmp_energy_pes_phase_b=Upes_eb2[1];
;;;327    snmp_energy_pes_phase_c=Upes_eb2[2];
;;;328    
;;;329    #ifdef UKU_KONTUR
;;;330    snmp_energy_vvod_phase_a=Uvv0;
;;;331    snmp_energy_pes_phase_a=Uvv[1];
;;;332    #endif
;;;333    
;;;334    snmp_energy_total_energy=power_summary;
;;;335    snmp_energy_current_energy=power_current;
;;;336    snmp_energy_input_voltage=net_U;
;;;337    
;;;338    
;;;339    #ifdef UKU_ZVU
;;;340    snmp_bat_number[0]=1;
;;;341    snmp_bat_voltage[0]=out_U;
;;;342    snmp_bat_current[0]=Ib_ips_termokompensat;
;;;343    snmp_bat_rem_time[0]=bat_hndl_t_razr_min;
;;;344    if(Ib_ips_termokompensat>0)snmp_bat_rem_time[0]=-1;
;;;345    snmp_bat_temperature[0]=t_ext[0];
;;;346    if(ND_EXT[0])snmp_bat_temperature[0]=-1000;
;;;347    snmp_bat_capacity[0]=BAT_C_POINT_20;
;;;348    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;349    snmp_bat_status[0]=bat_ips._av&1;
;;;350    if(NUMBAT==0)snmp_bat_status[0]=0xff;
;;;351    #endif
;;;352    
;;;353    #ifndef UKU_ZVU
;;;354    snmp_bat_number[0]=1;
;;;355    snmp_bat_voltage[0]=bat[0]._Ub;
;;;356    snmp_bat_part_voltage[0]=bat[0]._Ubm;
;;;357    snmp_bat_current[0]=bat[0]._Ib;
;;;358    
;;;359    /*
;;;360    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;361    if(((AUSW_MAIN==22063)||(AUSW_MAIN==22023))&&(bps[8]._device==dIBAT_METR))
;;;362    	{
;;;363    	snmp_bat_current[0]=Ib_ips_termokompensat;
;;;364    	}
;;;365    #endif*/
;;;366    
;;;367    snmp_bat_temperature[0]=bat[0]._Tb;
;;;368    if(bat[0]._nd) snmp_bat_temperature[0]=-1000;
;;;369    
;;;370    if(BAT_C_REAL[0]==0x5555)snmp_bat_capacity[0]=BAT_C_NOM[0];
;;;371    else snmp_bat_capacity[0]=BAT_C_REAL[0];
;;;372    /*
;;;373    #ifdef UKU_ZVU
;;;374    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;375    
;;;376    #else
;;;377    snmp_bat_charge[0]=bat[0]._zar;
;;;378    #endif */
;;;379    snmp_bat_charge[0]=bat[0]._zar;
;;;380    snmp_bat_status[0]=bat[0]._av;
;;;381    if(BAT_IS_ON[0]!=bisON)snmp_bat_status[0]=0xff;
;;;382    
;;;383    
;;;384    snmp_bat_number[1]=2;
;;;385    snmp_bat_voltage[1]=bat[1]._Ub;
;;;386    snmp_bat_part_voltage[1]=bat[1]._Ubm;
;;;387    snmp_bat_current[1]=bat[1]._Ib;
;;;388    snmp_bat_temperature[1]=bat[1]._Tb;
;;;389    if(bat[1]._nd) snmp_bat_temperature[1]=-1000;
;;;390    if(BAT_C_REAL[1]==0x5555)snmp_bat_capacity[1]=BAT_C_NOM[1];
;;;391    else snmp_bat_capacity[1]=BAT_C_REAL[1];
;;;392    snmp_bat_charge[1]=bat[1]._zar;
;;;393    snmp_bat_status[1]=bat[1]._av;
;;;394    if(BAT_IS_ON[1]!=bisON)snmp_bat_status[1]=0xff;
;;;395    #endif
;;;396    
;;;397    
;;;398    snmp_bps_number[0]=1;
;;;399    snmp_bps_voltage[0]=bps[0]._Uii;
;;;400    snmp_bps_current[0]=bps[0]._Ii;
;;;401    snmp_bps_temperature[0]=bps[0]._Ti;
;;;402    snmp_bps_stat[0]=bps[0]._av;
;;;403    if(!(NUMIST>0))snmp_bps_stat[0]=0xff;												//Байт состояния БПСа.
;;;404    
;;;405    /*if(St_[0]&(1<<2))snmp_bps_stat[0]=(1<<3); 							//авария по Umin
;;;406    else if(St_[0]&(1<<3))snmp_bps_stat[0]=(1<<2); 						//авария по Umax
;;;407    else if(bps[0]._av&(1<<0))snmp_bps_stat[0]=(1<<1); 						//авария по Tmax
;;;408    else if(St_[0]&(1<<5))snmp_bps_stat[0]=(1<<5); 						//заблокирован
;;;409    else if((!(St_[0]&0x3c))&&(!St&0x01)&&(!OFFBP1))snmp_bps_stat[0]=1; 		//Работает
;;;410    */
;;;411    
;;;412    snmp_bps_number[1]=2;
;;;413    snmp_bps_voltage[1]=bps[1]._Uii;
;;;414    snmp_bps_current[1]=bps[1]._Ii;
;;;415    snmp_bps_temperature[1]=bps[1]._Ti;
;;;416    snmp_bps_stat[1]=bps[1]._av;
;;;417    if(!(NUMIST>1))snmp_bps_stat[1]=0xff;												//Байт состояния БПСа.
;;;418    /*if(St_[1]&(1<<2))snmp_bps_stat[1]=(1<<3); 							//авария по Umin
;;;419    else if(St_[1]&(1<<3))snmp_bps_stat[1]=(1<<2); 						//авария по Umax
;;;420    else if(St_[1]&(1<<4))snmp_bps_stat[1]=(1<<1); 						//авария по Tmax
;;;421    else if(St_[1]&(1<<5))snmp_bps_stat[1]=(1<<5); 						//заблокирован
;;;422    else if((!(St_[1]&0x3c))&&(!St&0x01)&&(!OFFBP2))snmp_bps_stat[1]=1; 		//Работает
;;;423    */
;;;424    
;;;425    snmp_bps_number[2]=3;
;;;426    snmp_bps_voltage[2]=bps[2]._Uii;
;;;427    snmp_bps_current[2]=bps[2]._Ii;
;;;428    snmp_bps_temperature[2]=bps[2]._Ti;
;;;429    snmp_bps_stat[2]=bps[2]._av;
;;;430    if(!(NUMIST>2))snmp_bps_stat[2]=0xff;
;;;431    
;;;432    snmp_bps_number[3]=4;
;;;433    snmp_bps_voltage[3]=bps[3]._Uii;
;;;434    snmp_bps_current[3]=bps[3]._Ii;
;;;435    snmp_bps_temperature[3]=bps[3]._Ti;
;;;436    snmp_bps_stat[3]=bps[3]._av;
;;;437    if(!(NUMIST>3))snmp_bps_stat[3]=0xff;
;;;438    
;;;439    snmp_bps_number[4]=5;
;;;440    snmp_bps_voltage[4]=bps[4]._Uii;
;;;441    snmp_bps_current[4]=bps[4]._Ii;
;;;442    snmp_bps_temperature[4]=bps[4]._Ti;
;;;443    snmp_bps_stat[4]=bps[4]._av;
;;;444    if(!(NUMIST>4))snmp_bps_stat[4]=0xff;
;;;445    
;;;446    snmp_bps_number[5]=6;
;;;447    snmp_bps_voltage[5]=bps[5]._Uii;
;;;448    snmp_bps_current[5]=bps[5]._Ii;
;;;449    snmp_bps_temperature[5]=bps[5]._Ti;
;;;450    snmp_bps_stat[5]=bps[5]._av;
;;;451    if(!(NUMIST>5))snmp_bps_stat[5]=0xff;
;;;452    
;;;453    snmp_bps_number[6]=7;
;;;454    snmp_bps_voltage[6]=bps[6]._Uii;
;;;455    snmp_bps_current[6]=bps[6]._Ii;
;;;456    snmp_bps_temperature[6]=bps[6]._Ti;
;;;457    snmp_bps_stat[6]=bps[6]._av;
;;;458    if(!(NUMIST>6))snmp_bps_stat[6]=0xff;
;;;459    
;;;460    snmp_bps_number[7]=8;
;;;461    snmp_bps_voltage[7]=bps[7]._Uii;
;;;462    snmp_bps_current[7]=bps[7]._Ii;
;;;463    snmp_bps_temperature[7]=bps[7]._Ti;
;;;464    snmp_bps_stat[7]=bps[7]._av;
;;;465    if(!(NUMIST>7))snmp_bps_stat[7]=0xff;
;;;466    
;;;467    
;;;468    
;;;469    snmp_inv_number[0]=1;
;;;470    snmp_inv_voltage[0]=inv[0]._Uio;
;;;471    snmp_inv_current[0]=inv[0]._Ii;
;;;472    snmp_inv_temperature[0]=inv[0]._Ti;
;;;473    snmp_inv_stat[0]=inv[0]._flags_tm;
;;;474    
;;;475    snmp_inv_number[1]=2;
;;;476    snmp_inv_voltage[1]=inv[1]._Uio;
;;;477    snmp_inv_current[1]=inv[1]._Ii;
;;;478    snmp_inv_temperature[1]=inv[1]._Ti;
;;;479    snmp_inv_stat[1]=inv[1]._flags_tm;
;;;480    
;;;481    snmp_inv_number[2]=3;
;;;482    snmp_inv_voltage[2]=inv[2]._Uio;
;;;483    snmp_inv_current[2]=inv[2]._Ii;
;;;484    snmp_inv_temperature[2]=inv[2]._Ti;
;;;485    snmp_inv_stat[2]=inv[2]._flags_tm;
;;;486    
;;;487    
;;;488    
;;;489    
;;;490    					  
;;;491    snmp_sk_number[0]=1;
;;;492    memcpy(&snmp_sk_name[0][0],"Door",10);
;;;493    if(sk_stat[0]==ssON) snmp_sk_aktiv[0]=1;
;;;494    else snmp_sk_aktiv[0]=0;
;;;495    if(!SK_SIGN[0])snmp_sk_alarm_aktiv[0]=1;
;;;496    else snmp_sk_alarm_aktiv[0]=0;
;;;497    if(sk_av_stat[0]==sasON)	snmp_sk_alarm[0]=1;
;;;498    else                     snmp_sk_alarm[0]=0;
;;;499    
;;;500    
;;;501    snmp_sk_number[1]=2;
;;;502    memcpy(&snmp_sk_name[1][0],"Smoke",10);
;;;503    if(sk_stat[1]==ssON) snmp_sk_aktiv[1]=1;
;;;504    else snmp_sk_aktiv[1]=0;
;;;505    if(!SK_SIGN[1])snmp_sk_alarm_aktiv[1]=1;
;;;506    else snmp_sk_alarm_aktiv[1]=0;
;;;507    if(sk_av_stat[1]==sasON)	snmp_sk_alarm[1]=1;
;;;508    else                     snmp_sk_alarm[1]=0;
;;;509    
;;;510    snmp_sk_number[2]=3;
;;;511    memcpy(&snmp_sk_name[2][0],"Shock",10);
;;;512    if(sk_stat[2]==ssON) snmp_sk_aktiv[2]=1;
;;;513    else snmp_sk_aktiv[2]=0;
;;;514    if(!SK_SIGN[2])snmp_sk_alarm_aktiv[2]=1;
;;;515    else snmp_sk_alarm_aktiv[2]=0;
;;;516    if(sk_av_stat[2]==sasON)	snmp_sk_alarm[2]=1;
;;;517    else                     snmp_sk_alarm[2]=0;
;;;518    
;;;519    snmp_sk_number[3]=4;
;;;520    memcpy(&snmp_sk_name[3][0],"     ",10);
;;;521    if(sk_stat[3]==ssON) snmp_sk_aktiv[3]=1;
;;;522    else snmp_sk_aktiv[3]=0;
;;;523    if(!SK_SIGN[3])snmp_sk_alarm_aktiv[3]=1;
;;;524    else snmp_sk_alarm_aktiv[3]=0;
;;;525    if(sk_av_stat[3]==sasON)	snmp_sk_alarm[3]=1;
;;;526    else                     snmp_sk_alarm[3]=0;
;;;527    
;;;528    
;;;529    if(makb[0]._cnt>8) snmp_makb_connect_status[0]=1;
;;;530    else if(makb[0]._cnt<2) snmp_makb_connect_status[0]=0;
;;;531    if(makb[1]._cnt>8) snmp_makb_connect_status[1]=1;
;;;532    else if(makb[1]._cnt<2) snmp_makb_connect_status[1]=0;
;;;533    if(makb[2]._cnt>8) snmp_makb_connect_status[2]=1;
;;;534    else if(makb[2]._cnt<2) snmp_makb_connect_status[2]=0;
;;;535    if(makb[3]._cnt>8) snmp_makb_connect_status[3]=1;
;;;536    else if(makb[3]._cnt<2) snmp_makb_connect_status[3]=0;
;;;537    
;;;538    snmp_makb_voltage0[0]=makb[0]._Ub[0];
;;;539    snmp_makb_voltage1[0]=makb[0]._Ub[1];
;;;540    snmp_makb_voltage2[0]=makb[0]._Ub[2];
;;;541    snmp_makb_voltage3[0]=makb[0]._Ub[3];
;;;542    snmp_makb_voltage4[0]=makb[0]._Ub[4];
;;;543    snmp_makb_voltage0[1]=makb[1]._Ub[0];
;;;544    snmp_makb_voltage1[1]=makb[1]._Ub[1];
;;;545    snmp_makb_voltage2[1]=makb[1]._Ub[2];
;;;546    snmp_makb_voltage3[1]=makb[1]._Ub[3];
;;;547    snmp_makb_voltage4[1]=makb[1]._Ub[4];
;;;548    snmp_makb_voltage0[2]=makb[2]._Ub[0];
;;;549    snmp_makb_voltage1[2]=makb[2]._Ub[1];
;;;550    snmp_makb_voltage2[2]=makb[2]._Ub[2];
;;;551    snmp_makb_voltage3[2]=makb[2]._Ub[3];
;;;552    snmp_makb_voltage4[2]=makb[2]._Ub[4];
;;;553    snmp_makb_voltage0[3]=makb[3]._Ub[0];
;;;554    snmp_makb_voltage1[3]=makb[3]._Ub[1];
;;;555    snmp_makb_voltage2[3]=makb[3]._Ub[2];
;;;556    snmp_makb_voltage3[3]=makb[3]._Ub[3];
;;;557    snmp_makb_voltage4[3]=makb[3]._Ub[4];
;;;558    
;;;559    snmp_makb_temper0[0]=makb[0]._T[0];
;;;560    snmp_makb_temper1[0]=makb[0]._T[1];
;;;561    snmp_makb_temper2[0]=makb[0]._T[2];
;;;562    snmp_makb_temper3[0]=makb[0]._T[3];
;;;563    snmp_makb_temper4[0]=makb[0]._T[4];
;;;564    snmp_makb_temper0[1]=makb[1]._T[0];
;;;565    snmp_makb_temper1[1]=makb[1]._T[1];
;;;566    snmp_makb_temper2[1]=makb[1]._T[2];
;;;567    snmp_makb_temper3[1]=makb[1]._T[3];
;;;568    snmp_makb_temper4[1]=makb[1]._T[4];
;;;569    snmp_makb_temper0[2]=makb[2]._T[0];
;;;570    snmp_makb_temper1[2]=makb[2]._T[1];
;;;571    snmp_makb_temper2[2]=makb[2]._T[2];
;;;572    snmp_makb_temper3[2]=makb[2]._T[3];
;;;573    snmp_makb_temper4[2]=makb[2]._T[4];
;;;574    snmp_makb_temper0[3]=makb[3]._T[0];
;;;575    snmp_makb_temper1[3]=makb[3]._T[1];
;;;576    snmp_makb_temper2[3]=makb[3]._T[2];
;;;577    snmp_makb_temper3[3]=makb[3]._T[3];
;;;578    snmp_makb_temper4[3]=makb[3]._T[4];
;;;579    
;;;580    snmp_makb_temper0_stat[0]=makb[0]._T_nd[0];
;;;581    snmp_makb_temper1_stat[0]=makb[0]._T_nd[1];
;;;582    snmp_makb_temper2_stat[0]=makb[0]._T_nd[2];
;;;583    snmp_makb_temper3_stat[0]=makb[0]._T_nd[3];
;;;584    snmp_makb_temper4_stat[0]=makb[0]._T_nd[4];
;;;585    snmp_makb_temper0_stat[1]=makb[1]._T_nd[0];
;;;586    snmp_makb_temper1_stat[1]=makb[1]._T_nd[1];
;;;587    snmp_makb_temper2_stat[1]=makb[1]._T_nd[2];
;;;588    snmp_makb_temper3_stat[1]=makb[1]._T_nd[3];
;;;589    snmp_makb_temper4_stat[1]=makb[1]._T_nd[4];
;;;590    snmp_makb_temper0_stat[2]=makb[2]._T_nd[0];
;;;591    snmp_makb_temper1_stat[2]=makb[2]._T_nd[1];
;;;592    snmp_makb_temper2_stat[2]=makb[2]._T_nd[2];
;;;593    snmp_makb_temper3_stat[2]=makb[2]._T_nd[3];
;;;594    snmp_makb_temper4_stat[2]=makb[2]._T_nd[4];
;;;595    snmp_makb_temper0_stat[3]=makb[3]._T_nd[0];
;;;596    snmp_makb_temper1_stat[3]=makb[3]._T_nd[1];
;;;597    snmp_makb_temper2_stat[3]=makb[3]._T_nd[2];
;;;598    snmp_makb_temper3_stat[3]=makb[3]._T_nd[3];
;;;599    snmp_makb_temper4_stat[3]=makb[3]._T_nd[4];
;;;600    
;;;601    
;;;602    snmp_klimat_box_temper=t_box;
;;;603    snmp_klimat_settings_box_alarm=TBOXMAX;
;;;604    snmp_klimat_settings_vent_on=TBOXVENTON;
;;;605    snmp_klimat_settings_vent_off=TBOXVENTOFF;
;;;606    snmp_klimat_settings_warm_on=TBOXWARMON;
;;;607    snmp_klimat_settings_warm_off=TBOXWARMOFF;
;;;608    snmp_klimat_settings_load_on=TLOADENABLE;
;;;609    snmp_klimat_settings_load_off=TLOADDISABLE;
;;;610    snmp_klimat_settings_batt_on=TBATENABLE;
;;;611    snmp_klimat_settings_batt_off=TBATDISABLE;
;;;612    
;;;613    snmp_dt_ext=t_ext[0];
;;;614    snmp_dt_msan=t_ext[1];
;;;615    snmp_dt_epu=t_ext[2];
;;;616    
;;;617    /*
;;;618    snmp_bat_voltage=Ubat;
;;;619    snmp_bat_current=Ibat;
;;;620    snmp_bat_temperature=t_b;
;;;621    if(BAT_C_REAL==0x5555)
;;;622    	{
;;;623    	snmp_bat_capacity=BAT_C_NOM*10;												    11
;;;624    	}
;;;625    else
;;;626    	{
;;;627    	snmp_bat_capacity=BAT_C_REAL;
;;;628    	}
;;;629    snmp_bat_charge=zar_percent;
;;;630    snmp_bat_status=0;
;;;631    if(St&0x02)snmp_bat_status|=0x01;
;;;632    if(Ibat>0)snmp_bat_status|=0x02;
;;;633    
;;;634    
;;;635    if(spc_stat==spc_OFF) snmp_spc_stat=0;
;;;636    else if(spc_stat==spc_KE) snmp_spc_stat=1;
;;;637    else if(spc_stat==spc_VZ) snmp_spc_stat=10;
;;;638    
;;;639    
;;;640    snmp_main_bps=MAIN_IST+1;
;;;641    */
;;;642    snmp_zv_en=ZV_ON;
;;;643    snmp_alarm_auto_disable=AV_OFF_AVT;
;;;644    snmp_bat_test_time=TBAT;
;;;645    snmp_u_max=UMAX;
;;;646    snmp_u_min=UB20-DU;
;;;647    snmp_u_0_grad=UB0;
;;;648    snmp_u_20_grad=UB20;
;;;649    snmp_u_sign=USIGN;
;;;650    snmp_u_min_power=UMN;
;;;651    snmp_u_withouth_bat=U0B;
;;;652    snmp_control_current=IKB;
;;;653    snmp_max_charge_current=IZMAX;
;;;654    snmp_max_current=IMAX;
;;;655    snmp_min_current=IMIN;
;;;656    //snmp_max_current_koef=KIMAX;
;;;657    snmp_uvz=UVZ;
;;;658    snmp_powerup_psu_timeout=TZAS;
;;;659    snmp_max_temperature=TMAX;
;;;660    snmp_tsign_bat=TBATSIGN; 
;;;661    snmp_tmax_bat=TBATMAX;
;;;662    snmp_tsign_bps=TSIGN;
;;;663    snmp_tmax_bps=TMAX;
;;;664    snmp_bat_part_alarm=UBM_AV; 
;;;665    snmp_power_cnt_adress=POWER_CNT_ADRESS;
;;;666    
;;;667    for(i=0;i<12;i++)
;;;668    	{
;;;669    	snmp_avt_number[i]=i+1;
;;;670    	if(avt_stat[i]==avtOFF)snmp_avt_stat[i]=0;
;;;671    	else snmp_avt_stat[i]=1;
;;;672    	}
;;;673    
;;;674    snmp_dt_number[0]=1;
;;;675    snmp_dt_number[1]=2;
;;;676    snmp_dt_number[2]=3;
;;;677    //snmp_dt_number[3]=4;
;;;678    snmp_dt_temper[0]=t_ext[0];
;;;679    snmp_dt_temper[1]=t_ext[1];
;;;680    snmp_dt_temper[2]=t_ext[2];
;;;681    //snmp_dt_temper[3]=t_ext[3];
;;;682    snmp_dt_error[0]=ND_EXT[0];
;;;683    if(NUMDT<1)snmp_dt_error[0]=0xff;
;;;684    snmp_dt_error[1]=ND_EXT[1];
;;;685    if(NUMDT<2)snmp_dt_error[0]=0xff;
;;;686    snmp_dt_error[2]=ND_EXT[2];
;;;687    if(NUMDT<3)snmp_dt_error[0]=0xff;
;;;688    //snmp_dt_error[3]=ND_EXT[3];
;;;689    if(NUMDT<4)snmp_dt_error[0]=0xff;
;;;690    
;;;691    /*
;;;692    //Литиевые батареи
;;;693    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;694    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;695    snmp_lakb_voltage[0]=lakb[0]._tot_bat_volt;				//Напряжение ЛАКБ
;;;696    snmp_lakb_voltage[1]=lakb[1]._tot_bat_volt;				//Напряжение ЛАКБ
;;;697    snmp_lakb_max_cell_voltage[0]=lakb[0]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;698    snmp_lakb_max_cell_voltage[1]=lakb[1]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;699    snmp_lakb_min_cell_voltage[0]=lakb[0]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;700    snmp_lakb_min_cell_voltage[1]=lakb[1]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;701    snmp_lakb_max_cell_temperature[0]=lakb[0]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;702    snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;703    snmp_lakb_min_cell_temperature[0]=lakb[0]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;704    snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;705    snmp_lakb_ch_curr[0]=lakb[0]._ch_curr;					//Ток заряда ЛАКБ
;;;706    snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;707    snmp_lakb_dsch_curr[0]=lakb[0]._dsch_curr;				//Ток разряда ЛАКБ
;;;708    snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;709    snmp_lakb_rat_cap[0]=lakb[0]._rat_cap;					//Номинальная емкость ЛАКБ
;;;710    snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;711    snmp_lakb_soh[0]=lakb[0]._s_o_h;						//Остаточная емкость ЛАКБ
;;;712    snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;713    snmp_lakb_soc[0]=lakb[0]._s_o_c;						//Заряд ЛАКБ
;;;714    snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;715    snmp_lakb_cclv[0]=lakb[0]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;716    snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;717    snmp_lakb_rbt[0]=lakb[0]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;718    snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;719    snmp_lakb_flags1[0]=lakb[0]._flags1;					//Первый флаг состояния ЛАКБ
;;;720    snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;721    snmp_lakb_flags2[0]=lakb[0]._flags2;					//Второй флаг состояния ЛАКБ
;;;722    snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ */
;;;723    
;;;724    //Литиевые батареи
;;;725    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;726    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;727    snmp_lakb_number[2]=3;								//Номер ЛАКБ
;;;728    snmp_lakb_number[3]=4;								//Номер ЛАКБ
;;;729    snmp_lakb_number[4]=5;								//Номер ЛАКБ
;;;730    snmp_lakb_number[5]=6;								//Номер ЛАКБ
;;;731    snmp_lakb_number[6]=7;								//Номер ЛАКБ
;;;732    
;;;733    for (i=0;i<3;i++)
;;;734    	{
;;;735    	snmp_lakb_voltage[i]=lakb[i]._tot_bat_volt;				//Напряжение ЛАКБ
;;;736    	snmp_lakb_max_cell_voltage[i]=lakb[i]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;737    	snmp_lakb_min_cell_voltage[i]=lakb[i]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;738    	snmp_lakb_max_cell_temperature[i]=lakb[i]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;739    	//snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;740    	snmp_lakb_min_cell_temperature[i]=lakb[i]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;741    	//snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;742    	snmp_lakb_ch_curr[i]=lakb[i]._ch_curr;					//Ток заряда ЛАКБ
;;;743    	//snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;744    	snmp_lakb_dsch_curr[i]=lakb[i]._dsch_curr;				//Ток разряда ЛАКБ
;;;745    	//snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;746    	snmp_lakb_rat_cap[i]=lakb[i]._rat_cap;					//Номинальная емкость ЛАКБ
;;;747    	//snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;748    	snmp_lakb_soh[i]=lakb[i]._s_o_h;						//Остаточная емкость ЛАКБ
;;;749    	//snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;750    	snmp_lakb_soc[i]=lakb[i]._s_o_c;						//Заряд ЛАКБ
;;;751    	//snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;752    	snmp_lakb_cclv[i]=lakb[i]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;753    	//snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;754    	snmp_lakb_rbt[i]=lakb[i]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;755    	//snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;756    	snmp_lakb_flags1[i]=lakb[i]._flags1;					//Первый флаг состояния ЛАКБ
;;;757    	//snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;758    	snmp_lakb_flags2[i]=lakb[i]._flags2;					//Второй флаг состояния ЛАКБ
;;;759    	//snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ
;;;760    
;;;761    	snmp_lakb_cell_temperature_1[i]= lakb[i]._cell_temp_1;
;;;762    	snmp_lakb_cell_temperature_2[i]= lakb[i]._cell_temp_2;
;;;763    	snmp_lakb_cell_temperature_3[i]= lakb[i]._cell_temp_3;
;;;764    	snmp_lakb_cell_temperature_4[i]= lakb[i]._cell_temp_4;
;;;765    	snmp_lakb_cell_temperature_ambient[i]=lakb[i]._cell_temp_ambient;
;;;766    	snmp_lakb_cell_temperature_power[i]=lakb[i]._cell_temp_power;
;;;767    	}
;;;768    
;;;769    for (i=0;i<7;i++)
;;;770    {
;;;771    /*
;;;772    snmp_lakb_damp1[i][0]=ABCDEF[(lakb_damp[i][0])>>4];			//Дамп
;;;773    snmp_lakb_damp1[i][1]=ABCDEF[(lakb_damp[i][0])&0x0f];			//Дамп
;;;774    snmp_lakb_damp1[i][2]=' ';
;;;775    snmp_lakb_damp1[i][3]=ABCDEF[(lakb_damp[i][1])>>4];			//Дамп
;;;776    snmp_lakb_damp1[i][4]=ABCDEF[(lakb_damp[i][1])&0x0f];			//Дамп
;;;777    snmp_lakb_damp1[i][5]=' ';
;;;778    snmp_lakb_damp1[i][6]=ABCDEF[(lakb_damp[i][2])>>4];			//Дамп
;;;779    snmp_lakb_damp1[i][7]=ABCDEF[(lakb_damp[i][2])&0x0f];			//Дамп
;;;780    snmp_lakb_damp1[i][8]=' ';
;;;781    snmp_lakb_damp1[i][9]=ABCDEF[(lakb_damp[i][3])>>4];			//Дамп
;;;782    snmp_lakb_damp1[i][10]=ABCDEF[(lakb_damp[i][3])&0x0f];			//Дамп
;;;783    snmp_lakb_damp1[i][11]=' ';
;;;784    snmp_lakb_damp1[i][12]=ABCDEF[(lakb_damp[i][4])>>4];			//Дамп
;;;785    snmp_lakb_damp1[i][13]=ABCDEF[(lakb_damp[i][4])&0x0f];			//Дамп
;;;786    snmp_lakb_damp1[i][14]=' '; 
;;;787    snmp_lakb_damp1[i][15]=ABCDEF[(lakb_damp[i][5])>>4];			//Дамп
;;;788    snmp_lakb_damp1[i][16]=ABCDEF[(lakb_damp[i][5])&0x0f];			//Дамп
;;;789    snmp_lakb_damp1[i][17]=' ';
;;;790    snmp_lakb_damp1[i][18]=ABCDEF[(lakb_damp[i][6])>>4];			//Дамп
;;;791    snmp_lakb_damp1[i][19]=ABCDEF[(lakb_damp[i][6])&0x0f];			//Дамп
;;;792    snmp_lakb_damp1[i][20]=' ';
;;;793    snmp_lakb_damp1[i][21]=ABCDEF[(lakb_damp[i][7])>>4];			//Дамп
;;;794    snmp_lakb_damp1[i][22]=ABCDEF[(lakb_damp[i][7])&0x0f];			//Дамп
;;;795    snmp_lakb_damp1[i][23]=' ';
;;;796    snmp_lakb_damp1[i][24]=ABCDEF[(lakb_damp[i][8])>>4];			//Дамп
;;;797    snmp_lakb_damp1[i][25]=ABCDEF[(lakb_damp[i][8])&0x0f];			//Дамп
;;;798    snmp_lakb_damp1[i][26]=' ';
;;;799    snmp_lakb_damp1[i][27]=ABCDEF[(lakb_damp[i][9])>>4];			//Дамп
;;;800    snmp_lakb_damp1[i][28]=ABCDEF[(lakb_damp[i][9])&0x0f];			//Дамп
;;;801    snmp_lakb_damp1[i][29]=0; 
;;;802    
;;;803    snmp_lakb_damp1[i][30]=ABCDEF[(lakb_damp[i][10])>>4];			//Дамп
;;;804    snmp_lakb_damp1[i][31]=ABCDEF[(lakb_damp[i][10])&0x0f];			//Дамп
;;;805    snmp_lakb_damp1[i][32]=' ';
;;;806    snmp_lakb_damp1[i][33]=ABCDEF[(lakb_damp[i][11])>>4];			//Дамп
;;;807    snmp_lakb_damp1[i][34]=ABCDEF[(lakb_damp[i][11])&0x0f];			//Дамп
;;;808    snmp_lakb_damp1[i][35]=' ';
;;;809    snmp_lakb_damp1[i][36]=ABCDEF[(lakb_damp[i][12])>>4];			//Дамп
;;;810    snmp_lakb_damp1[i][37]=ABCDEF[(lakb_damp[i][12])&0x0f];			//Дамп
;;;811    snmp_lakb_damp1[i][38]=' ';
;;;812    snmp_lakb_damp1[i][39]=ABCDEF[(lakb_damp[i][13])>>4];			//Дамп
;;;813    snmp_lakb_damp1[i][40]=ABCDEF[(lakb_damp[i][13])&0x0f];			//Дамп
;;;814    snmp_lakb_damp1[i][41]=' ';
;;;815    snmp_lakb_damp1[i][42]=ABCDEF[(lakb_damp[i][14])>>4];			//Дамп
;;;816    snmp_lakb_damp1[i][43]=ABCDEF[(lakb_damp[i][14])&0x0f];			//Дамп
;;;817    snmp_lakb_damp1[i][44]=' '; 
;;;818    snmp_lakb_damp1[i][45]=ABCDEF[(lakb_damp[i][15])>>4];			//Дамп
;;;819    snmp_lakb_damp1[i][46]=ABCDEF[(lakb_damp[i][15])&0x0f];			//Дамп
;;;820    snmp_lakb_damp1[i][47]=' ';
;;;821    snmp_lakb_damp1[i][48]=ABCDEF[(lakb_damp[i][16])>>4];			//Дамп
;;;822    snmp_lakb_damp1[i][49]=ABCDEF[(lakb_damp[i][16])&0x0f];			//Дамп
;;;823    snmp_lakb_damp1[i][50]=' ';
;;;824    snmp_lakb_damp1[i][51]=ABCDEF[(lakb_damp[i][17])>>4];			//Дамп
;;;825    snmp_lakb_damp1[i][52]=ABCDEF[(lakb_damp[i][17])&0x0f];			//Дамп
;;;826    snmp_lakb_damp1[i][53]=' ';
;;;827    snmp_lakb_damp1[i][54]=ABCDEF[(lakb_damp[i][18])>>4];			//Дамп
;;;828    snmp_lakb_damp1[i][55]=ABCDEF[(lakb_damp[i][18])&0x0f];			//Дамп
;;;829    snmp_lakb_damp1[i][56]=' ';
;;;830    snmp_lakb_damp1[i][57]=ABCDEF[(lakb_damp[i][19])>>4];			//Дамп
;;;831    snmp_lakb_damp1[i][58]=ABCDEF[(lakb_damp[i][19])&0x0f];			//Дамп
;;;832    snmp_lakb_damp1[i][59]=0; 
;;;833    
;;;834    
;;;835    snmp_lakb_damp1[i][60]=ABCDEF[(lakb_damp[i][20])>>4];			//Дамп
;;;836    snmp_lakb_damp1[i][61]=ABCDEF[(lakb_damp[i][20])&0x0f];			//Дамп
;;;837    snmp_lakb_damp1[i][62]=' ';
;;;838    snmp_lakb_damp1[i][63]=ABCDEF[(lakb_damp[i][21])>>4];			//Дамп
;;;839    snmp_lakb_damp1[i][64]=ABCDEF[(lakb_damp[i][21])&0x0f];			//Дамп
;;;840    snmp_lakb_damp1[i][65]=' ';
;;;841    snmp_lakb_damp1[i][66]=ABCDEF[(lakb_damp[i][22])>>4];			//Дамп
;;;842    snmp_lakb_damp1[i][67]=ABCDEF[(lakb_damp[i][22])&0x0f];			//Дамп
;;;843    snmp_lakb_damp1[i][68]=' ';
;;;844    snmp_lakb_damp1[i][69]=ABCDEF[(lakb_damp[i][23])>>4];			//Дамп
;;;845    snmp_lakb_damp1[i][70]=ABCDEF[(lakb_damp[i][23])&0x0f];			//Дамп
;;;846    snmp_lakb_damp1[i][71]=' ';
;;;847    snmp_lakb_damp1[i][72]=ABCDEF[(lakb_damp[i][24])>>4];			//Дамп
;;;848    snmp_lakb_damp1[i][73]=ABCDEF[(lakb_damp[i][24])&0x0f];			//Дамп
;;;849    snmp_lakb_damp1[i][74]=' '; 
;;;850    snmp_lakb_damp1[i][75]=ABCDEF[(lakb_damp[i][25])>>4];			//Дамп
;;;851    snmp_lakb_damp1[i][76]=ABCDEF[(lakb_damp[i][25])&0x0f];			//Дамп
;;;852    snmp_lakb_damp1[i][77]=' ';
;;;853    snmp_lakb_damp1[i][78]=ABCDEF[(lakb_damp[i][26])>>4];			//Дамп
;;;854    snmp_lakb_damp1[i][79]=ABCDEF[(lakb_damp[i][26])&0x0f];			//Дамп
;;;855    snmp_lakb_damp1[i][80]=' ';
;;;856    snmp_lakb_damp1[i][81]=ABCDEF[(lakb_damp[i][27])>>4];			//Дамп
;;;857    snmp_lakb_damp1[i][82]=ABCDEF[(lakb_damp[i][27])&0x0f];			//Дамп
;;;858    snmp_lakb_damp1[i][83]=' ';
;;;859    snmp_lakb_damp1[i][84]=ABCDEF[(lakb_damp[i][28])>>4];			//Дамп
;;;860    snmp_lakb_damp1[i][85]=ABCDEF[(lakb_damp[i][28])&0x0f];			//Дамп
;;;861    snmp_lakb_damp1[i][86]=' ';
;;;862    snmp_lakb_damp1[i][87]=ABCDEF[(lakb_damp[i][29])>>4];			//Дамп
;;;863    snmp_lakb_damp1[i][88]=ABCDEF[(lakb_damp[i][29])&0x0f];			//Дамп
;;;864    snmp_lakb_damp1[i][89]=0;
;;;865    
;;;866    
;;;867    snmp_lakb_damp1[i][90]=ABCDEF[(lakb_damp[i][30])>>4];			//Дамп
;;;868    snmp_lakb_damp1[i][91]=ABCDEF[(lakb_damp[i][30])&0x0f];			//Дамп
;;;869    snmp_lakb_damp1[i][92]=' ';
;;;870    snmp_lakb_damp1[i][93]=ABCDEF[(lakb_damp[i][31])>>4];			//Дамп
;;;871    snmp_lakb_damp1[i][94]=ABCDEF[(lakb_damp[i][31])&0x0f];			//Дамп
;;;872    snmp_lakb_damp1[i][95]=' ';
;;;873    snmp_lakb_damp1[i][96]=ABCDEF[(lakb_damp[i][32])>>4];			//Дамп
;;;874    snmp_lakb_damp1[i][97]=ABCDEF[(lakb_damp[i][32])&0x0f];			//Дамп
;;;875    snmp_lakb_damp1[i][98]=' ';
;;;876    snmp_lakb_damp1[i][99]=ABCDEF[(lakb_damp[i][33])>>4];			//Дамп
;;;877    snmp_lakb_damp1[i][100]=ABCDEF[(lakb_damp[i][33])&0x0f];			//Дамп
;;;878    snmp_lakb_damp1[i][101]=' ';
;;;879    snmp_lakb_damp1[i][102]=ABCDEF[(lakb_damp[i][34])>>4];			//Дамп
;;;880    snmp_lakb_damp1[i][103]=ABCDEF[(lakb_damp[i][34])&0x0f];			//Дамп
;;;881    snmp_lakb_damp1[i][104]=' '; 
;;;882    snmp_lakb_damp1[i][105]=ABCDEF[(lakb_damp[i][35])>>4];			//Дамп
;;;883    snmp_lakb_damp1[i][106]=ABCDEF[(lakb_damp[i][35])&0x0f];			//Дамп
;;;884    snmp_lakb_damp1[i][107]=' ';
;;;885    snmp_lakb_damp1[i][108]=ABCDEF[(lakb_damp[i][36])>>4];			//Дамп
;;;886    snmp_lakb_damp1[i][109]=ABCDEF[(lakb_damp[i][36])&0x0f];			//Дамп
;;;887    snmp_lakb_damp1[i][110]=' ';
;;;888    snmp_lakb_damp1[i][111]=ABCDEF[(lakb_damp[i][37])>>4];			//Дамп
;;;889    snmp_lakb_damp1[i][112]=ABCDEF[(lakb_damp[i][37])&0x0f];			//Дамп
;;;890    snmp_lakb_damp1[i][113]=' ';
;;;891    snmp_lakb_damp1[i][114]=ABCDEF[(lakb_damp[i][38])>>4];			//Дамп
;;;892    snmp_lakb_damp1[i][115]=ABCDEF[(lakb_damp[i][38])&0x0f];			//Дамп
;;;893    snmp_lakb_damp1[i][116]=' ';
;;;894    snmp_lakb_damp1[i][117]=ABCDEF[(lakb_damp[i][39])>>4];			//Дамп
;;;895    snmp_lakb_damp1[i][118]=ABCDEF[(lakb_damp[i][39])&0x0f];			//Дамп
;;;896    snmp_lakb_damp1[i][119]=0; 
;;;897     
;;;898    
;;;899    snmp_lakb_damp1[i][120]=ABCDEF[(lakb_damp[i][40])>>4];			//Дамп
;;;900    snmp_lakb_damp1[i][121]=ABCDEF[(lakb_damp[i][40])&0x0f];			//Дамп
;;;901    snmp_lakb_damp1[i][122]=' ';
;;;902    snmp_lakb_damp1[i][123]=ABCDEF[(lakb_damp[i][41])>>4];			//Дамп
;;;903    snmp_lakb_damp1[i][124]=ABCDEF[(lakb_damp[i][41])&0x0f];			//Дамп
;;;904    snmp_lakb_damp1[i][125]=' ';
;;;905    snmp_lakb_damp1[i][126]=ABCDEF[(lakb_damp[i][42])>>4];			//Дамп
;;;906    snmp_lakb_damp1[i][127]=ABCDEF[(lakb_damp[i][42])&0x0f];			//Дамп
;;;907    snmp_lakb_damp1[i][128]=' ';
;;;908    snmp_lakb_damp1[i][129]=ABCDEF[(lakb_damp[i][43])>>4];			//Дамп
;;;909    snmp_lakb_damp1[i][130]=ABCDEF[(lakb_damp[i][43])&0x0f];			//Дамп
;;;910    snmp_lakb_damp1[i][131]=' ';
;;;911    snmp_lakb_damp1[i][132]=ABCDEF[(lakb_damp[i][44])>>4];			//Дамп
;;;912    snmp_lakb_damp1[i][133]=ABCDEF[(lakb_damp[i][44])&0x0f];			//Дамп
;;;913    snmp_lakb_damp1[i][134]=' '; 
;;;914    snmp_lakb_damp1[i][135]=ABCDEF[(lakb_damp[i][45])>>4];			//Дамп
;;;915    snmp_lakb_damp1[i][136]=ABCDEF[(lakb_damp[i][45])&0x0f];			//Дамп
;;;916    snmp_lakb_damp1[i][137]=' ';
;;;917    snmp_lakb_damp1[i][138]=ABCDEF[(lakb_damp[i][46])>>4];			//Дамп
;;;918    snmp_lakb_damp1[i][139]=ABCDEF[(lakb_damp[i][46])&0x0f];			//Дамп
;;;919    snmp_lakb_damp1[i][140]=' ';
;;;920    snmp_lakb_damp1[i][141]=ABCDEF[(lakb_damp[i][47])>>4];			//Дамп
;;;921    snmp_lakb_damp1[i][142]=ABCDEF[(lakb_damp[i][47])&0x0f];			//Дамп
;;;922    snmp_lakb_damp1[i][143]=' ';
;;;923    snmp_lakb_damp1[i][144]=ABCDEF[(lakb_damp[i][48])>>4];			//Дамп
;;;924    snmp_lakb_damp1[i][145]=ABCDEF[(lakb_damp[i][48])&0x0f];			//Дамп
;;;925    snmp_lakb_damp1[i][146]=' ';
;;;926    snmp_lakb_damp1[i][147]=ABCDEF[(lakb_damp[i][49])>>4];			//Дамп
;;;927    snmp_lakb_damp1[i][148]=ABCDEF[(lakb_damp[i][49])&0x0f];			//Дамп
;;;928    snmp_lakb_damp1[i][149]=0;  */
;;;929    }
;;;930    
;;;931    #ifdef UKU_TELECORE2017
;;;932    snmp_warm_sign=0;
;;;933    if(TELECORE2017_KLIMAT_WARM_SIGNAL==0) snmp_warm_sign=2;
;;;934    else if(TELECORE2017_KLIMAT_WARM_SIGNAL==1) snmp_warm_sign=1;
;;;935    snmp_cool_sign=0;
;;;936    if(TELECORE2017_KLIMAT_VENT_SIGNAL==0) snmp_cool_sign=2;
;;;937    else if(TELECORE2017_KLIMAT_VENT_SIGNAL==1) snmp_cool_sign=1;
;;;938    snmp_warm_on_temper=(signed char)TELECORE2017_KLIMAT_WARM_ON; 
;;;939    snmp_warm_off_temper=(signed char)TELECORE2017_KLIMAT_WARM_OFF;
;;;940    snmp_warm_q=(signed char)TELECORE2017_KLIMAT_CAP;	
;;;941    snmp_cool_20_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON20;
;;;942    snmp_cool_40_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON40;
;;;943    snmp_cool_60_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON60;
;;;944    snmp_cool_80_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON80;
;;;945    snmp_cool_100_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON100;
;;;946    snmp_cool_20_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON20;
;;;947    snmp_cool_40_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON40;
;;;948    snmp_cool_60_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON60;
;;;949    snmp_cool_80_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON80;
;;;950    snmp_cool_100_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON100;
;;;951    snmp_warm_stat=0;
;;;952    if(warm_stat_k==wsON) snmp_warm_stat=1;
;;;953    #endif
;;;954    }
;;;955    //-----------------------------------------------
                          ENDP

00009a  0000              DCW      0x0000
                  |L9.156|
00009c  30302fff          DCB      "00/",255,237,226,"/00  00:00:00       ",0
0000a0  ede22f30
0000a4  30202030
0000a8  303a3030
0000ac  3a303020
0000b0  20202020
0000b4  202000  
0000b7  00                DCB      0
                  |L9.184|
                          DCD      ||.bss||
                  |L9.188|
                          DCD      sm_mont

                          AREA ||area_number.10||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.10||, ||.text||
                  event2snmp PROC
;;;261    //-----------------------------------------------
;;;262    void snmp_data (void) 
000000  e92d47f0          PUSH     {r4-r10,lr}
;;;263    {
;;;264    char i;
;;;265    
;;;266    snmp_mains_power_voltage=net_U;
000004  b088              SUB      sp,sp,#0x20
000006  4606              MOV      r6,r0
000008  48ff              LDR      r0,|L10.1032|
00000a  f04f024e          MOV      r2,#0x4e
00000e  eb0014c6          ADD      r4,r0,r6,LSL #7
;;;267    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;268    snmp_mains_power_frequency=net_F3;
000012  49fe              LDR      r1,|L10.1036|
000014  4620              MOV      r0,r4
;;;269    #else
;;;270    snmp_mains_power_frequency=net_F;
;;;271    #endif
;;;272    snmp_mains_power_voltage_phaseA=net_Ua;
000016  f7fffffe          BL       __aeabi_memcpy
00001a  f44f6060          MOV      r0,#0xe00
;;;273    snmp_mains_power_voltage_phaseB=net_Ub;
00001e  f7fffffe          BL       lc640_read_int
;;;274    snmp_mains_power_voltage_phaseC=net_Uc;
000022  4272              RSBS     r2,r6,#0
000024  2140              MOVS     r1,#0x40
000026  f7fffffe          BL       ptr_carry
;;;275    
;;;276    
;;;277    if(avar_stat&0x0001)snmp_mains_power_alarm=1;
;;;278    else snmp_mains_power_alarm=0;
00002a  ea4f1040          LSL      r0,r0,#5
00002e  f5006080          ADD      r0,r0,#0x400          ;277
000032  4605              MOV      r5,r0                 ;277
000034  a907              ADD      r1,sp,#0x1c           ;277
000036  4628              MOV      r0,r5                 ;277
000038  f7fffffe          BL       lc640_read_long_ptr
;;;279    if(avar_stat&0x0001)snmp_mains_power_status=1;
00003c  a902              ADD      r1,sp,#8
00003e  1d28              ADDS     r0,r5,#4
000040  f7fffffe          BL       lc640_read_long_ptr
;;;280    else snmp_mains_power_status=0;
;;;281    
;;;282    /*
;;;283    snmp_mains_power_status=0; 
;;;284    #if(UKU_VERSION==900)
;;;285    snmp_mains_power_status=2;
;;;286    #endif
;;;287    if(St&0x01)snmp_mains_power_status|=0x01;
;;;288    if(St&0x01)snmp_mains_power_alarm=1;
;;;289    
;;;290    
;;;291    
;;;292    
;;;293    
;;;294    
;;;295    for(i=0;i<snmp_numofevents;i++)event2snmp(i);
;;;296    //snmp_bpsnumber[0]=1;
;;;297    //snmp_bpsnumber[1]=2;
;;;298    
;;;299    
;;;300    snmp_sernum_lsb=0x1122;
;;;301    snmp_sernum_msb=0x3344;
;;;302    snmp_device_code=AUSW_MAIN;
;;;303    
;;;304    //memcpy(snmp_location,"lkhg;la",);
;;;305    
;;;306    
;;;307    snmp_numofbat=1;
;;;308    
;;;309    */
;;;310    snmp_sernum=AUSW_MAIN_NUMBER;
000044  a906              ADD      r1,sp,#0x18
000046  f1050008          ADD      r0,r5,#8
00004a  f7fffffe          BL       lc640_read_long_ptr
00004e  a905              ADD      r1,sp,#0x14
000050  f105000c          ADD      r0,r5,#0xc
;;;311    
;;;312    snmp_load_voltage=load_U;
000054  f7fffffe          BL       lc640_read_long_ptr
000058  a904              ADD      r1,sp,#0x10
00005a  f1050010          ADD      r0,r5,#0x10
;;;313    snmp_load_current=load_I;
00005e  f7fffffe          BL       lc640_read_long_ptr
000062  a903              ADD      r1,sp,#0xc
;;;314    snmp_numofbat=NUMBAT;
000064  f1050014          ADD      r0,r5,#0x14
000068  f7fffffe          BL       lc640_read_long_ptr
00006c  f89d001c          LDRB     r0,[sp,#0x1c]
;;;315    snmp_numofbps=NUMIST;
000070  f1040528          ADD      r5,r4,#0x28
;;;316    snmp_numofinv=NUMINV;
000074  2855              CMP      r0,#0x55
000076  d052              BEQ      |L10.286|
000078  2720              MOVS     r7,#0x20
;;;317    snmp_numofavt=NUMAVT;
00007a  f04f0840          MOV      r8,#0x40
00007e  2850              CMP      r0,#0x50
;;;318    snmp_numofdt=NUMDT;
000080  d076              BEQ      |L10.368|
000082  49e1              LDR      r1,|L10.1032|
000084  2842              CMP      r0,#0x42
;;;319    snmp_numofsk=NUMSK;
000086  eb0119c6          ADD      r9,r1,r6,LSL #7
00008a  46ca              MOV      r10,r9
;;;320    snmp_numofevents=lc640_read_int(CNT_EVENT_LOG);
00008c  f1090929          ADD      r9,r9,#0x29
000090  f10a0a15          ADD      r10,r10,#0x15
000094  d06b              BEQ      |L10.366|
;;;321    
;;;322    snmp_energy_vvod_phase_a=Uvv_eb2[0];
000096  2853              CMP      r0,#0x53
000098  d165              BNE      |L10.358|
00009a  a0dd              ADR      r0,|L10.1040|
;;;323    snmp_energy_vvod_phase_b=Uvv_eb2[1];
00009c  6801              LDR      r1,[r0,#0]
00009e  6021              STR      r1,[r4,#0]
;;;324    snmp_energy_vvod_phase_c=Uvv_eb2[2];
0000a0  8880              LDRH     r0,[r0,#4]
0000a2  80a0              STRH     r0,[r4,#4]
;;;325    snmp_energy_pes_phase_a=Upes_eb2[0];
0000a4  f89d001d          LDRB     r0,[sp,#0x1d]
0000a8  f1000031          ADD      r0,r0,#0x31
;;;326    snmp_energy_pes_phase_b=Upes_eb2[1];
0000ac  7160              STRB     r0,[r4,#5]
;;;327    snmp_energy_pes_phase_c=Upes_eb2[2];
0000ae  f1040007          ADD      r0,r4,#7
;;;328    
;;;329    #ifdef UKU_KONTUR
;;;330    snmp_energy_vvod_phase_a=Uvv0;
;;;331    snmp_energy_pes_phase_a=Uvv[1];
;;;332    #endif
;;;333    
;;;334    snmp_energy_total_energy=power_summary;
0000b2  f04f020e          MOV      r2,#0xe
0000b6  a1d9              ADR      r1,|L10.1052|
0000b8  f7fffffe          BL       __aeabi_memcpy
;;;335    snmp_energy_current_energy=power_current;
0000bc  f89d0016          LDRB     r0,[sp,#0x16]
;;;336    snmp_energy_input_voltage=net_U;
0000c0  f89d1015          LDRB     r1,[sp,#0x15]
0000c4  e9cd1000          STRD     r1,r0,[sp,#0]
0000c8  f89d3014          LDRB     r3,[sp,#0x14]
;;;337    
;;;338    
;;;339    #ifdef UKU_ZVU
;;;340    snmp_bat_number[0]=1;
0000cc  f89d2018          LDRB     r2,[sp,#0x18]
;;;341    snmp_bat_voltage[0]=out_U;
0000d0  f89d1019          LDRB     r1,[sp,#0x19]
0000d4  f89d001a          LDRB     r0,[sp,#0x1a]
0000d8  f7fffffe          BL       datatime2str
;;;342    snmp_bat_current[0]=Ib_ips_termokompensat;
0000dc  4601              MOV      r1,r0
0000de  2213              MOVS     r2,#0x13
0000e0  4650              MOV      r0,r10
0000e2  f7fffffe          BL       __aeabi_memcpy
;;;343    snmp_bat_rem_time[0]=bat_hndl_t_razr_min;
0000e6  f89d001e          LDRB     r0,[sp,#0x1e]
0000ea  284c              CMP      r0,#0x4c
0000ec  d07e              BEQ      |L10.492|
0000ee  2854              CMP      r0,#0x54
;;;344    if(Ib_ips_termokompensat>0)snmp_bat_rem_time[0]=-1;
0000f0  d07d              BEQ      |L10.494|
0000f2  2855              CMP      r0,#0x55
0000f4  d07c              BEQ      |L10.496|
0000f6  2875              CMP      r0,#0x75
0000f8  d07b              BEQ      |L10.498|
;;;345    snmp_bat_temperature[0]=t_ext[0];
0000fa  a0cc              ADR      r0,|L10.1068|
0000fc  6801              LDR      r1,[r0,#0]
0000fe  f8c41029          STR      r1,[r4,#0x29]
000102  8880              LDRH     r0,[r0,#4]
000104  f8a4002d          STRH     r0,[r4,#0x2d]
;;;346    if(ND_EXT[0])snmp_bat_temperature[0]=-1000;
000108  f04f00ff          MOV      r0,#0xff
00010c  f884002f          STRB     r0,[r4,#0x2f]
000110  f04f0530          MOV      r5,#0x30
                  |L10.276|
;;;347    snmp_bat_capacity[0]=BAT_C_POINT_20;
000114  f89d0010          LDRB     r0,[sp,#0x10]
000118  2841              CMP      r0,#0x41
00011a  d06b              BEQ      |L10.500|
;;;348    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
00011c  e2d2              B        |L10.1732|
                  |L10.286|
00011e  f89d001e          LDRB     r0,[sp,#0x1e]
000122  2852              CMP      r0,#0x52
000124  d11f              BNE      |L10.358|
000126  2232              MOVS     r2,#0x32
000128  a1c3              ADR      r1,|L10.1080|
00012a  4620              MOV      r0,r4
00012c  f7fffffe          BL       __aeabi_memcpy
;;;349    snmp_bat_status[0]=bat_ips._av&1;
000130  f89d0016          LDRB     r0,[sp,#0x16]
000134  f89d1015          LDRB     r1,[sp,#0x15]
000138  e9cd1000          STRD     r1,r0,[sp,#0]
00013c  f89d3014          LDRB     r3,[sp,#0x14]
000140  f89d2018          LDRB     r2,[sp,#0x18]
;;;350    if(NUMBAT==0)snmp_bat_status[0]=0xff;
000144  f89d1019          LDRB     r1,[sp,#0x19]
000148  f89d001a          LDRB     r0,[sp,#0x1a]
00014c  f7fffffe          BL       datatime2str
000150  4601              MOV      r1,r0
;;;351    #endif
;;;352    
;;;353    #ifndef UKU_ZVU
;;;354    snmp_bat_number[0]=1;
;;;355    snmp_bat_voltage[0]=bat[0]._Ub;
;;;356    snmp_bat_part_voltage[0]=bat[0]._Ubm;
;;;357    snmp_bat_current[0]=bat[0]._Ib;
;;;358    
;;;359    /*
;;;360    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;361    if(((AUSW_MAIN==22063)||(AUSW_MAIN==22023))&&(bps[8]._device==dIBAT_METR))
;;;362    	{
;;;363    	snmp_bat_current[0]=Ib_ips_termokompensat;
;;;364    	}
;;;365    #endif*/
;;;366    
;;;367    snmp_bat_temperature[0]=bat[0]._Tb;
;;;368    if(bat[0]._nd) snmp_bat_temperature[0]=-1000;
;;;369    
;;;370    if(BAT_C_REAL[0]==0x5555)snmp_bat_capacity[0]=BAT_C_NOM[0];
;;;371    else snmp_bat_capacity[0]=BAT_C_REAL[0];
;;;372    /*
;;;373    #ifdef UKU_ZVU
;;;374    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;375    
;;;376    #else
;;;377    snmp_bat_charge[0]=bat[0]._zar;
;;;378    #endif */
;;;379    snmp_bat_charge[0]=bat[0]._zar;
;;;380    snmp_bat_status[0]=bat[0]._av;
;;;381    if(BAT_IS_ON[0]!=bisON)snmp_bat_status[0]=0xff;
;;;382    
;;;383    
;;;384    snmp_bat_number[1]=2;
;;;385    snmp_bat_voltage[1]=bat[1]._Ub;
;;;386    snmp_bat_part_voltage[1]=bat[1]._Ubm;
;;;387    snmp_bat_current[1]=bat[1]._Ib;
;;;388    snmp_bat_temperature[1]=bat[1]._Tb;
;;;389    if(bat[1]._nd) snmp_bat_temperature[1]=-1000;
;;;390    if(BAT_C_REAL[1]==0x5555)snmp_bat_capacity[1]=BAT_C_NOM[1];
;;;391    else snmp_bat_capacity[1]=BAT_C_REAL[1];
;;;392    snmp_bat_charge[1]=bat[1]._zar;
;;;393    snmp_bat_status[1]=bat[1]._av;
;;;394    if(BAT_IS_ON[1]!=bisON)snmp_bat_status[1]=0xff;
;;;395    #endif
;;;396    
;;;397    
;;;398    snmp_bps_number[0]=1;
000152  f1040011          ADD      r0,r4,#0x11
000156  2214              MOVS     r2,#0x14
000158  f7fffffe          BL       __aeabi_memcpy
;;;399    snmp_bps_voltage[0]=bps[0]._Uii;
00015c  2214              MOVS     r2,#0x14
00015e  a1c4              ADR      r1,|L10.1136|
000160  4628              MOV      r0,r5
000162  f7fffffe          BL       __aeabi_memcpy
                  |L10.358|
000166  b008              ADD      sp,sp,#0x20
000168  e8bd87f0          POP      {r4-r10,pc}
;;;400    snmp_bps_current[0]=bps[0]._Ii;
00016c  e000              B        |L10.368|
                  |L10.366|
00016e  e054              B        |L10.538|
                  |L10.368|
000170  2217              MOVS     r2,#0x17
000172  a1c5              ADR      r1,|L10.1160|
000174  4620              MOV      r0,r4
000176  f7fffffe          BL       __aeabi_memcpy
;;;401    snmp_bps_temperature[0]=bps[0]._Ti;
00017a  f89d0016          LDRB     r0,[sp,#0x16]
00017e  f89d1015          LDRB     r1,[sp,#0x15]
000182  e9cd1000          STRD     r1,r0,[sp,#0]
;;;402    snmp_bps_stat[0]=bps[0]._av;
000186  f89d3014          LDRB     r3,[sp,#0x14]
00018a  f89d2018          LDRB     r2,[sp,#0x18]
;;;403    if(!(NUMIST>0))snmp_bps_stat[0]=0xff;												//Байт состояния БПСа.
00018e  f89d1019          LDRB     r1,[sp,#0x19]
000192  f89d001a          LDRB     r0,[sp,#0x1a]
000196  f7fffffe          BL       datatime2str
;;;404    
;;;405    /*if(St_[0]&(1<<2))snmp_bps_stat[0]=(1<<3); 							//авария по Umin
;;;406    else if(St_[0]&(1<<3))snmp_bps_stat[0]=(1<<2); 						//авария по Umax
;;;407    else if(bps[0]._av&(1<<0))snmp_bps_stat[0]=(1<<1); 						//авария по Tmax
;;;408    else if(St_[0]&(1<<5))snmp_bps_stat[0]=(1<<5); 						//заблокирован
;;;409    else if((!(St_[0]&0x3c))&&(!St&0x01)&&(!OFFBP1))snmp_bps_stat[0]=1; 		//Работает
;;;410    */
;;;411    
;;;412    snmp_bps_number[1]=2;
00019a  4601              MOV      r1,r0
00019c  f1040017          ADD      r0,r4,#0x17
;;;413    snmp_bps_voltage[1]=bps[1]._Uii;
0001a0  2213              MOVS     r2,#0x13
0001a2  f7fffffe          BL       __aeabi_memcpy
0001a6  f884802a          STRB     r8,[r4,#0x2a]
;;;414    snmp_bps_current[1]=bps[1]._Ii;
0001aa  4897              LDR      r0,|L10.1032|
0001ac  f89d2010          LDRB     r2,[sp,#0x10]
0001b0  eb0010c6          ADD      r0,r0,r6,LSL #7
0001b4  302b              ADDS     r0,r0,#0x2b
0001b6  2a41              CMP      r2,#0x41
;;;415    snmp_bps_temperature[1]=bps[1]._Ti;
0001b8  d103              BNE      |L10.450|
0001ba  f89d1011          LDRB     r1,[sp,#0x11]
0001be  2941              CMP      r1,#0x41
;;;416    snmp_bps_stat[1]=bps[1]._av;
0001c0  d026              BEQ      |L10.528|
                  |L10.450|
0001c2  a0b8              ADR      r0,|L10.1188|
0001c4  6801              LDR      r1,[r0,#0]
;;;417    if(!(NUMIST>1))snmp_bps_stat[1]=0xff;												//Байт состояния БПСа.
0001c6  f8c4102b          STR      r1,[r4,#0x2b]
0001ca  6841              LDR      r1,[r0,#4]
;;;418    /*if(St_[1]&(1<<2))snmp_bps_stat[1]=(1<<3); 							//авария по Umin
;;;419    else if(St_[1]&(1<<3))snmp_bps_stat[1]=(1<<2); 						//авария по Umax
;;;420    else if(St_[1]&(1<<4))snmp_bps_stat[1]=(1<<1); 						//авария по Tmax
;;;421    else if(St_[1]&(1<<5))snmp_bps_stat[1]=(1<<5); 						//заблокирован
;;;422    else if((!(St_[1]&0x3c))&&(!St&0x01)&&(!OFFBP2))snmp_bps_stat[1]=1; 		//Работает
;;;423    */
;;;424    
;;;425    snmp_bps_number[2]=3;
0001cc  f8c4102f          STR      r1,[r4,#0x2f]
0001d0  8900              LDRH     r0,[r0,#8]
0001d2  f8a40033          STRH     r0,[r4,#0x33]
;;;426    snmp_bps_voltage[2]=bps[2]._Uii;
0001d6  f8847035          STRB     r7,[r4,#0x35]
0001da  f89d000e          LDRB     r0,[sp,#0xe]
;;;427    snmp_bps_current[2]=bps[2]._Ii;
0001de  f89d100d          LDRB     r1,[sp,#0xd]
0001e2  e9cd1000          STRD     r1,r0,[sp,#0]
0001e6  f89d300c          LDRB     r3,[sp,#0xc]
0001ea  e004              B        |L10.502|
                  |L10.492|
0001ec  e241              B        |L10.1650|
                  |L10.494|
;;;428    snmp_bps_temperature[2]=bps[2]._Ti;
0001ee  e248              B        |L10.1666|
                  |L10.496|
0001f0  e254              B        |L10.1692|
                  |L10.498|
0001f2  e25b              B        |L10.1708|
                  |L10.500|
0001f4  e262              B        |L10.1724|
                  |L10.502|
0001f6  f89d1011          LDRB     r1,[sp,#0x11]
;;;429    snmp_bps_stat[2]=bps[2]._av;
0001fa  f89d0012          LDRB     r0,[sp,#0x12]
0001fe  f7fffffe          BL       datatime2str
;;;430    if(!(NUMIST>2))snmp_bps_stat[2]=0xff;
000202  4601              MOV      r1,r0
000204  f1040036          ADD      r0,r4,#0x36
;;;431    
;;;432    snmp_bps_number[3]=4;
000208  2213              MOVS     r2,#0x13
00020a  f7fffffe          BL       __aeabi_memcpy
                  |L10.526|
;;;433    snmp_bps_voltage[3]=bps[3]._Uii;
00020e  e7aa              B        |L10.358|
                  |L10.528|
000210  220d              MOVS     r2,#0xd
000212  a1a8              ADR      r1,|L10.1204|
000214  f7fffffe          BL       __aeabi_memcpy
;;;434    snmp_bps_current[3]=bps[3]._Ii;
000218  e7a5              B        |L10.358|
                  |L10.538|
00021a  f04f0500          MOV      r5,#0
00021e  f89d001e          LDRB     r0,[sp,#0x1e]
;;;435    snmp_bps_temperature[3]=bps[3]._Ti;
000222  2843              CMP      r0,#0x43
000224  d14e              BNE      |L10.708|
000226  2215              MOVS     r2,#0x15
000228  a1a6              ADR      r1,|L10.1220|
00022a  4620              MOV      r0,r4
00022c  f7fffffe          BL       __aeabi_memcpy
;;;436    snmp_bps_stat[3]=bps[3]._av;
000230  f89d0016          LDRB     r0,[sp,#0x16]
000234  f89d1015          LDRB     r1,[sp,#0x15]
;;;437    if(!(NUMIST>3))snmp_bps_stat[3]=0xff;
000238  e9cd1000          STRD     r1,r0,[sp,#0]
00023c  f89d3014          LDRB     r3,[sp,#0x14]
;;;438    
;;;439    snmp_bps_number[4]=5;
000240  f89d2018          LDRB     r2,[sp,#0x18]
000244  f89d1019          LDRB     r1,[sp,#0x19]
;;;440    snmp_bps_voltage[4]=bps[4]._Uii;
000248  f89d001a          LDRB     r0,[sp,#0x1a]
00024c  f7fffffe          BL       datatime2str
000250  4601              MOV      r1,r0
000252  2213              MOVS     r2,#0x13
000254  4650              MOV      r0,r10
;;;441    snmp_bps_current[4]=bps[4]._Ii;
000256  f7fffffe          BL       __aeabi_memcpy
00025a  f8848028          STRB     r8,[r4,#0x28]
;;;442    snmp_bps_temperature[4]=bps[4]._Ti;
00025e  2216              MOVS     r2,#0x16
000260  a19e              ADR      r1,|L10.1244|
000262  4648              MOV      r0,r9
000264  f7fffffe          BL       __aeabi_memcpy
;;;443    snmp_bps_stat[4]=bps[4]._av;
000268  4867              LDR      r0,|L10.1032|
00026a  f89d2010          LDRB     r2,[sp,#0x10]
;;;444    if(!(NUMIST>4))snmp_bps_stat[4]=0xff;
00026e  eb0010c6          ADD      r0,r0,r6,LSL #7
000272  303f              ADDS     r0,r0,#0x3f
;;;445    
;;;446    snmp_bps_number[5]=6;
000274  2a41              CMP      r2,#0x41
000276  d103              BNE      |L10.640|
000278  f89d1011          LDRB     r1,[sp,#0x11]
;;;447    snmp_bps_voltage[5]=bps[5]._Uii;
00027c  2941              CMP      r1,#0x41
00027e  d026              BEQ      |L10.718|
                  |L10.640|
000280  a088              ADR      r0,|L10.1188|
000282  6801              LDR      r1,[r0,#0]
000284  f8c4103f          STR      r1,[r4,#0x3f]
000288  6841              LDR      r1,[r0,#4]
00028a  f8c41043          STR      r1,[r4,#0x43]
;;;448    snmp_bps_current[5]=bps[5]._Ii;
00028e  8900              LDRH     r0,[r0,#8]
000290  f8a40047          STRH     r0,[r4,#0x47]
;;;449    snmp_bps_temperature[5]=bps[5]._Ti;
000294  f8847049          STRB     r7,[r4,#0x49]
000298  f04f054a          MOV      r5,#0x4a
;;;450    snmp_bps_stat[5]=bps[5]._av;
00029c  f89d000e          LDRB     r0,[sp,#0xe]
0002a0  f89d100d          LDRB     r1,[sp,#0xd]
;;;451    if(!(NUMIST>5))snmp_bps_stat[5]=0xff;
0002a4  e9cd1000          STRD     r1,r0,[sp,#0]
0002a8  f89d300c          LDRB     r3,[sp,#0xc]
;;;452    
;;;453    snmp_bps_number[6]=7;
0002ac  f89d1011          LDRB     r1,[sp,#0x11]
0002b0  f89d0012          LDRB     r0,[sp,#0x12]
;;;454    snmp_bps_voltage[6]=bps[6]._Uii;
0002b4  f7fffffe          BL       datatime2str
0002b8  4601              MOV      r1,r0
0002ba  f104004a          ADD      r0,r4,#0x4a
;;;455    snmp_bps_current[6]=bps[6]._Ii;
0002be  2213              MOVS     r2,#0x13
0002c0  f7fffffe          BL       __aeabi_memcpy
                  |L10.708|
;;;456    snmp_bps_temperature[6]=bps[6]._Ti;
0002c4  f89d001e          LDRB     r0,[sp,#0x1e]
0002c8  285a              CMP      r0,#0x5a
0002ca  d007              BEQ      |L10.732|
;;;457    snmp_bps_stat[6]=bps[6]._av;
0002cc  e053              B        |L10.886|
                  |L10.718|
0002ce  220d              MOVS     r2,#0xd
0002d0  a178              ADR      r1,|L10.1204|
;;;458    if(!(NUMIST>6))snmp_bps_stat[6]=0xff;
0002d2  f7fffffe          BL       __aeabi_memcpy
0002d6  f04f054c          MOV      r5,#0x4c
;;;459    
;;;460    snmp_bps_number[7]=8;
0002da  e7f3              B        |L10.708|
                  |L10.732|
0002dc  1960              ADDS     r0,r4,r5
0002de  2220              MOVS     r2,#0x20
;;;461    snmp_bps_voltage[7]=bps[7]._Uii;
0002e0  a184              ADR      r1,|L10.1268|
0002e2  f7fffffe          BL       __aeabi_memcpy
0002e6  f1050520          ADD      r5,r5,#0x20
;;;462    snmp_bps_current[7]=bps[7]._Ii;
0002ea  b2ed              UXTB     r5,r5
0002ec  f89d0016          LDRB     r0,[sp,#0x16]
0002f0  f89d1015          LDRB     r1,[sp,#0x15]
;;;463    snmp_bps_temperature[7]=bps[7]._Ti;
0002f4  e9cd1000          STRD     r1,r0,[sp,#0]
0002f8  f89d3014          LDRB     r3,[sp,#0x14]
;;;464    snmp_bps_stat[7]=bps[7]._av;
0002fc  f89d2018          LDRB     r2,[sp,#0x18]
;;;465    if(!(NUMIST>7))snmp_bps_stat[7]=0xff;
000300  f89d1019          LDRB     r1,[sp,#0x19]
000304  f89d001a          LDRB     r0,[sp,#0x1a]
;;;466    
;;;467    
;;;468    
;;;469    snmp_inv_number[0]=1;
000308  f7fffffe          BL       datatime2str
00030c  4601              MOV      r1,r0
00030e  1960              ADDS     r0,r4,r5
000310  2213              MOVS     r2,#0x13
;;;470    snmp_inv_voltage[0]=inv[0]._Uio;
000312  f7fffffe          BL       __aeabi_memcpy
000316  f1050513          ADD      r5,r5,#0x13
00031a  b2e8              UXTB     r0,r5
00031c  f8048000          STRB     r8,[r4,r0]
;;;471    snmp_inv_current[0]=inv[0]._Ii;
000320  f1000001          ADD      r0,r0,#1
000324  b2c5              UXTB     r5,r0
000326  f89d2010          LDRB     r2,[sp,#0x10]
00032a  2a41              CMP      r2,#0x41
;;;472    snmp_inv_temperature[0]=inv[0]._Ti;
00032c  d103              BNE      |L10.822|
00032e  f89d0011          LDRB     r0,[sp,#0x11]
000332  2841              CMP      r0,#0x41
000334  d04e              BEQ      |L10.980|
                  |L10.822|
000336  a178              ADR      r1,|L10.1304|
;;;473    snmp_inv_stat[0]=inv[0]._flags_tm;
000338  eb040005          ADD      r0,r4,r5
00033c  680b              LDR      r3,[r1,#0]
00033e  6003              STR      r3,[r0,#0]
000340  684b              LDR      r3,[r1,#4]
000342  6043              STR      r3,[r0,#4]
;;;474    
;;;475    snmp_inv_number[1]=2;
000344  8909              LDRH     r1,[r1,#8]
000346  8101              STRH     r1,[r0,#8]
000348  7287              STRB     r7,[r0,#0xa]
00034a  f105050b          ADD      r5,r5,#0xb
;;;476    snmp_inv_voltage[1]=inv[1]._Uio;
00034e  b2ed              UXTB     r5,r5
000350  f89d000e          LDRB     r0,[sp,#0xe]
;;;477    snmp_inv_current[1]=inv[1]._Ii;
000354  f89d100d          LDRB     r1,[sp,#0xd]
000358  e9cd1000          STRD     r1,r0,[sp,#0]
;;;478    snmp_inv_temperature[1]=inv[1]._Ti;
00035c  f89d300c          LDRB     r3,[sp,#0xc]
000360  f89d1011          LDRB     r1,[sp,#0x11]
;;;479    snmp_inv_stat[1]=inv[1]._flags_tm;
000364  f89d0012          LDRB     r0,[sp,#0x12]
000368  f7fffffe          BL       datatime2str
;;;480    
;;;481    snmp_inv_number[2]=3;
00036c  4601              MOV      r1,r0
00036e  1960              ADDS     r0,r4,r5
000370  2213              MOVS     r2,#0x13
000372  f7fffffe          BL       __aeabi_memcpy
                  |L10.886|
;;;482    snmp_inv_voltage[2]=inv[2]._Uio;
000376  f89d001e          LDRB     r0,[sp,#0x1e]
;;;483    snmp_inv_current[2]=inv[2]._Ii;
00037a  284b              CMP      r0,#0x4b
00037c  f47faf47          BNE      |L10.526|
;;;484    snmp_inv_temperature[2]=inv[2]._Ti;
000380  1960              ADDS     r0,r4,r5
000382  221d              MOVS     r2,#0x1d
;;;485    snmp_inv_stat[2]=inv[2]._flags_tm;
000384  a168              ADR      r1,|L10.1320|
000386  f7fffffe          BL       __aeabi_memcpy
00038a  f105051d          ADD      r5,r5,#0x1d
;;;486    
;;;487    
;;;488    
;;;489    
;;;490    					  
;;;491    snmp_sk_number[0]=1;
00038e  b2ed              UXTB     r5,r5
000390  f89d0016          LDRB     r0,[sp,#0x16]
;;;492    memcpy(&snmp_sk_name[0][0],"Door",10);
000394  f89d1015          LDRB     r1,[sp,#0x15]
000398  e9cd1000          STRD     r1,r0,[sp,#0]
00039c  f89d3014          LDRB     r3,[sp,#0x14]
0003a0  f89d2018          LDRB     r2,[sp,#0x18]
0003a4  f89d1019          LDRB     r1,[sp,#0x19]
0003a8  f89d001a          LDRB     r0,[sp,#0x1a]
0003ac  f7fffffe          BL       datatime2str
;;;493    if(sk_stat[0]==ssON) snmp_sk_aktiv[0]=1;
0003b0  4601              MOV      r1,r0
0003b2  1960              ADDS     r0,r4,r5
0003b4  2213              MOVS     r2,#0x13
0003b6  f7fffffe          BL       __aeabi_memcpy
0003ba  f1050513          ADD      r5,r5,#0x13
;;;494    else snmp_sk_aktiv[0]=0;
;;;495    if(!SK_SIGN[0])snmp_sk_alarm_aktiv[0]=1;
0003be  b2e8              UXTB     r0,r5
0003c0  f8048000          STRB     r8,[r4,r0]
0003c4  f1000001          ADD      r0,r0,#1
0003c8  b2c1              UXTB     r1,r0
;;;496    else snmp_sk_alarm_aktiv[0]=0;
0003ca  f89d2010          LDRB     r2,[sp,#0x10]
;;;497    if(sk_av_stat[0]==sasON)	snmp_sk_alarm[0]=1;
0003ce  2a41              CMP      r2,#0x41
0003d0  d009              BEQ      |L10.998|
0003d2  e00c              B        |L10.1006|
                  |L10.980|
0003d4  1960              ADDS     r0,r4,r5
0003d6  220d              MOVS     r2,#0xd
0003d8  a15b              ADR      r1,|L10.1352|
0003da  f7fffffe          BL       __aeabi_memcpy
;;;498    else                     snmp_sk_alarm[0]=0;
;;;499    
;;;500    
;;;501    snmp_sk_number[1]=2;
0003de  f105050d          ADD      r5,r5,#0xd
;;;502    memcpy(&snmp_sk_name[1][0],"Smoke",10);
0003e2  b2ed              UXTB     r5,r5
0003e4  e7c7              B        |L10.886|
                  |L10.998|
0003e6  f89d0011          LDRB     r0,[sp,#0x11]
0003ea  2841              CMP      r0,#0x41
0003ec  d00a              BEQ      |L10.1028|
                  |L10.1006|
0003ee  a34a              ADR      r3,|L10.1304|
0003f0  eb040001          ADD      r0,r4,r1
0003f4  681d              LDR      r5,[r3,#0]
0003f6  6005              STR      r5,[r0,#0]
0003f8  685d              LDR      r5,[r3,#4]
0003fa  6045              STR      r5,[r0,#4]
0003fc  891b              LDRH     r3,[r3,#8]
;;;503    if(sk_stat[1]==ssON) snmp_sk_aktiv[1]=1;
0003fe  8103              STRH     r3,[r0,#8]
000400  7287              STRB     r7,[r0,#0xa]
000402  e0a9              B        |L10.1368|
                  |L10.1028|
000404  e0e6              B        |L10.1492|
000406  0000              DCW      0x0000
                  |L10.1032|
                          DCD      ||.data||+0x18c
                  |L10.1036|
                          DCD      ||.constdata||
                  |L10.1040|
000410  c1cfd120          DCB      193,207,209," ",185,"      ",0
000414  b9202020
000418  20202000
                  |L10.1052|
00041c  202020c0          DCB      "   ",192,226,224,240,232,255,"!!!@  ",0
000420  e2e0f0e8
000424  ff212121
000428  40202000
                  |L10.1068|
00042c  4020f4e8          DCB      "@ ",244,232,227,237,255,"  ",0
000430  e3edff20
000434  2000    
000436  00                DCB      0
000437  00                DCB      0
                  |L10.1080|
000438  c2eaebfe          DCB      194,234,235,254,247,229,237,232,229," ",200,193,221,207,224
00043c  f7e5ede8
000440  e520c8c1
000444  ddcfe0  
000447  40202020          DCB      "@                                      ",0
00044b  20202020
00044f  20202020
000453  20202020
000457  20202020
00045b  20202020
00045f  20202020
000463  20202020
000467  20202020
00046b  20202000
00046f  00                DCB      0
                  |L10.1136|
000470  40202020          DCB      "@                   ",0
000474  20202020
000478  20202020
00047c  20202020
000480  20202020
000484  00      
000485  00                DCB      0
000486  00                DCB      0
000487  00                DCB      0
                  |L10.1160|
000488  c0e2e0f0          DCB      192,226,224,240,232,255," ",239,232,242,224,254,249,229,233
00048c  e8ff20ef
000490  e8f2e0fe
000494  f9e5e9  
000497  20f1e5f2          DCB      " ",241,229,242,232," @  ",0
00049b  e8204020
00049f  2000    
0004a1  00                DCB      0
0004a2  00                DCB      0
0004a3  00                DCB      0
                  |L10.1188|
0004a4  20f3f1f2          DCB      " ",243,241,242,240,224,237,229,237,224,"   ",0
0004a8  f0e0ede5
0004ac  ede02020
0004b0  2000    
0004b2  00                DCB      0
0004b3  00                DCB      0
                  |L10.1204|
0004b4  20ede520          DCB      " ",237,229," ",243,241,242,240,224,237,229,237,224,"  ",0
0004b8  f3f1f2f0
0004bc  e0ede5ed
0004c0  e0202000
                  |L10.1220|
0004c4  c1e0f2e0          DCB      193,224,242,224,240,229,255,".  ",192,226,224,240,232,255
0004c8  f0e5ff2e
0004cc  2020c0e2
0004d0  e0f0e8ff
0004d4  21212120          DCB      "!!! @  ",0
0004d8  40202000
                  |L10.1244|
0004dc  c1e0f2e0          DCB      193,224,242,224,240,229,255," ",237,229," ",238,225,237,224
0004e0  f0e5ff20
0004e4  ede520ee
0004e8  e1ede0  
0004eb  f0f3e6e5          DCB      240,243,230,229,237,224,", ",0
0004ef  ede02c20
0004f3  00      
                  |L10.1268|
0004f4  c1e0f2e0          DCB      193,224,242,224,240,229,255,".  ",194,251,240,224,226,237
0004f8  f0e5ff2e
0004fc  2020c2fb
000500  f0e0e2ed
000504  e8e2e0fe          DCB      232,226,224,254,249,232,233," ",231,224,240,255,228," @ "
000508  f9e8e920
00050c  e7e0f0ff
000510  e4204020
000514  2000              DCB      " ",0
000516  00                DCB      0
000517  00                DCB      0
                  |L10.1304|
000518  20e7e0e2          DCB      " ",231,224,226,229,240,248,229,237,"   ",0
00051c  e5f0f8e5
000520  ed202020
000524  00      
000525  00                DCB      0
000526  00                DCB      0
000527  00                DCB      0
                  |L10.1320|
000528  c1e0f2e0          DCB      193,224,242,224,240,229,255,".  ",202,238,237,242,240,238
00052c  f0e5ff2e
000530  2020caee
000534  edf2f0ee
000538  ebfc20e5          DCB      235,252," ",229,236,234,238,241,242,232," @  ",0
00053c  eceaeef1
000540  f2e82040
000544  202000  
000547  00                DCB      0
                  |L10.1352|
000548  20ede520          DCB      " ",237,229," ",231,224,226,229,240,248,229,237,"  ",0
00054c  e7e0e2e5
000550  f0f8e5ed
000554  202000  
000557  00                DCB      0
                  |L10.1368|
;;;504    else snmp_sk_aktiv[1]=0;
;;;505    if(!SK_SIGN[1])snmp_sk_alarm_aktiv[1]=1;
;;;506    else snmp_sk_alarm_aktiv[1]=0;
;;;507    if(sk_av_stat[1]==sasON)	snmp_sk_alarm[1]=1;
;;;508    else                     snmp_sk_alarm[1]=0;
;;;509    
;;;510    snmp_sk_number[2]=3;
;;;511    memcpy(&snmp_sk_name[2][0],"Shock",10);
;;;512    if(sk_stat[2]==ssON) snmp_sk_aktiv[2]=1;
;;;513    else snmp_sk_aktiv[2]=0;
;;;514    if(!SK_SIGN[2])snmp_sk_alarm_aktiv[2]=1;
;;;515    else snmp_sk_alarm_aktiv[2]=0;
;;;516    if(sk_av_stat[2]==sasON)	snmp_sk_alarm[2]=1;
;;;517    else                     snmp_sk_alarm[2]=0;
;;;518    
;;;519    snmp_sk_number[3]=4;
;;;520    memcpy(&snmp_sk_name[3][0],"     ",10);
;;;521    if(sk_stat[3]==ssON) snmp_sk_aktiv[3]=1;
000558  f101010b          ADD      r1,r1,#0xb
00055c  b2cd              UXTB     r5,r1
00055e  f89d000e          LDRB     r0,[sp,#0xe]
;;;522    else snmp_sk_aktiv[3]=0;
000562  f89d100d          LDRB     r1,[sp,#0xd]
;;;523    if(!SK_SIGN[3])snmp_sk_alarm_aktiv[3]=1;
000566  e9cd1000          STRD     r1,r0,[sp,#0]
;;;524    else snmp_sk_alarm_aktiv[3]=0;
00056a  f89d300c          LDRB     r3,[sp,#0xc]
;;;525    if(sk_av_stat[3]==sasON)	snmp_sk_alarm[3]=1;
00056e  f89d1011          LDRB     r1,[sp,#0x11]
000572  f89d0012          LDRB     r0,[sp,#0x12]
;;;526    else                     snmp_sk_alarm[3]=0;
;;;527    
;;;528    
;;;529    if(makb[0]._cnt>8) snmp_makb_connect_status[0]=1;
000576  f7fffffe          BL       datatime2str
00057a  4601              MOV      r1,r0
00057c  442c              ADD      r4,r4,r5
00057e  2213              MOVS     r2,#0x13
000580  4620              MOV      r0,r4
000582  f7fffffe          BL       __aeabi_memcpy
000586  2227              MOVS     r2,#0x27
000588  a160              ADR      r1,|L10.1804|
00058a  4620              MOV      r0,r4                 ;493
00058c  f7fffffe          BL       __aeabi_memcpy
000590  f89d001b          LDRB     r0,[sp,#0x1b]         ;495
000594  f89d1017          LDRB     r1,[sp,#0x17]         ;497
000598  eb002001          ADD      r0,r0,r1,LSL #8       ;503
00059c  b202              SXTH     r2,r0                 ;505
00059e  f04f010a          MOV      r1,#0xa               ;505
0005a2  fb92f0f1          SDIV     r0,r2,r1              ;507
0005a6  fb012210          MLS      r2,r1,r0,r2           ;512
0005aa  f1020230          ADD      r2,r2,#0x30           ;514
0005ae  72a2              STRB     r2,[r4,#0xa]          ;516
0005b0  b200              SXTH     r0,r0                 ;521
0005b2  fb90f2f1          SDIV     r2,r0,r1              ;521
0005b6  fb010012          MLS      r0,r1,r2,r0           ;523
0005ba  f1000030          ADD      r0,r0,#0x30           ;525
;;;530    else if(makb[0]._cnt<2) snmp_makb_connect_status[0]=0;
0005be  7220              STRB     r0,[r4,#8]
0005c0  b210              SXTH     r0,r2
;;;531    if(makb[1]._cnt>8) snmp_makb_connect_status[1]=1;
0005c2  b170              CBZ      r0,|L10.1506|
0005c4  fb90f2f1          SDIV     r2,r0,r1
0005c8  fb010012          MLS      r0,r1,r2,r0
0005cc  f1000030          ADD      r0,r0,#0x30
;;;532    else if(makb[1]._cnt<2) snmp_makb_connect_status[1]=0;
0005d0  71e0              STRB     r0,[r4,#7]
0005d2  e007              B        |L10.1508|
                  |L10.1492|
;;;533    if(makb[2]._cnt>8) snmp_makb_connect_status[2]=1;
0005d4  1860              ADDS     r0,r4,r1
0005d6  220d              MOVS     r2,#0xd
0005d8  f2af0194          ADR      r1,|L10.1352|
0005dc  f7fffffe          BL       __aeabi_memcpy
;;;534    else if(makb[2]._cnt<2) snmp_makb_connect_status[2]=0;
0005e0  e5c1              B        |L10.358|
                  |L10.1506|
0005e2  71e7              STRB     r7,[r4,#7]
                  |L10.1508|
0005e4  f89d000a          LDRB     r0,[sp,#0xa]
;;;535    if(makb[3]._cnt>8) snmp_makb_connect_status[3]=1;
0005e8  f89d200b          LDRB     r2,[sp,#0xb]
0005ec  eb002002          ADD      r0,r0,r2,LSL #8
0005f0  b200              SXTH     r0,r0
;;;536    else if(makb[3]._cnt<2) snmp_makb_connect_status[3]=0;
0005f2  fb90f2f1          SDIV     r2,r0,r1
0005f6  fb010012          MLS      r0,r1,r2,r0
;;;537    
;;;538    snmp_makb_voltage0[0]=makb[0]._Ub[0];
0005fa  f1000030          ADD      r0,r0,#0x30
0005fe  75a0              STRB     r0,[r4,#0x16]
000600  b210              SXTH     r0,r2
000602  fb90f2f1          SDIV     r2,r0,r1
000606  fb010012          MLS      r0,r1,r2,r0
;;;539    snmp_makb_voltage1[0]=makb[0]._Ub[1];
00060a  f1000030          ADD      r0,r0,#0x30
00060e  7520              STRB     r0,[r4,#0x14]
000610  b210              SXTH     r0,r2
;;;540    snmp_makb_voltage2[0]=makb[0]._Ub[2];
000612  b138              CBZ      r0,|L10.1572|
000614  fb90f2f1          SDIV     r2,r0,r1
000618  fb010012          MLS      r0,r1,r2,r0
;;;541    snmp_makb_voltage3[0]=makb[0]._Ub[3];
00061c  f1000030          ADD      r0,r0,#0x30
000620  74e0              STRB     r0,[r4,#0x13]
000622  e000              B        |L10.1574|
                  |L10.1572|
000624  74e7              STRB     r7,[r4,#0x13]
                  |L10.1574|
;;;542    snmp_makb_voltage4[0]=makb[0]._Ub[4];
000626  f89d0008          LDRB     r0,[sp,#8]
00062a  f89d2009          LDRB     r2,[sp,#9]
00062e  eb002002          ADD      r0,r0,r2,LSL #8
;;;543    snmp_makb_voltage0[1]=makb[1]._Ub[0];
000632  b202              SXTH     r2,r0
000634  fb92f0f1          SDIV     r0,r2,r1
000638  fb012210          MLS      r2,r1,r0,r2
;;;544    snmp_makb_voltage1[1]=makb[1]._Ub[1];
00063c  f1020230          ADD      r2,r2,#0x30
000640  f8842023          STRB     r2,[r4,#0x23]
;;;545    snmp_makb_voltage2[1]=makb[1]._Ub[2];
000644  b200              SXTH     r0,r0
000646  fb90f2f1          SDIV     r2,r0,r1
00064a  fb010012          MLS      r0,r1,r2,r0
;;;546    snmp_makb_voltage3[1]=makb[1]._Ub[3];
00064e  f1000030          ADD      r0,r0,#0x30
000652  f8840021          STRB     r0,[r4,#0x21]
000656  b210              SXTH     r0,r2
;;;547    snmp_makb_voltage4[1]=makb[1]._Ub[4];
000658  b140              CBZ      r0,|L10.1644|
00065a  fb90f2f1          SDIV     r2,r0,r1
00065e  fb010012          MLS      r0,r1,r2,r0
;;;548    snmp_makb_voltage0[2]=makb[2]._Ub[0];
000662  f1000030          ADD      r0,r0,#0x30
000666  f8840020          STRB     r0,[r4,#0x20]
;;;549    snmp_makb_voltage1[2]=makb[2]._Ub[1];
00066a  e57c              B        |L10.358|
                  |L10.1644|
00066c  f8847020          STRB     r7,[r4,#0x20]
000670  e579              B        |L10.358|
                  |L10.1650|
;;;550    snmp_makb_voltage2[2]=makb[2]._Ub[2];
000672  2214              MOVS     r2,#0x14
000674  a130              ADR      r1,|L10.1848|
000676  4628              MOV      r0,r5
000678  f7fffffe          BL       __aeabi_memcpy
;;;551    snmp_makb_voltage3[2]=makb[2]._Ub[3];
00067c  f04f0541          MOV      r5,#0x41
000680  e548              B        |L10.276|
                  |L10.1666|
;;;552    snmp_makb_voltage4[2]=makb[2]._Ub[4];
000682  a034              ADR      r0,|L10.1876|
000684  6801              LDR      r1,[r0,#0]
000686  f8c41029          STR      r1,[r4,#0x29]
;;;553    snmp_makb_voltage0[3]=makb[3]._Ub[0];
00068a  6841              LDR      r1,[r0,#4]
00068c  f8c4102d          STR      r1,[r4,#0x2d]
000690  8900              LDRH     r0,[r0,#8]
;;;554    snmp_makb_voltage1[3]=makb[3]._Ub[1];
000692  f8a40031          STRH     r0,[r4,#0x31]
000696  f04f0533          MOV      r5,#0x33
;;;555    snmp_makb_voltage2[3]=makb[3]._Ub[2];
00069a  e53b              B        |L10.276|
                  |L10.1692|
00069c  2210              MOVS     r2,#0x10
00069e  a131              ADR      r1,|L10.1892|
0006a0  4648              MOV      r0,r9
;;;556    snmp_makb_voltage3[3]=makb[3]._Ub[3];
0006a2  f7fffffe          BL       __aeabi_memcpy
0006a6  f04f0539          MOV      r5,#0x39
;;;557    snmp_makb_voltage4[3]=makb[3]._Ub[4];
0006aa  e533              B        |L10.276|
                  |L10.1708|
0006ac  2210              MOVS     r2,#0x10
0006ae  a132              ADR      r1,|L10.1912|
0006b0  4648              MOV      r0,r9
;;;558    
;;;559    snmp_makb_temper0[0]=makb[0]._T[0];
0006b2  f7fffffe          BL       __aeabi_memcpy
0006b6  f04f0539          MOV      r5,#0x39
0006ba  e52b              B        |L10.276|
                  |L10.1724|
0006bc  f89d0011          LDRB     r0,[sp,#0x11]
;;;560    snmp_makb_temper1[0]=makb[0]._T[1];
0006c0  2841              CMP      r0,#0x41
0006c2  d01d              BEQ      |L10.1792|
                  |L10.1732|
0006c4  1960              ADDS     r0,r4,r5
0006c6  220d              MOVS     r2,#0xd
0006c8  a130              ADR      r1,|L10.1932|
;;;561    snmp_makb_temper2[0]=makb[0]._T[2];
0006ca  f7fffffe          BL       __aeabi_memcpy
0006ce  f105050d          ADD      r5,r5,#0xd
0006d2  b2ed              UXTB     r5,r5
0006d4  f89d000e          LDRB     r0,[sp,#0xe]
;;;562    snmp_makb_temper3[0]=makb[0]._T[3];
0006d8  f89d100d          LDRB     r1,[sp,#0xd]
0006dc  e9cd1000          STRD     r1,r0,[sp,#0]
0006e0  f89d300c          LDRB     r3,[sp,#0xc]
;;;563    snmp_makb_temper4[0]=makb[0]._T[4];
0006e4  f89d2010          LDRB     r2,[sp,#0x10]
0006e8  f89d1011          LDRB     r1,[sp,#0x11]
0006ec  f89d0012          LDRB     r0,[sp,#0x12]
;;;564    snmp_makb_temper0[1]=makb[1]._T[0];
0006f0  f7fffffe          BL       datatime2str
0006f4  4601              MOV      r1,r0
;;;565    snmp_makb_temper1[1]=makb[1]._T[1];
0006f6  1960              ADDS     r0,r4,r5
0006f8  2213              MOVS     r2,#0x13
0006fa  f7fffffe          BL       __aeabi_memcpy
;;;566    snmp_makb_temper2[1]=makb[1]._T[2];
0006fe  e532              B        |L10.358|
                  |L10.1792|
000700  1960              ADDS     r0,r4,r5
000702  220f              MOVS     r2,#0xf
000704  a125              ADR      r1,|L10.1948|
;;;567    snmp_makb_temper3[1]=makb[1]._T[3];
000706  f7fffffe          BL       __aeabi_memcpy
00070a  e52c              B        |L10.358|
;;;568    snmp_makb_temper4[1]=makb[1]._T[4];
;;;569    snmp_makb_temper0[2]=makb[2]._T[0];
;;;570    snmp_makb_temper1[2]=makb[2]._T[1];
;;;571    snmp_makb_temper2[2]=makb[2]._T[2];
;;;572    snmp_makb_temper3[2]=makb[2]._T[3];
;;;573    snmp_makb_temper4[2]=makb[2]._T[4];
;;;574    snmp_makb_temper0[3]=makb[3]._T[0];
;;;575    snmp_makb_temper1[3]=makb[3]._T[1];
;;;576    snmp_makb_temper2[3]=makb[3]._T[2];
;;;577    snmp_makb_temper3[3]=makb[3]._T[3];
;;;578    snmp_makb_temper4[3]=makb[3]._T[4];
;;;579    
;;;580    snmp_makb_temper0_stat[0]=makb[0]._T_nd[0];
;;;581    snmp_makb_temper1_stat[0]=makb[0]._T_nd[1];
;;;582    snmp_makb_temper2_stat[0]=makb[0]._T_nd[2];
;;;583    snmp_makb_temper3_stat[0]=makb[0]._T_nd[3];
;;;584    snmp_makb_temper4_stat[0]=makb[0]._T_nd[4];
;;;585    snmp_makb_temper0_stat[1]=makb[1]._T_nd[0];
;;;586    snmp_makb_temper1_stat[1]=makb[1]._T_nd[1];
;;;587    snmp_makb_temper2_stat[1]=makb[1]._T_nd[2];
;;;588    snmp_makb_temper3_stat[1]=makb[1]._T_nd[3];
;;;589    snmp_makb_temper4_stat[1]=makb[1]._T_nd[4];
;;;590    snmp_makb_temper0_stat[2]=makb[2]._T_nd[0];
;;;591    snmp_makb_temper1_stat[2]=makb[2]._T_nd[1];
;;;592    snmp_makb_temper2_stat[2]=makb[2]._T_nd[2];
;;;593    snmp_makb_temper3_stat[2]=makb[2]._T_nd[3];
;;;594    snmp_makb_temper4_stat[2]=makb[2]._T_nd[4];
;;;595    snmp_makb_temper0_stat[3]=makb[3]._T_nd[0];
;;;596    snmp_makb_temper1_stat[3]=makb[3]._T_nd[1];
;;;597    snmp_makb_temper2_stat[3]=makb[3]._T_nd[2];
;;;598    snmp_makb_temper3_stat[3]=makb[3]._T_nd[3];
;;;599    snmp_makb_temper4_stat[3]=makb[3]._T_nd[4];
;;;600    
;;;601    
;;;602    snmp_klimat_box_temper=t_box;
;;;603    snmp_klimat_settings_box_alarm=TBOXMAX;
;;;604    snmp_klimat_settings_vent_on=TBOXVENTON;
;;;605    snmp_klimat_settings_vent_off=TBOXVENTOFF;
;;;606    snmp_klimat_settings_warm_on=TBOXWARMON;
;;;607    snmp_klimat_settings_warm_off=TBOXWARMOFF;
;;;608    snmp_klimat_settings_load_on=TLOADENABLE;
;;;609    snmp_klimat_settings_load_off=TLOADDISABLE;
;;;610    snmp_klimat_settings_batt_on=TBATENABLE;
;;;611    snmp_klimat_settings_batt_off=TBATDISABLE;
;;;612    
;;;613    snmp_dt_ext=t_ext[0];
;;;614    snmp_dt_msan=t_ext[1];
;;;615    snmp_dt_epu=t_ext[2];
;;;616    
;;;617    /*
;;;618    snmp_bat_voltage=Ubat;
;;;619    snmp_bat_current=Ibat;
;;;620    snmp_bat_temperature=t_b;
;;;621    if(BAT_C_REAL==0x5555)
;;;622    	{
;;;623    	snmp_bat_capacity=BAT_C_NOM*10;												    11
;;;624    	}
;;;625    else
;;;626    	{
;;;627    	snmp_bat_capacity=BAT_C_REAL;
;;;628    	}
;;;629    snmp_bat_charge=zar_percent;
;;;630    snmp_bat_status=0;
;;;631    if(St&0x02)snmp_bat_status|=0x01;
;;;632    if(Ibat>0)snmp_bat_status|=0x02;
;;;633    
;;;634    
;;;635    if(spc_stat==spc_OFF) snmp_spc_stat=0;
;;;636    else if(spc_stat==spc_KE) snmp_spc_stat=1;
;;;637    else if(spc_stat==spc_VZ) snmp_spc_stat=10;
;;;638    
;;;639    
;;;640    snmp_main_bps=MAIN_IST+1;
;;;641    */
;;;642    snmp_zv_en=ZV_ON;
;;;643    snmp_alarm_auto_disable=AV_OFF_AVT;
;;;644    snmp_bat_test_time=TBAT;
;;;645    snmp_u_max=UMAX;
;;;646    snmp_u_min=UB20-DU;
;;;647    snmp_u_0_grad=UB0;
;;;648    snmp_u_20_grad=UB20;
;;;649    snmp_u_sign=USIGN;
;;;650    snmp_u_min_power=UMN;
;;;651    snmp_u_withouth_bat=U0B;
;;;652    snmp_control_current=IKB;
;;;653    snmp_max_charge_current=IZMAX;
;;;654    snmp_max_current=IMAX;
;;;655    snmp_min_current=IMIN;
;;;656    //snmp_max_current_koef=KIMAX;
;;;657    snmp_uvz=UVZ;
;;;658    snmp_powerup_psu_timeout=TZAS;
;;;659    snmp_max_temperature=TMAX;
;;;660    snmp_tsign_bat=TBATSIGN; 
;;;661    snmp_tmax_bat=TBATMAX;
;;;662    snmp_tsign_bps=TSIGN;
;;;663    snmp_tmax_bps=TMAX;
;;;664    snmp_bat_part_alarm=UBM_AV; 
;;;665    snmp_power_cnt_adress=POWER_CNT_ADRESS;
;;;666    
;;;667    for(i=0;i<12;i++)
;;;668    	{
;;;669    	snmp_avt_number[i]=i+1;
;;;670    	if(avt_stat[i]==avtOFF)snmp_avt_stat[i]=0;
;;;671    	else snmp_avt_stat[i]=1;
;;;672    	}
;;;673    
;;;674    snmp_dt_number[0]=1;
;;;675    snmp_dt_number[1]=2;
;;;676    snmp_dt_number[2]=3;
;;;677    //snmp_dt_number[3]=4;
;;;678    snmp_dt_temper[0]=t_ext[0];
;;;679    snmp_dt_temper[1]=t_ext[1];
;;;680    snmp_dt_temper[2]=t_ext[2];
;;;681    //snmp_dt_temper[3]=t_ext[3];
;;;682    snmp_dt_error[0]=ND_EXT[0];
;;;683    if(NUMDT<1)snmp_dt_error[0]=0xff;
;;;684    snmp_dt_error[1]=ND_EXT[1];
;;;685    if(NUMDT<2)snmp_dt_error[0]=0xff;
;;;686    snmp_dt_error[2]=ND_EXT[2];
;;;687    if(NUMDT<3)snmp_dt_error[0]=0xff;
;;;688    //snmp_dt_error[3]=ND_EXT[3];
;;;689    if(NUMDT<4)snmp_dt_error[0]=0xff;
;;;690    
;;;691    /*
;;;692    //Литиевые батареи
;;;693    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;694    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;695    snmp_lakb_voltage[0]=lakb[0]._tot_bat_volt;				//Напряжение ЛАКБ
;;;696    snmp_lakb_voltage[1]=lakb[1]._tot_bat_volt;				//Напряжение ЛАКБ
;;;697    snmp_lakb_max_cell_voltage[0]=lakb[0]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;698    snmp_lakb_max_cell_voltage[1]=lakb[1]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;699    snmp_lakb_min_cell_voltage[0]=lakb[0]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;700    snmp_lakb_min_cell_voltage[1]=lakb[1]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;701    snmp_lakb_max_cell_temperature[0]=lakb[0]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;702    snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;703    snmp_lakb_min_cell_temperature[0]=lakb[0]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;704    snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;705    snmp_lakb_ch_curr[0]=lakb[0]._ch_curr;					//Ток заряда ЛАКБ
;;;706    snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;707    snmp_lakb_dsch_curr[0]=lakb[0]._dsch_curr;				//Ток разряда ЛАКБ
;;;708    snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;709    snmp_lakb_rat_cap[0]=lakb[0]._rat_cap;					//Номинальная емкость ЛАКБ
;;;710    snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;711    snmp_lakb_soh[0]=lakb[0]._s_o_h;						//Остаточная емкость ЛАКБ
;;;712    snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;713    snmp_lakb_soc[0]=lakb[0]._s_o_c;						//Заряд ЛАКБ
;;;714    snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;715    snmp_lakb_cclv[0]=lakb[0]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;716    snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;717    snmp_lakb_rbt[0]=lakb[0]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;718    snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;719    snmp_lakb_flags1[0]=lakb[0]._flags1;					//Первый флаг состояния ЛАКБ
;;;720    snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;721    snmp_lakb_flags2[0]=lakb[0]._flags2;					//Второй флаг состояния ЛАКБ
;;;722    snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ */
;;;723    
;;;724    //Литиевые батареи
;;;725    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;726    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;727    snmp_lakb_number[2]=3;								//Номер ЛАКБ
;;;728    snmp_lakb_number[3]=4;								//Номер ЛАКБ
;;;729    snmp_lakb_number[4]=5;								//Номер ЛАКБ
;;;730    snmp_lakb_number[5]=6;								//Номер ЛАКБ
;;;731    snmp_lakb_number[6]=7;								//Номер ЛАКБ
;;;732    
;;;733    for (i=0;i<3;i++)
;;;734    	{
;;;735    	snmp_lakb_voltage[i]=lakb[i]._tot_bat_volt;				//Напряжение ЛАКБ
;;;736    	snmp_lakb_max_cell_voltage[i]=lakb[i]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;737    	snmp_lakb_min_cell_voltage[i]=lakb[i]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;738    	snmp_lakb_max_cell_temperature[i]=lakb[i]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;739    	//snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;740    	snmp_lakb_min_cell_temperature[i]=lakb[i]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;741    	//snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;742    	snmp_lakb_ch_curr[i]=lakb[i]._ch_curr;					//Ток заряда ЛАКБ
;;;743    	//snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;744    	snmp_lakb_dsch_curr[i]=lakb[i]._dsch_curr;				//Ток разряда ЛАКБ
;;;745    	//snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;746    	snmp_lakb_rat_cap[i]=lakb[i]._rat_cap;					//Номинальная емкость ЛАКБ
;;;747    	//snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;748    	snmp_lakb_soh[i]=lakb[i]._s_o_h;						//Остаточная емкость ЛАКБ
;;;749    	//snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;750    	snmp_lakb_soc[i]=lakb[i]._s_o_c;						//Заряд ЛАКБ
;;;751    	//snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;752    	snmp_lakb_cclv[i]=lakb[i]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;753    	//snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;754    	snmp_lakb_rbt[i]=lakb[i]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;755    	//snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;756    	snmp_lakb_flags1[i]=lakb[i]._flags1;					//Первый флаг состояния ЛАКБ
;;;757    	//snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;758    	snmp_lakb_flags2[i]=lakb[i]._flags2;					//Второй флаг состояния ЛАКБ
;;;759    	//snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ
;;;760    
;;;761    	snmp_lakb_cell_temperature_1[i]= lakb[i]._cell_temp_1;
;;;762    	snmp_lakb_cell_temperature_2[i]= lakb[i]._cell_temp_2;
;;;763    	snmp_lakb_cell_temperature_3[i]= lakb[i]._cell_temp_3;
;;;764    	snmp_lakb_cell_temperature_4[i]= lakb[i]._cell_temp_4;
;;;765    	snmp_lakb_cell_temperature_ambient[i]=lakb[i]._cell_temp_ambient;
;;;766    	snmp_lakb_cell_temperature_power[i]=lakb[i]._cell_temp_power;
;;;767    	}
;;;768    
;;;769    for (i=0;i<7;i++)
;;;770    {
;;;771    /*
;;;772    snmp_lakb_damp1[i][0]=ABCDEF[(lakb_damp[i][0])>>4];			//Дамп
;;;773    snmp_lakb_damp1[i][1]=ABCDEF[(lakb_damp[i][0])&0x0f];			//Дамп
;;;774    snmp_lakb_damp1[i][2]=' ';
;;;775    snmp_lakb_damp1[i][3]=ABCDEF[(lakb_damp[i][1])>>4];			//Дамп
;;;776    snmp_lakb_damp1[i][4]=ABCDEF[(lakb_damp[i][1])&0x0f];			//Дамп
;;;777    snmp_lakb_damp1[i][5]=' ';
;;;778    snmp_lakb_damp1[i][6]=ABCDEF[(lakb_damp[i][2])>>4];			//Дамп
;;;779    snmp_lakb_damp1[i][7]=ABCDEF[(lakb_damp[i][2])&0x0f];			//Дамп
;;;780    snmp_lakb_damp1[i][8]=' ';
;;;781    snmp_lakb_damp1[i][9]=ABCDEF[(lakb_damp[i][3])>>4];			//Дамп
;;;782    snmp_lakb_damp1[i][10]=ABCDEF[(lakb_damp[i][3])&0x0f];			//Дамп
;;;783    snmp_lakb_damp1[i][11]=' ';
;;;784    snmp_lakb_damp1[i][12]=ABCDEF[(lakb_damp[i][4])>>4];			//Дамп
;;;785    snmp_lakb_damp1[i][13]=ABCDEF[(lakb_damp[i][4])&0x0f];			//Дамп
;;;786    snmp_lakb_damp1[i][14]=' '; 
;;;787    snmp_lakb_damp1[i][15]=ABCDEF[(lakb_damp[i][5])>>4];			//Дамп
;;;788    snmp_lakb_damp1[i][16]=ABCDEF[(lakb_damp[i][5])&0x0f];			//Дамп
;;;789    snmp_lakb_damp1[i][17]=' ';
;;;790    snmp_lakb_damp1[i][18]=ABCDEF[(lakb_damp[i][6])>>4];			//Дамп
;;;791    snmp_lakb_damp1[i][19]=ABCDEF[(lakb_damp[i][6])&0x0f];			//Дамп
;;;792    snmp_lakb_damp1[i][20]=' ';
;;;793    snmp_lakb_damp1[i][21]=ABCDEF[(lakb_damp[i][7])>>4];			//Дамп
;;;794    snmp_lakb_damp1[i][22]=ABCDEF[(lakb_damp[i][7])&0x0f];			//Дамп
;;;795    snmp_lakb_damp1[i][23]=' ';
;;;796    snmp_lakb_damp1[i][24]=ABCDEF[(lakb_damp[i][8])>>4];			//Дамп
;;;797    snmp_lakb_damp1[i][25]=ABCDEF[(lakb_damp[i][8])&0x0f];			//Дамп
;;;798    snmp_lakb_damp1[i][26]=' ';
;;;799    snmp_lakb_damp1[i][27]=ABCDEF[(lakb_damp[i][9])>>4];			//Дамп
;;;800    snmp_lakb_damp1[i][28]=ABCDEF[(lakb_damp[i][9])&0x0f];			//Дамп
;;;801    snmp_lakb_damp1[i][29]=0; 
;;;802    
;;;803    snmp_lakb_damp1[i][30]=ABCDEF[(lakb_damp[i][10])>>4];			//Дамп
;;;804    snmp_lakb_damp1[i][31]=ABCDEF[(lakb_damp[i][10])&0x0f];			//Дамп
;;;805    snmp_lakb_damp1[i][32]=' ';
;;;806    snmp_lakb_damp1[i][33]=ABCDEF[(lakb_damp[i][11])>>4];			//Дамп
;;;807    snmp_lakb_damp1[i][34]=ABCDEF[(lakb_damp[i][11])&0x0f];			//Дамп
;;;808    snmp_lakb_damp1[i][35]=' ';
;;;809    snmp_lakb_damp1[i][36]=ABCDEF[(lakb_damp[i][12])>>4];			//Дамп
;;;810    snmp_lakb_damp1[i][37]=ABCDEF[(lakb_damp[i][12])&0x0f];			//Дамп
;;;811    snmp_lakb_damp1[i][38]=' ';
;;;812    snmp_lakb_damp1[i][39]=ABCDEF[(lakb_damp[i][13])>>4];			//Дамп
;;;813    snmp_lakb_damp1[i][40]=ABCDEF[(lakb_damp[i][13])&0x0f];			//Дамп
;;;814    snmp_lakb_damp1[i][41]=' ';
;;;815    snmp_lakb_damp1[i][42]=ABCDEF[(lakb_damp[i][14])>>4];			//Дамп
;;;816    snmp_lakb_damp1[i][43]=ABCDEF[(lakb_damp[i][14])&0x0f];			//Дамп
;;;817    snmp_lakb_damp1[i][44]=' '; 
;;;818    snmp_lakb_damp1[i][45]=ABCDEF[(lakb_damp[i][15])>>4];			//Дамп
;;;819    snmp_lakb_damp1[i][46]=ABCDEF[(lakb_damp[i][15])&0x0f];			//Дамп
;;;820    snmp_lakb_damp1[i][47]=' ';
;;;821    snmp_lakb_damp1[i][48]=ABCDEF[(lakb_damp[i][16])>>4];			//Дамп
;;;822    snmp_lakb_damp1[i][49]=ABCDEF[(lakb_damp[i][16])&0x0f];			//Дамп
;;;823    snmp_lakb_damp1[i][50]=' ';
;;;824    snmp_lakb_damp1[i][51]=ABCDEF[(lakb_damp[i][17])>>4];			//Дамп
;;;825    snmp_lakb_damp1[i][52]=ABCDEF[(lakb_damp[i][17])&0x0f];			//Дамп
;;;826    snmp_lakb_damp1[i][53]=' ';
;;;827    snmp_lakb_damp1[i][54]=ABCDEF[(lakb_damp[i][18])>>4];			//Дамп
;;;828    snmp_lakb_damp1[i][55]=ABCDEF[(lakb_damp[i][18])&0x0f];			//Дамп
;;;829    snmp_lakb_damp1[i][56]=' ';
;;;830    snmp_lakb_damp1[i][57]=ABCDEF[(lakb_damp[i][19])>>4];			//Дамп
;;;831    snmp_lakb_damp1[i][58]=ABCDEF[(lakb_damp[i][19])&0x0f];			//Дамп
;;;832    snmp_lakb_damp1[i][59]=0; 
;;;833    
;;;834    
;;;835    snmp_lakb_damp1[i][60]=ABCDEF[(lakb_damp[i][20])>>4];			//Дамп
;;;836    snmp_lakb_damp1[i][61]=ABCDEF[(lakb_damp[i][20])&0x0f];			//Дамп
;;;837    snmp_lakb_damp1[i][62]=' ';
;;;838    snmp_lakb_damp1[i][63]=ABCDEF[(lakb_damp[i][21])>>4];			//Дамп
;;;839    snmp_lakb_damp1[i][64]=ABCDEF[(lakb_damp[i][21])&0x0f];			//Дамп
;;;840    snmp_lakb_damp1[i][65]=' ';
;;;841    snmp_lakb_damp1[i][66]=ABCDEF[(lakb_damp[i][22])>>4];			//Дамп
;;;842    snmp_lakb_damp1[i][67]=ABCDEF[(lakb_damp[i][22])&0x0f];			//Дамп
;;;843    snmp_lakb_damp1[i][68]=' ';
;;;844    snmp_lakb_damp1[i][69]=ABCDEF[(lakb_damp[i][23])>>4];			//Дамп
;;;845    snmp_lakb_damp1[i][70]=ABCDEF[(lakb_damp[i][23])&0x0f];			//Дамп
;;;846    snmp_lakb_damp1[i][71]=' ';
;;;847    snmp_lakb_damp1[i][72]=ABCDEF[(lakb_damp[i][24])>>4];			//Дамп
;;;848    snmp_lakb_damp1[i][73]=ABCDEF[(lakb_damp[i][24])&0x0f];			//Дамп
;;;849    snmp_lakb_damp1[i][74]=' '; 
;;;850    snmp_lakb_damp1[i][75]=ABCDEF[(lakb_damp[i][25])>>4];			//Дамп
;;;851    snmp_lakb_damp1[i][76]=ABCDEF[(lakb_damp[i][25])&0x0f];			//Дамп
;;;852    snmp_lakb_damp1[i][77]=' ';
;;;853    snmp_lakb_damp1[i][78]=ABCDEF[(lakb_damp[i][26])>>4];			//Дамп
;;;854    snmp_lakb_damp1[i][79]=ABCDEF[(lakb_damp[i][26])&0x0f];			//Дамп
;;;855    snmp_lakb_damp1[i][80]=' ';
;;;856    snmp_lakb_damp1[i][81]=ABCDEF[(lakb_damp[i][27])>>4];			//Дамп
;;;857    snmp_lakb_damp1[i][82]=ABCDEF[(lakb_damp[i][27])&0x0f];			//Дамп
;;;858    snmp_lakb_damp1[i][83]=' ';
;;;859    snmp_lakb_damp1[i][84]=ABCDEF[(lakb_damp[i][28])>>4];			//Дамп
;;;860    snmp_lakb_damp1[i][85]=ABCDEF[(lakb_damp[i][28])&0x0f];			//Дамп
;;;861    snmp_lakb_damp1[i][86]=' ';
;;;862    snmp_lakb_damp1[i][87]=ABCDEF[(lakb_damp[i][29])>>4];			//Дамп
;;;863    snmp_lakb_damp1[i][88]=ABCDEF[(lakb_damp[i][29])&0x0f];			//Дамп
;;;864    snmp_lakb_damp1[i][89]=0;
;;;865    
;;;866    
;;;867    snmp_lakb_damp1[i][90]=ABCDEF[(lakb_damp[i][30])>>4];			//Дамп
;;;868    snmp_lakb_damp1[i][91]=ABCDEF[(lakb_damp[i][30])&0x0f];			//Дамп
;;;869    snmp_lakb_damp1[i][92]=' ';
;;;870    snmp_lakb_damp1[i][93]=ABCDEF[(lakb_damp[i][31])>>4];			//Дамп
;;;871    snmp_lakb_damp1[i][94]=ABCDEF[(lakb_damp[i][31])&0x0f];			//Дамп
;;;872    snmp_lakb_damp1[i][95]=' ';
;;;873    snmp_lakb_damp1[i][96]=ABCDEF[(lakb_damp[i][32])>>4];			//Дамп
;;;874    snmp_lakb_damp1[i][97]=ABCDEF[(lakb_damp[i][32])&0x0f];			//Дамп
;;;875    snmp_lakb_damp1[i][98]=' ';
;;;876    snmp_lakb_damp1[i][99]=ABCDEF[(lakb_damp[i][33])>>4];			//Дамп
;;;877    snmp_lakb_damp1[i][100]=ABCDEF[(lakb_damp[i][33])&0x0f];			//Дамп
;;;878    snmp_lakb_damp1[i][101]=' ';
;;;879    snmp_lakb_damp1[i][102]=ABCDEF[(lakb_damp[i][34])>>4];			//Дамп
;;;880    snmp_lakb_damp1[i][103]=ABCDEF[(lakb_damp[i][34])&0x0f];			//Дамп
;;;881    snmp_lakb_damp1[i][104]=' '; 
;;;882    snmp_lakb_damp1[i][105]=ABCDEF[(lakb_damp[i][35])>>4];			//Дамп
;;;883    snmp_lakb_damp1[i][106]=ABCDEF[(lakb_damp[i][35])&0x0f];			//Дамп
;;;884    snmp_lakb_damp1[i][107]=' ';
;;;885    snmp_lakb_damp1[i][108]=ABCDEF[(lakb_damp[i][36])>>4];			//Дамп
;;;886    snmp_lakb_damp1[i][109]=ABCDEF[(lakb_damp[i][36])&0x0f];			//Дамп
;;;887    snmp_lakb_damp1[i][110]=' ';
;;;888    snmp_lakb_damp1[i][111]=ABCDEF[(lakb_damp[i][37])>>4];			//Дамп
;;;889    snmp_lakb_damp1[i][112]=ABCDEF[(lakb_damp[i][37])&0x0f];			//Дамп
;;;890    snmp_lakb_damp1[i][113]=' ';
;;;891    snmp_lakb_damp1[i][114]=ABCDEF[(lakb_damp[i][38])>>4];			//Дамп
;;;892    snmp_lakb_damp1[i][115]=ABCDEF[(lakb_damp[i][38])&0x0f];			//Дамп
;;;893    snmp_lakb_damp1[i][116]=' ';
;;;894    snmp_lakb_damp1[i][117]=ABCDEF[(lakb_damp[i][39])>>4];			//Дамп
;;;895    snmp_lakb_damp1[i][118]=ABCDEF[(lakb_damp[i][39])&0x0f];			//Дамп
;;;896    snmp_lakb_damp1[i][119]=0; 
;;;897     
;;;898    
;;;899    snmp_lakb_damp1[i][120]=ABCDEF[(lakb_damp[i][40])>>4];			//Дамп
;;;900    snmp_lakb_damp1[i][121]=ABCDEF[(lakb_damp[i][40])&0x0f];			//Дамп
;;;901    snmp_lakb_damp1[i][122]=' ';
;;;902    snmp_lakb_damp1[i][123]=ABCDEF[(lakb_damp[i][41])>>4];			//Дамп
;;;903    snmp_lakb_damp1[i][124]=ABCDEF[(lakb_damp[i][41])&0x0f];			//Дамп
;;;904    snmp_lakb_damp1[i][125]=' ';
;;;905    snmp_lakb_damp1[i][126]=ABCDEF[(lakb_damp[i][42])>>4];			//Дамп
;;;906    snmp_lakb_damp1[i][127]=ABCDEF[(lakb_damp[i][42])&0x0f];			//Дамп
;;;907    snmp_lakb_damp1[i][128]=' ';
;;;908    snmp_lakb_damp1[i][129]=ABCDEF[(lakb_damp[i][43])>>4];			//Дамп
;;;909    snmp_lakb_damp1[i][130]=ABCDEF[(lakb_damp[i][43])&0x0f];			//Дамп
;;;910    snmp_lakb_damp1[i][131]=' ';
;;;911    snmp_lakb_damp1[i][132]=ABCDEF[(lakb_damp[i][44])>>4];			//Дамп
;;;912    snmp_lakb_damp1[i][133]=ABCDEF[(lakb_damp[i][44])&0x0f];			//Дамп
;;;913    snmp_lakb_damp1[i][134]=' '; 
;;;914    snmp_lakb_damp1[i][135]=ABCDEF[(lakb_damp[i][45])>>4];			//Дамп
;;;915    snmp_lakb_damp1[i][136]=ABCDEF[(lakb_damp[i][45])&0x0f];			//Дамп
;;;916    snmp_lakb_damp1[i][137]=' ';
;;;917    snmp_lakb_damp1[i][138]=ABCDEF[(lakb_damp[i][46])>>4];			//Дамп
;;;918    snmp_lakb_damp1[i][139]=ABCDEF[(lakb_damp[i][46])&0x0f];			//Дамп
;;;919    snmp_lakb_damp1[i][140]=' ';
;;;920    snmp_lakb_damp1[i][141]=ABCDEF[(lakb_damp[i][47])>>4];			//Дамп
;;;921    snmp_lakb_damp1[i][142]=ABCDEF[(lakb_damp[i][47])&0x0f];			//Дамп
;;;922    snmp_lakb_damp1[i][143]=' ';
;;;923    snmp_lakb_damp1[i][144]=ABCDEF[(lakb_damp[i][48])>>4];			//Дамп
;;;924    snmp_lakb_damp1[i][145]=ABCDEF[(lakb_damp[i][48])&0x0f];			//Дамп
;;;925    snmp_lakb_damp1[i][146]=' ';
;;;926    snmp_lakb_damp1[i][147]=ABCDEF[(lakb_damp[i][49])>>4];			//Дамп
;;;927    snmp_lakb_damp1[i][148]=ABCDEF[(lakb_damp[i][49])&0x0f];			//Дамп
;;;928    snmp_lakb_damp1[i][149]=0;  */
;;;929    }
;;;930    
;;;931    #ifdef UKU_TELECORE2017
;;;932    snmp_warm_sign=0;
;;;933    if(TELECORE2017_KLIMAT_WARM_SIGNAL==0) snmp_warm_sign=2;
;;;934    else if(TELECORE2017_KLIMAT_WARM_SIGNAL==1) snmp_warm_sign=1;
;;;935    snmp_cool_sign=0;
;;;936    if(TELECORE2017_KLIMAT_VENT_SIGNAL==0) snmp_cool_sign=2;
;;;937    else if(TELECORE2017_KLIMAT_VENT_SIGNAL==1) snmp_cool_sign=1;
;;;938    snmp_warm_on_temper=(signed char)TELECORE2017_KLIMAT_WARM_ON; 
;;;939    snmp_warm_off_temper=(signed char)TELECORE2017_KLIMAT_WARM_OFF;
;;;940    snmp_warm_q=(signed char)TELECORE2017_KLIMAT_CAP;	
;;;941    snmp_cool_20_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON20;
;;;942    snmp_cool_40_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON40;
;;;943    snmp_cool_60_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON60;
;;;944    snmp_cool_80_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON80;
;;;945    snmp_cool_100_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON100;
;;;946    snmp_cool_20_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON20;
;;;947    snmp_cool_40_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON40;
;;;948    snmp_cool_60_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON60;
;;;949    snmp_cool_80_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON80;
;;;950    snmp_cool_100_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON100;
;;;951    snmp_warm_stat=0;
;;;952    if(warm_stat_k==wsON) snmp_warm_stat=1;
;;;953    #endif
;;;954    }
;;;955    //-----------------------------------------------
                          ENDP

                  |L10.1804|
00070c  2c2055ed          DCB      ", U",237,224,247,"   , ",194,", U",234,238,237,"   , ",194
000710  e0f72020
000714  202c20c2
000718  2c2055ea
00071c  eeed2020
000720  202c20c2
000724  2c2043e1          DCB      ", C",225,224,242,"    , ",192,"*",247," ",0
000728  e0f22020
00072c  20202c20
000730  c02af720
000734  00      
000735  00                DCB      0
000736  00                DCB      0
000737  00                DCB      0
                  |L10.1848|
000738  40eef2ea          DCB      "@",238,242,234,235,254,247,232,235,241,255,"           "
00073c  ebfef7e8
000740  ebf1ff20
000744  20202020
000748  20202020
00074c  2020    
00074e  202000            DCB      "  ",0
000751  00                DCB      0
000752  00                DCB      0
000753  00                DCB      0
                  |L10.1876|
000754  4020efe5          DCB      "@ ",239,229,240,229,227,240,229,226,"   ",0
000758  f0e5e3f0
00075c  e5e22020
000760  2000    
000762  00                DCB      0
000763  00                DCB      0
                  |L10.1892|
000764  4020e7e0          DCB      "@ ",231,224,226,251,248,229,237,238," U",226,251,245,"."
000768  e2fbf8e5
00076c  edee2055
000770  e2fbf52e
000774  202000            DCB      "  ",0
000777  00                DCB      0
                  |L10.1912|
000778  4020e7e0          DCB      "@ ",231,224,237,232,230,229,237,238," U",226,251,245,"."
00077c  ede8e6e5
000780  edee2055
000784  e2fbf52e
000788  202000            DCB      "  ",0
00078b  00                DCB      0
                  |L10.1932|
00078c  2c2020f3          DCB      ",  ",243,241,242,240,224,237,229,237,224,"   ",0
000790  f1f2f0e0
000794  ede5ede0
000798  20202000
                  |L10.1948|
00079c  2c20ede5          DCB      ", ",237,229," ",243,241,242,240,224,237,229,237,224,"  "
0007a0  20f3f1f2
0007a4  f0e0ede5
0007a8  ede02020
0007ac  00                DCB      0
0007ad  00                DCB      0
0007ae  00                DCB      0
0007af  00                DCB      0

                          AREA ||area_number.11||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.11||, ||.text||
                  snmp_klimat_settings_box_alarm_write PROC
;;;261    //-----------------------------------------------
;;;262    void snmp_data (void) 
000000  2801              CMP      r0,#1
;;;263    {
000002  d105              BNE      |L11.16|
;;;264    char i;
;;;265    
;;;266    snmp_mains_power_voltage=net_U;
000004  4803              LDR      r0,|L11.20|
000006  f9b0107c          LDRSH    r1,[r0,#0x7c]  ; snmp_klimat_settings_box_alarm
00000a  20d0              MOVS     r0,#0xd0
00000c  f7ffbffe          B.W      lc640_write_int
                  |L11.16|
;;;267    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;268    snmp_mains_power_frequency=net_F3;
000010  4770              BX       lr
;;;269    #else
;;;270    snmp_mains_power_frequency=net_F;
;;;271    #endif
;;;272    snmp_mains_power_voltage_phaseA=net_Ua;
;;;273    snmp_mains_power_voltage_phaseB=net_Ub;
;;;274    snmp_mains_power_voltage_phaseC=net_Uc;
;;;275    
;;;276    
;;;277    if(avar_stat&0x0001)snmp_mains_power_alarm=1;
;;;278    else snmp_mains_power_alarm=0;
;;;279    if(avar_stat&0x0001)snmp_mains_power_status=1;
;;;280    else snmp_mains_power_status=0;
;;;281    
;;;282    /*
;;;283    snmp_mains_power_status=0; 
;;;284    #if(UKU_VERSION==900)
;;;285    snmp_mains_power_status=2;
;;;286    #endif
;;;287    if(St&0x01)snmp_mains_power_status|=0x01;
;;;288    if(St&0x01)snmp_mains_power_alarm=1;
;;;289    
;;;290    
;;;291    
;;;292    
;;;293    
;;;294    
;;;295    for(i=0;i<snmp_numofevents;i++)event2snmp(i);
;;;296    //snmp_bpsnumber[0]=1;
;;;297    //snmp_bpsnumber[1]=2;
;;;298    
;;;299    
;;;300    snmp_sernum_lsb=0x1122;
;;;301    snmp_sernum_msb=0x3344;
;;;302    snmp_device_code=AUSW_MAIN;
;;;303    
;;;304    //memcpy(snmp_location,"lkhg;la",);
;;;305    
;;;306    
;;;307    snmp_numofbat=1;
;;;308    
;;;309    */
;;;310    snmp_sernum=AUSW_MAIN_NUMBER;
;;;311    
;;;312    snmp_load_voltage=load_U;
;;;313    snmp_load_current=load_I;
;;;314    snmp_numofbat=NUMBAT;
;;;315    snmp_numofbps=NUMIST;
;;;316    snmp_numofinv=NUMINV;
;;;317    snmp_numofavt=NUMAVT;
;;;318    snmp_numofdt=NUMDT;
;;;319    snmp_numofsk=NUMSK;
;;;320    snmp_numofevents=lc640_read_int(CNT_EVENT_LOG);
;;;321    
;;;322    snmp_energy_vvod_phase_a=Uvv_eb2[0];
;;;323    snmp_energy_vvod_phase_b=Uvv_eb2[1];
;;;324    snmp_energy_vvod_phase_c=Uvv_eb2[2];
;;;325    snmp_energy_pes_phase_a=Upes_eb2[0];
;;;326    snmp_energy_pes_phase_b=Upes_eb2[1];
;;;327    snmp_energy_pes_phase_c=Upes_eb2[2];
;;;328    
;;;329    #ifdef UKU_KONTUR
;;;330    snmp_energy_vvod_phase_a=Uvv0;
;;;331    snmp_energy_pes_phase_a=Uvv[1];
;;;332    #endif
;;;333    
;;;334    snmp_energy_total_energy=power_summary;
;;;335    snmp_energy_current_energy=power_current;
;;;336    snmp_energy_input_voltage=net_U;
;;;337    
;;;338    
;;;339    #ifdef UKU_ZVU
;;;340    snmp_bat_number[0]=1;
;;;341    snmp_bat_voltage[0]=out_U;
;;;342    snmp_bat_current[0]=Ib_ips_termokompensat;
;;;343    snmp_bat_rem_time[0]=bat_hndl_t_razr_min;
;;;344    if(Ib_ips_termokompensat>0)snmp_bat_rem_time[0]=-1;
;;;345    snmp_bat_temperature[0]=t_ext[0];
;;;346    if(ND_EXT[0])snmp_bat_temperature[0]=-1000;
;;;347    snmp_bat_capacity[0]=BAT_C_POINT_20;
;;;348    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;349    snmp_bat_status[0]=bat_ips._av&1;
;;;350    if(NUMBAT==0)snmp_bat_status[0]=0xff;
;;;351    #endif
;;;352    
;;;353    #ifndef UKU_ZVU
;;;354    snmp_bat_number[0]=1;
;;;355    snmp_bat_voltage[0]=bat[0]._Ub;
;;;356    snmp_bat_part_voltage[0]=bat[0]._Ubm;
;;;357    snmp_bat_current[0]=bat[0]._Ib;
;;;358    
;;;359    /*
;;;360    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;361    if(((AUSW_MAIN==22063)||(AUSW_MAIN==22023))&&(bps[8]._device==dIBAT_METR))
;;;362    	{
;;;363    	snmp_bat_current[0]=Ib_ips_termokompensat;
;;;364    	}
;;;365    #endif*/
;;;366    
;;;367    snmp_bat_temperature[0]=bat[0]._Tb;
;;;368    if(bat[0]._nd) snmp_bat_temperature[0]=-1000;
;;;369    
;;;370    if(BAT_C_REAL[0]==0x5555)snmp_bat_capacity[0]=BAT_C_NOM[0];
;;;371    else snmp_bat_capacity[0]=BAT_C_REAL[0];
;;;372    /*
;;;373    #ifdef UKU_ZVU
;;;374    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;375    
;;;376    #else
;;;377    snmp_bat_charge[0]=bat[0]._zar;
;;;378    #endif */
;;;379    snmp_bat_charge[0]=bat[0]._zar;
;;;380    snmp_bat_status[0]=bat[0]._av;
;;;381    if(BAT_IS_ON[0]!=bisON)snmp_bat_status[0]=0xff;
;;;382    
;;;383    
;;;384    snmp_bat_number[1]=2;
;;;385    snmp_bat_voltage[1]=bat[1]._Ub;
;;;386    snmp_bat_part_voltage[1]=bat[1]._Ubm;
;;;387    snmp_bat_current[1]=bat[1]._Ib;
;;;388    snmp_bat_temperature[1]=bat[1]._Tb;
;;;389    if(bat[1]._nd) snmp_bat_temperature[1]=-1000;
;;;390    if(BAT_C_REAL[1]==0x5555)snmp_bat_capacity[1]=BAT_C_NOM[1];
;;;391    else snmp_bat_capacity[1]=BAT_C_REAL[1];
;;;392    snmp_bat_charge[1]=bat[1]._zar;
;;;393    snmp_bat_status[1]=bat[1]._av;
;;;394    if(BAT_IS_ON[1]!=bisON)snmp_bat_status[1]=0xff;
;;;395    #endif
;;;396    
;;;397    
;;;398    snmp_bps_number[0]=1;
;;;399    snmp_bps_voltage[0]=bps[0]._Uii;
;;;400    snmp_bps_current[0]=bps[0]._Ii;
;;;401    snmp_bps_temperature[0]=bps[0]._Ti;
;;;402    snmp_bps_stat[0]=bps[0]._av;
;;;403    if(!(NUMIST>0))snmp_bps_stat[0]=0xff;												//Байт состояния БПСа.
;;;404    
;;;405    /*if(St_[0]&(1<<2))snmp_bps_stat[0]=(1<<3); 							//авария по Umin
;;;406    else if(St_[0]&(1<<3))snmp_bps_stat[0]=(1<<2); 						//авария по Umax
;;;407    else if(bps[0]._av&(1<<0))snmp_bps_stat[0]=(1<<1); 						//авария по Tmax
;;;408    else if(St_[0]&(1<<5))snmp_bps_stat[0]=(1<<5); 						//заблокирован
;;;409    else if((!(St_[0]&0x3c))&&(!St&0x01)&&(!OFFBP1))snmp_bps_stat[0]=1; 		//Работает
;;;410    */
;;;411    
;;;412    snmp_bps_number[1]=2;
;;;413    snmp_bps_voltage[1]=bps[1]._Uii;
;;;414    snmp_bps_current[1]=bps[1]._Ii;
;;;415    snmp_bps_temperature[1]=bps[1]._Ti;
;;;416    snmp_bps_stat[1]=bps[1]._av;
;;;417    if(!(NUMIST>1))snmp_bps_stat[1]=0xff;												//Байт состояния БПСа.
;;;418    /*if(St_[1]&(1<<2))snmp_bps_stat[1]=(1<<3); 							//авария по Umin
;;;419    else if(St_[1]&(1<<3))snmp_bps_stat[1]=(1<<2); 						//авария по Umax
;;;420    else if(St_[1]&(1<<4))snmp_bps_stat[1]=(1<<1); 						//авария по Tmax
;;;421    else if(St_[1]&(1<<5))snmp_bps_stat[1]=(1<<5); 						//заблокирован
;;;422    else if((!(St_[1]&0x3c))&&(!St&0x01)&&(!OFFBP2))snmp_bps_stat[1]=1; 		//Работает
;;;423    */
;;;424    
;;;425    snmp_bps_number[2]=3;
;;;426    snmp_bps_voltage[2]=bps[2]._Uii;
;;;427    snmp_bps_current[2]=bps[2]._Ii;
;;;428    snmp_bps_temperature[2]=bps[2]._Ti;
;;;429    snmp_bps_stat[2]=bps[2]._av;
;;;430    if(!(NUMIST>2))snmp_bps_stat[2]=0xff;
;;;431    
;;;432    snmp_bps_number[3]=4;
;;;433    snmp_bps_voltage[3]=bps[3]._Uii;
;;;434    snmp_bps_current[3]=bps[3]._Ii;
;;;435    snmp_bps_temperature[3]=bps[3]._Ti;
;;;436    snmp_bps_stat[3]=bps[3]._av;
;;;437    if(!(NUMIST>3))snmp_bps_stat[3]=0xff;
;;;438    
;;;439    snmp_bps_number[4]=5;
;;;440    snmp_bps_voltage[4]=bps[4]._Uii;
;;;441    snmp_bps_current[4]=bps[4]._Ii;
;;;442    snmp_bps_temperature[4]=bps[4]._Ti;
;;;443    snmp_bps_stat[4]=bps[4]._av;
;;;444    if(!(NUMIST>4))snmp_bps_stat[4]=0xff;
;;;445    
;;;446    snmp_bps_number[5]=6;
;;;447    snmp_bps_voltage[5]=bps[5]._Uii;
;;;448    snmp_bps_current[5]=bps[5]._Ii;
;;;449    snmp_bps_temperature[5]=bps[5]._Ti;
;;;450    snmp_bps_stat[5]=bps[5]._av;
;;;451    if(!(NUMIST>5))snmp_bps_stat[5]=0xff;
;;;452    
;;;453    snmp_bps_number[6]=7;
;;;454    snmp_bps_voltage[6]=bps[6]._Uii;
;;;455    snmp_bps_current[6]=bps[6]._Ii;
;;;456    snmp_bps_temperature[6]=bps[6]._Ti;
;;;457    snmp_bps_stat[6]=bps[6]._av;
;;;458    if(!(NUMIST>6))snmp_bps_stat[6]=0xff;
;;;459    
;;;460    snmp_bps_number[7]=8;
;;;461    snmp_bps_voltage[7]=bps[7]._Uii;
;;;462    snmp_bps_current[7]=bps[7]._Ii;
;;;463    snmp_bps_temperature[7]=bps[7]._Ti;
;;;464    snmp_bps_stat[7]=bps[7]._av;
;;;465    if(!(NUMIST>7))snmp_bps_stat[7]=0xff;
;;;466    
;;;467    
;;;468    
;;;469    snmp_inv_number[0]=1;
;;;470    snmp_inv_voltage[0]=inv[0]._Uio;
;;;471    snmp_inv_current[0]=inv[0]._Ii;
;;;472    snmp_inv_temperature[0]=inv[0]._Ti;
;;;473    snmp_inv_stat[0]=inv[0]._flags_tm;
;;;474    
;;;475    snmp_inv_number[1]=2;
;;;476    snmp_inv_voltage[1]=inv[1]._Uio;
;;;477    snmp_inv_current[1]=inv[1]._Ii;
;;;478    snmp_inv_temperature[1]=inv[1]._Ti;
;;;479    snmp_inv_stat[1]=inv[1]._flags_tm;
;;;480    
;;;481    snmp_inv_number[2]=3;
;;;482    snmp_inv_voltage[2]=inv[2]._Uio;
;;;483    snmp_inv_current[2]=inv[2]._Ii;
;;;484    snmp_inv_temperature[2]=inv[2]._Ti;
;;;485    snmp_inv_stat[2]=inv[2]._flags_tm;
;;;486    
;;;487    
;;;488    
;;;489    
;;;490    					  
;;;491    snmp_sk_number[0]=1;
;;;492    memcpy(&snmp_sk_name[0][0],"Door",10);
;;;493    if(sk_stat[0]==ssON) snmp_sk_aktiv[0]=1;
;;;494    else snmp_sk_aktiv[0]=0;
;;;495    if(!SK_SIGN[0])snmp_sk_alarm_aktiv[0]=1;
;;;496    else snmp_sk_alarm_aktiv[0]=0;
;;;497    if(sk_av_stat[0]==sasON)	snmp_sk_alarm[0]=1;
;;;498    else                     snmp_sk_alarm[0]=0;
;;;499    
;;;500    
;;;501    snmp_sk_number[1]=2;
;;;502    memcpy(&snmp_sk_name[1][0],"Smoke",10);
;;;503    if(sk_stat[1]==ssON) snmp_sk_aktiv[1]=1;
;;;504    else snmp_sk_aktiv[1]=0;
;;;505    if(!SK_SIGN[1])snmp_sk_alarm_aktiv[1]=1;
;;;506    else snmp_sk_alarm_aktiv[1]=0;
;;;507    if(sk_av_stat[1]==sasON)	snmp_sk_alarm[1]=1;
;;;508    else                     snmp_sk_alarm[1]=0;
;;;509    
;;;510    snmp_sk_number[2]=3;
;;;511    memcpy(&snmp_sk_name[2][0],"Shock",10);
;;;512    if(sk_stat[2]==ssON) snmp_sk_aktiv[2]=1;
;;;513    else snmp_sk_aktiv[2]=0;
;;;514    if(!SK_SIGN[2])snmp_sk_alarm_aktiv[2]=1;
;;;515    else snmp_sk_alarm_aktiv[2]=0;
;;;516    if(sk_av_stat[2]==sasON)	snmp_sk_alarm[2]=1;
;;;517    else                     snmp_sk_alarm[2]=0;
;;;518    
;;;519    snmp_sk_number[3]=4;
;;;520    memcpy(&snmp_sk_name[3][0],"     ",10);
;;;521    if(sk_stat[3]==ssON) snmp_sk_aktiv[3]=1;
;;;522    else snmp_sk_aktiv[3]=0;
;;;523    if(!SK_SIGN[3])snmp_sk_alarm_aktiv[3]=1;
;;;524    else snmp_sk_alarm_aktiv[3]=0;
;;;525    if(sk_av_stat[3]==sasON)	snmp_sk_alarm[3]=1;
;;;526    else                     snmp_sk_alarm[3]=0;
;;;527    
;;;528    
;;;529    if(makb[0]._cnt>8) snmp_makb_connect_status[0]=1;
;;;530    else if(makb[0]._cnt<2) snmp_makb_connect_status[0]=0;
;;;531    if(makb[1]._cnt>8) snmp_makb_connect_status[1]=1;
;;;532    else if(makb[1]._cnt<2) snmp_makb_connect_status[1]=0;
;;;533    if(makb[2]._cnt>8) snmp_makb_connect_status[2]=1;
;;;534    else if(makb[2]._cnt<2) snmp_makb_connect_status[2]=0;
;;;535    if(makb[3]._cnt>8) snmp_makb_connect_status[3]=1;
;;;536    else if(makb[3]._cnt<2) snmp_makb_connect_status[3]=0;
;;;537    
;;;538    snmp_makb_voltage0[0]=makb[0]._Ub[0];
;;;539    snmp_makb_voltage1[0]=makb[0]._Ub[1];
;;;540    snmp_makb_voltage2[0]=makb[0]._Ub[2];
;;;541    snmp_makb_voltage3[0]=makb[0]._Ub[3];
;;;542    snmp_makb_voltage4[0]=makb[0]._Ub[4];
;;;543    snmp_makb_voltage0[1]=makb[1]._Ub[0];
;;;544    snmp_makb_voltage1[1]=makb[1]._Ub[1];
;;;545    snmp_makb_voltage2[1]=makb[1]._Ub[2];
;;;546    snmp_makb_voltage3[1]=makb[1]._Ub[3];
;;;547    snmp_makb_voltage4[1]=makb[1]._Ub[4];
;;;548    snmp_makb_voltage0[2]=makb[2]._Ub[0];
;;;549    snmp_makb_voltage1[2]=makb[2]._Ub[1];
;;;550    snmp_makb_voltage2[2]=makb[2]._Ub[2];
;;;551    snmp_makb_voltage3[2]=makb[2]._Ub[3];
;;;552    snmp_makb_voltage4[2]=makb[2]._Ub[4];
;;;553    snmp_makb_voltage0[3]=makb[3]._Ub[0];
;;;554    snmp_makb_voltage1[3]=makb[3]._Ub[1];
;;;555    snmp_makb_voltage2[3]=makb[3]._Ub[2];
;;;556    snmp_makb_voltage3[3]=makb[3]._Ub[3];
;;;557    snmp_makb_voltage4[3]=makb[3]._Ub[4];
;;;558    
;;;559    snmp_makb_temper0[0]=makb[0]._T[0];
;;;560    snmp_makb_temper1[0]=makb[0]._T[1];
;;;561    snmp_makb_temper2[0]=makb[0]._T[2];
;;;562    snmp_makb_temper3[0]=makb[0]._T[3];
;;;563    snmp_makb_temper4[0]=makb[0]._T[4];
;;;564    snmp_makb_temper0[1]=makb[1]._T[0];
;;;565    snmp_makb_temper1[1]=makb[1]._T[1];
;;;566    snmp_makb_temper2[1]=makb[1]._T[2];
;;;567    snmp_makb_temper3[1]=makb[1]._T[3];
;;;568    snmp_makb_temper4[1]=makb[1]._T[4];
;;;569    snmp_makb_temper0[2]=makb[2]._T[0];
;;;570    snmp_makb_temper1[2]=makb[2]._T[1];
;;;571    snmp_makb_temper2[2]=makb[2]._T[2];
;;;572    snmp_makb_temper3[2]=makb[2]._T[3];
;;;573    snmp_makb_temper4[2]=makb[2]._T[4];
;;;574    snmp_makb_temper0[3]=makb[3]._T[0];
;;;575    snmp_makb_temper1[3]=makb[3]._T[1];
;;;576    snmp_makb_temper2[3]=makb[3]._T[2];
;;;577    snmp_makb_temper3[3]=makb[3]._T[3];
;;;578    snmp_makb_temper4[3]=makb[3]._T[4];
;;;579    
;;;580    snmp_makb_temper0_stat[0]=makb[0]._T_nd[0];
;;;581    snmp_makb_temper1_stat[0]=makb[0]._T_nd[1];
;;;582    snmp_makb_temper2_stat[0]=makb[0]._T_nd[2];
;;;583    snmp_makb_temper3_stat[0]=makb[0]._T_nd[3];
;;;584    snmp_makb_temper4_stat[0]=makb[0]._T_nd[4];
;;;585    snmp_makb_temper0_stat[1]=makb[1]._T_nd[0];
;;;586    snmp_makb_temper1_stat[1]=makb[1]._T_nd[1];
;;;587    snmp_makb_temper2_stat[1]=makb[1]._T_nd[2];
;;;588    snmp_makb_temper3_stat[1]=makb[1]._T_nd[3];
;;;589    snmp_makb_temper4_stat[1]=makb[1]._T_nd[4];
;;;590    snmp_makb_temper0_stat[2]=makb[2]._T_nd[0];
;;;591    snmp_makb_temper1_stat[2]=makb[2]._T_nd[1];
;;;592    snmp_makb_temper2_stat[2]=makb[2]._T_nd[2];
;;;593    snmp_makb_temper3_stat[2]=makb[2]._T_nd[3];
;;;594    snmp_makb_temper4_stat[2]=makb[2]._T_nd[4];
;;;595    snmp_makb_temper0_stat[3]=makb[3]._T_nd[0];
;;;596    snmp_makb_temper1_stat[3]=makb[3]._T_nd[1];
;;;597    snmp_makb_temper2_stat[3]=makb[3]._T_nd[2];
;;;598    snmp_makb_temper3_stat[3]=makb[3]._T_nd[3];
;;;599    snmp_makb_temper4_stat[3]=makb[3]._T_nd[4];
;;;600    
;;;601    
;;;602    snmp_klimat_box_temper=t_box;
;;;603    snmp_klimat_settings_box_alarm=TBOXMAX;
;;;604    snmp_klimat_settings_vent_on=TBOXVENTON;
;;;605    snmp_klimat_settings_vent_off=TBOXVENTOFF;
;;;606    snmp_klimat_settings_warm_on=TBOXWARMON;
;;;607    snmp_klimat_settings_warm_off=TBOXWARMOFF;
;;;608    snmp_klimat_settings_load_on=TLOADENABLE;
;;;609    snmp_klimat_settings_load_off=TLOADDISABLE;
;;;610    snmp_klimat_settings_batt_on=TBATENABLE;
;;;611    snmp_klimat_settings_batt_off=TBATDISABLE;
;;;612    
;;;613    snmp_dt_ext=t_ext[0];
;;;614    snmp_dt_msan=t_ext[1];
;;;615    snmp_dt_epu=t_ext[2];
;;;616    
;;;617    /*
;;;618    snmp_bat_voltage=Ubat;
;;;619    snmp_bat_current=Ibat;
;;;620    snmp_bat_temperature=t_b;
;;;621    if(BAT_C_REAL==0x5555)
;;;622    	{
;;;623    	snmp_bat_capacity=BAT_C_NOM*10;												    11
;;;624    	}
;;;625    else
;;;626    	{
;;;627    	snmp_bat_capacity=BAT_C_REAL;
;;;628    	}
;;;629    snmp_bat_charge=zar_percent;
;;;630    snmp_bat_status=0;
;;;631    if(St&0x02)snmp_bat_status|=0x01;
;;;632    if(Ibat>0)snmp_bat_status|=0x02;
;;;633    
;;;634    
;;;635    if(spc_stat==spc_OFF) snmp_spc_stat=0;
;;;636    else if(spc_stat==spc_KE) snmp_spc_stat=1;
;;;637    else if(spc_stat==spc_VZ) snmp_spc_stat=10;
;;;638    
;;;639    
;;;640    snmp_main_bps=MAIN_IST+1;
;;;641    */
;;;642    snmp_zv_en=ZV_ON;
;;;643    snmp_alarm_auto_disable=AV_OFF_AVT;
;;;644    snmp_bat_test_time=TBAT;
;;;645    snmp_u_max=UMAX;
;;;646    snmp_u_min=UB20-DU;
;;;647    snmp_u_0_grad=UB0;
;;;648    snmp_u_20_grad=UB20;
;;;649    snmp_u_sign=USIGN;
;;;650    snmp_u_min_power=UMN;
;;;651    snmp_u_withouth_bat=U0B;
;;;652    snmp_control_current=IKB;
;;;653    snmp_max_charge_current=IZMAX;
;;;654    snmp_max_current=IMAX;
;;;655    snmp_min_current=IMIN;
;;;656    //snmp_max_current_koef=KIMAX;
;;;657    snmp_uvz=UVZ;
;;;658    snmp_powerup_psu_timeout=TZAS;
;;;659    snmp_max_temperature=TMAX;
;;;660    snmp_tsign_bat=TBATSIGN; 
;;;661    snmp_tmax_bat=TBATMAX;
;;;662    snmp_tsign_bps=TSIGN;
;;;663    snmp_tmax_bps=TMAX;
;;;664    snmp_bat_part_alarm=UBM_AV; 
;;;665    snmp_power_cnt_adress=POWER_CNT_ADRESS;
;;;666    
;;;667    for(i=0;i<12;i++)
;;;668    	{
;;;669    	snmp_avt_number[i]=i+1;
;;;670    	if(avt_stat[i]==avtOFF)snmp_avt_stat[i]=0;
;;;671    	else snmp_avt_stat[i]=1;
;;;672    	}
;;;673    
;;;674    snmp_dt_number[0]=1;
;;;675    snmp_dt_number[1]=2;
;;;676    snmp_dt_number[2]=3;
;;;677    //snmp_dt_number[3]=4;
;;;678    snmp_dt_temper[0]=t_ext[0];
;;;679    snmp_dt_temper[1]=t_ext[1];
;;;680    snmp_dt_temper[2]=t_ext[2];
;;;681    //snmp_dt_temper[3]=t_ext[3];
;;;682    snmp_dt_error[0]=ND_EXT[0];
;;;683    if(NUMDT<1)snmp_dt_error[0]=0xff;
;;;684    snmp_dt_error[1]=ND_EXT[1];
;;;685    if(NUMDT<2)snmp_dt_error[0]=0xff;
;;;686    snmp_dt_error[2]=ND_EXT[2];
;;;687    if(NUMDT<3)snmp_dt_error[0]=0xff;
;;;688    //snmp_dt_error[3]=ND_EXT[3];
;;;689    if(NUMDT<4)snmp_dt_error[0]=0xff;
;;;690    
;;;691    /*
;;;692    //Литиевые батареи
;;;693    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;694    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;695    snmp_lakb_voltage[0]=lakb[0]._tot_bat_volt;				//Напряжение ЛАКБ
;;;696    snmp_lakb_voltage[1]=lakb[1]._tot_bat_volt;				//Напряжение ЛАКБ
;;;697    snmp_lakb_max_cell_voltage[0]=lakb[0]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;698    snmp_lakb_max_cell_voltage[1]=lakb[1]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;699    snmp_lakb_min_cell_voltage[0]=lakb[0]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;700    snmp_lakb_min_cell_voltage[1]=lakb[1]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;701    snmp_lakb_max_cell_temperature[0]=lakb[0]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;702    snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;703    snmp_lakb_min_cell_temperature[0]=lakb[0]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;704    snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;705    snmp_lakb_ch_curr[0]=lakb[0]._ch_curr;					//Ток заряда ЛАКБ
;;;706    snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;707    snmp_lakb_dsch_curr[0]=lakb[0]._dsch_curr;				//Ток разряда ЛАКБ
;;;708    snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;709    snmp_lakb_rat_cap[0]=lakb[0]._rat_cap;					//Номинальная емкость ЛАКБ
;;;710    snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;711    snmp_lakb_soh[0]=lakb[0]._s_o_h;						//Остаточная емкость ЛАКБ
;;;712    snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;713    snmp_lakb_soc[0]=lakb[0]._s_o_c;						//Заряд ЛАКБ
;;;714    snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;715    snmp_lakb_cclv[0]=lakb[0]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;716    snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;717    snmp_lakb_rbt[0]=lakb[0]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;718    snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;719    snmp_lakb_flags1[0]=lakb[0]._flags1;					//Первый флаг состояния ЛАКБ
;;;720    snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;721    snmp_lakb_flags2[0]=lakb[0]._flags2;					//Второй флаг состояния ЛАКБ
;;;722    snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ */
;;;723    
;;;724    //Литиевые батареи
;;;725    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;726    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;727    snmp_lakb_number[2]=3;								//Номер ЛАКБ
;;;728    snmp_lakb_number[3]=4;								//Номер ЛАКБ
;;;729    snmp_lakb_number[4]=5;								//Номер ЛАКБ
;;;730    snmp_lakb_number[5]=6;								//Номер ЛАКБ
;;;731    snmp_lakb_number[6]=7;								//Номер ЛАКБ
;;;732    
;;;733    for (i=0;i<3;i++)
;;;734    	{
;;;735    	snmp_lakb_voltage[i]=lakb[i]._tot_bat_volt;				//Напряжение ЛАКБ
;;;736    	snmp_lakb_max_cell_voltage[i]=lakb[i]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;737    	snmp_lakb_min_cell_voltage[i]=lakb[i]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;738    	snmp_lakb_max_cell_temperature[i]=lakb[i]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;739    	//snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;740    	snmp_lakb_min_cell_temperature[i]=lakb[i]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;741    	//snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;742    	snmp_lakb_ch_curr[i]=lakb[i]._ch_curr;					//Ток заряда ЛАКБ
;;;743    	//snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;744    	snmp_lakb_dsch_curr[i]=lakb[i]._dsch_curr;				//Ток разряда ЛАКБ
;;;745    	//snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;746    	snmp_lakb_rat_cap[i]=lakb[i]._rat_cap;					//Номинальная емкость ЛАКБ
;;;747    	//snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;748    	snmp_lakb_soh[i]=lakb[i]._s_o_h;						//Остаточная емкость ЛАКБ
;;;749    	//snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;750    	snmp_lakb_soc[i]=lakb[i]._s_o_c;						//Заряд ЛАКБ
;;;751    	//snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;752    	snmp_lakb_cclv[i]=lakb[i]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;753    	//snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;754    	snmp_lakb_rbt[i]=lakb[i]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;755    	//snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;756    	snmp_lakb_flags1[i]=lakb[i]._flags1;					//Первый флаг состояния ЛАКБ
;;;757    	//snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;758    	snmp_lakb_flags2[i]=lakb[i]._flags2;					//Второй флаг состояния ЛАКБ
;;;759    	//snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ
;;;760    
;;;761    	snmp_lakb_cell_temperature_1[i]= lakb[i]._cell_temp_1;
;;;762    	snmp_lakb_cell_temperature_2[i]= lakb[i]._cell_temp_2;
;;;763    	snmp_lakb_cell_temperature_3[i]= lakb[i]._cell_temp_3;
;;;764    	snmp_lakb_cell_temperature_4[i]= lakb[i]._cell_temp_4;
;;;765    	snmp_lakb_cell_temperature_ambient[i]=lakb[i]._cell_temp_ambient;
;;;766    	snmp_lakb_cell_temperature_power[i]=lakb[i]._cell_temp_power;
;;;767    	}
;;;768    
;;;769    for (i=0;i<7;i++)
;;;770    {
;;;771    /*
;;;772    snmp_lakb_damp1[i][0]=ABCDEF[(lakb_damp[i][0])>>4];			//Дамп
;;;773    snmp_lakb_damp1[i][1]=ABCDEF[(lakb_damp[i][0])&0x0f];			//Дамп
;;;774    snmp_lakb_damp1[i][2]=' ';
;;;775    snmp_lakb_damp1[i][3]=ABCDEF[(lakb_damp[i][1])>>4];			//Дамп
;;;776    snmp_lakb_damp1[i][4]=ABCDEF[(lakb_damp[i][1])&0x0f];			//Дамп
;;;777    snmp_lakb_damp1[i][5]=' ';
;;;778    snmp_lakb_damp1[i][6]=ABCDEF[(lakb_damp[i][2])>>4];			//Дамп
;;;779    snmp_lakb_damp1[i][7]=ABCDEF[(lakb_damp[i][2])&0x0f];			//Дамп
;;;780    snmp_lakb_damp1[i][8]=' ';
;;;781    snmp_lakb_damp1[i][9]=ABCDEF[(lakb_damp[i][3])>>4];			//Дамп
;;;782    snmp_lakb_damp1[i][10]=ABCDEF[(lakb_damp[i][3])&0x0f];			//Дамп
;;;783    snmp_lakb_damp1[i][11]=' ';
;;;784    snmp_lakb_damp1[i][12]=ABCDEF[(lakb_damp[i][4])>>4];			//Дамп
;;;785    snmp_lakb_damp1[i][13]=ABCDEF[(lakb_damp[i][4])&0x0f];			//Дамп
;;;786    snmp_lakb_damp1[i][14]=' '; 
;;;787    snmp_lakb_damp1[i][15]=ABCDEF[(lakb_damp[i][5])>>4];			//Дамп
;;;788    snmp_lakb_damp1[i][16]=ABCDEF[(lakb_damp[i][5])&0x0f];			//Дамп
;;;789    snmp_lakb_damp1[i][17]=' ';
;;;790    snmp_lakb_damp1[i][18]=ABCDEF[(lakb_damp[i][6])>>4];			//Дамп
;;;791    snmp_lakb_damp1[i][19]=ABCDEF[(lakb_damp[i][6])&0x0f];			//Дамп
;;;792    snmp_lakb_damp1[i][20]=' ';
;;;793    snmp_lakb_damp1[i][21]=ABCDEF[(lakb_damp[i][7])>>4];			//Дамп
;;;794    snmp_lakb_damp1[i][22]=ABCDEF[(lakb_damp[i][7])&0x0f];			//Дамп
;;;795    snmp_lakb_damp1[i][23]=' ';
;;;796    snmp_lakb_damp1[i][24]=ABCDEF[(lakb_damp[i][8])>>4];			//Дамп
;;;797    snmp_lakb_damp1[i][25]=ABCDEF[(lakb_damp[i][8])&0x0f];			//Дамп
;;;798    snmp_lakb_damp1[i][26]=' ';
;;;799    snmp_lakb_damp1[i][27]=ABCDEF[(lakb_damp[i][9])>>4];			//Дамп
;;;800    snmp_lakb_damp1[i][28]=ABCDEF[(lakb_damp[i][9])&0x0f];			//Дамп
;;;801    snmp_lakb_damp1[i][29]=0; 
;;;802    
;;;803    snmp_lakb_damp1[i][30]=ABCDEF[(lakb_damp[i][10])>>4];			//Дамп
;;;804    snmp_lakb_damp1[i][31]=ABCDEF[(lakb_damp[i][10])&0x0f];			//Дамп
;;;805    snmp_lakb_damp1[i][32]=' ';
;;;806    snmp_lakb_damp1[i][33]=ABCDEF[(lakb_damp[i][11])>>4];			//Дамп
;;;807    snmp_lakb_damp1[i][34]=ABCDEF[(lakb_damp[i][11])&0x0f];			//Дамп
;;;808    snmp_lakb_damp1[i][35]=' ';
;;;809    snmp_lakb_damp1[i][36]=ABCDEF[(lakb_damp[i][12])>>4];			//Дамп
;;;810    snmp_lakb_damp1[i][37]=ABCDEF[(lakb_damp[i][12])&0x0f];			//Дамп
;;;811    snmp_lakb_damp1[i][38]=' ';
;;;812    snmp_lakb_damp1[i][39]=ABCDEF[(lakb_damp[i][13])>>4];			//Дамп
;;;813    snmp_lakb_damp1[i][40]=ABCDEF[(lakb_damp[i][13])&0x0f];			//Дамп
;;;814    snmp_lakb_damp1[i][41]=' ';
;;;815    snmp_lakb_damp1[i][42]=ABCDEF[(lakb_damp[i][14])>>4];			//Дамп
;;;816    snmp_lakb_damp1[i][43]=ABCDEF[(lakb_damp[i][14])&0x0f];			//Дамп
;;;817    snmp_lakb_damp1[i][44]=' '; 
;;;818    snmp_lakb_damp1[i][45]=ABCDEF[(lakb_damp[i][15])>>4];			//Дамп
;;;819    snmp_lakb_damp1[i][46]=ABCDEF[(lakb_damp[i][15])&0x0f];			//Дамп
;;;820    snmp_lakb_damp1[i][47]=' ';
;;;821    snmp_lakb_damp1[i][48]=ABCDEF[(lakb_damp[i][16])>>4];			//Дамп
;;;822    snmp_lakb_damp1[i][49]=ABCDEF[(lakb_damp[i][16])&0x0f];			//Дамп
;;;823    snmp_lakb_damp1[i][50]=' ';
;;;824    snmp_lakb_damp1[i][51]=ABCDEF[(lakb_damp[i][17])>>4];			//Дамп
;;;825    snmp_lakb_damp1[i][52]=ABCDEF[(lakb_damp[i][17])&0x0f];			//Дамп
;;;826    snmp_lakb_damp1[i][53]=' ';
;;;827    snmp_lakb_damp1[i][54]=ABCDEF[(lakb_damp[i][18])>>4];			//Дамп
;;;828    snmp_lakb_damp1[i][55]=ABCDEF[(lakb_damp[i][18])&0x0f];			//Дамп
;;;829    snmp_lakb_damp1[i][56]=' ';
;;;830    snmp_lakb_damp1[i][57]=ABCDEF[(lakb_damp[i][19])>>4];			//Дамп
;;;831    snmp_lakb_damp1[i][58]=ABCDEF[(lakb_damp[i][19])&0x0f];			//Дамп
;;;832    snmp_lakb_damp1[i][59]=0; 
;;;833    
;;;834    
;;;835    snmp_lakb_damp1[i][60]=ABCDEF[(lakb_damp[i][20])>>4];			//Дамп
;;;836    snmp_lakb_damp1[i][61]=ABCDEF[(lakb_damp[i][20])&0x0f];			//Дамп
;;;837    snmp_lakb_damp1[i][62]=' ';
;;;838    snmp_lakb_damp1[i][63]=ABCDEF[(lakb_damp[i][21])>>4];			//Дамп
;;;839    snmp_lakb_damp1[i][64]=ABCDEF[(lakb_damp[i][21])&0x0f];			//Дамп
;;;840    snmp_lakb_damp1[i][65]=' ';
;;;841    snmp_lakb_damp1[i][66]=ABCDEF[(lakb_damp[i][22])>>4];			//Дамп
;;;842    snmp_lakb_damp1[i][67]=ABCDEF[(lakb_damp[i][22])&0x0f];			//Дамп
;;;843    snmp_lakb_damp1[i][68]=' ';
;;;844    snmp_lakb_damp1[i][69]=ABCDEF[(lakb_damp[i][23])>>4];			//Дамп
;;;845    snmp_lakb_damp1[i][70]=ABCDEF[(lakb_damp[i][23])&0x0f];			//Дамп
;;;846    snmp_lakb_damp1[i][71]=' ';
;;;847    snmp_lakb_damp1[i][72]=ABCDEF[(lakb_damp[i][24])>>4];			//Дамп
;;;848    snmp_lakb_damp1[i][73]=ABCDEF[(lakb_damp[i][24])&0x0f];			//Дамп
;;;849    snmp_lakb_damp1[i][74]=' '; 
;;;850    snmp_lakb_damp1[i][75]=ABCDEF[(lakb_damp[i][25])>>4];			//Дамп
;;;851    snmp_lakb_damp1[i][76]=ABCDEF[(lakb_damp[i][25])&0x0f];			//Дамп
;;;852    snmp_lakb_damp1[i][77]=' ';
;;;853    snmp_lakb_damp1[i][78]=ABCDEF[(lakb_damp[i][26])>>4];			//Дамп
;;;854    snmp_lakb_damp1[i][79]=ABCDEF[(lakb_damp[i][26])&0x0f];			//Дамп
;;;855    snmp_lakb_damp1[i][80]=' ';
;;;856    snmp_lakb_damp1[i][81]=ABCDEF[(lakb_damp[i][27])>>4];			//Дамп
;;;857    snmp_lakb_damp1[i][82]=ABCDEF[(lakb_damp[i][27])&0x0f];			//Дамп
;;;858    snmp_lakb_damp1[i][83]=' ';
;;;859    snmp_lakb_damp1[i][84]=ABCDEF[(lakb_damp[i][28])>>4];			//Дамп
;;;860    snmp_lakb_damp1[i][85]=ABCDEF[(lakb_damp[i][28])&0x0f];			//Дамп
;;;861    snmp_lakb_damp1[i][86]=' ';
;;;862    snmp_lakb_damp1[i][87]=ABCDEF[(lakb_damp[i][29])>>4];			//Дамп
;;;863    snmp_lakb_damp1[i][88]=ABCDEF[(lakb_damp[i][29])&0x0f];			//Дамп
;;;864    snmp_lakb_damp1[i][89]=0;
;;;865    
;;;866    
;;;867    snmp_lakb_damp1[i][90]=ABCDEF[(lakb_damp[i][30])>>4];			//Дамп
;;;868    snmp_lakb_damp1[i][91]=ABCDEF[(lakb_damp[i][30])&0x0f];			//Дамп
;;;869    snmp_lakb_damp1[i][92]=' ';
;;;870    snmp_lakb_damp1[i][93]=ABCDEF[(lakb_damp[i][31])>>4];			//Дамп
;;;871    snmp_lakb_damp1[i][94]=ABCDEF[(lakb_damp[i][31])&0x0f];			//Дамп
;;;872    snmp_lakb_damp1[i][95]=' ';
;;;873    snmp_lakb_damp1[i][96]=ABCDEF[(lakb_damp[i][32])>>4];			//Дамп
;;;874    snmp_lakb_damp1[i][97]=ABCDEF[(lakb_damp[i][32])&0x0f];			//Дамп
;;;875    snmp_lakb_damp1[i][98]=' ';
;;;876    snmp_lakb_damp1[i][99]=ABCDEF[(lakb_damp[i][33])>>4];			//Дамп
;;;877    snmp_lakb_damp1[i][100]=ABCDEF[(lakb_damp[i][33])&0x0f];			//Дамп
;;;878    snmp_lakb_damp1[i][101]=' ';
;;;879    snmp_lakb_damp1[i][102]=ABCDEF[(lakb_damp[i][34])>>4];			//Дамп
;;;880    snmp_lakb_damp1[i][103]=ABCDEF[(lakb_damp[i][34])&0x0f];			//Дамп
;;;881    snmp_lakb_damp1[i][104]=' '; 
;;;882    snmp_lakb_damp1[i][105]=ABCDEF[(lakb_damp[i][35])>>4];			//Дамп
;;;883    snmp_lakb_damp1[i][106]=ABCDEF[(lakb_damp[i][35])&0x0f];			//Дамп
;;;884    snmp_lakb_damp1[i][107]=' ';
;;;885    snmp_lakb_damp1[i][108]=ABCDEF[(lakb_damp[i][36])>>4];			//Дамп
;;;886    snmp_lakb_damp1[i][109]=ABCDEF[(lakb_damp[i][36])&0x0f];			//Дамп
;;;887    snmp_lakb_damp1[i][110]=' ';
;;;888    snmp_lakb_damp1[i][111]=ABCDEF[(lakb_damp[i][37])>>4];			//Дамп
;;;889    snmp_lakb_damp1[i][112]=ABCDEF[(lakb_damp[i][37])&0x0f];			//Дамп
;;;890    snmp_lakb_damp1[i][113]=' ';
;;;891    snmp_lakb_damp1[i][114]=ABCDEF[(lakb_damp[i][38])>>4];			//Дамп
;;;892    snmp_lakb_damp1[i][115]=ABCDEF[(lakb_damp[i][38])&0x0f];			//Дамп
;;;893    snmp_lakb_damp1[i][116]=' ';
;;;894    snmp_lakb_damp1[i][117]=ABCDEF[(lakb_damp[i][39])>>4];			//Дамп
;;;895    snmp_lakb_damp1[i][118]=ABCDEF[(lakb_damp[i][39])&0x0f];			//Дамп
;;;896    snmp_lakb_damp1[i][119]=0; 
;;;897     
;;;898    
;;;899    snmp_lakb_damp1[i][120]=ABCDEF[(lakb_damp[i][40])>>4];			//Дамп
;;;900    snmp_lakb_damp1[i][121]=ABCDEF[(lakb_damp[i][40])&0x0f];			//Дамп
;;;901    snmp_lakb_damp1[i][122]=' ';
;;;902    snmp_lakb_damp1[i][123]=ABCDEF[(lakb_damp[i][41])>>4];			//Дамп
;;;903    snmp_lakb_damp1[i][124]=ABCDEF[(lakb_damp[i][41])&0x0f];			//Дамп
;;;904    snmp_lakb_damp1[i][125]=' ';
;;;905    snmp_lakb_damp1[i][126]=ABCDEF[(lakb_damp[i][42])>>4];			//Дамп
;;;906    snmp_lakb_damp1[i][127]=ABCDEF[(lakb_damp[i][42])&0x0f];			//Дамп
;;;907    snmp_lakb_damp1[i][128]=' ';
;;;908    snmp_lakb_damp1[i][129]=ABCDEF[(lakb_damp[i][43])>>4];			//Дамп
;;;909    snmp_lakb_damp1[i][130]=ABCDEF[(lakb_damp[i][43])&0x0f];			//Дамп
;;;910    snmp_lakb_damp1[i][131]=' ';
;;;911    snmp_lakb_damp1[i][132]=ABCDEF[(lakb_damp[i][44])>>4];			//Дамп
;;;912    snmp_lakb_damp1[i][133]=ABCDEF[(lakb_damp[i][44])&0x0f];			//Дамп
;;;913    snmp_lakb_damp1[i][134]=' '; 
;;;914    snmp_lakb_damp1[i][135]=ABCDEF[(lakb_damp[i][45])>>4];			//Дамп
;;;915    snmp_lakb_damp1[i][136]=ABCDEF[(lakb_damp[i][45])&0x0f];			//Дамп
;;;916    snmp_lakb_damp1[i][137]=' ';
;;;917    snmp_lakb_damp1[i][138]=ABCDEF[(lakb_damp[i][46])>>4];			//Дамп
;;;918    snmp_lakb_damp1[i][139]=ABCDEF[(lakb_damp[i][46])&0x0f];			//Дамп
;;;919    snmp_lakb_damp1[i][140]=' ';
;;;920    snmp_lakb_damp1[i][141]=ABCDEF[(lakb_damp[i][47])>>4];			//Дамп
;;;921    snmp_lakb_damp1[i][142]=ABCDEF[(lakb_damp[i][47])&0x0f];			//Дамп
;;;922    snmp_lakb_damp1[i][143]=' ';
;;;923    snmp_lakb_damp1[i][144]=ABCDEF[(lakb_damp[i][48])>>4];			//Дамп
;;;924    snmp_lakb_damp1[i][145]=ABCDEF[(lakb_damp[i][48])&0x0f];			//Дамп
;;;925    snmp_lakb_damp1[i][146]=' ';
;;;926    snmp_lakb_damp1[i][147]=ABCDEF[(lakb_damp[i][49])>>4];			//Дамп
;;;927    snmp_lakb_damp1[i][148]=ABCDEF[(lakb_damp[i][49])&0x0f];			//Дамп
;;;928    snmp_lakb_damp1[i][149]=0;  */
;;;929    }
;;;930    
;;;931    #ifdef UKU_TELECORE2017
;;;932    snmp_warm_sign=0;
;;;933    if(TELECORE2017_KLIMAT_WARM_SIGNAL==0) snmp_warm_sign=2;
;;;934    else if(TELECORE2017_KLIMAT_WARM_SIGNAL==1) snmp_warm_sign=1;
;;;935    snmp_cool_sign=0;
;;;936    if(TELECORE2017_KLIMAT_VENT_SIGNAL==0) snmp_cool_sign=2;
;;;937    else if(TELECORE2017_KLIMAT_VENT_SIGNAL==1) snmp_cool_sign=1;
;;;938    snmp_warm_on_temper=(signed char)TELECORE2017_KLIMAT_WARM_ON; 
;;;939    snmp_warm_off_temper=(signed char)TELECORE2017_KLIMAT_WARM_OFF;
;;;940    snmp_warm_q=(signed char)TELECORE2017_KLIMAT_CAP;	
;;;941    snmp_cool_20_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON20;
;;;942    snmp_cool_40_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON40;
;;;943    snmp_cool_60_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON60;
;;;944    snmp_cool_80_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON80;
;;;945    snmp_cool_100_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON100;
;;;946    snmp_cool_20_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON20;
;;;947    snmp_cool_40_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON40;
;;;948    snmp_cool_60_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON60;
;;;949    snmp_cool_80_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON80;
;;;950    snmp_cool_100_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON100;
;;;951    snmp_warm_stat=0;
;;;952    if(warm_stat_k==wsON) snmp_warm_stat=1;
;;;953    #endif
;;;954    }
;;;955    //-----------------------------------------------
                          ENDP

000012  0000              DCW      0x0000
                  |L11.20|
                          DCD      ||.data||

                          AREA ||area_number.12||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.12||, ||.text||
                  snmp_klimat_settings_vent_on_write PROC
;;;261    //-----------------------------------------------
;;;262    void snmp_data (void) 
000000  2801              CMP      r0,#1
;;;263    {
000002  d105              BNE      |L12.16|
;;;264    char i;
;;;265    
;;;266    snmp_mains_power_voltage=net_U;
000004  4803              LDR      r0,|L12.20|
000006  f9b0107e          LDRSH    r1,[r0,#0x7e]  ; snmp_klimat_settings_vent_on
00000a  20f4              MOVS     r0,#0xf4
00000c  f7ffbffe          B.W      lc640_write_int
                  |L12.16|
;;;267    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;268    snmp_mains_power_frequency=net_F3;
000010  4770              BX       lr
;;;269    #else
;;;270    snmp_mains_power_frequency=net_F;
;;;271    #endif
;;;272    snmp_mains_power_voltage_phaseA=net_Ua;
;;;273    snmp_mains_power_voltage_phaseB=net_Ub;
;;;274    snmp_mains_power_voltage_phaseC=net_Uc;
;;;275    
;;;276    
;;;277    if(avar_stat&0x0001)snmp_mains_power_alarm=1;
;;;278    else snmp_mains_power_alarm=0;
;;;279    if(avar_stat&0x0001)snmp_mains_power_status=1;
;;;280    else snmp_mains_power_status=0;
;;;281    
;;;282    /*
;;;283    snmp_mains_power_status=0; 
;;;284    #if(UKU_VERSION==900)
;;;285    snmp_mains_power_status=2;
;;;286    #endif
;;;287    if(St&0x01)snmp_mains_power_status|=0x01;
;;;288    if(St&0x01)snmp_mains_power_alarm=1;
;;;289    
;;;290    
;;;291    
;;;292    
;;;293    
;;;294    
;;;295    for(i=0;i<snmp_numofevents;i++)event2snmp(i);
;;;296    //snmp_bpsnumber[0]=1;
;;;297    //snmp_bpsnumber[1]=2;
;;;298    
;;;299    
;;;300    snmp_sernum_lsb=0x1122;
;;;301    snmp_sernum_msb=0x3344;
;;;302    snmp_device_code=AUSW_MAIN;
;;;303    
;;;304    //memcpy(snmp_location,"lkhg;la",);
;;;305    
;;;306    
;;;307    snmp_numofbat=1;
;;;308    
;;;309    */
;;;310    snmp_sernum=AUSW_MAIN_NUMBER;
;;;311    
;;;312    snmp_load_voltage=load_U;
;;;313    snmp_load_current=load_I;
;;;314    snmp_numofbat=NUMBAT;
;;;315    snmp_numofbps=NUMIST;
;;;316    snmp_numofinv=NUMINV;
;;;317    snmp_numofavt=NUMAVT;
;;;318    snmp_numofdt=NUMDT;
;;;319    snmp_numofsk=NUMSK;
;;;320    snmp_numofevents=lc640_read_int(CNT_EVENT_LOG);
;;;321    
;;;322    snmp_energy_vvod_phase_a=Uvv_eb2[0];
;;;323    snmp_energy_vvod_phase_b=Uvv_eb2[1];
;;;324    snmp_energy_vvod_phase_c=Uvv_eb2[2];
;;;325    snmp_energy_pes_phase_a=Upes_eb2[0];
;;;326    snmp_energy_pes_phase_b=Upes_eb2[1];
;;;327    snmp_energy_pes_phase_c=Upes_eb2[2];
;;;328    
;;;329    #ifdef UKU_KONTUR
;;;330    snmp_energy_vvod_phase_a=Uvv0;
;;;331    snmp_energy_pes_phase_a=Uvv[1];
;;;332    #endif
;;;333    
;;;334    snmp_energy_total_energy=power_summary;
;;;335    snmp_energy_current_energy=power_current;
;;;336    snmp_energy_input_voltage=net_U;
;;;337    
;;;338    
;;;339    #ifdef UKU_ZVU
;;;340    snmp_bat_number[0]=1;
;;;341    snmp_bat_voltage[0]=out_U;
;;;342    snmp_bat_current[0]=Ib_ips_termokompensat;
;;;343    snmp_bat_rem_time[0]=bat_hndl_t_razr_min;
;;;344    if(Ib_ips_termokompensat>0)snmp_bat_rem_time[0]=-1;
;;;345    snmp_bat_temperature[0]=t_ext[0];
;;;346    if(ND_EXT[0])snmp_bat_temperature[0]=-1000;
;;;347    snmp_bat_capacity[0]=BAT_C_POINT_20;
;;;348    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;349    snmp_bat_status[0]=bat_ips._av&1;
;;;350    if(NUMBAT==0)snmp_bat_status[0]=0xff;
;;;351    #endif
;;;352    
;;;353    #ifndef UKU_ZVU
;;;354    snmp_bat_number[0]=1;
;;;355    snmp_bat_voltage[0]=bat[0]._Ub;
;;;356    snmp_bat_part_voltage[0]=bat[0]._Ubm;
;;;357    snmp_bat_current[0]=bat[0]._Ib;
;;;358    
;;;359    /*
;;;360    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;361    if(((AUSW_MAIN==22063)||(AUSW_MAIN==22023))&&(bps[8]._device==dIBAT_METR))
;;;362    	{
;;;363    	snmp_bat_current[0]=Ib_ips_termokompensat;
;;;364    	}
;;;365    #endif*/
;;;366    
;;;367    snmp_bat_temperature[0]=bat[0]._Tb;
;;;368    if(bat[0]._nd) snmp_bat_temperature[0]=-1000;
;;;369    
;;;370    if(BAT_C_REAL[0]==0x5555)snmp_bat_capacity[0]=BAT_C_NOM[0];
;;;371    else snmp_bat_capacity[0]=BAT_C_REAL[0];
;;;372    /*
;;;373    #ifdef UKU_ZVU
;;;374    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;375    
;;;376    #else
;;;377    snmp_bat_charge[0]=bat[0]._zar;
;;;378    #endif */
;;;379    snmp_bat_charge[0]=bat[0]._zar;
;;;380    snmp_bat_status[0]=bat[0]._av;
;;;381    if(BAT_IS_ON[0]!=bisON)snmp_bat_status[0]=0xff;
;;;382    
;;;383    
;;;384    snmp_bat_number[1]=2;
;;;385    snmp_bat_voltage[1]=bat[1]._Ub;
;;;386    snmp_bat_part_voltage[1]=bat[1]._Ubm;
;;;387    snmp_bat_current[1]=bat[1]._Ib;
;;;388    snmp_bat_temperature[1]=bat[1]._Tb;
;;;389    if(bat[1]._nd) snmp_bat_temperature[1]=-1000;
;;;390    if(BAT_C_REAL[1]==0x5555)snmp_bat_capacity[1]=BAT_C_NOM[1];
;;;391    else snmp_bat_capacity[1]=BAT_C_REAL[1];
;;;392    snmp_bat_charge[1]=bat[1]._zar;
;;;393    snmp_bat_status[1]=bat[1]._av;
;;;394    if(BAT_IS_ON[1]!=bisON)snmp_bat_status[1]=0xff;
;;;395    #endif
;;;396    
;;;397    
;;;398    snmp_bps_number[0]=1;
;;;399    snmp_bps_voltage[0]=bps[0]._Uii;
;;;400    snmp_bps_current[0]=bps[0]._Ii;
;;;401    snmp_bps_temperature[0]=bps[0]._Ti;
;;;402    snmp_bps_stat[0]=bps[0]._av;
;;;403    if(!(NUMIST>0))snmp_bps_stat[0]=0xff;												//Байт состояния БПСа.
;;;404    
;;;405    /*if(St_[0]&(1<<2))snmp_bps_stat[0]=(1<<3); 							//авария по Umin
;;;406    else if(St_[0]&(1<<3))snmp_bps_stat[0]=(1<<2); 						//авария по Umax
;;;407    else if(bps[0]._av&(1<<0))snmp_bps_stat[0]=(1<<1); 						//авария по Tmax
;;;408    else if(St_[0]&(1<<5))snmp_bps_stat[0]=(1<<5); 						//заблокирован
;;;409    else if((!(St_[0]&0x3c))&&(!St&0x01)&&(!OFFBP1))snmp_bps_stat[0]=1; 		//Работает
;;;410    */
;;;411    
;;;412    snmp_bps_number[1]=2;
;;;413    snmp_bps_voltage[1]=bps[1]._Uii;
;;;414    snmp_bps_current[1]=bps[1]._Ii;
;;;415    snmp_bps_temperature[1]=bps[1]._Ti;
;;;416    snmp_bps_stat[1]=bps[1]._av;
;;;417    if(!(NUMIST>1))snmp_bps_stat[1]=0xff;												//Байт состояния БПСа.
;;;418    /*if(St_[1]&(1<<2))snmp_bps_stat[1]=(1<<3); 							//авария по Umin
;;;419    else if(St_[1]&(1<<3))snmp_bps_stat[1]=(1<<2); 						//авария по Umax
;;;420    else if(St_[1]&(1<<4))snmp_bps_stat[1]=(1<<1); 						//авария по Tmax
;;;421    else if(St_[1]&(1<<5))snmp_bps_stat[1]=(1<<5); 						//заблокирован
;;;422    else if((!(St_[1]&0x3c))&&(!St&0x01)&&(!OFFBP2))snmp_bps_stat[1]=1; 		//Работает
;;;423    */
;;;424    
;;;425    snmp_bps_number[2]=3;
;;;426    snmp_bps_voltage[2]=bps[2]._Uii;
;;;427    snmp_bps_current[2]=bps[2]._Ii;
;;;428    snmp_bps_temperature[2]=bps[2]._Ti;
;;;429    snmp_bps_stat[2]=bps[2]._av;
;;;430    if(!(NUMIST>2))snmp_bps_stat[2]=0xff;
;;;431    
;;;432    snmp_bps_number[3]=4;
;;;433    snmp_bps_voltage[3]=bps[3]._Uii;
;;;434    snmp_bps_current[3]=bps[3]._Ii;
;;;435    snmp_bps_temperature[3]=bps[3]._Ti;
;;;436    snmp_bps_stat[3]=bps[3]._av;
;;;437    if(!(NUMIST>3))snmp_bps_stat[3]=0xff;
;;;438    
;;;439    snmp_bps_number[4]=5;
;;;440    snmp_bps_voltage[4]=bps[4]._Uii;
;;;441    snmp_bps_current[4]=bps[4]._Ii;
;;;442    snmp_bps_temperature[4]=bps[4]._Ti;
;;;443    snmp_bps_stat[4]=bps[4]._av;
;;;444    if(!(NUMIST>4))snmp_bps_stat[4]=0xff;
;;;445    
;;;446    snmp_bps_number[5]=6;
;;;447    snmp_bps_voltage[5]=bps[5]._Uii;
;;;448    snmp_bps_current[5]=bps[5]._Ii;
;;;449    snmp_bps_temperature[5]=bps[5]._Ti;
;;;450    snmp_bps_stat[5]=bps[5]._av;
;;;451    if(!(NUMIST>5))snmp_bps_stat[5]=0xff;
;;;452    
;;;453    snmp_bps_number[6]=7;
;;;454    snmp_bps_voltage[6]=bps[6]._Uii;
;;;455    snmp_bps_current[6]=bps[6]._Ii;
;;;456    snmp_bps_temperature[6]=bps[6]._Ti;
;;;457    snmp_bps_stat[6]=bps[6]._av;
;;;458    if(!(NUMIST>6))snmp_bps_stat[6]=0xff;
;;;459    
;;;460    snmp_bps_number[7]=8;
;;;461    snmp_bps_voltage[7]=bps[7]._Uii;
;;;462    snmp_bps_current[7]=bps[7]._Ii;
;;;463    snmp_bps_temperature[7]=bps[7]._Ti;
;;;464    snmp_bps_stat[7]=bps[7]._av;
;;;465    if(!(NUMIST>7))snmp_bps_stat[7]=0xff;
;;;466    
;;;467    
;;;468    
;;;469    snmp_inv_number[0]=1;
;;;470    snmp_inv_voltage[0]=inv[0]._Uio;
;;;471    snmp_inv_current[0]=inv[0]._Ii;
;;;472    snmp_inv_temperature[0]=inv[0]._Ti;
;;;473    snmp_inv_stat[0]=inv[0]._flags_tm;
;;;474    
;;;475    snmp_inv_number[1]=2;
;;;476    snmp_inv_voltage[1]=inv[1]._Uio;
;;;477    snmp_inv_current[1]=inv[1]._Ii;
;;;478    snmp_inv_temperature[1]=inv[1]._Ti;
;;;479    snmp_inv_stat[1]=inv[1]._flags_tm;
;;;480    
;;;481    snmp_inv_number[2]=3;
;;;482    snmp_inv_voltage[2]=inv[2]._Uio;
;;;483    snmp_inv_current[2]=inv[2]._Ii;
;;;484    snmp_inv_temperature[2]=inv[2]._Ti;
;;;485    snmp_inv_stat[2]=inv[2]._flags_tm;
;;;486    
;;;487    
;;;488    
;;;489    
;;;490    					  
;;;491    snmp_sk_number[0]=1;
;;;492    memcpy(&snmp_sk_name[0][0],"Door",10);
;;;493    if(sk_stat[0]==ssON) snmp_sk_aktiv[0]=1;
;;;494    else snmp_sk_aktiv[0]=0;
;;;495    if(!SK_SIGN[0])snmp_sk_alarm_aktiv[0]=1;
;;;496    else snmp_sk_alarm_aktiv[0]=0;
;;;497    if(sk_av_stat[0]==sasON)	snmp_sk_alarm[0]=1;
;;;498    else                     snmp_sk_alarm[0]=0;
;;;499    
;;;500    
;;;501    snmp_sk_number[1]=2;
;;;502    memcpy(&snmp_sk_name[1][0],"Smoke",10);
;;;503    if(sk_stat[1]==ssON) snmp_sk_aktiv[1]=1;
;;;504    else snmp_sk_aktiv[1]=0;
;;;505    if(!SK_SIGN[1])snmp_sk_alarm_aktiv[1]=1;
;;;506    else snmp_sk_alarm_aktiv[1]=0;
;;;507    if(sk_av_stat[1]==sasON)	snmp_sk_alarm[1]=1;
;;;508    else                     snmp_sk_alarm[1]=0;
;;;509    
;;;510    snmp_sk_number[2]=3;
;;;511    memcpy(&snmp_sk_name[2][0],"Shock",10);
;;;512    if(sk_stat[2]==ssON) snmp_sk_aktiv[2]=1;
;;;513    else snmp_sk_aktiv[2]=0;
;;;514    if(!SK_SIGN[2])snmp_sk_alarm_aktiv[2]=1;
;;;515    else snmp_sk_alarm_aktiv[2]=0;
;;;516    if(sk_av_stat[2]==sasON)	snmp_sk_alarm[2]=1;
;;;517    else                     snmp_sk_alarm[2]=0;
;;;518    
;;;519    snmp_sk_number[3]=4;
;;;520    memcpy(&snmp_sk_name[3][0],"     ",10);
;;;521    if(sk_stat[3]==ssON) snmp_sk_aktiv[3]=1;
;;;522    else snmp_sk_aktiv[3]=0;
;;;523    if(!SK_SIGN[3])snmp_sk_alarm_aktiv[3]=1;
;;;524    else snmp_sk_alarm_aktiv[3]=0;
;;;525    if(sk_av_stat[3]==sasON)	snmp_sk_alarm[3]=1;
;;;526    else                     snmp_sk_alarm[3]=0;
;;;527    
;;;528    
;;;529    if(makb[0]._cnt>8) snmp_makb_connect_status[0]=1;
;;;530    else if(makb[0]._cnt<2) snmp_makb_connect_status[0]=0;
;;;531    if(makb[1]._cnt>8) snmp_makb_connect_status[1]=1;
;;;532    else if(makb[1]._cnt<2) snmp_makb_connect_status[1]=0;
;;;533    if(makb[2]._cnt>8) snmp_makb_connect_status[2]=1;
;;;534    else if(makb[2]._cnt<2) snmp_makb_connect_status[2]=0;
;;;535    if(makb[3]._cnt>8) snmp_makb_connect_status[3]=1;
;;;536    else if(makb[3]._cnt<2) snmp_makb_connect_status[3]=0;
;;;537    
;;;538    snmp_makb_voltage0[0]=makb[0]._Ub[0];
;;;539    snmp_makb_voltage1[0]=makb[0]._Ub[1];
;;;540    snmp_makb_voltage2[0]=makb[0]._Ub[2];
;;;541    snmp_makb_voltage3[0]=makb[0]._Ub[3];
;;;542    snmp_makb_voltage4[0]=makb[0]._Ub[4];
;;;543    snmp_makb_voltage0[1]=makb[1]._Ub[0];
;;;544    snmp_makb_voltage1[1]=makb[1]._Ub[1];
;;;545    snmp_makb_voltage2[1]=makb[1]._Ub[2];
;;;546    snmp_makb_voltage3[1]=makb[1]._Ub[3];
;;;547    snmp_makb_voltage4[1]=makb[1]._Ub[4];
;;;548    snmp_makb_voltage0[2]=makb[2]._Ub[0];
;;;549    snmp_makb_voltage1[2]=makb[2]._Ub[1];
;;;550    snmp_makb_voltage2[2]=makb[2]._Ub[2];
;;;551    snmp_makb_voltage3[2]=makb[2]._Ub[3];
;;;552    snmp_makb_voltage4[2]=makb[2]._Ub[4];
;;;553    snmp_makb_voltage0[3]=makb[3]._Ub[0];
;;;554    snmp_makb_voltage1[3]=makb[3]._Ub[1];
;;;555    snmp_makb_voltage2[3]=makb[3]._Ub[2];
;;;556    snmp_makb_voltage3[3]=makb[3]._Ub[3];
;;;557    snmp_makb_voltage4[3]=makb[3]._Ub[4];
;;;558    
;;;559    snmp_makb_temper0[0]=makb[0]._T[0];
;;;560    snmp_makb_temper1[0]=makb[0]._T[1];
;;;561    snmp_makb_temper2[0]=makb[0]._T[2];
;;;562    snmp_makb_temper3[0]=makb[0]._T[3];
;;;563    snmp_makb_temper4[0]=makb[0]._T[4];
;;;564    snmp_makb_temper0[1]=makb[1]._T[0];
;;;565    snmp_makb_temper1[1]=makb[1]._T[1];
;;;566    snmp_makb_temper2[1]=makb[1]._T[2];
;;;567    snmp_makb_temper3[1]=makb[1]._T[3];
;;;568    snmp_makb_temper4[1]=makb[1]._T[4];
;;;569    snmp_makb_temper0[2]=makb[2]._T[0];
;;;570    snmp_makb_temper1[2]=makb[2]._T[1];
;;;571    snmp_makb_temper2[2]=makb[2]._T[2];
;;;572    snmp_makb_temper3[2]=makb[2]._T[3];
;;;573    snmp_makb_temper4[2]=makb[2]._T[4];
;;;574    snmp_makb_temper0[3]=makb[3]._T[0];
;;;575    snmp_makb_temper1[3]=makb[3]._T[1];
;;;576    snmp_makb_temper2[3]=makb[3]._T[2];
;;;577    snmp_makb_temper3[3]=makb[3]._T[3];
;;;578    snmp_makb_temper4[3]=makb[3]._T[4];
;;;579    
;;;580    snmp_makb_temper0_stat[0]=makb[0]._T_nd[0];
;;;581    snmp_makb_temper1_stat[0]=makb[0]._T_nd[1];
;;;582    snmp_makb_temper2_stat[0]=makb[0]._T_nd[2];
;;;583    snmp_makb_temper3_stat[0]=makb[0]._T_nd[3];
;;;584    snmp_makb_temper4_stat[0]=makb[0]._T_nd[4];
;;;585    snmp_makb_temper0_stat[1]=makb[1]._T_nd[0];
;;;586    snmp_makb_temper1_stat[1]=makb[1]._T_nd[1];
;;;587    snmp_makb_temper2_stat[1]=makb[1]._T_nd[2];
;;;588    snmp_makb_temper3_stat[1]=makb[1]._T_nd[3];
;;;589    snmp_makb_temper4_stat[1]=makb[1]._T_nd[4];
;;;590    snmp_makb_temper0_stat[2]=makb[2]._T_nd[0];
;;;591    snmp_makb_temper1_stat[2]=makb[2]._T_nd[1];
;;;592    snmp_makb_temper2_stat[2]=makb[2]._T_nd[2];
;;;593    snmp_makb_temper3_stat[2]=makb[2]._T_nd[3];
;;;594    snmp_makb_temper4_stat[2]=makb[2]._T_nd[4];
;;;595    snmp_makb_temper0_stat[3]=makb[3]._T_nd[0];
;;;596    snmp_makb_temper1_stat[3]=makb[3]._T_nd[1];
;;;597    snmp_makb_temper2_stat[3]=makb[3]._T_nd[2];
;;;598    snmp_makb_temper3_stat[3]=makb[3]._T_nd[3];
;;;599    snmp_makb_temper4_stat[3]=makb[3]._T_nd[4];
;;;600    
;;;601    
;;;602    snmp_klimat_box_temper=t_box;
;;;603    snmp_klimat_settings_box_alarm=TBOXMAX;
;;;604    snmp_klimat_settings_vent_on=TBOXVENTON;
;;;605    snmp_klimat_settings_vent_off=TBOXVENTOFF;
;;;606    snmp_klimat_settings_warm_on=TBOXWARMON;
;;;607    snmp_klimat_settings_warm_off=TBOXWARMOFF;
;;;608    snmp_klimat_settings_load_on=TLOADENABLE;
;;;609    snmp_klimat_settings_load_off=TLOADDISABLE;
;;;610    snmp_klimat_settings_batt_on=TBATENABLE;
;;;611    snmp_klimat_settings_batt_off=TBATDISABLE;
;;;612    
;;;613    snmp_dt_ext=t_ext[0];
;;;614    snmp_dt_msan=t_ext[1];
;;;615    snmp_dt_epu=t_ext[2];
;;;616    
;;;617    /*
;;;618    snmp_bat_voltage=Ubat;
;;;619    snmp_bat_current=Ibat;
;;;620    snmp_bat_temperature=t_b;
;;;621    if(BAT_C_REAL==0x5555)
;;;622    	{
;;;623    	snmp_bat_capacity=BAT_C_NOM*10;												    11
;;;624    	}
;;;625    else
;;;626    	{
;;;627    	snmp_bat_capacity=BAT_C_REAL;
;;;628    	}
;;;629    snmp_bat_charge=zar_percent;
;;;630    snmp_bat_status=0;
;;;631    if(St&0x02)snmp_bat_status|=0x01;
;;;632    if(Ibat>0)snmp_bat_status|=0x02;
;;;633    
;;;634    
;;;635    if(spc_stat==spc_OFF) snmp_spc_stat=0;
;;;636    else if(spc_stat==spc_KE) snmp_spc_stat=1;
;;;637    else if(spc_stat==spc_VZ) snmp_spc_stat=10;
;;;638    
;;;639    
;;;640    snmp_main_bps=MAIN_IST+1;
;;;641    */
;;;642    snmp_zv_en=ZV_ON;
;;;643    snmp_alarm_auto_disable=AV_OFF_AVT;
;;;644    snmp_bat_test_time=TBAT;
;;;645    snmp_u_max=UMAX;
;;;646    snmp_u_min=UB20-DU;
;;;647    snmp_u_0_grad=UB0;
;;;648    snmp_u_20_grad=UB20;
;;;649    snmp_u_sign=USIGN;
;;;650    snmp_u_min_power=UMN;
;;;651    snmp_u_withouth_bat=U0B;
;;;652    snmp_control_current=IKB;
;;;653    snmp_max_charge_current=IZMAX;
;;;654    snmp_max_current=IMAX;
;;;655    snmp_min_current=IMIN;
;;;656    //snmp_max_current_koef=KIMAX;
;;;657    snmp_uvz=UVZ;
;;;658    snmp_powerup_psu_timeout=TZAS;
;;;659    snmp_max_temperature=TMAX;
;;;660    snmp_tsign_bat=TBATSIGN; 
;;;661    snmp_tmax_bat=TBATMAX;
;;;662    snmp_tsign_bps=TSIGN;
;;;663    snmp_tmax_bps=TMAX;
;;;664    snmp_bat_part_alarm=UBM_AV; 
;;;665    snmp_power_cnt_adress=POWER_CNT_ADRESS;
;;;666    
;;;667    for(i=0;i<12;i++)
;;;668    	{
;;;669    	snmp_avt_number[i]=i+1;
;;;670    	if(avt_stat[i]==avtOFF)snmp_avt_stat[i]=0;
;;;671    	else snmp_avt_stat[i]=1;
;;;672    	}
;;;673    
;;;674    snmp_dt_number[0]=1;
;;;675    snmp_dt_number[1]=2;
;;;676    snmp_dt_number[2]=3;
;;;677    //snmp_dt_number[3]=4;
;;;678    snmp_dt_temper[0]=t_ext[0];
;;;679    snmp_dt_temper[1]=t_ext[1];
;;;680    snmp_dt_temper[2]=t_ext[2];
;;;681    //snmp_dt_temper[3]=t_ext[3];
;;;682    snmp_dt_error[0]=ND_EXT[0];
;;;683    if(NUMDT<1)snmp_dt_error[0]=0xff;
;;;684    snmp_dt_error[1]=ND_EXT[1];
;;;685    if(NUMDT<2)snmp_dt_error[0]=0xff;
;;;686    snmp_dt_error[2]=ND_EXT[2];
;;;687    if(NUMDT<3)snmp_dt_error[0]=0xff;
;;;688    //snmp_dt_error[3]=ND_EXT[3];
;;;689    if(NUMDT<4)snmp_dt_error[0]=0xff;
;;;690    
;;;691    /*
;;;692    //Литиевые батареи
;;;693    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;694    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;695    snmp_lakb_voltage[0]=lakb[0]._tot_bat_volt;				//Напряжение ЛАКБ
;;;696    snmp_lakb_voltage[1]=lakb[1]._tot_bat_volt;				//Напряжение ЛАКБ
;;;697    snmp_lakb_max_cell_voltage[0]=lakb[0]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;698    snmp_lakb_max_cell_voltage[1]=lakb[1]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;699    snmp_lakb_min_cell_voltage[0]=lakb[0]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;700    snmp_lakb_min_cell_voltage[1]=lakb[1]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;701    snmp_lakb_max_cell_temperature[0]=lakb[0]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;702    snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;703    snmp_lakb_min_cell_temperature[0]=lakb[0]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;704    snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;705    snmp_lakb_ch_curr[0]=lakb[0]._ch_curr;					//Ток заряда ЛАКБ
;;;706    snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;707    snmp_lakb_dsch_curr[0]=lakb[0]._dsch_curr;				//Ток разряда ЛАКБ
;;;708    snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;709    snmp_lakb_rat_cap[0]=lakb[0]._rat_cap;					//Номинальная емкость ЛАКБ
;;;710    snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;711    snmp_lakb_soh[0]=lakb[0]._s_o_h;						//Остаточная емкость ЛАКБ
;;;712    snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;713    snmp_lakb_soc[0]=lakb[0]._s_o_c;						//Заряд ЛАКБ
;;;714    snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;715    snmp_lakb_cclv[0]=lakb[0]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;716    snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;717    snmp_lakb_rbt[0]=lakb[0]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;718    snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;719    snmp_lakb_flags1[0]=lakb[0]._flags1;					//Первый флаг состояния ЛАКБ
;;;720    snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;721    snmp_lakb_flags2[0]=lakb[0]._flags2;					//Второй флаг состояния ЛАКБ
;;;722    snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ */
;;;723    
;;;724    //Литиевые батареи
;;;725    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;726    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;727    snmp_lakb_number[2]=3;								//Номер ЛАКБ
;;;728    snmp_lakb_number[3]=4;								//Номер ЛАКБ
;;;729    snmp_lakb_number[4]=5;								//Номер ЛАКБ
;;;730    snmp_lakb_number[5]=6;								//Номер ЛАКБ
;;;731    snmp_lakb_number[6]=7;								//Номер ЛАКБ
;;;732    
;;;733    for (i=0;i<3;i++)
;;;734    	{
;;;735    	snmp_lakb_voltage[i]=lakb[i]._tot_bat_volt;				//Напряжение ЛАКБ
;;;736    	snmp_lakb_max_cell_voltage[i]=lakb[i]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;737    	snmp_lakb_min_cell_voltage[i]=lakb[i]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;738    	snmp_lakb_max_cell_temperature[i]=lakb[i]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;739    	//snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;740    	snmp_lakb_min_cell_temperature[i]=lakb[i]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;741    	//snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;742    	snmp_lakb_ch_curr[i]=lakb[i]._ch_curr;					//Ток заряда ЛАКБ
;;;743    	//snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;744    	snmp_lakb_dsch_curr[i]=lakb[i]._dsch_curr;				//Ток разряда ЛАКБ
;;;745    	//snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;746    	snmp_lakb_rat_cap[i]=lakb[i]._rat_cap;					//Номинальная емкость ЛАКБ
;;;747    	//snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;748    	snmp_lakb_soh[i]=lakb[i]._s_o_h;						//Остаточная емкость ЛАКБ
;;;749    	//snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;750    	snmp_lakb_soc[i]=lakb[i]._s_o_c;						//Заряд ЛАКБ
;;;751    	//snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;752    	snmp_lakb_cclv[i]=lakb[i]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;753    	//snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;754    	snmp_lakb_rbt[i]=lakb[i]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;755    	//snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;756    	snmp_lakb_flags1[i]=lakb[i]._flags1;					//Первый флаг состояния ЛАКБ
;;;757    	//snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;758    	snmp_lakb_flags2[i]=lakb[i]._flags2;					//Второй флаг состояния ЛАКБ
;;;759    	//snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ
;;;760    
;;;761    	snmp_lakb_cell_temperature_1[i]= lakb[i]._cell_temp_1;
;;;762    	snmp_lakb_cell_temperature_2[i]= lakb[i]._cell_temp_2;
;;;763    	snmp_lakb_cell_temperature_3[i]= lakb[i]._cell_temp_3;
;;;764    	snmp_lakb_cell_temperature_4[i]= lakb[i]._cell_temp_4;
;;;765    	snmp_lakb_cell_temperature_ambient[i]=lakb[i]._cell_temp_ambient;
;;;766    	snmp_lakb_cell_temperature_power[i]=lakb[i]._cell_temp_power;
;;;767    	}
;;;768    
;;;769    for (i=0;i<7;i++)
;;;770    {
;;;771    /*
;;;772    snmp_lakb_damp1[i][0]=ABCDEF[(lakb_damp[i][0])>>4];			//Дамп
;;;773    snmp_lakb_damp1[i][1]=ABCDEF[(lakb_damp[i][0])&0x0f];			//Дамп
;;;774    snmp_lakb_damp1[i][2]=' ';
;;;775    snmp_lakb_damp1[i][3]=ABCDEF[(lakb_damp[i][1])>>4];			//Дамп
;;;776    snmp_lakb_damp1[i][4]=ABCDEF[(lakb_damp[i][1])&0x0f];			//Дамп
;;;777    snmp_lakb_damp1[i][5]=' ';
;;;778    snmp_lakb_damp1[i][6]=ABCDEF[(lakb_damp[i][2])>>4];			//Дамп
;;;779    snmp_lakb_damp1[i][7]=ABCDEF[(lakb_damp[i][2])&0x0f];			//Дамп
;;;780    snmp_lakb_damp1[i][8]=' ';
;;;781    snmp_lakb_damp1[i][9]=ABCDEF[(lakb_damp[i][3])>>4];			//Дамп
;;;782    snmp_lakb_damp1[i][10]=ABCDEF[(lakb_damp[i][3])&0x0f];			//Дамп
;;;783    snmp_lakb_damp1[i][11]=' ';
;;;784    snmp_lakb_damp1[i][12]=ABCDEF[(lakb_damp[i][4])>>4];			//Дамп
;;;785    snmp_lakb_damp1[i][13]=ABCDEF[(lakb_damp[i][4])&0x0f];			//Дамп
;;;786    snmp_lakb_damp1[i][14]=' '; 
;;;787    snmp_lakb_damp1[i][15]=ABCDEF[(lakb_damp[i][5])>>4];			//Дамп
;;;788    snmp_lakb_damp1[i][16]=ABCDEF[(lakb_damp[i][5])&0x0f];			//Дамп
;;;789    snmp_lakb_damp1[i][17]=' ';
;;;790    snmp_lakb_damp1[i][18]=ABCDEF[(lakb_damp[i][6])>>4];			//Дамп
;;;791    snmp_lakb_damp1[i][19]=ABCDEF[(lakb_damp[i][6])&0x0f];			//Дамп
;;;792    snmp_lakb_damp1[i][20]=' ';
;;;793    snmp_lakb_damp1[i][21]=ABCDEF[(lakb_damp[i][7])>>4];			//Дамп
;;;794    snmp_lakb_damp1[i][22]=ABCDEF[(lakb_damp[i][7])&0x0f];			//Дамп
;;;795    snmp_lakb_damp1[i][23]=' ';
;;;796    snmp_lakb_damp1[i][24]=ABCDEF[(lakb_damp[i][8])>>4];			//Дамп
;;;797    snmp_lakb_damp1[i][25]=ABCDEF[(lakb_damp[i][8])&0x0f];			//Дамп
;;;798    snmp_lakb_damp1[i][26]=' ';
;;;799    snmp_lakb_damp1[i][27]=ABCDEF[(lakb_damp[i][9])>>4];			//Дамп
;;;800    snmp_lakb_damp1[i][28]=ABCDEF[(lakb_damp[i][9])&0x0f];			//Дамп
;;;801    snmp_lakb_damp1[i][29]=0; 
;;;802    
;;;803    snmp_lakb_damp1[i][30]=ABCDEF[(lakb_damp[i][10])>>4];			//Дамп
;;;804    snmp_lakb_damp1[i][31]=ABCDEF[(lakb_damp[i][10])&0x0f];			//Дамп
;;;805    snmp_lakb_damp1[i][32]=' ';
;;;806    snmp_lakb_damp1[i][33]=ABCDEF[(lakb_damp[i][11])>>4];			//Дамп
;;;807    snmp_lakb_damp1[i][34]=ABCDEF[(lakb_damp[i][11])&0x0f];			//Дамп
;;;808    snmp_lakb_damp1[i][35]=' ';
;;;809    snmp_lakb_damp1[i][36]=ABCDEF[(lakb_damp[i][12])>>4];			//Дамп
;;;810    snmp_lakb_damp1[i][37]=ABCDEF[(lakb_damp[i][12])&0x0f];			//Дамп
;;;811    snmp_lakb_damp1[i][38]=' ';
;;;812    snmp_lakb_damp1[i][39]=ABCDEF[(lakb_damp[i][13])>>4];			//Дамп
;;;813    snmp_lakb_damp1[i][40]=ABCDEF[(lakb_damp[i][13])&0x0f];			//Дамп
;;;814    snmp_lakb_damp1[i][41]=' ';
;;;815    snmp_lakb_damp1[i][42]=ABCDEF[(lakb_damp[i][14])>>4];			//Дамп
;;;816    snmp_lakb_damp1[i][43]=ABCDEF[(lakb_damp[i][14])&0x0f];			//Дамп
;;;817    snmp_lakb_damp1[i][44]=' '; 
;;;818    snmp_lakb_damp1[i][45]=ABCDEF[(lakb_damp[i][15])>>4];			//Дамп
;;;819    snmp_lakb_damp1[i][46]=ABCDEF[(lakb_damp[i][15])&0x0f];			//Дамп
;;;820    snmp_lakb_damp1[i][47]=' ';
;;;821    snmp_lakb_damp1[i][48]=ABCDEF[(lakb_damp[i][16])>>4];			//Дамп
;;;822    snmp_lakb_damp1[i][49]=ABCDEF[(lakb_damp[i][16])&0x0f];			//Дамп
;;;823    snmp_lakb_damp1[i][50]=' ';
;;;824    snmp_lakb_damp1[i][51]=ABCDEF[(lakb_damp[i][17])>>4];			//Дамп
;;;825    snmp_lakb_damp1[i][52]=ABCDEF[(lakb_damp[i][17])&0x0f];			//Дамп
;;;826    snmp_lakb_damp1[i][53]=' ';
;;;827    snmp_lakb_damp1[i][54]=ABCDEF[(lakb_damp[i][18])>>4];			//Дамп
;;;828    snmp_lakb_damp1[i][55]=ABCDEF[(lakb_damp[i][18])&0x0f];			//Дамп
;;;829    snmp_lakb_damp1[i][56]=' ';
;;;830    snmp_lakb_damp1[i][57]=ABCDEF[(lakb_damp[i][19])>>4];			//Дамп
;;;831    snmp_lakb_damp1[i][58]=ABCDEF[(lakb_damp[i][19])&0x0f];			//Дамп
;;;832    snmp_lakb_damp1[i][59]=0; 
;;;833    
;;;834    
;;;835    snmp_lakb_damp1[i][60]=ABCDEF[(lakb_damp[i][20])>>4];			//Дамп
;;;836    snmp_lakb_damp1[i][61]=ABCDEF[(lakb_damp[i][20])&0x0f];			//Дамп
;;;837    snmp_lakb_damp1[i][62]=' ';
;;;838    snmp_lakb_damp1[i][63]=ABCDEF[(lakb_damp[i][21])>>4];			//Дамп
;;;839    snmp_lakb_damp1[i][64]=ABCDEF[(lakb_damp[i][21])&0x0f];			//Дамп
;;;840    snmp_lakb_damp1[i][65]=' ';
;;;841    snmp_lakb_damp1[i][66]=ABCDEF[(lakb_damp[i][22])>>4];			//Дамп
;;;842    snmp_lakb_damp1[i][67]=ABCDEF[(lakb_damp[i][22])&0x0f];			//Дамп
;;;843    snmp_lakb_damp1[i][68]=' ';
;;;844    snmp_lakb_damp1[i][69]=ABCDEF[(lakb_damp[i][23])>>4];			//Дамп
;;;845    snmp_lakb_damp1[i][70]=ABCDEF[(lakb_damp[i][23])&0x0f];			//Дамп
;;;846    snmp_lakb_damp1[i][71]=' ';
;;;847    snmp_lakb_damp1[i][72]=ABCDEF[(lakb_damp[i][24])>>4];			//Дамп
;;;848    snmp_lakb_damp1[i][73]=ABCDEF[(lakb_damp[i][24])&0x0f];			//Дамп
;;;849    snmp_lakb_damp1[i][74]=' '; 
;;;850    snmp_lakb_damp1[i][75]=ABCDEF[(lakb_damp[i][25])>>4];			//Дамп
;;;851    snmp_lakb_damp1[i][76]=ABCDEF[(lakb_damp[i][25])&0x0f];			//Дамп
;;;852    snmp_lakb_damp1[i][77]=' ';
;;;853    snmp_lakb_damp1[i][78]=ABCDEF[(lakb_damp[i][26])>>4];			//Дамп
;;;854    snmp_lakb_damp1[i][79]=ABCDEF[(lakb_damp[i][26])&0x0f];			//Дамп
;;;855    snmp_lakb_damp1[i][80]=' ';
;;;856    snmp_lakb_damp1[i][81]=ABCDEF[(lakb_damp[i][27])>>4];			//Дамп
;;;857    snmp_lakb_damp1[i][82]=ABCDEF[(lakb_damp[i][27])&0x0f];			//Дамп
;;;858    snmp_lakb_damp1[i][83]=' ';
;;;859    snmp_lakb_damp1[i][84]=ABCDEF[(lakb_damp[i][28])>>4];			//Дамп
;;;860    snmp_lakb_damp1[i][85]=ABCDEF[(lakb_damp[i][28])&0x0f];			//Дамп
;;;861    snmp_lakb_damp1[i][86]=' ';
;;;862    snmp_lakb_damp1[i][87]=ABCDEF[(lakb_damp[i][29])>>4];			//Дамп
;;;863    snmp_lakb_damp1[i][88]=ABCDEF[(lakb_damp[i][29])&0x0f];			//Дамп
;;;864    snmp_lakb_damp1[i][89]=0;
;;;865    
;;;866    
;;;867    snmp_lakb_damp1[i][90]=ABCDEF[(lakb_damp[i][30])>>4];			//Дамп
;;;868    snmp_lakb_damp1[i][91]=ABCDEF[(lakb_damp[i][30])&0x0f];			//Дамп
;;;869    snmp_lakb_damp1[i][92]=' ';
;;;870    snmp_lakb_damp1[i][93]=ABCDEF[(lakb_damp[i][31])>>4];			//Дамп
;;;871    snmp_lakb_damp1[i][94]=ABCDEF[(lakb_damp[i][31])&0x0f];			//Дамп
;;;872    snmp_lakb_damp1[i][95]=' ';
;;;873    snmp_lakb_damp1[i][96]=ABCDEF[(lakb_damp[i][32])>>4];			//Дамп
;;;874    snmp_lakb_damp1[i][97]=ABCDEF[(lakb_damp[i][32])&0x0f];			//Дамп
;;;875    snmp_lakb_damp1[i][98]=' ';
;;;876    snmp_lakb_damp1[i][99]=ABCDEF[(lakb_damp[i][33])>>4];			//Дамп
;;;877    snmp_lakb_damp1[i][100]=ABCDEF[(lakb_damp[i][33])&0x0f];			//Дамп
;;;878    snmp_lakb_damp1[i][101]=' ';
;;;879    snmp_lakb_damp1[i][102]=ABCDEF[(lakb_damp[i][34])>>4];			//Дамп
;;;880    snmp_lakb_damp1[i][103]=ABCDEF[(lakb_damp[i][34])&0x0f];			//Дамп
;;;881    snmp_lakb_damp1[i][104]=' '; 
;;;882    snmp_lakb_damp1[i][105]=ABCDEF[(lakb_damp[i][35])>>4];			//Дамп
;;;883    snmp_lakb_damp1[i][106]=ABCDEF[(lakb_damp[i][35])&0x0f];			//Дамп
;;;884    snmp_lakb_damp1[i][107]=' ';
;;;885    snmp_lakb_damp1[i][108]=ABCDEF[(lakb_damp[i][36])>>4];			//Дамп
;;;886    snmp_lakb_damp1[i][109]=ABCDEF[(lakb_damp[i][36])&0x0f];			//Дамп
;;;887    snmp_lakb_damp1[i][110]=' ';
;;;888    snmp_lakb_damp1[i][111]=ABCDEF[(lakb_damp[i][37])>>4];			//Дамп
;;;889    snmp_lakb_damp1[i][112]=ABCDEF[(lakb_damp[i][37])&0x0f];			//Дамп
;;;890    snmp_lakb_damp1[i][113]=' ';
;;;891    snmp_lakb_damp1[i][114]=ABCDEF[(lakb_damp[i][38])>>4];			//Дамп
;;;892    snmp_lakb_damp1[i][115]=ABCDEF[(lakb_damp[i][38])&0x0f];			//Дамп
;;;893    snmp_lakb_damp1[i][116]=' ';
;;;894    snmp_lakb_damp1[i][117]=ABCDEF[(lakb_damp[i][39])>>4];			//Дамп
;;;895    snmp_lakb_damp1[i][118]=ABCDEF[(lakb_damp[i][39])&0x0f];			//Дамп
;;;896    snmp_lakb_damp1[i][119]=0; 
;;;897     
;;;898    
;;;899    snmp_lakb_damp1[i][120]=ABCDEF[(lakb_damp[i][40])>>4];			//Дамп
;;;900    snmp_lakb_damp1[i][121]=ABCDEF[(lakb_damp[i][40])&0x0f];			//Дамп
;;;901    snmp_lakb_damp1[i][122]=' ';
;;;902    snmp_lakb_damp1[i][123]=ABCDEF[(lakb_damp[i][41])>>4];			//Дамп
;;;903    snmp_lakb_damp1[i][124]=ABCDEF[(lakb_damp[i][41])&0x0f];			//Дамп
;;;904    snmp_lakb_damp1[i][125]=' ';
;;;905    snmp_lakb_damp1[i][126]=ABCDEF[(lakb_damp[i][42])>>4];			//Дамп
;;;906    snmp_lakb_damp1[i][127]=ABCDEF[(lakb_damp[i][42])&0x0f];			//Дамп
;;;907    snmp_lakb_damp1[i][128]=' ';
;;;908    snmp_lakb_damp1[i][129]=ABCDEF[(lakb_damp[i][43])>>4];			//Дамп
;;;909    snmp_lakb_damp1[i][130]=ABCDEF[(lakb_damp[i][43])&0x0f];			//Дамп
;;;910    snmp_lakb_damp1[i][131]=' ';
;;;911    snmp_lakb_damp1[i][132]=ABCDEF[(lakb_damp[i][44])>>4];			//Дамп
;;;912    snmp_lakb_damp1[i][133]=ABCDEF[(lakb_damp[i][44])&0x0f];			//Дамп
;;;913    snmp_lakb_damp1[i][134]=' '; 
;;;914    snmp_lakb_damp1[i][135]=ABCDEF[(lakb_damp[i][45])>>4];			//Дамп
;;;915    snmp_lakb_damp1[i][136]=ABCDEF[(lakb_damp[i][45])&0x0f];			//Дамп
;;;916    snmp_lakb_damp1[i][137]=' ';
;;;917    snmp_lakb_damp1[i][138]=ABCDEF[(lakb_damp[i][46])>>4];			//Дамп
;;;918    snmp_lakb_damp1[i][139]=ABCDEF[(lakb_damp[i][46])&0x0f];			//Дамп
;;;919    snmp_lakb_damp1[i][140]=' ';
;;;920    snmp_lakb_damp1[i][141]=ABCDEF[(lakb_damp[i][47])>>4];			//Дамп
;;;921    snmp_lakb_damp1[i][142]=ABCDEF[(lakb_damp[i][47])&0x0f];			//Дамп
;;;922    snmp_lakb_damp1[i][143]=' ';
;;;923    snmp_lakb_damp1[i][144]=ABCDEF[(lakb_damp[i][48])>>4];			//Дамп
;;;924    snmp_lakb_damp1[i][145]=ABCDEF[(lakb_damp[i][48])&0x0f];			//Дамп
;;;925    snmp_lakb_damp1[i][146]=' ';
;;;926    snmp_lakb_damp1[i][147]=ABCDEF[(lakb_damp[i][49])>>4];			//Дамп
;;;927    snmp_lakb_damp1[i][148]=ABCDEF[(lakb_damp[i][49])&0x0f];			//Дамп
;;;928    snmp_lakb_damp1[i][149]=0;  */
;;;929    }
;;;930    
;;;931    #ifdef UKU_TELECORE2017
;;;932    snmp_warm_sign=0;
;;;933    if(TELECORE2017_KLIMAT_WARM_SIGNAL==0) snmp_warm_sign=2;
;;;934    else if(TELECORE2017_KLIMAT_WARM_SIGNAL==1) snmp_warm_sign=1;
;;;935    snmp_cool_sign=0;
;;;936    if(TELECORE2017_KLIMAT_VENT_SIGNAL==0) snmp_cool_sign=2;
;;;937    else if(TELECORE2017_KLIMAT_VENT_SIGNAL==1) snmp_cool_sign=1;
;;;938    snmp_warm_on_temper=(signed char)TELECORE2017_KLIMAT_WARM_ON; 
;;;939    snmp_warm_off_temper=(signed char)TELECORE2017_KLIMAT_WARM_OFF;
;;;940    snmp_warm_q=(signed char)TELECORE2017_KLIMAT_CAP;	
;;;941    snmp_cool_20_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON20;
;;;942    snmp_cool_40_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON40;
;;;943    snmp_cool_60_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON60;
;;;944    snmp_cool_80_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON80;
;;;945    snmp_cool_100_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON100;
;;;946    snmp_cool_20_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON20;
;;;947    snmp_cool_40_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON40;
;;;948    snmp_cool_60_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON60;
;;;949    snmp_cool_80_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON80;
;;;950    snmp_cool_100_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON100;
;;;951    snmp_warm_stat=0;
;;;952    if(warm_stat_k==wsON) snmp_warm_stat=1;
;;;953    #endif
;;;954    }
;;;955    //-----------------------------------------------
                          ENDP

000012  0000              DCW      0x0000
                  |L12.20|
                          DCD      ||.data||

                          AREA ||area_number.13||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.13||, ||.text||
                  snmp_klimat_settings_vent_off_write PROC
;;;261    //-----------------------------------------------
;;;262    void snmp_data (void) 
000000  2801              CMP      r0,#1
;;;263    {
000002  d105              BNE      |L13.16|
;;;264    char i;
;;;265    
;;;266    snmp_mains_power_voltage=net_U;
000004  4803              LDR      r0,|L13.20|
000006  f9b01000          LDRSH    r1,[r0,#0]  ; snmp_klimat_settings_vent_off
00000a  20f6              MOVS     r0,#0xf6
00000c  f7ffbffe          B.W      lc640_write_int
                  |L13.16|
;;;267    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;268    snmp_mains_power_frequency=net_F3;
000010  4770              BX       lr
;;;269    #else
;;;270    snmp_mains_power_frequency=net_F;
;;;271    #endif
;;;272    snmp_mains_power_voltage_phaseA=net_Ua;
;;;273    snmp_mains_power_voltage_phaseB=net_Ub;
;;;274    snmp_mains_power_voltage_phaseC=net_Uc;
;;;275    
;;;276    
;;;277    if(avar_stat&0x0001)snmp_mains_power_alarm=1;
;;;278    else snmp_mains_power_alarm=0;
;;;279    if(avar_stat&0x0001)snmp_mains_power_status=1;
;;;280    else snmp_mains_power_status=0;
;;;281    
;;;282    /*
;;;283    snmp_mains_power_status=0; 
;;;284    #if(UKU_VERSION==900)
;;;285    snmp_mains_power_status=2;
;;;286    #endif
;;;287    if(St&0x01)snmp_mains_power_status|=0x01;
;;;288    if(St&0x01)snmp_mains_power_alarm=1;
;;;289    
;;;290    
;;;291    
;;;292    
;;;293    
;;;294    
;;;295    for(i=0;i<snmp_numofevents;i++)event2snmp(i);
;;;296    //snmp_bpsnumber[0]=1;
;;;297    //snmp_bpsnumber[1]=2;
;;;298    
;;;299    
;;;300    snmp_sernum_lsb=0x1122;
;;;301    snmp_sernum_msb=0x3344;
;;;302    snmp_device_code=AUSW_MAIN;
;;;303    
;;;304    //memcpy(snmp_location,"lkhg;la",);
;;;305    
;;;306    
;;;307    snmp_numofbat=1;
;;;308    
;;;309    */
;;;310    snmp_sernum=AUSW_MAIN_NUMBER;
;;;311    
;;;312    snmp_load_voltage=load_U;
;;;313    snmp_load_current=load_I;
;;;314    snmp_numofbat=NUMBAT;
;;;315    snmp_numofbps=NUMIST;
;;;316    snmp_numofinv=NUMINV;
;;;317    snmp_numofavt=NUMAVT;
;;;318    snmp_numofdt=NUMDT;
;;;319    snmp_numofsk=NUMSK;
;;;320    snmp_numofevents=lc640_read_int(CNT_EVENT_LOG);
;;;321    
;;;322    snmp_energy_vvod_phase_a=Uvv_eb2[0];
;;;323    snmp_energy_vvod_phase_b=Uvv_eb2[1];
;;;324    snmp_energy_vvod_phase_c=Uvv_eb2[2];
;;;325    snmp_energy_pes_phase_a=Upes_eb2[0];
;;;326    snmp_energy_pes_phase_b=Upes_eb2[1];
;;;327    snmp_energy_pes_phase_c=Upes_eb2[2];
;;;328    
;;;329    #ifdef UKU_KONTUR
;;;330    snmp_energy_vvod_phase_a=Uvv0;
;;;331    snmp_energy_pes_phase_a=Uvv[1];
;;;332    #endif
;;;333    
;;;334    snmp_energy_total_energy=power_summary;
;;;335    snmp_energy_current_energy=power_current;
;;;336    snmp_energy_input_voltage=net_U;
;;;337    
;;;338    
;;;339    #ifdef UKU_ZVU
;;;340    snmp_bat_number[0]=1;
;;;341    snmp_bat_voltage[0]=out_U;
;;;342    snmp_bat_current[0]=Ib_ips_termokompensat;
;;;343    snmp_bat_rem_time[0]=bat_hndl_t_razr_min;
;;;344    if(Ib_ips_termokompensat>0)snmp_bat_rem_time[0]=-1;
;;;345    snmp_bat_temperature[0]=t_ext[0];
;;;346    if(ND_EXT[0])snmp_bat_temperature[0]=-1000;
;;;347    snmp_bat_capacity[0]=BAT_C_POINT_20;
;;;348    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;349    snmp_bat_status[0]=bat_ips._av&1;
;;;350    if(NUMBAT==0)snmp_bat_status[0]=0xff;
;;;351    #endif
;;;352    
;;;353    #ifndef UKU_ZVU
;;;354    snmp_bat_number[0]=1;
;;;355    snmp_bat_voltage[0]=bat[0]._Ub;
;;;356    snmp_bat_part_voltage[0]=bat[0]._Ubm;
;;;357    snmp_bat_current[0]=bat[0]._Ib;
;;;358    
;;;359    /*
;;;360    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;361    if(((AUSW_MAIN==22063)||(AUSW_MAIN==22023))&&(bps[8]._device==dIBAT_METR))
;;;362    	{
;;;363    	snmp_bat_current[0]=Ib_ips_termokompensat;
;;;364    	}
;;;365    #endif*/
;;;366    
;;;367    snmp_bat_temperature[0]=bat[0]._Tb;
;;;368    if(bat[0]._nd) snmp_bat_temperature[0]=-1000;
;;;369    
;;;370    if(BAT_C_REAL[0]==0x5555)snmp_bat_capacity[0]=BAT_C_NOM[0];
;;;371    else snmp_bat_capacity[0]=BAT_C_REAL[0];
;;;372    /*
;;;373    #ifdef UKU_ZVU
;;;374    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;375    
;;;376    #else
;;;377    snmp_bat_charge[0]=bat[0]._zar;
;;;378    #endif */
;;;379    snmp_bat_charge[0]=bat[0]._zar;
;;;380    snmp_bat_status[0]=bat[0]._av;
;;;381    if(BAT_IS_ON[0]!=bisON)snmp_bat_status[0]=0xff;
;;;382    
;;;383    
;;;384    snmp_bat_number[1]=2;
;;;385    snmp_bat_voltage[1]=bat[1]._Ub;
;;;386    snmp_bat_part_voltage[1]=bat[1]._Ubm;
;;;387    snmp_bat_current[1]=bat[1]._Ib;
;;;388    snmp_bat_temperature[1]=bat[1]._Tb;
;;;389    if(bat[1]._nd) snmp_bat_temperature[1]=-1000;
;;;390    if(BAT_C_REAL[1]==0x5555)snmp_bat_capacity[1]=BAT_C_NOM[1];
;;;391    else snmp_bat_capacity[1]=BAT_C_REAL[1];
;;;392    snmp_bat_charge[1]=bat[1]._zar;
;;;393    snmp_bat_status[1]=bat[1]._av;
;;;394    if(BAT_IS_ON[1]!=bisON)snmp_bat_status[1]=0xff;
;;;395    #endif
;;;396    
;;;397    
;;;398    snmp_bps_number[0]=1;
;;;399    snmp_bps_voltage[0]=bps[0]._Uii;
;;;400    snmp_bps_current[0]=bps[0]._Ii;
;;;401    snmp_bps_temperature[0]=bps[0]._Ti;
;;;402    snmp_bps_stat[0]=bps[0]._av;
;;;403    if(!(NUMIST>0))snmp_bps_stat[0]=0xff;												//Байт состояния БПСа.
;;;404    
;;;405    /*if(St_[0]&(1<<2))snmp_bps_stat[0]=(1<<3); 							//авария по Umin
;;;406    else if(St_[0]&(1<<3))snmp_bps_stat[0]=(1<<2); 						//авария по Umax
;;;407    else if(bps[0]._av&(1<<0))snmp_bps_stat[0]=(1<<1); 						//авария по Tmax
;;;408    else if(St_[0]&(1<<5))snmp_bps_stat[0]=(1<<5); 						//заблокирован
;;;409    else if((!(St_[0]&0x3c))&&(!St&0x01)&&(!OFFBP1))snmp_bps_stat[0]=1; 		//Работает
;;;410    */
;;;411    
;;;412    snmp_bps_number[1]=2;
;;;413    snmp_bps_voltage[1]=bps[1]._Uii;
;;;414    snmp_bps_current[1]=bps[1]._Ii;
;;;415    snmp_bps_temperature[1]=bps[1]._Ti;
;;;416    snmp_bps_stat[1]=bps[1]._av;
;;;417    if(!(NUMIST>1))snmp_bps_stat[1]=0xff;												//Байт состояния БПСа.
;;;418    /*if(St_[1]&(1<<2))snmp_bps_stat[1]=(1<<3); 							//авария по Umin
;;;419    else if(St_[1]&(1<<3))snmp_bps_stat[1]=(1<<2); 						//авария по Umax
;;;420    else if(St_[1]&(1<<4))snmp_bps_stat[1]=(1<<1); 						//авария по Tmax
;;;421    else if(St_[1]&(1<<5))snmp_bps_stat[1]=(1<<5); 						//заблокирован
;;;422    else if((!(St_[1]&0x3c))&&(!St&0x01)&&(!OFFBP2))snmp_bps_stat[1]=1; 		//Работает
;;;423    */
;;;424    
;;;425    snmp_bps_number[2]=3;
;;;426    snmp_bps_voltage[2]=bps[2]._Uii;
;;;427    snmp_bps_current[2]=bps[2]._Ii;
;;;428    snmp_bps_temperature[2]=bps[2]._Ti;
;;;429    snmp_bps_stat[2]=bps[2]._av;
;;;430    if(!(NUMIST>2))snmp_bps_stat[2]=0xff;
;;;431    
;;;432    snmp_bps_number[3]=4;
;;;433    snmp_bps_voltage[3]=bps[3]._Uii;
;;;434    snmp_bps_current[3]=bps[3]._Ii;
;;;435    snmp_bps_temperature[3]=bps[3]._Ti;
;;;436    snmp_bps_stat[3]=bps[3]._av;
;;;437    if(!(NUMIST>3))snmp_bps_stat[3]=0xff;
;;;438    
;;;439    snmp_bps_number[4]=5;
;;;440    snmp_bps_voltage[4]=bps[4]._Uii;
;;;441    snmp_bps_current[4]=bps[4]._Ii;
;;;442    snmp_bps_temperature[4]=bps[4]._Ti;
;;;443    snmp_bps_stat[4]=bps[4]._av;
;;;444    if(!(NUMIST>4))snmp_bps_stat[4]=0xff;
;;;445    
;;;446    snmp_bps_number[5]=6;
;;;447    snmp_bps_voltage[5]=bps[5]._Uii;
;;;448    snmp_bps_current[5]=bps[5]._Ii;
;;;449    snmp_bps_temperature[5]=bps[5]._Ti;
;;;450    snmp_bps_stat[5]=bps[5]._av;
;;;451    if(!(NUMIST>5))snmp_bps_stat[5]=0xff;
;;;452    
;;;453    snmp_bps_number[6]=7;
;;;454    snmp_bps_voltage[6]=bps[6]._Uii;
;;;455    snmp_bps_current[6]=bps[6]._Ii;
;;;456    snmp_bps_temperature[6]=bps[6]._Ti;
;;;457    snmp_bps_stat[6]=bps[6]._av;
;;;458    if(!(NUMIST>6))snmp_bps_stat[6]=0xff;
;;;459    
;;;460    snmp_bps_number[7]=8;
;;;461    snmp_bps_voltage[7]=bps[7]._Uii;
;;;462    snmp_bps_current[7]=bps[7]._Ii;
;;;463    snmp_bps_temperature[7]=bps[7]._Ti;
;;;464    snmp_bps_stat[7]=bps[7]._av;
;;;465    if(!(NUMIST>7))snmp_bps_stat[7]=0xff;
;;;466    
;;;467    
;;;468    
;;;469    snmp_inv_number[0]=1;
;;;470    snmp_inv_voltage[0]=inv[0]._Uio;
;;;471    snmp_inv_current[0]=inv[0]._Ii;
;;;472    snmp_inv_temperature[0]=inv[0]._Ti;
;;;473    snmp_inv_stat[0]=inv[0]._flags_tm;
;;;474    
;;;475    snmp_inv_number[1]=2;
;;;476    snmp_inv_voltage[1]=inv[1]._Uio;
;;;477    snmp_inv_current[1]=inv[1]._Ii;
;;;478    snmp_inv_temperature[1]=inv[1]._Ti;
;;;479    snmp_inv_stat[1]=inv[1]._flags_tm;
;;;480    
;;;481    snmp_inv_number[2]=3;
;;;482    snmp_inv_voltage[2]=inv[2]._Uio;
;;;483    snmp_inv_current[2]=inv[2]._Ii;
;;;484    snmp_inv_temperature[2]=inv[2]._Ti;
;;;485    snmp_inv_stat[2]=inv[2]._flags_tm;
;;;486    
;;;487    
;;;488    
;;;489    
;;;490    					  
;;;491    snmp_sk_number[0]=1;
;;;492    memcpy(&snmp_sk_name[0][0],"Door",10);
;;;493    if(sk_stat[0]==ssON) snmp_sk_aktiv[0]=1;
;;;494    else snmp_sk_aktiv[0]=0;
;;;495    if(!SK_SIGN[0])snmp_sk_alarm_aktiv[0]=1;
;;;496    else snmp_sk_alarm_aktiv[0]=0;
;;;497    if(sk_av_stat[0]==sasON)	snmp_sk_alarm[0]=1;
;;;498    else                     snmp_sk_alarm[0]=0;
;;;499    
;;;500    
;;;501    snmp_sk_number[1]=2;
;;;502    memcpy(&snmp_sk_name[1][0],"Smoke",10);
;;;503    if(sk_stat[1]==ssON) snmp_sk_aktiv[1]=1;
;;;504    else snmp_sk_aktiv[1]=0;
;;;505    if(!SK_SIGN[1])snmp_sk_alarm_aktiv[1]=1;
;;;506    else snmp_sk_alarm_aktiv[1]=0;
;;;507    if(sk_av_stat[1]==sasON)	snmp_sk_alarm[1]=1;
;;;508    else                     snmp_sk_alarm[1]=0;
;;;509    
;;;510    snmp_sk_number[2]=3;
;;;511    memcpy(&snmp_sk_name[2][0],"Shock",10);
;;;512    if(sk_stat[2]==ssON) snmp_sk_aktiv[2]=1;
;;;513    else snmp_sk_aktiv[2]=0;
;;;514    if(!SK_SIGN[2])snmp_sk_alarm_aktiv[2]=1;
;;;515    else snmp_sk_alarm_aktiv[2]=0;
;;;516    if(sk_av_stat[2]==sasON)	snmp_sk_alarm[2]=1;
;;;517    else                     snmp_sk_alarm[2]=0;
;;;518    
;;;519    snmp_sk_number[3]=4;
;;;520    memcpy(&snmp_sk_name[3][0],"     ",10);
;;;521    if(sk_stat[3]==ssON) snmp_sk_aktiv[3]=1;
;;;522    else snmp_sk_aktiv[3]=0;
;;;523    if(!SK_SIGN[3])snmp_sk_alarm_aktiv[3]=1;
;;;524    else snmp_sk_alarm_aktiv[3]=0;
;;;525    if(sk_av_stat[3]==sasON)	snmp_sk_alarm[3]=1;
;;;526    else                     snmp_sk_alarm[3]=0;
;;;527    
;;;528    
;;;529    if(makb[0]._cnt>8) snmp_makb_connect_status[0]=1;
;;;530    else if(makb[0]._cnt<2) snmp_makb_connect_status[0]=0;
;;;531    if(makb[1]._cnt>8) snmp_makb_connect_status[1]=1;
;;;532    else if(makb[1]._cnt<2) snmp_makb_connect_status[1]=0;
;;;533    if(makb[2]._cnt>8) snmp_makb_connect_status[2]=1;
;;;534    else if(makb[2]._cnt<2) snmp_makb_connect_status[2]=0;
;;;535    if(makb[3]._cnt>8) snmp_makb_connect_status[3]=1;
;;;536    else if(makb[3]._cnt<2) snmp_makb_connect_status[3]=0;
;;;537    
;;;538    snmp_makb_voltage0[0]=makb[0]._Ub[0];
;;;539    snmp_makb_voltage1[0]=makb[0]._Ub[1];
;;;540    snmp_makb_voltage2[0]=makb[0]._Ub[2];
;;;541    snmp_makb_voltage3[0]=makb[0]._Ub[3];
;;;542    snmp_makb_voltage4[0]=makb[0]._Ub[4];
;;;543    snmp_makb_voltage0[1]=makb[1]._Ub[0];
;;;544    snmp_makb_voltage1[1]=makb[1]._Ub[1];
;;;545    snmp_makb_voltage2[1]=makb[1]._Ub[2];
;;;546    snmp_makb_voltage3[1]=makb[1]._Ub[3];
;;;547    snmp_makb_voltage4[1]=makb[1]._Ub[4];
;;;548    snmp_makb_voltage0[2]=makb[2]._Ub[0];
;;;549    snmp_makb_voltage1[2]=makb[2]._Ub[1];
;;;550    snmp_makb_voltage2[2]=makb[2]._Ub[2];
;;;551    snmp_makb_voltage3[2]=makb[2]._Ub[3];
;;;552    snmp_makb_voltage4[2]=makb[2]._Ub[4];
;;;553    snmp_makb_voltage0[3]=makb[3]._Ub[0];
;;;554    snmp_makb_voltage1[3]=makb[3]._Ub[1];
;;;555    snmp_makb_voltage2[3]=makb[3]._Ub[2];
;;;556    snmp_makb_voltage3[3]=makb[3]._Ub[3];
;;;557    snmp_makb_voltage4[3]=makb[3]._Ub[4];
;;;558    
;;;559    snmp_makb_temper0[0]=makb[0]._T[0];
;;;560    snmp_makb_temper1[0]=makb[0]._T[1];
;;;561    snmp_makb_temper2[0]=makb[0]._T[2];
;;;562    snmp_makb_temper3[0]=makb[0]._T[3];
;;;563    snmp_makb_temper4[0]=makb[0]._T[4];
;;;564    snmp_makb_temper0[1]=makb[1]._T[0];
;;;565    snmp_makb_temper1[1]=makb[1]._T[1];
;;;566    snmp_makb_temper2[1]=makb[1]._T[2];
;;;567    snmp_makb_temper3[1]=makb[1]._T[3];
;;;568    snmp_makb_temper4[1]=makb[1]._T[4];
;;;569    snmp_makb_temper0[2]=makb[2]._T[0];
;;;570    snmp_makb_temper1[2]=makb[2]._T[1];
;;;571    snmp_makb_temper2[2]=makb[2]._T[2];
;;;572    snmp_makb_temper3[2]=makb[2]._T[3];
;;;573    snmp_makb_temper4[2]=makb[2]._T[4];
;;;574    snmp_makb_temper0[3]=makb[3]._T[0];
;;;575    snmp_makb_temper1[3]=makb[3]._T[1];
;;;576    snmp_makb_temper2[3]=makb[3]._T[2];
;;;577    snmp_makb_temper3[3]=makb[3]._T[3];
;;;578    snmp_makb_temper4[3]=makb[3]._T[4];
;;;579    
;;;580    snmp_makb_temper0_stat[0]=makb[0]._T_nd[0];
;;;581    snmp_makb_temper1_stat[0]=makb[0]._T_nd[1];
;;;582    snmp_makb_temper2_stat[0]=makb[0]._T_nd[2];
;;;583    snmp_makb_temper3_stat[0]=makb[0]._T_nd[3];
;;;584    snmp_makb_temper4_stat[0]=makb[0]._T_nd[4];
;;;585    snmp_makb_temper0_stat[1]=makb[1]._T_nd[0];
;;;586    snmp_makb_temper1_stat[1]=makb[1]._T_nd[1];
;;;587    snmp_makb_temper2_stat[1]=makb[1]._T_nd[2];
;;;588    snmp_makb_temper3_stat[1]=makb[1]._T_nd[3];
;;;589    snmp_makb_temper4_stat[1]=makb[1]._T_nd[4];
;;;590    snmp_makb_temper0_stat[2]=makb[2]._T_nd[0];
;;;591    snmp_makb_temper1_stat[2]=makb[2]._T_nd[1];
;;;592    snmp_makb_temper2_stat[2]=makb[2]._T_nd[2];
;;;593    snmp_makb_temper3_stat[2]=makb[2]._T_nd[3];
;;;594    snmp_makb_temper4_stat[2]=makb[2]._T_nd[4];
;;;595    snmp_makb_temper0_stat[3]=makb[3]._T_nd[0];
;;;596    snmp_makb_temper1_stat[3]=makb[3]._T_nd[1];
;;;597    snmp_makb_temper2_stat[3]=makb[3]._T_nd[2];
;;;598    snmp_makb_temper3_stat[3]=makb[3]._T_nd[3];
;;;599    snmp_makb_temper4_stat[3]=makb[3]._T_nd[4];
;;;600    
;;;601    
;;;602    snmp_klimat_box_temper=t_box;
;;;603    snmp_klimat_settings_box_alarm=TBOXMAX;
;;;604    snmp_klimat_settings_vent_on=TBOXVENTON;
;;;605    snmp_klimat_settings_vent_off=TBOXVENTOFF;
;;;606    snmp_klimat_settings_warm_on=TBOXWARMON;
;;;607    snmp_klimat_settings_warm_off=TBOXWARMOFF;
;;;608    snmp_klimat_settings_load_on=TLOADENABLE;
;;;609    snmp_klimat_settings_load_off=TLOADDISABLE;
;;;610    snmp_klimat_settings_batt_on=TBATENABLE;
;;;611    snmp_klimat_settings_batt_off=TBATDISABLE;
;;;612    
;;;613    snmp_dt_ext=t_ext[0];
;;;614    snmp_dt_msan=t_ext[1];
;;;615    snmp_dt_epu=t_ext[2];
;;;616    
;;;617    /*
;;;618    snmp_bat_voltage=Ubat;
;;;619    snmp_bat_current=Ibat;
;;;620    snmp_bat_temperature=t_b;
;;;621    if(BAT_C_REAL==0x5555)
;;;622    	{
;;;623    	snmp_bat_capacity=BAT_C_NOM*10;												    11
;;;624    	}
;;;625    else
;;;626    	{
;;;627    	snmp_bat_capacity=BAT_C_REAL;
;;;628    	}
;;;629    snmp_bat_charge=zar_percent;
;;;630    snmp_bat_status=0;
;;;631    if(St&0x02)snmp_bat_status|=0x01;
;;;632    if(Ibat>0)snmp_bat_status|=0x02;
;;;633    
;;;634    
;;;635    if(spc_stat==spc_OFF) snmp_spc_stat=0;
;;;636    else if(spc_stat==spc_KE) snmp_spc_stat=1;
;;;637    else if(spc_stat==spc_VZ) snmp_spc_stat=10;
;;;638    
;;;639    
;;;640    snmp_main_bps=MAIN_IST+1;
;;;641    */
;;;642    snmp_zv_en=ZV_ON;
;;;643    snmp_alarm_auto_disable=AV_OFF_AVT;
;;;644    snmp_bat_test_time=TBAT;
;;;645    snmp_u_max=UMAX;
;;;646    snmp_u_min=UB20-DU;
;;;647    snmp_u_0_grad=UB0;
;;;648    snmp_u_20_grad=UB20;
;;;649    snmp_u_sign=USIGN;
;;;650    snmp_u_min_power=UMN;
;;;651    snmp_u_withouth_bat=U0B;
;;;652    snmp_control_current=IKB;
;;;653    snmp_max_charge_current=IZMAX;
;;;654    snmp_max_current=IMAX;
;;;655    snmp_min_current=IMIN;
;;;656    //snmp_max_current_koef=KIMAX;
;;;657    snmp_uvz=UVZ;
;;;658    snmp_powerup_psu_timeout=TZAS;
;;;659    snmp_max_temperature=TMAX;
;;;660    snmp_tsign_bat=TBATSIGN; 
;;;661    snmp_tmax_bat=TBATMAX;
;;;662    snmp_tsign_bps=TSIGN;
;;;663    snmp_tmax_bps=TMAX;
;;;664    snmp_bat_part_alarm=UBM_AV; 
;;;665    snmp_power_cnt_adress=POWER_CNT_ADRESS;
;;;666    
;;;667    for(i=0;i<12;i++)
;;;668    	{
;;;669    	snmp_avt_number[i]=i+1;
;;;670    	if(avt_stat[i]==avtOFF)snmp_avt_stat[i]=0;
;;;671    	else snmp_avt_stat[i]=1;
;;;672    	}
;;;673    
;;;674    snmp_dt_number[0]=1;
;;;675    snmp_dt_number[1]=2;
;;;676    snmp_dt_number[2]=3;
;;;677    //snmp_dt_number[3]=4;
;;;678    snmp_dt_temper[0]=t_ext[0];
;;;679    snmp_dt_temper[1]=t_ext[1];
;;;680    snmp_dt_temper[2]=t_ext[2];
;;;681    //snmp_dt_temper[3]=t_ext[3];
;;;682    snmp_dt_error[0]=ND_EXT[0];
;;;683    if(NUMDT<1)snmp_dt_error[0]=0xff;
;;;684    snmp_dt_error[1]=ND_EXT[1];
;;;685    if(NUMDT<2)snmp_dt_error[0]=0xff;
;;;686    snmp_dt_error[2]=ND_EXT[2];
;;;687    if(NUMDT<3)snmp_dt_error[0]=0xff;
;;;688    //snmp_dt_error[3]=ND_EXT[3];
;;;689    if(NUMDT<4)snmp_dt_error[0]=0xff;
;;;690    
;;;691    /*
;;;692    //Литиевые батареи
;;;693    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;694    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;695    snmp_lakb_voltage[0]=lakb[0]._tot_bat_volt;				//Напряжение ЛАКБ
;;;696    snmp_lakb_voltage[1]=lakb[1]._tot_bat_volt;				//Напряжение ЛАКБ
;;;697    snmp_lakb_max_cell_voltage[0]=lakb[0]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;698    snmp_lakb_max_cell_voltage[1]=lakb[1]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;699    snmp_lakb_min_cell_voltage[0]=lakb[0]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;700    snmp_lakb_min_cell_voltage[1]=lakb[1]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;701    snmp_lakb_max_cell_temperature[0]=lakb[0]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;702    snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;703    snmp_lakb_min_cell_temperature[0]=lakb[0]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;704    snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;705    snmp_lakb_ch_curr[0]=lakb[0]._ch_curr;					//Ток заряда ЛАКБ
;;;706    snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;707    snmp_lakb_dsch_curr[0]=lakb[0]._dsch_curr;				//Ток разряда ЛАКБ
;;;708    snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;709    snmp_lakb_rat_cap[0]=lakb[0]._rat_cap;					//Номинальная емкость ЛАКБ
;;;710    snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;711    snmp_lakb_soh[0]=lakb[0]._s_o_h;						//Остаточная емкость ЛАКБ
;;;712    snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;713    snmp_lakb_soc[0]=lakb[0]._s_o_c;						//Заряд ЛАКБ
;;;714    snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;715    snmp_lakb_cclv[0]=lakb[0]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;716    snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;717    snmp_lakb_rbt[0]=lakb[0]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;718    snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;719    snmp_lakb_flags1[0]=lakb[0]._flags1;					//Первый флаг состояния ЛАКБ
;;;720    snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;721    snmp_lakb_flags2[0]=lakb[0]._flags2;					//Второй флаг состояния ЛАКБ
;;;722    snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ */
;;;723    
;;;724    //Литиевые батареи
;;;725    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;726    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;727    snmp_lakb_number[2]=3;								//Номер ЛАКБ
;;;728    snmp_lakb_number[3]=4;								//Номер ЛАКБ
;;;729    snmp_lakb_number[4]=5;								//Номер ЛАКБ
;;;730    snmp_lakb_number[5]=6;								//Номер ЛАКБ
;;;731    snmp_lakb_number[6]=7;								//Номер ЛАКБ
;;;732    
;;;733    for (i=0;i<3;i++)
;;;734    	{
;;;735    	snmp_lakb_voltage[i]=lakb[i]._tot_bat_volt;				//Напряжение ЛАКБ
;;;736    	snmp_lakb_max_cell_voltage[i]=lakb[i]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;737    	snmp_lakb_min_cell_voltage[i]=lakb[i]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;738    	snmp_lakb_max_cell_temperature[i]=lakb[i]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;739    	//snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;740    	snmp_lakb_min_cell_temperature[i]=lakb[i]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;741    	//snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;742    	snmp_lakb_ch_curr[i]=lakb[i]._ch_curr;					//Ток заряда ЛАКБ
;;;743    	//snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;744    	snmp_lakb_dsch_curr[i]=lakb[i]._dsch_curr;				//Ток разряда ЛАКБ
;;;745    	//snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;746    	snmp_lakb_rat_cap[i]=lakb[i]._rat_cap;					//Номинальная емкость ЛАКБ
;;;747    	//snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;748    	snmp_lakb_soh[i]=lakb[i]._s_o_h;						//Остаточная емкость ЛАКБ
;;;749    	//snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;750    	snmp_lakb_soc[i]=lakb[i]._s_o_c;						//Заряд ЛАКБ
;;;751    	//snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;752    	snmp_lakb_cclv[i]=lakb[i]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;753    	//snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;754    	snmp_lakb_rbt[i]=lakb[i]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;755    	//snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;756    	snmp_lakb_flags1[i]=lakb[i]._flags1;					//Первый флаг состояния ЛАКБ
;;;757    	//snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;758    	snmp_lakb_flags2[i]=lakb[i]._flags2;					//Второй флаг состояния ЛАКБ
;;;759    	//snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ
;;;760    
;;;761    	snmp_lakb_cell_temperature_1[i]= lakb[i]._cell_temp_1;
;;;762    	snmp_lakb_cell_temperature_2[i]= lakb[i]._cell_temp_2;
;;;763    	snmp_lakb_cell_temperature_3[i]= lakb[i]._cell_temp_3;
;;;764    	snmp_lakb_cell_temperature_4[i]= lakb[i]._cell_temp_4;
;;;765    	snmp_lakb_cell_temperature_ambient[i]=lakb[i]._cell_temp_ambient;
;;;766    	snmp_lakb_cell_temperature_power[i]=lakb[i]._cell_temp_power;
;;;767    	}
;;;768    
;;;769    for (i=0;i<7;i++)
;;;770    {
;;;771    /*
;;;772    snmp_lakb_damp1[i][0]=ABCDEF[(lakb_damp[i][0])>>4];			//Дамп
;;;773    snmp_lakb_damp1[i][1]=ABCDEF[(lakb_damp[i][0])&0x0f];			//Дамп
;;;774    snmp_lakb_damp1[i][2]=' ';
;;;775    snmp_lakb_damp1[i][3]=ABCDEF[(lakb_damp[i][1])>>4];			//Дамп
;;;776    snmp_lakb_damp1[i][4]=ABCDEF[(lakb_damp[i][1])&0x0f];			//Дамп
;;;777    snmp_lakb_damp1[i][5]=' ';
;;;778    snmp_lakb_damp1[i][6]=ABCDEF[(lakb_damp[i][2])>>4];			//Дамп
;;;779    snmp_lakb_damp1[i][7]=ABCDEF[(lakb_damp[i][2])&0x0f];			//Дамп
;;;780    snmp_lakb_damp1[i][8]=' ';
;;;781    snmp_lakb_damp1[i][9]=ABCDEF[(lakb_damp[i][3])>>4];			//Дамп
;;;782    snmp_lakb_damp1[i][10]=ABCDEF[(lakb_damp[i][3])&0x0f];			//Дамп
;;;783    snmp_lakb_damp1[i][11]=' ';
;;;784    snmp_lakb_damp1[i][12]=ABCDEF[(lakb_damp[i][4])>>4];			//Дамп
;;;785    snmp_lakb_damp1[i][13]=ABCDEF[(lakb_damp[i][4])&0x0f];			//Дамп
;;;786    snmp_lakb_damp1[i][14]=' '; 
;;;787    snmp_lakb_damp1[i][15]=ABCDEF[(lakb_damp[i][5])>>4];			//Дамп
;;;788    snmp_lakb_damp1[i][16]=ABCDEF[(lakb_damp[i][5])&0x0f];			//Дамп
;;;789    snmp_lakb_damp1[i][17]=' ';
;;;790    snmp_lakb_damp1[i][18]=ABCDEF[(lakb_damp[i][6])>>4];			//Дамп
;;;791    snmp_lakb_damp1[i][19]=ABCDEF[(lakb_damp[i][6])&0x0f];			//Дамп
;;;792    snmp_lakb_damp1[i][20]=' ';
;;;793    snmp_lakb_damp1[i][21]=ABCDEF[(lakb_damp[i][7])>>4];			//Дамп
;;;794    snmp_lakb_damp1[i][22]=ABCDEF[(lakb_damp[i][7])&0x0f];			//Дамп
;;;795    snmp_lakb_damp1[i][23]=' ';
;;;796    snmp_lakb_damp1[i][24]=ABCDEF[(lakb_damp[i][8])>>4];			//Дамп
;;;797    snmp_lakb_damp1[i][25]=ABCDEF[(lakb_damp[i][8])&0x0f];			//Дамп
;;;798    snmp_lakb_damp1[i][26]=' ';
;;;799    snmp_lakb_damp1[i][27]=ABCDEF[(lakb_damp[i][9])>>4];			//Дамп
;;;800    snmp_lakb_damp1[i][28]=ABCDEF[(lakb_damp[i][9])&0x0f];			//Дамп
;;;801    snmp_lakb_damp1[i][29]=0; 
;;;802    
;;;803    snmp_lakb_damp1[i][30]=ABCDEF[(lakb_damp[i][10])>>4];			//Дамп
;;;804    snmp_lakb_damp1[i][31]=ABCDEF[(lakb_damp[i][10])&0x0f];			//Дамп
;;;805    snmp_lakb_damp1[i][32]=' ';
;;;806    snmp_lakb_damp1[i][33]=ABCDEF[(lakb_damp[i][11])>>4];			//Дамп
;;;807    snmp_lakb_damp1[i][34]=ABCDEF[(lakb_damp[i][11])&0x0f];			//Дамп
;;;808    snmp_lakb_damp1[i][35]=' ';
;;;809    snmp_lakb_damp1[i][36]=ABCDEF[(lakb_damp[i][12])>>4];			//Дамп
;;;810    snmp_lakb_damp1[i][37]=ABCDEF[(lakb_damp[i][12])&0x0f];			//Дамп
;;;811    snmp_lakb_damp1[i][38]=' ';
;;;812    snmp_lakb_damp1[i][39]=ABCDEF[(lakb_damp[i][13])>>4];			//Дамп
;;;813    snmp_lakb_damp1[i][40]=ABCDEF[(lakb_damp[i][13])&0x0f];			//Дамп
;;;814    snmp_lakb_damp1[i][41]=' ';
;;;815    snmp_lakb_damp1[i][42]=ABCDEF[(lakb_damp[i][14])>>4];			//Дамп
;;;816    snmp_lakb_damp1[i][43]=ABCDEF[(lakb_damp[i][14])&0x0f];			//Дамп
;;;817    snmp_lakb_damp1[i][44]=' '; 
;;;818    snmp_lakb_damp1[i][45]=ABCDEF[(lakb_damp[i][15])>>4];			//Дамп
;;;819    snmp_lakb_damp1[i][46]=ABCDEF[(lakb_damp[i][15])&0x0f];			//Дамп
;;;820    snmp_lakb_damp1[i][47]=' ';
;;;821    snmp_lakb_damp1[i][48]=ABCDEF[(lakb_damp[i][16])>>4];			//Дамп
;;;822    snmp_lakb_damp1[i][49]=ABCDEF[(lakb_damp[i][16])&0x0f];			//Дамп
;;;823    snmp_lakb_damp1[i][50]=' ';
;;;824    snmp_lakb_damp1[i][51]=ABCDEF[(lakb_damp[i][17])>>4];			//Дамп
;;;825    snmp_lakb_damp1[i][52]=ABCDEF[(lakb_damp[i][17])&0x0f];			//Дамп
;;;826    snmp_lakb_damp1[i][53]=' ';
;;;827    snmp_lakb_damp1[i][54]=ABCDEF[(lakb_damp[i][18])>>4];			//Дамп
;;;828    snmp_lakb_damp1[i][55]=ABCDEF[(lakb_damp[i][18])&0x0f];			//Дамп
;;;829    snmp_lakb_damp1[i][56]=' ';
;;;830    snmp_lakb_damp1[i][57]=ABCDEF[(lakb_damp[i][19])>>4];			//Дамп
;;;831    snmp_lakb_damp1[i][58]=ABCDEF[(lakb_damp[i][19])&0x0f];			//Дамп
;;;832    snmp_lakb_damp1[i][59]=0; 
;;;833    
;;;834    
;;;835    snmp_lakb_damp1[i][60]=ABCDEF[(lakb_damp[i][20])>>4];			//Дамп
;;;836    snmp_lakb_damp1[i][61]=ABCDEF[(lakb_damp[i][20])&0x0f];			//Дамп
;;;837    snmp_lakb_damp1[i][62]=' ';
;;;838    snmp_lakb_damp1[i][63]=ABCDEF[(lakb_damp[i][21])>>4];			//Дамп
;;;839    snmp_lakb_damp1[i][64]=ABCDEF[(lakb_damp[i][21])&0x0f];			//Дамп
;;;840    snmp_lakb_damp1[i][65]=' ';
;;;841    snmp_lakb_damp1[i][66]=ABCDEF[(lakb_damp[i][22])>>4];			//Дамп
;;;842    snmp_lakb_damp1[i][67]=ABCDEF[(lakb_damp[i][22])&0x0f];			//Дамп
;;;843    snmp_lakb_damp1[i][68]=' ';
;;;844    snmp_lakb_damp1[i][69]=ABCDEF[(lakb_damp[i][23])>>4];			//Дамп
;;;845    snmp_lakb_damp1[i][70]=ABCDEF[(lakb_damp[i][23])&0x0f];			//Дамп
;;;846    snmp_lakb_damp1[i][71]=' ';
;;;847    snmp_lakb_damp1[i][72]=ABCDEF[(lakb_damp[i][24])>>4];			//Дамп
;;;848    snmp_lakb_damp1[i][73]=ABCDEF[(lakb_damp[i][24])&0x0f];			//Дамп
;;;849    snmp_lakb_damp1[i][74]=' '; 
;;;850    snmp_lakb_damp1[i][75]=ABCDEF[(lakb_damp[i][25])>>4];			//Дамп
;;;851    snmp_lakb_damp1[i][76]=ABCDEF[(lakb_damp[i][25])&0x0f];			//Дамп
;;;852    snmp_lakb_damp1[i][77]=' ';
;;;853    snmp_lakb_damp1[i][78]=ABCDEF[(lakb_damp[i][26])>>4];			//Дамп
;;;854    snmp_lakb_damp1[i][79]=ABCDEF[(lakb_damp[i][26])&0x0f];			//Дамп
;;;855    snmp_lakb_damp1[i][80]=' ';
;;;856    snmp_lakb_damp1[i][81]=ABCDEF[(lakb_damp[i][27])>>4];			//Дамп
;;;857    snmp_lakb_damp1[i][82]=ABCDEF[(lakb_damp[i][27])&0x0f];			//Дамп
;;;858    snmp_lakb_damp1[i][83]=' ';
;;;859    snmp_lakb_damp1[i][84]=ABCDEF[(lakb_damp[i][28])>>4];			//Дамп
;;;860    snmp_lakb_damp1[i][85]=ABCDEF[(lakb_damp[i][28])&0x0f];			//Дамп
;;;861    snmp_lakb_damp1[i][86]=' ';
;;;862    snmp_lakb_damp1[i][87]=ABCDEF[(lakb_damp[i][29])>>4];			//Дамп
;;;863    snmp_lakb_damp1[i][88]=ABCDEF[(lakb_damp[i][29])&0x0f];			//Дамп
;;;864    snmp_lakb_damp1[i][89]=0;
;;;865    
;;;866    
;;;867    snmp_lakb_damp1[i][90]=ABCDEF[(lakb_damp[i][30])>>4];			//Дамп
;;;868    snmp_lakb_damp1[i][91]=ABCDEF[(lakb_damp[i][30])&0x0f];			//Дамп
;;;869    snmp_lakb_damp1[i][92]=' ';
;;;870    snmp_lakb_damp1[i][93]=ABCDEF[(lakb_damp[i][31])>>4];			//Дамп
;;;871    snmp_lakb_damp1[i][94]=ABCDEF[(lakb_damp[i][31])&0x0f];			//Дамп
;;;872    snmp_lakb_damp1[i][95]=' ';
;;;873    snmp_lakb_damp1[i][96]=ABCDEF[(lakb_damp[i][32])>>4];			//Дамп
;;;874    snmp_lakb_damp1[i][97]=ABCDEF[(lakb_damp[i][32])&0x0f];			//Дамп
;;;875    snmp_lakb_damp1[i][98]=' ';
;;;876    snmp_lakb_damp1[i][99]=ABCDEF[(lakb_damp[i][33])>>4];			//Дамп
;;;877    snmp_lakb_damp1[i][100]=ABCDEF[(lakb_damp[i][33])&0x0f];			//Дамп
;;;878    snmp_lakb_damp1[i][101]=' ';
;;;879    snmp_lakb_damp1[i][102]=ABCDEF[(lakb_damp[i][34])>>4];			//Дамп
;;;880    snmp_lakb_damp1[i][103]=ABCDEF[(lakb_damp[i][34])&0x0f];			//Дамп
;;;881    snmp_lakb_damp1[i][104]=' '; 
;;;882    snmp_lakb_damp1[i][105]=ABCDEF[(lakb_damp[i][35])>>4];			//Дамп
;;;883    snmp_lakb_damp1[i][106]=ABCDEF[(lakb_damp[i][35])&0x0f];			//Дамп
;;;884    snmp_lakb_damp1[i][107]=' ';
;;;885    snmp_lakb_damp1[i][108]=ABCDEF[(lakb_damp[i][36])>>4];			//Дамп
;;;886    snmp_lakb_damp1[i][109]=ABCDEF[(lakb_damp[i][36])&0x0f];			//Дамп
;;;887    snmp_lakb_damp1[i][110]=' ';
;;;888    snmp_lakb_damp1[i][111]=ABCDEF[(lakb_damp[i][37])>>4];			//Дамп
;;;889    snmp_lakb_damp1[i][112]=ABCDEF[(lakb_damp[i][37])&0x0f];			//Дамп
;;;890    snmp_lakb_damp1[i][113]=' ';
;;;891    snmp_lakb_damp1[i][114]=ABCDEF[(lakb_damp[i][38])>>4];			//Дамп
;;;892    snmp_lakb_damp1[i][115]=ABCDEF[(lakb_damp[i][38])&0x0f];			//Дамп
;;;893    snmp_lakb_damp1[i][116]=' ';
;;;894    snmp_lakb_damp1[i][117]=ABCDEF[(lakb_damp[i][39])>>4];			//Дамп
;;;895    snmp_lakb_damp1[i][118]=ABCDEF[(lakb_damp[i][39])&0x0f];			//Дамп
;;;896    snmp_lakb_damp1[i][119]=0; 
;;;897     
;;;898    
;;;899    snmp_lakb_damp1[i][120]=ABCDEF[(lakb_damp[i][40])>>4];			//Дамп
;;;900    snmp_lakb_damp1[i][121]=ABCDEF[(lakb_damp[i][40])&0x0f];			//Дамп
;;;901    snmp_lakb_damp1[i][122]=' ';
;;;902    snmp_lakb_damp1[i][123]=ABCDEF[(lakb_damp[i][41])>>4];			//Дамп
;;;903    snmp_lakb_damp1[i][124]=ABCDEF[(lakb_damp[i][41])&0x0f];			//Дамп
;;;904    snmp_lakb_damp1[i][125]=' ';
;;;905    snmp_lakb_damp1[i][126]=ABCDEF[(lakb_damp[i][42])>>4];			//Дамп
;;;906    snmp_lakb_damp1[i][127]=ABCDEF[(lakb_damp[i][42])&0x0f];			//Дамп
;;;907    snmp_lakb_damp1[i][128]=' ';
;;;908    snmp_lakb_damp1[i][129]=ABCDEF[(lakb_damp[i][43])>>4];			//Дамп
;;;909    snmp_lakb_damp1[i][130]=ABCDEF[(lakb_damp[i][43])&0x0f];			//Дамп
;;;910    snmp_lakb_damp1[i][131]=' ';
;;;911    snmp_lakb_damp1[i][132]=ABCDEF[(lakb_damp[i][44])>>4];			//Дамп
;;;912    snmp_lakb_damp1[i][133]=ABCDEF[(lakb_damp[i][44])&0x0f];			//Дамп
;;;913    snmp_lakb_damp1[i][134]=' '; 
;;;914    snmp_lakb_damp1[i][135]=ABCDEF[(lakb_damp[i][45])>>4];			//Дамп
;;;915    snmp_lakb_damp1[i][136]=ABCDEF[(lakb_damp[i][45])&0x0f];			//Дамп
;;;916    snmp_lakb_damp1[i][137]=' ';
;;;917    snmp_lakb_damp1[i][138]=ABCDEF[(lakb_damp[i][46])>>4];			//Дамп
;;;918    snmp_lakb_damp1[i][139]=ABCDEF[(lakb_damp[i][46])&0x0f];			//Дамп
;;;919    snmp_lakb_damp1[i][140]=' ';
;;;920    snmp_lakb_damp1[i][141]=ABCDEF[(lakb_damp[i][47])>>4];			//Дамп
;;;921    snmp_lakb_damp1[i][142]=ABCDEF[(lakb_damp[i][47])&0x0f];			//Дамп
;;;922    snmp_lakb_damp1[i][143]=' ';
;;;923    snmp_lakb_damp1[i][144]=ABCDEF[(lakb_damp[i][48])>>4];			//Дамп
;;;924    snmp_lakb_damp1[i][145]=ABCDEF[(lakb_damp[i][48])&0x0f];			//Дамп
;;;925    snmp_lakb_damp1[i][146]=' ';
;;;926    snmp_lakb_damp1[i][147]=ABCDEF[(lakb_damp[i][49])>>4];			//Дамп
;;;927    snmp_lakb_damp1[i][148]=ABCDEF[(lakb_damp[i][49])&0x0f];			//Дамп
;;;928    snmp_lakb_damp1[i][149]=0;  */
;;;929    }
;;;930    
;;;931    #ifdef UKU_TELECORE2017
;;;932    snmp_warm_sign=0;
;;;933    if(TELECORE2017_KLIMAT_WARM_SIGNAL==0) snmp_warm_sign=2;
;;;934    else if(TELECORE2017_KLIMAT_WARM_SIGNAL==1) snmp_warm_sign=1;
;;;935    snmp_cool_sign=0;
;;;936    if(TELECORE2017_KLIMAT_VENT_SIGNAL==0) snmp_cool_sign=2;
;;;937    else if(TELECORE2017_KLIMAT_VENT_SIGNAL==1) snmp_cool_sign=1;
;;;938    snmp_warm_on_temper=(signed char)TELECORE2017_KLIMAT_WARM_ON; 
;;;939    snmp_warm_off_temper=(signed char)TELECORE2017_KLIMAT_WARM_OFF;
;;;940    snmp_warm_q=(signed char)TELECORE2017_KLIMAT_CAP;	
;;;941    snmp_cool_20_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON20;
;;;942    snmp_cool_40_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON40;
;;;943    snmp_cool_60_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON60;
;;;944    snmp_cool_80_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON80;
;;;945    snmp_cool_100_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON100;
;;;946    snmp_cool_20_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON20;
;;;947    snmp_cool_40_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON40;
;;;948    snmp_cool_60_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON60;
;;;949    snmp_cool_80_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON80;
;;;950    snmp_cool_100_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON100;
;;;951    snmp_warm_stat=0;
;;;952    if(warm_stat_k==wsON) snmp_warm_stat=1;
;;;953    #endif
;;;954    }
;;;955    //-----------------------------------------------
                          ENDP

000012  0000              DCW      0x0000
                  |L13.20|
                          DCD      ||.data||+0x80

                          AREA ||area_number.14||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.14||, ||.text||
                  snmp_klimat_settings_warm_on_write PROC
;;;261    //-----------------------------------------------
;;;262    void snmp_data (void) 
000000  2801              CMP      r0,#1
;;;263    {
000002  d105              BNE      |L14.16|
;;;264    char i;
;;;265    
;;;266    snmp_mains_power_voltage=net_U;
000004  4803              LDR      r0,|L14.20|
000006  f9b01002          LDRSH    r1,[r0,#2]  ; snmp_klimat_settings_warm_on
00000a  20f8              MOVS     r0,#0xf8
00000c  f7ffbffe          B.W      lc640_write_int
                  |L14.16|
;;;267    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;268    snmp_mains_power_frequency=net_F3;
000010  4770              BX       lr
;;;269    #else
;;;270    snmp_mains_power_frequency=net_F;
;;;271    #endif
;;;272    snmp_mains_power_voltage_phaseA=net_Ua;
;;;273    snmp_mains_power_voltage_phaseB=net_Ub;
;;;274    snmp_mains_power_voltage_phaseC=net_Uc;
;;;275    
;;;276    
;;;277    if(avar_stat&0x0001)snmp_mains_power_alarm=1;
;;;278    else snmp_mains_power_alarm=0;
;;;279    if(avar_stat&0x0001)snmp_mains_power_status=1;
;;;280    else snmp_mains_power_status=0;
;;;281    
;;;282    /*
;;;283    snmp_mains_power_status=0; 
;;;284    #if(UKU_VERSION==900)
;;;285    snmp_mains_power_status=2;
;;;286    #endif
;;;287    if(St&0x01)snmp_mains_power_status|=0x01;
;;;288    if(St&0x01)snmp_mains_power_alarm=1;
;;;289    
;;;290    
;;;291    
;;;292    
;;;293    
;;;294    
;;;295    for(i=0;i<snmp_numofevents;i++)event2snmp(i);
;;;296    //snmp_bpsnumber[0]=1;
;;;297    //snmp_bpsnumber[1]=2;
;;;298    
;;;299    
;;;300    snmp_sernum_lsb=0x1122;
;;;301    snmp_sernum_msb=0x3344;
;;;302    snmp_device_code=AUSW_MAIN;
;;;303    
;;;304    //memcpy(snmp_location,"lkhg;la",);
;;;305    
;;;306    
;;;307    snmp_numofbat=1;
;;;308    
;;;309    */
;;;310    snmp_sernum=AUSW_MAIN_NUMBER;
;;;311    
;;;312    snmp_load_voltage=load_U;
;;;313    snmp_load_current=load_I;
;;;314    snmp_numofbat=NUMBAT;
;;;315    snmp_numofbps=NUMIST;
;;;316    snmp_numofinv=NUMINV;
;;;317    snmp_numofavt=NUMAVT;
;;;318    snmp_numofdt=NUMDT;
;;;319    snmp_numofsk=NUMSK;
;;;320    snmp_numofevents=lc640_read_int(CNT_EVENT_LOG);
;;;321    
;;;322    snmp_energy_vvod_phase_a=Uvv_eb2[0];
;;;323    snmp_energy_vvod_phase_b=Uvv_eb2[1];
;;;324    snmp_energy_vvod_phase_c=Uvv_eb2[2];
;;;325    snmp_energy_pes_phase_a=Upes_eb2[0];
;;;326    snmp_energy_pes_phase_b=Upes_eb2[1];
;;;327    snmp_energy_pes_phase_c=Upes_eb2[2];
;;;328    
;;;329    #ifdef UKU_KONTUR
;;;330    snmp_energy_vvod_phase_a=Uvv0;
;;;331    snmp_energy_pes_phase_a=Uvv[1];
;;;332    #endif
;;;333    
;;;334    snmp_energy_total_energy=power_summary;
;;;335    snmp_energy_current_energy=power_current;
;;;336    snmp_energy_input_voltage=net_U;
;;;337    
;;;338    
;;;339    #ifdef UKU_ZVU
;;;340    snmp_bat_number[0]=1;
;;;341    snmp_bat_voltage[0]=out_U;
;;;342    snmp_bat_current[0]=Ib_ips_termokompensat;
;;;343    snmp_bat_rem_time[0]=bat_hndl_t_razr_min;
;;;344    if(Ib_ips_termokompensat>0)snmp_bat_rem_time[0]=-1;
;;;345    snmp_bat_temperature[0]=t_ext[0];
;;;346    if(ND_EXT[0])snmp_bat_temperature[0]=-1000;
;;;347    snmp_bat_capacity[0]=BAT_C_POINT_20;
;;;348    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;349    snmp_bat_status[0]=bat_ips._av&1;
;;;350    if(NUMBAT==0)snmp_bat_status[0]=0xff;
;;;351    #endif
;;;352    
;;;353    #ifndef UKU_ZVU
;;;354    snmp_bat_number[0]=1;
;;;355    snmp_bat_voltage[0]=bat[0]._Ub;
;;;356    snmp_bat_part_voltage[0]=bat[0]._Ubm;
;;;357    snmp_bat_current[0]=bat[0]._Ib;
;;;358    
;;;359    /*
;;;360    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;361    if(((AUSW_MAIN==22063)||(AUSW_MAIN==22023))&&(bps[8]._device==dIBAT_METR))
;;;362    	{
;;;363    	snmp_bat_current[0]=Ib_ips_termokompensat;
;;;364    	}
;;;365    #endif*/
;;;366    
;;;367    snmp_bat_temperature[0]=bat[0]._Tb;
;;;368    if(bat[0]._nd) snmp_bat_temperature[0]=-1000;
;;;369    
;;;370    if(BAT_C_REAL[0]==0x5555)snmp_bat_capacity[0]=BAT_C_NOM[0];
;;;371    else snmp_bat_capacity[0]=BAT_C_REAL[0];
;;;372    /*
;;;373    #ifdef UKU_ZVU
;;;374    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;375    
;;;376    #else
;;;377    snmp_bat_charge[0]=bat[0]._zar;
;;;378    #endif */
;;;379    snmp_bat_charge[0]=bat[0]._zar;
;;;380    snmp_bat_status[0]=bat[0]._av;
;;;381    if(BAT_IS_ON[0]!=bisON)snmp_bat_status[0]=0xff;
;;;382    
;;;383    
;;;384    snmp_bat_number[1]=2;
;;;385    snmp_bat_voltage[1]=bat[1]._Ub;
;;;386    snmp_bat_part_voltage[1]=bat[1]._Ubm;
;;;387    snmp_bat_current[1]=bat[1]._Ib;
;;;388    snmp_bat_temperature[1]=bat[1]._Tb;
;;;389    if(bat[1]._nd) snmp_bat_temperature[1]=-1000;
;;;390    if(BAT_C_REAL[1]==0x5555)snmp_bat_capacity[1]=BAT_C_NOM[1];
;;;391    else snmp_bat_capacity[1]=BAT_C_REAL[1];
;;;392    snmp_bat_charge[1]=bat[1]._zar;
;;;393    snmp_bat_status[1]=bat[1]._av;
;;;394    if(BAT_IS_ON[1]!=bisON)snmp_bat_status[1]=0xff;
;;;395    #endif
;;;396    
;;;397    
;;;398    snmp_bps_number[0]=1;
;;;399    snmp_bps_voltage[0]=bps[0]._Uii;
;;;400    snmp_bps_current[0]=bps[0]._Ii;
;;;401    snmp_bps_temperature[0]=bps[0]._Ti;
;;;402    snmp_bps_stat[0]=bps[0]._av;
;;;403    if(!(NUMIST>0))snmp_bps_stat[0]=0xff;												//Байт состояния БПСа.
;;;404    
;;;405    /*if(St_[0]&(1<<2))snmp_bps_stat[0]=(1<<3); 							//авария по Umin
;;;406    else if(St_[0]&(1<<3))snmp_bps_stat[0]=(1<<2); 						//авария по Umax
;;;407    else if(bps[0]._av&(1<<0))snmp_bps_stat[0]=(1<<1); 						//авария по Tmax
;;;408    else if(St_[0]&(1<<5))snmp_bps_stat[0]=(1<<5); 						//заблокирован
;;;409    else if((!(St_[0]&0x3c))&&(!St&0x01)&&(!OFFBP1))snmp_bps_stat[0]=1; 		//Работает
;;;410    */
;;;411    
;;;412    snmp_bps_number[1]=2;
;;;413    snmp_bps_voltage[1]=bps[1]._Uii;
;;;414    snmp_bps_current[1]=bps[1]._Ii;
;;;415    snmp_bps_temperature[1]=bps[1]._Ti;
;;;416    snmp_bps_stat[1]=bps[1]._av;
;;;417    if(!(NUMIST>1))snmp_bps_stat[1]=0xff;												//Байт состояния БПСа.
;;;418    /*if(St_[1]&(1<<2))snmp_bps_stat[1]=(1<<3); 							//авария по Umin
;;;419    else if(St_[1]&(1<<3))snmp_bps_stat[1]=(1<<2); 						//авария по Umax
;;;420    else if(St_[1]&(1<<4))snmp_bps_stat[1]=(1<<1); 						//авария по Tmax
;;;421    else if(St_[1]&(1<<5))snmp_bps_stat[1]=(1<<5); 						//заблокирован
;;;422    else if((!(St_[1]&0x3c))&&(!St&0x01)&&(!OFFBP2))snmp_bps_stat[1]=1; 		//Работает
;;;423    */
;;;424    
;;;425    snmp_bps_number[2]=3;
;;;426    snmp_bps_voltage[2]=bps[2]._Uii;
;;;427    snmp_bps_current[2]=bps[2]._Ii;
;;;428    snmp_bps_temperature[2]=bps[2]._Ti;
;;;429    snmp_bps_stat[2]=bps[2]._av;
;;;430    if(!(NUMIST>2))snmp_bps_stat[2]=0xff;
;;;431    
;;;432    snmp_bps_number[3]=4;
;;;433    snmp_bps_voltage[3]=bps[3]._Uii;
;;;434    snmp_bps_current[3]=bps[3]._Ii;
;;;435    snmp_bps_temperature[3]=bps[3]._Ti;
;;;436    snmp_bps_stat[3]=bps[3]._av;
;;;437    if(!(NUMIST>3))snmp_bps_stat[3]=0xff;
;;;438    
;;;439    snmp_bps_number[4]=5;
;;;440    snmp_bps_voltage[4]=bps[4]._Uii;
;;;441    snmp_bps_current[4]=bps[4]._Ii;
;;;442    snmp_bps_temperature[4]=bps[4]._Ti;
;;;443    snmp_bps_stat[4]=bps[4]._av;
;;;444    if(!(NUMIST>4))snmp_bps_stat[4]=0xff;
;;;445    
;;;446    snmp_bps_number[5]=6;
;;;447    snmp_bps_voltage[5]=bps[5]._Uii;
;;;448    snmp_bps_current[5]=bps[5]._Ii;
;;;449    snmp_bps_temperature[5]=bps[5]._Ti;
;;;450    snmp_bps_stat[5]=bps[5]._av;
;;;451    if(!(NUMIST>5))snmp_bps_stat[5]=0xff;
;;;452    
;;;453    snmp_bps_number[6]=7;
;;;454    snmp_bps_voltage[6]=bps[6]._Uii;
;;;455    snmp_bps_current[6]=bps[6]._Ii;
;;;456    snmp_bps_temperature[6]=bps[6]._Ti;
;;;457    snmp_bps_stat[6]=bps[6]._av;
;;;458    if(!(NUMIST>6))snmp_bps_stat[6]=0xff;
;;;459    
;;;460    snmp_bps_number[7]=8;
;;;461    snmp_bps_voltage[7]=bps[7]._Uii;
;;;462    snmp_bps_current[7]=bps[7]._Ii;
;;;463    snmp_bps_temperature[7]=bps[7]._Ti;
;;;464    snmp_bps_stat[7]=bps[7]._av;
;;;465    if(!(NUMIST>7))snmp_bps_stat[7]=0xff;
;;;466    
;;;467    
;;;468    
;;;469    snmp_inv_number[0]=1;
;;;470    snmp_inv_voltage[0]=inv[0]._Uio;
;;;471    snmp_inv_current[0]=inv[0]._Ii;
;;;472    snmp_inv_temperature[0]=inv[0]._Ti;
;;;473    snmp_inv_stat[0]=inv[0]._flags_tm;
;;;474    
;;;475    snmp_inv_number[1]=2;
;;;476    snmp_inv_voltage[1]=inv[1]._Uio;
;;;477    snmp_inv_current[1]=inv[1]._Ii;
;;;478    snmp_inv_temperature[1]=inv[1]._Ti;
;;;479    snmp_inv_stat[1]=inv[1]._flags_tm;
;;;480    
;;;481    snmp_inv_number[2]=3;
;;;482    snmp_inv_voltage[2]=inv[2]._Uio;
;;;483    snmp_inv_current[2]=inv[2]._Ii;
;;;484    snmp_inv_temperature[2]=inv[2]._Ti;
;;;485    snmp_inv_stat[2]=inv[2]._flags_tm;
;;;486    
;;;487    
;;;488    
;;;489    
;;;490    					  
;;;491    snmp_sk_number[0]=1;
;;;492    memcpy(&snmp_sk_name[0][0],"Door",10);
;;;493    if(sk_stat[0]==ssON) snmp_sk_aktiv[0]=1;
;;;494    else snmp_sk_aktiv[0]=0;
;;;495    if(!SK_SIGN[0])snmp_sk_alarm_aktiv[0]=1;
;;;496    else snmp_sk_alarm_aktiv[0]=0;
;;;497    if(sk_av_stat[0]==sasON)	snmp_sk_alarm[0]=1;
;;;498    else                     snmp_sk_alarm[0]=0;
;;;499    
;;;500    
;;;501    snmp_sk_number[1]=2;
;;;502    memcpy(&snmp_sk_name[1][0],"Smoke",10);
;;;503    if(sk_stat[1]==ssON) snmp_sk_aktiv[1]=1;
;;;504    else snmp_sk_aktiv[1]=0;
;;;505    if(!SK_SIGN[1])snmp_sk_alarm_aktiv[1]=1;
;;;506    else snmp_sk_alarm_aktiv[1]=0;
;;;507    if(sk_av_stat[1]==sasON)	snmp_sk_alarm[1]=1;
;;;508    else                     snmp_sk_alarm[1]=0;
;;;509    
;;;510    snmp_sk_number[2]=3;
;;;511    memcpy(&snmp_sk_name[2][0],"Shock",10);
;;;512    if(sk_stat[2]==ssON) snmp_sk_aktiv[2]=1;
;;;513    else snmp_sk_aktiv[2]=0;
;;;514    if(!SK_SIGN[2])snmp_sk_alarm_aktiv[2]=1;
;;;515    else snmp_sk_alarm_aktiv[2]=0;
;;;516    if(sk_av_stat[2]==sasON)	snmp_sk_alarm[2]=1;
;;;517    else                     snmp_sk_alarm[2]=0;
;;;518    
;;;519    snmp_sk_number[3]=4;
;;;520    memcpy(&snmp_sk_name[3][0],"     ",10);
;;;521    if(sk_stat[3]==ssON) snmp_sk_aktiv[3]=1;
;;;522    else snmp_sk_aktiv[3]=0;
;;;523    if(!SK_SIGN[3])snmp_sk_alarm_aktiv[3]=1;
;;;524    else snmp_sk_alarm_aktiv[3]=0;
;;;525    if(sk_av_stat[3]==sasON)	snmp_sk_alarm[3]=1;
;;;526    else                     snmp_sk_alarm[3]=0;
;;;527    
;;;528    
;;;529    if(makb[0]._cnt>8) snmp_makb_connect_status[0]=1;
;;;530    else if(makb[0]._cnt<2) snmp_makb_connect_status[0]=0;
;;;531    if(makb[1]._cnt>8) snmp_makb_connect_status[1]=1;
;;;532    else if(makb[1]._cnt<2) snmp_makb_connect_status[1]=0;
;;;533    if(makb[2]._cnt>8) snmp_makb_connect_status[2]=1;
;;;534    else if(makb[2]._cnt<2) snmp_makb_connect_status[2]=0;
;;;535    if(makb[3]._cnt>8) snmp_makb_connect_status[3]=1;
;;;536    else if(makb[3]._cnt<2) snmp_makb_connect_status[3]=0;
;;;537    
;;;538    snmp_makb_voltage0[0]=makb[0]._Ub[0];
;;;539    snmp_makb_voltage1[0]=makb[0]._Ub[1];
;;;540    snmp_makb_voltage2[0]=makb[0]._Ub[2];
;;;541    snmp_makb_voltage3[0]=makb[0]._Ub[3];
;;;542    snmp_makb_voltage4[0]=makb[0]._Ub[4];
;;;543    snmp_makb_voltage0[1]=makb[1]._Ub[0];
;;;544    snmp_makb_voltage1[1]=makb[1]._Ub[1];
;;;545    snmp_makb_voltage2[1]=makb[1]._Ub[2];
;;;546    snmp_makb_voltage3[1]=makb[1]._Ub[3];
;;;547    snmp_makb_voltage4[1]=makb[1]._Ub[4];
;;;548    snmp_makb_voltage0[2]=makb[2]._Ub[0];
;;;549    snmp_makb_voltage1[2]=makb[2]._Ub[1];
;;;550    snmp_makb_voltage2[2]=makb[2]._Ub[2];
;;;551    snmp_makb_voltage3[2]=makb[2]._Ub[3];
;;;552    snmp_makb_voltage4[2]=makb[2]._Ub[4];
;;;553    snmp_makb_voltage0[3]=makb[3]._Ub[0];
;;;554    snmp_makb_voltage1[3]=makb[3]._Ub[1];
;;;555    snmp_makb_voltage2[3]=makb[3]._Ub[2];
;;;556    snmp_makb_voltage3[3]=makb[3]._Ub[3];
;;;557    snmp_makb_voltage4[3]=makb[3]._Ub[4];
;;;558    
;;;559    snmp_makb_temper0[0]=makb[0]._T[0];
;;;560    snmp_makb_temper1[0]=makb[0]._T[1];
;;;561    snmp_makb_temper2[0]=makb[0]._T[2];
;;;562    snmp_makb_temper3[0]=makb[0]._T[3];
;;;563    snmp_makb_temper4[0]=makb[0]._T[4];
;;;564    snmp_makb_temper0[1]=makb[1]._T[0];
;;;565    snmp_makb_temper1[1]=makb[1]._T[1];
;;;566    snmp_makb_temper2[1]=makb[1]._T[2];
;;;567    snmp_makb_temper3[1]=makb[1]._T[3];
;;;568    snmp_makb_temper4[1]=makb[1]._T[4];
;;;569    snmp_makb_temper0[2]=makb[2]._T[0];
;;;570    snmp_makb_temper1[2]=makb[2]._T[1];
;;;571    snmp_makb_temper2[2]=makb[2]._T[2];
;;;572    snmp_makb_temper3[2]=makb[2]._T[3];
;;;573    snmp_makb_temper4[2]=makb[2]._T[4];
;;;574    snmp_makb_temper0[3]=makb[3]._T[0];
;;;575    snmp_makb_temper1[3]=makb[3]._T[1];
;;;576    snmp_makb_temper2[3]=makb[3]._T[2];
;;;577    snmp_makb_temper3[3]=makb[3]._T[3];
;;;578    snmp_makb_temper4[3]=makb[3]._T[4];
;;;579    
;;;580    snmp_makb_temper0_stat[0]=makb[0]._T_nd[0];
;;;581    snmp_makb_temper1_stat[0]=makb[0]._T_nd[1];
;;;582    snmp_makb_temper2_stat[0]=makb[0]._T_nd[2];
;;;583    snmp_makb_temper3_stat[0]=makb[0]._T_nd[3];
;;;584    snmp_makb_temper4_stat[0]=makb[0]._T_nd[4];
;;;585    snmp_makb_temper0_stat[1]=makb[1]._T_nd[0];
;;;586    snmp_makb_temper1_stat[1]=makb[1]._T_nd[1];
;;;587    snmp_makb_temper2_stat[1]=makb[1]._T_nd[2];
;;;588    snmp_makb_temper3_stat[1]=makb[1]._T_nd[3];
;;;589    snmp_makb_temper4_stat[1]=makb[1]._T_nd[4];
;;;590    snmp_makb_temper0_stat[2]=makb[2]._T_nd[0];
;;;591    snmp_makb_temper1_stat[2]=makb[2]._T_nd[1];
;;;592    snmp_makb_temper2_stat[2]=makb[2]._T_nd[2];
;;;593    snmp_makb_temper3_stat[2]=makb[2]._T_nd[3];
;;;594    snmp_makb_temper4_stat[2]=makb[2]._T_nd[4];
;;;595    snmp_makb_temper0_stat[3]=makb[3]._T_nd[0];
;;;596    snmp_makb_temper1_stat[3]=makb[3]._T_nd[1];
;;;597    snmp_makb_temper2_stat[3]=makb[3]._T_nd[2];
;;;598    snmp_makb_temper3_stat[3]=makb[3]._T_nd[3];
;;;599    snmp_makb_temper4_stat[3]=makb[3]._T_nd[4];
;;;600    
;;;601    
;;;602    snmp_klimat_box_temper=t_box;
;;;603    snmp_klimat_settings_box_alarm=TBOXMAX;
;;;604    snmp_klimat_settings_vent_on=TBOXVENTON;
;;;605    snmp_klimat_settings_vent_off=TBOXVENTOFF;
;;;606    snmp_klimat_settings_warm_on=TBOXWARMON;
;;;607    snmp_klimat_settings_warm_off=TBOXWARMOFF;
;;;608    snmp_klimat_settings_load_on=TLOADENABLE;
;;;609    snmp_klimat_settings_load_off=TLOADDISABLE;
;;;610    snmp_klimat_settings_batt_on=TBATENABLE;
;;;611    snmp_klimat_settings_batt_off=TBATDISABLE;
;;;612    
;;;613    snmp_dt_ext=t_ext[0];
;;;614    snmp_dt_msan=t_ext[1];
;;;615    snmp_dt_epu=t_ext[2];
;;;616    
;;;617    /*
;;;618    snmp_bat_voltage=Ubat;
;;;619    snmp_bat_current=Ibat;
;;;620    snmp_bat_temperature=t_b;
;;;621    if(BAT_C_REAL==0x5555)
;;;622    	{
;;;623    	snmp_bat_capacity=BAT_C_NOM*10;												    11
;;;624    	}
;;;625    else
;;;626    	{
;;;627    	snmp_bat_capacity=BAT_C_REAL;
;;;628    	}
;;;629    snmp_bat_charge=zar_percent;
;;;630    snmp_bat_status=0;
;;;631    if(St&0x02)snmp_bat_status|=0x01;
;;;632    if(Ibat>0)snmp_bat_status|=0x02;
;;;633    
;;;634    
;;;635    if(spc_stat==spc_OFF) snmp_spc_stat=0;
;;;636    else if(spc_stat==spc_KE) snmp_spc_stat=1;
;;;637    else if(spc_stat==spc_VZ) snmp_spc_stat=10;
;;;638    
;;;639    
;;;640    snmp_main_bps=MAIN_IST+1;
;;;641    */
;;;642    snmp_zv_en=ZV_ON;
;;;643    snmp_alarm_auto_disable=AV_OFF_AVT;
;;;644    snmp_bat_test_time=TBAT;
;;;645    snmp_u_max=UMAX;
;;;646    snmp_u_min=UB20-DU;
;;;647    snmp_u_0_grad=UB0;
;;;648    snmp_u_20_grad=UB20;
;;;649    snmp_u_sign=USIGN;
;;;650    snmp_u_min_power=UMN;
;;;651    snmp_u_withouth_bat=U0B;
;;;652    snmp_control_current=IKB;
;;;653    snmp_max_charge_current=IZMAX;
;;;654    snmp_max_current=IMAX;
;;;655    snmp_min_current=IMIN;
;;;656    //snmp_max_current_koef=KIMAX;
;;;657    snmp_uvz=UVZ;
;;;658    snmp_powerup_psu_timeout=TZAS;
;;;659    snmp_max_temperature=TMAX;
;;;660    snmp_tsign_bat=TBATSIGN; 
;;;661    snmp_tmax_bat=TBATMAX;
;;;662    snmp_tsign_bps=TSIGN;
;;;663    snmp_tmax_bps=TMAX;
;;;664    snmp_bat_part_alarm=UBM_AV; 
;;;665    snmp_power_cnt_adress=POWER_CNT_ADRESS;
;;;666    
;;;667    for(i=0;i<12;i++)
;;;668    	{
;;;669    	snmp_avt_number[i]=i+1;
;;;670    	if(avt_stat[i]==avtOFF)snmp_avt_stat[i]=0;
;;;671    	else snmp_avt_stat[i]=1;
;;;672    	}
;;;673    
;;;674    snmp_dt_number[0]=1;
;;;675    snmp_dt_number[1]=2;
;;;676    snmp_dt_number[2]=3;
;;;677    //snmp_dt_number[3]=4;
;;;678    snmp_dt_temper[0]=t_ext[0];
;;;679    snmp_dt_temper[1]=t_ext[1];
;;;680    snmp_dt_temper[2]=t_ext[2];
;;;681    //snmp_dt_temper[3]=t_ext[3];
;;;682    snmp_dt_error[0]=ND_EXT[0];
;;;683    if(NUMDT<1)snmp_dt_error[0]=0xff;
;;;684    snmp_dt_error[1]=ND_EXT[1];
;;;685    if(NUMDT<2)snmp_dt_error[0]=0xff;
;;;686    snmp_dt_error[2]=ND_EXT[2];
;;;687    if(NUMDT<3)snmp_dt_error[0]=0xff;
;;;688    //snmp_dt_error[3]=ND_EXT[3];
;;;689    if(NUMDT<4)snmp_dt_error[0]=0xff;
;;;690    
;;;691    /*
;;;692    //Литиевые батареи
;;;693    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;694    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;695    snmp_lakb_voltage[0]=lakb[0]._tot_bat_volt;				//Напряжение ЛАКБ
;;;696    snmp_lakb_voltage[1]=lakb[1]._tot_bat_volt;				//Напряжение ЛАКБ
;;;697    snmp_lakb_max_cell_voltage[0]=lakb[0]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;698    snmp_lakb_max_cell_voltage[1]=lakb[1]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;699    snmp_lakb_min_cell_voltage[0]=lakb[0]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;700    snmp_lakb_min_cell_voltage[1]=lakb[1]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;701    snmp_lakb_max_cell_temperature[0]=lakb[0]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;702    snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;703    snmp_lakb_min_cell_temperature[0]=lakb[0]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;704    snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;705    snmp_lakb_ch_curr[0]=lakb[0]._ch_curr;					//Ток заряда ЛАКБ
;;;706    snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;707    snmp_lakb_dsch_curr[0]=lakb[0]._dsch_curr;				//Ток разряда ЛАКБ
;;;708    snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;709    snmp_lakb_rat_cap[0]=lakb[0]._rat_cap;					//Номинальная емкость ЛАКБ
;;;710    snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;711    snmp_lakb_soh[0]=lakb[0]._s_o_h;						//Остаточная емкость ЛАКБ
;;;712    snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;713    snmp_lakb_soc[0]=lakb[0]._s_o_c;						//Заряд ЛАКБ
;;;714    snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;715    snmp_lakb_cclv[0]=lakb[0]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;716    snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;717    snmp_lakb_rbt[0]=lakb[0]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;718    snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;719    snmp_lakb_flags1[0]=lakb[0]._flags1;					//Первый флаг состояния ЛАКБ
;;;720    snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;721    snmp_lakb_flags2[0]=lakb[0]._flags2;					//Второй флаг состояния ЛАКБ
;;;722    snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ */
;;;723    
;;;724    //Литиевые батареи
;;;725    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;726    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;727    snmp_lakb_number[2]=3;								//Номер ЛАКБ
;;;728    snmp_lakb_number[3]=4;								//Номер ЛАКБ
;;;729    snmp_lakb_number[4]=5;								//Номер ЛАКБ
;;;730    snmp_lakb_number[5]=6;								//Номер ЛАКБ
;;;731    snmp_lakb_number[6]=7;								//Номер ЛАКБ
;;;732    
;;;733    for (i=0;i<3;i++)
;;;734    	{
;;;735    	snmp_lakb_voltage[i]=lakb[i]._tot_bat_volt;				//Напряжение ЛАКБ
;;;736    	snmp_lakb_max_cell_voltage[i]=lakb[i]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;737    	snmp_lakb_min_cell_voltage[i]=lakb[i]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;738    	snmp_lakb_max_cell_temperature[i]=lakb[i]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;739    	//snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;740    	snmp_lakb_min_cell_temperature[i]=lakb[i]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;741    	//snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;742    	snmp_lakb_ch_curr[i]=lakb[i]._ch_curr;					//Ток заряда ЛАКБ
;;;743    	//snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;744    	snmp_lakb_dsch_curr[i]=lakb[i]._dsch_curr;				//Ток разряда ЛАКБ
;;;745    	//snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;746    	snmp_lakb_rat_cap[i]=lakb[i]._rat_cap;					//Номинальная емкость ЛАКБ
;;;747    	//snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;748    	snmp_lakb_soh[i]=lakb[i]._s_o_h;						//Остаточная емкость ЛАКБ
;;;749    	//snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;750    	snmp_lakb_soc[i]=lakb[i]._s_o_c;						//Заряд ЛАКБ
;;;751    	//snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;752    	snmp_lakb_cclv[i]=lakb[i]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;753    	//snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;754    	snmp_lakb_rbt[i]=lakb[i]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;755    	//snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;756    	snmp_lakb_flags1[i]=lakb[i]._flags1;					//Первый флаг состояния ЛАКБ
;;;757    	//snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;758    	snmp_lakb_flags2[i]=lakb[i]._flags2;					//Второй флаг состояния ЛАКБ
;;;759    	//snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ
;;;760    
;;;761    	snmp_lakb_cell_temperature_1[i]= lakb[i]._cell_temp_1;
;;;762    	snmp_lakb_cell_temperature_2[i]= lakb[i]._cell_temp_2;
;;;763    	snmp_lakb_cell_temperature_3[i]= lakb[i]._cell_temp_3;
;;;764    	snmp_lakb_cell_temperature_4[i]= lakb[i]._cell_temp_4;
;;;765    	snmp_lakb_cell_temperature_ambient[i]=lakb[i]._cell_temp_ambient;
;;;766    	snmp_lakb_cell_temperature_power[i]=lakb[i]._cell_temp_power;
;;;767    	}
;;;768    
;;;769    for (i=0;i<7;i++)
;;;770    {
;;;771    /*
;;;772    snmp_lakb_damp1[i][0]=ABCDEF[(lakb_damp[i][0])>>4];			//Дамп
;;;773    snmp_lakb_damp1[i][1]=ABCDEF[(lakb_damp[i][0])&0x0f];			//Дамп
;;;774    snmp_lakb_damp1[i][2]=' ';
;;;775    snmp_lakb_damp1[i][3]=ABCDEF[(lakb_damp[i][1])>>4];			//Дамп
;;;776    snmp_lakb_damp1[i][4]=ABCDEF[(lakb_damp[i][1])&0x0f];			//Дамп
;;;777    snmp_lakb_damp1[i][5]=' ';
;;;778    snmp_lakb_damp1[i][6]=ABCDEF[(lakb_damp[i][2])>>4];			//Дамп
;;;779    snmp_lakb_damp1[i][7]=ABCDEF[(lakb_damp[i][2])&0x0f];			//Дамп
;;;780    snmp_lakb_damp1[i][8]=' ';
;;;781    snmp_lakb_damp1[i][9]=ABCDEF[(lakb_damp[i][3])>>4];			//Дамп
;;;782    snmp_lakb_damp1[i][10]=ABCDEF[(lakb_damp[i][3])&0x0f];			//Дамп
;;;783    snmp_lakb_damp1[i][11]=' ';
;;;784    snmp_lakb_damp1[i][12]=ABCDEF[(lakb_damp[i][4])>>4];			//Дамп
;;;785    snmp_lakb_damp1[i][13]=ABCDEF[(lakb_damp[i][4])&0x0f];			//Дамп
;;;786    snmp_lakb_damp1[i][14]=' '; 
;;;787    snmp_lakb_damp1[i][15]=ABCDEF[(lakb_damp[i][5])>>4];			//Дамп
;;;788    snmp_lakb_damp1[i][16]=ABCDEF[(lakb_damp[i][5])&0x0f];			//Дамп
;;;789    snmp_lakb_damp1[i][17]=' ';
;;;790    snmp_lakb_damp1[i][18]=ABCDEF[(lakb_damp[i][6])>>4];			//Дамп
;;;791    snmp_lakb_damp1[i][19]=ABCDEF[(lakb_damp[i][6])&0x0f];			//Дамп
;;;792    snmp_lakb_damp1[i][20]=' ';
;;;793    snmp_lakb_damp1[i][21]=ABCDEF[(lakb_damp[i][7])>>4];			//Дамп
;;;794    snmp_lakb_damp1[i][22]=ABCDEF[(lakb_damp[i][7])&0x0f];			//Дамп
;;;795    snmp_lakb_damp1[i][23]=' ';
;;;796    snmp_lakb_damp1[i][24]=ABCDEF[(lakb_damp[i][8])>>4];			//Дамп
;;;797    snmp_lakb_damp1[i][25]=ABCDEF[(lakb_damp[i][8])&0x0f];			//Дамп
;;;798    snmp_lakb_damp1[i][26]=' ';
;;;799    snmp_lakb_damp1[i][27]=ABCDEF[(lakb_damp[i][9])>>4];			//Дамп
;;;800    snmp_lakb_damp1[i][28]=ABCDEF[(lakb_damp[i][9])&0x0f];			//Дамп
;;;801    snmp_lakb_damp1[i][29]=0; 
;;;802    
;;;803    snmp_lakb_damp1[i][30]=ABCDEF[(lakb_damp[i][10])>>4];			//Дамп
;;;804    snmp_lakb_damp1[i][31]=ABCDEF[(lakb_damp[i][10])&0x0f];			//Дамп
;;;805    snmp_lakb_damp1[i][32]=' ';
;;;806    snmp_lakb_damp1[i][33]=ABCDEF[(lakb_damp[i][11])>>4];			//Дамп
;;;807    snmp_lakb_damp1[i][34]=ABCDEF[(lakb_damp[i][11])&0x0f];			//Дамп
;;;808    snmp_lakb_damp1[i][35]=' ';
;;;809    snmp_lakb_damp1[i][36]=ABCDEF[(lakb_damp[i][12])>>4];			//Дамп
;;;810    snmp_lakb_damp1[i][37]=ABCDEF[(lakb_damp[i][12])&0x0f];			//Дамп
;;;811    snmp_lakb_damp1[i][38]=' ';
;;;812    snmp_lakb_damp1[i][39]=ABCDEF[(lakb_damp[i][13])>>4];			//Дамп
;;;813    snmp_lakb_damp1[i][40]=ABCDEF[(lakb_damp[i][13])&0x0f];			//Дамп
;;;814    snmp_lakb_damp1[i][41]=' ';
;;;815    snmp_lakb_damp1[i][42]=ABCDEF[(lakb_damp[i][14])>>4];			//Дамп
;;;816    snmp_lakb_damp1[i][43]=ABCDEF[(lakb_damp[i][14])&0x0f];			//Дамп
;;;817    snmp_lakb_damp1[i][44]=' '; 
;;;818    snmp_lakb_damp1[i][45]=ABCDEF[(lakb_damp[i][15])>>4];			//Дамп
;;;819    snmp_lakb_damp1[i][46]=ABCDEF[(lakb_damp[i][15])&0x0f];			//Дамп
;;;820    snmp_lakb_damp1[i][47]=' ';
;;;821    snmp_lakb_damp1[i][48]=ABCDEF[(lakb_damp[i][16])>>4];			//Дамп
;;;822    snmp_lakb_damp1[i][49]=ABCDEF[(lakb_damp[i][16])&0x0f];			//Дамп
;;;823    snmp_lakb_damp1[i][50]=' ';
;;;824    snmp_lakb_damp1[i][51]=ABCDEF[(lakb_damp[i][17])>>4];			//Дамп
;;;825    snmp_lakb_damp1[i][52]=ABCDEF[(lakb_damp[i][17])&0x0f];			//Дамп
;;;826    snmp_lakb_damp1[i][53]=' ';
;;;827    snmp_lakb_damp1[i][54]=ABCDEF[(lakb_damp[i][18])>>4];			//Дамп
;;;828    snmp_lakb_damp1[i][55]=ABCDEF[(lakb_damp[i][18])&0x0f];			//Дамп
;;;829    snmp_lakb_damp1[i][56]=' ';
;;;830    snmp_lakb_damp1[i][57]=ABCDEF[(lakb_damp[i][19])>>4];			//Дамп
;;;831    snmp_lakb_damp1[i][58]=ABCDEF[(lakb_damp[i][19])&0x0f];			//Дамп
;;;832    snmp_lakb_damp1[i][59]=0; 
;;;833    
;;;834    
;;;835    snmp_lakb_damp1[i][60]=ABCDEF[(lakb_damp[i][20])>>4];			//Дамп
;;;836    snmp_lakb_damp1[i][61]=ABCDEF[(lakb_damp[i][20])&0x0f];			//Дамп
;;;837    snmp_lakb_damp1[i][62]=' ';
;;;838    snmp_lakb_damp1[i][63]=ABCDEF[(lakb_damp[i][21])>>4];			//Дамп
;;;839    snmp_lakb_damp1[i][64]=ABCDEF[(lakb_damp[i][21])&0x0f];			//Дамп
;;;840    snmp_lakb_damp1[i][65]=' ';
;;;841    snmp_lakb_damp1[i][66]=ABCDEF[(lakb_damp[i][22])>>4];			//Дамп
;;;842    snmp_lakb_damp1[i][67]=ABCDEF[(lakb_damp[i][22])&0x0f];			//Дамп
;;;843    snmp_lakb_damp1[i][68]=' ';
;;;844    snmp_lakb_damp1[i][69]=ABCDEF[(lakb_damp[i][23])>>4];			//Дамп
;;;845    snmp_lakb_damp1[i][70]=ABCDEF[(lakb_damp[i][23])&0x0f];			//Дамп
;;;846    snmp_lakb_damp1[i][71]=' ';
;;;847    snmp_lakb_damp1[i][72]=ABCDEF[(lakb_damp[i][24])>>4];			//Дамп
;;;848    snmp_lakb_damp1[i][73]=ABCDEF[(lakb_damp[i][24])&0x0f];			//Дамп
;;;849    snmp_lakb_damp1[i][74]=' '; 
;;;850    snmp_lakb_damp1[i][75]=ABCDEF[(lakb_damp[i][25])>>4];			//Дамп
;;;851    snmp_lakb_damp1[i][76]=ABCDEF[(lakb_damp[i][25])&0x0f];			//Дамп
;;;852    snmp_lakb_damp1[i][77]=' ';
;;;853    snmp_lakb_damp1[i][78]=ABCDEF[(lakb_damp[i][26])>>4];			//Дамп
;;;854    snmp_lakb_damp1[i][79]=ABCDEF[(lakb_damp[i][26])&0x0f];			//Дамп
;;;855    snmp_lakb_damp1[i][80]=' ';
;;;856    snmp_lakb_damp1[i][81]=ABCDEF[(lakb_damp[i][27])>>4];			//Дамп
;;;857    snmp_lakb_damp1[i][82]=ABCDEF[(lakb_damp[i][27])&0x0f];			//Дамп
;;;858    snmp_lakb_damp1[i][83]=' ';
;;;859    snmp_lakb_damp1[i][84]=ABCDEF[(lakb_damp[i][28])>>4];			//Дамп
;;;860    snmp_lakb_damp1[i][85]=ABCDEF[(lakb_damp[i][28])&0x0f];			//Дамп
;;;861    snmp_lakb_damp1[i][86]=' ';
;;;862    snmp_lakb_damp1[i][87]=ABCDEF[(lakb_damp[i][29])>>4];			//Дамп
;;;863    snmp_lakb_damp1[i][88]=ABCDEF[(lakb_damp[i][29])&0x0f];			//Дамп
;;;864    snmp_lakb_damp1[i][89]=0;
;;;865    
;;;866    
;;;867    snmp_lakb_damp1[i][90]=ABCDEF[(lakb_damp[i][30])>>4];			//Дамп
;;;868    snmp_lakb_damp1[i][91]=ABCDEF[(lakb_damp[i][30])&0x0f];			//Дамп
;;;869    snmp_lakb_damp1[i][92]=' ';
;;;870    snmp_lakb_damp1[i][93]=ABCDEF[(lakb_damp[i][31])>>4];			//Дамп
;;;871    snmp_lakb_damp1[i][94]=ABCDEF[(lakb_damp[i][31])&0x0f];			//Дамп
;;;872    snmp_lakb_damp1[i][95]=' ';
;;;873    snmp_lakb_damp1[i][96]=ABCDEF[(lakb_damp[i][32])>>4];			//Дамп
;;;874    snmp_lakb_damp1[i][97]=ABCDEF[(lakb_damp[i][32])&0x0f];			//Дамп
;;;875    snmp_lakb_damp1[i][98]=' ';
;;;876    snmp_lakb_damp1[i][99]=ABCDEF[(lakb_damp[i][33])>>4];			//Дамп
;;;877    snmp_lakb_damp1[i][100]=ABCDEF[(lakb_damp[i][33])&0x0f];			//Дамп
;;;878    snmp_lakb_damp1[i][101]=' ';
;;;879    snmp_lakb_damp1[i][102]=ABCDEF[(lakb_damp[i][34])>>4];			//Дамп
;;;880    snmp_lakb_damp1[i][103]=ABCDEF[(lakb_damp[i][34])&0x0f];			//Дамп
;;;881    snmp_lakb_damp1[i][104]=' '; 
;;;882    snmp_lakb_damp1[i][105]=ABCDEF[(lakb_damp[i][35])>>4];			//Дамп
;;;883    snmp_lakb_damp1[i][106]=ABCDEF[(lakb_damp[i][35])&0x0f];			//Дамп
;;;884    snmp_lakb_damp1[i][107]=' ';
;;;885    snmp_lakb_damp1[i][108]=ABCDEF[(lakb_damp[i][36])>>4];			//Дамп
;;;886    snmp_lakb_damp1[i][109]=ABCDEF[(lakb_damp[i][36])&0x0f];			//Дамп
;;;887    snmp_lakb_damp1[i][110]=' ';
;;;888    snmp_lakb_damp1[i][111]=ABCDEF[(lakb_damp[i][37])>>4];			//Дамп
;;;889    snmp_lakb_damp1[i][112]=ABCDEF[(lakb_damp[i][37])&0x0f];			//Дамп
;;;890    snmp_lakb_damp1[i][113]=' ';
;;;891    snmp_lakb_damp1[i][114]=ABCDEF[(lakb_damp[i][38])>>4];			//Дамп
;;;892    snmp_lakb_damp1[i][115]=ABCDEF[(lakb_damp[i][38])&0x0f];			//Дамп
;;;893    snmp_lakb_damp1[i][116]=' ';
;;;894    snmp_lakb_damp1[i][117]=ABCDEF[(lakb_damp[i][39])>>4];			//Дамп
;;;895    snmp_lakb_damp1[i][118]=ABCDEF[(lakb_damp[i][39])&0x0f];			//Дамп
;;;896    snmp_lakb_damp1[i][119]=0; 
;;;897     
;;;898    
;;;899    snmp_lakb_damp1[i][120]=ABCDEF[(lakb_damp[i][40])>>4];			//Дамп
;;;900    snmp_lakb_damp1[i][121]=ABCDEF[(lakb_damp[i][40])&0x0f];			//Дамп
;;;901    snmp_lakb_damp1[i][122]=' ';
;;;902    snmp_lakb_damp1[i][123]=ABCDEF[(lakb_damp[i][41])>>4];			//Дамп
;;;903    snmp_lakb_damp1[i][124]=ABCDEF[(lakb_damp[i][41])&0x0f];			//Дамп
;;;904    snmp_lakb_damp1[i][125]=' ';
;;;905    snmp_lakb_damp1[i][126]=ABCDEF[(lakb_damp[i][42])>>4];			//Дамп
;;;906    snmp_lakb_damp1[i][127]=ABCDEF[(lakb_damp[i][42])&0x0f];			//Дамп
;;;907    snmp_lakb_damp1[i][128]=' ';
;;;908    snmp_lakb_damp1[i][129]=ABCDEF[(lakb_damp[i][43])>>4];			//Дамп
;;;909    snmp_lakb_damp1[i][130]=ABCDEF[(lakb_damp[i][43])&0x0f];			//Дамп
;;;910    snmp_lakb_damp1[i][131]=' ';
;;;911    snmp_lakb_damp1[i][132]=ABCDEF[(lakb_damp[i][44])>>4];			//Дамп
;;;912    snmp_lakb_damp1[i][133]=ABCDEF[(lakb_damp[i][44])&0x0f];			//Дамп
;;;913    snmp_lakb_damp1[i][134]=' '; 
;;;914    snmp_lakb_damp1[i][135]=ABCDEF[(lakb_damp[i][45])>>4];			//Дамп
;;;915    snmp_lakb_damp1[i][136]=ABCDEF[(lakb_damp[i][45])&0x0f];			//Дамп
;;;916    snmp_lakb_damp1[i][137]=' ';
;;;917    snmp_lakb_damp1[i][138]=ABCDEF[(lakb_damp[i][46])>>4];			//Дамп
;;;918    snmp_lakb_damp1[i][139]=ABCDEF[(lakb_damp[i][46])&0x0f];			//Дамп
;;;919    snmp_lakb_damp1[i][140]=' ';
;;;920    snmp_lakb_damp1[i][141]=ABCDEF[(lakb_damp[i][47])>>4];			//Дамп
;;;921    snmp_lakb_damp1[i][142]=ABCDEF[(lakb_damp[i][47])&0x0f];			//Дамп
;;;922    snmp_lakb_damp1[i][143]=' ';
;;;923    snmp_lakb_damp1[i][144]=ABCDEF[(lakb_damp[i][48])>>4];			//Дамп
;;;924    snmp_lakb_damp1[i][145]=ABCDEF[(lakb_damp[i][48])&0x0f];			//Дамп
;;;925    snmp_lakb_damp1[i][146]=' ';
;;;926    snmp_lakb_damp1[i][147]=ABCDEF[(lakb_damp[i][49])>>4];			//Дамп
;;;927    snmp_lakb_damp1[i][148]=ABCDEF[(lakb_damp[i][49])&0x0f];			//Дамп
;;;928    snmp_lakb_damp1[i][149]=0;  */
;;;929    }
;;;930    
;;;931    #ifdef UKU_TELECORE2017
;;;932    snmp_warm_sign=0;
;;;933    if(TELECORE2017_KLIMAT_WARM_SIGNAL==0) snmp_warm_sign=2;
;;;934    else if(TELECORE2017_KLIMAT_WARM_SIGNAL==1) snmp_warm_sign=1;
;;;935    snmp_cool_sign=0;
;;;936    if(TELECORE2017_KLIMAT_VENT_SIGNAL==0) snmp_cool_sign=2;
;;;937    else if(TELECORE2017_KLIMAT_VENT_SIGNAL==1) snmp_cool_sign=1;
;;;938    snmp_warm_on_temper=(signed char)TELECORE2017_KLIMAT_WARM_ON; 
;;;939    snmp_warm_off_temper=(signed char)TELECORE2017_KLIMAT_WARM_OFF;
;;;940    snmp_warm_q=(signed char)TELECORE2017_KLIMAT_CAP;	
;;;941    snmp_cool_20_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON20;
;;;942    snmp_cool_40_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON40;
;;;943    snmp_cool_60_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON60;
;;;944    snmp_cool_80_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON80;
;;;945    snmp_cool_100_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON100;
;;;946    snmp_cool_20_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON20;
;;;947    snmp_cool_40_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON40;
;;;948    snmp_cool_60_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON60;
;;;949    snmp_cool_80_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON80;
;;;950    snmp_cool_100_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON100;
;;;951    snmp_warm_stat=0;
;;;952    if(warm_stat_k==wsON) snmp_warm_stat=1;
;;;953    #endif
;;;954    }
;;;955    //-----------------------------------------------
                          ENDP

000012  0000              DCW      0x0000
                  |L14.20|
                          DCD      ||.data||+0x80

                          AREA ||area_number.15||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.15||, ||.text||
                  snmp_klimat_settings_warm_off_write PROC
;;;261    //-----------------------------------------------
;;;262    void snmp_data (void) 
000000  2801              CMP      r0,#1
;;;263    {
000002  d105              BNE      |L15.16|
;;;264    char i;
;;;265    
;;;266    snmp_mains_power_voltage=net_U;
000004  4803              LDR      r0,|L15.20|
000006  f9b01004          LDRSH    r1,[r0,#4]  ; snmp_klimat_settings_warm_off
00000a  20fa              MOVS     r0,#0xfa
00000c  f7ffbffe          B.W      lc640_write_int
                  |L15.16|
;;;267    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;268    snmp_mains_power_frequency=net_F3;
000010  4770              BX       lr
;;;269    #else
;;;270    snmp_mains_power_frequency=net_F;
;;;271    #endif
;;;272    snmp_mains_power_voltage_phaseA=net_Ua;
;;;273    snmp_mains_power_voltage_phaseB=net_Ub;
;;;274    snmp_mains_power_voltage_phaseC=net_Uc;
;;;275    
;;;276    
;;;277    if(avar_stat&0x0001)snmp_mains_power_alarm=1;
;;;278    else snmp_mains_power_alarm=0;
;;;279    if(avar_stat&0x0001)snmp_mains_power_status=1;
;;;280    else snmp_mains_power_status=0;
;;;281    
;;;282    /*
;;;283    snmp_mains_power_status=0; 
;;;284    #if(UKU_VERSION==900)
;;;285    snmp_mains_power_status=2;
;;;286    #endif
;;;287    if(St&0x01)snmp_mains_power_status|=0x01;
;;;288    if(St&0x01)snmp_mains_power_alarm=1;
;;;289    
;;;290    
;;;291    
;;;292    
;;;293    
;;;294    
;;;295    for(i=0;i<snmp_numofevents;i++)event2snmp(i);
;;;296    //snmp_bpsnumber[0]=1;
;;;297    //snmp_bpsnumber[1]=2;
;;;298    
;;;299    
;;;300    snmp_sernum_lsb=0x1122;
;;;301    snmp_sernum_msb=0x3344;
;;;302    snmp_device_code=AUSW_MAIN;
;;;303    
;;;304    //memcpy(snmp_location,"lkhg;la",);
;;;305    
;;;306    
;;;307    snmp_numofbat=1;
;;;308    
;;;309    */
;;;310    snmp_sernum=AUSW_MAIN_NUMBER;
;;;311    
;;;312    snmp_load_voltage=load_U;
;;;313    snmp_load_current=load_I;
;;;314    snmp_numofbat=NUMBAT;
;;;315    snmp_numofbps=NUMIST;
;;;316    snmp_numofinv=NUMINV;
;;;317    snmp_numofavt=NUMAVT;
;;;318    snmp_numofdt=NUMDT;
;;;319    snmp_numofsk=NUMSK;
;;;320    snmp_numofevents=lc640_read_int(CNT_EVENT_LOG);
;;;321    
;;;322    snmp_energy_vvod_phase_a=Uvv_eb2[0];
;;;323    snmp_energy_vvod_phase_b=Uvv_eb2[1];
;;;324    snmp_energy_vvod_phase_c=Uvv_eb2[2];
;;;325    snmp_energy_pes_phase_a=Upes_eb2[0];
;;;326    snmp_energy_pes_phase_b=Upes_eb2[1];
;;;327    snmp_energy_pes_phase_c=Upes_eb2[2];
;;;328    
;;;329    #ifdef UKU_KONTUR
;;;330    snmp_energy_vvod_phase_a=Uvv0;
;;;331    snmp_energy_pes_phase_a=Uvv[1];
;;;332    #endif
;;;333    
;;;334    snmp_energy_total_energy=power_summary;
;;;335    snmp_energy_current_energy=power_current;
;;;336    snmp_energy_input_voltage=net_U;
;;;337    
;;;338    
;;;339    #ifdef UKU_ZVU
;;;340    snmp_bat_number[0]=1;
;;;341    snmp_bat_voltage[0]=out_U;
;;;342    snmp_bat_current[0]=Ib_ips_termokompensat;
;;;343    snmp_bat_rem_time[0]=bat_hndl_t_razr_min;
;;;344    if(Ib_ips_termokompensat>0)snmp_bat_rem_time[0]=-1;
;;;345    snmp_bat_temperature[0]=t_ext[0];
;;;346    if(ND_EXT[0])snmp_bat_temperature[0]=-1000;
;;;347    snmp_bat_capacity[0]=BAT_C_POINT_20;
;;;348    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;349    snmp_bat_status[0]=bat_ips._av&1;
;;;350    if(NUMBAT==0)snmp_bat_status[0]=0xff;
;;;351    #endif
;;;352    
;;;353    #ifndef UKU_ZVU
;;;354    snmp_bat_number[0]=1;
;;;355    snmp_bat_voltage[0]=bat[0]._Ub;
;;;356    snmp_bat_part_voltage[0]=bat[0]._Ubm;
;;;357    snmp_bat_current[0]=bat[0]._Ib;
;;;358    
;;;359    /*
;;;360    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;361    if(((AUSW_MAIN==22063)||(AUSW_MAIN==22023))&&(bps[8]._device==dIBAT_METR))
;;;362    	{
;;;363    	snmp_bat_current[0]=Ib_ips_termokompensat;
;;;364    	}
;;;365    #endif*/
;;;366    
;;;367    snmp_bat_temperature[0]=bat[0]._Tb;
;;;368    if(bat[0]._nd) snmp_bat_temperature[0]=-1000;
;;;369    
;;;370    if(BAT_C_REAL[0]==0x5555)snmp_bat_capacity[0]=BAT_C_NOM[0];
;;;371    else snmp_bat_capacity[0]=BAT_C_REAL[0];
;;;372    /*
;;;373    #ifdef UKU_ZVU
;;;374    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;375    
;;;376    #else
;;;377    snmp_bat_charge[0]=bat[0]._zar;
;;;378    #endif */
;;;379    snmp_bat_charge[0]=bat[0]._zar;
;;;380    snmp_bat_status[0]=bat[0]._av;
;;;381    if(BAT_IS_ON[0]!=bisON)snmp_bat_status[0]=0xff;
;;;382    
;;;383    
;;;384    snmp_bat_number[1]=2;
;;;385    snmp_bat_voltage[1]=bat[1]._Ub;
;;;386    snmp_bat_part_voltage[1]=bat[1]._Ubm;
;;;387    snmp_bat_current[1]=bat[1]._Ib;
;;;388    snmp_bat_temperature[1]=bat[1]._Tb;
;;;389    if(bat[1]._nd) snmp_bat_temperature[1]=-1000;
;;;390    if(BAT_C_REAL[1]==0x5555)snmp_bat_capacity[1]=BAT_C_NOM[1];
;;;391    else snmp_bat_capacity[1]=BAT_C_REAL[1];
;;;392    snmp_bat_charge[1]=bat[1]._zar;
;;;393    snmp_bat_status[1]=bat[1]._av;
;;;394    if(BAT_IS_ON[1]!=bisON)snmp_bat_status[1]=0xff;
;;;395    #endif
;;;396    
;;;397    
;;;398    snmp_bps_number[0]=1;
;;;399    snmp_bps_voltage[0]=bps[0]._Uii;
;;;400    snmp_bps_current[0]=bps[0]._Ii;
;;;401    snmp_bps_temperature[0]=bps[0]._Ti;
;;;402    snmp_bps_stat[0]=bps[0]._av;
;;;403    if(!(NUMIST>0))snmp_bps_stat[0]=0xff;												//Байт состояния БПСа.
;;;404    
;;;405    /*if(St_[0]&(1<<2))snmp_bps_stat[0]=(1<<3); 							//авария по Umin
;;;406    else if(St_[0]&(1<<3))snmp_bps_stat[0]=(1<<2); 						//авария по Umax
;;;407    else if(bps[0]._av&(1<<0))snmp_bps_stat[0]=(1<<1); 						//авария по Tmax
;;;408    else if(St_[0]&(1<<5))snmp_bps_stat[0]=(1<<5); 						//заблокирован
;;;409    else if((!(St_[0]&0x3c))&&(!St&0x01)&&(!OFFBP1))snmp_bps_stat[0]=1; 		//Работает
;;;410    */
;;;411    
;;;412    snmp_bps_number[1]=2;
;;;413    snmp_bps_voltage[1]=bps[1]._Uii;
;;;414    snmp_bps_current[1]=bps[1]._Ii;
;;;415    snmp_bps_temperature[1]=bps[1]._Ti;
;;;416    snmp_bps_stat[1]=bps[1]._av;
;;;417    if(!(NUMIST>1))snmp_bps_stat[1]=0xff;												//Байт состояния БПСа.
;;;418    /*if(St_[1]&(1<<2))snmp_bps_stat[1]=(1<<3); 							//авария по Umin
;;;419    else if(St_[1]&(1<<3))snmp_bps_stat[1]=(1<<2); 						//авария по Umax
;;;420    else if(St_[1]&(1<<4))snmp_bps_stat[1]=(1<<1); 						//авария по Tmax
;;;421    else if(St_[1]&(1<<5))snmp_bps_stat[1]=(1<<5); 						//заблокирован
;;;422    else if((!(St_[1]&0x3c))&&(!St&0x01)&&(!OFFBP2))snmp_bps_stat[1]=1; 		//Работает
;;;423    */
;;;424    
;;;425    snmp_bps_number[2]=3;
;;;426    snmp_bps_voltage[2]=bps[2]._Uii;
;;;427    snmp_bps_current[2]=bps[2]._Ii;
;;;428    snmp_bps_temperature[2]=bps[2]._Ti;
;;;429    snmp_bps_stat[2]=bps[2]._av;
;;;430    if(!(NUMIST>2))snmp_bps_stat[2]=0xff;
;;;431    
;;;432    snmp_bps_number[3]=4;
;;;433    snmp_bps_voltage[3]=bps[3]._Uii;
;;;434    snmp_bps_current[3]=bps[3]._Ii;
;;;435    snmp_bps_temperature[3]=bps[3]._Ti;
;;;436    snmp_bps_stat[3]=bps[3]._av;
;;;437    if(!(NUMIST>3))snmp_bps_stat[3]=0xff;
;;;438    
;;;439    snmp_bps_number[4]=5;
;;;440    snmp_bps_voltage[4]=bps[4]._Uii;
;;;441    snmp_bps_current[4]=bps[4]._Ii;
;;;442    snmp_bps_temperature[4]=bps[4]._Ti;
;;;443    snmp_bps_stat[4]=bps[4]._av;
;;;444    if(!(NUMIST>4))snmp_bps_stat[4]=0xff;
;;;445    
;;;446    snmp_bps_number[5]=6;
;;;447    snmp_bps_voltage[5]=bps[5]._Uii;
;;;448    snmp_bps_current[5]=bps[5]._Ii;
;;;449    snmp_bps_temperature[5]=bps[5]._Ti;
;;;450    snmp_bps_stat[5]=bps[5]._av;
;;;451    if(!(NUMIST>5))snmp_bps_stat[5]=0xff;
;;;452    
;;;453    snmp_bps_number[6]=7;
;;;454    snmp_bps_voltage[6]=bps[6]._Uii;
;;;455    snmp_bps_current[6]=bps[6]._Ii;
;;;456    snmp_bps_temperature[6]=bps[6]._Ti;
;;;457    snmp_bps_stat[6]=bps[6]._av;
;;;458    if(!(NUMIST>6))snmp_bps_stat[6]=0xff;
;;;459    
;;;460    snmp_bps_number[7]=8;
;;;461    snmp_bps_voltage[7]=bps[7]._Uii;
;;;462    snmp_bps_current[7]=bps[7]._Ii;
;;;463    snmp_bps_temperature[7]=bps[7]._Ti;
;;;464    snmp_bps_stat[7]=bps[7]._av;
;;;465    if(!(NUMIST>7))snmp_bps_stat[7]=0xff;
;;;466    
;;;467    
;;;468    
;;;469    snmp_inv_number[0]=1;
;;;470    snmp_inv_voltage[0]=inv[0]._Uio;
;;;471    snmp_inv_current[0]=inv[0]._Ii;
;;;472    snmp_inv_temperature[0]=inv[0]._Ti;
;;;473    snmp_inv_stat[0]=inv[0]._flags_tm;
;;;474    
;;;475    snmp_inv_number[1]=2;
;;;476    snmp_inv_voltage[1]=inv[1]._Uio;
;;;477    snmp_inv_current[1]=inv[1]._Ii;
;;;478    snmp_inv_temperature[1]=inv[1]._Ti;
;;;479    snmp_inv_stat[1]=inv[1]._flags_tm;
;;;480    
;;;481    snmp_inv_number[2]=3;
;;;482    snmp_inv_voltage[2]=inv[2]._Uio;
;;;483    snmp_inv_current[2]=inv[2]._Ii;
;;;484    snmp_inv_temperature[2]=inv[2]._Ti;
;;;485    snmp_inv_stat[2]=inv[2]._flags_tm;
;;;486    
;;;487    
;;;488    
;;;489    
;;;490    					  
;;;491    snmp_sk_number[0]=1;
;;;492    memcpy(&snmp_sk_name[0][0],"Door",10);
;;;493    if(sk_stat[0]==ssON) snmp_sk_aktiv[0]=1;
;;;494    else snmp_sk_aktiv[0]=0;
;;;495    if(!SK_SIGN[0])snmp_sk_alarm_aktiv[0]=1;
;;;496    else snmp_sk_alarm_aktiv[0]=0;
;;;497    if(sk_av_stat[0]==sasON)	snmp_sk_alarm[0]=1;
;;;498    else                     snmp_sk_alarm[0]=0;
;;;499    
;;;500    
;;;501    snmp_sk_number[1]=2;
;;;502    memcpy(&snmp_sk_name[1][0],"Smoke",10);
;;;503    if(sk_stat[1]==ssON) snmp_sk_aktiv[1]=1;
;;;504    else snmp_sk_aktiv[1]=0;
;;;505    if(!SK_SIGN[1])snmp_sk_alarm_aktiv[1]=1;
;;;506    else snmp_sk_alarm_aktiv[1]=0;
;;;507    if(sk_av_stat[1]==sasON)	snmp_sk_alarm[1]=1;
;;;508    else                     snmp_sk_alarm[1]=0;
;;;509    
;;;510    snmp_sk_number[2]=3;
;;;511    memcpy(&snmp_sk_name[2][0],"Shock",10);
;;;512    if(sk_stat[2]==ssON) snmp_sk_aktiv[2]=1;
;;;513    else snmp_sk_aktiv[2]=0;
;;;514    if(!SK_SIGN[2])snmp_sk_alarm_aktiv[2]=1;
;;;515    else snmp_sk_alarm_aktiv[2]=0;
;;;516    if(sk_av_stat[2]==sasON)	snmp_sk_alarm[2]=1;
;;;517    else                     snmp_sk_alarm[2]=0;
;;;518    
;;;519    snmp_sk_number[3]=4;
;;;520    memcpy(&snmp_sk_name[3][0],"     ",10);
;;;521    if(sk_stat[3]==ssON) snmp_sk_aktiv[3]=1;
;;;522    else snmp_sk_aktiv[3]=0;
;;;523    if(!SK_SIGN[3])snmp_sk_alarm_aktiv[3]=1;
;;;524    else snmp_sk_alarm_aktiv[3]=0;
;;;525    if(sk_av_stat[3]==sasON)	snmp_sk_alarm[3]=1;
;;;526    else                     snmp_sk_alarm[3]=0;
;;;527    
;;;528    
;;;529    if(makb[0]._cnt>8) snmp_makb_connect_status[0]=1;
;;;530    else if(makb[0]._cnt<2) snmp_makb_connect_status[0]=0;
;;;531    if(makb[1]._cnt>8) snmp_makb_connect_status[1]=1;
;;;532    else if(makb[1]._cnt<2) snmp_makb_connect_status[1]=0;
;;;533    if(makb[2]._cnt>8) snmp_makb_connect_status[2]=1;
;;;534    else if(makb[2]._cnt<2) snmp_makb_connect_status[2]=0;
;;;535    if(makb[3]._cnt>8) snmp_makb_connect_status[3]=1;
;;;536    else if(makb[3]._cnt<2) snmp_makb_connect_status[3]=0;
;;;537    
;;;538    snmp_makb_voltage0[0]=makb[0]._Ub[0];
;;;539    snmp_makb_voltage1[0]=makb[0]._Ub[1];
;;;540    snmp_makb_voltage2[0]=makb[0]._Ub[2];
;;;541    snmp_makb_voltage3[0]=makb[0]._Ub[3];
;;;542    snmp_makb_voltage4[0]=makb[0]._Ub[4];
;;;543    snmp_makb_voltage0[1]=makb[1]._Ub[0];
;;;544    snmp_makb_voltage1[1]=makb[1]._Ub[1];
;;;545    snmp_makb_voltage2[1]=makb[1]._Ub[2];
;;;546    snmp_makb_voltage3[1]=makb[1]._Ub[3];
;;;547    snmp_makb_voltage4[1]=makb[1]._Ub[4];
;;;548    snmp_makb_voltage0[2]=makb[2]._Ub[0];
;;;549    snmp_makb_voltage1[2]=makb[2]._Ub[1];
;;;550    snmp_makb_voltage2[2]=makb[2]._Ub[2];
;;;551    snmp_makb_voltage3[2]=makb[2]._Ub[3];
;;;552    snmp_makb_voltage4[2]=makb[2]._Ub[4];
;;;553    snmp_makb_voltage0[3]=makb[3]._Ub[0];
;;;554    snmp_makb_voltage1[3]=makb[3]._Ub[1];
;;;555    snmp_makb_voltage2[3]=makb[3]._Ub[2];
;;;556    snmp_makb_voltage3[3]=makb[3]._Ub[3];
;;;557    snmp_makb_voltage4[3]=makb[3]._Ub[4];
;;;558    
;;;559    snmp_makb_temper0[0]=makb[0]._T[0];
;;;560    snmp_makb_temper1[0]=makb[0]._T[1];
;;;561    snmp_makb_temper2[0]=makb[0]._T[2];
;;;562    snmp_makb_temper3[0]=makb[0]._T[3];
;;;563    snmp_makb_temper4[0]=makb[0]._T[4];
;;;564    snmp_makb_temper0[1]=makb[1]._T[0];
;;;565    snmp_makb_temper1[1]=makb[1]._T[1];
;;;566    snmp_makb_temper2[1]=makb[1]._T[2];
;;;567    snmp_makb_temper3[1]=makb[1]._T[3];
;;;568    snmp_makb_temper4[1]=makb[1]._T[4];
;;;569    snmp_makb_temper0[2]=makb[2]._T[0];
;;;570    snmp_makb_temper1[2]=makb[2]._T[1];
;;;571    snmp_makb_temper2[2]=makb[2]._T[2];
;;;572    snmp_makb_temper3[2]=makb[2]._T[3];
;;;573    snmp_makb_temper4[2]=makb[2]._T[4];
;;;574    snmp_makb_temper0[3]=makb[3]._T[0];
;;;575    snmp_makb_temper1[3]=makb[3]._T[1];
;;;576    snmp_makb_temper2[3]=makb[3]._T[2];
;;;577    snmp_makb_temper3[3]=makb[3]._T[3];
;;;578    snmp_makb_temper4[3]=makb[3]._T[4];
;;;579    
;;;580    snmp_makb_temper0_stat[0]=makb[0]._T_nd[0];
;;;581    snmp_makb_temper1_stat[0]=makb[0]._T_nd[1];
;;;582    snmp_makb_temper2_stat[0]=makb[0]._T_nd[2];
;;;583    snmp_makb_temper3_stat[0]=makb[0]._T_nd[3];
;;;584    snmp_makb_temper4_stat[0]=makb[0]._T_nd[4];
;;;585    snmp_makb_temper0_stat[1]=makb[1]._T_nd[0];
;;;586    snmp_makb_temper1_stat[1]=makb[1]._T_nd[1];
;;;587    snmp_makb_temper2_stat[1]=makb[1]._T_nd[2];
;;;588    snmp_makb_temper3_stat[1]=makb[1]._T_nd[3];
;;;589    snmp_makb_temper4_stat[1]=makb[1]._T_nd[4];
;;;590    snmp_makb_temper0_stat[2]=makb[2]._T_nd[0];
;;;591    snmp_makb_temper1_stat[2]=makb[2]._T_nd[1];
;;;592    snmp_makb_temper2_stat[2]=makb[2]._T_nd[2];
;;;593    snmp_makb_temper3_stat[2]=makb[2]._T_nd[3];
;;;594    snmp_makb_temper4_stat[2]=makb[2]._T_nd[4];
;;;595    snmp_makb_temper0_stat[3]=makb[3]._T_nd[0];
;;;596    snmp_makb_temper1_stat[3]=makb[3]._T_nd[1];
;;;597    snmp_makb_temper2_stat[3]=makb[3]._T_nd[2];
;;;598    snmp_makb_temper3_stat[3]=makb[3]._T_nd[3];
;;;599    snmp_makb_temper4_stat[3]=makb[3]._T_nd[4];
;;;600    
;;;601    
;;;602    snmp_klimat_box_temper=t_box;
;;;603    snmp_klimat_settings_box_alarm=TBOXMAX;
;;;604    snmp_klimat_settings_vent_on=TBOXVENTON;
;;;605    snmp_klimat_settings_vent_off=TBOXVENTOFF;
;;;606    snmp_klimat_settings_warm_on=TBOXWARMON;
;;;607    snmp_klimat_settings_warm_off=TBOXWARMOFF;
;;;608    snmp_klimat_settings_load_on=TLOADENABLE;
;;;609    snmp_klimat_settings_load_off=TLOADDISABLE;
;;;610    snmp_klimat_settings_batt_on=TBATENABLE;
;;;611    snmp_klimat_settings_batt_off=TBATDISABLE;
;;;612    
;;;613    snmp_dt_ext=t_ext[0];
;;;614    snmp_dt_msan=t_ext[1];
;;;615    snmp_dt_epu=t_ext[2];
;;;616    
;;;617    /*
;;;618    snmp_bat_voltage=Ubat;
;;;619    snmp_bat_current=Ibat;
;;;620    snmp_bat_temperature=t_b;
;;;621    if(BAT_C_REAL==0x5555)
;;;622    	{
;;;623    	snmp_bat_capacity=BAT_C_NOM*10;												    11
;;;624    	}
;;;625    else
;;;626    	{
;;;627    	snmp_bat_capacity=BAT_C_REAL;
;;;628    	}
;;;629    snmp_bat_charge=zar_percent;
;;;630    snmp_bat_status=0;
;;;631    if(St&0x02)snmp_bat_status|=0x01;
;;;632    if(Ibat>0)snmp_bat_status|=0x02;
;;;633    
;;;634    
;;;635    if(spc_stat==spc_OFF) snmp_spc_stat=0;
;;;636    else if(spc_stat==spc_KE) snmp_spc_stat=1;
;;;637    else if(spc_stat==spc_VZ) snmp_spc_stat=10;
;;;638    
;;;639    
;;;640    snmp_main_bps=MAIN_IST+1;
;;;641    */
;;;642    snmp_zv_en=ZV_ON;
;;;643    snmp_alarm_auto_disable=AV_OFF_AVT;
;;;644    snmp_bat_test_time=TBAT;
;;;645    snmp_u_max=UMAX;
;;;646    snmp_u_min=UB20-DU;
;;;647    snmp_u_0_grad=UB0;
;;;648    snmp_u_20_grad=UB20;
;;;649    snmp_u_sign=USIGN;
;;;650    snmp_u_min_power=UMN;
;;;651    snmp_u_withouth_bat=U0B;
;;;652    snmp_control_current=IKB;
;;;653    snmp_max_charge_current=IZMAX;
;;;654    snmp_max_current=IMAX;
;;;655    snmp_min_current=IMIN;
;;;656    //snmp_max_current_koef=KIMAX;
;;;657    snmp_uvz=UVZ;
;;;658    snmp_powerup_psu_timeout=TZAS;
;;;659    snmp_max_temperature=TMAX;
;;;660    snmp_tsign_bat=TBATSIGN; 
;;;661    snmp_tmax_bat=TBATMAX;
;;;662    snmp_tsign_bps=TSIGN;
;;;663    snmp_tmax_bps=TMAX;
;;;664    snmp_bat_part_alarm=UBM_AV; 
;;;665    snmp_power_cnt_adress=POWER_CNT_ADRESS;
;;;666    
;;;667    for(i=0;i<12;i++)
;;;668    	{
;;;669    	snmp_avt_number[i]=i+1;
;;;670    	if(avt_stat[i]==avtOFF)snmp_avt_stat[i]=0;
;;;671    	else snmp_avt_stat[i]=1;
;;;672    	}
;;;673    
;;;674    snmp_dt_number[0]=1;
;;;675    snmp_dt_number[1]=2;
;;;676    snmp_dt_number[2]=3;
;;;677    //snmp_dt_number[3]=4;
;;;678    snmp_dt_temper[0]=t_ext[0];
;;;679    snmp_dt_temper[1]=t_ext[1];
;;;680    snmp_dt_temper[2]=t_ext[2];
;;;681    //snmp_dt_temper[3]=t_ext[3];
;;;682    snmp_dt_error[0]=ND_EXT[0];
;;;683    if(NUMDT<1)snmp_dt_error[0]=0xff;
;;;684    snmp_dt_error[1]=ND_EXT[1];
;;;685    if(NUMDT<2)snmp_dt_error[0]=0xff;
;;;686    snmp_dt_error[2]=ND_EXT[2];
;;;687    if(NUMDT<3)snmp_dt_error[0]=0xff;
;;;688    //snmp_dt_error[3]=ND_EXT[3];
;;;689    if(NUMDT<4)snmp_dt_error[0]=0xff;
;;;690    
;;;691    /*
;;;692    //Литиевые батареи
;;;693    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;694    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;695    snmp_lakb_voltage[0]=lakb[0]._tot_bat_volt;				//Напряжение ЛАКБ
;;;696    snmp_lakb_voltage[1]=lakb[1]._tot_bat_volt;				//Напряжение ЛАКБ
;;;697    snmp_lakb_max_cell_voltage[0]=lakb[0]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;698    snmp_lakb_max_cell_voltage[1]=lakb[1]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;699    snmp_lakb_min_cell_voltage[0]=lakb[0]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;700    snmp_lakb_min_cell_voltage[1]=lakb[1]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;701    snmp_lakb_max_cell_temperature[0]=lakb[0]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;702    snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;703    snmp_lakb_min_cell_temperature[0]=lakb[0]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;704    snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;705    snmp_lakb_ch_curr[0]=lakb[0]._ch_curr;					//Ток заряда ЛАКБ
;;;706    snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;707    snmp_lakb_dsch_curr[0]=lakb[0]._dsch_curr;				//Ток разряда ЛАКБ
;;;708    snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;709    snmp_lakb_rat_cap[0]=lakb[0]._rat_cap;					//Номинальная емкость ЛАКБ
;;;710    snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;711    snmp_lakb_soh[0]=lakb[0]._s_o_h;						//Остаточная емкость ЛАКБ
;;;712    snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;713    snmp_lakb_soc[0]=lakb[0]._s_o_c;						//Заряд ЛАКБ
;;;714    snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;715    snmp_lakb_cclv[0]=lakb[0]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;716    snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;717    snmp_lakb_rbt[0]=lakb[0]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;718    snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;719    snmp_lakb_flags1[0]=lakb[0]._flags1;					//Первый флаг состояния ЛАКБ
;;;720    snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;721    snmp_lakb_flags2[0]=lakb[0]._flags2;					//Второй флаг состояния ЛАКБ
;;;722    snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ */
;;;723    
;;;724    //Литиевые батареи
;;;725    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;726    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;727    snmp_lakb_number[2]=3;								//Номер ЛАКБ
;;;728    snmp_lakb_number[3]=4;								//Номер ЛАКБ
;;;729    snmp_lakb_number[4]=5;								//Номер ЛАКБ
;;;730    snmp_lakb_number[5]=6;								//Номер ЛАКБ
;;;731    snmp_lakb_number[6]=7;								//Номер ЛАКБ
;;;732    
;;;733    for (i=0;i<3;i++)
;;;734    	{
;;;735    	snmp_lakb_voltage[i]=lakb[i]._tot_bat_volt;				//Напряжение ЛАКБ
;;;736    	snmp_lakb_max_cell_voltage[i]=lakb[i]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;737    	snmp_lakb_min_cell_voltage[i]=lakb[i]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;738    	snmp_lakb_max_cell_temperature[i]=lakb[i]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;739    	//snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;740    	snmp_lakb_min_cell_temperature[i]=lakb[i]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;741    	//snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;742    	snmp_lakb_ch_curr[i]=lakb[i]._ch_curr;					//Ток заряда ЛАКБ
;;;743    	//snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;744    	snmp_lakb_dsch_curr[i]=lakb[i]._dsch_curr;				//Ток разряда ЛАКБ
;;;745    	//snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;746    	snmp_lakb_rat_cap[i]=lakb[i]._rat_cap;					//Номинальная емкость ЛАКБ
;;;747    	//snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;748    	snmp_lakb_soh[i]=lakb[i]._s_o_h;						//Остаточная емкость ЛАКБ
;;;749    	//snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;750    	snmp_lakb_soc[i]=lakb[i]._s_o_c;						//Заряд ЛАКБ
;;;751    	//snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;752    	snmp_lakb_cclv[i]=lakb[i]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;753    	//snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;754    	snmp_lakb_rbt[i]=lakb[i]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;755    	//snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;756    	snmp_lakb_flags1[i]=lakb[i]._flags1;					//Первый флаг состояния ЛАКБ
;;;757    	//snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;758    	snmp_lakb_flags2[i]=lakb[i]._flags2;					//Второй флаг состояния ЛАКБ
;;;759    	//snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ
;;;760    
;;;761    	snmp_lakb_cell_temperature_1[i]= lakb[i]._cell_temp_1;
;;;762    	snmp_lakb_cell_temperature_2[i]= lakb[i]._cell_temp_2;
;;;763    	snmp_lakb_cell_temperature_3[i]= lakb[i]._cell_temp_3;
;;;764    	snmp_lakb_cell_temperature_4[i]= lakb[i]._cell_temp_4;
;;;765    	snmp_lakb_cell_temperature_ambient[i]=lakb[i]._cell_temp_ambient;
;;;766    	snmp_lakb_cell_temperature_power[i]=lakb[i]._cell_temp_power;
;;;767    	}
;;;768    
;;;769    for (i=0;i<7;i++)
;;;770    {
;;;771    /*
;;;772    snmp_lakb_damp1[i][0]=ABCDEF[(lakb_damp[i][0])>>4];			//Дамп
;;;773    snmp_lakb_damp1[i][1]=ABCDEF[(lakb_damp[i][0])&0x0f];			//Дамп
;;;774    snmp_lakb_damp1[i][2]=' ';
;;;775    snmp_lakb_damp1[i][3]=ABCDEF[(lakb_damp[i][1])>>4];			//Дамп
;;;776    snmp_lakb_damp1[i][4]=ABCDEF[(lakb_damp[i][1])&0x0f];			//Дамп
;;;777    snmp_lakb_damp1[i][5]=' ';
;;;778    snmp_lakb_damp1[i][6]=ABCDEF[(lakb_damp[i][2])>>4];			//Дамп
;;;779    snmp_lakb_damp1[i][7]=ABCDEF[(lakb_damp[i][2])&0x0f];			//Дамп
;;;780    snmp_lakb_damp1[i][8]=' ';
;;;781    snmp_lakb_damp1[i][9]=ABCDEF[(lakb_damp[i][3])>>4];			//Дамп
;;;782    snmp_lakb_damp1[i][10]=ABCDEF[(lakb_damp[i][3])&0x0f];			//Дамп
;;;783    snmp_lakb_damp1[i][11]=' ';
;;;784    snmp_lakb_damp1[i][12]=ABCDEF[(lakb_damp[i][4])>>4];			//Дамп
;;;785    snmp_lakb_damp1[i][13]=ABCDEF[(lakb_damp[i][4])&0x0f];			//Дамп
;;;786    snmp_lakb_damp1[i][14]=' '; 
;;;787    snmp_lakb_damp1[i][15]=ABCDEF[(lakb_damp[i][5])>>4];			//Дамп
;;;788    snmp_lakb_damp1[i][16]=ABCDEF[(lakb_damp[i][5])&0x0f];			//Дамп
;;;789    snmp_lakb_damp1[i][17]=' ';
;;;790    snmp_lakb_damp1[i][18]=ABCDEF[(lakb_damp[i][6])>>4];			//Дамп
;;;791    snmp_lakb_damp1[i][19]=ABCDEF[(lakb_damp[i][6])&0x0f];			//Дамп
;;;792    snmp_lakb_damp1[i][20]=' ';
;;;793    snmp_lakb_damp1[i][21]=ABCDEF[(lakb_damp[i][7])>>4];			//Дамп
;;;794    snmp_lakb_damp1[i][22]=ABCDEF[(lakb_damp[i][7])&0x0f];			//Дамп
;;;795    snmp_lakb_damp1[i][23]=' ';
;;;796    snmp_lakb_damp1[i][24]=ABCDEF[(lakb_damp[i][8])>>4];			//Дамп
;;;797    snmp_lakb_damp1[i][25]=ABCDEF[(lakb_damp[i][8])&0x0f];			//Дамп
;;;798    snmp_lakb_damp1[i][26]=' ';
;;;799    snmp_lakb_damp1[i][27]=ABCDEF[(lakb_damp[i][9])>>4];			//Дамп
;;;800    snmp_lakb_damp1[i][28]=ABCDEF[(lakb_damp[i][9])&0x0f];			//Дамп
;;;801    snmp_lakb_damp1[i][29]=0; 
;;;802    
;;;803    snmp_lakb_damp1[i][30]=ABCDEF[(lakb_damp[i][10])>>4];			//Дамп
;;;804    snmp_lakb_damp1[i][31]=ABCDEF[(lakb_damp[i][10])&0x0f];			//Дамп
;;;805    snmp_lakb_damp1[i][32]=' ';
;;;806    snmp_lakb_damp1[i][33]=ABCDEF[(lakb_damp[i][11])>>4];			//Дамп
;;;807    snmp_lakb_damp1[i][34]=ABCDEF[(lakb_damp[i][11])&0x0f];			//Дамп
;;;808    snmp_lakb_damp1[i][35]=' ';
;;;809    snmp_lakb_damp1[i][36]=ABCDEF[(lakb_damp[i][12])>>4];			//Дамп
;;;810    snmp_lakb_damp1[i][37]=ABCDEF[(lakb_damp[i][12])&0x0f];			//Дамп
;;;811    snmp_lakb_damp1[i][38]=' ';
;;;812    snmp_lakb_damp1[i][39]=ABCDEF[(lakb_damp[i][13])>>4];			//Дамп
;;;813    snmp_lakb_damp1[i][40]=ABCDEF[(lakb_damp[i][13])&0x0f];			//Дамп
;;;814    snmp_lakb_damp1[i][41]=' ';
;;;815    snmp_lakb_damp1[i][42]=ABCDEF[(lakb_damp[i][14])>>4];			//Дамп
;;;816    snmp_lakb_damp1[i][43]=ABCDEF[(lakb_damp[i][14])&0x0f];			//Дамп
;;;817    snmp_lakb_damp1[i][44]=' '; 
;;;818    snmp_lakb_damp1[i][45]=ABCDEF[(lakb_damp[i][15])>>4];			//Дамп
;;;819    snmp_lakb_damp1[i][46]=ABCDEF[(lakb_damp[i][15])&0x0f];			//Дамп
;;;820    snmp_lakb_damp1[i][47]=' ';
;;;821    snmp_lakb_damp1[i][48]=ABCDEF[(lakb_damp[i][16])>>4];			//Дамп
;;;822    snmp_lakb_damp1[i][49]=ABCDEF[(lakb_damp[i][16])&0x0f];			//Дамп
;;;823    snmp_lakb_damp1[i][50]=' ';
;;;824    snmp_lakb_damp1[i][51]=ABCDEF[(lakb_damp[i][17])>>4];			//Дамп
;;;825    snmp_lakb_damp1[i][52]=ABCDEF[(lakb_damp[i][17])&0x0f];			//Дамп
;;;826    snmp_lakb_damp1[i][53]=' ';
;;;827    snmp_lakb_damp1[i][54]=ABCDEF[(lakb_damp[i][18])>>4];			//Дамп
;;;828    snmp_lakb_damp1[i][55]=ABCDEF[(lakb_damp[i][18])&0x0f];			//Дамп
;;;829    snmp_lakb_damp1[i][56]=' ';
;;;830    snmp_lakb_damp1[i][57]=ABCDEF[(lakb_damp[i][19])>>4];			//Дамп
;;;831    snmp_lakb_damp1[i][58]=ABCDEF[(lakb_damp[i][19])&0x0f];			//Дамп
;;;832    snmp_lakb_damp1[i][59]=0; 
;;;833    
;;;834    
;;;835    snmp_lakb_damp1[i][60]=ABCDEF[(lakb_damp[i][20])>>4];			//Дамп
;;;836    snmp_lakb_damp1[i][61]=ABCDEF[(lakb_damp[i][20])&0x0f];			//Дамп
;;;837    snmp_lakb_damp1[i][62]=' ';
;;;838    snmp_lakb_damp1[i][63]=ABCDEF[(lakb_damp[i][21])>>4];			//Дамп
;;;839    snmp_lakb_damp1[i][64]=ABCDEF[(lakb_damp[i][21])&0x0f];			//Дамп
;;;840    snmp_lakb_damp1[i][65]=' ';
;;;841    snmp_lakb_damp1[i][66]=ABCDEF[(lakb_damp[i][22])>>4];			//Дамп
;;;842    snmp_lakb_damp1[i][67]=ABCDEF[(lakb_damp[i][22])&0x0f];			//Дамп
;;;843    snmp_lakb_damp1[i][68]=' ';
;;;844    snmp_lakb_damp1[i][69]=ABCDEF[(lakb_damp[i][23])>>4];			//Дамп
;;;845    snmp_lakb_damp1[i][70]=ABCDEF[(lakb_damp[i][23])&0x0f];			//Дамп
;;;846    snmp_lakb_damp1[i][71]=' ';
;;;847    snmp_lakb_damp1[i][72]=ABCDEF[(lakb_damp[i][24])>>4];			//Дамп
;;;848    snmp_lakb_damp1[i][73]=ABCDEF[(lakb_damp[i][24])&0x0f];			//Дамп
;;;849    snmp_lakb_damp1[i][74]=' '; 
;;;850    snmp_lakb_damp1[i][75]=ABCDEF[(lakb_damp[i][25])>>4];			//Дамп
;;;851    snmp_lakb_damp1[i][76]=ABCDEF[(lakb_damp[i][25])&0x0f];			//Дамп
;;;852    snmp_lakb_damp1[i][77]=' ';
;;;853    snmp_lakb_damp1[i][78]=ABCDEF[(lakb_damp[i][26])>>4];			//Дамп
;;;854    snmp_lakb_damp1[i][79]=ABCDEF[(lakb_damp[i][26])&0x0f];			//Дамп
;;;855    snmp_lakb_damp1[i][80]=' ';
;;;856    snmp_lakb_damp1[i][81]=ABCDEF[(lakb_damp[i][27])>>4];			//Дамп
;;;857    snmp_lakb_damp1[i][82]=ABCDEF[(lakb_damp[i][27])&0x0f];			//Дамп
;;;858    snmp_lakb_damp1[i][83]=' ';
;;;859    snmp_lakb_damp1[i][84]=ABCDEF[(lakb_damp[i][28])>>4];			//Дамп
;;;860    snmp_lakb_damp1[i][85]=ABCDEF[(lakb_damp[i][28])&0x0f];			//Дамп
;;;861    snmp_lakb_damp1[i][86]=' ';
;;;862    snmp_lakb_damp1[i][87]=ABCDEF[(lakb_damp[i][29])>>4];			//Дамп
;;;863    snmp_lakb_damp1[i][88]=ABCDEF[(lakb_damp[i][29])&0x0f];			//Дамп
;;;864    snmp_lakb_damp1[i][89]=0;
;;;865    
;;;866    
;;;867    snmp_lakb_damp1[i][90]=ABCDEF[(lakb_damp[i][30])>>4];			//Дамп
;;;868    snmp_lakb_damp1[i][91]=ABCDEF[(lakb_damp[i][30])&0x0f];			//Дамп
;;;869    snmp_lakb_damp1[i][92]=' ';
;;;870    snmp_lakb_damp1[i][93]=ABCDEF[(lakb_damp[i][31])>>4];			//Дамп
;;;871    snmp_lakb_damp1[i][94]=ABCDEF[(lakb_damp[i][31])&0x0f];			//Дамп
;;;872    snmp_lakb_damp1[i][95]=' ';
;;;873    snmp_lakb_damp1[i][96]=ABCDEF[(lakb_damp[i][32])>>4];			//Дамп
;;;874    snmp_lakb_damp1[i][97]=ABCDEF[(lakb_damp[i][32])&0x0f];			//Дамп
;;;875    snmp_lakb_damp1[i][98]=' ';
;;;876    snmp_lakb_damp1[i][99]=ABCDEF[(lakb_damp[i][33])>>4];			//Дамп
;;;877    snmp_lakb_damp1[i][100]=ABCDEF[(lakb_damp[i][33])&0x0f];			//Дамп
;;;878    snmp_lakb_damp1[i][101]=' ';
;;;879    snmp_lakb_damp1[i][102]=ABCDEF[(lakb_damp[i][34])>>4];			//Дамп
;;;880    snmp_lakb_damp1[i][103]=ABCDEF[(lakb_damp[i][34])&0x0f];			//Дамп
;;;881    snmp_lakb_damp1[i][104]=' '; 
;;;882    snmp_lakb_damp1[i][105]=ABCDEF[(lakb_damp[i][35])>>4];			//Дамп
;;;883    snmp_lakb_damp1[i][106]=ABCDEF[(lakb_damp[i][35])&0x0f];			//Дамп
;;;884    snmp_lakb_damp1[i][107]=' ';
;;;885    snmp_lakb_damp1[i][108]=ABCDEF[(lakb_damp[i][36])>>4];			//Дамп
;;;886    snmp_lakb_damp1[i][109]=ABCDEF[(lakb_damp[i][36])&0x0f];			//Дамп
;;;887    snmp_lakb_damp1[i][110]=' ';
;;;888    snmp_lakb_damp1[i][111]=ABCDEF[(lakb_damp[i][37])>>4];			//Дамп
;;;889    snmp_lakb_damp1[i][112]=ABCDEF[(lakb_damp[i][37])&0x0f];			//Дамп
;;;890    snmp_lakb_damp1[i][113]=' ';
;;;891    snmp_lakb_damp1[i][114]=ABCDEF[(lakb_damp[i][38])>>4];			//Дамп
;;;892    snmp_lakb_damp1[i][115]=ABCDEF[(lakb_damp[i][38])&0x0f];			//Дамп
;;;893    snmp_lakb_damp1[i][116]=' ';
;;;894    snmp_lakb_damp1[i][117]=ABCDEF[(lakb_damp[i][39])>>4];			//Дамп
;;;895    snmp_lakb_damp1[i][118]=ABCDEF[(lakb_damp[i][39])&0x0f];			//Дамп
;;;896    snmp_lakb_damp1[i][119]=0; 
;;;897     
;;;898    
;;;899    snmp_lakb_damp1[i][120]=ABCDEF[(lakb_damp[i][40])>>4];			//Дамп
;;;900    snmp_lakb_damp1[i][121]=ABCDEF[(lakb_damp[i][40])&0x0f];			//Дамп
;;;901    snmp_lakb_damp1[i][122]=' ';
;;;902    snmp_lakb_damp1[i][123]=ABCDEF[(lakb_damp[i][41])>>4];			//Дамп
;;;903    snmp_lakb_damp1[i][124]=ABCDEF[(lakb_damp[i][41])&0x0f];			//Дамп
;;;904    snmp_lakb_damp1[i][125]=' ';
;;;905    snmp_lakb_damp1[i][126]=ABCDEF[(lakb_damp[i][42])>>4];			//Дамп
;;;906    snmp_lakb_damp1[i][127]=ABCDEF[(lakb_damp[i][42])&0x0f];			//Дамп
;;;907    snmp_lakb_damp1[i][128]=' ';
;;;908    snmp_lakb_damp1[i][129]=ABCDEF[(lakb_damp[i][43])>>4];			//Дамп
;;;909    snmp_lakb_damp1[i][130]=ABCDEF[(lakb_damp[i][43])&0x0f];			//Дамп
;;;910    snmp_lakb_damp1[i][131]=' ';
;;;911    snmp_lakb_damp1[i][132]=ABCDEF[(lakb_damp[i][44])>>4];			//Дамп
;;;912    snmp_lakb_damp1[i][133]=ABCDEF[(lakb_damp[i][44])&0x0f];			//Дамп
;;;913    snmp_lakb_damp1[i][134]=' '; 
;;;914    snmp_lakb_damp1[i][135]=ABCDEF[(lakb_damp[i][45])>>4];			//Дамп
;;;915    snmp_lakb_damp1[i][136]=ABCDEF[(lakb_damp[i][45])&0x0f];			//Дамп
;;;916    snmp_lakb_damp1[i][137]=' ';
;;;917    snmp_lakb_damp1[i][138]=ABCDEF[(lakb_damp[i][46])>>4];			//Дамп
;;;918    snmp_lakb_damp1[i][139]=ABCDEF[(lakb_damp[i][46])&0x0f];			//Дамп
;;;919    snmp_lakb_damp1[i][140]=' ';
;;;920    snmp_lakb_damp1[i][141]=ABCDEF[(lakb_damp[i][47])>>4];			//Дамп
;;;921    snmp_lakb_damp1[i][142]=ABCDEF[(lakb_damp[i][47])&0x0f];			//Дамп
;;;922    snmp_lakb_damp1[i][143]=' ';
;;;923    snmp_lakb_damp1[i][144]=ABCDEF[(lakb_damp[i][48])>>4];			//Дамп
;;;924    snmp_lakb_damp1[i][145]=ABCDEF[(lakb_damp[i][48])&0x0f];			//Дамп
;;;925    snmp_lakb_damp1[i][146]=' ';
;;;926    snmp_lakb_damp1[i][147]=ABCDEF[(lakb_damp[i][49])>>4];			//Дамп
;;;927    snmp_lakb_damp1[i][148]=ABCDEF[(lakb_damp[i][49])&0x0f];			//Дамп
;;;928    snmp_lakb_damp1[i][149]=0;  */
;;;929    }
;;;930    
;;;931    #ifdef UKU_TELECORE2017
;;;932    snmp_warm_sign=0;
;;;933    if(TELECORE2017_KLIMAT_WARM_SIGNAL==0) snmp_warm_sign=2;
;;;934    else if(TELECORE2017_KLIMAT_WARM_SIGNAL==1) snmp_warm_sign=1;
;;;935    snmp_cool_sign=0;
;;;936    if(TELECORE2017_KLIMAT_VENT_SIGNAL==0) snmp_cool_sign=2;
;;;937    else if(TELECORE2017_KLIMAT_VENT_SIGNAL==1) snmp_cool_sign=1;
;;;938    snmp_warm_on_temper=(signed char)TELECORE2017_KLIMAT_WARM_ON; 
;;;939    snmp_warm_off_temper=(signed char)TELECORE2017_KLIMAT_WARM_OFF;
;;;940    snmp_warm_q=(signed char)TELECORE2017_KLIMAT_CAP;	
;;;941    snmp_cool_20_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON20;
;;;942    snmp_cool_40_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON40;
;;;943    snmp_cool_60_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON60;
;;;944    snmp_cool_80_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON80;
;;;945    snmp_cool_100_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON100;
;;;946    snmp_cool_20_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON20;
;;;947    snmp_cool_40_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON40;
;;;948    snmp_cool_60_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON60;
;;;949    snmp_cool_80_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON80;
;;;950    snmp_cool_100_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON100;
;;;951    snmp_warm_stat=0;
;;;952    if(warm_stat_k==wsON) snmp_warm_stat=1;
;;;953    #endif
;;;954    }
;;;955    //-----------------------------------------------
                          ENDP

000012  0000              DCW      0x0000
                  |L15.20|
                          DCD      ||.data||+0x80

                          AREA ||area_number.16||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.16||, ||.text||
                  snmp_klimat_settings_load_on_write PROC
;;;261    //-----------------------------------------------
;;;262    void snmp_data (void) 
000000  2801              CMP      r0,#1
;;;263    {
000002  d105              BNE      |L16.16|
;;;264    char i;
;;;265    
;;;266    snmp_mains_power_voltage=net_U;
000004  4803              LDR      r0,|L16.20|
000006  f9b01006          LDRSH    r1,[r0,#6]  ; snmp_klimat_settings_load_on
00000a  20d8              MOVS     r0,#0xd8
00000c  f7ffbffe          B.W      lc640_write_int
                  |L16.16|
;;;267    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;268    snmp_mains_power_frequency=net_F3;
000010  4770              BX       lr
;;;269    #else
;;;270    snmp_mains_power_frequency=net_F;
;;;271    #endif
;;;272    snmp_mains_power_voltage_phaseA=net_Ua;
;;;273    snmp_mains_power_voltage_phaseB=net_Ub;
;;;274    snmp_mains_power_voltage_phaseC=net_Uc;
;;;275    
;;;276    
;;;277    if(avar_stat&0x0001)snmp_mains_power_alarm=1;
;;;278    else snmp_mains_power_alarm=0;
;;;279    if(avar_stat&0x0001)snmp_mains_power_status=1;
;;;280    else snmp_mains_power_status=0;
;;;281    
;;;282    /*
;;;283    snmp_mains_power_status=0; 
;;;284    #if(UKU_VERSION==900)
;;;285    snmp_mains_power_status=2;
;;;286    #endif
;;;287    if(St&0x01)snmp_mains_power_status|=0x01;
;;;288    if(St&0x01)snmp_mains_power_alarm=1;
;;;289    
;;;290    
;;;291    
;;;292    
;;;293    
;;;294    
;;;295    for(i=0;i<snmp_numofevents;i++)event2snmp(i);
;;;296    //snmp_bpsnumber[0]=1;
;;;297    //snmp_bpsnumber[1]=2;
;;;298    
;;;299    
;;;300    snmp_sernum_lsb=0x1122;
;;;301    snmp_sernum_msb=0x3344;
;;;302    snmp_device_code=AUSW_MAIN;
;;;303    
;;;304    //memcpy(snmp_location,"lkhg;la",);
;;;305    
;;;306    
;;;307    snmp_numofbat=1;
;;;308    
;;;309    */
;;;310    snmp_sernum=AUSW_MAIN_NUMBER;
;;;311    
;;;312    snmp_load_voltage=load_U;
;;;313    snmp_load_current=load_I;
;;;314    snmp_numofbat=NUMBAT;
;;;315    snmp_numofbps=NUMIST;
;;;316    snmp_numofinv=NUMINV;
;;;317    snmp_numofavt=NUMAVT;
;;;318    snmp_numofdt=NUMDT;
;;;319    snmp_numofsk=NUMSK;
;;;320    snmp_numofevents=lc640_read_int(CNT_EVENT_LOG);
;;;321    
;;;322    snmp_energy_vvod_phase_a=Uvv_eb2[0];
;;;323    snmp_energy_vvod_phase_b=Uvv_eb2[1];
;;;324    snmp_energy_vvod_phase_c=Uvv_eb2[2];
;;;325    snmp_energy_pes_phase_a=Upes_eb2[0];
;;;326    snmp_energy_pes_phase_b=Upes_eb2[1];
;;;327    snmp_energy_pes_phase_c=Upes_eb2[2];
;;;328    
;;;329    #ifdef UKU_KONTUR
;;;330    snmp_energy_vvod_phase_a=Uvv0;
;;;331    snmp_energy_pes_phase_a=Uvv[1];
;;;332    #endif
;;;333    
;;;334    snmp_energy_total_energy=power_summary;
;;;335    snmp_energy_current_energy=power_current;
;;;336    snmp_energy_input_voltage=net_U;
;;;337    
;;;338    
;;;339    #ifdef UKU_ZVU
;;;340    snmp_bat_number[0]=1;
;;;341    snmp_bat_voltage[0]=out_U;
;;;342    snmp_bat_current[0]=Ib_ips_termokompensat;
;;;343    snmp_bat_rem_time[0]=bat_hndl_t_razr_min;
;;;344    if(Ib_ips_termokompensat>0)snmp_bat_rem_time[0]=-1;
;;;345    snmp_bat_temperature[0]=t_ext[0];
;;;346    if(ND_EXT[0])snmp_bat_temperature[0]=-1000;
;;;347    snmp_bat_capacity[0]=BAT_C_POINT_20;
;;;348    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;349    snmp_bat_status[0]=bat_ips._av&1;
;;;350    if(NUMBAT==0)snmp_bat_status[0]=0xff;
;;;351    #endif
;;;352    
;;;353    #ifndef UKU_ZVU
;;;354    snmp_bat_number[0]=1;
;;;355    snmp_bat_voltage[0]=bat[0]._Ub;
;;;356    snmp_bat_part_voltage[0]=bat[0]._Ubm;
;;;357    snmp_bat_current[0]=bat[0]._Ib;
;;;358    
;;;359    /*
;;;360    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;361    if(((AUSW_MAIN==22063)||(AUSW_MAIN==22023))&&(bps[8]._device==dIBAT_METR))
;;;362    	{
;;;363    	snmp_bat_current[0]=Ib_ips_termokompensat;
;;;364    	}
;;;365    #endif*/
;;;366    
;;;367    snmp_bat_temperature[0]=bat[0]._Tb;
;;;368    if(bat[0]._nd) snmp_bat_temperature[0]=-1000;
;;;369    
;;;370    if(BAT_C_REAL[0]==0x5555)snmp_bat_capacity[0]=BAT_C_NOM[0];
;;;371    else snmp_bat_capacity[0]=BAT_C_REAL[0];
;;;372    /*
;;;373    #ifdef UKU_ZVU
;;;374    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;375    
;;;376    #else
;;;377    snmp_bat_charge[0]=bat[0]._zar;
;;;378    #endif */
;;;379    snmp_bat_charge[0]=bat[0]._zar;
;;;380    snmp_bat_status[0]=bat[0]._av;
;;;381    if(BAT_IS_ON[0]!=bisON)snmp_bat_status[0]=0xff;
;;;382    
;;;383    
;;;384    snmp_bat_number[1]=2;
;;;385    snmp_bat_voltage[1]=bat[1]._Ub;
;;;386    snmp_bat_part_voltage[1]=bat[1]._Ubm;
;;;387    snmp_bat_current[1]=bat[1]._Ib;
;;;388    snmp_bat_temperature[1]=bat[1]._Tb;
;;;389    if(bat[1]._nd) snmp_bat_temperature[1]=-1000;
;;;390    if(BAT_C_REAL[1]==0x5555)snmp_bat_capacity[1]=BAT_C_NOM[1];
;;;391    else snmp_bat_capacity[1]=BAT_C_REAL[1];
;;;392    snmp_bat_charge[1]=bat[1]._zar;
;;;393    snmp_bat_status[1]=bat[1]._av;
;;;394    if(BAT_IS_ON[1]!=bisON)snmp_bat_status[1]=0xff;
;;;395    #endif
;;;396    
;;;397    
;;;398    snmp_bps_number[0]=1;
;;;399    snmp_bps_voltage[0]=bps[0]._Uii;
;;;400    snmp_bps_current[0]=bps[0]._Ii;
;;;401    snmp_bps_temperature[0]=bps[0]._Ti;
;;;402    snmp_bps_stat[0]=bps[0]._av;
;;;403    if(!(NUMIST>0))snmp_bps_stat[0]=0xff;												//Байт состояния БПСа.
;;;404    
;;;405    /*if(St_[0]&(1<<2))snmp_bps_stat[0]=(1<<3); 							//авария по Umin
;;;406    else if(St_[0]&(1<<3))snmp_bps_stat[0]=(1<<2); 						//авария по Umax
;;;407    else if(bps[0]._av&(1<<0))snmp_bps_stat[0]=(1<<1); 						//авария по Tmax
;;;408    else if(St_[0]&(1<<5))snmp_bps_stat[0]=(1<<5); 						//заблокирован
;;;409    else if((!(St_[0]&0x3c))&&(!St&0x01)&&(!OFFBP1))snmp_bps_stat[0]=1; 		//Работает
;;;410    */
;;;411    
;;;412    snmp_bps_number[1]=2;
;;;413    snmp_bps_voltage[1]=bps[1]._Uii;
;;;414    snmp_bps_current[1]=bps[1]._Ii;
;;;415    snmp_bps_temperature[1]=bps[1]._Ti;
;;;416    snmp_bps_stat[1]=bps[1]._av;
;;;417    if(!(NUMIST>1))snmp_bps_stat[1]=0xff;												//Байт состояния БПСа.
;;;418    /*if(St_[1]&(1<<2))snmp_bps_stat[1]=(1<<3); 							//авария по Umin
;;;419    else if(St_[1]&(1<<3))snmp_bps_stat[1]=(1<<2); 						//авария по Umax
;;;420    else if(St_[1]&(1<<4))snmp_bps_stat[1]=(1<<1); 						//авария по Tmax
;;;421    else if(St_[1]&(1<<5))snmp_bps_stat[1]=(1<<5); 						//заблокирован
;;;422    else if((!(St_[1]&0x3c))&&(!St&0x01)&&(!OFFBP2))snmp_bps_stat[1]=1; 		//Работает
;;;423    */
;;;424    
;;;425    snmp_bps_number[2]=3;
;;;426    snmp_bps_voltage[2]=bps[2]._Uii;
;;;427    snmp_bps_current[2]=bps[2]._Ii;
;;;428    snmp_bps_temperature[2]=bps[2]._Ti;
;;;429    snmp_bps_stat[2]=bps[2]._av;
;;;430    if(!(NUMIST>2))snmp_bps_stat[2]=0xff;
;;;431    
;;;432    snmp_bps_number[3]=4;
;;;433    snmp_bps_voltage[3]=bps[3]._Uii;
;;;434    snmp_bps_current[3]=bps[3]._Ii;
;;;435    snmp_bps_temperature[3]=bps[3]._Ti;
;;;436    snmp_bps_stat[3]=bps[3]._av;
;;;437    if(!(NUMIST>3))snmp_bps_stat[3]=0xff;
;;;438    
;;;439    snmp_bps_number[4]=5;
;;;440    snmp_bps_voltage[4]=bps[4]._Uii;
;;;441    snmp_bps_current[4]=bps[4]._Ii;
;;;442    snmp_bps_temperature[4]=bps[4]._Ti;
;;;443    snmp_bps_stat[4]=bps[4]._av;
;;;444    if(!(NUMIST>4))snmp_bps_stat[4]=0xff;
;;;445    
;;;446    snmp_bps_number[5]=6;
;;;447    snmp_bps_voltage[5]=bps[5]._Uii;
;;;448    snmp_bps_current[5]=bps[5]._Ii;
;;;449    snmp_bps_temperature[5]=bps[5]._Ti;
;;;450    snmp_bps_stat[5]=bps[5]._av;
;;;451    if(!(NUMIST>5))snmp_bps_stat[5]=0xff;
;;;452    
;;;453    snmp_bps_number[6]=7;
;;;454    snmp_bps_voltage[6]=bps[6]._Uii;
;;;455    snmp_bps_current[6]=bps[6]._Ii;
;;;456    snmp_bps_temperature[6]=bps[6]._Ti;
;;;457    snmp_bps_stat[6]=bps[6]._av;
;;;458    if(!(NUMIST>6))snmp_bps_stat[6]=0xff;
;;;459    
;;;460    snmp_bps_number[7]=8;
;;;461    snmp_bps_voltage[7]=bps[7]._Uii;
;;;462    snmp_bps_current[7]=bps[7]._Ii;
;;;463    snmp_bps_temperature[7]=bps[7]._Ti;
;;;464    snmp_bps_stat[7]=bps[7]._av;
;;;465    if(!(NUMIST>7))snmp_bps_stat[7]=0xff;
;;;466    
;;;467    
;;;468    
;;;469    snmp_inv_number[0]=1;
;;;470    snmp_inv_voltage[0]=inv[0]._Uio;
;;;471    snmp_inv_current[0]=inv[0]._Ii;
;;;472    snmp_inv_temperature[0]=inv[0]._Ti;
;;;473    snmp_inv_stat[0]=inv[0]._flags_tm;
;;;474    
;;;475    snmp_inv_number[1]=2;
;;;476    snmp_inv_voltage[1]=inv[1]._Uio;
;;;477    snmp_inv_current[1]=inv[1]._Ii;
;;;478    snmp_inv_temperature[1]=inv[1]._Ti;
;;;479    snmp_inv_stat[1]=inv[1]._flags_tm;
;;;480    
;;;481    snmp_inv_number[2]=3;
;;;482    snmp_inv_voltage[2]=inv[2]._Uio;
;;;483    snmp_inv_current[2]=inv[2]._Ii;
;;;484    snmp_inv_temperature[2]=inv[2]._Ti;
;;;485    snmp_inv_stat[2]=inv[2]._flags_tm;
;;;486    
;;;487    
;;;488    
;;;489    
;;;490    					  
;;;491    snmp_sk_number[0]=1;
;;;492    memcpy(&snmp_sk_name[0][0],"Door",10);
;;;493    if(sk_stat[0]==ssON) snmp_sk_aktiv[0]=1;
;;;494    else snmp_sk_aktiv[0]=0;
;;;495    if(!SK_SIGN[0])snmp_sk_alarm_aktiv[0]=1;
;;;496    else snmp_sk_alarm_aktiv[0]=0;
;;;497    if(sk_av_stat[0]==sasON)	snmp_sk_alarm[0]=1;
;;;498    else                     snmp_sk_alarm[0]=0;
;;;499    
;;;500    
;;;501    snmp_sk_number[1]=2;
;;;502    memcpy(&snmp_sk_name[1][0],"Smoke",10);
;;;503    if(sk_stat[1]==ssON) snmp_sk_aktiv[1]=1;
;;;504    else snmp_sk_aktiv[1]=0;
;;;505    if(!SK_SIGN[1])snmp_sk_alarm_aktiv[1]=1;
;;;506    else snmp_sk_alarm_aktiv[1]=0;
;;;507    if(sk_av_stat[1]==sasON)	snmp_sk_alarm[1]=1;
;;;508    else                     snmp_sk_alarm[1]=0;
;;;509    
;;;510    snmp_sk_number[2]=3;
;;;511    memcpy(&snmp_sk_name[2][0],"Shock",10);
;;;512    if(sk_stat[2]==ssON) snmp_sk_aktiv[2]=1;
;;;513    else snmp_sk_aktiv[2]=0;
;;;514    if(!SK_SIGN[2])snmp_sk_alarm_aktiv[2]=1;
;;;515    else snmp_sk_alarm_aktiv[2]=0;
;;;516    if(sk_av_stat[2]==sasON)	snmp_sk_alarm[2]=1;
;;;517    else                     snmp_sk_alarm[2]=0;
;;;518    
;;;519    snmp_sk_number[3]=4;
;;;520    memcpy(&snmp_sk_name[3][0],"     ",10);
;;;521    if(sk_stat[3]==ssON) snmp_sk_aktiv[3]=1;
;;;522    else snmp_sk_aktiv[3]=0;
;;;523    if(!SK_SIGN[3])snmp_sk_alarm_aktiv[3]=1;
;;;524    else snmp_sk_alarm_aktiv[3]=0;
;;;525    if(sk_av_stat[3]==sasON)	snmp_sk_alarm[3]=1;
;;;526    else                     snmp_sk_alarm[3]=0;
;;;527    
;;;528    
;;;529    if(makb[0]._cnt>8) snmp_makb_connect_status[0]=1;
;;;530    else if(makb[0]._cnt<2) snmp_makb_connect_status[0]=0;
;;;531    if(makb[1]._cnt>8) snmp_makb_connect_status[1]=1;
;;;532    else if(makb[1]._cnt<2) snmp_makb_connect_status[1]=0;
;;;533    if(makb[2]._cnt>8) snmp_makb_connect_status[2]=1;
;;;534    else if(makb[2]._cnt<2) snmp_makb_connect_status[2]=0;
;;;535    if(makb[3]._cnt>8) snmp_makb_connect_status[3]=1;
;;;536    else if(makb[3]._cnt<2) snmp_makb_connect_status[3]=0;
;;;537    
;;;538    snmp_makb_voltage0[0]=makb[0]._Ub[0];
;;;539    snmp_makb_voltage1[0]=makb[0]._Ub[1];
;;;540    snmp_makb_voltage2[0]=makb[0]._Ub[2];
;;;541    snmp_makb_voltage3[0]=makb[0]._Ub[3];
;;;542    snmp_makb_voltage4[0]=makb[0]._Ub[4];
;;;543    snmp_makb_voltage0[1]=makb[1]._Ub[0];
;;;544    snmp_makb_voltage1[1]=makb[1]._Ub[1];
;;;545    snmp_makb_voltage2[1]=makb[1]._Ub[2];
;;;546    snmp_makb_voltage3[1]=makb[1]._Ub[3];
;;;547    snmp_makb_voltage4[1]=makb[1]._Ub[4];
;;;548    snmp_makb_voltage0[2]=makb[2]._Ub[0];
;;;549    snmp_makb_voltage1[2]=makb[2]._Ub[1];
;;;550    snmp_makb_voltage2[2]=makb[2]._Ub[2];
;;;551    snmp_makb_voltage3[2]=makb[2]._Ub[3];
;;;552    snmp_makb_voltage4[2]=makb[2]._Ub[4];
;;;553    snmp_makb_voltage0[3]=makb[3]._Ub[0];
;;;554    snmp_makb_voltage1[3]=makb[3]._Ub[1];
;;;555    snmp_makb_voltage2[3]=makb[3]._Ub[2];
;;;556    snmp_makb_voltage3[3]=makb[3]._Ub[3];
;;;557    snmp_makb_voltage4[3]=makb[3]._Ub[4];
;;;558    
;;;559    snmp_makb_temper0[0]=makb[0]._T[0];
;;;560    snmp_makb_temper1[0]=makb[0]._T[1];
;;;561    snmp_makb_temper2[0]=makb[0]._T[2];
;;;562    snmp_makb_temper3[0]=makb[0]._T[3];
;;;563    snmp_makb_temper4[0]=makb[0]._T[4];
;;;564    snmp_makb_temper0[1]=makb[1]._T[0];
;;;565    snmp_makb_temper1[1]=makb[1]._T[1];
;;;566    snmp_makb_temper2[1]=makb[1]._T[2];
;;;567    snmp_makb_temper3[1]=makb[1]._T[3];
;;;568    snmp_makb_temper4[1]=makb[1]._T[4];
;;;569    snmp_makb_temper0[2]=makb[2]._T[0];
;;;570    snmp_makb_temper1[2]=makb[2]._T[1];
;;;571    snmp_makb_temper2[2]=makb[2]._T[2];
;;;572    snmp_makb_temper3[2]=makb[2]._T[3];
;;;573    snmp_makb_temper4[2]=makb[2]._T[4];
;;;574    snmp_makb_temper0[3]=makb[3]._T[0];
;;;575    snmp_makb_temper1[3]=makb[3]._T[1];
;;;576    snmp_makb_temper2[3]=makb[3]._T[2];
;;;577    snmp_makb_temper3[3]=makb[3]._T[3];
;;;578    snmp_makb_temper4[3]=makb[3]._T[4];
;;;579    
;;;580    snmp_makb_temper0_stat[0]=makb[0]._T_nd[0];
;;;581    snmp_makb_temper1_stat[0]=makb[0]._T_nd[1];
;;;582    snmp_makb_temper2_stat[0]=makb[0]._T_nd[2];
;;;583    snmp_makb_temper3_stat[0]=makb[0]._T_nd[3];
;;;584    snmp_makb_temper4_stat[0]=makb[0]._T_nd[4];
;;;585    snmp_makb_temper0_stat[1]=makb[1]._T_nd[0];
;;;586    snmp_makb_temper1_stat[1]=makb[1]._T_nd[1];
;;;587    snmp_makb_temper2_stat[1]=makb[1]._T_nd[2];
;;;588    snmp_makb_temper3_stat[1]=makb[1]._T_nd[3];
;;;589    snmp_makb_temper4_stat[1]=makb[1]._T_nd[4];
;;;590    snmp_makb_temper0_stat[2]=makb[2]._T_nd[0];
;;;591    snmp_makb_temper1_stat[2]=makb[2]._T_nd[1];
;;;592    snmp_makb_temper2_stat[2]=makb[2]._T_nd[2];
;;;593    snmp_makb_temper3_stat[2]=makb[2]._T_nd[3];
;;;594    snmp_makb_temper4_stat[2]=makb[2]._T_nd[4];
;;;595    snmp_makb_temper0_stat[3]=makb[3]._T_nd[0];
;;;596    snmp_makb_temper1_stat[3]=makb[3]._T_nd[1];
;;;597    snmp_makb_temper2_stat[3]=makb[3]._T_nd[2];
;;;598    snmp_makb_temper3_stat[3]=makb[3]._T_nd[3];
;;;599    snmp_makb_temper4_stat[3]=makb[3]._T_nd[4];
;;;600    
;;;601    
;;;602    snmp_klimat_box_temper=t_box;
;;;603    snmp_klimat_settings_box_alarm=TBOXMAX;
;;;604    snmp_klimat_settings_vent_on=TBOXVENTON;
;;;605    snmp_klimat_settings_vent_off=TBOXVENTOFF;
;;;606    snmp_klimat_settings_warm_on=TBOXWARMON;
;;;607    snmp_klimat_settings_warm_off=TBOXWARMOFF;
;;;608    snmp_klimat_settings_load_on=TLOADENABLE;
;;;609    snmp_klimat_settings_load_off=TLOADDISABLE;
;;;610    snmp_klimat_settings_batt_on=TBATENABLE;
;;;611    snmp_klimat_settings_batt_off=TBATDISABLE;
;;;612    
;;;613    snmp_dt_ext=t_ext[0];
;;;614    snmp_dt_msan=t_ext[1];
;;;615    snmp_dt_epu=t_ext[2];
;;;616    
;;;617    /*
;;;618    snmp_bat_voltage=Ubat;
;;;619    snmp_bat_current=Ibat;
;;;620    snmp_bat_temperature=t_b;
;;;621    if(BAT_C_REAL==0x5555)
;;;622    	{
;;;623    	snmp_bat_capacity=BAT_C_NOM*10;												    11
;;;624    	}
;;;625    else
;;;626    	{
;;;627    	snmp_bat_capacity=BAT_C_REAL;
;;;628    	}
;;;629    snmp_bat_charge=zar_percent;
;;;630    snmp_bat_status=0;
;;;631    if(St&0x02)snmp_bat_status|=0x01;
;;;632    if(Ibat>0)snmp_bat_status|=0x02;
;;;633    
;;;634    
;;;635    if(spc_stat==spc_OFF) snmp_spc_stat=0;
;;;636    else if(spc_stat==spc_KE) snmp_spc_stat=1;
;;;637    else if(spc_stat==spc_VZ) snmp_spc_stat=10;
;;;638    
;;;639    
;;;640    snmp_main_bps=MAIN_IST+1;
;;;641    */
;;;642    snmp_zv_en=ZV_ON;
;;;643    snmp_alarm_auto_disable=AV_OFF_AVT;
;;;644    snmp_bat_test_time=TBAT;
;;;645    snmp_u_max=UMAX;
;;;646    snmp_u_min=UB20-DU;
;;;647    snmp_u_0_grad=UB0;
;;;648    snmp_u_20_grad=UB20;
;;;649    snmp_u_sign=USIGN;
;;;650    snmp_u_min_power=UMN;
;;;651    snmp_u_withouth_bat=U0B;
;;;652    snmp_control_current=IKB;
;;;653    snmp_max_charge_current=IZMAX;
;;;654    snmp_max_current=IMAX;
;;;655    snmp_min_current=IMIN;
;;;656    //snmp_max_current_koef=KIMAX;
;;;657    snmp_uvz=UVZ;
;;;658    snmp_powerup_psu_timeout=TZAS;
;;;659    snmp_max_temperature=TMAX;
;;;660    snmp_tsign_bat=TBATSIGN; 
;;;661    snmp_tmax_bat=TBATMAX;
;;;662    snmp_tsign_bps=TSIGN;
;;;663    snmp_tmax_bps=TMAX;
;;;664    snmp_bat_part_alarm=UBM_AV; 
;;;665    snmp_power_cnt_adress=POWER_CNT_ADRESS;
;;;666    
;;;667    for(i=0;i<12;i++)
;;;668    	{
;;;669    	snmp_avt_number[i]=i+1;
;;;670    	if(avt_stat[i]==avtOFF)snmp_avt_stat[i]=0;
;;;671    	else snmp_avt_stat[i]=1;
;;;672    	}
;;;673    
;;;674    snmp_dt_number[0]=1;
;;;675    snmp_dt_number[1]=2;
;;;676    snmp_dt_number[2]=3;
;;;677    //snmp_dt_number[3]=4;
;;;678    snmp_dt_temper[0]=t_ext[0];
;;;679    snmp_dt_temper[1]=t_ext[1];
;;;680    snmp_dt_temper[2]=t_ext[2];
;;;681    //snmp_dt_temper[3]=t_ext[3];
;;;682    snmp_dt_error[0]=ND_EXT[0];
;;;683    if(NUMDT<1)snmp_dt_error[0]=0xff;
;;;684    snmp_dt_error[1]=ND_EXT[1];
;;;685    if(NUMDT<2)snmp_dt_error[0]=0xff;
;;;686    snmp_dt_error[2]=ND_EXT[2];
;;;687    if(NUMDT<3)snmp_dt_error[0]=0xff;
;;;688    //snmp_dt_error[3]=ND_EXT[3];
;;;689    if(NUMDT<4)snmp_dt_error[0]=0xff;
;;;690    
;;;691    /*
;;;692    //Литиевые батареи
;;;693    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;694    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;695    snmp_lakb_voltage[0]=lakb[0]._tot_bat_volt;				//Напряжение ЛАКБ
;;;696    snmp_lakb_voltage[1]=lakb[1]._tot_bat_volt;				//Напряжение ЛАКБ
;;;697    snmp_lakb_max_cell_voltage[0]=lakb[0]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;698    snmp_lakb_max_cell_voltage[1]=lakb[1]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;699    snmp_lakb_min_cell_voltage[0]=lakb[0]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;700    snmp_lakb_min_cell_voltage[1]=lakb[1]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;701    snmp_lakb_max_cell_temperature[0]=lakb[0]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;702    snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;703    snmp_lakb_min_cell_temperature[0]=lakb[0]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;704    snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;705    snmp_lakb_ch_curr[0]=lakb[0]._ch_curr;					//Ток заряда ЛАКБ
;;;706    snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;707    snmp_lakb_dsch_curr[0]=lakb[0]._dsch_curr;				//Ток разряда ЛАКБ
;;;708    snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;709    snmp_lakb_rat_cap[0]=lakb[0]._rat_cap;					//Номинальная емкость ЛАКБ
;;;710    snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;711    snmp_lakb_soh[0]=lakb[0]._s_o_h;						//Остаточная емкость ЛАКБ
;;;712    snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;713    snmp_lakb_soc[0]=lakb[0]._s_o_c;						//Заряд ЛАКБ
;;;714    snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;715    snmp_lakb_cclv[0]=lakb[0]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;716    snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;717    snmp_lakb_rbt[0]=lakb[0]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;718    snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;719    snmp_lakb_flags1[0]=lakb[0]._flags1;					//Первый флаг состояния ЛАКБ
;;;720    snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;721    snmp_lakb_flags2[0]=lakb[0]._flags2;					//Второй флаг состояния ЛАКБ
;;;722    snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ */
;;;723    
;;;724    //Литиевые батареи
;;;725    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;726    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;727    snmp_lakb_number[2]=3;								//Номер ЛАКБ
;;;728    snmp_lakb_number[3]=4;								//Номер ЛАКБ
;;;729    snmp_lakb_number[4]=5;								//Номер ЛАКБ
;;;730    snmp_lakb_number[5]=6;								//Номер ЛАКБ
;;;731    snmp_lakb_number[6]=7;								//Номер ЛАКБ
;;;732    
;;;733    for (i=0;i<3;i++)
;;;734    	{
;;;735    	snmp_lakb_voltage[i]=lakb[i]._tot_bat_volt;				//Напряжение ЛАКБ
;;;736    	snmp_lakb_max_cell_voltage[i]=lakb[i]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;737    	snmp_lakb_min_cell_voltage[i]=lakb[i]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;738    	snmp_lakb_max_cell_temperature[i]=lakb[i]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;739    	//snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;740    	snmp_lakb_min_cell_temperature[i]=lakb[i]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;741    	//snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;742    	snmp_lakb_ch_curr[i]=lakb[i]._ch_curr;					//Ток заряда ЛАКБ
;;;743    	//snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;744    	snmp_lakb_dsch_curr[i]=lakb[i]._dsch_curr;				//Ток разряда ЛАКБ
;;;745    	//snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;746    	snmp_lakb_rat_cap[i]=lakb[i]._rat_cap;					//Номинальная емкость ЛАКБ
;;;747    	//snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;748    	snmp_lakb_soh[i]=lakb[i]._s_o_h;						//Остаточная емкость ЛАКБ
;;;749    	//snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;750    	snmp_lakb_soc[i]=lakb[i]._s_o_c;						//Заряд ЛАКБ
;;;751    	//snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;752    	snmp_lakb_cclv[i]=lakb[i]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;753    	//snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;754    	snmp_lakb_rbt[i]=lakb[i]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;755    	//snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;756    	snmp_lakb_flags1[i]=lakb[i]._flags1;					//Первый флаг состояния ЛАКБ
;;;757    	//snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;758    	snmp_lakb_flags2[i]=lakb[i]._flags2;					//Второй флаг состояния ЛАКБ
;;;759    	//snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ
;;;760    
;;;761    	snmp_lakb_cell_temperature_1[i]= lakb[i]._cell_temp_1;
;;;762    	snmp_lakb_cell_temperature_2[i]= lakb[i]._cell_temp_2;
;;;763    	snmp_lakb_cell_temperature_3[i]= lakb[i]._cell_temp_3;
;;;764    	snmp_lakb_cell_temperature_4[i]= lakb[i]._cell_temp_4;
;;;765    	snmp_lakb_cell_temperature_ambient[i]=lakb[i]._cell_temp_ambient;
;;;766    	snmp_lakb_cell_temperature_power[i]=lakb[i]._cell_temp_power;
;;;767    	}
;;;768    
;;;769    for (i=0;i<7;i++)
;;;770    {
;;;771    /*
;;;772    snmp_lakb_damp1[i][0]=ABCDEF[(lakb_damp[i][0])>>4];			//Дамп
;;;773    snmp_lakb_damp1[i][1]=ABCDEF[(lakb_damp[i][0])&0x0f];			//Дамп
;;;774    snmp_lakb_damp1[i][2]=' ';
;;;775    snmp_lakb_damp1[i][3]=ABCDEF[(lakb_damp[i][1])>>4];			//Дамп
;;;776    snmp_lakb_damp1[i][4]=ABCDEF[(lakb_damp[i][1])&0x0f];			//Дамп
;;;777    snmp_lakb_damp1[i][5]=' ';
;;;778    snmp_lakb_damp1[i][6]=ABCDEF[(lakb_damp[i][2])>>4];			//Дамп
;;;779    snmp_lakb_damp1[i][7]=ABCDEF[(lakb_damp[i][2])&0x0f];			//Дамп
;;;780    snmp_lakb_damp1[i][8]=' ';
;;;781    snmp_lakb_damp1[i][9]=ABCDEF[(lakb_damp[i][3])>>4];			//Дамп
;;;782    snmp_lakb_damp1[i][10]=ABCDEF[(lakb_damp[i][3])&0x0f];			//Дамп
;;;783    snmp_lakb_damp1[i][11]=' ';
;;;784    snmp_lakb_damp1[i][12]=ABCDEF[(lakb_damp[i][4])>>4];			//Дамп
;;;785    snmp_lakb_damp1[i][13]=ABCDEF[(lakb_damp[i][4])&0x0f];			//Дамп
;;;786    snmp_lakb_damp1[i][14]=' '; 
;;;787    snmp_lakb_damp1[i][15]=ABCDEF[(lakb_damp[i][5])>>4];			//Дамп
;;;788    snmp_lakb_damp1[i][16]=ABCDEF[(lakb_damp[i][5])&0x0f];			//Дамп
;;;789    snmp_lakb_damp1[i][17]=' ';
;;;790    snmp_lakb_damp1[i][18]=ABCDEF[(lakb_damp[i][6])>>4];			//Дамп
;;;791    snmp_lakb_damp1[i][19]=ABCDEF[(lakb_damp[i][6])&0x0f];			//Дамп
;;;792    snmp_lakb_damp1[i][20]=' ';
;;;793    snmp_lakb_damp1[i][21]=ABCDEF[(lakb_damp[i][7])>>4];			//Дамп
;;;794    snmp_lakb_damp1[i][22]=ABCDEF[(lakb_damp[i][7])&0x0f];			//Дамп
;;;795    snmp_lakb_damp1[i][23]=' ';
;;;796    snmp_lakb_damp1[i][24]=ABCDEF[(lakb_damp[i][8])>>4];			//Дамп
;;;797    snmp_lakb_damp1[i][25]=ABCDEF[(lakb_damp[i][8])&0x0f];			//Дамп
;;;798    snmp_lakb_damp1[i][26]=' ';
;;;799    snmp_lakb_damp1[i][27]=ABCDEF[(lakb_damp[i][9])>>4];			//Дамп
;;;800    snmp_lakb_damp1[i][28]=ABCDEF[(lakb_damp[i][9])&0x0f];			//Дамп
;;;801    snmp_lakb_damp1[i][29]=0; 
;;;802    
;;;803    snmp_lakb_damp1[i][30]=ABCDEF[(lakb_damp[i][10])>>4];			//Дамп
;;;804    snmp_lakb_damp1[i][31]=ABCDEF[(lakb_damp[i][10])&0x0f];			//Дамп
;;;805    snmp_lakb_damp1[i][32]=' ';
;;;806    snmp_lakb_damp1[i][33]=ABCDEF[(lakb_damp[i][11])>>4];			//Дамп
;;;807    snmp_lakb_damp1[i][34]=ABCDEF[(lakb_damp[i][11])&0x0f];			//Дамп
;;;808    snmp_lakb_damp1[i][35]=' ';
;;;809    snmp_lakb_damp1[i][36]=ABCDEF[(lakb_damp[i][12])>>4];			//Дамп
;;;810    snmp_lakb_damp1[i][37]=ABCDEF[(lakb_damp[i][12])&0x0f];			//Дамп
;;;811    snmp_lakb_damp1[i][38]=' ';
;;;812    snmp_lakb_damp1[i][39]=ABCDEF[(lakb_damp[i][13])>>4];			//Дамп
;;;813    snmp_lakb_damp1[i][40]=ABCDEF[(lakb_damp[i][13])&0x0f];			//Дамп
;;;814    snmp_lakb_damp1[i][41]=' ';
;;;815    snmp_lakb_damp1[i][42]=ABCDEF[(lakb_damp[i][14])>>4];			//Дамп
;;;816    snmp_lakb_damp1[i][43]=ABCDEF[(lakb_damp[i][14])&0x0f];			//Дамп
;;;817    snmp_lakb_damp1[i][44]=' '; 
;;;818    snmp_lakb_damp1[i][45]=ABCDEF[(lakb_damp[i][15])>>4];			//Дамп
;;;819    snmp_lakb_damp1[i][46]=ABCDEF[(lakb_damp[i][15])&0x0f];			//Дамп
;;;820    snmp_lakb_damp1[i][47]=' ';
;;;821    snmp_lakb_damp1[i][48]=ABCDEF[(lakb_damp[i][16])>>4];			//Дамп
;;;822    snmp_lakb_damp1[i][49]=ABCDEF[(lakb_damp[i][16])&0x0f];			//Дамп
;;;823    snmp_lakb_damp1[i][50]=' ';
;;;824    snmp_lakb_damp1[i][51]=ABCDEF[(lakb_damp[i][17])>>4];			//Дамп
;;;825    snmp_lakb_damp1[i][52]=ABCDEF[(lakb_damp[i][17])&0x0f];			//Дамп
;;;826    snmp_lakb_damp1[i][53]=' ';
;;;827    snmp_lakb_damp1[i][54]=ABCDEF[(lakb_damp[i][18])>>4];			//Дамп
;;;828    snmp_lakb_damp1[i][55]=ABCDEF[(lakb_damp[i][18])&0x0f];			//Дамп
;;;829    snmp_lakb_damp1[i][56]=' ';
;;;830    snmp_lakb_damp1[i][57]=ABCDEF[(lakb_damp[i][19])>>4];			//Дамп
;;;831    snmp_lakb_damp1[i][58]=ABCDEF[(lakb_damp[i][19])&0x0f];			//Дамп
;;;832    snmp_lakb_damp1[i][59]=0; 
;;;833    
;;;834    
;;;835    snmp_lakb_damp1[i][60]=ABCDEF[(lakb_damp[i][20])>>4];			//Дамп
;;;836    snmp_lakb_damp1[i][61]=ABCDEF[(lakb_damp[i][20])&0x0f];			//Дамп
;;;837    snmp_lakb_damp1[i][62]=' ';
;;;838    snmp_lakb_damp1[i][63]=ABCDEF[(lakb_damp[i][21])>>4];			//Дамп
;;;839    snmp_lakb_damp1[i][64]=ABCDEF[(lakb_damp[i][21])&0x0f];			//Дамп
;;;840    snmp_lakb_damp1[i][65]=' ';
;;;841    snmp_lakb_damp1[i][66]=ABCDEF[(lakb_damp[i][22])>>4];			//Дамп
;;;842    snmp_lakb_damp1[i][67]=ABCDEF[(lakb_damp[i][22])&0x0f];			//Дамп
;;;843    snmp_lakb_damp1[i][68]=' ';
;;;844    snmp_lakb_damp1[i][69]=ABCDEF[(lakb_damp[i][23])>>4];			//Дамп
;;;845    snmp_lakb_damp1[i][70]=ABCDEF[(lakb_damp[i][23])&0x0f];			//Дамп
;;;846    snmp_lakb_damp1[i][71]=' ';
;;;847    snmp_lakb_damp1[i][72]=ABCDEF[(lakb_damp[i][24])>>4];			//Дамп
;;;848    snmp_lakb_damp1[i][73]=ABCDEF[(lakb_damp[i][24])&0x0f];			//Дамп
;;;849    snmp_lakb_damp1[i][74]=' '; 
;;;850    snmp_lakb_damp1[i][75]=ABCDEF[(lakb_damp[i][25])>>4];			//Дамп
;;;851    snmp_lakb_damp1[i][76]=ABCDEF[(lakb_damp[i][25])&0x0f];			//Дамп
;;;852    snmp_lakb_damp1[i][77]=' ';
;;;853    snmp_lakb_damp1[i][78]=ABCDEF[(lakb_damp[i][26])>>4];			//Дамп
;;;854    snmp_lakb_damp1[i][79]=ABCDEF[(lakb_damp[i][26])&0x0f];			//Дамп
;;;855    snmp_lakb_damp1[i][80]=' ';
;;;856    snmp_lakb_damp1[i][81]=ABCDEF[(lakb_damp[i][27])>>4];			//Дамп
;;;857    snmp_lakb_damp1[i][82]=ABCDEF[(lakb_damp[i][27])&0x0f];			//Дамп
;;;858    snmp_lakb_damp1[i][83]=' ';
;;;859    snmp_lakb_damp1[i][84]=ABCDEF[(lakb_damp[i][28])>>4];			//Дамп
;;;860    snmp_lakb_damp1[i][85]=ABCDEF[(lakb_damp[i][28])&0x0f];			//Дамп
;;;861    snmp_lakb_damp1[i][86]=' ';
;;;862    snmp_lakb_damp1[i][87]=ABCDEF[(lakb_damp[i][29])>>4];			//Дамп
;;;863    snmp_lakb_damp1[i][88]=ABCDEF[(lakb_damp[i][29])&0x0f];			//Дамп
;;;864    snmp_lakb_damp1[i][89]=0;
;;;865    
;;;866    
;;;867    snmp_lakb_damp1[i][90]=ABCDEF[(lakb_damp[i][30])>>4];			//Дамп
;;;868    snmp_lakb_damp1[i][91]=ABCDEF[(lakb_damp[i][30])&0x0f];			//Дамп
;;;869    snmp_lakb_damp1[i][92]=' ';
;;;870    snmp_lakb_damp1[i][93]=ABCDEF[(lakb_damp[i][31])>>4];			//Дамп
;;;871    snmp_lakb_damp1[i][94]=ABCDEF[(lakb_damp[i][31])&0x0f];			//Дамп
;;;872    snmp_lakb_damp1[i][95]=' ';
;;;873    snmp_lakb_damp1[i][96]=ABCDEF[(lakb_damp[i][32])>>4];			//Дамп
;;;874    snmp_lakb_damp1[i][97]=ABCDEF[(lakb_damp[i][32])&0x0f];			//Дамп
;;;875    snmp_lakb_damp1[i][98]=' ';
;;;876    snmp_lakb_damp1[i][99]=ABCDEF[(lakb_damp[i][33])>>4];			//Дамп
;;;877    snmp_lakb_damp1[i][100]=ABCDEF[(lakb_damp[i][33])&0x0f];			//Дамп
;;;878    snmp_lakb_damp1[i][101]=' ';
;;;879    snmp_lakb_damp1[i][102]=ABCDEF[(lakb_damp[i][34])>>4];			//Дамп
;;;880    snmp_lakb_damp1[i][103]=ABCDEF[(lakb_damp[i][34])&0x0f];			//Дамп
;;;881    snmp_lakb_damp1[i][104]=' '; 
;;;882    snmp_lakb_damp1[i][105]=ABCDEF[(lakb_damp[i][35])>>4];			//Дамп
;;;883    snmp_lakb_damp1[i][106]=ABCDEF[(lakb_damp[i][35])&0x0f];			//Дамп
;;;884    snmp_lakb_damp1[i][107]=' ';
;;;885    snmp_lakb_damp1[i][108]=ABCDEF[(lakb_damp[i][36])>>4];			//Дамп
;;;886    snmp_lakb_damp1[i][109]=ABCDEF[(lakb_damp[i][36])&0x0f];			//Дамп
;;;887    snmp_lakb_damp1[i][110]=' ';
;;;888    snmp_lakb_damp1[i][111]=ABCDEF[(lakb_damp[i][37])>>4];			//Дамп
;;;889    snmp_lakb_damp1[i][112]=ABCDEF[(lakb_damp[i][37])&0x0f];			//Дамп
;;;890    snmp_lakb_damp1[i][113]=' ';
;;;891    snmp_lakb_damp1[i][114]=ABCDEF[(lakb_damp[i][38])>>4];			//Дамп
;;;892    snmp_lakb_damp1[i][115]=ABCDEF[(lakb_damp[i][38])&0x0f];			//Дамп
;;;893    snmp_lakb_damp1[i][116]=' ';
;;;894    snmp_lakb_damp1[i][117]=ABCDEF[(lakb_damp[i][39])>>4];			//Дамп
;;;895    snmp_lakb_damp1[i][118]=ABCDEF[(lakb_damp[i][39])&0x0f];			//Дамп
;;;896    snmp_lakb_damp1[i][119]=0; 
;;;897     
;;;898    
;;;899    snmp_lakb_damp1[i][120]=ABCDEF[(lakb_damp[i][40])>>4];			//Дамп
;;;900    snmp_lakb_damp1[i][121]=ABCDEF[(lakb_damp[i][40])&0x0f];			//Дамп
;;;901    snmp_lakb_damp1[i][122]=' ';
;;;902    snmp_lakb_damp1[i][123]=ABCDEF[(lakb_damp[i][41])>>4];			//Дамп
;;;903    snmp_lakb_damp1[i][124]=ABCDEF[(lakb_damp[i][41])&0x0f];			//Дамп
;;;904    snmp_lakb_damp1[i][125]=' ';
;;;905    snmp_lakb_damp1[i][126]=ABCDEF[(lakb_damp[i][42])>>4];			//Дамп
;;;906    snmp_lakb_damp1[i][127]=ABCDEF[(lakb_damp[i][42])&0x0f];			//Дамп
;;;907    snmp_lakb_damp1[i][128]=' ';
;;;908    snmp_lakb_damp1[i][129]=ABCDEF[(lakb_damp[i][43])>>4];			//Дамп
;;;909    snmp_lakb_damp1[i][130]=ABCDEF[(lakb_damp[i][43])&0x0f];			//Дамп
;;;910    snmp_lakb_damp1[i][131]=' ';
;;;911    snmp_lakb_damp1[i][132]=ABCDEF[(lakb_damp[i][44])>>4];			//Дамп
;;;912    snmp_lakb_damp1[i][133]=ABCDEF[(lakb_damp[i][44])&0x0f];			//Дамп
;;;913    snmp_lakb_damp1[i][134]=' '; 
;;;914    snmp_lakb_damp1[i][135]=ABCDEF[(lakb_damp[i][45])>>4];			//Дамп
;;;915    snmp_lakb_damp1[i][136]=ABCDEF[(lakb_damp[i][45])&0x0f];			//Дамп
;;;916    snmp_lakb_damp1[i][137]=' ';
;;;917    snmp_lakb_damp1[i][138]=ABCDEF[(lakb_damp[i][46])>>4];			//Дамп
;;;918    snmp_lakb_damp1[i][139]=ABCDEF[(lakb_damp[i][46])&0x0f];			//Дамп
;;;919    snmp_lakb_damp1[i][140]=' ';
;;;920    snmp_lakb_damp1[i][141]=ABCDEF[(lakb_damp[i][47])>>4];			//Дамп
;;;921    snmp_lakb_damp1[i][142]=ABCDEF[(lakb_damp[i][47])&0x0f];			//Дамп
;;;922    snmp_lakb_damp1[i][143]=' ';
;;;923    snmp_lakb_damp1[i][144]=ABCDEF[(lakb_damp[i][48])>>4];			//Дамп
;;;924    snmp_lakb_damp1[i][145]=ABCDEF[(lakb_damp[i][48])&0x0f];			//Дамп
;;;925    snmp_lakb_damp1[i][146]=' ';
;;;926    snmp_lakb_damp1[i][147]=ABCDEF[(lakb_damp[i][49])>>4];			//Дамп
;;;927    snmp_lakb_damp1[i][148]=ABCDEF[(lakb_damp[i][49])&0x0f];			//Дамп
;;;928    snmp_lakb_damp1[i][149]=0;  */
;;;929    }
;;;930    
;;;931    #ifdef UKU_TELECORE2017
;;;932    snmp_warm_sign=0;
;;;933    if(TELECORE2017_KLIMAT_WARM_SIGNAL==0) snmp_warm_sign=2;
;;;934    else if(TELECORE2017_KLIMAT_WARM_SIGNAL==1) snmp_warm_sign=1;
;;;935    snmp_cool_sign=0;
;;;936    if(TELECORE2017_KLIMAT_VENT_SIGNAL==0) snmp_cool_sign=2;
;;;937    else if(TELECORE2017_KLIMAT_VENT_SIGNAL==1) snmp_cool_sign=1;
;;;938    snmp_warm_on_temper=(signed char)TELECORE2017_KLIMAT_WARM_ON; 
;;;939    snmp_warm_off_temper=(signed char)TELECORE2017_KLIMAT_WARM_OFF;
;;;940    snmp_warm_q=(signed char)TELECORE2017_KLIMAT_CAP;	
;;;941    snmp_cool_20_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON20;
;;;942    snmp_cool_40_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON40;
;;;943    snmp_cool_60_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON60;
;;;944    snmp_cool_80_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON80;
;;;945    snmp_cool_100_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON100;
;;;946    snmp_cool_20_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON20;
;;;947    snmp_cool_40_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON40;
;;;948    snmp_cool_60_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON60;
;;;949    snmp_cool_80_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON80;
;;;950    snmp_cool_100_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON100;
;;;951    snmp_warm_stat=0;
;;;952    if(warm_stat_k==wsON) snmp_warm_stat=1;
;;;953    #endif
;;;954    }
;;;955    //-----------------------------------------------
                          ENDP

000012  0000              DCW      0x0000
                  |L16.20|
                          DCD      ||.data||+0x80

                          AREA ||area_number.17||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.17||, ||.text||
                  snmp_klimat_settings_load_off_write PROC
;;;261    //-----------------------------------------------
;;;262    void snmp_data (void) 
000000  2801              CMP      r0,#1
;;;263    {
000002  d105              BNE      |L17.16|
;;;264    char i;
;;;265    
;;;266    snmp_mains_power_voltage=net_U;
000004  4803              LDR      r0,|L17.20|
000006  f9b01008          LDRSH    r1,[r0,#8]  ; snmp_klimat_settings_load_off
00000a  20d6              MOVS     r0,#0xd6
00000c  f7ffbffe          B.W      lc640_write_int
                  |L17.16|
;;;267    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;268    snmp_mains_power_frequency=net_F3;
000010  4770              BX       lr
;;;269    #else
;;;270    snmp_mains_power_frequency=net_F;
;;;271    #endif
;;;272    snmp_mains_power_voltage_phaseA=net_Ua;
;;;273    snmp_mains_power_voltage_phaseB=net_Ub;
;;;274    snmp_mains_power_voltage_phaseC=net_Uc;
;;;275    
;;;276    
;;;277    if(avar_stat&0x0001)snmp_mains_power_alarm=1;
;;;278    else snmp_mains_power_alarm=0;
;;;279    if(avar_stat&0x0001)snmp_mains_power_status=1;
;;;280    else snmp_mains_power_status=0;
;;;281    
;;;282    /*
;;;283    snmp_mains_power_status=0; 
;;;284    #if(UKU_VERSION==900)
;;;285    snmp_mains_power_status=2;
;;;286    #endif
;;;287    if(St&0x01)snmp_mains_power_status|=0x01;
;;;288    if(St&0x01)snmp_mains_power_alarm=1;
;;;289    
;;;290    
;;;291    
;;;292    
;;;293    
;;;294    
;;;295    for(i=0;i<snmp_numofevents;i++)event2snmp(i);
;;;296    //snmp_bpsnumber[0]=1;
;;;297    //snmp_bpsnumber[1]=2;
;;;298    
;;;299    
;;;300    snmp_sernum_lsb=0x1122;
;;;301    snmp_sernum_msb=0x3344;
;;;302    snmp_device_code=AUSW_MAIN;
;;;303    
;;;304    //memcpy(snmp_location,"lkhg;la",);
;;;305    
;;;306    
;;;307    snmp_numofbat=1;
;;;308    
;;;309    */
;;;310    snmp_sernum=AUSW_MAIN_NUMBER;
;;;311    
;;;312    snmp_load_voltage=load_U;
;;;313    snmp_load_current=load_I;
;;;314    snmp_numofbat=NUMBAT;
;;;315    snmp_numofbps=NUMIST;
;;;316    snmp_numofinv=NUMINV;
;;;317    snmp_numofavt=NUMAVT;
;;;318    snmp_numofdt=NUMDT;
;;;319    snmp_numofsk=NUMSK;
;;;320    snmp_numofevents=lc640_read_int(CNT_EVENT_LOG);
;;;321    
;;;322    snmp_energy_vvod_phase_a=Uvv_eb2[0];
;;;323    snmp_energy_vvod_phase_b=Uvv_eb2[1];
;;;324    snmp_energy_vvod_phase_c=Uvv_eb2[2];
;;;325    snmp_energy_pes_phase_a=Upes_eb2[0];
;;;326    snmp_energy_pes_phase_b=Upes_eb2[1];
;;;327    snmp_energy_pes_phase_c=Upes_eb2[2];
;;;328    
;;;329    #ifdef UKU_KONTUR
;;;330    snmp_energy_vvod_phase_a=Uvv0;
;;;331    snmp_energy_pes_phase_a=Uvv[1];
;;;332    #endif
;;;333    
;;;334    snmp_energy_total_energy=power_summary;
;;;335    snmp_energy_current_energy=power_current;
;;;336    snmp_energy_input_voltage=net_U;
;;;337    
;;;338    
;;;339    #ifdef UKU_ZVU
;;;340    snmp_bat_number[0]=1;
;;;341    snmp_bat_voltage[0]=out_U;
;;;342    snmp_bat_current[0]=Ib_ips_termokompensat;
;;;343    snmp_bat_rem_time[0]=bat_hndl_t_razr_min;
;;;344    if(Ib_ips_termokompensat>0)snmp_bat_rem_time[0]=-1;
;;;345    snmp_bat_temperature[0]=t_ext[0];
;;;346    if(ND_EXT[0])snmp_bat_temperature[0]=-1000;
;;;347    snmp_bat_capacity[0]=BAT_C_POINT_20;
;;;348    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;349    snmp_bat_status[0]=bat_ips._av&1;
;;;350    if(NUMBAT==0)snmp_bat_status[0]=0xff;
;;;351    #endif
;;;352    
;;;353    #ifndef UKU_ZVU
;;;354    snmp_bat_number[0]=1;
;;;355    snmp_bat_voltage[0]=bat[0]._Ub;
;;;356    snmp_bat_part_voltage[0]=bat[0]._Ubm;
;;;357    snmp_bat_current[0]=bat[0]._Ib;
;;;358    
;;;359    /*
;;;360    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;361    if(((AUSW_MAIN==22063)||(AUSW_MAIN==22023))&&(bps[8]._device==dIBAT_METR))
;;;362    	{
;;;363    	snmp_bat_current[0]=Ib_ips_termokompensat;
;;;364    	}
;;;365    #endif*/
;;;366    
;;;367    snmp_bat_temperature[0]=bat[0]._Tb;
;;;368    if(bat[0]._nd) snmp_bat_temperature[0]=-1000;
;;;369    
;;;370    if(BAT_C_REAL[0]==0x5555)snmp_bat_capacity[0]=BAT_C_NOM[0];
;;;371    else snmp_bat_capacity[0]=BAT_C_REAL[0];
;;;372    /*
;;;373    #ifdef UKU_ZVU
;;;374    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;375    
;;;376    #else
;;;377    snmp_bat_charge[0]=bat[0]._zar;
;;;378    #endif */
;;;379    snmp_bat_charge[0]=bat[0]._zar;
;;;380    snmp_bat_status[0]=bat[0]._av;
;;;381    if(BAT_IS_ON[0]!=bisON)snmp_bat_status[0]=0xff;
;;;382    
;;;383    
;;;384    snmp_bat_number[1]=2;
;;;385    snmp_bat_voltage[1]=bat[1]._Ub;
;;;386    snmp_bat_part_voltage[1]=bat[1]._Ubm;
;;;387    snmp_bat_current[1]=bat[1]._Ib;
;;;388    snmp_bat_temperature[1]=bat[1]._Tb;
;;;389    if(bat[1]._nd) snmp_bat_temperature[1]=-1000;
;;;390    if(BAT_C_REAL[1]==0x5555)snmp_bat_capacity[1]=BAT_C_NOM[1];
;;;391    else snmp_bat_capacity[1]=BAT_C_REAL[1];
;;;392    snmp_bat_charge[1]=bat[1]._zar;
;;;393    snmp_bat_status[1]=bat[1]._av;
;;;394    if(BAT_IS_ON[1]!=bisON)snmp_bat_status[1]=0xff;
;;;395    #endif
;;;396    
;;;397    
;;;398    snmp_bps_number[0]=1;
;;;399    snmp_bps_voltage[0]=bps[0]._Uii;
;;;400    snmp_bps_current[0]=bps[0]._Ii;
;;;401    snmp_bps_temperature[0]=bps[0]._Ti;
;;;402    snmp_bps_stat[0]=bps[0]._av;
;;;403    if(!(NUMIST>0))snmp_bps_stat[0]=0xff;												//Байт состояния БПСа.
;;;404    
;;;405    /*if(St_[0]&(1<<2))snmp_bps_stat[0]=(1<<3); 							//авария по Umin
;;;406    else if(St_[0]&(1<<3))snmp_bps_stat[0]=(1<<2); 						//авария по Umax
;;;407    else if(bps[0]._av&(1<<0))snmp_bps_stat[0]=(1<<1); 						//авария по Tmax
;;;408    else if(St_[0]&(1<<5))snmp_bps_stat[0]=(1<<5); 						//заблокирован
;;;409    else if((!(St_[0]&0x3c))&&(!St&0x01)&&(!OFFBP1))snmp_bps_stat[0]=1; 		//Работает
;;;410    */
;;;411    
;;;412    snmp_bps_number[1]=2;
;;;413    snmp_bps_voltage[1]=bps[1]._Uii;
;;;414    snmp_bps_current[1]=bps[1]._Ii;
;;;415    snmp_bps_temperature[1]=bps[1]._Ti;
;;;416    snmp_bps_stat[1]=bps[1]._av;
;;;417    if(!(NUMIST>1))snmp_bps_stat[1]=0xff;												//Байт состояния БПСа.
;;;418    /*if(St_[1]&(1<<2))snmp_bps_stat[1]=(1<<3); 							//авария по Umin
;;;419    else if(St_[1]&(1<<3))snmp_bps_stat[1]=(1<<2); 						//авария по Umax
;;;420    else if(St_[1]&(1<<4))snmp_bps_stat[1]=(1<<1); 						//авария по Tmax
;;;421    else if(St_[1]&(1<<5))snmp_bps_stat[1]=(1<<5); 						//заблокирован
;;;422    else if((!(St_[1]&0x3c))&&(!St&0x01)&&(!OFFBP2))snmp_bps_stat[1]=1; 		//Работает
;;;423    */
;;;424    
;;;425    snmp_bps_number[2]=3;
;;;426    snmp_bps_voltage[2]=bps[2]._Uii;
;;;427    snmp_bps_current[2]=bps[2]._Ii;
;;;428    snmp_bps_temperature[2]=bps[2]._Ti;
;;;429    snmp_bps_stat[2]=bps[2]._av;
;;;430    if(!(NUMIST>2))snmp_bps_stat[2]=0xff;
;;;431    
;;;432    snmp_bps_number[3]=4;
;;;433    snmp_bps_voltage[3]=bps[3]._Uii;
;;;434    snmp_bps_current[3]=bps[3]._Ii;
;;;435    snmp_bps_temperature[3]=bps[3]._Ti;
;;;436    snmp_bps_stat[3]=bps[3]._av;
;;;437    if(!(NUMIST>3))snmp_bps_stat[3]=0xff;
;;;438    
;;;439    snmp_bps_number[4]=5;
;;;440    snmp_bps_voltage[4]=bps[4]._Uii;
;;;441    snmp_bps_current[4]=bps[4]._Ii;
;;;442    snmp_bps_temperature[4]=bps[4]._Ti;
;;;443    snmp_bps_stat[4]=bps[4]._av;
;;;444    if(!(NUMIST>4))snmp_bps_stat[4]=0xff;
;;;445    
;;;446    snmp_bps_number[5]=6;
;;;447    snmp_bps_voltage[5]=bps[5]._Uii;
;;;448    snmp_bps_current[5]=bps[5]._Ii;
;;;449    snmp_bps_temperature[5]=bps[5]._Ti;
;;;450    snmp_bps_stat[5]=bps[5]._av;
;;;451    if(!(NUMIST>5))snmp_bps_stat[5]=0xff;
;;;452    
;;;453    snmp_bps_number[6]=7;
;;;454    snmp_bps_voltage[6]=bps[6]._Uii;
;;;455    snmp_bps_current[6]=bps[6]._Ii;
;;;456    snmp_bps_temperature[6]=bps[6]._Ti;
;;;457    snmp_bps_stat[6]=bps[6]._av;
;;;458    if(!(NUMIST>6))snmp_bps_stat[6]=0xff;
;;;459    
;;;460    snmp_bps_number[7]=8;
;;;461    snmp_bps_voltage[7]=bps[7]._Uii;
;;;462    snmp_bps_current[7]=bps[7]._Ii;
;;;463    snmp_bps_temperature[7]=bps[7]._Ti;
;;;464    snmp_bps_stat[7]=bps[7]._av;
;;;465    if(!(NUMIST>7))snmp_bps_stat[7]=0xff;
;;;466    
;;;467    
;;;468    
;;;469    snmp_inv_number[0]=1;
;;;470    snmp_inv_voltage[0]=inv[0]._Uio;
;;;471    snmp_inv_current[0]=inv[0]._Ii;
;;;472    snmp_inv_temperature[0]=inv[0]._Ti;
;;;473    snmp_inv_stat[0]=inv[0]._flags_tm;
;;;474    
;;;475    snmp_inv_number[1]=2;
;;;476    snmp_inv_voltage[1]=inv[1]._Uio;
;;;477    snmp_inv_current[1]=inv[1]._Ii;
;;;478    snmp_inv_temperature[1]=inv[1]._Ti;
;;;479    snmp_inv_stat[1]=inv[1]._flags_tm;
;;;480    
;;;481    snmp_inv_number[2]=3;
;;;482    snmp_inv_voltage[2]=inv[2]._Uio;
;;;483    snmp_inv_current[2]=inv[2]._Ii;
;;;484    snmp_inv_temperature[2]=inv[2]._Ti;
;;;485    snmp_inv_stat[2]=inv[2]._flags_tm;
;;;486    
;;;487    
;;;488    
;;;489    
;;;490    					  
;;;491    snmp_sk_number[0]=1;
;;;492    memcpy(&snmp_sk_name[0][0],"Door",10);
;;;493    if(sk_stat[0]==ssON) snmp_sk_aktiv[0]=1;
;;;494    else snmp_sk_aktiv[0]=0;
;;;495    if(!SK_SIGN[0])snmp_sk_alarm_aktiv[0]=1;
;;;496    else snmp_sk_alarm_aktiv[0]=0;
;;;497    if(sk_av_stat[0]==sasON)	snmp_sk_alarm[0]=1;
;;;498    else                     snmp_sk_alarm[0]=0;
;;;499    
;;;500    
;;;501    snmp_sk_number[1]=2;
;;;502    memcpy(&snmp_sk_name[1][0],"Smoke",10);
;;;503    if(sk_stat[1]==ssON) snmp_sk_aktiv[1]=1;
;;;504    else snmp_sk_aktiv[1]=0;
;;;505    if(!SK_SIGN[1])snmp_sk_alarm_aktiv[1]=1;
;;;506    else snmp_sk_alarm_aktiv[1]=0;
;;;507    if(sk_av_stat[1]==sasON)	snmp_sk_alarm[1]=1;
;;;508    else                     snmp_sk_alarm[1]=0;
;;;509    
;;;510    snmp_sk_number[2]=3;
;;;511    memcpy(&snmp_sk_name[2][0],"Shock",10);
;;;512    if(sk_stat[2]==ssON) snmp_sk_aktiv[2]=1;
;;;513    else snmp_sk_aktiv[2]=0;
;;;514    if(!SK_SIGN[2])snmp_sk_alarm_aktiv[2]=1;
;;;515    else snmp_sk_alarm_aktiv[2]=0;
;;;516    if(sk_av_stat[2]==sasON)	snmp_sk_alarm[2]=1;
;;;517    else                     snmp_sk_alarm[2]=0;
;;;518    
;;;519    snmp_sk_number[3]=4;
;;;520    memcpy(&snmp_sk_name[3][0],"     ",10);
;;;521    if(sk_stat[3]==ssON) snmp_sk_aktiv[3]=1;
;;;522    else snmp_sk_aktiv[3]=0;
;;;523    if(!SK_SIGN[3])snmp_sk_alarm_aktiv[3]=1;
;;;524    else snmp_sk_alarm_aktiv[3]=0;
;;;525    if(sk_av_stat[3]==sasON)	snmp_sk_alarm[3]=1;
;;;526    else                     snmp_sk_alarm[3]=0;
;;;527    
;;;528    
;;;529    if(makb[0]._cnt>8) snmp_makb_connect_status[0]=1;
;;;530    else if(makb[0]._cnt<2) snmp_makb_connect_status[0]=0;
;;;531    if(makb[1]._cnt>8) snmp_makb_connect_status[1]=1;
;;;532    else if(makb[1]._cnt<2) snmp_makb_connect_status[1]=0;
;;;533    if(makb[2]._cnt>8) snmp_makb_connect_status[2]=1;
;;;534    else if(makb[2]._cnt<2) snmp_makb_connect_status[2]=0;
;;;535    if(makb[3]._cnt>8) snmp_makb_connect_status[3]=1;
;;;536    else if(makb[3]._cnt<2) snmp_makb_connect_status[3]=0;
;;;537    
;;;538    snmp_makb_voltage0[0]=makb[0]._Ub[0];
;;;539    snmp_makb_voltage1[0]=makb[0]._Ub[1];
;;;540    snmp_makb_voltage2[0]=makb[0]._Ub[2];
;;;541    snmp_makb_voltage3[0]=makb[0]._Ub[3];
;;;542    snmp_makb_voltage4[0]=makb[0]._Ub[4];
;;;543    snmp_makb_voltage0[1]=makb[1]._Ub[0];
;;;544    snmp_makb_voltage1[1]=makb[1]._Ub[1];
;;;545    snmp_makb_voltage2[1]=makb[1]._Ub[2];
;;;546    snmp_makb_voltage3[1]=makb[1]._Ub[3];
;;;547    snmp_makb_voltage4[1]=makb[1]._Ub[4];
;;;548    snmp_makb_voltage0[2]=makb[2]._Ub[0];
;;;549    snmp_makb_voltage1[2]=makb[2]._Ub[1];
;;;550    snmp_makb_voltage2[2]=makb[2]._Ub[2];
;;;551    snmp_makb_voltage3[2]=makb[2]._Ub[3];
;;;552    snmp_makb_voltage4[2]=makb[2]._Ub[4];
;;;553    snmp_makb_voltage0[3]=makb[3]._Ub[0];
;;;554    snmp_makb_voltage1[3]=makb[3]._Ub[1];
;;;555    snmp_makb_voltage2[3]=makb[3]._Ub[2];
;;;556    snmp_makb_voltage3[3]=makb[3]._Ub[3];
;;;557    snmp_makb_voltage4[3]=makb[3]._Ub[4];
;;;558    
;;;559    snmp_makb_temper0[0]=makb[0]._T[0];
;;;560    snmp_makb_temper1[0]=makb[0]._T[1];
;;;561    snmp_makb_temper2[0]=makb[0]._T[2];
;;;562    snmp_makb_temper3[0]=makb[0]._T[3];
;;;563    snmp_makb_temper4[0]=makb[0]._T[4];
;;;564    snmp_makb_temper0[1]=makb[1]._T[0];
;;;565    snmp_makb_temper1[1]=makb[1]._T[1];
;;;566    snmp_makb_temper2[1]=makb[1]._T[2];
;;;567    snmp_makb_temper3[1]=makb[1]._T[3];
;;;568    snmp_makb_temper4[1]=makb[1]._T[4];
;;;569    snmp_makb_temper0[2]=makb[2]._T[0];
;;;570    snmp_makb_temper1[2]=makb[2]._T[1];
;;;571    snmp_makb_temper2[2]=makb[2]._T[2];
;;;572    snmp_makb_temper3[2]=makb[2]._T[3];
;;;573    snmp_makb_temper4[2]=makb[2]._T[4];
;;;574    snmp_makb_temper0[3]=makb[3]._T[0];
;;;575    snmp_makb_temper1[3]=makb[3]._T[1];
;;;576    snmp_makb_temper2[3]=makb[3]._T[2];
;;;577    snmp_makb_temper3[3]=makb[3]._T[3];
;;;578    snmp_makb_temper4[3]=makb[3]._T[4];
;;;579    
;;;580    snmp_makb_temper0_stat[0]=makb[0]._T_nd[0];
;;;581    snmp_makb_temper1_stat[0]=makb[0]._T_nd[1];
;;;582    snmp_makb_temper2_stat[0]=makb[0]._T_nd[2];
;;;583    snmp_makb_temper3_stat[0]=makb[0]._T_nd[3];
;;;584    snmp_makb_temper4_stat[0]=makb[0]._T_nd[4];
;;;585    snmp_makb_temper0_stat[1]=makb[1]._T_nd[0];
;;;586    snmp_makb_temper1_stat[1]=makb[1]._T_nd[1];
;;;587    snmp_makb_temper2_stat[1]=makb[1]._T_nd[2];
;;;588    snmp_makb_temper3_stat[1]=makb[1]._T_nd[3];
;;;589    snmp_makb_temper4_stat[1]=makb[1]._T_nd[4];
;;;590    snmp_makb_temper0_stat[2]=makb[2]._T_nd[0];
;;;591    snmp_makb_temper1_stat[2]=makb[2]._T_nd[1];
;;;592    snmp_makb_temper2_stat[2]=makb[2]._T_nd[2];
;;;593    snmp_makb_temper3_stat[2]=makb[2]._T_nd[3];
;;;594    snmp_makb_temper4_stat[2]=makb[2]._T_nd[4];
;;;595    snmp_makb_temper0_stat[3]=makb[3]._T_nd[0];
;;;596    snmp_makb_temper1_stat[3]=makb[3]._T_nd[1];
;;;597    snmp_makb_temper2_stat[3]=makb[3]._T_nd[2];
;;;598    snmp_makb_temper3_stat[3]=makb[3]._T_nd[3];
;;;599    snmp_makb_temper4_stat[3]=makb[3]._T_nd[4];
;;;600    
;;;601    
;;;602    snmp_klimat_box_temper=t_box;
;;;603    snmp_klimat_settings_box_alarm=TBOXMAX;
;;;604    snmp_klimat_settings_vent_on=TBOXVENTON;
;;;605    snmp_klimat_settings_vent_off=TBOXVENTOFF;
;;;606    snmp_klimat_settings_warm_on=TBOXWARMON;
;;;607    snmp_klimat_settings_warm_off=TBOXWARMOFF;
;;;608    snmp_klimat_settings_load_on=TLOADENABLE;
;;;609    snmp_klimat_settings_load_off=TLOADDISABLE;
;;;610    snmp_klimat_settings_batt_on=TBATENABLE;
;;;611    snmp_klimat_settings_batt_off=TBATDISABLE;
;;;612    
;;;613    snmp_dt_ext=t_ext[0];
;;;614    snmp_dt_msan=t_ext[1];
;;;615    snmp_dt_epu=t_ext[2];
;;;616    
;;;617    /*
;;;618    snmp_bat_voltage=Ubat;
;;;619    snmp_bat_current=Ibat;
;;;620    snmp_bat_temperature=t_b;
;;;621    if(BAT_C_REAL==0x5555)
;;;622    	{
;;;623    	snmp_bat_capacity=BAT_C_NOM*10;												    11
;;;624    	}
;;;625    else
;;;626    	{
;;;627    	snmp_bat_capacity=BAT_C_REAL;
;;;628    	}
;;;629    snmp_bat_charge=zar_percent;
;;;630    snmp_bat_status=0;
;;;631    if(St&0x02)snmp_bat_status|=0x01;
;;;632    if(Ibat>0)snmp_bat_status|=0x02;
;;;633    
;;;634    
;;;635    if(spc_stat==spc_OFF) snmp_spc_stat=0;
;;;636    else if(spc_stat==spc_KE) snmp_spc_stat=1;
;;;637    else if(spc_stat==spc_VZ) snmp_spc_stat=10;
;;;638    
;;;639    
;;;640    snmp_main_bps=MAIN_IST+1;
;;;641    */
;;;642    snmp_zv_en=ZV_ON;
;;;643    snmp_alarm_auto_disable=AV_OFF_AVT;
;;;644    snmp_bat_test_time=TBAT;
;;;645    snmp_u_max=UMAX;
;;;646    snmp_u_min=UB20-DU;
;;;647    snmp_u_0_grad=UB0;
;;;648    snmp_u_20_grad=UB20;
;;;649    snmp_u_sign=USIGN;
;;;650    snmp_u_min_power=UMN;
;;;651    snmp_u_withouth_bat=U0B;
;;;652    snmp_control_current=IKB;
;;;653    snmp_max_charge_current=IZMAX;
;;;654    snmp_max_current=IMAX;
;;;655    snmp_min_current=IMIN;
;;;656    //snmp_max_current_koef=KIMAX;
;;;657    snmp_uvz=UVZ;
;;;658    snmp_powerup_psu_timeout=TZAS;
;;;659    snmp_max_temperature=TMAX;
;;;660    snmp_tsign_bat=TBATSIGN; 
;;;661    snmp_tmax_bat=TBATMAX;
;;;662    snmp_tsign_bps=TSIGN;
;;;663    snmp_tmax_bps=TMAX;
;;;664    snmp_bat_part_alarm=UBM_AV; 
;;;665    snmp_power_cnt_adress=POWER_CNT_ADRESS;
;;;666    
;;;667    for(i=0;i<12;i++)
;;;668    	{
;;;669    	snmp_avt_number[i]=i+1;
;;;670    	if(avt_stat[i]==avtOFF)snmp_avt_stat[i]=0;
;;;671    	else snmp_avt_stat[i]=1;
;;;672    	}
;;;673    
;;;674    snmp_dt_number[0]=1;
;;;675    snmp_dt_number[1]=2;
;;;676    snmp_dt_number[2]=3;
;;;677    //snmp_dt_number[3]=4;
;;;678    snmp_dt_temper[0]=t_ext[0];
;;;679    snmp_dt_temper[1]=t_ext[1];
;;;680    snmp_dt_temper[2]=t_ext[2];
;;;681    //snmp_dt_temper[3]=t_ext[3];
;;;682    snmp_dt_error[0]=ND_EXT[0];
;;;683    if(NUMDT<1)snmp_dt_error[0]=0xff;
;;;684    snmp_dt_error[1]=ND_EXT[1];
;;;685    if(NUMDT<2)snmp_dt_error[0]=0xff;
;;;686    snmp_dt_error[2]=ND_EXT[2];
;;;687    if(NUMDT<3)snmp_dt_error[0]=0xff;
;;;688    //snmp_dt_error[3]=ND_EXT[3];
;;;689    if(NUMDT<4)snmp_dt_error[0]=0xff;
;;;690    
;;;691    /*
;;;692    //Литиевые батареи
;;;693    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;694    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;695    snmp_lakb_voltage[0]=lakb[0]._tot_bat_volt;				//Напряжение ЛАКБ
;;;696    snmp_lakb_voltage[1]=lakb[1]._tot_bat_volt;				//Напряжение ЛАКБ
;;;697    snmp_lakb_max_cell_voltage[0]=lakb[0]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;698    snmp_lakb_max_cell_voltage[1]=lakb[1]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;699    snmp_lakb_min_cell_voltage[0]=lakb[0]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;700    snmp_lakb_min_cell_voltage[1]=lakb[1]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;701    snmp_lakb_max_cell_temperature[0]=lakb[0]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;702    snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;703    snmp_lakb_min_cell_temperature[0]=lakb[0]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;704    snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;705    snmp_lakb_ch_curr[0]=lakb[0]._ch_curr;					//Ток заряда ЛАКБ
;;;706    snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;707    snmp_lakb_dsch_curr[0]=lakb[0]._dsch_curr;				//Ток разряда ЛАКБ
;;;708    snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;709    snmp_lakb_rat_cap[0]=lakb[0]._rat_cap;					//Номинальная емкость ЛАКБ
;;;710    snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;711    snmp_lakb_soh[0]=lakb[0]._s_o_h;						//Остаточная емкость ЛАКБ
;;;712    snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;713    snmp_lakb_soc[0]=lakb[0]._s_o_c;						//Заряд ЛАКБ
;;;714    snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;715    snmp_lakb_cclv[0]=lakb[0]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;716    snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;717    snmp_lakb_rbt[0]=lakb[0]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;718    snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;719    snmp_lakb_flags1[0]=lakb[0]._flags1;					//Первый флаг состояния ЛАКБ
;;;720    snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;721    snmp_lakb_flags2[0]=lakb[0]._flags2;					//Второй флаг состояния ЛАКБ
;;;722    snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ */
;;;723    
;;;724    //Литиевые батареи
;;;725    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;726    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;727    snmp_lakb_number[2]=3;								//Номер ЛАКБ
;;;728    snmp_lakb_number[3]=4;								//Номер ЛАКБ
;;;729    snmp_lakb_number[4]=5;								//Номер ЛАКБ
;;;730    snmp_lakb_number[5]=6;								//Номер ЛАКБ
;;;731    snmp_lakb_number[6]=7;								//Номер ЛАКБ
;;;732    
;;;733    for (i=0;i<3;i++)
;;;734    	{
;;;735    	snmp_lakb_voltage[i]=lakb[i]._tot_bat_volt;				//Напряжение ЛАКБ
;;;736    	snmp_lakb_max_cell_voltage[i]=lakb[i]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;737    	snmp_lakb_min_cell_voltage[i]=lakb[i]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;738    	snmp_lakb_max_cell_temperature[i]=lakb[i]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;739    	//snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;740    	snmp_lakb_min_cell_temperature[i]=lakb[i]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;741    	//snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;742    	snmp_lakb_ch_curr[i]=lakb[i]._ch_curr;					//Ток заряда ЛАКБ
;;;743    	//snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;744    	snmp_lakb_dsch_curr[i]=lakb[i]._dsch_curr;				//Ток разряда ЛАКБ
;;;745    	//snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;746    	snmp_lakb_rat_cap[i]=lakb[i]._rat_cap;					//Номинальная емкость ЛАКБ
;;;747    	//snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;748    	snmp_lakb_soh[i]=lakb[i]._s_o_h;						//Остаточная емкость ЛАКБ
;;;749    	//snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;750    	snmp_lakb_soc[i]=lakb[i]._s_o_c;						//Заряд ЛАКБ
;;;751    	//snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;752    	snmp_lakb_cclv[i]=lakb[i]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;753    	//snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;754    	snmp_lakb_rbt[i]=lakb[i]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;755    	//snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;756    	snmp_lakb_flags1[i]=lakb[i]._flags1;					//Первый флаг состояния ЛАКБ
;;;757    	//snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;758    	snmp_lakb_flags2[i]=lakb[i]._flags2;					//Второй флаг состояния ЛАКБ
;;;759    	//snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ
;;;760    
;;;761    	snmp_lakb_cell_temperature_1[i]= lakb[i]._cell_temp_1;
;;;762    	snmp_lakb_cell_temperature_2[i]= lakb[i]._cell_temp_2;
;;;763    	snmp_lakb_cell_temperature_3[i]= lakb[i]._cell_temp_3;
;;;764    	snmp_lakb_cell_temperature_4[i]= lakb[i]._cell_temp_4;
;;;765    	snmp_lakb_cell_temperature_ambient[i]=lakb[i]._cell_temp_ambient;
;;;766    	snmp_lakb_cell_temperature_power[i]=lakb[i]._cell_temp_power;
;;;767    	}
;;;768    
;;;769    for (i=0;i<7;i++)
;;;770    {
;;;771    /*
;;;772    snmp_lakb_damp1[i][0]=ABCDEF[(lakb_damp[i][0])>>4];			//Дамп
;;;773    snmp_lakb_damp1[i][1]=ABCDEF[(lakb_damp[i][0])&0x0f];			//Дамп
;;;774    snmp_lakb_damp1[i][2]=' ';
;;;775    snmp_lakb_damp1[i][3]=ABCDEF[(lakb_damp[i][1])>>4];			//Дамп
;;;776    snmp_lakb_damp1[i][4]=ABCDEF[(lakb_damp[i][1])&0x0f];			//Дамп
;;;777    snmp_lakb_damp1[i][5]=' ';
;;;778    snmp_lakb_damp1[i][6]=ABCDEF[(lakb_damp[i][2])>>4];			//Дамп
;;;779    snmp_lakb_damp1[i][7]=ABCDEF[(lakb_damp[i][2])&0x0f];			//Дамп
;;;780    snmp_lakb_damp1[i][8]=' ';
;;;781    snmp_lakb_damp1[i][9]=ABCDEF[(lakb_damp[i][3])>>4];			//Дамп
;;;782    snmp_lakb_damp1[i][10]=ABCDEF[(lakb_damp[i][3])&0x0f];			//Дамп
;;;783    snmp_lakb_damp1[i][11]=' ';
;;;784    snmp_lakb_damp1[i][12]=ABCDEF[(lakb_damp[i][4])>>4];			//Дамп
;;;785    snmp_lakb_damp1[i][13]=ABCDEF[(lakb_damp[i][4])&0x0f];			//Дамп
;;;786    snmp_lakb_damp1[i][14]=' '; 
;;;787    snmp_lakb_damp1[i][15]=ABCDEF[(lakb_damp[i][5])>>4];			//Дамп
;;;788    snmp_lakb_damp1[i][16]=ABCDEF[(lakb_damp[i][5])&0x0f];			//Дамп
;;;789    snmp_lakb_damp1[i][17]=' ';
;;;790    snmp_lakb_damp1[i][18]=ABCDEF[(lakb_damp[i][6])>>4];			//Дамп
;;;791    snmp_lakb_damp1[i][19]=ABCDEF[(lakb_damp[i][6])&0x0f];			//Дамп
;;;792    snmp_lakb_damp1[i][20]=' ';
;;;793    snmp_lakb_damp1[i][21]=ABCDEF[(lakb_damp[i][7])>>4];			//Дамп
;;;794    snmp_lakb_damp1[i][22]=ABCDEF[(lakb_damp[i][7])&0x0f];			//Дамп
;;;795    snmp_lakb_damp1[i][23]=' ';
;;;796    snmp_lakb_damp1[i][24]=ABCDEF[(lakb_damp[i][8])>>4];			//Дамп
;;;797    snmp_lakb_damp1[i][25]=ABCDEF[(lakb_damp[i][8])&0x0f];			//Дамп
;;;798    snmp_lakb_damp1[i][26]=' ';
;;;799    snmp_lakb_damp1[i][27]=ABCDEF[(lakb_damp[i][9])>>4];			//Дамп
;;;800    snmp_lakb_damp1[i][28]=ABCDEF[(lakb_damp[i][9])&0x0f];			//Дамп
;;;801    snmp_lakb_damp1[i][29]=0; 
;;;802    
;;;803    snmp_lakb_damp1[i][30]=ABCDEF[(lakb_damp[i][10])>>4];			//Дамп
;;;804    snmp_lakb_damp1[i][31]=ABCDEF[(lakb_damp[i][10])&0x0f];			//Дамп
;;;805    snmp_lakb_damp1[i][32]=' ';
;;;806    snmp_lakb_damp1[i][33]=ABCDEF[(lakb_damp[i][11])>>4];			//Дамп
;;;807    snmp_lakb_damp1[i][34]=ABCDEF[(lakb_damp[i][11])&0x0f];			//Дамп
;;;808    snmp_lakb_damp1[i][35]=' ';
;;;809    snmp_lakb_damp1[i][36]=ABCDEF[(lakb_damp[i][12])>>4];			//Дамп
;;;810    snmp_lakb_damp1[i][37]=ABCDEF[(lakb_damp[i][12])&0x0f];			//Дамп
;;;811    snmp_lakb_damp1[i][38]=' ';
;;;812    snmp_lakb_damp1[i][39]=ABCDEF[(lakb_damp[i][13])>>4];			//Дамп
;;;813    snmp_lakb_damp1[i][40]=ABCDEF[(lakb_damp[i][13])&0x0f];			//Дамп
;;;814    snmp_lakb_damp1[i][41]=' ';
;;;815    snmp_lakb_damp1[i][42]=ABCDEF[(lakb_damp[i][14])>>4];			//Дамп
;;;816    snmp_lakb_damp1[i][43]=ABCDEF[(lakb_damp[i][14])&0x0f];			//Дамп
;;;817    snmp_lakb_damp1[i][44]=' '; 
;;;818    snmp_lakb_damp1[i][45]=ABCDEF[(lakb_damp[i][15])>>4];			//Дамп
;;;819    snmp_lakb_damp1[i][46]=ABCDEF[(lakb_damp[i][15])&0x0f];			//Дамп
;;;820    snmp_lakb_damp1[i][47]=' ';
;;;821    snmp_lakb_damp1[i][48]=ABCDEF[(lakb_damp[i][16])>>4];			//Дамп
;;;822    snmp_lakb_damp1[i][49]=ABCDEF[(lakb_damp[i][16])&0x0f];			//Дамп
;;;823    snmp_lakb_damp1[i][50]=' ';
;;;824    snmp_lakb_damp1[i][51]=ABCDEF[(lakb_damp[i][17])>>4];			//Дамп
;;;825    snmp_lakb_damp1[i][52]=ABCDEF[(lakb_damp[i][17])&0x0f];			//Дамп
;;;826    snmp_lakb_damp1[i][53]=' ';
;;;827    snmp_lakb_damp1[i][54]=ABCDEF[(lakb_damp[i][18])>>4];			//Дамп
;;;828    snmp_lakb_damp1[i][55]=ABCDEF[(lakb_damp[i][18])&0x0f];			//Дамп
;;;829    snmp_lakb_damp1[i][56]=' ';
;;;830    snmp_lakb_damp1[i][57]=ABCDEF[(lakb_damp[i][19])>>4];			//Дамп
;;;831    snmp_lakb_damp1[i][58]=ABCDEF[(lakb_damp[i][19])&0x0f];			//Дамп
;;;832    snmp_lakb_damp1[i][59]=0; 
;;;833    
;;;834    
;;;835    snmp_lakb_damp1[i][60]=ABCDEF[(lakb_damp[i][20])>>4];			//Дамп
;;;836    snmp_lakb_damp1[i][61]=ABCDEF[(lakb_damp[i][20])&0x0f];			//Дамп
;;;837    snmp_lakb_damp1[i][62]=' ';
;;;838    snmp_lakb_damp1[i][63]=ABCDEF[(lakb_damp[i][21])>>4];			//Дамп
;;;839    snmp_lakb_damp1[i][64]=ABCDEF[(lakb_damp[i][21])&0x0f];			//Дамп
;;;840    snmp_lakb_damp1[i][65]=' ';
;;;841    snmp_lakb_damp1[i][66]=ABCDEF[(lakb_damp[i][22])>>4];			//Дамп
;;;842    snmp_lakb_damp1[i][67]=ABCDEF[(lakb_damp[i][22])&0x0f];			//Дамп
;;;843    snmp_lakb_damp1[i][68]=' ';
;;;844    snmp_lakb_damp1[i][69]=ABCDEF[(lakb_damp[i][23])>>4];			//Дамп
;;;845    snmp_lakb_damp1[i][70]=ABCDEF[(lakb_damp[i][23])&0x0f];			//Дамп
;;;846    snmp_lakb_damp1[i][71]=' ';
;;;847    snmp_lakb_damp1[i][72]=ABCDEF[(lakb_damp[i][24])>>4];			//Дамп
;;;848    snmp_lakb_damp1[i][73]=ABCDEF[(lakb_damp[i][24])&0x0f];			//Дамп
;;;849    snmp_lakb_damp1[i][74]=' '; 
;;;850    snmp_lakb_damp1[i][75]=ABCDEF[(lakb_damp[i][25])>>4];			//Дамп
;;;851    snmp_lakb_damp1[i][76]=ABCDEF[(lakb_damp[i][25])&0x0f];			//Дамп
;;;852    snmp_lakb_damp1[i][77]=' ';
;;;853    snmp_lakb_damp1[i][78]=ABCDEF[(lakb_damp[i][26])>>4];			//Дамп
;;;854    snmp_lakb_damp1[i][79]=ABCDEF[(lakb_damp[i][26])&0x0f];			//Дамп
;;;855    snmp_lakb_damp1[i][80]=' ';
;;;856    snmp_lakb_damp1[i][81]=ABCDEF[(lakb_damp[i][27])>>4];			//Дамп
;;;857    snmp_lakb_damp1[i][82]=ABCDEF[(lakb_damp[i][27])&0x0f];			//Дамп
;;;858    snmp_lakb_damp1[i][83]=' ';
;;;859    snmp_lakb_damp1[i][84]=ABCDEF[(lakb_damp[i][28])>>4];			//Дамп
;;;860    snmp_lakb_damp1[i][85]=ABCDEF[(lakb_damp[i][28])&0x0f];			//Дамп
;;;861    snmp_lakb_damp1[i][86]=' ';
;;;862    snmp_lakb_damp1[i][87]=ABCDEF[(lakb_damp[i][29])>>4];			//Дамп
;;;863    snmp_lakb_damp1[i][88]=ABCDEF[(lakb_damp[i][29])&0x0f];			//Дамп
;;;864    snmp_lakb_damp1[i][89]=0;
;;;865    
;;;866    
;;;867    snmp_lakb_damp1[i][90]=ABCDEF[(lakb_damp[i][30])>>4];			//Дамп
;;;868    snmp_lakb_damp1[i][91]=ABCDEF[(lakb_damp[i][30])&0x0f];			//Дамп
;;;869    snmp_lakb_damp1[i][92]=' ';
;;;870    snmp_lakb_damp1[i][93]=ABCDEF[(lakb_damp[i][31])>>4];			//Дамп
;;;871    snmp_lakb_damp1[i][94]=ABCDEF[(lakb_damp[i][31])&0x0f];			//Дамп
;;;872    snmp_lakb_damp1[i][95]=' ';
;;;873    snmp_lakb_damp1[i][96]=ABCDEF[(lakb_damp[i][32])>>4];			//Дамп
;;;874    snmp_lakb_damp1[i][97]=ABCDEF[(lakb_damp[i][32])&0x0f];			//Дамп
;;;875    snmp_lakb_damp1[i][98]=' ';
;;;876    snmp_lakb_damp1[i][99]=ABCDEF[(lakb_damp[i][33])>>4];			//Дамп
;;;877    snmp_lakb_damp1[i][100]=ABCDEF[(lakb_damp[i][33])&0x0f];			//Дамп
;;;878    snmp_lakb_damp1[i][101]=' ';
;;;879    snmp_lakb_damp1[i][102]=ABCDEF[(lakb_damp[i][34])>>4];			//Дамп
;;;880    snmp_lakb_damp1[i][103]=ABCDEF[(lakb_damp[i][34])&0x0f];			//Дамп
;;;881    snmp_lakb_damp1[i][104]=' '; 
;;;882    snmp_lakb_damp1[i][105]=ABCDEF[(lakb_damp[i][35])>>4];			//Дамп
;;;883    snmp_lakb_damp1[i][106]=ABCDEF[(lakb_damp[i][35])&0x0f];			//Дамп
;;;884    snmp_lakb_damp1[i][107]=' ';
;;;885    snmp_lakb_damp1[i][108]=ABCDEF[(lakb_damp[i][36])>>4];			//Дамп
;;;886    snmp_lakb_damp1[i][109]=ABCDEF[(lakb_damp[i][36])&0x0f];			//Дамп
;;;887    snmp_lakb_damp1[i][110]=' ';
;;;888    snmp_lakb_damp1[i][111]=ABCDEF[(lakb_damp[i][37])>>4];			//Дамп
;;;889    snmp_lakb_damp1[i][112]=ABCDEF[(lakb_damp[i][37])&0x0f];			//Дамп
;;;890    snmp_lakb_damp1[i][113]=' ';
;;;891    snmp_lakb_damp1[i][114]=ABCDEF[(lakb_damp[i][38])>>4];			//Дамп
;;;892    snmp_lakb_damp1[i][115]=ABCDEF[(lakb_damp[i][38])&0x0f];			//Дамп
;;;893    snmp_lakb_damp1[i][116]=' ';
;;;894    snmp_lakb_damp1[i][117]=ABCDEF[(lakb_damp[i][39])>>4];			//Дамп
;;;895    snmp_lakb_damp1[i][118]=ABCDEF[(lakb_damp[i][39])&0x0f];			//Дамп
;;;896    snmp_lakb_damp1[i][119]=0; 
;;;897     
;;;898    
;;;899    snmp_lakb_damp1[i][120]=ABCDEF[(lakb_damp[i][40])>>4];			//Дамп
;;;900    snmp_lakb_damp1[i][121]=ABCDEF[(lakb_damp[i][40])&0x0f];			//Дамп
;;;901    snmp_lakb_damp1[i][122]=' ';
;;;902    snmp_lakb_damp1[i][123]=ABCDEF[(lakb_damp[i][41])>>4];			//Дамп
;;;903    snmp_lakb_damp1[i][124]=ABCDEF[(lakb_damp[i][41])&0x0f];			//Дамп
;;;904    snmp_lakb_damp1[i][125]=' ';
;;;905    snmp_lakb_damp1[i][126]=ABCDEF[(lakb_damp[i][42])>>4];			//Дамп
;;;906    snmp_lakb_damp1[i][127]=ABCDEF[(lakb_damp[i][42])&0x0f];			//Дамп
;;;907    snmp_lakb_damp1[i][128]=' ';
;;;908    snmp_lakb_damp1[i][129]=ABCDEF[(lakb_damp[i][43])>>4];			//Дамп
;;;909    snmp_lakb_damp1[i][130]=ABCDEF[(lakb_damp[i][43])&0x0f];			//Дамп
;;;910    snmp_lakb_damp1[i][131]=' ';
;;;911    snmp_lakb_damp1[i][132]=ABCDEF[(lakb_damp[i][44])>>4];			//Дамп
;;;912    snmp_lakb_damp1[i][133]=ABCDEF[(lakb_damp[i][44])&0x0f];			//Дамп
;;;913    snmp_lakb_damp1[i][134]=' '; 
;;;914    snmp_lakb_damp1[i][135]=ABCDEF[(lakb_damp[i][45])>>4];			//Дамп
;;;915    snmp_lakb_damp1[i][136]=ABCDEF[(lakb_damp[i][45])&0x0f];			//Дамп
;;;916    snmp_lakb_damp1[i][137]=' ';
;;;917    snmp_lakb_damp1[i][138]=ABCDEF[(lakb_damp[i][46])>>4];			//Дамп
;;;918    snmp_lakb_damp1[i][139]=ABCDEF[(lakb_damp[i][46])&0x0f];			//Дамп
;;;919    snmp_lakb_damp1[i][140]=' ';
;;;920    snmp_lakb_damp1[i][141]=ABCDEF[(lakb_damp[i][47])>>4];			//Дамп
;;;921    snmp_lakb_damp1[i][142]=ABCDEF[(lakb_damp[i][47])&0x0f];			//Дамп
;;;922    snmp_lakb_damp1[i][143]=' ';
;;;923    snmp_lakb_damp1[i][144]=ABCDEF[(lakb_damp[i][48])>>4];			//Дамп
;;;924    snmp_lakb_damp1[i][145]=ABCDEF[(lakb_damp[i][48])&0x0f];			//Дамп
;;;925    snmp_lakb_damp1[i][146]=' ';
;;;926    snmp_lakb_damp1[i][147]=ABCDEF[(lakb_damp[i][49])>>4];			//Дамп
;;;927    snmp_lakb_damp1[i][148]=ABCDEF[(lakb_damp[i][49])&0x0f];			//Дамп
;;;928    snmp_lakb_damp1[i][149]=0;  */
;;;929    }
;;;930    
;;;931    #ifdef UKU_TELECORE2017
;;;932    snmp_warm_sign=0;
;;;933    if(TELECORE2017_KLIMAT_WARM_SIGNAL==0) snmp_warm_sign=2;
;;;934    else if(TELECORE2017_KLIMAT_WARM_SIGNAL==1) snmp_warm_sign=1;
;;;935    snmp_cool_sign=0;
;;;936    if(TELECORE2017_KLIMAT_VENT_SIGNAL==0) snmp_cool_sign=2;
;;;937    else if(TELECORE2017_KLIMAT_VENT_SIGNAL==1) snmp_cool_sign=1;
;;;938    snmp_warm_on_temper=(signed char)TELECORE2017_KLIMAT_WARM_ON; 
;;;939    snmp_warm_off_temper=(signed char)TELECORE2017_KLIMAT_WARM_OFF;
;;;940    snmp_warm_q=(signed char)TELECORE2017_KLIMAT_CAP;	
;;;941    snmp_cool_20_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON20;
;;;942    snmp_cool_40_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON40;
;;;943    snmp_cool_60_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON60;
;;;944    snmp_cool_80_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON80;
;;;945    snmp_cool_100_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON100;
;;;946    snmp_cool_20_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON20;
;;;947    snmp_cool_40_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON40;
;;;948    snmp_cool_60_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON60;
;;;949    snmp_cool_80_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON80;
;;;950    snmp_cool_100_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON100;
;;;951    snmp_warm_stat=0;
;;;952    if(warm_stat_k==wsON) snmp_warm_stat=1;
;;;953    #endif
;;;954    }
;;;955    //-----------------------------------------------
                          ENDP

000012  0000              DCW      0x0000
                  |L17.20|
                          DCD      ||.data||+0x80

                          AREA ||area_number.18||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.18||, ||.text||
                  snmp_klimat_settings_batt_on_write PROC
;;;261    //-----------------------------------------------
;;;262    void snmp_data (void) 
000000  2801              CMP      r0,#1
;;;263    {
000002  d105              BNE      |L18.16|
;;;264    char i;
;;;265    
;;;266    snmp_mains_power_voltage=net_U;
000004  4803              LDR      r0,|L18.20|
000006  f9b0100a          LDRSH    r1,[r0,#0xa]  ; snmp_klimat_settings_batt_on
00000a  20dc              MOVS     r0,#0xdc
00000c  f7ffbffe          B.W      lc640_write_int
                  |L18.16|
;;;267    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;268    snmp_mains_power_frequency=net_F3;
000010  4770              BX       lr
;;;269    #else
;;;270    snmp_mains_power_frequency=net_F;
;;;271    #endif
;;;272    snmp_mains_power_voltage_phaseA=net_Ua;
;;;273    snmp_mains_power_voltage_phaseB=net_Ub;
;;;274    snmp_mains_power_voltage_phaseC=net_Uc;
;;;275    
;;;276    
;;;277    if(avar_stat&0x0001)snmp_mains_power_alarm=1;
;;;278    else snmp_mains_power_alarm=0;
;;;279    if(avar_stat&0x0001)snmp_mains_power_status=1;
;;;280    else snmp_mains_power_status=0;
;;;281    
;;;282    /*
;;;283    snmp_mains_power_status=0; 
;;;284    #if(UKU_VERSION==900)
;;;285    snmp_mains_power_status=2;
;;;286    #endif
;;;287    if(St&0x01)snmp_mains_power_status|=0x01;
;;;288    if(St&0x01)snmp_mains_power_alarm=1;
;;;289    
;;;290    
;;;291    
;;;292    
;;;293    
;;;294    
;;;295    for(i=0;i<snmp_numofevents;i++)event2snmp(i);
;;;296    //snmp_bpsnumber[0]=1;
;;;297    //snmp_bpsnumber[1]=2;
;;;298    
;;;299    
;;;300    snmp_sernum_lsb=0x1122;
;;;301    snmp_sernum_msb=0x3344;
;;;302    snmp_device_code=AUSW_MAIN;
;;;303    
;;;304    //memcpy(snmp_location,"lkhg;la",);
;;;305    
;;;306    
;;;307    snmp_numofbat=1;
;;;308    
;;;309    */
;;;310    snmp_sernum=AUSW_MAIN_NUMBER;
;;;311    
;;;312    snmp_load_voltage=load_U;
;;;313    snmp_load_current=load_I;
;;;314    snmp_numofbat=NUMBAT;
;;;315    snmp_numofbps=NUMIST;
;;;316    snmp_numofinv=NUMINV;
;;;317    snmp_numofavt=NUMAVT;
;;;318    snmp_numofdt=NUMDT;
;;;319    snmp_numofsk=NUMSK;
;;;320    snmp_numofevents=lc640_read_int(CNT_EVENT_LOG);
;;;321    
;;;322    snmp_energy_vvod_phase_a=Uvv_eb2[0];
;;;323    snmp_energy_vvod_phase_b=Uvv_eb2[1];
;;;324    snmp_energy_vvod_phase_c=Uvv_eb2[2];
;;;325    snmp_energy_pes_phase_a=Upes_eb2[0];
;;;326    snmp_energy_pes_phase_b=Upes_eb2[1];
;;;327    snmp_energy_pes_phase_c=Upes_eb2[2];
;;;328    
;;;329    #ifdef UKU_KONTUR
;;;330    snmp_energy_vvod_phase_a=Uvv0;
;;;331    snmp_energy_pes_phase_a=Uvv[1];
;;;332    #endif
;;;333    
;;;334    snmp_energy_total_energy=power_summary;
;;;335    snmp_energy_current_energy=power_current;
;;;336    snmp_energy_input_voltage=net_U;
;;;337    
;;;338    
;;;339    #ifdef UKU_ZVU
;;;340    snmp_bat_number[0]=1;
;;;341    snmp_bat_voltage[0]=out_U;
;;;342    snmp_bat_current[0]=Ib_ips_termokompensat;
;;;343    snmp_bat_rem_time[0]=bat_hndl_t_razr_min;
;;;344    if(Ib_ips_termokompensat>0)snmp_bat_rem_time[0]=-1;
;;;345    snmp_bat_temperature[0]=t_ext[0];
;;;346    if(ND_EXT[0])snmp_bat_temperature[0]=-1000;
;;;347    snmp_bat_capacity[0]=BAT_C_POINT_20;
;;;348    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;349    snmp_bat_status[0]=bat_ips._av&1;
;;;350    if(NUMBAT==0)snmp_bat_status[0]=0xff;
;;;351    #endif
;;;352    
;;;353    #ifndef UKU_ZVU
;;;354    snmp_bat_number[0]=1;
;;;355    snmp_bat_voltage[0]=bat[0]._Ub;
;;;356    snmp_bat_part_voltage[0]=bat[0]._Ubm;
;;;357    snmp_bat_current[0]=bat[0]._Ib;
;;;358    
;;;359    /*
;;;360    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;361    if(((AUSW_MAIN==22063)||(AUSW_MAIN==22023))&&(bps[8]._device==dIBAT_METR))
;;;362    	{
;;;363    	snmp_bat_current[0]=Ib_ips_termokompensat;
;;;364    	}
;;;365    #endif*/
;;;366    
;;;367    snmp_bat_temperature[0]=bat[0]._Tb;
;;;368    if(bat[0]._nd) snmp_bat_temperature[0]=-1000;
;;;369    
;;;370    if(BAT_C_REAL[0]==0x5555)snmp_bat_capacity[0]=BAT_C_NOM[0];
;;;371    else snmp_bat_capacity[0]=BAT_C_REAL[0];
;;;372    /*
;;;373    #ifdef UKU_ZVU
;;;374    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;375    
;;;376    #else
;;;377    snmp_bat_charge[0]=bat[0]._zar;
;;;378    #endif */
;;;379    snmp_bat_charge[0]=bat[0]._zar;
;;;380    snmp_bat_status[0]=bat[0]._av;
;;;381    if(BAT_IS_ON[0]!=bisON)snmp_bat_status[0]=0xff;
;;;382    
;;;383    
;;;384    snmp_bat_number[1]=2;
;;;385    snmp_bat_voltage[1]=bat[1]._Ub;
;;;386    snmp_bat_part_voltage[1]=bat[1]._Ubm;
;;;387    snmp_bat_current[1]=bat[1]._Ib;
;;;388    snmp_bat_temperature[1]=bat[1]._Tb;
;;;389    if(bat[1]._nd) snmp_bat_temperature[1]=-1000;
;;;390    if(BAT_C_REAL[1]==0x5555)snmp_bat_capacity[1]=BAT_C_NOM[1];
;;;391    else snmp_bat_capacity[1]=BAT_C_REAL[1];
;;;392    snmp_bat_charge[1]=bat[1]._zar;
;;;393    snmp_bat_status[1]=bat[1]._av;
;;;394    if(BAT_IS_ON[1]!=bisON)snmp_bat_status[1]=0xff;
;;;395    #endif
;;;396    
;;;397    
;;;398    snmp_bps_number[0]=1;
;;;399    snmp_bps_voltage[0]=bps[0]._Uii;
;;;400    snmp_bps_current[0]=bps[0]._Ii;
;;;401    snmp_bps_temperature[0]=bps[0]._Ti;
;;;402    snmp_bps_stat[0]=bps[0]._av;
;;;403    if(!(NUMIST>0))snmp_bps_stat[0]=0xff;												//Байт состояния БПСа.
;;;404    
;;;405    /*if(St_[0]&(1<<2))snmp_bps_stat[0]=(1<<3); 							//авария по Umin
;;;406    else if(St_[0]&(1<<3))snmp_bps_stat[0]=(1<<2); 						//авария по Umax
;;;407    else if(bps[0]._av&(1<<0))snmp_bps_stat[0]=(1<<1); 						//авария по Tmax
;;;408    else if(St_[0]&(1<<5))snmp_bps_stat[0]=(1<<5); 						//заблокирован
;;;409    else if((!(St_[0]&0x3c))&&(!St&0x01)&&(!OFFBP1))snmp_bps_stat[0]=1; 		//Работает
;;;410    */
;;;411    
;;;412    snmp_bps_number[1]=2;
;;;413    snmp_bps_voltage[1]=bps[1]._Uii;
;;;414    snmp_bps_current[1]=bps[1]._Ii;
;;;415    snmp_bps_temperature[1]=bps[1]._Ti;
;;;416    snmp_bps_stat[1]=bps[1]._av;
;;;417    if(!(NUMIST>1))snmp_bps_stat[1]=0xff;												//Байт состояния БПСа.
;;;418    /*if(St_[1]&(1<<2))snmp_bps_stat[1]=(1<<3); 							//авария по Umin
;;;419    else if(St_[1]&(1<<3))snmp_bps_stat[1]=(1<<2); 						//авария по Umax
;;;420    else if(St_[1]&(1<<4))snmp_bps_stat[1]=(1<<1); 						//авария по Tmax
;;;421    else if(St_[1]&(1<<5))snmp_bps_stat[1]=(1<<5); 						//заблокирован
;;;422    else if((!(St_[1]&0x3c))&&(!St&0x01)&&(!OFFBP2))snmp_bps_stat[1]=1; 		//Работает
;;;423    */
;;;424    
;;;425    snmp_bps_number[2]=3;
;;;426    snmp_bps_voltage[2]=bps[2]._Uii;
;;;427    snmp_bps_current[2]=bps[2]._Ii;
;;;428    snmp_bps_temperature[2]=bps[2]._Ti;
;;;429    snmp_bps_stat[2]=bps[2]._av;
;;;430    if(!(NUMIST>2))snmp_bps_stat[2]=0xff;
;;;431    
;;;432    snmp_bps_number[3]=4;
;;;433    snmp_bps_voltage[3]=bps[3]._Uii;
;;;434    snmp_bps_current[3]=bps[3]._Ii;
;;;435    snmp_bps_temperature[3]=bps[3]._Ti;
;;;436    snmp_bps_stat[3]=bps[3]._av;
;;;437    if(!(NUMIST>3))snmp_bps_stat[3]=0xff;
;;;438    
;;;439    snmp_bps_number[4]=5;
;;;440    snmp_bps_voltage[4]=bps[4]._Uii;
;;;441    snmp_bps_current[4]=bps[4]._Ii;
;;;442    snmp_bps_temperature[4]=bps[4]._Ti;
;;;443    snmp_bps_stat[4]=bps[4]._av;
;;;444    if(!(NUMIST>4))snmp_bps_stat[4]=0xff;
;;;445    
;;;446    snmp_bps_number[5]=6;
;;;447    snmp_bps_voltage[5]=bps[5]._Uii;
;;;448    snmp_bps_current[5]=bps[5]._Ii;
;;;449    snmp_bps_temperature[5]=bps[5]._Ti;
;;;450    snmp_bps_stat[5]=bps[5]._av;
;;;451    if(!(NUMIST>5))snmp_bps_stat[5]=0xff;
;;;452    
;;;453    snmp_bps_number[6]=7;
;;;454    snmp_bps_voltage[6]=bps[6]._Uii;
;;;455    snmp_bps_current[6]=bps[6]._Ii;
;;;456    snmp_bps_temperature[6]=bps[6]._Ti;
;;;457    snmp_bps_stat[6]=bps[6]._av;
;;;458    if(!(NUMIST>6))snmp_bps_stat[6]=0xff;
;;;459    
;;;460    snmp_bps_number[7]=8;
;;;461    snmp_bps_voltage[7]=bps[7]._Uii;
;;;462    snmp_bps_current[7]=bps[7]._Ii;
;;;463    snmp_bps_temperature[7]=bps[7]._Ti;
;;;464    snmp_bps_stat[7]=bps[7]._av;
;;;465    if(!(NUMIST>7))snmp_bps_stat[7]=0xff;
;;;466    
;;;467    
;;;468    
;;;469    snmp_inv_number[0]=1;
;;;470    snmp_inv_voltage[0]=inv[0]._Uio;
;;;471    snmp_inv_current[0]=inv[0]._Ii;
;;;472    snmp_inv_temperature[0]=inv[0]._Ti;
;;;473    snmp_inv_stat[0]=inv[0]._flags_tm;
;;;474    
;;;475    snmp_inv_number[1]=2;
;;;476    snmp_inv_voltage[1]=inv[1]._Uio;
;;;477    snmp_inv_current[1]=inv[1]._Ii;
;;;478    snmp_inv_temperature[1]=inv[1]._Ti;
;;;479    snmp_inv_stat[1]=inv[1]._flags_tm;
;;;480    
;;;481    snmp_inv_number[2]=3;
;;;482    snmp_inv_voltage[2]=inv[2]._Uio;
;;;483    snmp_inv_current[2]=inv[2]._Ii;
;;;484    snmp_inv_temperature[2]=inv[2]._Ti;
;;;485    snmp_inv_stat[2]=inv[2]._flags_tm;
;;;486    
;;;487    
;;;488    
;;;489    
;;;490    					  
;;;491    snmp_sk_number[0]=1;
;;;492    memcpy(&snmp_sk_name[0][0],"Door",10);
;;;493    if(sk_stat[0]==ssON) snmp_sk_aktiv[0]=1;
;;;494    else snmp_sk_aktiv[0]=0;
;;;495    if(!SK_SIGN[0])snmp_sk_alarm_aktiv[0]=1;
;;;496    else snmp_sk_alarm_aktiv[0]=0;
;;;497    if(sk_av_stat[0]==sasON)	snmp_sk_alarm[0]=1;
;;;498    else                     snmp_sk_alarm[0]=0;
;;;499    
;;;500    
;;;501    snmp_sk_number[1]=2;
;;;502    memcpy(&snmp_sk_name[1][0],"Smoke",10);
;;;503    if(sk_stat[1]==ssON) snmp_sk_aktiv[1]=1;
;;;504    else snmp_sk_aktiv[1]=0;
;;;505    if(!SK_SIGN[1])snmp_sk_alarm_aktiv[1]=1;
;;;506    else snmp_sk_alarm_aktiv[1]=0;
;;;507    if(sk_av_stat[1]==sasON)	snmp_sk_alarm[1]=1;
;;;508    else                     snmp_sk_alarm[1]=0;
;;;509    
;;;510    snmp_sk_number[2]=3;
;;;511    memcpy(&snmp_sk_name[2][0],"Shock",10);
;;;512    if(sk_stat[2]==ssON) snmp_sk_aktiv[2]=1;
;;;513    else snmp_sk_aktiv[2]=0;
;;;514    if(!SK_SIGN[2])snmp_sk_alarm_aktiv[2]=1;
;;;515    else snmp_sk_alarm_aktiv[2]=0;
;;;516    if(sk_av_stat[2]==sasON)	snmp_sk_alarm[2]=1;
;;;517    else                     snmp_sk_alarm[2]=0;
;;;518    
;;;519    snmp_sk_number[3]=4;
;;;520    memcpy(&snmp_sk_name[3][0],"     ",10);
;;;521    if(sk_stat[3]==ssON) snmp_sk_aktiv[3]=1;
;;;522    else snmp_sk_aktiv[3]=0;
;;;523    if(!SK_SIGN[3])snmp_sk_alarm_aktiv[3]=1;
;;;524    else snmp_sk_alarm_aktiv[3]=0;
;;;525    if(sk_av_stat[3]==sasON)	snmp_sk_alarm[3]=1;
;;;526    else                     snmp_sk_alarm[3]=0;
;;;527    
;;;528    
;;;529    if(makb[0]._cnt>8) snmp_makb_connect_status[0]=1;
;;;530    else if(makb[0]._cnt<2) snmp_makb_connect_status[0]=0;
;;;531    if(makb[1]._cnt>8) snmp_makb_connect_status[1]=1;
;;;532    else if(makb[1]._cnt<2) snmp_makb_connect_status[1]=0;
;;;533    if(makb[2]._cnt>8) snmp_makb_connect_status[2]=1;
;;;534    else if(makb[2]._cnt<2) snmp_makb_connect_status[2]=0;
;;;535    if(makb[3]._cnt>8) snmp_makb_connect_status[3]=1;
;;;536    else if(makb[3]._cnt<2) snmp_makb_connect_status[3]=0;
;;;537    
;;;538    snmp_makb_voltage0[0]=makb[0]._Ub[0];
;;;539    snmp_makb_voltage1[0]=makb[0]._Ub[1];
;;;540    snmp_makb_voltage2[0]=makb[0]._Ub[2];
;;;541    snmp_makb_voltage3[0]=makb[0]._Ub[3];
;;;542    snmp_makb_voltage4[0]=makb[0]._Ub[4];
;;;543    snmp_makb_voltage0[1]=makb[1]._Ub[0];
;;;544    snmp_makb_voltage1[1]=makb[1]._Ub[1];
;;;545    snmp_makb_voltage2[1]=makb[1]._Ub[2];
;;;546    snmp_makb_voltage3[1]=makb[1]._Ub[3];
;;;547    snmp_makb_voltage4[1]=makb[1]._Ub[4];
;;;548    snmp_makb_voltage0[2]=makb[2]._Ub[0];
;;;549    snmp_makb_voltage1[2]=makb[2]._Ub[1];
;;;550    snmp_makb_voltage2[2]=makb[2]._Ub[2];
;;;551    snmp_makb_voltage3[2]=makb[2]._Ub[3];
;;;552    snmp_makb_voltage4[2]=makb[2]._Ub[4];
;;;553    snmp_makb_voltage0[3]=makb[3]._Ub[0];
;;;554    snmp_makb_voltage1[3]=makb[3]._Ub[1];
;;;555    snmp_makb_voltage2[3]=makb[3]._Ub[2];
;;;556    snmp_makb_voltage3[3]=makb[3]._Ub[3];
;;;557    snmp_makb_voltage4[3]=makb[3]._Ub[4];
;;;558    
;;;559    snmp_makb_temper0[0]=makb[0]._T[0];
;;;560    snmp_makb_temper1[0]=makb[0]._T[1];
;;;561    snmp_makb_temper2[0]=makb[0]._T[2];
;;;562    snmp_makb_temper3[0]=makb[0]._T[3];
;;;563    snmp_makb_temper4[0]=makb[0]._T[4];
;;;564    snmp_makb_temper0[1]=makb[1]._T[0];
;;;565    snmp_makb_temper1[1]=makb[1]._T[1];
;;;566    snmp_makb_temper2[1]=makb[1]._T[2];
;;;567    snmp_makb_temper3[1]=makb[1]._T[3];
;;;568    snmp_makb_temper4[1]=makb[1]._T[4];
;;;569    snmp_makb_temper0[2]=makb[2]._T[0];
;;;570    snmp_makb_temper1[2]=makb[2]._T[1];
;;;571    snmp_makb_temper2[2]=makb[2]._T[2];
;;;572    snmp_makb_temper3[2]=makb[2]._T[3];
;;;573    snmp_makb_temper4[2]=makb[2]._T[4];
;;;574    snmp_makb_temper0[3]=makb[3]._T[0];
;;;575    snmp_makb_temper1[3]=makb[3]._T[1];
;;;576    snmp_makb_temper2[3]=makb[3]._T[2];
;;;577    snmp_makb_temper3[3]=makb[3]._T[3];
;;;578    snmp_makb_temper4[3]=makb[3]._T[4];
;;;579    
;;;580    snmp_makb_temper0_stat[0]=makb[0]._T_nd[0];
;;;581    snmp_makb_temper1_stat[0]=makb[0]._T_nd[1];
;;;582    snmp_makb_temper2_stat[0]=makb[0]._T_nd[2];
;;;583    snmp_makb_temper3_stat[0]=makb[0]._T_nd[3];
;;;584    snmp_makb_temper4_stat[0]=makb[0]._T_nd[4];
;;;585    snmp_makb_temper0_stat[1]=makb[1]._T_nd[0];
;;;586    snmp_makb_temper1_stat[1]=makb[1]._T_nd[1];
;;;587    snmp_makb_temper2_stat[1]=makb[1]._T_nd[2];
;;;588    snmp_makb_temper3_stat[1]=makb[1]._T_nd[3];
;;;589    snmp_makb_temper4_stat[1]=makb[1]._T_nd[4];
;;;590    snmp_makb_temper0_stat[2]=makb[2]._T_nd[0];
;;;591    snmp_makb_temper1_stat[2]=makb[2]._T_nd[1];
;;;592    snmp_makb_temper2_stat[2]=makb[2]._T_nd[2];
;;;593    snmp_makb_temper3_stat[2]=makb[2]._T_nd[3];
;;;594    snmp_makb_temper4_stat[2]=makb[2]._T_nd[4];
;;;595    snmp_makb_temper0_stat[3]=makb[3]._T_nd[0];
;;;596    snmp_makb_temper1_stat[3]=makb[3]._T_nd[1];
;;;597    snmp_makb_temper2_stat[3]=makb[3]._T_nd[2];
;;;598    snmp_makb_temper3_stat[3]=makb[3]._T_nd[3];
;;;599    snmp_makb_temper4_stat[3]=makb[3]._T_nd[4];
;;;600    
;;;601    
;;;602    snmp_klimat_box_temper=t_box;
;;;603    snmp_klimat_settings_box_alarm=TBOXMAX;
;;;604    snmp_klimat_settings_vent_on=TBOXVENTON;
;;;605    snmp_klimat_settings_vent_off=TBOXVENTOFF;
;;;606    snmp_klimat_settings_warm_on=TBOXWARMON;
;;;607    snmp_klimat_settings_warm_off=TBOXWARMOFF;
;;;608    snmp_klimat_settings_load_on=TLOADENABLE;
;;;609    snmp_klimat_settings_load_off=TLOADDISABLE;
;;;610    snmp_klimat_settings_batt_on=TBATENABLE;
;;;611    snmp_klimat_settings_batt_off=TBATDISABLE;
;;;612    
;;;613    snmp_dt_ext=t_ext[0];
;;;614    snmp_dt_msan=t_ext[1];
;;;615    snmp_dt_epu=t_ext[2];
;;;616    
;;;617    /*
;;;618    snmp_bat_voltage=Ubat;
;;;619    snmp_bat_current=Ibat;
;;;620    snmp_bat_temperature=t_b;
;;;621    if(BAT_C_REAL==0x5555)
;;;622    	{
;;;623    	snmp_bat_capacity=BAT_C_NOM*10;												    11
;;;624    	}
;;;625    else
;;;626    	{
;;;627    	snmp_bat_capacity=BAT_C_REAL;
;;;628    	}
;;;629    snmp_bat_charge=zar_percent;
;;;630    snmp_bat_status=0;
;;;631    if(St&0x02)snmp_bat_status|=0x01;
;;;632    if(Ibat>0)snmp_bat_status|=0x02;
;;;633    
;;;634    
;;;635    if(spc_stat==spc_OFF) snmp_spc_stat=0;
;;;636    else if(spc_stat==spc_KE) snmp_spc_stat=1;
;;;637    else if(spc_stat==spc_VZ) snmp_spc_stat=10;
;;;638    
;;;639    
;;;640    snmp_main_bps=MAIN_IST+1;
;;;641    */
;;;642    snmp_zv_en=ZV_ON;
;;;643    snmp_alarm_auto_disable=AV_OFF_AVT;
;;;644    snmp_bat_test_time=TBAT;
;;;645    snmp_u_max=UMAX;
;;;646    snmp_u_min=UB20-DU;
;;;647    snmp_u_0_grad=UB0;
;;;648    snmp_u_20_grad=UB20;
;;;649    snmp_u_sign=USIGN;
;;;650    snmp_u_min_power=UMN;
;;;651    snmp_u_withouth_bat=U0B;
;;;652    snmp_control_current=IKB;
;;;653    snmp_max_charge_current=IZMAX;
;;;654    snmp_max_current=IMAX;
;;;655    snmp_min_current=IMIN;
;;;656    //snmp_max_current_koef=KIMAX;
;;;657    snmp_uvz=UVZ;
;;;658    snmp_powerup_psu_timeout=TZAS;
;;;659    snmp_max_temperature=TMAX;
;;;660    snmp_tsign_bat=TBATSIGN; 
;;;661    snmp_tmax_bat=TBATMAX;
;;;662    snmp_tsign_bps=TSIGN;
;;;663    snmp_tmax_bps=TMAX;
;;;664    snmp_bat_part_alarm=UBM_AV; 
;;;665    snmp_power_cnt_adress=POWER_CNT_ADRESS;
;;;666    
;;;667    for(i=0;i<12;i++)
;;;668    	{
;;;669    	snmp_avt_number[i]=i+1;
;;;670    	if(avt_stat[i]==avtOFF)snmp_avt_stat[i]=0;
;;;671    	else snmp_avt_stat[i]=1;
;;;672    	}
;;;673    
;;;674    snmp_dt_number[0]=1;
;;;675    snmp_dt_number[1]=2;
;;;676    snmp_dt_number[2]=3;
;;;677    //snmp_dt_number[3]=4;
;;;678    snmp_dt_temper[0]=t_ext[0];
;;;679    snmp_dt_temper[1]=t_ext[1];
;;;680    snmp_dt_temper[2]=t_ext[2];
;;;681    //snmp_dt_temper[3]=t_ext[3];
;;;682    snmp_dt_error[0]=ND_EXT[0];
;;;683    if(NUMDT<1)snmp_dt_error[0]=0xff;
;;;684    snmp_dt_error[1]=ND_EXT[1];
;;;685    if(NUMDT<2)snmp_dt_error[0]=0xff;
;;;686    snmp_dt_error[2]=ND_EXT[2];
;;;687    if(NUMDT<3)snmp_dt_error[0]=0xff;
;;;688    //snmp_dt_error[3]=ND_EXT[3];
;;;689    if(NUMDT<4)snmp_dt_error[0]=0xff;
;;;690    
;;;691    /*
;;;692    //Литиевые батареи
;;;693    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;694    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;695    snmp_lakb_voltage[0]=lakb[0]._tot_bat_volt;				//Напряжение ЛАКБ
;;;696    snmp_lakb_voltage[1]=lakb[1]._tot_bat_volt;				//Напряжение ЛАКБ
;;;697    snmp_lakb_max_cell_voltage[0]=lakb[0]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;698    snmp_lakb_max_cell_voltage[1]=lakb[1]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;699    snmp_lakb_min_cell_voltage[0]=lakb[0]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;700    snmp_lakb_min_cell_voltage[1]=lakb[1]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;701    snmp_lakb_max_cell_temperature[0]=lakb[0]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;702    snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;703    snmp_lakb_min_cell_temperature[0]=lakb[0]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;704    snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;705    snmp_lakb_ch_curr[0]=lakb[0]._ch_curr;					//Ток заряда ЛАКБ
;;;706    snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;707    snmp_lakb_dsch_curr[0]=lakb[0]._dsch_curr;				//Ток разряда ЛАКБ
;;;708    snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;709    snmp_lakb_rat_cap[0]=lakb[0]._rat_cap;					//Номинальная емкость ЛАКБ
;;;710    snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;711    snmp_lakb_soh[0]=lakb[0]._s_o_h;						//Остаточная емкость ЛАКБ
;;;712    snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;713    snmp_lakb_soc[0]=lakb[0]._s_o_c;						//Заряд ЛАКБ
;;;714    snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;715    snmp_lakb_cclv[0]=lakb[0]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;716    snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;717    snmp_lakb_rbt[0]=lakb[0]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;718    snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;719    snmp_lakb_flags1[0]=lakb[0]._flags1;					//Первый флаг состояния ЛАКБ
;;;720    snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;721    snmp_lakb_flags2[0]=lakb[0]._flags2;					//Второй флаг состояния ЛАКБ
;;;722    snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ */
;;;723    
;;;724    //Литиевые батареи
;;;725    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;726    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;727    snmp_lakb_number[2]=3;								//Номер ЛАКБ
;;;728    snmp_lakb_number[3]=4;								//Номер ЛАКБ
;;;729    snmp_lakb_number[4]=5;								//Номер ЛАКБ
;;;730    snmp_lakb_number[5]=6;								//Номер ЛАКБ
;;;731    snmp_lakb_number[6]=7;								//Номер ЛАКБ
;;;732    
;;;733    for (i=0;i<3;i++)
;;;734    	{
;;;735    	snmp_lakb_voltage[i]=lakb[i]._tot_bat_volt;				//Напряжение ЛАКБ
;;;736    	snmp_lakb_max_cell_voltage[i]=lakb[i]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;737    	snmp_lakb_min_cell_voltage[i]=lakb[i]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;738    	snmp_lakb_max_cell_temperature[i]=lakb[i]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;739    	//snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;740    	snmp_lakb_min_cell_temperature[i]=lakb[i]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;741    	//snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;742    	snmp_lakb_ch_curr[i]=lakb[i]._ch_curr;					//Ток заряда ЛАКБ
;;;743    	//snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;744    	snmp_lakb_dsch_curr[i]=lakb[i]._dsch_curr;				//Ток разряда ЛАКБ
;;;745    	//snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;746    	snmp_lakb_rat_cap[i]=lakb[i]._rat_cap;					//Номинальная емкость ЛАКБ
;;;747    	//snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;748    	snmp_lakb_soh[i]=lakb[i]._s_o_h;						//Остаточная емкость ЛАКБ
;;;749    	//snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;750    	snmp_lakb_soc[i]=lakb[i]._s_o_c;						//Заряд ЛАКБ
;;;751    	//snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;752    	snmp_lakb_cclv[i]=lakb[i]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;753    	//snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;754    	snmp_lakb_rbt[i]=lakb[i]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;755    	//snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;756    	snmp_lakb_flags1[i]=lakb[i]._flags1;					//Первый флаг состояния ЛАКБ
;;;757    	//snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;758    	snmp_lakb_flags2[i]=lakb[i]._flags2;					//Второй флаг состояния ЛАКБ
;;;759    	//snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ
;;;760    
;;;761    	snmp_lakb_cell_temperature_1[i]= lakb[i]._cell_temp_1;
;;;762    	snmp_lakb_cell_temperature_2[i]= lakb[i]._cell_temp_2;
;;;763    	snmp_lakb_cell_temperature_3[i]= lakb[i]._cell_temp_3;
;;;764    	snmp_lakb_cell_temperature_4[i]= lakb[i]._cell_temp_4;
;;;765    	snmp_lakb_cell_temperature_ambient[i]=lakb[i]._cell_temp_ambient;
;;;766    	snmp_lakb_cell_temperature_power[i]=lakb[i]._cell_temp_power;
;;;767    	}
;;;768    
;;;769    for (i=0;i<7;i++)
;;;770    {
;;;771    /*
;;;772    snmp_lakb_damp1[i][0]=ABCDEF[(lakb_damp[i][0])>>4];			//Дамп
;;;773    snmp_lakb_damp1[i][1]=ABCDEF[(lakb_damp[i][0])&0x0f];			//Дамп
;;;774    snmp_lakb_damp1[i][2]=' ';
;;;775    snmp_lakb_damp1[i][3]=ABCDEF[(lakb_damp[i][1])>>4];			//Дамп
;;;776    snmp_lakb_damp1[i][4]=ABCDEF[(lakb_damp[i][1])&0x0f];			//Дамп
;;;777    snmp_lakb_damp1[i][5]=' ';
;;;778    snmp_lakb_damp1[i][6]=ABCDEF[(lakb_damp[i][2])>>4];			//Дамп
;;;779    snmp_lakb_damp1[i][7]=ABCDEF[(lakb_damp[i][2])&0x0f];			//Дамп
;;;780    snmp_lakb_damp1[i][8]=' ';
;;;781    snmp_lakb_damp1[i][9]=ABCDEF[(lakb_damp[i][3])>>4];			//Дамп
;;;782    snmp_lakb_damp1[i][10]=ABCDEF[(lakb_damp[i][3])&0x0f];			//Дамп
;;;783    snmp_lakb_damp1[i][11]=' ';
;;;784    snmp_lakb_damp1[i][12]=ABCDEF[(lakb_damp[i][4])>>4];			//Дамп
;;;785    snmp_lakb_damp1[i][13]=ABCDEF[(lakb_damp[i][4])&0x0f];			//Дамп
;;;786    snmp_lakb_damp1[i][14]=' '; 
;;;787    snmp_lakb_damp1[i][15]=ABCDEF[(lakb_damp[i][5])>>4];			//Дамп
;;;788    snmp_lakb_damp1[i][16]=ABCDEF[(lakb_damp[i][5])&0x0f];			//Дамп
;;;789    snmp_lakb_damp1[i][17]=' ';
;;;790    snmp_lakb_damp1[i][18]=ABCDEF[(lakb_damp[i][6])>>4];			//Дамп
;;;791    snmp_lakb_damp1[i][19]=ABCDEF[(lakb_damp[i][6])&0x0f];			//Дамп
;;;792    snmp_lakb_damp1[i][20]=' ';
;;;793    snmp_lakb_damp1[i][21]=ABCDEF[(lakb_damp[i][7])>>4];			//Дамп
;;;794    snmp_lakb_damp1[i][22]=ABCDEF[(lakb_damp[i][7])&0x0f];			//Дамп
;;;795    snmp_lakb_damp1[i][23]=' ';
;;;796    snmp_lakb_damp1[i][24]=ABCDEF[(lakb_damp[i][8])>>4];			//Дамп
;;;797    snmp_lakb_damp1[i][25]=ABCDEF[(lakb_damp[i][8])&0x0f];			//Дамп
;;;798    snmp_lakb_damp1[i][26]=' ';
;;;799    snmp_lakb_damp1[i][27]=ABCDEF[(lakb_damp[i][9])>>4];			//Дамп
;;;800    snmp_lakb_damp1[i][28]=ABCDEF[(lakb_damp[i][9])&0x0f];			//Дамп
;;;801    snmp_lakb_damp1[i][29]=0; 
;;;802    
;;;803    snmp_lakb_damp1[i][30]=ABCDEF[(lakb_damp[i][10])>>4];			//Дамп
;;;804    snmp_lakb_damp1[i][31]=ABCDEF[(lakb_damp[i][10])&0x0f];			//Дамп
;;;805    snmp_lakb_damp1[i][32]=' ';
;;;806    snmp_lakb_damp1[i][33]=ABCDEF[(lakb_damp[i][11])>>4];			//Дамп
;;;807    snmp_lakb_damp1[i][34]=ABCDEF[(lakb_damp[i][11])&0x0f];			//Дамп
;;;808    snmp_lakb_damp1[i][35]=' ';
;;;809    snmp_lakb_damp1[i][36]=ABCDEF[(lakb_damp[i][12])>>4];			//Дамп
;;;810    snmp_lakb_damp1[i][37]=ABCDEF[(lakb_damp[i][12])&0x0f];			//Дамп
;;;811    snmp_lakb_damp1[i][38]=' ';
;;;812    snmp_lakb_damp1[i][39]=ABCDEF[(lakb_damp[i][13])>>4];			//Дамп
;;;813    snmp_lakb_damp1[i][40]=ABCDEF[(lakb_damp[i][13])&0x0f];			//Дамп
;;;814    snmp_lakb_damp1[i][41]=' ';
;;;815    snmp_lakb_damp1[i][42]=ABCDEF[(lakb_damp[i][14])>>4];			//Дамп
;;;816    snmp_lakb_damp1[i][43]=ABCDEF[(lakb_damp[i][14])&0x0f];			//Дамп
;;;817    snmp_lakb_damp1[i][44]=' '; 
;;;818    snmp_lakb_damp1[i][45]=ABCDEF[(lakb_damp[i][15])>>4];			//Дамп
;;;819    snmp_lakb_damp1[i][46]=ABCDEF[(lakb_damp[i][15])&0x0f];			//Дамп
;;;820    snmp_lakb_damp1[i][47]=' ';
;;;821    snmp_lakb_damp1[i][48]=ABCDEF[(lakb_damp[i][16])>>4];			//Дамп
;;;822    snmp_lakb_damp1[i][49]=ABCDEF[(lakb_damp[i][16])&0x0f];			//Дамп
;;;823    snmp_lakb_damp1[i][50]=' ';
;;;824    snmp_lakb_damp1[i][51]=ABCDEF[(lakb_damp[i][17])>>4];			//Дамп
;;;825    snmp_lakb_damp1[i][52]=ABCDEF[(lakb_damp[i][17])&0x0f];			//Дамп
;;;826    snmp_lakb_damp1[i][53]=' ';
;;;827    snmp_lakb_damp1[i][54]=ABCDEF[(lakb_damp[i][18])>>4];			//Дамп
;;;828    snmp_lakb_damp1[i][55]=ABCDEF[(lakb_damp[i][18])&0x0f];			//Дамп
;;;829    snmp_lakb_damp1[i][56]=' ';
;;;830    snmp_lakb_damp1[i][57]=ABCDEF[(lakb_damp[i][19])>>4];			//Дамп
;;;831    snmp_lakb_damp1[i][58]=ABCDEF[(lakb_damp[i][19])&0x0f];			//Дамп
;;;832    snmp_lakb_damp1[i][59]=0; 
;;;833    
;;;834    
;;;835    snmp_lakb_damp1[i][60]=ABCDEF[(lakb_damp[i][20])>>4];			//Дамп
;;;836    snmp_lakb_damp1[i][61]=ABCDEF[(lakb_damp[i][20])&0x0f];			//Дамп
;;;837    snmp_lakb_damp1[i][62]=' ';
;;;838    snmp_lakb_damp1[i][63]=ABCDEF[(lakb_damp[i][21])>>4];			//Дамп
;;;839    snmp_lakb_damp1[i][64]=ABCDEF[(lakb_damp[i][21])&0x0f];			//Дамп
;;;840    snmp_lakb_damp1[i][65]=' ';
;;;841    snmp_lakb_damp1[i][66]=ABCDEF[(lakb_damp[i][22])>>4];			//Дамп
;;;842    snmp_lakb_damp1[i][67]=ABCDEF[(lakb_damp[i][22])&0x0f];			//Дамп
;;;843    snmp_lakb_damp1[i][68]=' ';
;;;844    snmp_lakb_damp1[i][69]=ABCDEF[(lakb_damp[i][23])>>4];			//Дамп
;;;845    snmp_lakb_damp1[i][70]=ABCDEF[(lakb_damp[i][23])&0x0f];			//Дамп
;;;846    snmp_lakb_damp1[i][71]=' ';
;;;847    snmp_lakb_damp1[i][72]=ABCDEF[(lakb_damp[i][24])>>4];			//Дамп
;;;848    snmp_lakb_damp1[i][73]=ABCDEF[(lakb_damp[i][24])&0x0f];			//Дамп
;;;849    snmp_lakb_damp1[i][74]=' '; 
;;;850    snmp_lakb_damp1[i][75]=ABCDEF[(lakb_damp[i][25])>>4];			//Дамп
;;;851    snmp_lakb_damp1[i][76]=ABCDEF[(lakb_damp[i][25])&0x0f];			//Дамп
;;;852    snmp_lakb_damp1[i][77]=' ';
;;;853    snmp_lakb_damp1[i][78]=ABCDEF[(lakb_damp[i][26])>>4];			//Дамп
;;;854    snmp_lakb_damp1[i][79]=ABCDEF[(lakb_damp[i][26])&0x0f];			//Дамп
;;;855    snmp_lakb_damp1[i][80]=' ';
;;;856    snmp_lakb_damp1[i][81]=ABCDEF[(lakb_damp[i][27])>>4];			//Дамп
;;;857    snmp_lakb_damp1[i][82]=ABCDEF[(lakb_damp[i][27])&0x0f];			//Дамп
;;;858    snmp_lakb_damp1[i][83]=' ';
;;;859    snmp_lakb_damp1[i][84]=ABCDEF[(lakb_damp[i][28])>>4];			//Дамп
;;;860    snmp_lakb_damp1[i][85]=ABCDEF[(lakb_damp[i][28])&0x0f];			//Дамп
;;;861    snmp_lakb_damp1[i][86]=' ';
;;;862    snmp_lakb_damp1[i][87]=ABCDEF[(lakb_damp[i][29])>>4];			//Дамп
;;;863    snmp_lakb_damp1[i][88]=ABCDEF[(lakb_damp[i][29])&0x0f];			//Дамп
;;;864    snmp_lakb_damp1[i][89]=0;
;;;865    
;;;866    
;;;867    snmp_lakb_damp1[i][90]=ABCDEF[(lakb_damp[i][30])>>4];			//Дамп
;;;868    snmp_lakb_damp1[i][91]=ABCDEF[(lakb_damp[i][30])&0x0f];			//Дамп
;;;869    snmp_lakb_damp1[i][92]=' ';
;;;870    snmp_lakb_damp1[i][93]=ABCDEF[(lakb_damp[i][31])>>4];			//Дамп
;;;871    snmp_lakb_damp1[i][94]=ABCDEF[(lakb_damp[i][31])&0x0f];			//Дамп
;;;872    snmp_lakb_damp1[i][95]=' ';
;;;873    snmp_lakb_damp1[i][96]=ABCDEF[(lakb_damp[i][32])>>4];			//Дамп
;;;874    snmp_lakb_damp1[i][97]=ABCDEF[(lakb_damp[i][32])&0x0f];			//Дамп
;;;875    snmp_lakb_damp1[i][98]=' ';
;;;876    snmp_lakb_damp1[i][99]=ABCDEF[(lakb_damp[i][33])>>4];			//Дамп
;;;877    snmp_lakb_damp1[i][100]=ABCDEF[(lakb_damp[i][33])&0x0f];			//Дамп
;;;878    snmp_lakb_damp1[i][101]=' ';
;;;879    snmp_lakb_damp1[i][102]=ABCDEF[(lakb_damp[i][34])>>4];			//Дамп
;;;880    snmp_lakb_damp1[i][103]=ABCDEF[(lakb_damp[i][34])&0x0f];			//Дамп
;;;881    snmp_lakb_damp1[i][104]=' '; 
;;;882    snmp_lakb_damp1[i][105]=ABCDEF[(lakb_damp[i][35])>>4];			//Дамп
;;;883    snmp_lakb_damp1[i][106]=ABCDEF[(lakb_damp[i][35])&0x0f];			//Дамп
;;;884    snmp_lakb_damp1[i][107]=' ';
;;;885    snmp_lakb_damp1[i][108]=ABCDEF[(lakb_damp[i][36])>>4];			//Дамп
;;;886    snmp_lakb_damp1[i][109]=ABCDEF[(lakb_damp[i][36])&0x0f];			//Дамп
;;;887    snmp_lakb_damp1[i][110]=' ';
;;;888    snmp_lakb_damp1[i][111]=ABCDEF[(lakb_damp[i][37])>>4];			//Дамп
;;;889    snmp_lakb_damp1[i][112]=ABCDEF[(lakb_damp[i][37])&0x0f];			//Дамп
;;;890    snmp_lakb_damp1[i][113]=' ';
;;;891    snmp_lakb_damp1[i][114]=ABCDEF[(lakb_damp[i][38])>>4];			//Дамп
;;;892    snmp_lakb_damp1[i][115]=ABCDEF[(lakb_damp[i][38])&0x0f];			//Дамп
;;;893    snmp_lakb_damp1[i][116]=' ';
;;;894    snmp_lakb_damp1[i][117]=ABCDEF[(lakb_damp[i][39])>>4];			//Дамп
;;;895    snmp_lakb_damp1[i][118]=ABCDEF[(lakb_damp[i][39])&0x0f];			//Дамп
;;;896    snmp_lakb_damp1[i][119]=0; 
;;;897     
;;;898    
;;;899    snmp_lakb_damp1[i][120]=ABCDEF[(lakb_damp[i][40])>>4];			//Дамп
;;;900    snmp_lakb_damp1[i][121]=ABCDEF[(lakb_damp[i][40])&0x0f];			//Дамп
;;;901    snmp_lakb_damp1[i][122]=' ';
;;;902    snmp_lakb_damp1[i][123]=ABCDEF[(lakb_damp[i][41])>>4];			//Дамп
;;;903    snmp_lakb_damp1[i][124]=ABCDEF[(lakb_damp[i][41])&0x0f];			//Дамп
;;;904    snmp_lakb_damp1[i][125]=' ';
;;;905    snmp_lakb_damp1[i][126]=ABCDEF[(lakb_damp[i][42])>>4];			//Дамп
;;;906    snmp_lakb_damp1[i][127]=ABCDEF[(lakb_damp[i][42])&0x0f];			//Дамп
;;;907    snmp_lakb_damp1[i][128]=' ';
;;;908    snmp_lakb_damp1[i][129]=ABCDEF[(lakb_damp[i][43])>>4];			//Дамп
;;;909    snmp_lakb_damp1[i][130]=ABCDEF[(lakb_damp[i][43])&0x0f];			//Дамп
;;;910    snmp_lakb_damp1[i][131]=' ';
;;;911    snmp_lakb_damp1[i][132]=ABCDEF[(lakb_damp[i][44])>>4];			//Дамп
;;;912    snmp_lakb_damp1[i][133]=ABCDEF[(lakb_damp[i][44])&0x0f];			//Дамп
;;;913    snmp_lakb_damp1[i][134]=' '; 
;;;914    snmp_lakb_damp1[i][135]=ABCDEF[(lakb_damp[i][45])>>4];			//Дамп
;;;915    snmp_lakb_damp1[i][136]=ABCDEF[(lakb_damp[i][45])&0x0f];			//Дамп
;;;916    snmp_lakb_damp1[i][137]=' ';
;;;917    snmp_lakb_damp1[i][138]=ABCDEF[(lakb_damp[i][46])>>4];			//Дамп
;;;918    snmp_lakb_damp1[i][139]=ABCDEF[(lakb_damp[i][46])&0x0f];			//Дамп
;;;919    snmp_lakb_damp1[i][140]=' ';
;;;920    snmp_lakb_damp1[i][141]=ABCDEF[(lakb_damp[i][47])>>4];			//Дамп
;;;921    snmp_lakb_damp1[i][142]=ABCDEF[(lakb_damp[i][47])&0x0f];			//Дамп
;;;922    snmp_lakb_damp1[i][143]=' ';
;;;923    snmp_lakb_damp1[i][144]=ABCDEF[(lakb_damp[i][48])>>4];			//Дамп
;;;924    snmp_lakb_damp1[i][145]=ABCDEF[(lakb_damp[i][48])&0x0f];			//Дамп
;;;925    snmp_lakb_damp1[i][146]=' ';
;;;926    snmp_lakb_damp1[i][147]=ABCDEF[(lakb_damp[i][49])>>4];			//Дамп
;;;927    snmp_lakb_damp1[i][148]=ABCDEF[(lakb_damp[i][49])&0x0f];			//Дамп
;;;928    snmp_lakb_damp1[i][149]=0;  */
;;;929    }
;;;930    
;;;931    #ifdef UKU_TELECORE2017
;;;932    snmp_warm_sign=0;
;;;933    if(TELECORE2017_KLIMAT_WARM_SIGNAL==0) snmp_warm_sign=2;
;;;934    else if(TELECORE2017_KLIMAT_WARM_SIGNAL==1) snmp_warm_sign=1;
;;;935    snmp_cool_sign=0;
;;;936    if(TELECORE2017_KLIMAT_VENT_SIGNAL==0) snmp_cool_sign=2;
;;;937    else if(TELECORE2017_KLIMAT_VENT_SIGNAL==1) snmp_cool_sign=1;
;;;938    snmp_warm_on_temper=(signed char)TELECORE2017_KLIMAT_WARM_ON; 
;;;939    snmp_warm_off_temper=(signed char)TELECORE2017_KLIMAT_WARM_OFF;
;;;940    snmp_warm_q=(signed char)TELECORE2017_KLIMAT_CAP;	
;;;941    snmp_cool_20_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON20;
;;;942    snmp_cool_40_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON40;
;;;943    snmp_cool_60_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON60;
;;;944    snmp_cool_80_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON80;
;;;945    snmp_cool_100_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON100;
;;;946    snmp_cool_20_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON20;
;;;947    snmp_cool_40_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON40;
;;;948    snmp_cool_60_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON60;
;;;949    snmp_cool_80_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON80;
;;;950    snmp_cool_100_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON100;
;;;951    snmp_warm_stat=0;
;;;952    if(warm_stat_k==wsON) snmp_warm_stat=1;
;;;953    #endif
;;;954    }
;;;955    //-----------------------------------------------
                          ENDP

000012  0000              DCW      0x0000
                  |L18.20|
                          DCD      ||.data||+0x80

                          AREA ||area_number.19||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.19||, ||.text||
                  snmp_klimat_settings_batt_off_write PROC
;;;261    //-----------------------------------------------
;;;262    void snmp_data (void) 
000000  2801              CMP      r0,#1
;;;263    {
000002  d105              BNE      |L19.16|
;;;264    char i;
;;;265    
;;;266    snmp_mains_power_voltage=net_U;
000004  4803              LDR      r0,|L19.20|
000006  f9b0100c          LDRSH    r1,[r0,#0xc]  ; snmp_klimat_settings_batt_off
00000a  20da              MOVS     r0,#0xda
00000c  f7ffbffe          B.W      lc640_write_int
                  |L19.16|
;;;267    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;268    snmp_mains_power_frequency=net_F3;
000010  4770              BX       lr
;;;269    #else
;;;270    snmp_mains_power_frequency=net_F;
;;;271    #endif
;;;272    snmp_mains_power_voltage_phaseA=net_Ua;
;;;273    snmp_mains_power_voltage_phaseB=net_Ub;
;;;274    snmp_mains_power_voltage_phaseC=net_Uc;
;;;275    
;;;276    
;;;277    if(avar_stat&0x0001)snmp_mains_power_alarm=1;
;;;278    else snmp_mains_power_alarm=0;
;;;279    if(avar_stat&0x0001)snmp_mains_power_status=1;
;;;280    else snmp_mains_power_status=0;
;;;281    
;;;282    /*
;;;283    snmp_mains_power_status=0; 
;;;284    #if(UKU_VERSION==900)
;;;285    snmp_mains_power_status=2;
;;;286    #endif
;;;287    if(St&0x01)snmp_mains_power_status|=0x01;
;;;288    if(St&0x01)snmp_mains_power_alarm=1;
;;;289    
;;;290    
;;;291    
;;;292    
;;;293    
;;;294    
;;;295    for(i=0;i<snmp_numofevents;i++)event2snmp(i);
;;;296    //snmp_bpsnumber[0]=1;
;;;297    //snmp_bpsnumber[1]=2;
;;;298    
;;;299    
;;;300    snmp_sernum_lsb=0x1122;
;;;301    snmp_sernum_msb=0x3344;
;;;302    snmp_device_code=AUSW_MAIN;
;;;303    
;;;304    //memcpy(snmp_location,"lkhg;la",);
;;;305    
;;;306    
;;;307    snmp_numofbat=1;
;;;308    
;;;309    */
;;;310    snmp_sernum=AUSW_MAIN_NUMBER;
;;;311    
;;;312    snmp_load_voltage=load_U;
;;;313    snmp_load_current=load_I;
;;;314    snmp_numofbat=NUMBAT;
;;;315    snmp_numofbps=NUMIST;
;;;316    snmp_numofinv=NUMINV;
;;;317    snmp_numofavt=NUMAVT;
;;;318    snmp_numofdt=NUMDT;
;;;319    snmp_numofsk=NUMSK;
;;;320    snmp_numofevents=lc640_read_int(CNT_EVENT_LOG);
;;;321    
;;;322    snmp_energy_vvod_phase_a=Uvv_eb2[0];
;;;323    snmp_energy_vvod_phase_b=Uvv_eb2[1];
;;;324    snmp_energy_vvod_phase_c=Uvv_eb2[2];
;;;325    snmp_energy_pes_phase_a=Upes_eb2[0];
;;;326    snmp_energy_pes_phase_b=Upes_eb2[1];
;;;327    snmp_energy_pes_phase_c=Upes_eb2[2];
;;;328    
;;;329    #ifdef UKU_KONTUR
;;;330    snmp_energy_vvod_phase_a=Uvv0;
;;;331    snmp_energy_pes_phase_a=Uvv[1];
;;;332    #endif
;;;333    
;;;334    snmp_energy_total_energy=power_summary;
;;;335    snmp_energy_current_energy=power_current;
;;;336    snmp_energy_input_voltage=net_U;
;;;337    
;;;338    
;;;339    #ifdef UKU_ZVU
;;;340    snmp_bat_number[0]=1;
;;;341    snmp_bat_voltage[0]=out_U;
;;;342    snmp_bat_current[0]=Ib_ips_termokompensat;
;;;343    snmp_bat_rem_time[0]=bat_hndl_t_razr_min;
;;;344    if(Ib_ips_termokompensat>0)snmp_bat_rem_time[0]=-1;
;;;345    snmp_bat_temperature[0]=t_ext[0];
;;;346    if(ND_EXT[0])snmp_bat_temperature[0]=-1000;
;;;347    snmp_bat_capacity[0]=BAT_C_POINT_20;
;;;348    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;349    snmp_bat_status[0]=bat_ips._av&1;
;;;350    if(NUMBAT==0)snmp_bat_status[0]=0xff;
;;;351    #endif
;;;352    
;;;353    #ifndef UKU_ZVU
;;;354    snmp_bat_number[0]=1;
;;;355    snmp_bat_voltage[0]=bat[0]._Ub;
;;;356    snmp_bat_part_voltage[0]=bat[0]._Ubm;
;;;357    snmp_bat_current[0]=bat[0]._Ib;
;;;358    
;;;359    /*
;;;360    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;361    if(((AUSW_MAIN==22063)||(AUSW_MAIN==22023))&&(bps[8]._device==dIBAT_METR))
;;;362    	{
;;;363    	snmp_bat_current[0]=Ib_ips_termokompensat;
;;;364    	}
;;;365    #endif*/
;;;366    
;;;367    snmp_bat_temperature[0]=bat[0]._Tb;
;;;368    if(bat[0]._nd) snmp_bat_temperature[0]=-1000;
;;;369    
;;;370    if(BAT_C_REAL[0]==0x5555)snmp_bat_capacity[0]=BAT_C_NOM[0];
;;;371    else snmp_bat_capacity[0]=BAT_C_REAL[0];
;;;372    /*
;;;373    #ifdef UKU_ZVU
;;;374    snmp_bat_charge[0]=(bat_hndl_zvu_Q/10000L);
;;;375    
;;;376    #else
;;;377    snmp_bat_charge[0]=bat[0]._zar;
;;;378    #endif */
;;;379    snmp_bat_charge[0]=bat[0]._zar;
;;;380    snmp_bat_status[0]=bat[0]._av;
;;;381    if(BAT_IS_ON[0]!=bisON)snmp_bat_status[0]=0xff;
;;;382    
;;;383    
;;;384    snmp_bat_number[1]=2;
;;;385    snmp_bat_voltage[1]=bat[1]._Ub;
;;;386    snmp_bat_part_voltage[1]=bat[1]._Ubm;
;;;387    snmp_bat_current[1]=bat[1]._Ib;
;;;388    snmp_bat_temperature[1]=bat[1]._Tb;
;;;389    if(bat[1]._nd) snmp_bat_temperature[1]=-1000;
;;;390    if(BAT_C_REAL[1]==0x5555)snmp_bat_capacity[1]=BAT_C_NOM[1];
;;;391    else snmp_bat_capacity[1]=BAT_C_REAL[1];
;;;392    snmp_bat_charge[1]=bat[1]._zar;
;;;393    snmp_bat_status[1]=bat[1]._av;
;;;394    if(BAT_IS_ON[1]!=bisON)snmp_bat_status[1]=0xff;
;;;395    #endif
;;;396    
;;;397    
;;;398    snmp_bps_number[0]=1;
;;;399    snmp_bps_voltage[0]=bps[0]._Uii;
;;;400    snmp_bps_current[0]=bps[0]._Ii;
;;;401    snmp_bps_temperature[0]=bps[0]._Ti;
;;;402    snmp_bps_stat[0]=bps[0]._av;
;;;403    if(!(NUMIST>0))snmp_bps_stat[0]=0xff;												//Байт состояния БПСа.
;;;404    
;;;405    /*if(St_[0]&(1<<2))snmp_bps_stat[0]=(1<<3); 							//авария по Umin
;;;406    else if(St_[0]&(1<<3))snmp_bps_stat[0]=(1<<2); 						//авария по Umax
;;;407    else if(bps[0]._av&(1<<0))snmp_bps_stat[0]=(1<<1); 						//авария по Tmax
;;;408    else if(St_[0]&(1<<5))snmp_bps_stat[0]=(1<<5); 						//заблокирован
;;;409    else if((!(St_[0]&0x3c))&&(!St&0x01)&&(!OFFBP1))snmp_bps_stat[0]=1; 		//Работает
;;;410    */
;;;411    
;;;412    snmp_bps_number[1]=2;
;;;413    snmp_bps_voltage[1]=bps[1]._Uii;
;;;414    snmp_bps_current[1]=bps[1]._Ii;
;;;415    snmp_bps_temperature[1]=bps[1]._Ti;
;;;416    snmp_bps_stat[1]=bps[1]._av;
;;;417    if(!(NUMIST>1))snmp_bps_stat[1]=0xff;												//Байт состояния БПСа.
;;;418    /*if(St_[1]&(1<<2))snmp_bps_stat[1]=(1<<3); 							//авария по Umin
;;;419    else if(St_[1]&(1<<3))snmp_bps_stat[1]=(1<<2); 						//авария по Umax
;;;420    else if(St_[1]&(1<<4))snmp_bps_stat[1]=(1<<1); 						//авария по Tmax
;;;421    else if(St_[1]&(1<<5))snmp_bps_stat[1]=(1<<5); 						//заблокирован
;;;422    else if((!(St_[1]&0x3c))&&(!St&0x01)&&(!OFFBP2))snmp_bps_stat[1]=1; 		//Работает
;;;423    */
;;;424    
;;;425    snmp_bps_number[2]=3;
;;;426    snmp_bps_voltage[2]=bps[2]._Uii;
;;;427    snmp_bps_current[2]=bps[2]._Ii;
;;;428    snmp_bps_temperature[2]=bps[2]._Ti;
;;;429    snmp_bps_stat[2]=bps[2]._av;
;;;430    if(!(NUMIST>2))snmp_bps_stat[2]=0xff;
;;;431    
;;;432    snmp_bps_number[3]=4;
;;;433    snmp_bps_voltage[3]=bps[3]._Uii;
;;;434    snmp_bps_current[3]=bps[3]._Ii;
;;;435    snmp_bps_temperature[3]=bps[3]._Ti;
;;;436    snmp_bps_stat[3]=bps[3]._av;
;;;437    if(!(NUMIST>3))snmp_bps_stat[3]=0xff;
;;;438    
;;;439    snmp_bps_number[4]=5;
;;;440    snmp_bps_voltage[4]=bps[4]._Uii;
;;;441    snmp_bps_current[4]=bps[4]._Ii;
;;;442    snmp_bps_temperature[4]=bps[4]._Ti;
;;;443    snmp_bps_stat[4]=bps[4]._av;
;;;444    if(!(NUMIST>4))snmp_bps_stat[4]=0xff;
;;;445    
;;;446    snmp_bps_number[5]=6;
;;;447    snmp_bps_voltage[5]=bps[5]._Uii;
;;;448    snmp_bps_current[5]=bps[5]._Ii;
;;;449    snmp_bps_temperature[5]=bps[5]._Ti;
;;;450    snmp_bps_stat[5]=bps[5]._av;
;;;451    if(!(NUMIST>5))snmp_bps_stat[5]=0xff;
;;;452    
;;;453    snmp_bps_number[6]=7;
;;;454    snmp_bps_voltage[6]=bps[6]._Uii;
;;;455    snmp_bps_current[6]=bps[6]._Ii;
;;;456    snmp_bps_temperature[6]=bps[6]._Ti;
;;;457    snmp_bps_stat[6]=bps[6]._av;
;;;458    if(!(NUMIST>6))snmp_bps_stat[6]=0xff;
;;;459    
;;;460    snmp_bps_number[7]=8;
;;;461    snmp_bps_voltage[7]=bps[7]._Uii;
;;;462    snmp_bps_current[7]=bps[7]._Ii;
;;;463    snmp_bps_temperature[7]=bps[7]._Ti;
;;;464    snmp_bps_stat[7]=bps[7]._av;
;;;465    if(!(NUMIST>7))snmp_bps_stat[7]=0xff;
;;;466    
;;;467    
;;;468    
;;;469    snmp_inv_number[0]=1;
;;;470    snmp_inv_voltage[0]=inv[0]._Uio;
;;;471    snmp_inv_current[0]=inv[0]._Ii;
;;;472    snmp_inv_temperature[0]=inv[0]._Ti;
;;;473    snmp_inv_stat[0]=inv[0]._flags_tm;
;;;474    
;;;475    snmp_inv_number[1]=2;
;;;476    snmp_inv_voltage[1]=inv[1]._Uio;
;;;477    snmp_inv_current[1]=inv[1]._Ii;
;;;478    snmp_inv_temperature[1]=inv[1]._Ti;
;;;479    snmp_inv_stat[1]=inv[1]._flags_tm;
;;;480    
;;;481    snmp_inv_number[2]=3;
;;;482    snmp_inv_voltage[2]=inv[2]._Uio;
;;;483    snmp_inv_current[2]=inv[2]._Ii;
;;;484    snmp_inv_temperature[2]=inv[2]._Ti;
;;;485    snmp_inv_stat[2]=inv[2]._flags_tm;
;;;486    
;;;487    
;;;488    
;;;489    
;;;490    					  
;;;491    snmp_sk_number[0]=1;
;;;492    memcpy(&snmp_sk_name[0][0],"Door",10);
;;;493    if(sk_stat[0]==ssON) snmp_sk_aktiv[0]=1;
;;;494    else snmp_sk_aktiv[0]=0;
;;;495    if(!SK_SIGN[0])snmp_sk_alarm_aktiv[0]=1;
;;;496    else snmp_sk_alarm_aktiv[0]=0;
;;;497    if(sk_av_stat[0]==sasON)	snmp_sk_alarm[0]=1;
;;;498    else                     snmp_sk_alarm[0]=0;
;;;499    
;;;500    
;;;501    snmp_sk_number[1]=2;
;;;502    memcpy(&snmp_sk_name[1][0],"Smoke",10);
;;;503    if(sk_stat[1]==ssON) snmp_sk_aktiv[1]=1;
;;;504    else snmp_sk_aktiv[1]=0;
;;;505    if(!SK_SIGN[1])snmp_sk_alarm_aktiv[1]=1;
;;;506    else snmp_sk_alarm_aktiv[1]=0;
;;;507    if(sk_av_stat[1]==sasON)	snmp_sk_alarm[1]=1;
;;;508    else                     snmp_sk_alarm[1]=0;
;;;509    
;;;510    snmp_sk_number[2]=3;
;;;511    memcpy(&snmp_sk_name[2][0],"Shock",10);
;;;512    if(sk_stat[2]==ssON) snmp_sk_aktiv[2]=1;
;;;513    else snmp_sk_aktiv[2]=0;
;;;514    if(!SK_SIGN[2])snmp_sk_alarm_aktiv[2]=1;
;;;515    else snmp_sk_alarm_aktiv[2]=0;
;;;516    if(sk_av_stat[2]==sasON)	snmp_sk_alarm[2]=1;
;;;517    else                     snmp_sk_alarm[2]=0;
;;;518    
;;;519    snmp_sk_number[3]=4;
;;;520    memcpy(&snmp_sk_name[3][0],"     ",10);
;;;521    if(sk_stat[3]==ssON) snmp_sk_aktiv[3]=1;
;;;522    else snmp_sk_aktiv[3]=0;
;;;523    if(!SK_SIGN[3])snmp_sk_alarm_aktiv[3]=1;
;;;524    else snmp_sk_alarm_aktiv[3]=0;
;;;525    if(sk_av_stat[3]==sasON)	snmp_sk_alarm[3]=1;
;;;526    else                     snmp_sk_alarm[3]=0;
;;;527    
;;;528    
;;;529    if(makb[0]._cnt>8) snmp_makb_connect_status[0]=1;
;;;530    else if(makb[0]._cnt<2) snmp_makb_connect_status[0]=0;
;;;531    if(makb[1]._cnt>8) snmp_makb_connect_status[1]=1;
;;;532    else if(makb[1]._cnt<2) snmp_makb_connect_status[1]=0;
;;;533    if(makb[2]._cnt>8) snmp_makb_connect_status[2]=1;
;;;534    else if(makb[2]._cnt<2) snmp_makb_connect_status[2]=0;
;;;535    if(makb[3]._cnt>8) snmp_makb_connect_status[3]=1;
;;;536    else if(makb[3]._cnt<2) snmp_makb_connect_status[3]=0;
;;;537    
;;;538    snmp_makb_voltage0[0]=makb[0]._Ub[0];
;;;539    snmp_makb_voltage1[0]=makb[0]._Ub[1];
;;;540    snmp_makb_voltage2[0]=makb[0]._Ub[2];
;;;541    snmp_makb_voltage3[0]=makb[0]._Ub[3];
;;;542    snmp_makb_voltage4[0]=makb[0]._Ub[4];
;;;543    snmp_makb_voltage0[1]=makb[1]._Ub[0];
;;;544    snmp_makb_voltage1[1]=makb[1]._Ub[1];
;;;545    snmp_makb_voltage2[1]=makb[1]._Ub[2];
;;;546    snmp_makb_voltage3[1]=makb[1]._Ub[3];
;;;547    snmp_makb_voltage4[1]=makb[1]._Ub[4];
;;;548    snmp_makb_voltage0[2]=makb[2]._Ub[0];
;;;549    snmp_makb_voltage1[2]=makb[2]._Ub[1];
;;;550    snmp_makb_voltage2[2]=makb[2]._Ub[2];
;;;551    snmp_makb_voltage3[2]=makb[2]._Ub[3];
;;;552    snmp_makb_voltage4[2]=makb[2]._Ub[4];
;;;553    snmp_makb_voltage0[3]=makb[3]._Ub[0];
;;;554    snmp_makb_voltage1[3]=makb[3]._Ub[1];
;;;555    snmp_makb_voltage2[3]=makb[3]._Ub[2];
;;;556    snmp_makb_voltage3[3]=makb[3]._Ub[3];
;;;557    snmp_makb_voltage4[3]=makb[3]._Ub[4];
;;;558    
;;;559    snmp_makb_temper0[0]=makb[0]._T[0];
;;;560    snmp_makb_temper1[0]=makb[0]._T[1];
;;;561    snmp_makb_temper2[0]=makb[0]._T[2];
;;;562    snmp_makb_temper3[0]=makb[0]._T[3];
;;;563    snmp_makb_temper4[0]=makb[0]._T[4];
;;;564    snmp_makb_temper0[1]=makb[1]._T[0];
;;;565    snmp_makb_temper1[1]=makb[1]._T[1];
;;;566    snmp_makb_temper2[1]=makb[1]._T[2];
;;;567    snmp_makb_temper3[1]=makb[1]._T[3];
;;;568    snmp_makb_temper4[1]=makb[1]._T[4];
;;;569    snmp_makb_temper0[2]=makb[2]._T[0];
;;;570    snmp_makb_temper1[2]=makb[2]._T[1];
;;;571    snmp_makb_temper2[2]=makb[2]._T[2];
;;;572    snmp_makb_temper3[2]=makb[2]._T[3];
;;;573    snmp_makb_temper4[2]=makb[2]._T[4];
;;;574    snmp_makb_temper0[3]=makb[3]._T[0];
;;;575    snmp_makb_temper1[3]=makb[3]._T[1];
;;;576    snmp_makb_temper2[3]=makb[3]._T[2];
;;;577    snmp_makb_temper3[3]=makb[3]._T[3];
;;;578    snmp_makb_temper4[3]=makb[3]._T[4];
;;;579    
;;;580    snmp_makb_temper0_stat[0]=makb[0]._T_nd[0];
;;;581    snmp_makb_temper1_stat[0]=makb[0]._T_nd[1];
;;;582    snmp_makb_temper2_stat[0]=makb[0]._T_nd[2];
;;;583    snmp_makb_temper3_stat[0]=makb[0]._T_nd[3];
;;;584    snmp_makb_temper4_stat[0]=makb[0]._T_nd[4];
;;;585    snmp_makb_temper0_stat[1]=makb[1]._T_nd[0];
;;;586    snmp_makb_temper1_stat[1]=makb[1]._T_nd[1];
;;;587    snmp_makb_temper2_stat[1]=makb[1]._T_nd[2];
;;;588    snmp_makb_temper3_stat[1]=makb[1]._T_nd[3];
;;;589    snmp_makb_temper4_stat[1]=makb[1]._T_nd[4];
;;;590    snmp_makb_temper0_stat[2]=makb[2]._T_nd[0];
;;;591    snmp_makb_temper1_stat[2]=makb[2]._T_nd[1];
;;;592    snmp_makb_temper2_stat[2]=makb[2]._T_nd[2];
;;;593    snmp_makb_temper3_stat[2]=makb[2]._T_nd[3];
;;;594    snmp_makb_temper4_stat[2]=makb[2]._T_nd[4];
;;;595    snmp_makb_temper0_stat[3]=makb[3]._T_nd[0];
;;;596    snmp_makb_temper1_stat[3]=makb[3]._T_nd[1];
;;;597    snmp_makb_temper2_stat[3]=makb[3]._T_nd[2];
;;;598    snmp_makb_temper3_stat[3]=makb[3]._T_nd[3];
;;;599    snmp_makb_temper4_stat[3]=makb[3]._T_nd[4];
;;;600    
;;;601    
;;;602    snmp_klimat_box_temper=t_box;
;;;603    snmp_klimat_settings_box_alarm=TBOXMAX;
;;;604    snmp_klimat_settings_vent_on=TBOXVENTON;
;;;605    snmp_klimat_settings_vent_off=TBOXVENTOFF;
;;;606    snmp_klimat_settings_warm_on=TBOXWARMON;
;;;607    snmp_klimat_settings_warm_off=TBOXWARMOFF;
;;;608    snmp_klimat_settings_load_on=TLOADENABLE;
;;;609    snmp_klimat_settings_load_off=TLOADDISABLE;
;;;610    snmp_klimat_settings_batt_on=TBATENABLE;
;;;611    snmp_klimat_settings_batt_off=TBATDISABLE;
;;;612    
;;;613    snmp_dt_ext=t_ext[0];
;;;614    snmp_dt_msan=t_ext[1];
;;;615    snmp_dt_epu=t_ext[2];
;;;616    
;;;617    /*
;;;618    snmp_bat_voltage=Ubat;
;;;619    snmp_bat_current=Ibat;
;;;620    snmp_bat_temperature=t_b;
;;;621    if(BAT_C_REAL==0x5555)
;;;622    	{
;;;623    	snmp_bat_capacity=BAT_C_NOM*10;												    11
;;;624    	}
;;;625    else
;;;626    	{
;;;627    	snmp_bat_capacity=BAT_C_REAL;
;;;628    	}
;;;629    snmp_bat_charge=zar_percent;
;;;630    snmp_bat_status=0;
;;;631    if(St&0x02)snmp_bat_status|=0x01;
;;;632    if(Ibat>0)snmp_bat_status|=0x02;
;;;633    
;;;634    
;;;635    if(spc_stat==spc_OFF) snmp_spc_stat=0;
;;;636    else if(spc_stat==spc_KE) snmp_spc_stat=1;
;;;637    else if(spc_stat==spc_VZ) snmp_spc_stat=10;
;;;638    
;;;639    
;;;640    snmp_main_bps=MAIN_IST+1;
;;;641    */
;;;642    snmp_zv_en=ZV_ON;
;;;643    snmp_alarm_auto_disable=AV_OFF_AVT;
;;;644    snmp_bat_test_time=TBAT;
;;;645    snmp_u_max=UMAX;
;;;646    snmp_u_min=UB20-DU;
;;;647    snmp_u_0_grad=UB0;
;;;648    snmp_u_20_grad=UB20;
;;;649    snmp_u_sign=USIGN;
;;;650    snmp_u_min_power=UMN;
;;;651    snmp_u_withouth_bat=U0B;
;;;652    snmp_control_current=IKB;
;;;653    snmp_max_charge_current=IZMAX;
;;;654    snmp_max_current=IMAX;
;;;655    snmp_min_current=IMIN;
;;;656    //snmp_max_current_koef=KIMAX;
;;;657    snmp_uvz=UVZ;
;;;658    snmp_powerup_psu_timeout=TZAS;
;;;659    snmp_max_temperature=TMAX;
;;;660    snmp_tsign_bat=TBATSIGN; 
;;;661    snmp_tmax_bat=TBATMAX;
;;;662    snmp_tsign_bps=TSIGN;
;;;663    snmp_tmax_bps=TMAX;
;;;664    snmp_bat_part_alarm=UBM_AV; 
;;;665    snmp_power_cnt_adress=POWER_CNT_ADRESS;
;;;666    
;;;667    for(i=0;i<12;i++)
;;;668    	{
;;;669    	snmp_avt_number[i]=i+1;
;;;670    	if(avt_stat[i]==avtOFF)snmp_avt_stat[i]=0;
;;;671    	else snmp_avt_stat[i]=1;
;;;672    	}
;;;673    
;;;674    snmp_dt_number[0]=1;
;;;675    snmp_dt_number[1]=2;
;;;676    snmp_dt_number[2]=3;
;;;677    //snmp_dt_number[3]=4;
;;;678    snmp_dt_temper[0]=t_ext[0];
;;;679    snmp_dt_temper[1]=t_ext[1];
;;;680    snmp_dt_temper[2]=t_ext[2];
;;;681    //snmp_dt_temper[3]=t_ext[3];
;;;682    snmp_dt_error[0]=ND_EXT[0];
;;;683    if(NUMDT<1)snmp_dt_error[0]=0xff;
;;;684    snmp_dt_error[1]=ND_EXT[1];
;;;685    if(NUMDT<2)snmp_dt_error[0]=0xff;
;;;686    snmp_dt_error[2]=ND_EXT[2];
;;;687    if(NUMDT<3)snmp_dt_error[0]=0xff;
;;;688    //snmp_dt_error[3]=ND_EXT[3];
;;;689    if(NUMDT<4)snmp_dt_error[0]=0xff;
;;;690    
;;;691    /*
;;;692    //Литиевые батареи
;;;693    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;694    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;695    snmp_lakb_voltage[0]=lakb[0]._tot_bat_volt;				//Напряжение ЛАКБ
;;;696    snmp_lakb_voltage[1]=lakb[1]._tot_bat_volt;				//Напряжение ЛАКБ
;;;697    snmp_lakb_max_cell_voltage[0]=lakb[0]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;698    snmp_lakb_max_cell_voltage[1]=lakb[1]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;699    snmp_lakb_min_cell_voltage[0]=lakb[0]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;700    snmp_lakb_min_cell_voltage[1]=lakb[1]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;701    snmp_lakb_max_cell_temperature[0]=lakb[0]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;702    snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;703    snmp_lakb_min_cell_temperature[0]=lakb[0]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;704    snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;705    snmp_lakb_ch_curr[0]=lakb[0]._ch_curr;					//Ток заряда ЛАКБ
;;;706    snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;707    snmp_lakb_dsch_curr[0]=lakb[0]._dsch_curr;				//Ток разряда ЛАКБ
;;;708    snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;709    snmp_lakb_rat_cap[0]=lakb[0]._rat_cap;					//Номинальная емкость ЛАКБ
;;;710    snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;711    snmp_lakb_soh[0]=lakb[0]._s_o_h;						//Остаточная емкость ЛАКБ
;;;712    snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;713    snmp_lakb_soc[0]=lakb[0]._s_o_c;						//Заряд ЛАКБ
;;;714    snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;715    snmp_lakb_cclv[0]=lakb[0]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;716    snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;717    snmp_lakb_rbt[0]=lakb[0]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;718    snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;719    snmp_lakb_flags1[0]=lakb[0]._flags1;					//Первый флаг состояния ЛАКБ
;;;720    snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;721    snmp_lakb_flags2[0]=lakb[0]._flags2;					//Второй флаг состояния ЛАКБ
;;;722    snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ */
;;;723    
;;;724    //Литиевые батареи
;;;725    snmp_lakb_number[0]=1;								//Номер ЛАКБ
;;;726    snmp_lakb_number[1]=2;								//Номер ЛАКБ
;;;727    snmp_lakb_number[2]=3;								//Номер ЛАКБ
;;;728    snmp_lakb_number[3]=4;								//Номер ЛАКБ
;;;729    snmp_lakb_number[4]=5;								//Номер ЛАКБ
;;;730    snmp_lakb_number[5]=6;								//Номер ЛАКБ
;;;731    snmp_lakb_number[6]=7;								//Номер ЛАКБ
;;;732    
;;;733    for (i=0;i<3;i++)
;;;734    	{
;;;735    	snmp_lakb_voltage[i]=lakb[i]._tot_bat_volt;				//Напряжение ЛАКБ
;;;736    	snmp_lakb_max_cell_voltage[i]=lakb[i]._max_cell_volt;		//Максимальное напряжение ячейки ЛАКБ
;;;737    	snmp_lakb_min_cell_voltage[i]=lakb[i]._min_cell_volt;		//Минимальное напряжение ячейки ЛАКБ
;;;738    	snmp_lakb_max_cell_temperature[i]=lakb[i]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;739    	//snmp_lakb_max_cell_temperature[1]=lakb[1]._max_cell_temp;	//Максимальная температура ячейки ЛАКБ
;;;740    	snmp_lakb_min_cell_temperature[i]=lakb[i]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;741    	//snmp_lakb_min_cell_temperature[1]=lakb[1]._min_cell_temp;	//Минимальная температура ячейки ЛАКБ
;;;742    	snmp_lakb_ch_curr[i]=lakb[i]._ch_curr;					//Ток заряда ЛАКБ
;;;743    	//snmp_lakb_ch_curr[1]=lakb[1]._ch_curr;					//Ток заряда ЛАКБ
;;;744    	snmp_lakb_dsch_curr[i]=lakb[i]._dsch_curr;				//Ток разряда ЛАКБ
;;;745    	//snmp_lakb_dsch_curr[1]=lakb[1]._dsch_curr;				//Ток разряда ЛАКБ
;;;746    	snmp_lakb_rat_cap[i]=lakb[i]._rat_cap;					//Номинальная емкость ЛАКБ
;;;747    	//snmp_lakb_rat_cap[1]=lakb[1]._rat_cap;					//Номинальная емкость ЛАКБ
;;;748    	snmp_lakb_soh[i]=lakb[i]._s_o_h;						//Остаточная емкость ЛАКБ
;;;749    	//snmp_lakb_soh[1]=lakb[1]._s_o_h;						//Остаточная емкость ЛАКБ
;;;750    	snmp_lakb_soc[i]=lakb[i]._s_o_c;						//Заряд ЛАКБ
;;;751    	//snmp_lakb_soc[1]=lakb[1]._s_o_c;						//Заряд ЛАКБ
;;;752    	snmp_lakb_cclv[i]=lakb[i]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;753    	//snmp_lakb_cclv[1]=lakb[1]._c_c_l_v;  					//Максимальный ток заряда ЛАКБ
;;;754    	snmp_lakb_rbt[i]=lakb[i]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;755    	//snmp_lakb_rbt[1]=lakb[1]._r_b_t;						//Оцениваемое время работы ЛАКБ
;;;756    	snmp_lakb_flags1[i]=lakb[i]._flags1;					//Первый флаг состояния ЛАКБ
;;;757    	//snmp_lakb_flags1[1]=lakb[1]._flags1;					//Первый флаг состояния ЛАКБ
;;;758    	snmp_lakb_flags2[i]=lakb[i]._flags2;					//Второй флаг состояния ЛАКБ
;;;759    	//snmp_lakb_flags2[1]=lakb[1]._flags2;					//Второй флаг состояния ЛАКБ
;;;760    
;;;761    	snmp_lakb_cell_temperature_1[i]= lakb[i]._cell_temp_1;
;;;762    	snmp_lakb_cell_temperature_2[i]= lakb[i]._cell_temp_2;
;;;763    	snmp_lakb_cell_temperature_3[i]= lakb[i]._cell_temp_3;
;;;764    	snmp_lakb_cell_temperature_4[i]= lakb[i]._cell_temp_4;
;;;765    	snmp_lakb_cell_temperature_ambient[i]=lakb[i]._cell_temp_ambient;
;;;766    	snmp_lakb_cell_temperature_power[i]=lakb[i]._cell_temp_power;
;;;767    	}
;;;768    
;;;769    for (i=0;i<7;i++)
;;;770    {
;;;771    /*
;;;772    snmp_lakb_damp1[i][0]=ABCDEF[(lakb_damp[i][0])>>4];			//Дамп
;;;773    snmp_lakb_damp1[i][1]=ABCDEF[(lakb_damp[i][0])&0x0f];			//Дамп
;;;774    snmp_lakb_damp1[i][2]=' ';
;;;775    snmp_lakb_damp1[i][3]=ABCDEF[(lakb_damp[i][1])>>4];			//Дамп
;;;776    snmp_lakb_damp1[i][4]=ABCDEF[(lakb_damp[i][1])&0x0f];			//Дамп
;;;777    snmp_lakb_damp1[i][5]=' ';
;;;778    snmp_lakb_damp1[i][6]=ABCDEF[(lakb_damp[i][2])>>4];			//Дамп
;;;779    snmp_lakb_damp1[i][7]=ABCDEF[(lakb_damp[i][2])&0x0f];			//Дамп
;;;780    snmp_lakb_damp1[i][8]=' ';
;;;781    snmp_lakb_damp1[i][9]=ABCDEF[(lakb_damp[i][3])>>4];			//Дамп
;;;782    snmp_lakb_damp1[i][10]=ABCDEF[(lakb_damp[i][3])&0x0f];			//Дамп
;;;783    snmp_lakb_damp1[i][11]=' ';
;;;784    snmp_lakb_damp1[i][12]=ABCDEF[(lakb_damp[i][4])>>4];			//Дамп
;;;785    snmp_lakb_damp1[i][13]=ABCDEF[(lakb_damp[i][4])&0x0f];			//Дамп
;;;786    snmp_lakb_damp1[i][14]=' '; 
;;;787    snmp_lakb_damp1[i][15]=ABCDEF[(lakb_damp[i][5])>>4];			//Дамп
;;;788    snmp_lakb_damp1[i][16]=ABCDEF[(lakb_damp[i][5])&0x0f];			//Дамп
;;;789    snmp_lakb_damp1[i][17]=' ';
;;;790    snmp_lakb_damp1[i][18]=ABCDEF[(lakb_damp[i][6])>>4];			//Дамп
;;;791    snmp_lakb_damp1[i][19]=ABCDEF[(lakb_damp[i][6])&0x0f];			//Дамп
;;;792    snmp_lakb_damp1[i][20]=' ';
;;;793    snmp_lakb_damp1[i][21]=ABCDEF[(lakb_damp[i][7])>>4];			//Дамп
;;;794    snmp_lakb_damp1[i][22]=ABCDEF[(lakb_damp[i][7])&0x0f];			//Дамп
;;;795    snmp_lakb_damp1[i][23]=' ';
;;;796    snmp_lakb_damp1[i][24]=ABCDEF[(lakb_damp[i][8])>>4];			//Дамп
;;;797    snmp_lakb_damp1[i][25]=ABCDEF[(lakb_damp[i][8])&0x0f];			//Дамп
;;;798    snmp_lakb_damp1[i][26]=' ';
;;;799    snmp_lakb_damp1[i][27]=ABCDEF[(lakb_damp[i][9])>>4];			//Дамп
;;;800    snmp_lakb_damp1[i][28]=ABCDEF[(lakb_damp[i][9])&0x0f];			//Дамп
;;;801    snmp_lakb_damp1[i][29]=0; 
;;;802    
;;;803    snmp_lakb_damp1[i][30]=ABCDEF[(lakb_damp[i][10])>>4];			//Дамп
;;;804    snmp_lakb_damp1[i][31]=ABCDEF[(lakb_damp[i][10])&0x0f];			//Дамп
;;;805    snmp_lakb_damp1[i][32]=' ';
;;;806    snmp_lakb_damp1[i][33]=ABCDEF[(lakb_damp[i][11])>>4];			//Дамп
;;;807    snmp_lakb_damp1[i][34]=ABCDEF[(lakb_damp[i][11])&0x0f];			//Дамп
;;;808    snmp_lakb_damp1[i][35]=' ';
;;;809    snmp_lakb_damp1[i][36]=ABCDEF[(lakb_damp[i][12])>>4];			//Дамп
;;;810    snmp_lakb_damp1[i][37]=ABCDEF[(lakb_damp[i][12])&0x0f];			//Дамп
;;;811    snmp_lakb_damp1[i][38]=' ';
;;;812    snmp_lakb_damp1[i][39]=ABCDEF[(lakb_damp[i][13])>>4];			//Дамп
;;;813    snmp_lakb_damp1[i][40]=ABCDEF[(lakb_damp[i][13])&0x0f];			//Дамп
;;;814    snmp_lakb_damp1[i][41]=' ';
;;;815    snmp_lakb_damp1[i][42]=ABCDEF[(lakb_damp[i][14])>>4];			//Дамп
;;;816    snmp_lakb_damp1[i][43]=ABCDEF[(lakb_damp[i][14])&0x0f];			//Дамп
;;;817    snmp_lakb_damp1[i][44]=' '; 
;;;818    snmp_lakb_damp1[i][45]=ABCDEF[(lakb_damp[i][15])>>4];			//Дамп
;;;819    snmp_lakb_damp1[i][46]=ABCDEF[(lakb_damp[i][15])&0x0f];			//Дамп
;;;820    snmp_lakb_damp1[i][47]=' ';
;;;821    snmp_lakb_damp1[i][48]=ABCDEF[(lakb_damp[i][16])>>4];			//Дамп
;;;822    snmp_lakb_damp1[i][49]=ABCDEF[(lakb_damp[i][16])&0x0f];			//Дамп
;;;823    snmp_lakb_damp1[i][50]=' ';
;;;824    snmp_lakb_damp1[i][51]=ABCDEF[(lakb_damp[i][17])>>4];			//Дамп
;;;825    snmp_lakb_damp1[i][52]=ABCDEF[(lakb_damp[i][17])&0x0f];			//Дамп
;;;826    snmp_lakb_damp1[i][53]=' ';
;;;827    snmp_lakb_damp1[i][54]=ABCDEF[(lakb_damp[i][18])>>4];			//Дамп
;;;828    snmp_lakb_damp1[i][55]=ABCDEF[(lakb_damp[i][18])&0x0f];			//Дамп
;;;829    snmp_lakb_damp1[i][56]=' ';
;;;830    snmp_lakb_damp1[i][57]=ABCDEF[(lakb_damp[i][19])>>4];			//Дамп
;;;831    snmp_lakb_damp1[i][58]=ABCDEF[(lakb_damp[i][19])&0x0f];			//Дамп
;;;832    snmp_lakb_damp1[i][59]=0; 
;;;833    
;;;834    
;;;835    snmp_lakb_damp1[i][60]=ABCDEF[(lakb_damp[i][20])>>4];			//Дамп
;;;836    snmp_lakb_damp1[i][61]=ABCDEF[(lakb_damp[i][20])&0x0f];			//Дамп
;;;837    snmp_lakb_damp1[i][62]=' ';
;;;838    snmp_lakb_damp1[i][63]=ABCDEF[(lakb_damp[i][21])>>4];			//Дамп
;;;839    snmp_lakb_damp1[i][64]=ABCDEF[(lakb_damp[i][21])&0x0f];			//Дамп
;;;840    snmp_lakb_damp1[i][65]=' ';
;;;841    snmp_lakb_damp1[i][66]=ABCDEF[(lakb_damp[i][22])>>4];			//Дамп
;;;842    snmp_lakb_damp1[i][67]=ABCDEF[(lakb_damp[i][22])&0x0f];			//Дамп
;;;843    snmp_lakb_damp1[i][68]=' ';
;;;844    snmp_lakb_damp1[i][69]=ABCDEF[(lakb_damp[i][23])>>4];			//Дамп
;;;845    snmp_lakb_damp1[i][70]=ABCDEF[(lakb_damp[i][23])&0x0f];			//Дамп
;;;846    snmp_lakb_damp1[i][71]=' ';
;;;847    snmp_lakb_damp1[i][72]=ABCDEF[(lakb_damp[i][24])>>4];			//Дамп
;;;848    snmp_lakb_damp1[i][73]=ABCDEF[(lakb_damp[i][24])&0x0f];			//Дамп
;;;849    snmp_lakb_damp1[i][74]=' '; 
;;;850    snmp_lakb_damp1[i][75]=ABCDEF[(lakb_damp[i][25])>>4];			//Дамп
;;;851    snmp_lakb_damp1[i][76]=ABCDEF[(lakb_damp[i][25])&0x0f];			//Дамп
;;;852    snmp_lakb_damp1[i][77]=' ';
;;;853    snmp_lakb_damp1[i][78]=ABCDEF[(lakb_damp[i][26])>>4];			//Дамп
;;;854    snmp_lakb_damp1[i][79]=ABCDEF[(lakb_damp[i][26])&0x0f];			//Дамп
;;;855    snmp_lakb_damp1[i][80]=' ';
;;;856    snmp_lakb_damp1[i][81]=ABCDEF[(lakb_damp[i][27])>>4];			//Дамп
;;;857    snmp_lakb_damp1[i][82]=ABCDEF[(lakb_damp[i][27])&0x0f];			//Дамп
;;;858    snmp_lakb_damp1[i][83]=' ';
;;;859    snmp_lakb_damp1[i][84]=ABCDEF[(lakb_damp[i][28])>>4];			//Дамп
;;;860    snmp_lakb_damp1[i][85]=ABCDEF[(lakb_damp[i][28])&0x0f];			//Дамп
;;;861    snmp_lakb_damp1[i][86]=' ';
;;;862    snmp_lakb_damp1[i][87]=ABCDEF[(lakb_damp[i][29])>>4];			//Дамп
;;;863    snmp_lakb_damp1[i][88]=ABCDEF[(lakb_damp[i][29])&0x0f];			//Дамп
;;;864    snmp_lakb_damp1[i][89]=0;
;;;865    
;;;866    
;;;867    snmp_lakb_damp1[i][90]=ABCDEF[(lakb_damp[i][30])>>4];			//Дамп
;;;868    snmp_lakb_damp1[i][91]=ABCDEF[(lakb_damp[i][30])&0x0f];			//Дамп
;;;869    snmp_lakb_damp1[i][92]=' ';
;;;870    snmp_lakb_damp1[i][93]=ABCDEF[(lakb_damp[i][31])>>4];			//Дамп
;;;871    snmp_lakb_damp1[i][94]=ABCDEF[(lakb_damp[i][31])&0x0f];			//Дамп
;;;872    snmp_lakb_damp1[i][95]=' ';
;;;873    snmp_lakb_damp1[i][96]=ABCDEF[(lakb_damp[i][32])>>4];			//Дамп
;;;874    snmp_lakb_damp1[i][97]=ABCDEF[(lakb_damp[i][32])&0x0f];			//Дамп
;;;875    snmp_lakb_damp1[i][98]=' ';
;;;876    snmp_lakb_damp1[i][99]=ABCDEF[(lakb_damp[i][33])>>4];			//Дамп
;;;877    snmp_lakb_damp1[i][100]=ABCDEF[(lakb_damp[i][33])&0x0f];			//Дамп
;;;878    snmp_lakb_damp1[i][101]=' ';
;;;879    snmp_lakb_damp1[i][102]=ABCDEF[(lakb_damp[i][34])>>4];			//Дамп
;;;880    snmp_lakb_damp1[i][103]=ABCDEF[(lakb_damp[i][34])&0x0f];			//Дамп
;;;881    snmp_lakb_damp1[i][104]=' '; 
;;;882    snmp_lakb_damp1[i][105]=ABCDEF[(lakb_damp[i][35])>>4];			//Дамп
;;;883    snmp_lakb_damp1[i][106]=ABCDEF[(lakb_damp[i][35])&0x0f];			//Дамп
;;;884    snmp_lakb_damp1[i][107]=' ';
;;;885    snmp_lakb_damp1[i][108]=ABCDEF[(lakb_damp[i][36])>>4];			//Дамп
;;;886    snmp_lakb_damp1[i][109]=ABCDEF[(lakb_damp[i][36])&0x0f];			//Дамп
;;;887    snmp_lakb_damp1[i][110]=' ';
;;;888    snmp_lakb_damp1[i][111]=ABCDEF[(lakb_damp[i][37])>>4];			//Дамп
;;;889    snmp_lakb_damp1[i][112]=ABCDEF[(lakb_damp[i][37])&0x0f];			//Дамп
;;;890    snmp_lakb_damp1[i][113]=' ';
;;;891    snmp_lakb_damp1[i][114]=ABCDEF[(lakb_damp[i][38])>>4];			//Дамп
;;;892    snmp_lakb_damp1[i][115]=ABCDEF[(lakb_damp[i][38])&0x0f];			//Дамп
;;;893    snmp_lakb_damp1[i][116]=' ';
;;;894    snmp_lakb_damp1[i][117]=ABCDEF[(lakb_damp[i][39])>>4];			//Дамп
;;;895    snmp_lakb_damp1[i][118]=ABCDEF[(lakb_damp[i][39])&0x0f];			//Дамп
;;;896    snmp_lakb_damp1[i][119]=0; 
;;;897     
;;;898    
;;;899    snmp_lakb_damp1[i][120]=ABCDEF[(lakb_damp[i][40])>>4];			//Дамп
;;;900    snmp_lakb_damp1[i][121]=ABCDEF[(lakb_damp[i][40])&0x0f];			//Дамп
;;;901    snmp_lakb_damp1[i][122]=' ';
;;;902    snmp_lakb_damp1[i][123]=ABCDEF[(lakb_damp[i][41])>>4];			//Дамп
;;;903    snmp_lakb_damp1[i][124]=ABCDEF[(lakb_damp[i][41])&0x0f];			//Дамп
;;;904    snmp_lakb_damp1[i][125]=' ';
;;;905    snmp_lakb_damp1[i][126]=ABCDEF[(lakb_damp[i][42])>>4];			//Дамп
;;;906    snmp_lakb_damp1[i][127]=ABCDEF[(lakb_damp[i][42])&0x0f];			//Дамп
;;;907    snmp_lakb_damp1[i][128]=' ';
;;;908    snmp_lakb_damp1[i][129]=ABCDEF[(lakb_damp[i][43])>>4];			//Дамп
;;;909    snmp_lakb_damp1[i][130]=ABCDEF[(lakb_damp[i][43])&0x0f];			//Дамп
;;;910    snmp_lakb_damp1[i][131]=' ';
;;;911    snmp_lakb_damp1[i][132]=ABCDEF[(lakb_damp[i][44])>>4];			//Дамп
;;;912    snmp_lakb_damp1[i][133]=ABCDEF[(lakb_damp[i][44])&0x0f];			//Дамп
;;;913    snmp_lakb_damp1[i][134]=' '; 
;;;914    snmp_lakb_damp1[i][135]=ABCDEF[(lakb_damp[i][45])>>4];			//Дамп
;;;915    snmp_lakb_damp1[i][136]=ABCDEF[(lakb_damp[i][45])&0x0f];			//Дамп
;;;916    snmp_lakb_damp1[i][137]=' ';
;;;917    snmp_lakb_damp1[i][138]=ABCDEF[(lakb_damp[i][46])>>4];			//Дамп
;;;918    snmp_lakb_damp1[i][139]=ABCDEF[(lakb_damp[i][46])&0x0f];			//Дамп
;;;919    snmp_lakb_damp1[i][140]=' ';
;;;920    snmp_lakb_damp1[i][141]=ABCDEF[(lakb_damp[i][47])>>4];			//Дамп
;;;921    snmp_lakb_damp1[i][142]=ABCDEF[(lakb_damp[i][47])&0x0f];			//Дамп
;;;922    snmp_lakb_damp1[i][143]=' ';
;;;923    snmp_lakb_damp1[i][144]=ABCDEF[(lakb_damp[i][48])>>4];			//Дамп
;;;924    snmp_lakb_damp1[i][145]=ABCDEF[(lakb_damp[i][48])&0x0f];			//Дамп
;;;925    snmp_lakb_damp1[i][146]=' ';
;;;926    snmp_lakb_damp1[i][147]=ABCDEF[(lakb_damp[i][49])>>4];			//Дамп
;;;927    snmp_lakb_damp1[i][148]=ABCDEF[(lakb_damp[i][49])&0x0f];			//Дамп
;;;928    snmp_lakb_damp1[i][149]=0;  */
;;;929    }
;;;930    
;;;931    #ifdef UKU_TELECORE2017
;;;932    snmp_warm_sign=0;
;;;933    if(TELECORE2017_KLIMAT_WARM_SIGNAL==0) snmp_warm_sign=2;
;;;934    else if(TELECORE2017_KLIMAT_WARM_SIGNAL==1) snmp_warm_sign=1;
;;;935    snmp_cool_sign=0;
;;;936    if(TELECORE2017_KLIMAT_VENT_SIGNAL==0) snmp_cool_sign=2;
;;;937    else if(TELECORE2017_KLIMAT_VENT_SIGNAL==1) snmp_cool_sign=1;
;;;938    snmp_warm_on_temper=(signed char)TELECORE2017_KLIMAT_WARM_ON; 
;;;939    snmp_warm_off_temper=(signed char)TELECORE2017_KLIMAT_WARM_OFF;
;;;940    snmp_warm_q=(signed char)TELECORE2017_KLIMAT_CAP;	
;;;941    snmp_cool_20_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON20;
;;;942    snmp_cool_40_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON40;
;;;943    snmp_cool_60_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON60;
;;;944    snmp_cool_80_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON80;
;;;945    snmp_cool_100_temper=(signed char)TELECORE2017_KLIMAT_VENT_ON100;
;;;946    snmp_cool_20_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON20;
;;;947    snmp_cool_40_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON40;
;;;948    snmp_cool_60_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON60;
;;;949    snmp_cool_80_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON80;
;;;950    snmp_cool_100_dtemper=(signed char)TELECORE2017_KLIMAT_DVENT_ON100;
;;;951    snmp_warm_stat=0;
;;;952    if(warm_stat_k==wsON) snmp_warm_stat=1;
;;;953    #endif
;;;954    }
;;;955    //-----------------------------------------------
                          ENDP

000012  0000              DCW      0x0000
                  |L19.20|
                          DCD      ||.data||+0x80

                          AREA ||.bss||, DATA, NOINIT, ALIGN=1

                  temp_str
                          %        20
                  snmp_location
                          %        100
                  snmp_bps_number
                          %        16
                  snmp_bps_voltage
                          %        16
                  snmp_bps_current
                          %        16
                  snmp_bps_temperature
                          %        16
                  snmp_bps_stat
                          %        16
                  snmp_spc_trap_message
                          %        100
                  snmp_avt_number
                          %        12
                  snmp_avt_stat
                          %        12
                  snmp_sk_name
                          %        80
                  snmp_lakb_number
                          %        14
                  snmp_lakb_voltage
                          %        14
                  snmp_lakb_max_cell_voltage
                          %        14
                  snmp_lakb_min_cell_voltage
                          %        14
                  snmp_lakb_max_cell_temperature
                          %        14
                  snmp_lakb_min_cell_temperature
                          %        14
                  snmp_lakb_ch_curr
                          %        14
                  snmp_lakb_dsch_curr
                          %        14
                  snmp_lakb_rat_cap
                          %        14
                  snmp_lakb_soh
                          %        14
                  snmp_lakb_soc
                          %        14
                  snmp_lakb_cclv
                          %        14
                  snmp_lakb_rbt
                          %        14
                  snmp_lakb_flags1
                          %        14
                  snmp_lakb_flags2
                          %        14
                  obj
                          %        20

                          AREA ||area_number.22||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.22||, ||.bss||
                  snmp_community
                          %        10

                          AREA ||area_number.23||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.23||, ||.bss||
                  snmp_lakb_damp1
                          %        450

                          AREA ||area_number.24||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.24||, ||.bss||
                  snmp_lakb_damp2
                          %        100

                          AREA ||.constdata||, DATA, READONLY, ALIGN=2

000000  20202020          DCB      0x20,0x20,0x20,0x20
000004  20202020          DCB      0x20,0x20,0x20,0x20
000008  20202020          DCB      0x20,0x20,0x20,0x20
00000c  20202020          DCB      0x20,0x20,0x20,0x20
000010  20202020          DCB      0x20,0x20,0x20,0x20
000014  20202020          DCB      0x20,0x20,0x20,0x20
000018  20202020          DCB      0x20,0x20,0x20,0x20
00001c  20202020          DCB      0x20,0x20,0x20,0x20
000020  20202020          DCB      0x20,0x20,0x20,0x20
000024  20202020          DCB      0x20,0x20,0x20,0x20
000028  20202020          DCB      0x20,0x20,0x20,0x20
00002c  20202020          DCB      0x20,0x20,0x20,0x20
000030  20202020          DCB      0x20,0x20,0x20,0x20
000034  20202020          DCB      0x20,0x20,0x20,0x20
000038  20202020          DCB      0x20,0x20,0x20,0x20
00003c  20202020          DCB      0x20,0x20,0x20,0x20
000040  20202020          DCB      0x20,0x20,0x20,0x20
000044  20202020          DCB      0x20,0x20,0x20,0x20
000048  20202020          DCB      0x20,0x20,0x20,0x20
00004c  20202020          DCB      0x20,0x20,0x20,0x20
000050  00                DCB      0x00

                          AREA ||.data||, DATA, ALIGN=2

                  snmp_warm_sign
000000  00                DCB      0x00
                  snmp_cool_sign
000001  00                DCB      0x00
                  snmp_warm_on_temper
000002  00                DCB      0x00
                  snmp_warm_off_temper
000003  00                DCB      0x00
                  snmp_warm_q
000004  00                DCB      0x00
                  snmp_cool_100_temper
000005  00                DCB      0x00
                  snmp_cool_80_temper
000006  00                DCB      0x00
                  snmp_cool_60_temper
000007  00                DCB      0x00
                  snmp_cool_40_temper
000008  00                DCB      0x00
                  snmp_cool_20_temper
000009  00                DCB      0x00
                  snmp_cool_100_dtemper
00000a  00                DCB      0x00
                  snmp_cool_80_dtemper
00000b  00                DCB      0x00
                  snmp_cool_60_dtemper
00000c  00                DCB      0x00
                  snmp_cool_40_dtemper
00000d  00                DCB      0x00
                  snmp_cool_20_dtemper
00000e  00                DCB      0x00
                  snmp_trap_send_i
00000f  00                DCB      0x00
                  snmp_trap_send_ii
000010  0000              DCB      0x00,0x00
                  snmp_numofbat
000012  0000              DCB      0x00,0x00
                  snmp_numofbps
000014  0000              DCB      0x00,0x00
                  snmp_numofinv
000016  0000              DCB      0x00,0x00
                  snmp_numofavt
000018  0000              DCB      0x00,0x00
                  snmp_numofdt
00001a  0000              DCB      0x00,0x00
                  snmp_numofsk
00001c  0000              DCB      0x00,0x00
                  snmp_numofevents
00001e  0000              DCB      0x00,0x00
                  snmp_mains_power_voltage
000020  0000              DCB      0x00,0x00
                  snmp_mains_power_frequency
000022  0000              DCB      0x00,0x00
                  snmp_mains_power_status
000024  0000              DCB      0x00,0x00
                  snmp_mains_power_alarm
000026  0000              DCB      0x00,0x00
                  snmp_mains_power_voltage_phaseA
000028  0000              DCB      0x00,0x00
                  snmp_mains_power_voltage_phaseB
00002a  0000              DCB      0x00,0x00
                  snmp_mains_power_voltage_phaseC
00002c  0000              DCB      0x00,0x00
                  snmp_load_voltage
00002e  0000              DCB      0x00,0x00
                  snmp_load_current
000030  0000              DCB      0x00,0x00
                  snmp_spc_trap_value_0
000032  0000              DCB      0x00,0x00
                  snmp_spc_trap_value_1
000034  0000              DCB      0x00,0x00
                  snmp_spc_trap_value_2
000036  0000              DCB      0x00,0x00
                  snmp_energy_vvod_phase_a
000038  0000              DCB      0x00,0x00
                  snmp_energy_vvod_phase_b
00003a  0000              DCB      0x00,0x00
                  snmp_energy_vvod_phase_c
00003c  0000              DCB      0x00,0x00
                  snmp_energy_pes_phase_a
00003e  0000              DCB      0x00,0x00
                  snmp_energy_pes_phase_b
000040  0000              DCB      0x00,0x00
                  snmp_energy_pes_phase_c
000042  0000              DCB      0x00,0x00
                  snmp_energy_input_voltage
000044  0000              DCB      0x00,0x00
                  snmp_energy_current_energy
000046  0000              DCB      0x00,0x00
                  snmp_command
000048  0000              DCB      0x00,0x00
                  snmp_command_parametr
00004a  0000              DCB      0x00,0x00
                  snmp_zv_en
00004c  0000              DCB      0x00,0x00
                  snmp_alarm_auto_disable
00004e  0000              DCB      0x00,0x00
                  snmp_bat_test_time
000050  0000              DCB      0x00,0x00
                  snmp_u_max
000052  0000              DCB      0x00,0x00
                  snmp_u_min
000054  0000              DCB      0x00,0x00
                  snmp_u_0_grad
000056  0000              DCB      0x00,0x00
                  snmp_u_20_grad
000058  0000              DCB      0x00,0x00
                  snmp_u_sign
00005a  0000              DCB      0x00,0x00
                  snmp_u_min_power
00005c  0000              DCB      0x00,0x00
                  snmp_u_withouth_bat
00005e  0000              DCB      0x00,0x00
                  snmp_control_current
000060  0000              DCB      0x00,0x00
                  snmp_max_charge_current
000062  0000              DCB      0x00,0x00
                  snmp_max_current
000064  0000              DCB      0x00,0x00
                  snmp_min_current
000066  0000              DCB      0x00,0x00
                  snmp_uvz
000068  0000              DCB      0x00,0x00
                  snmp_powerup_psu_timeout
00006a  0000              DCB      0x00,0x00
                  snmp_max_temperature
00006c  0000              DCB      0x00,0x00
                  snmp_tsign_bat
00006e  0000              DCB      0x00,0x00
                  snmp_tmax_bat
000070  0000              DCB      0x00,0x00
                  snmp_tsign_bps
000072  0000              DCB      0x00,0x00
                  snmp_tmax_bps
000074  0000              DCB      0x00,0x00
                  snmp_bat_part_alarm
000076  0000              DCB      0x00,0x00
                  snmp_power_cnt_adress
000078  0000              DCB      0x00,0x00
                  snmp_klimat_box_temper
00007a  0000              DCB      0x00,0x00
                  snmp_klimat_settings_box_alarm
00007c  0000              DCB      0x00,0x00
                  snmp_klimat_settings_vent_on
00007e  0000              DCB      0x00,0x00
                  snmp_klimat_settings_vent_off
000080  0000              DCB      0x00,0x00
                  snmp_klimat_settings_warm_on
000082  0000              DCB      0x00,0x00
                  snmp_klimat_settings_warm_off
000084  0000              DCB      0x00,0x00
                  snmp_klimat_settings_load_on
000086  0000              DCB      0x00,0x00
                  snmp_klimat_settings_load_off
000088  0000              DCB      0x00,0x00
                  snmp_klimat_settings_batt_on
00008a  0000              DCB      0x00,0x00
                  snmp_klimat_settings_batt_off
00008c  0000              DCB      0x00,0x00
                  snmp_dt_ext
00008e  0000              DCB      0x00,0x00
                  snmp_dt_msan
000090  0000              DCB      0x00,0x00
                  snmp_dt_epu
000092  0000              DCB      0x00,0x00
                  snmp_dt_number
000094  000000            DCB      0x00,0x00,0x00
                  snmp_dt_error
000097  00                DCB      0x00
000098  0000              DCB      0x00,0x00
                  snmp_lakb_cell_temperature_1
00009a  0000              DCB      0x00,0x00
00009c  00                DCB      0x00
                  snmp_lakb_cell_temperature_2
00009d  000000            DCB      0x00,0x00,0x00
                  snmp_lakb_cell_temperature_3
0000a0  000000            DCB      0x00,0x00,0x00
                  snmp_lakb_cell_temperature_4
0000a3  00                DCB      0x00
0000a4  0000              DCB      0x00,0x00
                  snmp_lakb_cell_temperature_ambient
0000a6  0000              DCB      0x00,0x00
0000a8  00                DCB      0x00
                  snmp_lakb_cell_temperature_power
0000a9  000000            DCB      0x00,0x00,0x00
                  snmp_sernum
                          DCD      0x00000000
                  snmp_bat_number
                          DCD      0x00000000
                  snmp_bat_voltage
                          DCD      0x00000000
                  snmp_bat_current
                          DCD      0x00000000
                  snmp_bat_temperature
                          DCD      0x00000000
                  snmp_bat_capacity
                          DCD      0x00000000
                  snmp_bat_charge
                          DCD      0x00000000
                  snmp_bat_status
                          DCD      0x00000000
                  snmp_bat_rem_time
                          DCD      0x00000000
                  snmp_energy_total_energy
                          DCD      0x00000000
                  snmp_sk_number
                          DCD      0x00000000
                  snmp_sk_aktiv
                          DCD      0x00000000
                  snmp_sk_alarm_aktiv
                          DCD      0x00000000
                  snmp_sk_alarm
                          DCD      0x00000000
                  temp_ip
                          DCD      0x00000000
                  snmp_inv_number
                          DCD      0x00000000
0000ec  0000              DCB      0x00,0x00
                  snmp_inv_voltage
0000ee  0000              DCB      0x00,0x00
                          DCD      0x00000000
                  snmp_inv_current
                          DCD      0x00000000
0000f8  0000              DCB      0x00,0x00
                  snmp_inv_temperature
0000fa  0000              DCB      0x00,0x00
                          DCD      0x00000000
                  snmp_inv_stat
                          DCD      0x00000000
000104  0000              DCB      0x00,0x00
                  snmp_dt_temper
000106  0000              DCB      0x00,0x00
                          DCD      0x00000000
                  snmp_makb_connect_status
                          %        8
                  snmp_makb_voltage0
                          %        8
                  snmp_makb_voltage1
                          %        8
                  snmp_makb_voltage2
                          %        8
                  snmp_makb_voltage3
                          %        8
                  snmp_makb_voltage4
                          %        8
                  snmp_makb_temper0
                          %        8
                  snmp_makb_temper1
                          %        8
                  snmp_makb_temper2
                          %        8
                  snmp_makb_temper3
                          %        8
                  snmp_makb_temper4
                          %        8
                  snmp_makb_temper0_stat
                          %        8
                  snmp_makb_temper1_stat
                          %        8
                  snmp_makb_temper2_stat
                          %        8
                  snmp_makb_temper3_stat
                          %        8
                  snmp_makb_temper4_stat
                          %        8
                  snmp_log
00018c  30314061          DCB      0x30,0x31,0x40,0x61
000190  62636440          DCB      0x62,0x63,0x64,0x40
000194  65666768          DCB      0x65,0x66,0x67,0x68
000198  40696a6b          DCB      0x40,0x69,0x6a,0x6b
00019c  6c403031          DCB      0x6c,0x40,0x30,0x31
0001a0  40202020          DCB      0x40,0x20,0x20,0x20
0001a4  20202020          DCB      0x20,0x20,0x20,0x20
0001a8  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
00020c  30324061          DCB      0x30,0x32,0x40,0x61
000210  62636440          DCB      0x62,0x63,0x64,0x40
000214  65666768          DCB      0x65,0x66,0x67,0x68
000218  40696a6b          DCB      0x40,0x69,0x6a,0x6b
00021c  6c403032          DCB      0x6c,0x40,0x30,0x32
000220  40202020          DCB      0x40,0x20,0x20,0x20
000224  20202020          DCB      0x20,0x20,0x20,0x20
000228  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
00028c  30334061          DCB      0x30,0x33,0x40,0x61
000290  62636440          DCB      0x62,0x63,0x64,0x40
000294  65666768          DCB      0x65,0x66,0x67,0x68
000298  40696a6b          DCB      0x40,0x69,0x6a,0x6b
00029c  6c403033          DCB      0x6c,0x40,0x30,0x33
0002a0  40202020          DCB      0x40,0x20,0x20,0x20
0002a4  20202020          DCB      0x20,0x20,0x20,0x20
0002a8  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
00030c  30344061          DCB      0x30,0x34,0x40,0x61
000310  62636440          DCB      0x62,0x63,0x64,0x40
000314  65666768          DCB      0x65,0x66,0x67,0x68
000318  40696a6b          DCB      0x40,0x69,0x6a,0x6b
00031c  6c403034          DCB      0x6c,0x40,0x30,0x34
000320  40202020          DCB      0x40,0x20,0x20,0x20
000324  20202020          DCB      0x20,0x20,0x20,0x20
000328  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
00038c  30354061          DCB      0x30,0x35,0x40,0x61
000390  62636440          DCB      0x62,0x63,0x64,0x40
000394  65666768          DCB      0x65,0x66,0x67,0x68
000398  40696a6b          DCB      0x40,0x69,0x6a,0x6b
00039c  6c403035          DCB      0x6c,0x40,0x30,0x35
0003a0  40202020          DCB      0x40,0x20,0x20,0x20
0003a4  20202020          DCB      0x20,0x20,0x20,0x20
0003a8  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
00040c  30364061          DCB      0x30,0x36,0x40,0x61
000410  62636440          DCB      0x62,0x63,0x64,0x40
000414  65666768          DCB      0x65,0x66,0x67,0x68
000418  40696a6b          DCB      0x40,0x69,0x6a,0x6b
00041c  6c403036          DCB      0x6c,0x40,0x30,0x36
000420  40202020          DCB      0x40,0x20,0x20,0x20
000424  20202020          DCB      0x20,0x20,0x20,0x20
000428  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
00048c  30374061          DCB      0x30,0x37,0x40,0x61
000490  62636440          DCB      0x62,0x63,0x64,0x40
000494  65666768          DCB      0x65,0x66,0x67,0x68
000498  40696a6b          DCB      0x40,0x69,0x6a,0x6b
00049c  6c403037          DCB      0x6c,0x40,0x30,0x37
0004a0  40202020          DCB      0x40,0x20,0x20,0x20
0004a4  20202020          DCB      0x20,0x20,0x20,0x20
0004a8  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
00050c  30384061          DCB      0x30,0x38,0x40,0x61
000510  62636440          DCB      0x62,0x63,0x64,0x40
000514  65666768          DCB      0x65,0x66,0x67,0x68
000518  40696a6b          DCB      0x40,0x69,0x6a,0x6b
00051c  6c403038          DCB      0x6c,0x40,0x30,0x38
000520  40202020          DCB      0x40,0x20,0x20,0x20
000524  20202020          DCB      0x20,0x20,0x20,0x20
000528  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
00058c  30394061          DCB      0x30,0x39,0x40,0x61
000590  62636440          DCB      0x62,0x63,0x64,0x40
000594  65666768          DCB      0x65,0x66,0x67,0x68
000598  40696a6b          DCB      0x40,0x69,0x6a,0x6b
00059c  6c403039          DCB      0x6c,0x40,0x30,0x39
0005a0  40202020          DCB      0x40,0x20,0x20,0x20
0005a4  20202020          DCB      0x20,0x20,0x20,0x20
0005a8  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
00060c  31304061          DCB      0x31,0x30,0x40,0x61
000610  62636440          DCB      0x62,0x63,0x64,0x40
000614  65666768          DCB      0x65,0x66,0x67,0x68
000618  40696a6b          DCB      0x40,0x69,0x6a,0x6b
00061c  6c403130          DCB      0x6c,0x40,0x31,0x30
000620  40202020          DCB      0x40,0x20,0x20,0x20
000624  20202020          DCB      0x20,0x20,0x20,0x20
000628  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
00068c  31314061          DCB      0x31,0x31,0x40,0x61
000690  62636440          DCB      0x62,0x63,0x64,0x40
000694  65666768          DCB      0x65,0x66,0x67,0x68
000698  40696a6b          DCB      0x40,0x69,0x6a,0x6b
00069c  6c403131          DCB      0x6c,0x40,0x31,0x31
0006a0  40202020          DCB      0x40,0x20,0x20,0x20
0006a4  20202020          DCB      0x20,0x20,0x20,0x20
0006a8  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
00070c  31324061          DCB      0x31,0x32,0x40,0x61
000710  62636440          DCB      0x62,0x63,0x64,0x40
000714  65666768          DCB      0x65,0x66,0x67,0x68
000718  40696a6b          DCB      0x40,0x69,0x6a,0x6b
00071c  6c403132          DCB      0x6c,0x40,0x31,0x32
000720  40202020          DCB      0x40,0x20,0x20,0x20
000724  20202020          DCB      0x20,0x20,0x20,0x20
000728  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
00078c  31334061          DCB      0x31,0x33,0x40,0x61
000790  62636440          DCB      0x62,0x63,0x64,0x40
000794  65666768          DCB      0x65,0x66,0x67,0x68
000798  40696a6b          DCB      0x40,0x69,0x6a,0x6b
00079c  6c403133          DCB      0x6c,0x40,0x31,0x33
0007a0  40202020          DCB      0x40,0x20,0x20,0x20
0007a4  20202020          DCB      0x20,0x20,0x20,0x20
0007a8  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
00080c  31344061          DCB      0x31,0x34,0x40,0x61
000810  62636440          DCB      0x62,0x63,0x64,0x40
000814  65666768          DCB      0x65,0x66,0x67,0x68
000818  40696a6b          DCB      0x40,0x69,0x6a,0x6b
00081c  6c403134          DCB      0x6c,0x40,0x31,0x34
000820  40202020          DCB      0x40,0x20,0x20,0x20
000824  20202020          DCB      0x20,0x20,0x20,0x20
000828  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
00088c  31354061          DCB      0x31,0x35,0x40,0x61
000890  62636440          DCB      0x62,0x63,0x64,0x40
000894  65666768          DCB      0x65,0x66,0x67,0x68
000898  40696a6b          DCB      0x40,0x69,0x6a,0x6b
00089c  6c403135          DCB      0x6c,0x40,0x31,0x35
0008a0  40202020          DCB      0x40,0x20,0x20,0x20
0008a4  20202020          DCB      0x20,0x20,0x20,0x20
0008a8  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
00090c  31364061          DCB      0x31,0x36,0x40,0x61
000910  62636440          DCB      0x62,0x63,0x64,0x40
000914  65666768          DCB      0x65,0x66,0x67,0x68
000918  40696a6b          DCB      0x40,0x69,0x6a,0x6b
00091c  6c403136          DCB      0x6c,0x40,0x31,0x36
000920  40202020          DCB      0x40,0x20,0x20,0x20
000924  20202020          DCB      0x20,0x20,0x20,0x20
000928  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
00098c  31374061          DCB      0x31,0x37,0x40,0x61
000990  62636440          DCB      0x62,0x63,0x64,0x40
000994  65666768          DCB      0x65,0x66,0x67,0x68
000998  40696a6b          DCB      0x40,0x69,0x6a,0x6b
00099c  6c403137          DCB      0x6c,0x40,0x31,0x37
0009a0  40202020          DCB      0x40,0x20,0x20,0x20
0009a4  20202020          DCB      0x20,0x20,0x20,0x20
0009a8  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
000a0c  31384061          DCB      0x31,0x38,0x40,0x61
000a10  62636440          DCB      0x62,0x63,0x64,0x40
000a14  65666768          DCB      0x65,0x66,0x67,0x68
000a18  40696a6b          DCB      0x40,0x69,0x6a,0x6b
000a1c  6c403138          DCB      0x6c,0x40,0x31,0x38
000a20  40202020          DCB      0x40,0x20,0x20,0x20
000a24  20202020          DCB      0x20,0x20,0x20,0x20
000a28  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
000a8c  31394061          DCB      0x31,0x39,0x40,0x61
000a90  62636440          DCB      0x62,0x63,0x64,0x40
000a94  65666768          DCB      0x65,0x66,0x67,0x68
000a98  40696a6b          DCB      0x40,0x69,0x6a,0x6b
000a9c  6c403139          DCB      0x6c,0x40,0x31,0x39
000aa0  40202020          DCB      0x40,0x20,0x20,0x20
000aa4  20202020          DCB      0x20,0x20,0x20,0x20
000aa8  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
000b0c  32304061          DCB      0x32,0x30,0x40,0x61
000b10  62636440          DCB      0x62,0x63,0x64,0x40
000b14  65666768          DCB      0x65,0x66,0x67,0x68
000b18  40696a6b          DCB      0x40,0x69,0x6a,0x6b
000b1c  6c403230          DCB      0x6c,0x40,0x32,0x30
000b20  40202020          DCB      0x40,0x20,0x20,0x20
000b24  20202020          DCB      0x20,0x20,0x20,0x20
000b28  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
000b8c  32314061          DCB      0x32,0x31,0x40,0x61
000b90  62636440          DCB      0x62,0x63,0x64,0x40
000b94  65666768          DCB      0x65,0x66,0x67,0x68
000b98  40696a6b          DCB      0x40,0x69,0x6a,0x6b
000b9c  6c403231          DCB      0x6c,0x40,0x32,0x31
000ba0  40202020          DCB      0x40,0x20,0x20,0x20
000ba4  20202020          DCB      0x20,0x20,0x20,0x20
000ba8  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
000c0c  32324061          DCB      0x32,0x32,0x40,0x61
000c10  62636440          DCB      0x62,0x63,0x64,0x40
000c14  65666768          DCB      0x65,0x66,0x67,0x68
000c18  40696a6b          DCB      0x40,0x69,0x6a,0x6b
000c1c  6c403232          DCB      0x6c,0x40,0x32,0x32
000c20  40202020          DCB      0x40,0x20,0x20,0x20
000c24  20202020          DCB      0x20,0x20,0x20,0x20
000c28  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
000c8c  32334061          DCB      0x32,0x33,0x40,0x61
000c90  62636440          DCB      0x62,0x63,0x64,0x40
000c94  65666768          DCB      0x65,0x66,0x67,0x68
000c98  40696a6b          DCB      0x40,0x69,0x6a,0x6b
000c9c  6c403233          DCB      0x6c,0x40,0x32,0x33
000ca0  40202020          DCB      0x40,0x20,0x20,0x20
000ca4  20202020          DCB      0x20,0x20,0x20,0x20
000ca8  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
000d0c  32344061          DCB      0x32,0x34,0x40,0x61
000d10  62636440          DCB      0x62,0x63,0x64,0x40
000d14  65666768          DCB      0x65,0x66,0x67,0x68
000d18  40696a6b          DCB      0x40,0x69,0x6a,0x6b
000d1c  6c403234          DCB      0x6c,0x40,0x32,0x34
000d20  40202020          DCB      0x40,0x20,0x20,0x20
000d24  20202020          DCB      0x20,0x20,0x20,0x20
000d28  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
000d8c  32354061          DCB      0x32,0x35,0x40,0x61
000d90  62636440          DCB      0x62,0x63,0x64,0x40
000d94  65666768          DCB      0x65,0x66,0x67,0x68
000d98  40696a6b          DCB      0x40,0x69,0x6a,0x6b
000d9c  6c403235          DCB      0x6c,0x40,0x32,0x35
000da0  40202020          DCB      0x40,0x20,0x20,0x20
000da4  20202020          DCB      0x20,0x20,0x20,0x20
000da8  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
000e0c  32364061          DCB      0x32,0x36,0x40,0x61
000e10  62636440          DCB      0x62,0x63,0x64,0x40
000e14  65666768          DCB      0x65,0x66,0x67,0x68
000e18  40696a6b          DCB      0x40,0x69,0x6a,0x6b
000e1c  6c403236          DCB      0x6c,0x40,0x32,0x36
000e20  40202020          DCB      0x40,0x20,0x20,0x20
000e24  20202020          DCB      0x20,0x20,0x20,0x20
000e28  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
000e8c  32374061          DCB      0x32,0x37,0x40,0x61
000e90  62636440          DCB      0x62,0x63,0x64,0x40
000e94  65666768          DCB      0x65,0x66,0x67,0x68
000e98  40696a6b          DCB      0x40,0x69,0x6a,0x6b
000e9c  6c403237          DCB      0x6c,0x40,0x32,0x37
000ea0  40202020          DCB      0x40,0x20,0x20,0x20
000ea4  20202020          DCB      0x20,0x20,0x20,0x20
000ea8  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
000f0c  32384061          DCB      0x32,0x38,0x40,0x61
000f10  62636440          DCB      0x62,0x63,0x64,0x40
000f14  65666768          DCB      0x65,0x66,0x67,0x68
000f18  40696a6b          DCB      0x40,0x69,0x6a,0x6b
000f1c  6c403238          DCB      0x6c,0x40,0x32,0x38
000f20  40202020          DCB      0x40,0x20,0x20,0x20
000f24  20202020          DCB      0x20,0x20,0x20,0x20
000f28  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
000f8c  32394061          DCB      0x32,0x39,0x40,0x61
000f90  62636440          DCB      0x62,0x63,0x64,0x40
000f94  65666768          DCB      0x65,0x66,0x67,0x68
000f98  40696a6b          DCB      0x40,0x69,0x6a,0x6b
000f9c  6c403239          DCB      0x6c,0x40,0x32,0x39
000fa0  40202020          DCB      0x40,0x20,0x20,0x20
000fa4  20202020          DCB      0x20,0x20,0x20,0x20
000fa8  20000000          DCB      0x20,0x00,0x00,0x00
                          %        96
00100c  33304061          DCB      0x33,0x30,0x40,0x61
001010  62636440          DCB      0x62,0x63,0x64,0x40
001014  65666768          DCB      0x65,0x66,0x67,0x68
001018  40696a6b          DCB      0x40,0x69,0x6a,0x6b
00101c  6c403330          DCB      0x6c,0x40,0x33,0x30
001020  40202020          DCB      0x40,0x20,0x20,0x20
001024  20202020          DCB      0x20,0x20,0x20,0x20
001028  20000000          DCB      0x20,0x00,0x00,0x00
                          %        4448

                          AREA ||area_number.28||, DATA, ALIGN=1

                          EXPORTAS ||area_number.28||, ||.data||
                  snmp_device_code
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.29||, DATA, ALIGN=1

                          EXPORTAS ||area_number.29||, ||.data||
                  snmp_sernum_lsb
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.30||, DATA, ALIGN=1

                          EXPORTAS ||area_number.30||, ||.data||
                  snmp_sernum_msb
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.31||, DATA, ALIGN=1

                          EXPORTAS ||area_number.31||, ||.data||
                  snmp_makb_number
                          %        8

                          AREA ||area_number.32||, DATA, ALIGN=1

                          EXPORTAS ||area_number.32||, ||.data||
                  snmp_bat_part_voltage
                          DCDU     0x00000000

                          AREA ||area_number.33||, DATA, ALIGN=1

                          EXPORTAS ||area_number.33||, ||.data||
                  snmp_spc_stat
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.34||, DATA, ALIGN=1

                          EXPORTAS ||area_number.34||, ||.data||
                  snmp_main_bps
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.35||, DATA, ALIGN=1

                          EXPORTAS ||area_number.35||, ||.data||
                  snmp_max_current_koef
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.36||, DATA, ALIGN=1

                          EXPORTAS ||area_number.36||, ||.data||
                  snmp_up_charge_koef
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.37||, DATA, ALIGN=0

                          EXPORTAS ||area_number.37||, ||.data||
                  snmp_warm_stat
000000  00                DCB      0x00
