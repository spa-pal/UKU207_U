; generated by ARM C/C++ Compiler, 4.1 [Build 644]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\EXE\control.o --asm_dir=.\ --list_dir=.\ --depend=.\EXE\control.d --feedback=.\EXE\UKU_220_IPS_TERMOKOMPENSAT.fed --cpu=Cortex-M3 --apcs=interwork -O1 -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\INC\NXP\LPC17xx -D__MICROLIB -DUKU_220_IPS_TERMOKOMPENSAT -DUKU2071x --omf_browse=.\EXE\control.crf control.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  ke_start PROC
;;;266    //-----------------------------------------------
;;;267    void ke_start(char in)
000000  e92d41fc          PUSH     {r2-r8,lr}
;;;268    {          
000004  4606              MOV      r6,r0
;;;269    ke_start_stat=(enum_ke_start_stat)0;		 
000006  4df9              LDR      r5,|L1.1004|
000008  f04f0700          MOV      r7,#0
00000c  762f              STRB     r7,[r5,#0x18]
;;;270    
;;;271    if(spc_stat==spcVZ)ke_start_stat=kssNOT_VZ;
00000e  7d28              LDRB     r0,[r5,#0x14]  ; spc_stat
000010  f04f0301          MOV      r3,#1
000014  2802              CMP      r0,#2
000016  d00f              BEQ      |L1.56|
;;;272    #ifndef UKU_220_IPS_TERMOKOMPENSAT
;;;273    else if(BAT_IS_ON[in]!=bisON)ke_start_stat=kssNOT_BAT;
;;;274    #endif
;;;275    else if(bat[in]._av&(1<<0))ke_start_stat=kssNOT_BAT_AV;
000018  eb060146          ADD      r1,r6,r6,LSL #1
00001c  eb011206          ADD      r2,r1,r6,LSL #4
000020  49f3              LDR      r1,|L1.1008|
000022  eb010482          ADD      r4,r1,r2,LSL #2
000026  f894103d          LDRB     r1,[r4,#0x3d]
00002a  07ca              LSLS     r2,r1,#31
00002c  d006              BEQ      |L1.60|
00002e  f04f0066          MOV      r0,#0x66
000032  7628              STRB     r0,[r5,#0x18]
                  |L1.52|
;;;276    else if(bat[in]._temper_stat&(1<<1))ke_start_stat=kssNOT_BAT_AV_T;
;;;277    else if(bat[in]._av&(1<<1))ke_start_stat=kssNOT_BAT_AV_ASS;
;;;278    else if(bat[in]._Ib>IKB)ke_start_stat=kssNOT_BAT_ZAR;
;;;279    else if(bat[in]._Ib<-IKB)ke_start_stat=kssNOT_BAT_RAZR;
;;;280    else if((spc_stat==spcKE)&&(spc_bat==0))ke_start_stat=kssNOT_KE1;
;;;281    else if((spc_stat==spcKE)&&(spc_bat==1))ke_start_stat=kssNOT_KE2;
;;;282    else 
;;;283    	{
;;;284    
;;;285    	ke_start_stat=kssYES;
;;;286    
;;;287    	spc_stat=spcKE;
;;;288    	__ee_spc_stat=spcKE;
;;;289    	lc640_write_int(EE_SPC_STAT,__ee_spc_stat);
;;;290    	
;;;291    	spc_bat=in;
;;;292    	__ee_spc_bat=in;
;;;293    	lc640_write_int(EE_SPC_BAT,__ee_spc_bat);
;;;294    
;;;295    	bat[in]._zar_cnt_ke=0;
;;;296    	lc640_write_int(ADR_EE_BAT_ZAR_CNT_KE[in],0);
;;;297    	
;;;298    	spc_phase=0;
;;;299    	__ee_spc_phase=0;
;;;300    	lc640_write_int(EE_SPC_PHASE,__ee_spc_phase);
;;;301    
;;;302    	//ke_mem_hndl(in,lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat]));
;;;303    
;;;304    		{					
;;;305    		signed short temp_temp;
;;;306    		signed char temp;
;;;307    		temp_temp=bat[in]._u_old[((bat_u_old_cnt+1)&0x07)]; 
;;;308    		    
;;;309    		temp=LPC_RTC->YEAR;
;;;310    		gran_char(&temp,1,99);
;;;311    		*((char*)(&(ke_date[0])))=temp;
;;;312    			
;;;313    		temp=LPC_RTC->MONTH;
;;;314    		gran_char(&temp,1,12);
;;;315    		*(((char*)(&(ke_date[0])))+1)=temp;
;;;316    		
;;;317    		temp=LPC_RTC->DOM;
;;;318    		gran_char(&temp,1,31);
;;;319    		*(((char*)(&(ke_date[0])))+2)=temp;			
;;;320    				
;;;321    		*(((char*)(&(ke_date[0])))+3)=*((char*)&temp_temp);
;;;322    		lc640_write_long(EE_SPC_KE_DATE0,ke_date[0]);
;;;323    
;;;324    		temp=LPC_RTC->HOUR;
;;;325    		gran_char(&temp,0,23);
;;;326    		*((char*)(&(ke_date[1])))=temp;
;;;327                   
;;;328    		temp=LPC_RTC->MIN;
;;;329    		gran_char(&temp,0,59);
;;;330    		*(((char*)(&(ke_date[1])))+1)=temp;
;;;331    	          
;;;332    		temp=LPC_RTC->SEC;
;;;333    		gran_char(&temp,0,59);
;;;334    		*(((char*)(&(ke_date[1])))+2)=temp;
;;;335    			
;;;336    		*(((char*)(&(ke_date[1])))+3)=*(((char*)&temp_temp)+1);
;;;337    		lc640_write_long(EE_SPC_KE_DATE1,ke_date[1]);
;;;338    		}
;;;339    
;;;340    	}
;;;341    }
000034  e8bd81fc          POP      {r2-r8,pc}
                  |L1.56|
000038  762b              STRB     r3,[r5,#0x18]         ;271
00003a  e7fb              B        |L1.52|
                  |L1.60|
00003c  f894203f          LDRB     r2,[r4,#0x3f]         ;276
000040  0792              LSLS     r2,r2,#30             ;276
000042  d503              BPL      |L1.76|
000044  f04f0067          MOV      r0,#0x67              ;276
000048  7628              STRB     r0,[r5,#0x18]         ;276
00004a  e7f3              B        |L1.52|
                  |L1.76|
00004c  0789              LSLS     r1,r1,#30             ;277
00004e  d503              BPL      |L1.88|
000050  f04f0068          MOV      r0,#0x68              ;277
000054  7628              STRB     r0,[r5,#0x18]         ;277
000056  e7ed              B        |L1.52|
                  |L1.88|
000058  4ae6              LDR      r2,|L1.1012|
00005a  f9b41008          LDRSH    r1,[r4,#8]            ;278
00005e  f9b22000          LDRSH    r2,[r2,#0]            ;278  ; IKB
000062  4291              CMP      r1,r2                 ;278
000064  dd03              BLE      |L1.110|
000066  f04f0069          MOV      r0,#0x69              ;278
00006a  7628              STRB     r0,[r5,#0x18]         ;278
00006c  e7e2              B        |L1.52|
                  |L1.110|
00006e  4252              RSBS     r2,r2,#0              ;279
000070  4291              CMP      r1,r2                 ;279
000072  da03              BGE      |L1.124|
000074  f04f006a          MOV      r0,#0x6a              ;279
000078  7628              STRB     r0,[r5,#0x18]         ;279
00007a  e7db              B        |L1.52|
                  |L1.124|
00007c  49db              LDR      r1,|L1.1004|
00007e  2801              CMP      r0,#1                 ;280
000080  7d49              LDRB     r1,[r1,#0x15]         ;280
000082  d100              BNE      |L1.134|
000084  b111              CBZ      r1,|L1.140|
                  |L1.134|
000086  2801              CMP      r0,#1                 ;281
000088  d004              BEQ      |L1.148|
00008a  e005              B        |L1.152|
                  |L1.140|
00008c  f04f006b          MOV      r0,#0x6b              ;280
000090  7628              STRB     r0,[r5,#0x18]         ;280
000092  e7cf              B        |L1.52|
                  |L1.148|
000094  2901              CMP      r1,#1                 ;281
000096  d07e              BEQ      |L1.406|
                  |L1.152|
000098  f04f0064          MOV      r0,#0x64              ;285
00009c  7628              STRB     r0,[r5,#0x18]         ;285
00009e  752b              STRB     r3,[r5,#0x14]         ;287
0000a0  f8a53062          STRH     r3,[r5,#0x62]         ;288
0000a4  4619              MOV      r1,r3                 ;289
0000a6  f44f70f8          MOV      r0,#0x1f0             ;289
0000aa  f7fffffe          BL       lc640_write_int
0000ae  756e              STRB     r6,[r5,#0x15]         ;291
0000b0  f8a56064          STRH     r6,[r5,#0x64]         ;292
0000b4  4631              MOV      r1,r6                 ;293
0000b6  f44f70fa          MOV      r0,#0x1f4             ;293
0000ba  f7fffffe          BL       lc640_write_int
0000be  61a7              STR      r7,[r4,#0x18]         ;295
0000c0  48cd              LDR      r0,|L1.1016|
0000c2  2100              MOVS     r1,#0                 ;296
0000c4  f9300016          LDRSH    r0,[r0,r6,LSL #1]     ;296
0000c8  f7fffffe          BL       lc640_write_int
0000cc  75af              STRB     r7,[r5,#0x16]         ;298
0000ce  f8a57066          STRH     r7,[r5,#0x66]         ;299
0000d2  4639              MOV      r1,r7                 ;300
0000d4  f44f70fb          MOV      r0,#0x1f6             ;300
0000d8  f7fffffe          BL       lc640_write_int
0000dc  48c7              LDR      r0,|L1.1020|
0000de  8800              LDRH     r0,[r0,#0]            ;307  ; bat_u_old_cnt
0000e0  f1000001          ADD      r0,r0,#1              ;307
0000e4  f0000007          AND      r0,r0,#7              ;307
0000e8  eb040040          ADD      r0,r4,r0,LSL #1       ;307
0000ec  8c00              LDRH     r0,[r0,#0x20]         ;307
0000ee  9001              STR      r0,[sp,#4]            ;307
0000f0  4dc3              LDR      r5,|L1.1024|
0000f2  8ba8              LDRH     r0,[r5,#0x1c]         ;309
0000f4  9000              STR      r0,[sp,#0]            ;309
0000f6  f04f0263          MOV      r2,#0x63              ;310
0000fa  f04f0101          MOV      r1,#1                 ;310
0000fe  4668              MOV      r0,sp                 ;310
000100  f7fffffe          BL       gran_char
000104  4cb9              LDR      r4,|L1.1004|
000106  f89d0000          LDRB     r0,[sp,#0]            ;311
00010a  34c4              ADDS     r4,r4,#0xc4           ;311
00010c  7020              STRB     r0,[r4,#0]            ;311
00010e  7e28              LDRB     r0,[r5,#0x18]         ;313
000110  9000              STR      r0,[sp,#0]            ;313
000112  220c              MOVS     r2,#0xc               ;314
000114  2101              MOVS     r1,#1                 ;314
000116  4668              MOV      r0,sp                 ;314
000118  f7fffffe          BL       gran_char
00011c  f89d0000          LDRB     r0,[sp,#0]            ;315
000120  7060              STRB     r0,[r4,#1]            ;315
000122  7b28              LDRB     r0,[r5,#0xc]          ;317
000124  9000              STR      r0,[sp,#0]            ;317
000126  221f              MOVS     r2,#0x1f              ;318
000128  2101              MOVS     r1,#1                 ;318
00012a  4668              MOV      r0,sp                 ;318
00012c  f7fffffe          BL       gran_char
000130  f89d0000          LDRB     r0,[sp,#0]            ;319
000134  70a0              STRB     r0,[r4,#2]            ;319
000136  f89d0004          LDRB     r0,[sp,#4]            ;321
00013a  70e0              STRB     r0,[r4,#3]            ;321
00013c  f44f70fc          MOV      r0,#0x1f8             ;322
000140  6821              LDR      r1,[r4,#0]            ;322  ; ke_date
000142  f7fffffe          BL       lc640_write_long
000146  7a28              LDRB     r0,[r5,#8]            ;324
000148  9000              STR      r0,[sp,#0]            ;324
00014a  2217              MOVS     r2,#0x17              ;325
00014c  2100              MOVS     r1,#0                 ;325
00014e  4668              MOV      r0,sp                 ;325
000150  f7fffffe          BL       gran_char
000154  f89d0000          LDRB     r0,[sp,#0]            ;326
000158  7120              STRB     r0,[r4,#4]            ;326
00015a  7928              LDRB     r0,[r5,#4]            ;328
00015c  9000              STR      r0,[sp,#0]            ;328
00015e  223b              MOVS     r2,#0x3b              ;329
000160  2100              MOVS     r1,#0                 ;329
000162  4668              MOV      r0,sp                 ;329
000164  f7fffffe          BL       gran_char
000168  f89d0000          LDRB     r0,[sp,#0]            ;330
00016c  7160              STRB     r0,[r4,#5]            ;330
00016e  7828              LDRB     r0,[r5,#0]            ;332
000170  9000              STR      r0,[sp,#0]            ;332
000172  223b              MOVS     r2,#0x3b              ;333
000174  2100              MOVS     r1,#0                 ;333
000176  4668              MOV      r0,sp                 ;333
000178  f7fffffe          BL       gran_char
00017c  f89d0000          LDRB     r0,[sp,#0]            ;334
000180  71a0              STRB     r0,[r4,#6]            ;334
000182  f89d0005          LDRB     r0,[sp,#5]            ;336
000186  71e0              STRB     r0,[r4,#7]            ;336
000188  f44f70fe          MOV      r0,#0x1fc             ;337
00018c  6861              LDR      r1,[r4,#4]            ;337  ; ke_date
00018e  f7fffffe          BL       lc640_write_long
000192  e74f              B        |L1.52|
000194  e7ff              B        |L1.406|
                  |L1.406|
000196  f04f006c          MOV      r0,#0x6c              ;281
00019a  7628              STRB     r0,[r5,#0x18]         ;281
00019c  e74a              B        |L1.52|
;;;342    
                          ENDP

                  ke_drv PROC
;;;343    //-----------------------------------------------
;;;344    void ke_drv(void)
00019e  e92d47f0          PUSH     {r4-r10,lr}
;;;345    {
;;;346    
;;;347    if(spc_stat==spcKE)
0001a2  4c92              LDR      r4,|L1.1004|
0001a4  7d20              LDRB     r0,[r4,#0x14]  ; spc_stat
0001a6  2801              CMP      r0,#1
0001a8  d17d              BNE      |L1.678|
0001aa  4621              MOV      r1,r4
0001ac  2601              MOVS     r6,#1
;;;348    	{
;;;349    	if(spc_phase==0)
;;;350    		{
;;;351    		mess_send(MESS2BAT_HNDL,PARAM_BAT_MASK_OFF_AFTER_2SEC,(1<<(1-spc_bat)),20);
0001ae  7d49              LDRB     r1,[r1,#0x15]
0001b0  7da0              LDRB     r0,[r4,#0x16]         ;349  ; spc_phase
0001b2  f1c10201          RSB      r2,r1,#1
0001b6  fa06f102          LSL      r1,r6,r2
;;;352    		mess_send(MESS2BPS_HNDL,PARAM_BPS_ALL_OFF_AFTER_2SEC,0xffff,20);
;;;353    
;;;354    		bat[spc_bat]._zar_cnt_ke+=abs(bat[spc_bat]._Ib);
;;;355    	    	
;;;356    		if(bat[spc_bat]._zar_cnt_ke>=AH_CONSTANT)
;;;357    			{
;;;358    			bat[spc_bat]._zar_cnt_ke-=AH_CONSTANT;
;;;359    			lc640_write_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat],lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat])+1);
0001ba  4f8f              LDR      r7,|L1.1016|
0001bc  4d8c              LDR      r5,|L1.1008|
0001be  b20a              SXTH     r2,r1                 ;351
0001c0  b110              CBZ      r0,|L1.456|
;;;360    			}
;;;361    		}
;;;362    
;;;363    	else if(spc_phase==1)
0001c2  2801              CMP      r0,#1
0001c4  d034              BEQ      |L1.560|
0001c6  e038              B        |L1.570|
                  |L1.456|
0001c8  2314              MOVS     r3,#0x14              ;351
0001ca  21ca              MOVS     r1,#0xca              ;351
0001cc  20c8              MOVS     r0,#0xc8              ;351
0001ce  f7fffffe          BL       mess_send
0001d2  2314              MOVS     r3,#0x14              ;352
0001d4  f04f32ff          MOV      r2,#0xffffffff        ;352
0001d8  21ce              MOVS     r1,#0xce              ;352
0001da  20cd              MOVS     r0,#0xcd              ;352
0001dc  f7fffffe          BL       mess_send
0001e0  7d60              LDRB     r0,[r4,#0x15]         ;354  ; spc_bat
0001e2  eb000140          ADD      r1,r0,r0,LSL #1       ;354
0001e6  eb011000          ADD      r0,r1,r0,LSL #4       ;354
0001ea  eb050080          ADD      r0,r5,r0,LSL #2       ;354
0001ee  f9b00008          LDRSH    r0,[r0,#8]            ;354
0001f2  f7fffffe          BL       abs
0001f6  7d61              LDRB     r1,[r4,#0x15]         ;354  ; spc_bat
0001f8  eb010241          ADD      r2,r1,r1,LSL #1       ;354
0001fc  eb021201          ADD      r2,r2,r1,LSL #4       ;354
000200  eb050282          ADD      r2,r5,r2,LSL #2       ;354
000204  6993              LDR      r3,[r2,#0x18]         ;354
000206  4418              ADD      r0,r0,r3              ;354
000208  6190              STR      r0,[r2,#0x18]         ;354
00020a  f64843a0          MOV      r3,#0x8ca0            ;356
00020e  4298              CMP      r0,r3                 ;356
000210  db13              BLT      |L1.570|
000212  eba00003          SUB      r0,r0,r3              ;358
000216  6190              STR      r0,[r2,#0x18]         ;358
000218  f8370011          LDRH     r0,[r7,r1,LSL #1]     ;359
00021c  f7fffffe          BL       lc640_read_int
000220  1c40              ADDS     r0,r0,#1              ;359
000222  b201              SXTH     r1,r0                 ;359
000224  7d60              LDRB     r0,[r4,#0x15]         ;359  ; spc_bat
000226  f9370010          LDRSH    r0,[r7,r0,LSL #1]     ;359
00022a  f7fffffe          BL       lc640_write_int
00022e  e004              B        |L1.570|
                  |L1.560|
;;;364    		{
;;;365    		mess_send(MESS2BAT_HNDL,PARAM_BAT_MASK_OFF_AFTER_2SEC,(1<<(1-spc_bat)),20);
000230  2314              MOVS     r3,#0x14
000232  21ca              MOVS     r1,#0xca
000234  20c8              MOVS     r0,#0xc8
000236  f7fffffe          BL       mess_send
                  |L1.570|
;;;366    		}
;;;367    
;;;368    	if(bat[spc_bat]._Ub<(USIGN*10))
00023a  7d61              LDRB     r1,[r4,#0x15]  ; spc_bat
;;;369    		{
;;;370    		cnt_end_ke++;
;;;371    		if(cnt_end_ke>=30)
;;;372    			{
;;;373    			
;;;374    			if((spc_stat==spcKE)&&(spc_phase==0))
;;;375    				{
;;;376    				lc640_write_int(ADR_EE_BAT_C_REAL[spc_bat],lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat]));
;;;377    				ke_mem_hndl(spc_bat,lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat]));
;;;378    				lc640_write_int(ADR_EE_BAT_ZAR_CNT[spc_bat],0);
;;;379    				cntrl_stat=50;
;;;380    				cntrl_stat_old=50;
;;;381    				}
;;;382    
;;;383    			if((BAT_IS_ON[1-spc_bat]) == bisON)
;;;384    				{
;;;385    				spc_phase=1;
;;;386    				__ee_spc_phase=1;
;;;387    				lc640_write_int(EE_SPC_PHASE,1);
;;;388    				}			
;;;389    			else
;;;390    				{
;;;391    				spc_stat=spcOFF;
;;;392    				__ee_spc_stat=spcOFF;
;;;393    				lc640_write_int(EE_SPC_STAT,spcOFF);
00023c  f44f79f8          MOV      r9,#0x1f0
000240  eb010041          ADD      r0,r1,r1,LSL #1       ;368
000244  eb001001          ADD      r0,r0,r1,LSL #4       ;368
000248  eb050080          ADD      r0,r5,r0,LSL #2       ;368
00024c  f04f0800          MOV      r8,#0                 ;349
000250  f9b02002          LDRSH    r2,[r0,#2]            ;368
000254  486b              LDR      r0,|L1.1028|
000256  f9b00000          LDRSH    r0,[r0,#0]            ;368  ; USIGN
00025a  eb000080          ADD      r0,r0,r0,LSL #2       ;368
00025e  ebb20f40          CMP      r2,r0,LSL #1          ;368
000262  da47              BGE      |L1.756|
000264  f8b4005e          LDRH     r0,[r4,#0x5e]         ;370  ; cnt_end_ke
000268  f1000001          ADD      r0,r0,#1              ;370
00026c  b200              SXTH     r0,r0                 ;370
00026e  f8a4005e          STRH     r0,[r4,#0x5e]         ;370
000272  281e              CMP      r0,#0x1e              ;371
000274  db40              BLT      |L1.760|
000276  7d20              LDRB     r0,[r4,#0x14]         ;374  ; spc_stat
000278  2801              CMP      r0,#1                 ;374
00027a  d122              BNE      |L1.706|
00027c  7da0              LDRB     r0,[r4,#0x16]         ;374  ; spc_phase
00027e  bb00              CBNZ     r0,|L1.706|
000280  f8370011          LDRH     r0,[r7,r1,LSL #1]     ;376
000284  f7fffffe          BL       lc640_read_int
000288  b201              SXTH     r1,r0                 ;376
00028a  485f              LDR      r0,|L1.1032|
00028c  7d62              LDRB     r2,[r4,#0x15]         ;376  ; spc_bat
00028e  f9300012          LDRSH    r0,[r0,r2,LSL #1]     ;376
000292  f7fffffe          BL       lc640_write_int
000296  7d60              LDRB     r0,[r4,#0x15]         ;377  ; spc_bat
000298  f8370010          LDRH     r0,[r7,r0,LSL #1]     ;377
00029c  f7fffffe          BL       lc640_read_int
0002a0  b281              UXTH     r1,r0                 ;377
0002a2  7d60              LDRB     r0,[r4,#0x15]         ;377  ; spc_bat
0002a4  e000              B        |L1.680|
                  |L1.678|
0002a6  e049              B        |L1.828|
                  |L1.680|
0002a8  f7fffffe          BL       ke_mem_hndl
0002ac  4857              LDR      r0,|L1.1036|
0002ae  7d61              LDRB     r1,[r4,#0x15]         ;378  ; spc_bat
0002b0  f9300011          LDRSH    r0,[r0,r1,LSL #1]     ;378
0002b4  2100              MOVS     r1,#0                 ;378
0002b6  f7fffffe          BL       lc640_write_int
0002ba  f04f0032          MOV      r0,#0x32              ;379
0002be  84e0              STRH     r0,[r4,#0x26]         ;379
0002c0  8520              STRH     r0,[r4,#0x28]         ;380
                  |L1.706|
0002c2  7d60              LDRB     r0,[r4,#0x15]         ;383  ; spc_bat
0002c4  4952              LDR      r1,|L1.1040|
0002c6  f1c00001          RSB      r0,r0,#1              ;383
0002ca  5c08              LDRB     r0,[r1,r0]            ;383
0002cc  2855              CMP      r0,#0x55              ;383
0002ce  d008              BEQ      |L1.738|
0002d0  f8848014          STRB     r8,[r4,#0x14]         ;391
0002d4  f8a48062          STRH     r8,[r4,#0x62]         ;392
0002d8  2100              MOVS     r1,#0
0002da  4648              MOV      r0,r9
0002dc  f7fffffe          BL       lc640_write_int
0002e0  e00a              B        |L1.760|
                  |L1.738|
0002e2  75a6              STRB     r6,[r4,#0x16]         ;385
0002e4  f8a46066          STRH     r6,[r4,#0x66]         ;386
0002e8  2101              MOVS     r1,#1                 ;387
0002ea  f44f70fb          MOV      r0,#0x1f6             ;387
0002ee  f7fffffe          BL       lc640_write_int
0002f2  e001              B        |L1.760|
                  |L1.756|
;;;394    				}
;;;395    			}
;;;396    		}
;;;397    	else cnt_end_ke=0;
0002f4  f8a4805e          STRH     r8,[r4,#0x5e]
                  |L1.760|
;;;398    
;;;399    	if((bat[spc_bat]._Ub>=bat[1-spc_bat]._Ub)&&(spc_phase==1))
0002f8  7d61              LDRB     r1,[r4,#0x15]  ; spc_bat
0002fa  eb010041          ADD      r0,r1,r1,LSL #1
0002fe  eb001001          ADD      r0,r0,r1,LSL #4
000302  eb050080          ADD      r0,r5,r0,LSL #2
000306  f9b02002          LDRSH    r2,[r0,#2]
00030a  f1c10001          RSB      r0,r1,#1
00030e  eb000140          ADD      r1,r0,r0,LSL #1
000312  eb011000          ADD      r0,r1,r0,LSL #4
000316  eb050080          ADD      r0,r5,r0,LSL #2
00031a  f9b00002          LDRSH    r0,[r0,#2]
00031e  4282              CMP      r2,r0
000320  db0c              BLT      |L1.828|
000322  7da0              LDRB     r0,[r4,#0x16]  ; spc_phase
000324  2801              CMP      r0,#1
000326  d109              BNE      |L1.828|
;;;400    		{
;;;401    		spc_stat=spcOFF;
000328  f8848014          STRB     r8,[r4,#0x14]
;;;402    		__ee_spc_stat=spcOFF;
00032c  f8a48062          STRH     r8,[r4,#0x62]
;;;403    		lc640_write_int(EE_SPC_STAT,spcOFF);
000330  4648              MOV      r0,r9
000332  e8bd47f0          POP      {r4-r10,lr}
000336  2100              MOVS     r1,#0
000338  f7ffbffe          B.W      lc640_write_int
                  |L1.828|
;;;404    		}
;;;405    	}
;;;406    			
;;;407    }
00033c  e8bd87f0          POP      {r4-r10,pc}
;;;408    
                          ENDP

                  vz_start PROC
;;;409    //-----------------------------------------------
;;;410    char vz_start(char hour)
000340  b570              PUSH     {r4-r6,lr}
;;;411    {          
000342  4605              MOV      r5,r0
;;;412    char out;
;;;413    out=0;
000344  f04f0600          MOV      r6,#0
;;;414    if((spc_stat==spcOFF)&&(speedChrgBlckStat!=1))
000348  4c28              LDR      r4,|L1.1004|
00034a  7d20              LDRB     r0,[r4,#0x14]  ; spc_stat
00034c  bb90              CBNZ     r0,|L1.948|
00034e  4831              LDR      r0,|L1.1044|
000350  8800              LDRH     r0,[r0,#0]  ; speedChrgBlckStat
000352  2801              CMP      r0,#1
000354  d02e              BEQ      |L1.948|
;;;415    	{
;;;416    	spc_stat=spcVZ;
000356  f04f0102          MOV      r1,#2
00035a  7521              STRB     r1,[r4,#0x14]
;;;417    	__ee_spc_stat=spcVZ; 
00035c  f8a41062          STRH     r1,[r4,#0x62]
;;;418    	lc640_write_int(EE_SPC_STAT,__ee_spc_stat);   
000360  f44f70f8          MOV      r0,#0x1f0
000364  f7fffffe          BL       lc640_write_int
;;;419    	vz_cnt_h=hour;
000368  f8a4505a          STRH     r5,[r4,#0x5a]
;;;420    	__ee_vz_cnt=hour*60;
00036c  ebc51005          RSB      r0,r5,r5,LSL #4
000370  ea4f0080          LSL      r0,r0,#2
000374  f8a40060          STRH     r0,[r4,#0x60]
;;;421    	if(hour==0)__ee_vz_cnt=30;
000378  b91d              CBNZ     r5,|L1.898|
00037a  f04f001e          MOV      r0,#0x1e
00037e  f8a40060          STRH     r0,[r4,#0x60]
                  |L1.898|
;;;422    	lc640_write_int(EE_VZ_CNT,__ee_vz_cnt);
000382  f1040456          ADD      r4,r4,#0x56
000386  f44f70f9          MOV      r0,#0x1f2
00038a  f9b4100a          LDRSH    r1,[r4,#0xa]  ; __ee_vz_cnt
00038e  f7fffffe          BL       lc640_write_int
;;;423    	lc640_write_int(EE_SPC_VZ_LENGT,__ee_vz_cnt);	
000392  f9b4100a          LDRSH    r1,[r4,#0xa]  ; __ee_vz_cnt
000396  f44f70ff          MOV      r0,#0x1fe
00039a  f7fffffe          BL       lc640_write_int
;;;424    	vz_cnt_h_=0;
00039e  f04f0000          MOV      r0,#0
0003a2  80e0              STRH     r0,[r4,#6]
;;;425    	vz_cnt_s=0;
0003a4  8020              STRH     r0,[r4,#0]
;;;426    	vz_cnt_s_=0;
0003a6  8060              STRH     r0,[r4,#2]
;;;427    	out=1;
0003a8  f04f0601          MOV      r6,#1
;;;428    	vz_mem_hndl(1);
0003ac  f04f0001          MOV      r0,#1
0003b0  f7fffffe          BL       vz_mem_hndl
                  |L1.948|
;;;429    	}
;;;430    //else if((spc_stat==spc_KE1p1)||(spc_stat==spc_KE1p2)) out=22; 
;;;431    //else if((spc_stat==spc_KE2p1)||(spc_stat==spc_KE2p2)) out=33;
;;;432    //plazma=out;	
;;;433    return out;
0003b4  4630              MOV      r0,r6
;;;434    }
0003b6  bd70              POP      {r4-r6,pc}
;;;435    
                          ENDP

                  vz_stop PROC
;;;436    //-----------------------------------------------
;;;437    void vz_stop(void)
0003b8  b510              PUSH     {r4,lr}
;;;438    {
;;;439    if(spc_stat==spcVZ)
0003ba  4c0c              LDR      r4,|L1.1004|
0003bc  7d20              LDRB     r0,[r4,#0x14]  ; spc_stat
0003be  2802              CMP      r0,#2
0003c0  d113              BNE      |L1.1002|
;;;440         {
;;;441    vz_mem_hndl(vz_cnt_h);          
0003c2  f1040424          ADD      r4,r4,#0x24
0003c6  8ee0              LDRH     r0,[r4,#0x36]  ; vz_cnt_h
0003c8  f7fffffe          BL       vz_mem_hndl
;;;442    vz_cnt_s=0;
0003cc  f04f0000          MOV      r0,#0
0003d0  8660              STRH     r0,[r4,#0x32]
;;;443    vz_cnt_h=0;
0003d2  86e0              STRH     r0,[r4,#0x36]
;;;444    vz_cnt_h_=0;
0003d4  8720              STRH     r0,[r4,#0x38]
;;;445    spc_stat=spcOFF;
0003d6  f8040c10          STRB     r0,[r4,#-0x10]
;;;446    
;;;447    		__ee_spc_stat=spcOFF;
0003da  87e0              STRH     r0,[r4,#0x3e]
;;;448    		lc640_write_int(EE_SPC_STAT,spcOFF);
0003dc  4601              MOV      r1,r0
0003de  e8bd4010          POP      {r4,lr}
0003e2  f44f70f8          MOV      r0,#0x1f0
0003e6  f7ffbffe          B.W      lc640_write_int
                  |L1.1002|
;;;449         }
;;;450    
;;;451    }
0003ea  bd10              POP      {r4,pc}
                  |L1.1004|
                          DCD      ||area_number.23||
                  |L1.1008|
                          DCD      bat
                  |L1.1012|
                          DCD      IKB
                  |L1.1016|
                          DCD      ADR_EE_BAT_ZAR_CNT_KE
                  |L1.1020|
                          DCD      bat_u_old_cnt
                  |L1.1024|
                          DCD      0x40024020
                  |L1.1028|
                          DCD      USIGN
                  |L1.1032|
                          DCD      ADR_EE_BAT_C_REAL
                  |L1.1036|
                          DCD      ADR_EE_BAT_ZAR_CNT
                  |L1.1040|
                          DCD      BAT_IS_ON
                  |L1.1044|
                          DCD      speedChrgBlckStat
                          ENDP

                  avz_next_date_hndl PROC
;;;453    //-----------------------------------------------
;;;454    void avz_next_date_hndl(void)
000418  b570              PUSH     {r4-r6,lr}
;;;455    {
;;;456    if((LPC_RTC->MONTH+AVZ)>12)lc640_write_int(EE_YEAR_AVZ,LPC_RTC->YEAR+1);
00041a  4cff              LDR      r4,|L1.2072|
00041c  f8940038          LDRB     r0,[r4,#0x38]
000420  4dfe              LDR      r5,|L1.2076|
000422  7829              LDRB     r1,[r5,#0]  ; AVZ
000424  4408              ADD      r0,r0,r1
000426  280c              CMP      r0,#0xc
000428  d906              BLS      |L1.1080|
00042a  8fa0              LDRH     r0,[r4,#0x3c]
00042c  1c40              ADDS     r0,r0,#1
00042e  b201              SXTH     r1,r0
000430  20b8              MOVS     r0,#0xb8
000432  f7fffffe          BL       lc640_write_int
000436  e004              B        |L1.1090|
                  |L1.1080|
;;;457    else lc640_write_int(EE_YEAR_AVZ,LPC_RTC->YEAR);
000438  f9b4103c          LDRSH    r1,[r4,#0x3c]
00043c  20b8              MOVS     r0,#0xb8
00043e  f7fffffe          BL       lc640_write_int
                  |L1.1090|
;;;458    
;;;459    //lc640_write_int(EE_YEAR_AVZ,6);
;;;460    
;;;461    if((LPC_RTC->MONTH+AVZ)>12)lc640_write_int(EE_MONTH_AVZ,(LPC_RTC->MONTH+AVZ)-12);
000442  f8941038          LDRB     r1,[r4,#0x38]
000446  7828              LDRB     r0,[r5,#0]  ; AVZ
000448  4401              ADD      r1,r1,r0
00044a  290c              CMP      r1,#0xc
00044c  d907              BLS      |L1.1118|
00044e  f8941038          LDRB     r1,[r4,#0x38]
000452  380c              SUBS     r0,r0,#0xc
000454  4401              ADD      r1,r1,r0
000456  20b6              MOVS     r0,#0xb6
000458  f7fffffe          BL       lc640_write_int
00045c  e005              B        |L1.1130|
                  |L1.1118|
;;;462    else lc640_write_int(EE_MONTH_AVZ,LPC_RTC->MONTH+AVZ);                                                 
00045e  f8941038          LDRB     r1,[r4,#0x38]
000462  4401              ADD      r1,r1,r0
000464  20b6              MOVS     r0,#0xb6
000466  f7fffffe          BL       lc640_write_int
                  |L1.1130|
;;;463    
;;;464    //lc640_write_int(EE_MONTH_AVZ,5);
;;;465    
;;;466    if(LPC_RTC->DOM>28) lc640_write_int(EE_DATE_AVZ,28);
00046a  f894002c          LDRB     r0,[r4,#0x2c]
00046e  281c              CMP      r0,#0x1c
000470  d904              BLS      |L1.1148|
000472  211c              MOVS     r1,#0x1c
000474  20b4              MOVS     r0,#0xb4
000476  f7fffffe          BL       lc640_write_int
00047a  e004              B        |L1.1158|
                  |L1.1148|
;;;467    else lc640_write_int(EE_DATE_AVZ,LPC_RTC->DOM);
00047c  f894102c          LDRB     r1,[r4,#0x2c]
000480  20b4              MOVS     r0,#0xb4
000482  f7fffffe          BL       lc640_write_int
                  |L1.1158|
;;;468    
;;;469    //lc640_write_int(EE_DATE_AVZ,4);
;;;470    
;;;471    lc640_write_int(EE_HOUR_AVZ,LPC_RTC->HOUR);
000486  f1040420          ADD      r4,r4,#0x20
00048a  7a21              LDRB     r1,[r4,#8]
00048c  f04f00ae          MOV      r0,#0xae
000490  f7fffffe          BL       lc640_write_int
;;;472    lc640_write_int(EE_MIN_AVZ,LPC_RTC->MIN);
000494  7921              LDRB     r1,[r4,#4]
000496  20b0              MOVS     r0,#0xb0
000498  f7fffffe          BL       lc640_write_int
;;;473    lc640_write_int(EE_SEC_AVZ,LPC_RTC->SEC);
00049c  7821              LDRB     r1,[r4,#0]
00049e  e8bd4070          POP      {r4-r6,lr}
0004a2  20b2              MOVS     r0,#0xb2
0004a4  f7ffbffe          B.W      lc640_write_int
;;;474    
;;;475    }
;;;476    
                          ENDP

                  avz_drv PROC
;;;477    //-----------------------------------------------
;;;478    void avz_drv(void)                               
0004a8  b510              PUSH     {r4,lr}
;;;479    {                
;;;480    if(AVZ!=AVZ_OFF)
0004aa  48dc              LDR      r0,|L1.2076|
;;;481    	{
;;;482    	if((LPC_RTC->YEAR==YEAR_AVZ)&&(LPC_RTC->MONTH==MONTH_AVZ)&&(LPC_RTC->DOM==DATE_AVZ)&&(LPC_RTC->HOUR==HOUR_AVZ)&&(LPC_RTC->MIN==MIN_AVZ)&&(LPC_RTC->SEC==SEC_AVZ))
;;;483    		{
;;;484    		bAVZ=1;
0004ac  4cdc              LDR      r4,|L1.2080|
0004ae  7800              LDRB     r0,[r0,#0]            ;480  ; AVZ
0004b0  b330              CBZ      r0,|L1.1280|
0004b2  48d9              LDR      r0,|L1.2072|
0004b4  8f82              LDRH     r2,[r0,#0x3c]         ;482
0004b6  49db              LDR      r1,|L1.2084|
0004b8  8809              LDRH     r1,[r1,#0]            ;482  ; YEAR_AVZ
0004ba  428a              CMP      r2,r1                 ;482
0004bc  d120              BNE      |L1.1280|
0004be  f8902038          LDRB     r2,[r0,#0x38]         ;482
0004c2  49d9              LDR      r1,|L1.2088|
0004c4  8809              LDRH     r1,[r1,#0]            ;482  ; MONTH_AVZ
0004c6  428a              CMP      r2,r1                 ;482
0004c8  d11a              BNE      |L1.1280|
0004ca  f890102c          LDRB     r1,[r0,#0x2c]         ;482
0004ce  4ad7              LDR      r2,|L1.2092|
0004d0  8812              LDRH     r2,[r2,#0]            ;482  ; DATE_AVZ
0004d2  4291              CMP      r1,r2                 ;482
0004d4  d114              BNE      |L1.1280|
0004d6  f8901028          LDRB     r1,[r0,#0x28]         ;482
0004da  4ad5              LDR      r2,|L1.2096|
0004dc  8812              LDRH     r2,[r2,#0]            ;482  ; HOUR_AVZ
0004de  4291              CMP      r1,r2                 ;482
0004e0  d10e              BNE      |L1.1280|
0004e2  f8901024          LDRB     r1,[r0,#0x24]         ;482
0004e6  4ad3              LDR      r2,|L1.2100|
0004e8  8812              LDRH     r2,[r2,#0]            ;482  ; MIN_AVZ
0004ea  4291              CMP      r1,r2                 ;482
0004ec  d108              BNE      |L1.1280|
0004ee  f8900020          LDRB     r0,[r0,#0x20]         ;482
0004f2  49d1              LDR      r1,|L1.2104|
0004f4  8809              LDRH     r1,[r1,#0]            ;482  ; SEC_AVZ
0004f6  4288              CMP      r0,r1                 ;482
0004f8  d102              BNE      |L1.1280|
0004fa  f04f0001          MOV      r0,#1
0004fe  75e0              STRB     r0,[r4,#0x17]
                  |L1.1280|
;;;485    		}
;;;486    	}
;;;487    if(bAVZ)
000500  7de0              LDRB     r0,[r4,#0x17]  ; bAVZ
000502  2800              CMP      r0,#0
000504  d00c              BEQ      |L1.1312|
;;;488    	{
;;;489    	if(vz_start(AVZ_TIME))
000506  48cd              LDR      r0,|L1.2108|
000508  8800              LDRH     r0,[r0,#0]  ; AVZ_TIME
00050a  b2c0              UXTB     r0,r0
00050c  f7fffffe          BL       vz_start
000510  2800              CMP      r0,#0
000512  d005              BEQ      |L1.1312|
;;;490    		{
;;;491    		bAVZ=0;
000514  f04f0000          MOV      r0,#0
000518  75e0              STRB     r0,[r4,#0x17]
;;;492    		avz_next_date_hndl();
00051a  e8bd4010          POP      {r4,lr}
00051e  e7fe              B        avz_next_date_hndl
                  |L1.1312|
;;;493    		}
;;;494    	}	
;;;495    
;;;496    }
000520  e763              B        |L1.1002|
;;;497    
                          ENDP

                  vz_drv PROC
;;;498    //-----------------------------------------------
;;;499    void vz_drv(void)
000522  b538              PUSH     {r3-r5,lr}
;;;500    { 
;;;501    if(spc_stat==spcVZ)
000524  4cbe              LDR      r4,|L1.2080|
000526  7d20              LDRB     r0,[r4,#0x14]  ; spc_stat
000528  2802              CMP      r0,#2
00052a  d116              BNE      |L1.1370|
;;;502    	{
;;;503    	if(sk_stat[0]==1)
00052c  48c4              LDR      r0,|L1.2112|
00052e  7800              LDRB     r0,[r0,#0]  ; sk_stat
000530  2801              CMP      r0,#1
000532  d013              BEQ      |L1.1372|
;;;504    		{
;;;505    
;;;506    	if(vz_cnt_s_<3600)
;;;507    		{
;;;508    		vz_cnt_s_++;
;;;509    		if(vz_cnt_s_>=3600)
;;;510    			{
;;;511    			vz_cnt_s_=0;
;;;512    			if(vz_cnt_h)
;;;513    				{
;;;514    				vz_cnt_h--;
;;;515    				vz_cnt_h_++;
;;;516    				}
;;;517    			}
;;;518    		}
;;;519    
;;;520    
;;;521    	if(vz_cnt_s<60)
;;;522    		{
;;;523    		vz_cnt_s++;
;;;524    		if(vz_cnt_s>=60)
;;;525    			{
;;;526    			vz_cnt_s=0;
;;;527    			
;;;528    			__ee_vz_cnt--;
;;;529    			lc640_write_int(EE_VZ_CNT,__ee_vz_cnt);
;;;530    			if((!__ee_vz_cnt)||(speedChrgBlckStat==1))
;;;531    				{
;;;532    				spc_stat=spcOFF;
;;;533    						__ee_spc_stat=spcOFF;
;;;534    		lc640_write_int(EE_SPC_STAT,spcOFF);
;;;535    
;;;536    				hv_vz_stat=hvsOFF;
;;;537    		lc640_write(EE_HV_VZ_STAT,hvsOFF);
;;;538    				vz_mem_hndl(0);
;;;539    				}
;;;540    			}
;;;541    		}
;;;542    
;;;543    		}
;;;544    	else 
;;;545    		{
;;;546    		if(((LPC_RTC->SEC)%10)==0)
000534  48c3              LDR      r0,|L1.2116|
000536  7800              LDRB     r0,[r0,#0]
000538  f04f010a          MOV      r1,#0xa
00053c  fbb0f2f1          UDIV     r2,r0,r1
000540  fb010012          MLS      r0,r1,r2,r0
000544  2800              CMP      r0,#0
000546  d108              BNE      |L1.1370|
;;;547    			{
;;;548    			show_mess(	"¬€–¿¬Õ»¬¿ﬁŸ»… «¿–ﬂƒ ",
000548  f2413088          MOV      r0,#0x1388
00054c  9000              STR      r0,[sp,#0]
00054e  a3be              ADR      r3,|L1.2120|
000550  a2c3              ADR      r2,|L1.2144|
000552  a1c9              ADR      r1,|L1.2168|
000554  a0ce              ADR      r0,|L1.2192|
000556  f7fffffe          BL       show_mess
                  |L1.1370|
;;;549    						"    «¿¡ÀŒ »–Œ¬¿Õ    ",
;;;550    						"     Õ≈»—œ–¿¬Õ¿     ",
;;;551    						"    ¬≈Õ“»Àﬂ÷»ﬂ!!!   ",
;;;552    						5000);			
;;;553    			}
;;;554    		}
;;;555    /*	if(vz_cnt_s_>=3)
;;;556    		{
;;;557    		if(sk_stat[0]==0)
;;;558    		} */
;;;559    
;;;560    	}
;;;561    
;;;562    
;;;563    } 
00055a  bd38              POP      {r3-r5,pc}
                  |L1.1372|
00055c  f8b40058          LDRH     r0,[r4,#0x58]         ;506  ; vz_cnt_s_
000560  f44f6161          MOV      r1,#0xe10             ;506
000564  2500              MOVS     r5,#0                 ;511
000566  4288              CMP      r0,r1                 ;506
000568  d215              BCS      |L1.1430|
00056a  f1000001          ADD      r0,r0,#1              ;508
00056e  b280              UXTH     r0,r0                 ;508
000570  f8a40058          STRH     r0,[r4,#0x58]         ;508
000574  4288              CMP      r0,r1                 ;509
000576  d30e              BCC      |L1.1430|
000578  f8a45058          STRH     r5,[r4,#0x58]         ;511
00057c  f8b4005a          LDRH     r0,[r4,#0x5a]         ;512  ; vz_cnt_h
000580  b148              CBZ      r0,|L1.1430|
000582  f1a00001          SUB      r0,r0,#1              ;514
000586  f8240f5a          STRH     r0,[r4,#0x5a]!        ;514
00058a  8860              LDRH     r0,[r4,#2]            ;515  ; vz_cnt_h_
00058c  f1000001          ADD      r0,r0,#1              ;515
000590  8060              STRH     r0,[r4,#2]            ;515
000592  f1a4045a          SUB      r4,r4,#0x5a           ;515
                  |L1.1430|
000596  f8b40056          LDRH     r0,[r4,#0x56]         ;521  ; vz_cnt_s
00059a  283c              CMP      r0,#0x3c              ;521
00059c  d2dd              BCS      |L1.1370|
00059e  f1000001          ADD      r0,r0,#1              ;523
0005a2  b280              UXTH     r0,r0                 ;523
0005a4  f8a40056          STRH     r0,[r4,#0x56]         ;523
0005a8  283c              CMP      r0,#0x3c              ;524
0005aa  d3d6              BCC      |L1.1370|
0005ac  f8245f56          STRH     r5,[r4,#0x56]!        ;526
0005b0  8960              LDRH     r0,[r4,#0xa]          ;528  ; __ee_vz_cnt
0005b2  f1a00001          SUB      r0,r0,#1              ;528
0005b6  b201              SXTH     r1,r0                 ;528
0005b8  8161              STRH     r1,[r4,#0xa]          ;528
0005ba  f44f70f9          MOV      r0,#0x1f2             ;529
0005be  f7fffffe          BL       lc640_write_int
0005c2  8960              LDRH     r0,[r4,#0xa]          ;530  ; __ee_vz_cnt
0005c4  f1a40456          SUB      r4,r4,#0x56           ;530
0005c8  b118              CBZ      r0,|L1.1490|
0005ca  48b7              LDR      r0,|L1.2216|
0005cc  8800              LDRH     r0,[r0,#0]            ;530  ; speedChrgBlckStat
0005ce  2801              CMP      r0,#1                 ;530
0005d0  d1c3              BNE      |L1.1370|
                  |L1.1490|
0005d2  7525              STRB     r5,[r4,#0x14]         ;532
0005d4  f8a45062          STRH     r5,[r4,#0x62]         ;533
0005d8  2100              MOVS     r1,#0                 ;534
0005da  f44f70f8          MOV      r0,#0x1f0             ;534
0005de  f7fffffe          BL       lc640_write_int
0005e2  48b2              LDR      r0,|L1.2220|
0005e4  7005              STRB     r5,[r0,#0]            ;536
0005e6  2100              MOVS     r1,#0                 ;537
0005e8  f44f70b4          MOV      r0,#0x168             ;537
0005ec  f7fffffe          BL       lc640_write
0005f0  e8bd4038          POP      {r3-r5,lr}            ;538
0005f4  2000              MOVS     r0,#0                 ;538
0005f6  f7ffbffe          B.W      vz_mem_hndl
;;;564    
                          ENDP

                  vz1_drv PROC
;;;566    //‰‡È‚Â Û‡‚ÌËÚÂÎ¸ÌÓ„Ó Á‡ˇ‰‡
;;;567    void vz1_drv(void)
0005fa  e92d4ff8          PUSH     {r3-r11,lr}
;;;568    {
;;;569    if(volt_region_cnt)volt_region_cnt--;
0005fe  f8df8220          LDR      r8,|L1.2080|
000602  f9b80070          LDRSH    r0,[r8,#0x70]  ; volt_region_cnt
000606  b118              CBZ      r0,|L1.1552|
000608  f1a00001          SUB      r0,r0,#1
00060c  f8a80070          STRH     r0,[r8,#0x70]
                  |L1.1552|
;;;570    if(vz1_stat==vz1sOFF)
000610  f8980020          LDRB     r0,[r8,#0x20]  ; vz1_stat
000614  b928              CBNZ     r0,|L1.1570|
;;;571    	{
;;;572    	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
000616  2314              MOVS     r3,#0x14
000618  2200              MOVS     r2,#0
00061a  2164              MOVS     r1,#0x64
00061c  20d2              MOVS     r0,#0xd2
00061e  f7fffffe          BL       mess_send
                  |L1.1570|
;;;573    	}
;;;574    if(vz1_stat==vz1sSTEP1)
000622  f8980020          LDRB     r0,[r8,#0x20]  ; vz1_stat
;;;575    	{
;;;576    	if(vz1_stat_old!=vz1_stat)
;;;577    		{
;;;578    		vz1_stat_cnt=5;
;;;579    		}
;;;580    	if(vz1_stat_cnt)
;;;581    		{
;;;582    		vz1_stat_cnt--;
;;;583    		if(vz1_stat_cnt==0)
;;;584    			{
;;;585    			vz1_stat=vz1sERR1; 	//ÕÂ ‚ÍÎ˛˜ËÎ‡Ò¸ ‚ÂÌÚËÎˇˆËˇ;
;;;586    			lc640_write(EE_VZ1_STAT,vz1sERR1);
;;;587    			}
;;;588    		}
;;;589    	if(sk_stat[0]==1)
000626  4d86              LDR      r5,|L1.2112|
000628  f44f7bc9          MOV      r11,#0x192            ;586
00062c  2801              CMP      r0,#1                 ;574
00062e  d139              BNE      |L1.1700|
000630  f8980021          LDRB     r0,[r8,#0x21]         ;576  ; vz1_stat_old
000634  2801              CMP      r0,#1                 ;576
000636  d003              BEQ      |L1.1600|
000638  f04f0005          MOV      r0,#5                 ;578
00063c  f8a8006e          STRH     r0,[r8,#0x6e]         ;578
                  |L1.1600|
000640  f9b8006e          LDRSH    r0,[r8,#0x6e]         ;580  ; vz1_stat_cnt
000644  b168              CBZ      r0,|L1.1634|
000646  f1a00001          SUB      r0,r0,#1              ;582
00064a  b200              SXTH     r0,r0                 ;582
00064c  f8a8006e          STRH     r0,[r8,#0x6e]         ;582
000650  b938              CBNZ     r0,|L1.1634|
000652  f04f000b          MOV      r0,#0xb               ;585
000656  f8880020          STRB     r0,[r8,#0x20]         ;585
00065a  4601              MOV      r1,r0                 ;586
00065c  4658              MOV      r0,r11                ;586
00065e  f7fffffe          BL       lc640_write
                  |L1.1634|
000662  7828              LDRB     r0,[r5,#0]  ; sk_stat
000664  2801              CMP      r0,#1
000666  d117              BNE      |L1.1688|
;;;590    		{
;;;591    		vz1_stat=vz1sSTEP2;
000668  f04f0002          MOV      r0,#2
00066c  f8880020          STRB     r0,[r8,#0x20]
;;;592    		lc640_write(EE_VZ1_STAT,vz1sSTEP2);
000670  4601              MOV      r1,r0
000672  4658              MOV      r0,r11
000674  f7fffffe          BL       lc640_write
;;;593    		tree_up(iVZ1_STEP2_2,1,0,0);
000678  2300              MOVS     r3,#0
00067a  461a              MOV      r2,r3
00067c  2101              MOVS     r1,#1
00067e  20da              MOVS     r0,#0xda
000680  f7fffffe          BL       tree_up
;;;594    		tree_up(iVZ1_STEP2_1,0,0,0);
000684  2300              MOVS     r3,#0
000686  461a              MOV      r2,r3
000688  4619              MOV      r1,r3
00068a  20d9              MOVS     r0,#0xd9
00068c  f7fffffe          BL       tree_up
;;;595    		ret(1200);
000690  f44f6096          MOV      r0,#0x4b0
000694  f7fffffe          BL       ||ret||
                  |L1.1688|
;;;596    		}
;;;597    	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
000698  2314              MOVS     r3,#0x14
00069a  2200              MOVS     r2,#0
00069c  2164              MOVS     r1,#0x64
00069e  20d2              MOVS     r0,#0xd2
0006a0  f7fffffe          BL       mess_send
                  |L1.1700|
;;;598    	}
;;;599    
;;;600    if(vz1_stat==vz1sSTEP2)
0006a4  f8980020          LDRB     r0,[r8,#0x20]  ; vz1_stat
;;;601    	{
;;;602    	if((vz1_stat_old!=vz1_stat)||(vz1_stat_cnt==0))
;;;603    		{
;;;604    		vz1_stat_cnt=15;
0006a8  f04f090f          MOV      r9,#0xf
0006ac  2802              CMP      r0,#2                 ;600
0006ae  d118              BNE      |L1.1762|
0006b0  f8980021          LDRB     r0,[r8,#0x21]         ;602  ; vz1_stat_old
0006b4  2802              CMP      r0,#2                 ;602
0006b6  d102              BNE      |L1.1726|
0006b8  f8b8006e          LDRH     r0,[r8,#0x6e]         ;602  ; vz1_stat_cnt
0006bc  b908              CBNZ     r0,|L1.1730|
                  |L1.1726|
0006be  f8a8906e          STRH     r9,[r8,#0x6e]
                  |L1.1730|
;;;605    		}
;;;606    	vz1_stat_cnt--;
0006c2  f8b8006e          LDRH     r0,[r8,#0x6e]  ; vz1_stat_cnt
0006c6  f1a00001          SUB      r0,r0,#1
0006ca  f8a8006e          STRH     r0,[r8,#0x6e]
;;;607    	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
0006ce  f04f0314          MOV      r3,#0x14
0006d2  f04f0200          MOV      r2,#0
0006d6  f04f0164          MOV      r1,#0x64
0006da  f04f00d2          MOV      r0,#0xd2
0006de  f7fffffe          BL       mess_send
                  |L1.1762|
;;;608    	}
;;;609    
;;;610    if(vz1_stat==vz1sSTEP3)
0006e2  f8980020          LDRB     r0,[r8,#0x20]  ; vz1_stat
;;;611    	{
;;;612    	if((vz1_stat_old!=vz1_stat)||(vz1_stat_cnt==0))
;;;613    		{
;;;614    		vz1_stat_cnt=10;
0006e6  240a              MOVS     r4,#0xa
0006e8  2600              MOVS     r6,#0                 ;569
0006ea  f04f0a01          MOV      r10,#1                ;570
;;;615    
;;;616    		}
;;;617    	vz1_stat_cnt--;
;;;618    	if((vz1_stat_cnt==10)||(vz1_stat_cnt==9))
;;;619    		{
;;;620    		show_mess(	"     ¬ Àﬁ◊»“≈       ",
0006ee  f2413788          MOV      r7,#0x1388
0006f2  2803              CMP      r0,#3                 ;610
0006f4  d131              BNE      |L1.1882|
0006f6  f8980021          LDRB     r0,[r8,#0x21]         ;612  ; vz1_stat_old
0006fa  2803              CMP      r0,#3                 ;612
0006fc  d102              BNE      |L1.1796|
0006fe  f8b8006e          LDRH     r0,[r8,#0x6e]         ;612  ; vz1_stat_cnt
000702  b908              CBNZ     r0,|L1.1800|
                  |L1.1796|
000704  f8a8406e          STRH     r4,[r8,#0x6e]         ;614
                  |L1.1800|
000708  f8b8006e          LDRH     r0,[r8,#0x6e]         ;617  ; vz1_stat_cnt
00070c  f1a00001          SUB      r0,r0,#1              ;617
000710  b200              SXTH     r0,r0                 ;617
000712  f8a8006e          STRH     r0,[r8,#0x6e]         ;617
000716  280a              CMP      r0,#0xa               ;618
000718  d001              BEQ      |L1.1822|
00071a  2809              CMP      r0,#9                 ;618
00071c  d106              BNE      |L1.1836|
                  |L1.1822|
00071e  a364              ADR      r3,|L1.2224|
000720  a269              ADR      r2,|L1.2248|
000722  a16f              ADR      r1,|L1.2272|
000724  a074              ADR      r0,|L1.2296|
000726  9700              STR      r7,[sp,#0]
000728  f7fffffe          BL       show_mess
                  |L1.1836|
;;;621    					"      “”Ã¡À≈–       ",
;;;622    					"     ¬€—Œ Œ√Œ       ",
;;;623    					"    Õ¿œ–ﬂ∆≈Õ»ﬂ      ",
;;;624    					5000);
;;;625    		}
;;;626    	if(sk_stat[1]==1)
00072c  7868              LDRB     r0,[r5,#1]  ; sk_stat
00072e  2801              CMP      r0,#1
000730  d10d              BNE      |L1.1870|
;;;627    		{
;;;628    		vz1_stat=vz1sWRK;
000732  f8884020          STRB     r4,[r8,#0x20]
;;;629    		lc640_write(EE_VZ1_STAT,vz1sWRK);
000736  210a              MOVS     r1,#0xa
000738  4658              MOV      r0,r11
00073a  f7fffffe          BL       lc640_write
;;;630    		volt_region=1;
00073e  f888a022          STRB     r10,[r8,#0x22]
;;;631    		cntrl_stat=0;
000742  f8a86026          STRH     r6,[r8,#0x26]
;;;632    		cntrl_stat_new=0;
000746  f8a8603c          STRH     r6,[r8,#0x3c]
;;;633    		cntrl_stat_old=0;
00074a  f8a86028          STRH     r6,[r8,#0x28]
                  |L1.1870|
;;;634    		}
;;;635    	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
00074e  2314              MOVS     r3,#0x14
000750  2200              MOVS     r2,#0
000752  2164              MOVS     r1,#0x64
000754  20d2              MOVS     r0,#0xd2
000756  f7fffffe          BL       mess_send
                  |L1.1882|
;;;636    	}
;;;637    
;;;638    if(vz1_stat==vz1sWRK)
00075a  f8980020          LDRB     r0,[r8,#0x20]  ; vz1_stat
00075e  280a              CMP      r0,#0xa
000760  d158              BNE      |L1.2068|
;;;639    	{
;;;640    	if(vz1_stat_old!=vz1_stat)
;;;641    		{
;;;642    		vz1_wrk_cnt=3600L/*100L*/*((long)UZ_T);
000762  492f              LDR      r1,|L1.2080|
000764  f8980021          LDRB     r0,[r8,#0x21]         ;640  ; vz1_stat_old
000768  3180              ADDS     r1,r1,#0x80
00076a  280a              CMP      r0,#0xa               ;640
00076c  d008              BEQ      |L1.1920|
00076e  4868              LDR      r0,|L1.2320|
000770  f44f6261          MOV      r2,#0xe10
000774  f9b00000          LDRSH    r0,[r0,#0]  ; UZ_T
000778  fb00f002          MUL      r0,r0,r2
00077c  6208              STR      r0,[r1,#0x20]  ; vz1_wrk_cnt
;;;643    		//if(VZ_HR==0)  	hv_vz_wrk_cnt=1800L;
;;;644    		vz1_up_cnt=0L;
00077e  624e              STR      r6,[r1,#0x24]  ; vz1_up_cnt
                  |L1.1920|
;;;645    
;;;646    		}
;;;647    	vz1_wrk_cnt--;
000780  6a08              LDR      r0,[r1,#0x20]  ; vz1_wrk_cnt
000782  f1a00001          SUB      r0,r0,#1
000786  6208              STR      r0,[r1,#0x20]  ; vz1_wrk_cnt
;;;648    	vz1_up_cnt++;
000788  6a4a              LDR      r2,[r1,#0x24]  ; vz1_up_cnt
00078a  f1020201          ADD      r2,r2,#1
00078e  624a              STR      r2,[r1,#0x24]  ; vz1_up_cnt
;;;649    
;;;650    	if(vz1_wrk_cnt==0)
000790  b928              CBNZ     r0,|L1.1950|
;;;651    		{
;;;652    		vz1_stat=vz1sFINE;
000792  f8889020          STRB     r9,[r8,#0x20]
;;;653    		lc640_write(EE_VZ1_STAT,vz1sFINE);
000796  210f              MOVS     r1,#0xf
000798  4658              MOV      r0,r11
00079a  f7fffffe          BL       lc640_write
                  |L1.1950|
;;;654    		}
;;;655    	if(sk_stat[0]==0)
00079e  7828              LDRB     r0,[r5,#0]  ; sk_stat
0007a0  b938              CBNZ     r0,|L1.1970|
;;;656    		{
;;;657    		vz1_stat=vz1sERR2;
0007a2  f04f000c          MOV      r0,#0xc
0007a6  f8880020          STRB     r0,[r8,#0x20]
;;;658    		lc640_write(EE_VZ1_STAT,vz1sERR2);
0007aa  4601              MOV      r1,r0
0007ac  4658              MOV      r0,r11
0007ae  f7fffffe          BL       lc640_write
                  |L1.1970|
;;;659    		}
;;;660    	if(sk_stat[1]==0)
0007b2  7868              LDRB     r0,[r5,#1]  ; sk_stat
0007b4  b938              CBNZ     r0,|L1.1990|
;;;661    		{
;;;662    		vz1_stat=vz1sERR3;
0007b6  f04f000d          MOV      r0,#0xd
0007ba  f8880020          STRB     r0,[r8,#0x20]
;;;663    		lc640_write(EE_VZ1_STAT,vz1sERR3);
0007be  4601              MOV      r1,r0
0007c0  4658              MOV      r0,r11
0007c2  f7fffffe          BL       lc640_write
                  |L1.1990|
;;;664    		}
;;;665    	if(((Ibmax/10)>IZMAX_)&&(cntrl_stat<=20)&&(volt_region==1)&&(volt_region_cnt==0))
0007c6  f9b8003e          LDRSH    r0,[r8,#0x3e]  ; Ibmax
0007ca  f8b81040          LDRH     r1,[r8,#0x40]  ; IZMAX_
0007ce  fb90f0f4          SDIV     r0,r0,r4
;;;666    		{
;;;667    		volt_region=0;
;;;668    		cntrl_stat=1000;
0007d2  f44f727a          MOV      r2,#0x3e8
0007d6  4288              CMP      r0,r1                 ;665
0007d8  dd16              BLE      |L1.2056|
0007da  f9b83026          LDRSH    r3,[r8,#0x26]         ;665  ; cntrl_stat
0007de  2b14              CMP      r3,#0x14              ;665
0007e0  dc12              BGT      |L1.2056|
0007e2  f8983022          LDRB     r3,[r8,#0x22]         ;665  ; volt_region
0007e6  2b01              CMP      r3,#1                 ;665
0007e8  d10e              BNE      |L1.2056|
0007ea  f8b83070          LDRH     r3,[r8,#0x70]         ;665  ; volt_region_cnt
0007ee  b95b              CBNZ     r3,|L1.2056|
0007f0  f8886022          STRB     r6,[r8,#0x22]         ;667
0007f4  f8a82026          STRH     r2,[r8,#0x26]
;;;669    		cntrl_stat_new=1000;
0007f8  f8a8203c          STRH     r2,[r8,#0x3c]
;;;670    		cntrl_stat_old=1000;
0007fc  f8a82028          STRH     r2,[r8,#0x28]
;;;671    		volt_region_cnt=110;
000800  f04f036e          MOV      r3,#0x6e
000804  f8a83070          STRH     r3,[r8,#0x70]
                  |L1.2056|
;;;672    		}
;;;673    	if(((Ibmax/10)<IZMAX_)&&(cntrl_stat>=1000)&&(volt_region==0)&&(volt_region_cnt==0))
000808  4288              CMP      r0,r1
00080a  da04              BGE      |L1.2070|
00080c  f9b80026          LDRSH    r0,[r8,#0x26]  ; cntrl_stat
000810  4290              CMP      r0,r2
000812  e07f              B        |L1.2324|
                  |L1.2068|
000814  e0a2              B        |L1.2396|
                  |L1.2070|
000816  e08e              B        |L1.2358|
                  |L1.2072|
                          DCD      0x40024000
                  |L1.2076|
                          DCD      AVZ
                  |L1.2080|
                          DCD      ||area_number.23||
                  |L1.2084|
                          DCD      YEAR_AVZ
                  |L1.2088|
                          DCD      MONTH_AVZ
                  |L1.2092|
                          DCD      DATE_AVZ
                  |L1.2096|
                          DCD      HOUR_AVZ
                  |L1.2100|
                          DCD      MIN_AVZ
                  |L1.2104|
                          DCD      SEC_AVZ
                  |L1.2108|
                          DCD      AVZ_TIME
                  |L1.2112|
                          DCD      sk_stat
                  |L1.2116|
                          DCD      0x40024020
                  |L1.2120|
000848  20202020          DCB      "    ",194,197,205,210,200,203,223,214,200,223,"!!!   ",0
00084c  c2c5cdd2
000850  c8cbdfd6
000854  c8df2121
000858  21202020
00085c  00      
00085d  00                DCB      0
00085e  00                DCB      0
00085f  00                DCB      0
                  |L1.2144|
000860  20202020          DCB      "     ",205,197,200,209,207,208,192,194,205,192,"     ",0
000864  20cdc5c8
000868  d1cfd0c0
00086c  c2cdc020
000870  20202020
000874  00      
000875  00                DCB      0
000876  00                DCB      0
000877  00                DCB      0
                  |L1.2168|
000878  20202020          DCB      "    ",199,192,193,203,206,202,200,208,206,194,192,205," "
00087c  c7c0c1cb
000880  cecac8d0
000884  cec2c0cd
000888  20      
000889  20202000          DCB      "   ",0
00088d  00                DCB      0
00088e  00                DCB      0
00088f  00                DCB      0
                  |L1.2192|
000890  c2dbd0c0          DCB      194,219,208,192,194,205,200,194,192,222,217,200,201," ",199
000894  c2cdc8c2
000898  c0ded9c8
00089c  c920c7  
00089f  c0d0dfc4          DCB      192,208,223,196," ",0
0008a3  2000    
0008a5  00                DCB      0
0008a6  00                DCB      0
0008a7  00                DCB      0
                  |L1.2216|
                          DCD      speedChrgBlckStat
                  |L1.2220|
                          DCD      hv_vz_stat
                  |L1.2224|
0008b0  20202020          DCB      "    ",205,192,207,208,223,198,197,205,200,223,"      ",0
0008b4  cdc0cfd0
0008b8  dfc6c5cd
0008bc  c8df2020
0008c0  20202020
0008c4  00      
0008c5  00                DCB      0
0008c6  00                DCB      0
0008c7  00                DCB      0
                  |L1.2248|
0008c8  20202020          DCB      "     ",194,219,209,206,202,206,195,206,"       ",0
0008cc  20c2dbd1
0008d0  cecacec3
0008d4  ce202020
0008d8  20202020
0008dc  00      
0008dd  00                DCB      0
0008de  00                DCB      0
0008df  00                DCB      0
                  |L1.2272|
0008e0  20202020          DCB      "      ",210,211,204,193,203,197,208,"       ",0
0008e4  2020d2d3
0008e8  ccc1cbc5
0008ec  d0202020
0008f0  20202020
0008f4  00      
0008f5  00                DCB      0
0008f6  00                DCB      0
0008f7  00                DCB      0
                  |L1.2296|
0008f8  20202020          DCB      "     ",194,202,203,222,215,200,210,197,"       ",0
0008fc  20c2cacb
000900  ded7c8d2
000904  c5202020
000908  20202020
00090c  00      
00090d  00                DCB      0
00090e  00                DCB      0
00090f  00                DCB      0
                  |L1.2320|
                          DCD      UZ_T
                  |L1.2324|
000914  db0f              BLT      |L1.2358|
000916  f8980022          LDRB     r0,[r8,#0x22]  ; volt_region
00091a  b960              CBNZ     r0,|L1.2358|
00091c  f8b80070          LDRH     r0,[r8,#0x70]  ; volt_region_cnt
000920  b948              CBNZ     r0,|L1.2358|
;;;674    		{
;;;675    		volt_region=1;
000922  f888a022          STRB     r10,[r8,#0x22]
;;;676    		cntrl_stat=10;
000926  f8a84026          STRH     r4,[r8,#0x26]
;;;677    		cntrl_stat_new=10;
00092a  f8a8403c          STRH     r4,[r8,#0x3c]
;;;678    		cntrl_stat_old=10;
00092e  f8a84028          STRH     r4,[r8,#0x28]
;;;679    		volt_region_cnt=10;
000932  f8a84070          STRH     r4,[r8,#0x70]
                  |L1.2358|
;;;680    		}
;;;681    	if(volt_region==0) 		mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
000936  f8980022          LDRB     r0,[r8,#0x22]  ; volt_region
00093a  b110              CBZ      r0,|L1.2370|
;;;682    	else if(volt_region==1) mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,1,20);
00093c  2801              CMP      r0,#1
00093e  d007              BEQ      |L1.2384|
000940  e00c              B        |L1.2396|
                  |L1.2370|
000942  2314              MOVS     r3,#0x14              ;681
000944  2200              MOVS     r2,#0                 ;681
000946  2164              MOVS     r1,#0x64              ;681
000948  20d2              MOVS     r0,#0xd2              ;681
00094a  f7fffffe          BL       mess_send
00094e  e005              B        |L1.2396|
                  |L1.2384|
000950  2314              MOVS     r3,#0x14
000952  2201              MOVS     r2,#1
000954  2164              MOVS     r1,#0x64
000956  20d2              MOVS     r0,#0xd2
000958  f7fffffe          BL       mess_send
                  |L1.2396|
;;;683    	}
;;;684    
;;;685    if(vz1_stat==vz1sERR1)		//ŒÚÒÛÚÒÚ‚ÛÂÚ ‚ÂÌÚËÎˇˆËˇ ÔË ‚ÍÎ˛˜ÂÌËË
00095c  f8980020          LDRB     r0,[r8,#0x20]  ; vz1_stat
000960  280b              CMP      r0,#0xb
000962  d120              BNE      |L1.2470|
;;;686    	{
;;;687    	if((vz1_stat_old!=vz1_stat)||(vz1_stat_cnt==0))
000964  f8980021          LDRB     r0,[r8,#0x21]  ; vz1_stat_old
000968  280b              CMP      r0,#0xb
00096a  d102              BNE      |L1.2418|
00096c  f8b8006e          LDRH     r0,[r8,#0x6e]  ; vz1_stat_cnt
000970  b908              CBNZ     r0,|L1.2422|
                  |L1.2418|
;;;688    		{
;;;689    		vz1_stat_cnt=10;
000972  f8a8406e          STRH     r4,[r8,#0x6e]
                  |L1.2422|
;;;690    		}
;;;691    	vz1_stat_cnt--;
000976  f8b8006e          LDRH     r0,[r8,#0x6e]  ; vz1_stat_cnt
00097a  f1a00001          SUB      r0,r0,#1
00097e  b200              SXTH     r0,r0
000980  f8a8006e          STRH     r0,[r8,#0x6e]
;;;692    	if((vz1_stat_cnt==10)||(vz1_stat_cnt==9))
000984  280a              CMP      r0,#0xa
000986  d001              BEQ      |L1.2444|
000988  2809              CMP      r0,#9
00098a  d106              BNE      |L1.2458|
                  |L1.2444|
;;;693    		{
;;;694    		show_mess(	"”–¿¬Õ»“≈À‹Õ€… «¿–ﬂƒ ",
00098c  a3ee              ADR      r3,|L1.3400|
00098e  a2f4              ADR      r2,|L1.3424|
000990  a1f9              ADR      r1,|L1.3448|
000992  a0ff              ADR      r0,|L1.3472|
000994  9700              STR      r7,[sp,#0]
000996  f7fffffe          BL       show_mess
                  |L1.2458|
;;;695    					"   Õ≈ ÃŒ∆≈“ ¡€“‹    ",
;;;696    					"      ¬ Àﬁ◊≈Õ       ",
;;;697    					"  ¡≈« ¬≈Õ“»Àﬂ÷»»!!  ",
;;;698    					5000);
;;;699    		}
;;;700    	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
00099a  2314              MOVS     r3,#0x14
00099c  2200              MOVS     r2,#0
00099e  2164              MOVS     r1,#0x64
0009a0  20d2              MOVS     r0,#0xd2
0009a2  f7fffffe          BL       mess_send
                  |L1.2470|
;;;701    	}
;;;702    if(vz1_stat==vz1sERR2)		//œÓÔ‡Î‡ ‚ÂÌÚËÎˇˆËˇ ÔË ‡·ÓÚÂ
0009a6  f8980020          LDRB     r0,[r8,#0x20]  ; vz1_stat
0009aa  280c              CMP      r0,#0xc
0009ac  d12c              BNE      |L1.2568|
;;;703    	{
;;;704    	if((vz1_stat_old!=vz1_stat)||(vz1_stat_cnt==0))
0009ae  f8980021          LDRB     r0,[r8,#0x21]  ; vz1_stat_old
0009b2  280c              CMP      r0,#0xc
0009b4  d102              BNE      |L1.2492|
0009b6  f8b8006e          LDRH     r0,[r8,#0x6e]  ; vz1_stat_cnt
0009ba  b908              CBNZ     r0,|L1.2496|
                  |L1.2492|
;;;705    		{
;;;706    		vz1_stat_cnt=10;
0009bc  f8a8406e          STRH     r4,[r8,#0x6e]
                  |L1.2496|
;;;707    		}
;;;708    	vz1_stat_cnt--;
0009c0  f8b8006e          LDRH     r0,[r8,#0x6e]  ; vz1_stat_cnt
0009c4  f1a00001          SUB      r0,r0,#1
0009c8  b200              SXTH     r0,r0
0009ca  f8a8006e          STRH     r0,[r8,#0x6e]
;;;709    	if((vz1_stat_cnt==10)||(vz1_stat_cnt==9))
0009ce  280a              CMP      r0,#0xa
0009d0  d001              BEQ      |L1.2518|
0009d2  2809              CMP      r0,#9
0009d4  d109              BNE      |L1.2538|
                  |L1.2518|
;;;710    		{
;;;711    		show_mess(	"”–¿¬Õ»“≈À‹Õ€… «¿–ﬂƒ ",
0009d6  f2af1390          ADR      r3,|L1.2120|
0009da  f2af127c          ADR      r2,|L1.2144|
0009de  f2af1168          ADR      r1,|L1.2168|
0009e2  a0eb              ADR      r0,|L1.3472|
0009e4  9700              STR      r7,[sp,#0]
0009e6  f7fffffe          BL       show_mess
                  |L1.2538|
;;;712    					"    «¿¡ÀŒ »–Œ¬¿Õ    ",
;;;713    					"     Õ≈»—œ–¿¬Õ¿     ",
;;;714    					"    ¬≈Õ“»Àﬂ÷»ﬂ!!!   ",
;;;715    					5000);
;;;716    		}
;;;717    	if(sk_stat[0]==1)
0009ea  7828              LDRB     r0,[r5,#0]  ; sk_stat
0009ec  2801              CMP      r0,#1
0009ee  d105              BNE      |L1.2556|
;;;718    		{
;;;719    		vz1_stat=vz1sWRK;
0009f0  f8884020          STRB     r4,[r8,#0x20]
;;;720    		lc640_write(EE_VZ1_STAT,vz1sWRK);
0009f4  210a              MOVS     r1,#0xa
0009f6  4658              MOV      r0,r11
0009f8  f7fffffe          BL       lc640_write
                  |L1.2556|
;;;721    		}
;;;722    	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
0009fc  2314              MOVS     r3,#0x14
0009fe  2200              MOVS     r2,#0
000a00  2164              MOVS     r1,#0x64
000a02  20d2              MOVS     r0,#0xd2
000a04  f7fffffe          BL       mess_send
                  |L1.2568|
;;;723    	}
;;;724    
;;;725    if(vz1_stat==vz1sERR3)		//ŒÚÍÎ˛˜ÂÌ ÚÛÏ·ÎÂ "¬˚ÒÓÍÓÂ Ì‡ÔˇÊÂÌËÂ"
000a08  f8980020          LDRB     r0,[r8,#0x20]  ; vz1_stat
000a0c  280d              CMP      r0,#0xd
000a0e  d129              BNE      |L1.2660|
;;;726    	{
;;;727    	if((vz1_stat_old!=vz1_stat)||(vz1_stat_cnt==0))
000a10  f8980021          LDRB     r0,[r8,#0x21]  ; vz1_stat_old
000a14  280d              CMP      r0,#0xd
000a16  d102              BNE      |L1.2590|
000a18  f8b8006e          LDRH     r0,[r8,#0x6e]  ; vz1_stat_cnt
000a1c  b908              CBNZ     r0,|L1.2594|
                  |L1.2590|
;;;728    		{
;;;729    		vz1_stat_cnt=10;
000a1e  f8a8406e          STRH     r4,[r8,#0x6e]
                  |L1.2594|
;;;730    		}
;;;731    	vz1_stat_cnt--;
000a22  f8b8006e          LDRH     r0,[r8,#0x6e]  ; vz1_stat_cnt
000a26  f1a00001          SUB      r0,r0,#1
000a2a  b200              SXTH     r0,r0
000a2c  f8a8006e          STRH     r0,[r8,#0x6e]
;;;732    	if((vz1_stat_cnt==10)||(vz1_stat_cnt==9))
000a30  280a              CMP      r0,#0xa
000a32  d001              BEQ      |L1.2616|
000a34  2809              CMP      r0,#9
000a36  d106              BNE      |L1.2630|
                  |L1.2616|
;;;733    		{
;;;734    		show_mess(	"”–¿¬Õ»“≈À‹Õ€… «¿–ﬂƒ ",
000a38  a3db              ADR      r3,|L1.3496|
000a3a  a2e1              ADR      r2,|L1.3520|
000a3c  a1e6              ADR      r1,|L1.3544|
000a3e  a0d4              ADR      r0,|L1.3472|
000a40  9700              STR      r7,[sp,#0]
000a42  f7fffffe          BL       show_mess
                  |L1.2630|
;;;735    					"  ¡”ƒ≈“ œ–ŒƒŒÀ∆≈Õ   ",
;;;736    					"  œŒ—À≈ ¬ Àﬁ◊≈Õ»ﬂ   ",
;;;737    					"*   “”Ã¡À≈–¿!!!     ",
;;;738    					5000);
;;;739    		}
;;;740    	if(sk_stat[1]==1)
000a46  7868              LDRB     r0,[r5,#1]  ; sk_stat
000a48  2801              CMP      r0,#1
000a4a  d105              BNE      |L1.2648|
;;;741    		{
;;;742    		vz1_stat=vz1sWRK;
000a4c  f8884020          STRB     r4,[r8,#0x20]
;;;743    		lc640_write(EE_VZ1_STAT,vz1sWRK);
000a50  210a              MOVS     r1,#0xa
000a52  4658              MOV      r0,r11
000a54  f7fffffe          BL       lc640_write
                  |L1.2648|
;;;744    		}
;;;745    	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
000a58  2314              MOVS     r3,#0x14
000a5a  2200              MOVS     r2,#0
000a5c  2164              MOVS     r1,#0x64
000a5e  20d2              MOVS     r0,#0xd2
000a60  f7fffffe          BL       mess_send
                  |L1.2660|
;;;746    	}
;;;747    if(vz1_stat==vz1sERR4)		//¬« Á‡ÍÓÌ˜ËÎÒˇ ‡ ÚÛÏ·ÎÂ ‚ÍÎ˛˜ÂÌ
000a64  f8980020          LDRB     r0,[r8,#0x20]  ; vz1_stat
000a68  280e              CMP      r0,#0xe
000a6a  d12d              BNE      |L1.2760|
;;;748    	{
;;;749    	if((vz1_stat_old!=vz1_stat)||(vz1_stat_cnt==0))
000a6c  f8980021          LDRB     r0,[r8,#0x21]  ; vz1_stat_old
000a70  280e              CMP      r0,#0xe
000a72  d102              BNE      |L1.2682|
000a74  f8b8006e          LDRH     r0,[r8,#0x6e]  ; vz1_stat_cnt
000a78  b908              CBNZ     r0,|L1.2686|
                  |L1.2682|
;;;750    		{
;;;751    		vz1_stat_cnt=10;
000a7a  f8a8406e          STRH     r4,[r8,#0x6e]
                  |L1.2686|
;;;752    		}
;;;753    	vz1_stat_cnt--;
000a7e  f8b8006e          LDRH     r0,[r8,#0x6e]  ; vz1_stat_cnt
000a82  f1a00001          SUB      r0,r0,#1
000a86  b200              SXTH     r0,r0
000a88  f8a8006e          STRH     r0,[r8,#0x6e]
;;;754    	if((vz1_stat_cnt==10)||(vz1_stat_cnt==9))
000a8c  280a              CMP      r0,#0xa
000a8e  d001              BEQ      |L1.2708|
000a90  2809              CMP      r0,#9
000a92  d109              BNE      |L1.2728|
                  |L1.2708|
;;;755    		{
;;;756    		show_mess(	"*    ¬€ Àﬁ◊»“≈      ",
000a94  f2af13e8          ADR      r3,|L1.2224|
000a98  f2af12d4          ADR      r2,|L1.2248|
000a9c  f2af11c0          ADR      r1,|L1.2272|
000aa0  a0d3              ADR      r0,|L1.3568|
000aa2  9700              STR      r7,[sp,#0]
000aa4  f7fffffe          BL       show_mess
                  |L1.2728|
;;;757    					"      “”Ã¡À≈–       ",
;;;758    					"     ¬€—Œ Œ√Œ       ",
;;;759    					"    Õ¿œ–ﬂ∆≈Õ»ﬂ      ",
;;;760    					5000);
;;;761    		}
;;;762    	if(sk_stat[1]==0)
000aa8  7868              LDRB     r0,[r5,#1]  ; sk_stat
000aaa  b938              CBNZ     r0,|L1.2748|
;;;763    		{
;;;764    		vz1_stat=vz1sOFF;
000aac  f8886020          STRB     r6,[r8,#0x20]
;;;765    		lc640_write(EE_VZ1_STAT,vz1sOFF);
000ab0  2100              MOVS     r1,#0
000ab2  4658              MOV      r0,r11
000ab4  f7fffffe          BL       lc640_write
;;;766    		vz_stop();
000ab8  f7fffffe          BL       vz_stop
                  |L1.2748|
;;;767    
;;;768    		}
;;;769    	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,1,20);
000abc  2314              MOVS     r3,#0x14
000abe  2201              MOVS     r2,#1
000ac0  2164              MOVS     r1,#0x64
000ac2  20d2              MOVS     r0,#0xd2
000ac4  f7fffffe          BL       mess_send
                  |L1.2760|
;;;770    	}
;;;771    if(vz1_stat==vz1sFINE)		//”« Á‡ÍÓÌ˜ËÎÒˇ, Ì‡ÔÓÏËÌ‡ÌËÂ
000ac8  f8980020          LDRB     r0,[r8,#0x20]  ; vz1_stat
;;;772    	{
;;;773    	if((vz1_stat_old!=vz1_stat)||(vz1_stat_cnt==0))
;;;774    		{
;;;775    		vz1_stat_cnt=10;
;;;776    		}
;;;777    	vz1_stat_cnt--;
;;;778    	if((vz1_stat_cnt==10)||(vz1_stat_cnt==9))
;;;779    		{
;;;780    		show_mess(	"   ”–¿¬Õ»“≈À‹Õ€…    ",
000acc  f64037b8          MOV      r7,#0xbb8
000ad0  280f              CMP      r0,#0xf               ;771
000ad2  d138              BNE      |L1.2886|
000ad4  f8980021          LDRB     r0,[r8,#0x21]         ;773  ; vz1_stat_old
000ad8  280f              CMP      r0,#0xf               ;773
000ada  d102              BNE      |L1.2786|
000adc  f8b8006e          LDRH     r0,[r8,#0x6e]         ;773  ; vz1_stat_cnt
000ae0  b908              CBNZ     r0,|L1.2790|
                  |L1.2786|
000ae2  f8a8406e          STRH     r4,[r8,#0x6e]         ;775
                  |L1.2790|
000ae6  f8b8006e          LDRH     r0,[r8,#0x6e]         ;777  ; vz1_stat_cnt
000aea  f1a00001          SUB      r0,r0,#1              ;777
000aee  b200              SXTH     r0,r0                 ;777
000af0  f8a8006e          STRH     r0,[r8,#0x6e]         ;777
000af4  280a              CMP      r0,#0xa               ;778
000af6  d001              BEQ      |L1.2812|
000af8  2809              CMP      r0,#9                 ;778
000afa  d106              BNE      |L1.2826|
                  |L1.2812|
000afc  a3c2              ADR      r3,|L1.3592|
000afe  a2c8              ADR      r2,|L1.3616|
000b00  a1cd              ADR      r1,|L1.3640|
000b02  a0d3              ADR      r0,|L1.3664|
000b04  9700              STR      r7,[sp,#0]
000b06  f7fffffe          BL       show_mess
                  |L1.2826|
;;;781    					"       «¿–ﬂƒ        ",
;;;782    					"      ”—œ≈ÿÕŒ       ",
;;;783    					"     «¿¬≈–ÿ≈Õ       ",
;;;784    					3000);
;;;785    		}
;;;786    	if((vz1_stat_cnt==6)||(vz1_stat_cnt==5))
000b0a  f9b8006e          LDRSH    r0,[r8,#0x6e]  ; vz1_stat_cnt
000b0e  2806              CMP      r0,#6
000b10  d001              BEQ      |L1.2838|
000b12  2805              CMP      r0,#5
000b14  d109              BNE      |L1.2858|
                  |L1.2838|
;;;787    		{
;;;788    		show_mess(	"     ¬€ Àﬁ◊»“≈      ",
000b16  f2af2368          ADR      r3,|L1.2224|
000b1a  f2af2254          ADR      r2,|L1.2248|
000b1e  f2af2140          ADR      r1,|L1.2272|
000b22  a0d1              ADR      r0,|L1.3688|
000b24  9700              STR      r7,[sp,#0]
000b26  f7fffffe          BL       show_mess
                  |L1.2858|
;;;789    					"      “”Ã¡À≈–       ",
;;;790    					"     ¬€—Œ Œ√Œ       ",
;;;791    					"    Õ¿œ–ﬂ∆≈Õ»ﬂ      ",
;;;792    					3000);
;;;793    		}
;;;794    	if(sk_stat[1]==0)
000b2a  7868              LDRB     r0,[r5,#1]  ; sk_stat
000b2c  b928              CBNZ     r0,|L1.2874|
;;;795    		{
;;;796    		vz1_stat=vz1sOFF;
000b2e  f8886020          STRB     r6,[r8,#0x20]
;;;797    		lc640_write(EE_VZ1_STAT,vz1sOFF);
000b32  2100              MOVS     r1,#0
000b34  4658              MOV      r0,r11
000b36  f7fffffe          BL       lc640_write
                  |L1.2874|
;;;798    		}
;;;799    	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
000b3a  2314              MOVS     r3,#0x14
000b3c  2200              MOVS     r2,#0
000b3e  2164              MOVS     r1,#0x64
000b40  20d2              MOVS     r0,#0xd2
000b42  f7fffffe          BL       mess_send
                  |L1.2886|
;;;800    	}
;;;801    
;;;802    if(vz1_stat==vz1sSTOP)		//”« ÔÂÍ‡˘ÂÌ, Ì‡ÔÓÏËÌ‡ÌËÂ
000b46  f8980020          LDRB     r0,[r8,#0x20]  ; vz1_stat
000b4a  2810              CMP      r0,#0x10
000b4c  d138              BNE      |L1.3008|
;;;803    	{
;;;804    	if((vz1_stat_old!=vz1_stat)||(vz1_stat_cnt==0))
000b4e  f8980021          LDRB     r0,[r8,#0x21]  ; vz1_stat_old
000b52  2810              CMP      r0,#0x10
000b54  d102              BNE      |L1.2908|
000b56  f8b8006e          LDRH     r0,[r8,#0x6e]  ; vz1_stat_cnt
000b5a  b908              CBNZ     r0,|L1.2912|
                  |L1.2908|
;;;805    		{
;;;806    		vz1_stat_cnt=10;
000b5c  f8a8406e          STRH     r4,[r8,#0x6e]
                  |L1.2912|
;;;807    		}
;;;808    	vz1_stat_cnt--;
000b60  f8b8006e          LDRH     r0,[r8,#0x6e]  ; vz1_stat_cnt
000b64  f1a00001          SUB      r0,r0,#1
000b68  b200              SXTH     r0,r0
000b6a  f8a8006e          STRH     r0,[r8,#0x6e]
;;;809    	if((vz1_stat_cnt==10)||(vz1_stat_cnt==9))
000b6e  280a              CMP      r0,#0xa
000b70  d001              BEQ      |L1.2934|
000b72  2809              CMP      r0,#9
000b74  d106              BNE      |L1.2948|
                  |L1.2934|
;;;810    		{
;;;811    		show_mess(	"   ”–¿¬Õ»“≈À‹Õ€…    ",
000b76  a3c2              ADR      r3,|L1.3712|
000b78  a2c7              ADR      r2,|L1.3736|
000b7a  a1af              ADR      r1,|L1.3640|
000b7c  a0b4              ADR      r0,|L1.3664|
000b7e  9700              STR      r7,[sp,#0]
000b80  f7fffffe          BL       show_mess
                  |L1.2948|
;;;812    					"       «¿–ﬂƒ        ",
;;;813    					"     œ–≈ –¿Ÿ≈Õ      ",
;;;814    					"                    ",
;;;815    					3000);
;;;816    		}
;;;817    	if((vz1_stat_cnt==6)||(vz1_stat_cnt==5))
000b84  f9b8006e          LDRSH    r0,[r8,#0x6e]  ; vz1_stat_cnt
000b88  2806              CMP      r0,#6
000b8a  d001              BEQ      |L1.2960|
000b8c  2805              CMP      r0,#5
000b8e  d109              BNE      |L1.2980|
                  |L1.2960|
;;;818    		{
;;;819    		show_mess(	"     ¬€ Àﬁ◊»“≈      ",
000b90  f2af23e4          ADR      r3,|L1.2224|
000b94  f2af22d0          ADR      r2,|L1.2248|
000b98  f2af21bc          ADR      r1,|L1.2272|
000b9c  a0b2              ADR      r0,|L1.3688|
000b9e  9700              STR      r7,[sp,#0]
000ba0  f7fffffe          BL       show_mess
                  |L1.2980|
;;;820    					"      “”Ã¡À≈–       ",
;;;821    					"     ¬€—Œ Œ√Œ       ",
;;;822    					"    Õ¿œ–ﬂ∆≈Õ»ﬂ      ",
;;;823    					3000);
;;;824    		}
;;;825    	if(sk_stat[1]==0)
000ba4  7868              LDRB     r0,[r5,#1]  ; sk_stat
000ba6  b928              CBNZ     r0,|L1.2996|
;;;826    		{
;;;827    		vz1_stat=vz1sOFF;
000ba8  f8886020          STRB     r6,[r8,#0x20]
;;;828    		lc640_write(EE_VZ1_STAT,vz1sOFF);
000bac  2100              MOVS     r1,#0
000bae  4658              MOV      r0,r11
000bb0  f7fffffe          BL       lc640_write
                  |L1.2996|
;;;829    		}
;;;830    	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
000bb4  2314              MOVS     r3,#0x14
000bb6  2200              MOVS     r2,#0
000bb8  2164              MOVS     r1,#0x64
000bba  20d2              MOVS     r0,#0xd2
000bbc  f7fffffe          BL       mess_send
                  |L1.3008|
;;;831    	}
;;;832    
;;;833    vz1_stat_old=vz1_stat;
000bc0  f8980020          LDRB     r0,[r8,#0x20]  ; vz1_stat
000bc4  f8880021          STRB     r0,[r8,#0x21]
;;;834    
;;;835    
;;;836    
;;;837    }
000bc8  e8bd8ff8          POP      {r3-r11,pc}
;;;838    
                          ENDP

                  vz1_start PROC
;;;840    //ÒÚ‡Ú Û‡‚ÌËÚÂÎ¸ÌÓ„ Á‡ˇ‰‡
;;;841    char vz1_start(char hour)
000bcc  b510              PUSH     {r4,lr}
;;;842    {          
;;;843    char out;
;;;844    out=0;
000bce  f04f0000          MOV      r0,#0
;;;845    if((spc_stat==spcOFF)&&(speedChrgBlckStat!=1)&&(vz1_stat==vz1sOFF))
000bd2  49b7              LDR      r1,|L1.3760|
000bd4  7d0a              LDRB     r2,[r1,#0x14]  ; spc_stat
000bd6  2a00              CMP      r2,#0
000bd8  d112              BNE      |L1.3072|
000bda  4ab6              LDR      r2,|L1.3764|
000bdc  8812              LDRH     r2,[r2,#0]  ; speedChrgBlckStat
000bde  2a01              CMP      r2,#1
000be0  d00e              BEQ      |L1.3072|
000be2  f8912020          LDRB     r2,[r1,#0x20]  ; vz1_stat
000be6  2a00              CMP      r2,#0
000be8  d10a              BNE      |L1.3072|
;;;846    	{
;;;847    	if(vz1_stat==vz1sOFF)
;;;848    		{
;;;849    		vz1_stat=vz1sSTEP1;
000bea  f04f0001          MOV      r0,#1
000bee  f8810020          STRB     r0,[r1,#0x20]
;;;850    		lc640_write(EE_VZ1_STAT,vz1sSTEP1);
000bf2  4601              MOV      r1,r0
000bf4  f44f70c9          MOV      r0,#0x192
000bf8  f7fffffe          BL       lc640_write
;;;851    		out=1;
000bfc  f04f0001          MOV      r0,#1
                  |L1.3072|
;;;852    		
;;;853    		}
;;;854    /*	spc_stat=spcVZ;
;;;855    	__ee_spc_stat=spcVZ; 
;;;856    	lc640_write_int(EE_SPC_STAT,__ee_spc_stat);   
;;;857    	vz_cnt_h=hour;
;;;858    	__ee_vz_cnt=hour*60;
;;;859    	if(hour==0)__ee_vz_cnt=30;
;;;860    	lc640_write_int(EE_VZ_CNT,__ee_vz_cnt);
;;;861    	lc640_write_int(EE_SPC_VZ_LENGT,__ee_vz_cnt);	
;;;862    	vz_cnt_h_=0;
;;;863    	vz_cnt_s=0;
;;;864    	vz_cnt_s_=0;
;;;865    	
;;;866    		*/
;;;867    	}
;;;868    //else if((spc_stat==spc_KE1p1)||(spc_stat==spc_KE1p2)) out=22; 
;;;869    //else if((spc_stat==spc_KE2p1)||(spc_stat==spc_KE2p2)) out=33;
;;;870    //plazma=out;	
;;;871    return out;
;;;872    }
000c00  e48e              B        |L1.1312|
;;;873    
                          ENDP

                  vz1_stop PROC
;;;875    //ÒÚÓÔ Û‡‚ÌËÚÂÎ¸ÌÓ„ Á‡ˇ‰‡
;;;876    void vz1_stop(void)
000c02  48ab              LDR      r0,|L1.3760|
;;;877    {
;;;878    if(vz1_stat!=vz1sOFF)
000c04  f8901020          LDRB     r1,[r0,#0x20]  ; vz1_stat
000c08  2900              CMP      r1,#0
000c0a  d007              BEQ      |L1.3100|
;;;879    	{
;;;880    	vz1_stat=vz1sSTOP;
000c0c  f04f0110          MOV      r1,#0x10
000c10  f8801020          STRB     r1,[r0,#0x20]
;;;881    	lc640_write(EE_VZ1_STAT,vz1sSTOP);
000c14  f44f70c9          MOV      r0,#0x192
000c18  f7ffbffe          B.W      lc640_write
                  |L1.3100|
;;;882    	}
;;;883    }
000c1c  4770              BX       lr
;;;884    
                          ENDP

                  vz2_drv PROC
;;;886    //‰‡È‚Â ÙÓÏÓ‚Ó˜ÌÓ„Ó Á‡ˇ‰‡
;;;887    void vz2_drv(void)
000c1e  e92d4ff8          PUSH     {r3-r11,lr}
;;;888    {
;;;889    
;;;890    if(vz2_stat==vz2sSTEP1)
000c22  4ea3              LDR      r6,|L1.3760|
;;;891    	{
;;;892    	if(vz2_stat_old!=vz2_stat)
;;;893    		{
;;;894    		vz2_stat_cnt=5;
;;;895    		}
;;;896    	if(vz2_stat_cnt)
;;;897    		{
;;;898    		vz2_stat_cnt--;
;;;899    		if(vz2_stat_cnt==0)
;;;900    			{
;;;901    			vz2_stat=vz2sERR1; 	//ÕÂ ‚ÍÎ˛˜ËÎ‡Ò¸ ‚ÂÌÚËÎˇˆËˇ;
;;;902    			lc640_write(EE_VZ2_STAT,vz2sERR1);
;;;903    			}
;;;904    		}
;;;905    	if(sk_stat[0]==1)
000c24  4da4              LDR      r5,|L1.3768|
000c26  f8960023          LDRB     r0,[r6,#0x23]         ;890  ; vz2_stat
000c2a  2801              CMP      r0,#1                 ;890
000c2c  d13b              BNE      |L1.3238|
000c2e  f8960024          LDRB     r0,[r6,#0x24]         ;892  ; vz2_stat_old
000c32  2801              CMP      r0,#1                 ;892
000c34  d003              BEQ      |L1.3134|
000c36  f04f0005          MOV      r0,#5                 ;894
000c3a  f8a60072          STRH     r0,[r6,#0x72]         ;894
                  |L1.3134|
000c3e  f9b60072          LDRSH    r0,[r6,#0x72]         ;896  ; vz2_stat_cnt
000c42  b170              CBZ      r0,|L1.3170|
000c44  f1a00001          SUB      r0,r0,#1              ;898
000c48  b200              SXTH     r0,r0                 ;898
000c4a  f8a60072          STRH     r0,[r6,#0x72]         ;898
000c4e  b940              CBNZ     r0,|L1.3170|
000c50  f04f000c          MOV      r0,#0xc               ;901
000c54  f8860023          STRB     r0,[r6,#0x23]         ;901
000c58  4601              MOV      r1,r0                 ;902
000c5a  f44f70ca          MOV      r0,#0x194             ;902
000c5e  f7fffffe          BL       lc640_write
                  |L1.3170|
000c62  7828              LDRB     r0,[r5,#0]  ; sk_stat
000c64  2801              CMP      r0,#1
000c66  d118              BNE      |L1.3226|
;;;906    		{
;;;907    		vz2_stat=vz2sSTEP2;
000c68  f04f0002          MOV      r0,#2
000c6c  f8860023          STRB     r0,[r6,#0x23]
;;;908    		lc640_write(EE_VZ2_STAT,vz2sSTEP2);
000c70  4601              MOV      r1,r0
000c72  f44f70ca          MOV      r0,#0x194
000c76  f7fffffe          BL       lc640_write
;;;909    		tree_up(iVZ2_STEP2_2,1,0,0);
000c7a  2300              MOVS     r3,#0
000c7c  461a              MOV      r2,r3
000c7e  2101              MOVS     r1,#1
000c80  20dc              MOVS     r0,#0xdc
000c82  f7fffffe          BL       tree_up
;;;910    		tree_up(iVZ2_STEP2_1,0,0,0);
000c86  2300              MOVS     r3,#0
000c88  461a              MOV      r2,r3
000c8a  4619              MOV      r1,r3
000c8c  20db              MOVS     r0,#0xdb
000c8e  f7fffffe          BL       tree_up
;;;911    		ret(1200);
000c92  f44f6096          MOV      r0,#0x4b0
000c96  f7fffffe          BL       ||ret||
                  |L1.3226|
;;;912    		}
;;;913    	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
000c9a  2314              MOVS     r3,#0x14
000c9c  2200              MOVS     r2,#0
000c9e  2164              MOVS     r1,#0x64
000ca0  20d2              MOVS     r0,#0xd2
000ca2  f7fffffe          BL       mess_send
                  |L1.3238|
;;;914    	}
;;;915    
;;;916    if(vz2_stat==vz2sSTEP2)
000ca6  f8960023          LDRB     r0,[r6,#0x23]  ; vz2_stat
000caa  2802              CMP      r0,#2
000cac  d11a              BNE      |L1.3300|
;;;917    	{
;;;918    	if((vz2_stat_old!=vz2_stat)||(vz2_stat_cnt==0))
000cae  f8960024          LDRB     r0,[r6,#0x24]  ; vz2_stat_old
000cb2  2802              CMP      r0,#2
000cb4  d102              BNE      |L1.3260|
000cb6  f8b60072          LDRH     r0,[r6,#0x72]  ; vz2_stat_cnt
000cba  b918              CBNZ     r0,|L1.3268|
                  |L1.3260|
;;;919    		{
;;;920    		vz2_stat_cnt=15;
000cbc  f04f000f          MOV      r0,#0xf
000cc0  f8a60072          STRH     r0,[r6,#0x72]
                  |L1.3268|
;;;921    		}
;;;922    	vz2_stat_cnt--;
000cc4  f8b60072          LDRH     r0,[r6,#0x72]  ; vz2_stat_cnt
000cc8  f1a00001          SUB      r0,r0,#1
000ccc  f8a60072          STRH     r0,[r6,#0x72]
;;;923    	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
000cd0  f04f0314          MOV      r3,#0x14
000cd4  f04f0200          MOV      r2,#0
000cd8  f04f0164          MOV      r1,#0x64
000cdc  f04f00d2          MOV      r0,#0xd2
000ce0  f7fffffe          BL       mess_send
                  |L1.3300|
;;;924    	}
;;;925    
;;;926    if(vz2_stat==vz2sSTEP3)
000ce4  f8960023          LDRB     r0,[r6,#0x23]  ; vz2_stat
;;;927    	{
;;;928    	if((vz2_stat_old!=vz2_stat)||(vz2_stat_cnt==0))
;;;929    		{
;;;930    		vz2_stat_cnt=10;
000ce8  240a              MOVS     r4,#0xa
000cea  2700              MOVS     r7,#0
;;;931    		cntrl_stat=0;
;;;932    		cntrl_stat_new=0;
;;;933    		cntrl_stat_old=0;
;;;934    		}
;;;935    	vz2_stat_cnt--;
;;;936    	if((vz2_stat_cnt==10)||(vz2_stat_cnt==9))
;;;937    		{
;;;938    		show_mess(	"     ¬ Àﬁ◊»“≈       ",
000cec  f2413888          MOV      r8,#0x1388
000cf0  2803              CMP      r0,#3                 ;926
000cf2  d126              BNE      |L1.3394|
000cf4  f8960024          LDRB     r0,[r6,#0x24]         ;928  ; vz2_stat_old
000cf8  2803              CMP      r0,#3                 ;928
000cfa  d102              BNE      |L1.3330|
000cfc  f8b60072          LDRH     r0,[r6,#0x72]         ;928  ; vz2_stat_cnt
000d00  b920              CBNZ     r0,|L1.3340|
                  |L1.3330|
000d02  f8a64072          STRH     r4,[r6,#0x72]         ;930
000d06  84f7              STRH     r7,[r6,#0x26]         ;931
000d08  87b7              STRH     r7,[r6,#0x3c]         ;932
000d0a  8537              STRH     r7,[r6,#0x28]         ;933
                  |L1.3340|
000d0c  f8b60072          LDRH     r0,[r6,#0x72]         ;935  ; vz2_stat_cnt
000d10  f1a00001          SUB      r0,r0,#1              ;935
000d14  b200              SXTH     r0,r0                 ;935
000d16  f8a60072          STRH     r0,[r6,#0x72]         ;935
000d1a  280a              CMP      r0,#0xa               ;936
000d1c  d001              BEQ      |L1.3362|
000d1e  2809              CMP      r0,#9                 ;936
000d20  d10b              BNE      |L1.3386|
                  |L1.3362|
000d22  f2af4374          ADR      r3,|L1.2224|
000d26  f2af4260          ADR      r2,|L1.2248|
000d2a  f2af414c          ADR      r1,|L1.2272|
000d2e  f2af4038          ADR      r0,|L1.2296|
000d32  f8cd8000          STR      r8,[sp,#0]
000d36  f7fffffe          BL       show_mess
                  |L1.3386|
;;;939    					"      “”Ã¡À≈–       ",
;;;940    					"     ¬€—Œ Œ√Œ       ",
;;;941    					"    Õ¿œ–ﬂ∆≈Õ»ﬂ      ",
;;;942    					5000);
;;;943    		}
;;;944    	if(sk_stat[1]==1)
000d3a  7868              LDRB     r0,[r5,#1]  ; sk_stat
000d3c  2801              CMP      r0,#1
000d3e  d101              BNE      |L1.3396|
;;;945    		{
;;;946    		vz2_stat=vz2sWRK1;
000d40  e0bc              B        |L1.3772|
                  |L1.3394|
000d42  e0cf              B        |L1.3812|
                  |L1.3396|
000d44  e0c8              B        |L1.3800|
000d46  0000              DCW      0x0000
                  |L1.3400|
000d48  2020c1c5          DCB      "  ",193,197,199," ",194,197,205,210,200,203,223,214,200
000d4c  c720c2c5
000d50  cdd2c8cb
000d54  dfd6c8  
000d57  c8212120          DCB      200,"!!  ",0
000d5b  2000    
000d5d  00                DCB      0
000d5e  00                DCB      0
000d5f  00                DCB      0
                  |L1.3424|
000d60  20202020          DCB      "      ",194,202,203,222,215,197,205,"       ",0
000d64  2020c2ca
000d68  cbded7c5
000d6c  cd202020
000d70  20202020
000d74  00      
000d75  00                DCB      0
000d76  00                DCB      0
000d77  00                DCB      0
                  |L1.3448|
000d78  202020cd          DCB      "   ",205,197," ",204,206,198,197,210," ",193,219,210,220
000d7c  c520ccce
000d80  c6c5d220
000d84  c1dbd2dc
000d88  20202020          DCB      "    ",0
000d8c  00      
000d8d  00                DCB      0
000d8e  00                DCB      0
000d8f  00                DCB      0
                  |L1.3472|
000d90  d3d0c0c2          DCB      211,208,192,194,205,200,210,197,203,220,205,219,201," ",199
000d94  cdc8d2c5
000d98  cbdccddb
000d9c  c920c7  
000d9f  c0d0dfc4          DCB      192,208,223,196," ",0
000da3  2000    
000da5  00                DCB      0
000da6  00                DCB      0
000da7  00                DCB      0
                  |L1.3496|
000da8  2a202020          DCB      "*   ",210,211,204,193,203,197,208,192,"!!!     ",0
000dac  d2d3ccc1
000db0  cbc5d0c0
000db4  21212120
000db8  20202020
000dbc  00      
000dbd  00                DCB      0
000dbe  00                DCB      0
000dbf  00                DCB      0
                  |L1.3520|
000dc0  2020cfce          DCB      "  ",207,206,209,203,197," ",194,202,203,222,215,197,205
000dc4  d1cbc520
000dc8  c2cacbde
000dcc  d7c5cd  
000dcf  c8df2020          DCB      200,223,"   ",0
000dd3  2000    
000dd5  00                DCB      0
000dd6  00                DCB      0
000dd7  00                DCB      0
                  |L1.3544|
000dd8  2020c1d3          DCB      "  ",193,211,196,197,210," ",207,208,206,196,206,203,198
000ddc  c4c5d220
000de0  cfd0cec4
000de4  cecbc6  
000de7  c5cd2020          DCB      197,205,"   ",0
000deb  2000    
000ded  00                DCB      0
000dee  00                DCB      0
000def  00                DCB      0
                  |L1.3568|
000df0  2a202020          DCB      "*    ",194,219,202,203,222,215,200,210,197,"      ",0
000df4  20c2dbca
000df8  cbded7c8
000dfc  d2c52020
000e00  20202020
000e04  00      
000e05  00                DCB      0
000e06  00                DCB      0
000e07  00                DCB      0
                  |L1.3592|
000e08  20202020          DCB      "     ",199,192,194,197,208,216,197,205,"       ",0
000e0c  20c7c0c2
000e10  c5d0d8c5
000e14  cd202020
000e18  20202020
000e1c  00      
000e1d  00                DCB      0
000e1e  00                DCB      0
000e1f  00                DCB      0
                  |L1.3616|
000e20  20202020          DCB      "      ",211,209,207,197,216,205,206,"       ",0
000e24  2020d3d1
000e28  cfc5d8cd
000e2c  ce202020
000e30  20202020
000e34  00      
000e35  00                DCB      0
000e36  00                DCB      0
000e37  00                DCB      0
                  |L1.3640|
000e38  20202020          DCB      "       ",199,192,208,223,196,"        ",0
000e3c  202020c7
000e40  c0d0dfc4
000e44  20202020
000e48  20202020
000e4c  00      
000e4d  00                DCB      0
000e4e  00                DCB      0
000e4f  00                DCB      0
                  |L1.3664|
000e50  202020d3          DCB      "   ",211,208,192,194,205,200,210,197,203,220,205,219,201
000e54  d0c0c2cd
000e58  c8d2c5cb
000e5c  dccddbc9
000e60  20202020          DCB      "    ",0
000e64  00      
000e65  00                DCB      0
000e66  00                DCB      0
000e67  00                DCB      0
                  |L1.3688|
000e68  20202020          DCB      "     ",194,219,202,203,222,215,200,210,197,"      ",0
000e6c  20c2dbca
000e70  cbded7c8
000e74  d2c52020
000e78  20202020
000e7c  00      
000e7d  00                DCB      0
000e7e  00                DCB      0
000e7f  00                DCB      0
                  |L1.3712|
000e80  20202020          DCB      "                    ",0
000e84  20202020
000e88  20202020
000e8c  20202020
000e90  20202020
000e94  00      
000e95  00                DCB      0
000e96  00                DCB      0
000e97  00                DCB      0
                  |L1.3736|
000e98  20202020          DCB      "     ",207,208,197,202,208,192,217,197,205,"      ",0
000e9c  20cfd0c5
000ea0  cad0c0d9
000ea4  c5cd2020
000ea8  20202020
000eac  00      
000ead  00                DCB      0
000eae  00                DCB      0
000eaf  00                DCB      0
                  |L1.3760|
                          DCD      ||area_number.23||
                  |L1.3764|
                          DCD      speedChrgBlckStat
                  |L1.3768|
                          DCD      sk_stat
                  |L1.3772|
000ebc  f8864023          STRB     r4,[r6,#0x23]
;;;947    		lc640_write(EE_VZ2_STAT,vz2sWRK1);
000ec0  210a              MOVS     r1,#0xa
000ec2  f44f70ca          MOV      r0,#0x194
000ec6  f7fffffe          BL       lc640_write
;;;948    		volt_region=1;
000eca  f04f0001          MOV      r0,#1
000ece  f8860022          STRB     r0,[r6,#0x22]
;;;949    		cntrl_stat=0;
000ed2  84f7              STRH     r7,[r6,#0x26]
;;;950    		cntrl_stat_new=0;
000ed4  87b7              STRH     r7,[r6,#0x3c]
;;;951    		cntrl_stat_old=0;
000ed6  8537              STRH     r7,[r6,#0x28]
                  |L1.3800|
;;;952    		}
;;;953    	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
000ed8  2314              MOVS     r3,#0x14
000eda  2200              MOVS     r2,#0
000edc  2164              MOVS     r1,#0x64
000ede  20d2              MOVS     r0,#0xd2
000ee0  f7fffffe          BL       mess_send
                  |L1.3812|
;;;954    	}
;;;955    
;;;956    if(vz2_stat==vz2sWRK1)
000ee4  f8960023          LDRB     r0,[r6,#0x23]  ; vz2_stat
;;;957    	{
;;;958    
;;;959    	if(vz2_stat_old!=vz2_stat)
;;;960    		{
;;;961    		vz2_wrk_cnt=3600L/*100L*/*((long)FZ_T1);
000ee8  f8df9410          LDR      r9,|L1.4860|
;;;962    		//if(VZ_HR==0)  	hv_vz_wrk_cnt=1800L;
;;;963    		vz2_up_cnt=0L;
;;;964    
;;;965    		}
;;;966    	vz2_wrk_cnt--;
;;;967    	vz2_up_cnt++;
;;;968    
;;;969    	if(vz2_wrk_cnt==0)
;;;970    		{
;;;971    		vz2_stat=vz2sWRK2;
;;;972    		lc640_write(EE_VZ2_STAT,vz2sWRK2);
;;;973    		}
;;;974    	if(sk_stat[0]==0)
;;;975    		{
;;;976    		vz2_stat=vz2sERR2;
;;;977    		lc640_write(EE_VZ2_STAT,vz2sERR2);
;;;978    		}
;;;979    	if(sk_stat[1]==0)
;;;980    		{
;;;981    		vz2_stat=vz2sERR3;
;;;982    		lc640_write(EE_VZ2_STAT,vz2sERR3);
;;;983    		}
;;;984    	//if(abs(out_U-FZ_U1)<10)
;;;985    	if((out_U<(FZ_U1+30))&&(out_U>(FZ_U1-10)))
;;;986    		{
;;;987    		if((Ib_ips_termokompensat/10)<FZ_ISW12)
;;;988    			{
;;;989    			if(vz2_stat_ph2_cnt)
;;;990    				{
;;;991    				vz2_stat_ph2_cnt--;
;;;992    				if(vz2_stat_ph2_cnt==0)
;;;993    					{
;;;994    					vz2_stat=vz2sWRK2;
;;;995    					lc640_write(EE_VZ2_STAT,vz2sWRK2);
;;;996    					}
;;;997    				}
;;;998    			}
;;;999    		else
;;;1000   			{
;;;1001   			vz2_stat_ph2_cnt=60;
;;;1002   			}
;;;1003   		}
;;;1004   	else
;;;1005   		{
;;;1006   		vz2_stat_ph2_cnt=60;
;;;1007   		}
;;;1008   	if(((Ibmax/10)>IZMAX_)&&(cntrl_stat<=20)&&(volt_region==1)&&(volt_region_cnt==0))
;;;1009   		{
;;;1010   		volt_region=0;
;;;1011   		cntrl_stat=1000;
000eec  f44f7b7a          MOV      r11,#0x3e8
000ef0  f04f0a0b          MOV      r10,#0xb              ;971
000ef4  280a              CMP      r0,#0xa               ;956
000ef6  d17e              BNE      |L1.4086|
000ef8  f8960024          LDRB     r0,[r6,#0x24]         ;959  ; vz2_stat_old
000efc  280a              CMP      r0,#0xa               ;959
000efe  d00a              BEQ      |L1.3862|
000f00  48ff              LDR      r0,|L1.4864|
000f02  f44f6161          MOV      r1,#0xe10             ;961
000f06  f9b00000          LDRSH    r0,[r0,#0]            ;961  ; FZ_T1
000f0a  fb00f001          MUL      r0,r0,r1              ;961
000f0e  f8c90028          STR      r0,[r9,#0x28]         ;961  ; vz2_wrk_cnt
000f12  f8c9702c          STR      r7,[r9,#0x2c]         ;963  ; vz2_up_cnt
                  |L1.3862|
000f16  f8d90028          LDR      r0,[r9,#0x28]         ;966  ; vz2_wrk_cnt
000f1a  f1a00001          SUB      r0,r0,#1              ;966
000f1e  f8c90028          STR      r0,[r9,#0x28]         ;966  ; vz2_wrk_cnt
000f22  f8d9102c          LDR      r1,[r9,#0x2c]         ;967  ; vz2_up_cnt
000f26  f1010101          ADD      r1,r1,#1              ;967
000f2a  f8c9102c          STR      r1,[r9,#0x2c]         ;967  ; vz2_up_cnt
000f2e  b930              CBNZ     r0,|L1.3902|
000f30  f886a023          STRB     r10,[r6,#0x23]        ;971
000f34  210b              MOVS     r1,#0xb               ;972
000f36  f44f70ca          MOV      r0,#0x194             ;972
000f3a  f7fffffe          BL       lc640_write
                  |L1.3902|
000f3e  7828              LDRB     r0,[r5,#0]            ;974  ; sk_stat
000f40  b940              CBNZ     r0,|L1.3924|
000f42  f04f000d          MOV      r0,#0xd               ;976
000f46  f8860023          STRB     r0,[r6,#0x23]         ;976
000f4a  4601              MOV      r1,r0                 ;977
000f4c  f44f70ca          MOV      r0,#0x194             ;977
000f50  f7fffffe          BL       lc640_write
                  |L1.3924|
000f54  7868              LDRB     r0,[r5,#1]            ;979  ; sk_stat
000f56  b940              CBNZ     r0,|L1.3946|
000f58  f04f000e          MOV      r0,#0xe               ;981
000f5c  f8860023          STRB     r0,[r6,#0x23]         ;981
000f60  4601              MOV      r1,r0                 ;982
000f62  f44f70ca          MOV      r0,#0x194             ;982
000f66  f7fffffe          BL       lc640_write
                  |L1.3946|
000f6a  48e6              LDR      r0,|L1.4868|
000f6c  223c              MOVS     r2,#0x3c              ;1001
000f6e  f9b01000          LDRSH    r1,[r0,#0]            ;985  ; out_U
000f72  48e5              LDR      r0,|L1.4872|
000f74  f9b00000          LDRSH    r0,[r0,#0]            ;985  ; FZ_U1
000f78  f100031e          ADD      r3,r0,#0x1e           ;985
000f7c  4299              CMP      r1,r3                 ;985
000f7e  da20              BGE      |L1.4034|
000f80  380a              SUBS     r0,r0,#0xa            ;985
000f82  4281              CMP      r1,r0                 ;985
000f84  dd1d              BLE      |L1.4034|
000f86  48e1              LDR      r0,|L1.4876|
000f88  49e1              LDR      r1,|L1.4880|
000f8a  f9b00000          LDRSH    r0,[r0,#0]            ;987  ; Ib_ips_termokompensat
000f8e  f9b11000          LDRSH    r1,[r1,#0]            ;987  ; FZ_ISW12
000f92  fb90f0f4          SDIV     r0,r0,r4              ;987
000f96  4288              CMP      r0,r1                 ;987
000f98  da10              BGE      |L1.4028|
000f9a  f9b60074          LDRSH    r0,[r6,#0x74]         ;989  ; vz2_stat_ph2_cnt
000f9e  b190              CBZ      r0,|L1.4038|
000fa0  f1a00001          SUB      r0,r0,#1              ;991
000fa4  b200              SXTH     r0,r0                 ;991
000fa6  f8a60074          STRH     r0,[r6,#0x74]         ;991
000faa  b960              CBNZ     r0,|L1.4038|
000fac  f886a023          STRB     r10,[r6,#0x23]        ;994
000fb0  210b              MOVS     r1,#0xb               ;995
000fb2  f44f70ca          MOV      r0,#0x194             ;995
000fb6  f7fffffe          BL       lc640_write
000fba  e004              B        |L1.4038|
                  |L1.4028|
000fbc  f8a62074          STRH     r2,[r6,#0x74]         ;1001
000fc0  e001              B        |L1.4038|
                  |L1.4034|
000fc2  f8a62074          STRH     r2,[r6,#0x74]         ;1006
                  |L1.4038|
000fc6  f9b6003e          LDRSH    r0,[r6,#0x3e]         ;1008  ; Ibmax
000fca  f8b61040          LDRH     r1,[r6,#0x40]         ;1008  ; IZMAX_
000fce  fb90f0f4          SDIV     r0,r0,r4              ;1008
000fd2  4288              CMP      r0,r1                 ;1008
000fd4  dd18              BLE      |L1.4104|
000fd6  f9b62026          LDRSH    r2,[r6,#0x26]         ;1008  ; cntrl_stat
000fda  2a14              CMP      r2,#0x14              ;1008
000fdc  dc14              BGT      |L1.4104|
000fde  f8962022          LDRB     r2,[r6,#0x22]         ;1008  ; volt_region
000fe2  2a01              CMP      r2,#1                 ;1008
000fe4  d110              BNE      |L1.4104|
000fe6  f8b62070          LDRH     r2,[r6,#0x70]         ;1008  ; volt_region_cnt
000fea  b96a              CBNZ     r2,|L1.4104|
000fec  f8867022          STRB     r7,[r6,#0x22]         ;1010
000ff0  f8a6b026          STRH     r11,[r6,#0x26]
;;;1012   		cntrl_stat_new=1000;
000ff4  e000              B        |L1.4088|
                  |L1.4086|
000ff6  e02f              B        |L1.4184|
                  |L1.4088|
000ff8  f8a6b03c          STRH     r11,[r6,#0x3c]
;;;1013   		cntrl_stat_old=1000;
000ffc  f8a6b028          STRH     r11,[r6,#0x28]
;;;1014   		volt_region_cnt=110;
001000  f04f026e          MOV      r2,#0x6e
001004  f8a62070          STRH     r2,[r6,#0x70]
                  |L1.4104|
;;;1015   		}
;;;1016   	if(((Ibmax/10)<IZMAX_)&&(cntrl_stat>=1000)&&(volt_region==0)&&(volt_region_cnt==0))
001008  4288              CMP      r0,r1
00100a  da12              BGE      |L1.4146|
00100c  f9b60026          LDRSH    r0,[r6,#0x26]  ; cntrl_stat
001010  4558              CMP      r0,r11
001012  db0e              BLT      |L1.4146|
001014  f8960022          LDRB     r0,[r6,#0x22]  ; volt_region
001018  b958              CBNZ     r0,|L1.4146|
00101a  f8b60070          LDRH     r0,[r6,#0x70]  ; volt_region_cnt
00101e  b940              CBNZ     r0,|L1.4146|
;;;1017   		{
;;;1018   		volt_region=1;
001020  f04f0001          MOV      r0,#1
001024  f8860022          STRB     r0,[r6,#0x22]
;;;1019   		cntrl_stat=10;
001028  84f4              STRH     r4,[r6,#0x26]
;;;1020   		cntrl_stat_new=10;
00102a  87b4              STRH     r4,[r6,#0x3c]
;;;1021   		cntrl_stat_old=10;
00102c  8534              STRH     r4,[r6,#0x28]
;;;1022   		volt_region_cnt=10;
00102e  f8a64070          STRH     r4,[r6,#0x70]
                  |L1.4146|
;;;1023   		}
;;;1024   	if(volt_region==0) 		mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
001032  f8960022          LDRB     r0,[r6,#0x22]  ; volt_region
001036  b110              CBZ      r0,|L1.4158|
;;;1025   	else if(volt_region==1) mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,1,20);
001038  2801              CMP      r0,#1
00103a  d007              BEQ      |L1.4172|
00103c  e00c              B        |L1.4184|
                  |L1.4158|
00103e  2314              MOVS     r3,#0x14              ;1024
001040  2200              MOVS     r2,#0                 ;1024
001042  2164              MOVS     r1,#0x64              ;1024
001044  20d2              MOVS     r0,#0xd2              ;1024
001046  f7fffffe          BL       mess_send
00104a  e005              B        |L1.4184|
                  |L1.4172|
00104c  2314              MOVS     r3,#0x14
00104e  2201              MOVS     r2,#1
001050  2164              MOVS     r1,#0x64
001052  20d2              MOVS     r0,#0xd2
001054  f7fffffe          BL       mess_send
                  |L1.4184|
;;;1026   	}
;;;1027   
;;;1028   if(vz2_stat==vz2sWRK2)
001058  f8960023          LDRB     r0,[r6,#0x23]  ; vz2_stat
00105c  280b              CMP      r0,#0xb
00105e  d17f              BNE      |L1.4448|
;;;1029   	{
;;;1030   	if(vz2_stat_old!=vz2_stat)
001060  f8960024          LDRB     r0,[r6,#0x24]  ; vz2_stat_old
001064  280b              CMP      r0,#0xb
001066  d008              BEQ      |L1.4218|
;;;1031   		{
;;;1032   		vz2_wrk_cnt=3600L/*100L*/*((long)FZ_T2);
001068  48aa              LDR      r0,|L1.4884|
00106a  f44f6161          MOV      r1,#0xe10
00106e  f9b00000          LDRSH    r0,[r0,#0]  ; FZ_T2
001072  fb00f001          MUL      r0,r0,r1
001076  f8c90028          STR      r0,[r9,#0x28]  ; vz2_wrk_cnt
                  |L1.4218|
;;;1033   		//if(VZ_HR==0)  	hv_vz_wrk_cnt=1800L;
;;;1034   		//vz2_up_cnt=0L;
;;;1035   		}
;;;1036   	vz2_wrk_cnt--;
00107a  f8d90028          LDR      r0,[r9,#0x28]  ; vz2_wrk_cnt
00107e  f1a00001          SUB      r0,r0,#1
001082  f8c90028          STR      r0,[r9,#0x28]  ; vz2_wrk_cnt
;;;1037   	vz2_up_cnt++;
001086  f8d9102c          LDR      r1,[r9,#0x2c]  ; vz2_up_cnt
00108a  f1010101          ADD      r1,r1,#1
00108e  f8c9102c          STR      r1,[r9,#0x2c]  ; vz2_up_cnt
;;;1038   
;;;1039   	if(vz2_wrk_cnt==0)
001092  b940              CBNZ     r0,|L1.4262|
;;;1040   		{
;;;1041   		vz2_stat=vz2sFINE;
001094  f04f0012          MOV      r0,#0x12
001098  f8860023          STRB     r0,[r6,#0x23]
;;;1042   		lc640_write(EE_VZ2_STAT,vz2sFINE);
00109c  4601              MOV      r1,r0
00109e  f44f70ca          MOV      r0,#0x194
0010a2  f7fffffe          BL       lc640_write
                  |L1.4262|
;;;1043   		}
;;;1044   	if(sk_stat[0]==0)
0010a6  7828              LDRB     r0,[r5,#0]  ; sk_stat
0010a8  b940              CBNZ     r0,|L1.4284|
;;;1045   		{
;;;1046   		vz2_stat=vz2sERR5;
0010aa  f04f0010          MOV      r0,#0x10
0010ae  f8860023          STRB     r0,[r6,#0x23]
;;;1047   		lc640_write(EE_VZ2_STAT,vz2sERR5);
0010b2  4601              MOV      r1,r0
0010b4  f44f70ca          MOV      r0,#0x194
0010b8  f7fffffe          BL       lc640_write
                  |L1.4284|
;;;1048   		}
;;;1049   	if(sk_stat[1]==0)
0010bc  7868              LDRB     r0,[r5,#1]  ; sk_stat
0010be  b940              CBNZ     r0,|L1.4306|
;;;1050   		{
;;;1051   		vz2_stat=vz2sERR6;
0010c0  f04f0011          MOV      r0,#0x11
0010c4  f8860023          STRB     r0,[r6,#0x23]
;;;1052   		lc640_write(EE_VZ2_STAT,vz2sERR6);
0010c8  4601              MOV      r1,r0
0010ca  f44f70ca          MOV      r0,#0x194
0010ce  f7fffffe          BL       lc640_write
                  |L1.4306|
;;;1053   		}
;;;1054   	if(((Ibmax/10)>IZMAX_)&&(cntrl_stat<=20)&&(volt_region==1)&&(volt_region_cnt==0))
0010d2  f9b6003e          LDRSH    r0,[r6,#0x3e]  ; Ibmax
0010d6  f8b61040          LDRH     r1,[r6,#0x40]  ; IZMAX_
0010da  fb90f0f4          SDIV     r0,r0,r4
0010de  4288              CMP      r0,r1
0010e0  dd16              BLE      |L1.4368|
0010e2  f9b62026          LDRSH    r2,[r6,#0x26]  ; cntrl_stat
0010e6  2a14              CMP      r2,#0x14
0010e8  dc12              BGT      |L1.4368|
0010ea  f8962022          LDRB     r2,[r6,#0x22]  ; volt_region
0010ee  2a01              CMP      r2,#1
0010f0  d10e              BNE      |L1.4368|
0010f2  f8b62070          LDRH     r2,[r6,#0x70]  ; volt_region_cnt
0010f6  b95a              CBNZ     r2,|L1.4368|
;;;1055   		{
;;;1056   		volt_region=0;
0010f8  f8867022          STRB     r7,[r6,#0x22]
;;;1057   		cntrl_stat=1000;
0010fc  f8a6b026          STRH     r11,[r6,#0x26]
;;;1058   		cntrl_stat_new=1000;
001100  f8a6b03c          STRH     r11,[r6,#0x3c]
;;;1059   		cntrl_stat_old=1000;
001104  f8a6b028          STRH     r11,[r6,#0x28]
;;;1060   		volt_region_cnt=110;
001108  f04f026e          MOV      r2,#0x6e
00110c  f8a62070          STRH     r2,[r6,#0x70]
                  |L1.4368|
;;;1061   		}
;;;1062   	if(((Ibmax/10)<IZMAX_)&&(cntrl_stat>=1000)&&(volt_region==0)&&(volt_region_cnt==0))
001110  4288              CMP      r0,r1
001112  da12              BGE      |L1.4410|
001114  f9b60026          LDRSH    r0,[r6,#0x26]  ; cntrl_stat
001118  4558              CMP      r0,r11
00111a  db0e              BLT      |L1.4410|
00111c  f8960022          LDRB     r0,[r6,#0x22]  ; volt_region
001120  b958              CBNZ     r0,|L1.4410|
001122  f8b60070          LDRH     r0,[r6,#0x70]  ; volt_region_cnt
001126  b940              CBNZ     r0,|L1.4410|
;;;1063   		{
;;;1064   		volt_region=1;
001128  f04f0001          MOV      r0,#1
00112c  f8860022          STRB     r0,[r6,#0x22]
;;;1065   		cntrl_stat=10;
001130  84f4              STRH     r4,[r6,#0x26]
;;;1066   		cntrl_stat_new=10;
001132  87b4              STRH     r4,[r6,#0x3c]
;;;1067   		cntrl_stat_old=10;
001134  8534              STRH     r4,[r6,#0x28]
;;;1068   		volt_region_cnt=10;
001136  f8a64070          STRH     r4,[r6,#0x70]
                  |L1.4410|
;;;1069   		}
;;;1070   	if(volt_region==0) 		mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
00113a  f8960022          LDRB     r0,[r6,#0x22]  ; volt_region
00113e  b110              CBZ      r0,|L1.4422|
;;;1071   	else if(volt_region==1) mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,1,20);
001140  2801              CMP      r0,#1
001142  d007              BEQ      |L1.4436|
001144  e00c              B        |L1.4448|
                  |L1.4422|
001146  2314              MOVS     r3,#0x14              ;1070
001148  2200              MOVS     r2,#0                 ;1070
00114a  2164              MOVS     r1,#0x64              ;1070
00114c  20d2              MOVS     r0,#0xd2              ;1070
00114e  f7fffffe          BL       mess_send
001152  e005              B        |L1.4448|
                  |L1.4436|
001154  2314              MOVS     r3,#0x14
001156  2201              MOVS     r2,#1
001158  2164              MOVS     r1,#0x64
00115a  20d2              MOVS     r0,#0xd2
00115c  f7fffffe          BL       mess_send
                  |L1.4448|
;;;1072   	}
;;;1073   
;;;1074   if(vz2_stat==vz2sERR1)		//ŒÚÒÛÚÒÚ‚ÛÂÚ ‚ÂÌÚËÎˇˆËˇ ÔË ‚ÍÎ˛˜ÂÌËË
001160  f8960023          LDRB     r0,[r6,#0x23]  ; vz2_stat
001164  280c              CMP      r0,#0xc
001166  d124              BNE      |L1.4530|
;;;1075   	{
;;;1076   	if((vz2_stat_old!=vz2_stat)||(vz2_stat_cnt==0))
001168  f8960024          LDRB     r0,[r6,#0x24]  ; vz2_stat_old
00116c  280c              CMP      r0,#0xc
00116e  d102              BNE      |L1.4470|
001170  f8b60072          LDRH     r0,[r6,#0x72]  ; vz2_stat_cnt
001174  b908              CBNZ     r0,|L1.4474|
                  |L1.4470|
;;;1077   		{
;;;1078   		vz2_stat_cnt=10;
001176  f8a64072          STRH     r4,[r6,#0x72]
                  |L1.4474|
;;;1079   		}
;;;1080   	vz2_stat_cnt--;
00117a  f8b60072          LDRH     r0,[r6,#0x72]  ; vz2_stat_cnt
00117e  f1a00001          SUB      r0,r0,#1
001182  b200              SXTH     r0,r0
001184  f8a60072          STRH     r0,[r6,#0x72]
;;;1081   	if((vz2_stat_cnt==10)||(vz2_stat_cnt==9))
001188  280a              CMP      r0,#0xa
00118a  d001              BEQ      |L1.4496|
00118c  2809              CMP      r0,#9
00118e  d10a              BNE      |L1.4518|
                  |L1.4496|
;;;1082   		{
;;;1083   		show_mess(	" ‘Œ–ÃŒ¬Œ◊Õ€… «¿–ﬂƒ  ",
001190  f2af434c          ADR      r3,|L1.3400|
001194  f2af4238          ADR      r2,|L1.3424|
001198  f2af4124          ADR      r1,|L1.3448|
00119c  a05e              ADR      r0,|L1.4888|
00119e  f8cd8000          STR      r8,[sp,#0]
0011a2  f7fffffe          BL       show_mess
                  |L1.4518|
;;;1084   					"   Õ≈ ÃŒ∆≈“ ¡€“‹    ",
;;;1085   					"      ¬ Àﬁ◊≈Õ       ",
;;;1086   					"  ¡≈« ¬≈Õ“»Àﬂ÷»»!!  ",
;;;1087   					5000);
;;;1088   		}
;;;1089   	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
0011a6  2314              MOVS     r3,#0x14
0011a8  2200              MOVS     r2,#0
0011aa  2164              MOVS     r1,#0x64
0011ac  20d2              MOVS     r0,#0xd2
0011ae  f7fffffe          BL       mess_send
                  |L1.4530|
;;;1090   	}
;;;1091   if(vz2_stat==vz2sERR2)		//œÓÔ‡Î‡ ‚ÂÌÚËÎˇˆËˇ ÔË ‡·ÓÚÂ ‚ ÔÂ‚ÓÈ Ù‡ÁÂ ‘«
0011b2  f8960023          LDRB     r0,[r6,#0x23]  ; vz2_stat
0011b6  280d              CMP      r0,#0xd
0011b8  d12e              BNE      |L1.4632|
;;;1092   	{
;;;1093   	if((vz2_stat_old!=vz2_stat)||(vz2_stat_cnt==0))
0011ba  f8960024          LDRB     r0,[r6,#0x24]  ; vz2_stat_old
0011be  280d              CMP      r0,#0xd
0011c0  d102              BNE      |L1.4552|
0011c2  f8b60072          LDRH     r0,[r6,#0x72]  ; vz2_stat_cnt
0011c6  b908              CBNZ     r0,|L1.4556|
                  |L1.4552|
;;;1094   		{
;;;1095   		vz2_stat_cnt=10;
0011c8  f8a64072          STRH     r4,[r6,#0x72]
                  |L1.4556|
;;;1096   		}
;;;1097   	vz2_stat_cnt--;
0011cc  f8b60072          LDRH     r0,[r6,#0x72]  ; vz2_stat_cnt
0011d0  f1a00001          SUB      r0,r0,#1
0011d4  b200              SXTH     r0,r0
0011d6  f8a60072          STRH     r0,[r6,#0x72]
;;;1098   	if((vz2_stat_cnt==10)||(vz2_stat_cnt==9))
0011da  280a              CMP      r0,#0xa
0011dc  d001              BEQ      |L1.4578|
0011de  2809              CMP      r0,#9
0011e0  d10a              BNE      |L1.4600|
                  |L1.4578|
;;;1099   		{
;;;1100   		show_mess(	" ‘Œ–ÃŒ¬Œ◊Õ€… «¿–ﬂƒ  ",
0011e2  f6af139c          ADR      r3,|L1.2120|
0011e6  f6af1288          ADR      r2,|L1.2144|
0011ea  f6af1174          ADR      r1,|L1.2168|
0011ee  a04a              ADR      r0,|L1.4888|
0011f0  f8cd8000          STR      r8,[sp,#0]
0011f4  f7fffffe          BL       show_mess
                  |L1.4600|
;;;1101   					"    «¿¡ÀŒ »–Œ¬¿Õ    ",
;;;1102   					"     Õ≈»—œ–¿¬Õ¿     ",
;;;1103   					"    ¬≈Õ“»Àﬂ÷»ﬂ!!!   ",
;;;1104   					5000);
;;;1105   		}
;;;1106   	if(sk_stat[0]==1)
0011f8  7828              LDRB     r0,[r5,#0]  ; sk_stat
0011fa  2801              CMP      r0,#1
0011fc  d106              BNE      |L1.4620|
;;;1107   		{
;;;1108   		vz2_stat=vz2sWRK1;
0011fe  f8864023          STRB     r4,[r6,#0x23]
;;;1109   		lc640_write(EE_VZ2_STAT,vz2sWRK1);
001202  210a              MOVS     r1,#0xa
001204  f44f70ca          MOV      r0,#0x194
001208  f7fffffe          BL       lc640_write
                  |L1.4620|
;;;1110   		}
;;;1111   	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
00120c  2314              MOVS     r3,#0x14
00120e  2200              MOVS     r2,#0
001210  2164              MOVS     r1,#0x64
001212  20d2              MOVS     r0,#0xd2
001214  f7fffffe          BL       mess_send
                  |L1.4632|
;;;1112   	}
;;;1113   
;;;1114   if(vz2_stat==vz2sERR3)		//ŒÚÍÎ˛˜ÂÌ ÚÛÏ·ÎÂ "¬˚‡‚ÌË‚‡˛˘ËÈ Á‡ˇ‰" ÔË ‡·ÓÚÂ ‚ ÔÂ‚ÓÈ Ù‡ÁÂ ‘«
001218  f8960023          LDRB     r0,[r6,#0x23]  ; vz2_stat
00121c  280e              CMP      r0,#0xe
00121e  d12d              BNE      |L1.4732|
;;;1115   	{
;;;1116   	if((vz2_stat_old!=vz2_stat)||(vz2_stat_cnt==0))
001220  f8960024          LDRB     r0,[r6,#0x24]  ; vz2_stat_old
001224  280e              CMP      r0,#0xe
001226  d102              BNE      |L1.4654|
001228  f8b60072          LDRH     r0,[r6,#0x72]  ; vz2_stat_cnt
00122c  b908              CBNZ     r0,|L1.4658|
                  |L1.4654|
;;;1117   		{
;;;1118   		vz2_stat_cnt=10;
00122e  f8a64072          STRH     r4,[r6,#0x72]
                  |L1.4658|
;;;1119   		}
;;;1120   	vz2_stat_cnt--;
001232  f8b60072          LDRH     r0,[r6,#0x72]  ; vz2_stat_cnt
001236  f1a00001          SUB      r0,r0,#1
00123a  b200              SXTH     r0,r0
00123c  f8a60072          STRH     r0,[r6,#0x72]
;;;1121   	if((vz2_stat_cnt==10)||(vz2_stat_cnt==9))
001240  280a              CMP      r0,#0xa
001242  d001              BEQ      |L1.4680|
001244  2809              CMP      r0,#9
001246  d109              BNE      |L1.4700|
                  |L1.4680|
;;;1122   		{
;;;1123   		show_mess(	" ‘Œ–ÃŒ¬Œ◊Õ€… «¿–ﬂƒ  ",
001248  a339              ADR      r3,|L1.4912|
00124a  f2af428c          ADR      r2,|L1.3520|
00124e  f2af4178          ADR      r1,|L1.3544|
001252  a031              ADR      r0,|L1.4888|
001254  f8cd8000          STR      r8,[sp,#0]
001258  f7fffffe          BL       show_mess
                  |L1.4700|
;;;1124   					"  ¡”ƒ≈“ œ–ŒƒŒÀ∆≈Õ   ",
;;;1125   					"  œŒ—À≈ ¬ Àﬁ◊≈Õ»ﬂ   ",
;;;1126   					"    “”Ã¡À≈–¿!!!     ",
;;;1127   					5000);
;;;1128   		}
;;;1129   	if(sk_stat[1]==1)
00125c  7868              LDRB     r0,[r5,#1]  ; sk_stat
00125e  2801              CMP      r0,#1
001260  d106              BNE      |L1.4720|
;;;1130   		{
;;;1131   		vz2_stat=vz2sWRK1;
001262  f8864023          STRB     r4,[r6,#0x23]
;;;1132   		lc640_write(EE_VZ2_STAT,vz2sWRK1);
001266  210a              MOVS     r1,#0xa
001268  f44f70ca          MOV      r0,#0x194
00126c  f7fffffe          BL       lc640_write
                  |L1.4720|
;;;1133   		}
;;;1134   	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
001270  2314              MOVS     r3,#0x14
001272  2200              MOVS     r2,#0
001274  2164              MOVS     r1,#0x64
001276  20d2              MOVS     r0,#0xd2
001278  f7fffffe          BL       mess_send
                  |L1.4732|
;;;1135   	}
;;;1136   if(vz2_stat==vz2sERR5)		//œÓÔ‡Î‡ ‚ÂÌÚËÎˇˆËˇ ÔË ‡·ÓÚÂ
00127c  f8960023          LDRB     r0,[r6,#0x23]  ; vz2_stat
001280  2810              CMP      r0,#0x10
001282  d12e              BNE      |L1.4834|
;;;1137   	{
;;;1138   	if((vz2_stat_old!=vz2_stat)||(vz2_stat_cnt==0))
001284  f8960024          LDRB     r0,[r6,#0x24]  ; vz2_stat_old
001288  2810              CMP      r0,#0x10
00128a  d102              BNE      |L1.4754|
00128c  f8b60072          LDRH     r0,[r6,#0x72]  ; vz2_stat_cnt
001290  b908              CBNZ     r0,|L1.4758|
                  |L1.4754|
;;;1139   		{
;;;1140   		vz2_stat_cnt=10;
001292  f8a64072          STRH     r4,[r6,#0x72]
                  |L1.4758|
;;;1141   		}
;;;1142   	vz2_stat_cnt--;
001296  f8b60072          LDRH     r0,[r6,#0x72]  ; vz2_stat_cnt
00129a  f1a00001          SUB      r0,r0,#1
00129e  b200              SXTH     r0,r0
0012a0  f8a60072          STRH     r0,[r6,#0x72]
;;;1143   	if((vz2_stat_cnt==10)||(vz2_stat_cnt==9))
0012a4  280a              CMP      r0,#0xa
0012a6  d001              BEQ      |L1.4780|
0012a8  2809              CMP      r0,#9
0012aa  d10a              BNE      |L1.4802|
                  |L1.4780|
;;;1144   		{
;;;1145   		show_mess(	" ‘Œ–ÃŒ¬Œ◊Õ€… «¿–ﬂƒ  ",
0012ac  f6af2368          ADR      r3,|L1.2120|
0012b0  f6af2254          ADR      r2,|L1.2144|
0012b4  f6af2140          ADR      r1,|L1.2168|
0012b8  a017              ADR      r0,|L1.4888|
0012ba  f8cd8000          STR      r8,[sp,#0]
0012be  f7fffffe          BL       show_mess
                  |L1.4802|
;;;1146   					"    «¿¡ÀŒ »–Œ¬¿Õ    ",
;;;1147   					"     Õ≈»—œ–¿¬Õ¿     ",
;;;1148   					"    ¬≈Õ“»Àﬂ÷»ﬂ!!!   ",
;;;1149   					5000);
;;;1150   		}
;;;1151   	if(sk_stat[0]==1)
0012c2  7828              LDRB     r0,[r5,#0]  ; sk_stat
0012c4  2801              CMP      r0,#1
0012c6  d106              BNE      |L1.4822|
;;;1152   		{
;;;1153   		vz2_stat=vz2sWRK2;
0012c8  f886a023          STRB     r10,[r6,#0x23]
;;;1154   		lc640_write(EE_VZ2_STAT,vz2sWRK2);
0012cc  210b              MOVS     r1,#0xb
0012ce  f44f70ca          MOV      r0,#0x194
0012d2  f7fffffe          BL       lc640_write
                  |L1.4822|
;;;1155   		}
;;;1156   	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
0012d6  2314              MOVS     r3,#0x14
0012d8  2200              MOVS     r2,#0
0012da  2164              MOVS     r1,#0x64
0012dc  20d2              MOVS     r0,#0xd2
0012de  f7fffffe          BL       mess_send
                  |L1.4834|
;;;1157   	}
;;;1158   
;;;1159   if(vz2_stat==vz2sERR6)		//ŒÚÍÎ˛˜ÂÌ ÚÛÏ·ÎÂ "¬˚‡‚ÌË‚‡˛˘ËÈ Á‡ˇ‰"
0012e2  f8960023          LDRB     r0,[r6,#0x23]  ; vz2_stat
0012e6  2811              CMP      r0,#0x11
0012e8  d157              BNE      |L1.5018|
;;;1160   	{
;;;1161   	if((vz2_stat_old!=vz2_stat)||(vz2_stat_cnt==0))
0012ea  f8960024          LDRB     r0,[r6,#0x24]  ; vz2_stat_old
0012ee  2811              CMP      r0,#0x11
0012f0  d102              BNE      |L1.4856|
0012f2  f8b60072          LDRH     r0,[r6,#0x72]  ; vz2_stat_cnt
0012f6  b900              CBNZ     r0,|L1.4858|
                  |L1.4856|
;;;1162   		{
;;;1163   		vz2_stat_cnt=10;
0012f8  e026              B        |L1.4936|
                  |L1.4858|
0012fa  e027              B        |L1.4940|
                  |L1.4860|
                          DCD      ||area_number.23||+0x80
                  |L1.4864|
                          DCD      FZ_T1
                  |L1.4868|
                          DCD      out_U
                  |L1.4872|
                          DCD      FZ_U1
                  |L1.4876|
                          DCD      Ib_ips_termokompensat
                  |L1.4880|
                          DCD      FZ_ISW12
                  |L1.4884|
                          DCD      FZ_T2
                  |L1.4888|
001318  20d4ced0          DCB      " ",212,206,208,204,206,194,206,215,205,219,201," ",199,192
00131c  cccec2ce
001320  d7cddbc9
001324  20c7c0  
001327  d0dfc420          DCB      208,223,196,"  ",0
00132b  2000    
00132d  00                DCB      0
00132e  00                DCB      0
00132f  00                DCB      0
                  |L1.4912|
001330  20202020          DCB      "    ",210,211,204,193,203,197,208,192,"!!!     ",0
001334  d2d3ccc1
001338  cbc5d0c0
00133c  21212120
001340  20202020
001344  00      
001345  00                DCB      0
001346  00                DCB      0
001347  00                DCB      0
                  |L1.4936|
001348  f8a64072          STRH     r4,[r6,#0x72]
                  |L1.4940|
;;;1164   		}
;;;1165   	vz2_stat_cnt--;
00134c  f8b60072          LDRH     r0,[r6,#0x72]  ; vz2_stat_cnt
001350  f1a00001          SUB      r0,r0,#1
001354  b200              SXTH     r0,r0
001356  f8a60072          STRH     r0,[r6,#0x72]
;;;1166   	if((vz2_stat_cnt==10)||(vz2_stat_cnt==9))
00135a  280a              CMP      r0,#0xa
00135c  d001              BEQ      |L1.4962|
00135e  2809              CMP      r0,#9
001360  d10b              BNE      |L1.4986|
                  |L1.4962|
;;;1167   		{
;;;1168   		show_mess(	" ‘Œ–ÃŒ¬Œ◊Õ€… «¿–ﬂƒ  ",
001362  f2af0334          ADR      r3,|L1.4912|
001366  f2af52a8          ADR      r2,|L1.3520|
00136a  f2af5194          ADR      r1,|L1.3544|
00136e  f2af0058          ADR      r0,|L1.4888|
001372  f8cd8000          STR      r8,[sp,#0]
001376  f7fffffe          BL       show_mess
                  |L1.4986|
;;;1169   					"  ¡”ƒ≈“ œ–ŒƒŒÀ∆≈Õ   ",
;;;1170   					"  œŒ—À≈ ¬ Àﬁ◊≈Õ»ﬂ   ",
;;;1171   					"    “”Ã¡À≈–¿!!!     ",
;;;1172   					5000);
;;;1173   		}
;;;1174   	if(sk_stat[1]==1)
00137a  7868              LDRB     r0,[r5,#1]  ; sk_stat
00137c  2801              CMP      r0,#1
00137e  d106              BNE      |L1.5006|
;;;1175   		{
;;;1176   		vz2_stat=vz2sWRK2;
001380  f886a023          STRB     r10,[r6,#0x23]
;;;1177   		lc640_write(EE_VZ2_STAT,vz2sWRK2);
001384  210b              MOVS     r1,#0xb
001386  f44f70ca          MOV      r0,#0x194
00138a  f7fffffe          BL       lc640_write
                  |L1.5006|
;;;1178   		}
;;;1179   	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
00138e  2314              MOVS     r3,#0x14
001390  2200              MOVS     r2,#0
001392  2164              MOVS     r1,#0x64
001394  20d2              MOVS     r0,#0xd2
001396  f7fffffe          BL       mess_send
                  |L1.5018|
;;;1180   	}
;;;1181   if(vz2_stat==vz2sERR4)		//¬« Á‡ÍÓÌ˜ËÎÒˇ ‡ ÚÛÏ·ÎÂ ‚ÍÎ˛˜ÂÌ
00139a  f8960023          LDRB     r0,[r6,#0x23]  ; vz2_stat
00139e  280f              CMP      r0,#0xf
0013a0  d130              BNE      |L1.5124|
;;;1182   	{
;;;1183   	if((vz2_stat_old!=vz2_stat)||(vz2_stat_cnt==0))
0013a2  f8960024          LDRB     r0,[r6,#0x24]  ; vz2_stat_old
0013a6  280f              CMP      r0,#0xf
0013a8  d102              BNE      |L1.5040|
0013aa  f8b60072          LDRH     r0,[r6,#0x72]  ; vz2_stat_cnt
0013ae  b908              CBNZ     r0,|L1.5044|
                  |L1.5040|
;;;1184   		{
;;;1185   		vz2_stat_cnt=10;
0013b0  f8a64072          STRH     r4,[r6,#0x72]
                  |L1.5044|
;;;1186   		}
;;;1187   	vz2_stat_cnt--;
0013b4  f8b60072          LDRH     r0,[r6,#0x72]  ; vz2_stat_cnt
0013b8  f1a00001          SUB      r0,r0,#1
0013bc  b200              SXTH     r0,r0
0013be  f8a60072          STRH     r0,[r6,#0x72]
;;;1188   	if((vz2_stat_cnt==10)||(vz2_stat_cnt==9))
0013c2  280a              CMP      r0,#0xa
0013c4  d001              BEQ      |L1.5066|
0013c6  2809              CMP      r0,#9
0013c8  d10b              BNE      |L1.5090|
                  |L1.5066|
;;;1189   		{
;;;1190   		show_mess(	"     ¬€ Àﬁ◊»“≈      ",
0013ca  f6af331c          ADR      r3,|L1.2224|
0013ce  f6af3208          ADR      r2,|L1.2248|
0013d2  f6af21f4          ADR      r1,|L1.2272|
0013d6  f2af5070          ADR      r0,|L1.3688|
0013da  f8cd8000          STR      r8,[sp,#0]
0013de  f7fffffe          BL       show_mess
                  |L1.5090|
;;;1191   					"      “”Ã¡À≈–       ",
;;;1192   					"     ¬€—Œ Œ√Œ       ",
;;;1193   					"    Õ¿œ–ﬂ∆≈Õ»ﬂ      ",
;;;1194   					5000);
;;;1195   		}
;;;1196   	if(sk_stat[1]==0)
0013e2  7868              LDRB     r0,[r5,#1]  ; sk_stat
0013e4  b940              CBNZ     r0,|L1.5112|
;;;1197   		{
;;;1198   		vz2_stat=vz2sOFF;
0013e6  f8867023          STRB     r7,[r6,#0x23]
;;;1199   		lc640_write(EE_VZ2_STAT,vz2sOFF);
0013ea  2100              MOVS     r1,#0
0013ec  f44f70ca          MOV      r0,#0x194
0013f0  f7fffffe          BL       lc640_write
;;;1200   		vz_stop();
0013f4  f7fffffe          BL       vz_stop
                  |L1.5112|
;;;1201   
;;;1202   		}
;;;1203   	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
0013f8  2314              MOVS     r3,#0x14
0013fa  2200              MOVS     r2,#0
0013fc  2164              MOVS     r1,#0x64
0013fe  20d2              MOVS     r0,#0xd2
001400  f7fffffe          BL       mess_send
                  |L1.5124|
;;;1204   	}
;;;1205   if(vz2_stat==vz2sFINE)		//‘« Á‡ÍÓÌ˜ËÎÒˇ, Ì‡ÔÓÏËÌ‡ÌËÂ
001404  f8960023          LDRB     r0,[r6,#0x23]  ; vz2_stat
;;;1206   	{
;;;1207   	if((vz2_stat_old!=vz2_stat)||(vz2_stat_cnt==0))
;;;1208   		{
;;;1209   		vz2_stat_cnt=10;
;;;1210   		}
;;;1211   	vz2_stat_cnt--;
;;;1212   	if((vz2_stat_cnt==10)||(vz2_stat_cnt==9))
;;;1213   		{
;;;1214   		show_mess(	"    ‘Œ–ÃŒ¬Œ◊Õ€…     ",
001408  f64038b8          MOV      r8,#0xbb8
00140c  2812              CMP      r0,#0x12              ;1205
00140e  d13f              BNE      |L1.5264|
001410  f8960024          LDRB     r0,[r6,#0x24]         ;1207  ; vz2_stat_old
001414  2812              CMP      r0,#0x12              ;1207
001416  d102              BNE      |L1.5150|
001418  f8b60072          LDRH     r0,[r6,#0x72]         ;1207  ; vz2_stat_cnt
00141c  b908              CBNZ     r0,|L1.5154|
                  |L1.5150|
00141e  f8a64072          STRH     r4,[r6,#0x72]         ;1209
                  |L1.5154|
001422  f8b60072          LDRH     r0,[r6,#0x72]         ;1211  ; vz2_stat_cnt
001426  f1a00001          SUB      r0,r0,#1              ;1211
00142a  b200              SXTH     r0,r0                 ;1211
00142c  f8a60072          STRH     r0,[r6,#0x72]         ;1211
001430  280a              CMP      r0,#0xa               ;1212
001432  d001              BEQ      |L1.5176|
001434  2809              CMP      r0,#9                 ;1212
001436  d10a              BNE      |L1.5198|
                  |L1.5176|
001438  f2af6334          ADR      r3,|L1.3592|
00143c  f2af6220          ADR      r2,|L1.3616|
001440  f2af610c          ADR      r1,|L1.3640|
001444  a0ff              ADR      r0,|L1.6212|
001446  f8cd8000          STR      r8,[sp,#0]
00144a  f7fffffe          BL       show_mess
                  |L1.5198|
;;;1215   					"       «¿–ﬂƒ        ",
;;;1216   					"      ”—œ≈ÿÕŒ       ",
;;;1217   					"     «¿¬≈–ÿ≈Õ       ",
;;;1218   					3000);
;;;1219   		}
;;;1220   	if((vz2_stat_cnt==6)||(vz2_stat_cnt==5))
00144e  f9b60072          LDRSH    r0,[r6,#0x72]  ; vz2_stat_cnt
001452  2806              CMP      r0,#6
001454  d001              BEQ      |L1.5210|
001456  2805              CMP      r0,#5
001458  d10b              BNE      |L1.5234|
                  |L1.5210|
;;;1221   		{
;;;1222   		show_mess(	"     ¬€ Àﬁ◊»“≈      ",
00145a  f6af33ac          ADR      r3,|L1.2224|
00145e  f6af3298          ADR      r2,|L1.2248|
001462  f6af3184          ADR      r1,|L1.2272|
001466  f2af6000          ADR      r0,|L1.3688|
00146a  f8cd8000          STR      r8,[sp,#0]
00146e  f7fffffe          BL       show_mess
                  |L1.5234|
;;;1223   					"      “”Ã¡À≈–       ",
;;;1224   					"     ¬€—Œ Œ√Œ       ",
;;;1225   					"    Õ¿œ–ﬂ∆≈Õ»ﬂ      ",
;;;1226   					3000);
;;;1227   		}
;;;1228   	if(sk_stat[1]==0)
001472  7868              LDRB     r0,[r5,#1]  ; sk_stat
001474  b930              CBNZ     r0,|L1.5252|
;;;1229   		{
;;;1230   		vz2_stat=vz2sOFF;
001476  f8867023          STRB     r7,[r6,#0x23]
;;;1231   		lc640_write(EE_VZ2_STAT,vz2sOFF);
00147a  2100              MOVS     r1,#0
00147c  f44f70ca          MOV      r0,#0x194
001480  f7fffffe          BL       lc640_write
                  |L1.5252|
;;;1232   		}
;;;1233   	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
001484  2314              MOVS     r3,#0x14
001486  2200              MOVS     r2,#0
001488  2164              MOVS     r1,#0x64
00148a  20d2              MOVS     r0,#0xd2
00148c  f7fffffe          BL       mess_send
                  |L1.5264|
;;;1234   	}
;;;1235   if(vz2_stat==vz2sSTOP)		//‘« ÔÂÍ‡˘ÂÌ, Ì‡ÔÓÏËÌ‡ÌËÂ
001490  f8960023          LDRB     r0,[r6,#0x23]  ; vz2_stat
001494  2813              CMP      r0,#0x13
001496  d13f              BNE      |L1.5400|
;;;1236   	{
;;;1237   	if((vz2_stat_old!=vz2_stat)||(vz2_stat_cnt==0))
001498  f8960024          LDRB     r0,[r6,#0x24]  ; vz2_stat_old
00149c  2813              CMP      r0,#0x13
00149e  d102              BNE      |L1.5286|
0014a0  f8b60072          LDRH     r0,[r6,#0x72]  ; vz2_stat_cnt
0014a4  b908              CBNZ     r0,|L1.5290|
                  |L1.5286|
;;;1238   		{
;;;1239   		vz2_stat_cnt=10;
0014a6  f8a64072          STRH     r4,[r6,#0x72]
                  |L1.5290|
;;;1240   		}
;;;1241   	vz2_stat_cnt--;
0014aa  f8b60072          LDRH     r0,[r6,#0x72]  ; vz2_stat_cnt
0014ae  f1a00001          SUB      r0,r0,#1
0014b2  b200              SXTH     r0,r0
0014b4  f8a60072          STRH     r0,[r6,#0x72]
;;;1242   	if((vz2_stat_cnt==10)||(vz2_stat_cnt==9))
0014b8  280a              CMP      r0,#0xa
0014ba  d001              BEQ      |L1.5312|
0014bc  2809              CMP      r0,#9
0014be  d10a              BNE      |L1.5334|
                  |L1.5312|
;;;1243   		{
;;;1244   		show_mess(	"    ‘Œ–ÃŒ¬Œ◊Õ€…     ",
0014c0  f2af6344          ADR      r3,|L1.3712|
0014c4  f2af6230          ADR      r2,|L1.3736|
0014c8  f2af6194          ADR      r1,|L1.3640|
0014cc  a0dd              ADR      r0,|L1.6212|
0014ce  f8cd8000          STR      r8,[sp,#0]
0014d2  f7fffffe          BL       show_mess
                  |L1.5334|
;;;1245   					"       «¿–ﬂƒ        ",
;;;1246   					"     œ–≈ –¿Ÿ≈Õ      ",
;;;1247   					"                    ",
;;;1248   					3000);
;;;1249   		}
;;;1250   	if((vz2_stat_cnt==6)||(vz2_stat_cnt==5))
0014d6  f9b60072          LDRSH    r0,[r6,#0x72]  ; vz2_stat_cnt
0014da  2806              CMP      r0,#6
0014dc  d001              BEQ      |L1.5346|
0014de  2805              CMP      r0,#5
0014e0  d10b              BNE      |L1.5370|
                  |L1.5346|
;;;1251   		{
;;;1252   		show_mess(	"     ¬€ Àﬁ◊»“≈      ",
0014e2  f6af4334          ADR      r3,|L1.2224|
0014e6  f6af4220          ADR      r2,|L1.2248|
0014ea  f6af410c          ADR      r1,|L1.2272|
0014ee  f2af6088          ADR      r0,|L1.3688|
0014f2  f8cd8000          STR      r8,[sp,#0]
0014f6  f7fffffe          BL       show_mess
                  |L1.5370|
;;;1253   					"      “”Ã¡À≈–       ",
;;;1254   					"     ¬€—Œ Œ√Œ       ",
;;;1255   					"    Õ¿œ–ﬂ∆≈Õ»ﬂ      ",
;;;1256   					3000);
;;;1257   		}
;;;1258   	if(sk_stat[1]==0)
0014fa  7868              LDRB     r0,[r5,#1]  ; sk_stat
0014fc  b930              CBNZ     r0,|L1.5388|
;;;1259   		{
;;;1260   		vz2_stat=vz2sOFF;
0014fe  f8867023          STRB     r7,[r6,#0x23]
;;;1261   		lc640_write(EE_VZ2_STAT,vz2sOFF);
001502  2100              MOVS     r1,#0
001504  f44f70ca          MOV      r0,#0x194
001508  f7fffffe          BL       lc640_write
                  |L1.5388|
;;;1262   		}
;;;1263   	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,0,20);
00150c  2314              MOVS     r3,#0x14
00150e  2200              MOVS     r2,#0
001510  2164              MOVS     r1,#0x64
001512  20d2              MOVS     r0,#0xd2
001514  f7fffffe          BL       mess_send
                  |L1.5400|
;;;1264   	}
;;;1265   vz2_stat_old=vz2_stat;
001518  f8160f23          LDRB     r0,[r6,#0x23]!  ; vz2_stat
00151c  7070              STRB     r0,[r6,#1]
;;;1266   
;;;1267   }
00151e  e8bd8ff8          POP      {r3-r11,pc}
;;;1268   
                          ENDP

                  vz2_start PROC
;;;1270   //ÒÚ‡Ú Û‡‚ÌËÚÂÎ¸ÌÓ„ Á‡ˇ‰‡
;;;1271   char vz2_start(char hour)
001522  b510              PUSH     {r4,lr}
;;;1272   {          
;;;1273   char out;
;;;1274   out=0;
001524  f04f0000          MOV      r0,#0
;;;1275   if((spc_stat==spcOFF)&&(speedChrgBlckStat!=1)&&(vz1_stat==vz1sOFF))
001528  49cc              LDR      r1,|L1.6236|
00152a  7d0a              LDRB     r2,[r1,#0x14]  ; spc_stat
00152c  2a00              CMP      r2,#0
00152e  d112              BNE      |L1.5462|
001530  4acb              LDR      r2,|L1.6240|
001532  8812              LDRH     r2,[r2,#0]  ; speedChrgBlckStat
001534  2a01              CMP      r2,#1
001536  d00e              BEQ      |L1.5462|
001538  f8912020          LDRB     r2,[r1,#0x20]  ; vz1_stat
00153c  2a00              CMP      r2,#0
00153e  d10a              BNE      |L1.5462|
;;;1276   	{
;;;1277   	if(vz1_stat==vz1sOFF)
;;;1278   		{
;;;1279   		vz2_stat=vz2sSTEP1;
001540  f04f0001          MOV      r0,#1
001544  f8810023          STRB     r0,[r1,#0x23]
;;;1280   		lc640_write(EE_VZ2_STAT,vz2sSTEP1);
001548  4601              MOV      r1,r0
00154a  f44f70ca          MOV      r0,#0x194
00154e  f7fffffe          BL       lc640_write
;;;1281   		out=1;
001552  f04f0001          MOV      r0,#1
                  |L1.5462|
;;;1282   		
;;;1283   		}
;;;1284   /*	spc_stat=spcVZ;
;;;1285   	__ee_spc_stat=spcVZ; 
;;;1286   	lc640_write_int(EE_SPC_STAT,__ee_spc_stat);   
;;;1287   	vz_cnt_h=hour;
;;;1288   	__ee_vz_cnt=hour*60;
;;;1289   	if(hour==0)__ee_vz_cnt=30;
;;;1290   	lc640_write_int(EE_VZ_CNT,__ee_vz_cnt);
;;;1291   	lc640_write_int(EE_SPC_VZ_LENGT,__ee_vz_cnt);	
;;;1292   	vz_cnt_h_=0;
;;;1293   	vz_cnt_s=0;
;;;1294   	vz_cnt_s_=0;
;;;1295   	
;;;1296   		*/
;;;1297   	}
;;;1298   //else if((spc_stat==spc_KE1p1)||(spc_stat==spc_KE1p2)) out=22; 
;;;1299   //else if((spc_stat==spc_KE2p1)||(spc_stat==spc_KE2p2)) out=33;
;;;1300   //plazma=out;	
;;;1301   return out;
;;;1302   }
001556  bd10              POP      {r4,pc}
;;;1303   //-----------------------------------------------
                          ENDP

                  vz2_stop PROC
;;;1304   //ÒÚÓÔ ÙÓÏÓ‚Ó˜ÌÓ„Ó Á‡ˇ‰‡
;;;1305   void vz2_stop(void)
001558  48c0              LDR      r0,|L1.6236|
;;;1306   {
;;;1307   if(vz2_stat!=vz2sOFF)
00155a  f8901023          LDRB     r1,[r0,#0x23]  ; vz2_stat
00155e  2900              CMP      r1,#0
001560  d007              BEQ      |L1.5490|
;;;1308   	{
;;;1309   	vz2_stat=vz2sSTOP;
001562  f04f0113          MOV      r1,#0x13
001566  f8801023          STRB     r1,[r0,#0x23]
;;;1310   	lc640_write(EE_VZ2_STAT,vz2sSTOP);
00156a  f44f70ca          MOV      r0,#0x194
00156e  f7ffbffe          B.W      lc640_write
                  |L1.5490|
;;;1311   	}
;;;1312   }
001572  4770              BX       lr
;;;1313   
                          ENDP

                  kb_init PROC
;;;1314   //-----------------------------------------------
;;;1315   void kb_init(void)
001574  48bb              LDR      r0,|L1.6244|
;;;1316   {
;;;1317   main_kb_cnt=(TBAT*60)-60/*120*/;
001576  f06f013b          MVN      r1,#0x3b
00157a  8800              LDRH     r0,[r0,#0]  ; TBAT
00157c  ebc01000          RSB      r0,r0,r0,LSL #4
001580  eb010080          ADD      r0,r1,r0,LSL #2
001584  49b5              LDR      r1,|L1.6236|
001586  f8a10046          STRH     r0,[r1,#0x46]
;;;1318   }
00158a  4770              BX       lr
;;;1319   
                          ENDP

                  kb_hndl PROC
;;;1320   //-----------------------------------------------
;;;1321   void kb_hndl(void)
00158c  e92d5ff0          PUSH     {r4-r12,lr}
;;;1322   {
;;;1323   
;;;1324   static signed short ibat[2],ibat_[2];
;;;1325   #ifdef UKU_TELECORE2015
;;;1326   if(((++main_kb_cnt>=TBAT*60)&&(TBAT))&&(BAT_TYPE==0))
;;;1327   #else 
;;;1328   if(((++main_kb_cnt>=TBAT*60)&&(TBAT)))
001590  f8df82c8          LDR      r8,|L1.6236|
;;;1329   #endif
;;;1330   	{
;;;1331   	main_kb_cnt=0;
;;;1332   	
;;;1333   	kb_start[0]=0;
;;;1334   	kb_start[1]=0;
;;;1335   	kb_start_ips=0;
;;;1336   
;;;1337   	if( (BAT_IS_ON[0]==bisON) && (bat[0]._Ub>80) && ( (abs(bat[0]._Ib)<IKB) || (bat[0]._av&1) ) ) kb_start[0]=1;
;;;1338   	if( (BAT_IS_ON[1]==bisON) && (bat[1]._Ub>80) && ( (abs(bat[1]._Ib)<IKB) || (bat[1]._av&1) ) ) kb_start[1]=1;
;;;1339   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;1340   	if( (!ips_bat_av_vzvod)                      && ((abs(Ib_ips_termokompensat)<IKB) || (bat_ips._av&1) ) ) kb_start_ips=1;
001594  f8dfa2d0          LDR      r10,|L1.6248|
001598  2500              MOVS     r5,#0                 ;1328
00159a  f8b80046          LDRH     r0,[r8,#0x46]         ;1328  ; main_kb_cnt
00159e  4eb3              LDR      r6,|L1.6252|
0015a0  1c40              ADDS     r0,r0,#1              ;1328
0015a2  b201              SXTH     r1,r0                 ;1328
0015a4  48af              LDR      r0,|L1.6244|
0015a6  f8a81046          STRH     r1,[r8,#0x46]         ;1328
0015aa  f8df92c4          LDR      r9,|L1.6256|
0015ae  f9b00000          LDRSH    r0,[r0,#0]            ;1328  ; TBAT
;;;1341   #endif	
;;;1342   	if( (net_av) || (num_of_wrks_bps==0) || ( (spc_stat!=spcOFF) && (spc_stat!=spcVZ) ) 
;;;1343   	  ||(vz1_stat!=vz1sOFF)||(vz2_stat!=vz2sOFF)||(sp_ch_stat!=scsOFF) 	)
;;;1344    
;;;1345   		{
;;;1346   		kb_start[0]=0;
;;;1347   		kb_start[1]=0;
;;;1348   		kb_start_ips=0;
;;;1349   		}
;;;1350   
;;;1351   	if((kb_start[0]==1)||(kb_start[1]==1)||(kb_start_ips==1))
;;;1352   		{
;;;1353   		kb_cnt_1lev=10;
0015b2  270a              MOVS     r7,#0xa
0015b4  ebc01200          RSB      r2,r0,r0,LSL #4       ;1328
0015b8  f04f0b01          MOV      r11,#1                ;1337
0015bc  f108044c          ADD      r4,r8,#0x4c           ;1333
0015c0  ebb10f82          CMP      r1,r2,LSL #2          ;1328
0015c4  db69              BLT      |L1.5786|
0015c6  2800              CMP      r0,#0                 ;1328
0015c8  d067              BEQ      |L1.5786|
0015ca  f8a85046          STRH     r5,[r8,#0x46]         ;1331
0015ce  7025              STRB     r5,[r4,#0]            ;1333
0015d0  7065              STRB     r5,[r4,#1]            ;1334
0015d2  f888500e          STRB     r5,[r8,#0xe]          ;1335
0015d6  48a7              LDR      r0,|L1.6260|
0015d8  7800              LDRB     r0,[r0,#0]            ;1337  ; BAT_IS_ON
0015da  2855              CMP      r0,#0x55              ;1337
0015dc  d111              BNE      |L1.5634|
0015de  f9b60002          LDRSH    r0,[r6,#2]            ;1337  ; bat
0015e2  2850              CMP      r0,#0x50              ;1337
0015e4  dd0d              BLE      |L1.5634|
0015e6  f9b60008          LDRSH    r0,[r6,#8]            ;1337  ; bat
0015ea  f7fffffe          BL       abs
0015ee  f9b91000          LDRSH    r1,[r9,#0]            ;1337  ; IKB
0015f2  4288              CMP      r0,r1                 ;1337
0015f4  db03              BLT      |L1.5630|
0015f6  f896003d          LDRB     r0,[r6,#0x3d]         ;1337  ; bat
0015fa  07c0              LSLS     r0,r0,#31             ;1337
0015fc  d001              BEQ      |L1.5634|
                  |L1.5630|
0015fe  f884b000          STRB     r11,[r4,#0]           ;1337
                  |L1.5634|
001602  489c              LDR      r0,|L1.6260|
001604  7840              LDRB     r0,[r0,#1]            ;1338  ; BAT_IS_ON
001606  2855              CMP      r0,#0x55              ;1338
001608  d111              BNE      |L1.5678|
00160a  f9b6004e          LDRSH    r0,[r6,#0x4e]         ;1338  ; bat
00160e  2850              CMP      r0,#0x50              ;1338
001610  dd0d              BLE      |L1.5678|
001612  f9b60054          LDRSH    r0,[r6,#0x54]         ;1338  ; bat
001616  f7fffffe          BL       abs
00161a  f9b91000          LDRSH    r1,[r9,#0]            ;1338  ; IKB
00161e  4288              CMP      r0,r1                 ;1338
001620  db03              BLT      |L1.5674|
001622  f8960089          LDRB     r0,[r6,#0x89]         ;1338  ; bat
001626  07c0              LSLS     r0,r0,#31             ;1338
001628  d001              BEQ      |L1.5678|
                  |L1.5674|
00162a  f884b001          STRB     r11,[r4,#1]           ;1338
                  |L1.5678|
00162e  4892              LDR      r0,|L1.6264|
001630  7800              LDRB     r0,[r0,#0]            ;1340  ; ips_bat_av_vzvod
001632  b970              CBNZ     r0,|L1.5714|
001634  f9ba0000          LDRSH    r0,[r10,#0]           ;1340  ; Ib_ips_termokompensat
001638  f7fffffe          BL       abs
00163c  f9b91000          LDRSH    r1,[r9,#0]            ;1340  ; IKB
001640  4288              CMP      r0,r1                 ;1340
001642  db04              BLT      |L1.5710|
001644  488d              LDR      r0,|L1.6268|
001646  f890003d          LDRB     r0,[r0,#0x3d]         ;1340  ; bat_ips
00164a  07c0              LSLS     r0,r0,#31             ;1340
00164c  d001              BEQ      |L1.5714|
                  |L1.5710|
00164e  f888b00e          STRB     r11,[r8,#0xe]         ;1340
                  |L1.5714|
001652  488b              LDR      r0,|L1.6272|
001654  7800              LDRB     r0,[r0,#0]            ;1342  ; net_av
001656  b980              CBNZ     r0,|L1.5754|
001658  f898000f          LDRB     r0,[r8,#0xf]          ;1342  ; num_of_wrks_bps
00165c  b168              CBZ      r0,|L1.5754|
00165e  f8980014          LDRB     r0,[r8,#0x14]         ;1342  ; spc_stat
001662  b108              CBZ      r0,|L1.5736|
001664  2802              CMP      r0,#2                 ;1342
001666  d108              BNE      |L1.5754|
                  |L1.5736|
001668  f8980020          LDRB     r0,[r8,#0x20]         ;1343  ; vz1_stat
00166c  b928              CBNZ     r0,|L1.5754|
00166e  f8980023          LDRB     r0,[r8,#0x23]         ;1343  ; vz2_stat
001672  b910              CBNZ     r0,|L1.5754|
001674  4883              LDR      r0,|L1.6276|
001676  7800              LDRB     r0,[r0,#0]            ;1343  ; sp_ch_stat
001678  b118              CBZ      r0,|L1.5762|
                  |L1.5754|
00167a  7025              STRB     r5,[r4,#0]            ;1346
00167c  7065              STRB     r5,[r4,#1]            ;1347
00167e  f888500e          STRB     r5,[r8,#0xe]          ;1348
                  |L1.5762|
001682  7820              LDRB     r0,[r4,#0]            ;1351  ; kb_start
001684  2801              CMP      r0,#1                 ;1351
001686  d020              BEQ      |L1.5834|
001688  7860              LDRB     r0,[r4,#1]            ;1351  ; kb_start
00168a  2801              CMP      r0,#1                 ;1351
00168c  d01d              BEQ      |L1.5834|
00168e  f898000e          LDRB     r0,[r8,#0xe]          ;1351  ; kb_start_ips
001692  2801              CMP      r0,#1                 ;1351
001694  d019              BEQ      |L1.5834|
;;;1354   		}
;;;1355   	else kb_cnt_1lev=0;
001696  f8a85048          STRH     r5,[r8,#0x48]
                  |L1.5786|
;;;1356   	}
;;;1357   
;;;1358   if(kb_cnt_1lev)
00169a  4641              MOV      r1,r8
00169c  f9b80048          LDRSH    r0,[r8,#0x48]  ; kb_cnt_1lev
;;;1359   	{
;;;1360   	kb_cnt_1lev--;
;;;1361   
;;;1362   	if(kb_cnt_1lev>5)mess_send(MESS2CNTRL_HNDL,PARAM_CNTRL_STAT_PLUS,30,15);
;;;1363   	else if(kb_cnt_1lev>0) mess_send(MESS2CNTRL_HNDL,PARAM_CNTRL_STAT_MINUS,30,15);
;;;1364   
;;;1365   
;;;1366   	if(kb_cnt_1lev==5)
;;;1367   		{
;;;1368   		ibat[0]=abs(bat[0]._Ib);
0016a0  f8df81b8          LDR      r8,|L1.6236|
0016a4  2800              CMP      r0,#0                 ;1358
0016a6  f1080878          ADD      r8,r8,#0x78
0016aa  d07e              BEQ      |L1.6058|
0016ac  f1a00001          SUB      r0,r0,#1              ;1360
0016b0  b200              SXTH     r0,r0                 ;1360
0016b2  468b              MOV      r11,r1                ;1360
0016b4  f8a10048          STRH     r0,[r1,#0x48]         ;1360
0016b8  2805              CMP      r0,#5                 ;1362
0016ba  dd09              BLE      |L1.5840|
0016bc  230f              MOVS     r3,#0xf               ;1362
0016be  221e              MOVS     r2,#0x1e              ;1362
0016c0  2164              MOVS     r1,#0x64              ;1362
0016c2  20e1              MOVS     r0,#0xe1              ;1362
0016c4  f7fffffe          BL       mess_send
0016c8  e00a              B        |L1.5856|
                  |L1.5834|
0016ca  f8a87048          STRH     r7,[r8,#0x48]         ;1353
0016ce  e7e4              B        |L1.5786|
                  |L1.5840|
0016d0  2800              CMP      r0,#0                 ;1363
0016d2  dd05              BLE      |L1.5856|
0016d4  230f              MOVS     r3,#0xf               ;1363
0016d6  221e              MOVS     r2,#0x1e              ;1363
0016d8  2169              MOVS     r1,#0x69              ;1363
0016da  20e1              MOVS     r0,#0xe1              ;1363
0016dc  f7fffffe          BL       mess_send
                  |L1.5856|
0016e0  f8bb0048          LDRH     r0,[r11,#0x48]        ;1366  ; kb_cnt_1lev
0016e4  2805              CMP      r0,#5                 ;1366
0016e6  d111              BNE      |L1.5900|
0016e8  f9b60008          LDRSH    r0,[r6,#8]  ; bat
0016ec  f7fffffe          BL       abs
0016f0  f8a80000          STRH     r0,[r8,#0]
;;;1369   		ibat[1]=abs(bat[1]._Ib);
0016f4  f9b60054          LDRSH    r0,[r6,#0x54]  ; bat
0016f8  f7fffffe          BL       abs
0016fc  f8a80002          STRH     r0,[r8,#2]
;;;1370   		ibat_ips=abs(Ib_ips_termokompensat);
001700  f9ba0000          LDRSH    r0,[r10,#0]  ; Ib_ips_termokompensat
001704  f7fffffe          BL       abs
001708  f8ab004e          STRH     r0,[r11,#0x4e]
                  |L1.5900|
;;;1371   		}
;;;1372   	
;;;1373   	if(kb_cnt_1lev==0)
00170c  4853              LDR      r0,|L1.6236|
00170e  f8b00048          LDRH     r0,[r0,#0x48]  ; kb_cnt_1lev
001712  2800              CMP      r0,#0
001714  d158              BNE      |L1.6088|
;;;1374   		{
;;;1375   		ibat_[0]=abs(bat[0]._Ib);
001716  f9b60008          LDRSH    r0,[r6,#8]  ; bat
00171a  f7fffffe          BL       abs
00171e  f8dfb13c          LDR      r11,|L1.6236|
001722  f10b0b7c          ADD      r11,r11,#0x7c
001726  f8ab0000          STRH     r0,[r11,#0]
;;;1376   		ibat_[1]=abs(bat[1]._Ib);
00172a  f9b60054          LDRSH    r0,[r6,#0x54]  ; bat
00172e  f7fffffe          BL       abs
001732  f8ab0002          STRH     r0,[r11,#2]
;;;1377   		ibat_ips_=abs(Ib_ips_termokompensat);
001736  f9ba0000          LDRSH    r0,[r10,#0]  ; Ib_ips_termokompensat
00173a  f7fffffe          BL       abs
00173e  f8dfa11c          LDR      r10,|L1.6236|
001742  f8aa0050          STRH     r0,[r10,#0x50]
;;;1378   
;;;1379   		kb_cnt_2lev=0;
001746  f8aa504a          STRH     r5,[r10,#0x4a]
;;;1380   
;;;1381   
;;;1382   		if(( (ibat[0]+ibat_[0]) < IKB )&& (kb_start[0]==1))
00174a  f9b80000          LDRSH    r0,[r8,#0]  ; ibat
00174e  f9bb1000          LDRSH    r1,[r11,#0]  ; ibat_
001752  4408              ADD      r0,r0,r1
001754  f9b91000          LDRSH    r1,[r9,#0]  ; IKB
001758  4288              CMP      r0,r1
00175a  da02              BGE      |L1.5986|
00175c  7820              LDRB     r0,[r4,#0]  ; kb_start
00175e  2801              CMP      r0,#1
001760  d034              BEQ      |L1.6092|
                  |L1.5986|
;;;1383   			{
;;;1384   			kb_cnt_2lev=10;  
;;;1385   			}
;;;1386   		else if(bat[0]._Ub>200)
001762  f9b60002          LDRSH    r0,[r6,#2]  ; bat
001766  28c8              CMP      r0,#0xc8
001768  dd04              BLE      |L1.6004|
;;;1387   			{
;;;1388   			kb_start[0]=0;
00176a  7025              STRB     r5,[r4,#0]
;;;1389   			avar_bat_hndl(0,0);
00176c  2100              MOVS     r1,#0
00176e  4608              MOV      r0,r1
001770  f7fffffe          BL       avar_bat_hndl
                  |L1.6004|
;;;1390   			}
;;;1391   		
;;;1392   		if(( (ibat[1]+ibat_[1]) < IKB ) && (kb_start[1]==1))
001774  f9b80002          LDRSH    r0,[r8,#2]  ; ibat
001778  f9bb1002          LDRSH    r1,[r11,#2]  ; ibat_
00177c  4408              ADD      r0,r0,r1
00177e  f9b91000          LDRSH    r1,[r9,#0]  ; IKB
001782  4288              CMP      r0,r1
001784  da02              BGE      |L1.6028|
001786  7860              LDRB     r0,[r4,#1]  ; kb_start
001788  2801              CMP      r0,#1
00178a  d022              BEQ      |L1.6098|
                  |L1.6028|
;;;1393   			{
;;;1394   			kb_cnt_2lev=10;     
;;;1395   			}
;;;1396   		else  if(bat[1]._Ub>200)
00178c  f9b6004e          LDRSH    r0,[r6,#0x4e]  ; bat
001790  28c8              CMP      r0,#0xc8
001792  dd04              BLE      |L1.6046|
;;;1397   			{
;;;1398   			kb_start[1]=0;
001794  7065              STRB     r5,[r4,#1]
;;;1399   			avar_bat_hndl(1,0);
001796  2100              MOVS     r1,#0
001798  2001              MOVS     r0,#1
00179a  f7fffffe          BL       avar_bat_hndl
                  |L1.6046|
;;;1400   			}
;;;1401   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;1402   		if(( (ibat_ips+ibat_ips_) < IKB ) && (kb_start_ips==1))
00179e  f9ba004e          LDRSH    r0,[r10,#0x4e]  ; ibat_ips
0017a2  f9ba1050          LDRSH    r1,[r10,#0x50]  ; ibat_ips_
0017a6  4408              ADD      r0,r0,r1
0017a8  e000              B        |L1.6060|
                  |L1.6058|
0017aa  e01b              B        |L1.6116|
                  |L1.6060|
0017ac  f9b91000          LDRSH    r1,[r9,#0]  ; IKB
0017b0  4288              CMP      r0,r1
0017b2  da09              BGE      |L1.6088|
0017b4  f89a000e          LDRB     r0,[r10,#0xe]  ; kb_start_ips
0017b8  2801              CMP      r0,#1
0017ba  d105              BNE      |L1.6088|
;;;1403   			{
;;;1404   			if(KB_ALGORITM==1)
0017bc  4832              LDR      r0,|L1.6280|
0017be  8800              LDRH     r0,[r0,#0]  ; KB_ALGORITM
0017c0  2801              CMP      r0,#1
0017c2  d009              BEQ      |L1.6104|
;;;1405   				{
;;;1406   				avar_bat_ips_hndl(1);
;;;1407   				kb_start_ips=0;
;;;1408   				}
;;;1409   			else
;;;1410   				{
;;;1411   				kb_cnt_2lev=10;     
0017c4  f8aa704a          STRH     r7,[r10,#0x4a]
                  |L1.6088|
;;;1412   				}
;;;1413   			}
;;;1414   #endif
;;;1415   		}	
;;;1416   
;;;1417   
;;;1418   	}
;;;1419   else if(kb_cnt_2lev)
;;;1420   	{
;;;1421   	kb_cnt_2lev--;
;;;1422   
;;;1423   	if(kb_cnt_2lev>5)mess_send(MESS2CNTRL_HNDL,PARAM_CNTRL_STAT_PLUS,200,15);
;;;1424   	else if(kb_cnt_2lev>0) mess_send(MESS2CNTRL_HNDL,PARAM_CNTRL_STAT_MINUS,200,15);
;;;1425   
;;;1426   
;;;1427   	if(kb_cnt_2lev==5)
;;;1428   		{
;;;1429   		ibat[0]=abs(bat[0]._Ib);
;;;1430   		ibat[1]=abs(bat[1]._Ib);
;;;1431   		ibat_ips=abs(Ib_ips_termokompensat);
;;;1432   		}
;;;1433   	
;;;1434   	if(kb_cnt_2lev==0)
;;;1435   		{
;;;1436   		ibat_[0]=abs(bat[0]._Ib);
;;;1437   		ibat_[1]=abs(bat[1]._Ib);
;;;1438   		ibat_ips_=abs(Ib_ips_termokompensat);
;;;1439   
;;;1440   		kb_full_ver=0;
;;;1441   
;;;1442   		if(( (ibat[0]+ibat_[0]) < IKB ) && (kb_start[0]==1))
;;;1443   			{
;;;1444   			kb_full_ver=1;  
;;;1445   			}
;;;1446   		else if(bat[0]._Ub>200)			
;;;1447   			{
;;;1448   			kb_start[0]=0;
;;;1449   			avar_bat_hndl(0,0);
;;;1450   			}
;;;1451   
;;;1452   		if(( (ibat[1]+ibat_[1]) < IKB ) && (kb_start[1]==1))
;;;1453   			{
;;;1454   			kb_full_ver=1;     
;;;1455   			}
;;;1456   		else	if(bat[1]._Ub>200)		
;;;1457   			{
;;;1458   			kb_start[1]=0;
;;;1459   			avar_bat_hndl(1,0);
;;;1460   			}
;;;1461   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;1462   		if(( (ibat_ips+ibat_ips_) < IKB )  && (kb_start_ips==1))
;;;1463   			{
;;;1464   			if(KB_ALGORITM==2)
;;;1465   				{
;;;1466   				avar_bat_ips_hndl(1);
;;;1467   				kb_start_ips=0;
;;;1468   				}
;;;1469   			else
;;;1470   				{
;;;1471   				kb_full_ver=1;     
;;;1472   				}
;;;1473   			}
;;;1474   #endif
;;;1475   		}	
;;;1476   	}
;;;1477   
;;;1478   else if(kb_full_ver)
;;;1479   	{
;;;1480   	
;;;1481   	mess_send(MESS2CNTRL_HNDL,PARAM_CNTRL_STAT_STEP_DOWN,0,15);
;;;1482   
;;;1483   	if( abs(bat[0]._Ib) > IKB ) 
;;;1484   		{
;;;1485   		if(kb_start[0]==1)
;;;1486   			{
;;;1487   			kb_start[0]=0;
;;;1488   			avar_bat_hndl(0,0);
;;;1489   			}
;;;1490   		}
;;;1491   
;;;1492   	if( abs(bat[1]._Ib) > IKB ) 
;;;1493   		{
;;;1494   		if(kb_start[1]==1)
;;;1495   			{
;;;1496   			kb_start[1]=0;
;;;1497   			avar_bat_hndl(1,0);
;;;1498   			}
;;;1499   		}
;;;1500   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;1501   	if( abs(Ib_ips_termokompensat) > IKB ) 
;;;1502   		{
;;;1503   		if(kb_start_ips==1)
;;;1504   			{
;;;1505   			kb_start_ips=0;
;;;1506   			avar_bat_ips_hndl(0);
;;;1507   			}
;;;1508   		}
;;;1509   #endif
;;;1510   
;;;1511   	if ((kb_start[0]==0) && (kb_start[1]==0) && (kb_start_ips==0)) 
;;;1512   		{
;;;1513   		kb_full_ver=0;
;;;1514   		}
;;;1515   
;;;1516   	if(( (mess_find(MESS2KB_HNDL))	&& (mess_data[0]==PARAM_CNTRL_IS_DOWN) ) || (load_U<(USIGN*10)) )
;;;1517   		{
;;;1518   		kb_full_ver=0;
;;;1519   		if((kb_start[0]==1)&&((load_I>(2*IKB)/10))&&(!(bat[0]._av&0x01))) avar_bat_hndl(0,1);
;;;1520   		if((kb_start[1]==1)&&((load_I>(2*IKB)/10))&&(!(bat[1]._av&0x01))) avar_bat_hndl(1,1);
;;;1521   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;1522   		if((kb_start_ips==1)&&((load_I>(2*IKB)/10))&&(!(bat_ips._av&0x01))) avar_bat_ips_hndl(1);
;;;1523   #endif
;;;1524   		}
;;;1525   	}
;;;1526   
;;;1527   }
0017c8  e8bd9ff0          POP      {r4-r12,pc}
                  |L1.6092|
0017cc  f8aa704a          STRH     r7,[r10,#0x4a]        ;1384
0017d0  e7d0              B        |L1.6004|
                  |L1.6098|
0017d2  f8aa704a          STRH     r7,[r10,#0x4a]        ;1394
0017d6  e7e2              B        |L1.6046|
                  |L1.6104|
0017d8  2001              MOVS     r0,#1                 ;1406
0017da  f7fffffe          BL       avar_bat_ips_hndl
0017de  f88a500e          STRB     r5,[r10,#0xe]         ;1407
                  |L1.6114|
0017e2  e7f1              B        |L1.6088|
                  |L1.6116|
0017e4  f9b1004a          LDRSH    r0,[r1,#0x4a]         ;1419  ; kb_cnt_2lev
0017e8  b358              CBZ      r0,|L1.6210|
0017ea  f1a00001          SUB      r0,r0,#1              ;1421
0017ee  b200              SXTH     r0,r0                 ;1421
0017f0  460f              MOV      r7,r1                 ;1421
0017f2  f8a1004a          STRH     r0,[r1,#0x4a]         ;1421
0017f6  2805              CMP      r0,#5                 ;1423
0017f8  dd06              BLE      |L1.6152|
0017fa  230f              MOVS     r3,#0xf               ;1423
0017fc  22c8              MOVS     r2,#0xc8              ;1423
0017fe  2164              MOVS     r1,#0x64              ;1423
001800  20e1              MOVS     r0,#0xe1              ;1423
001802  f7fffffe          BL       mess_send
001806  e007              B        |L1.6168|
                  |L1.6152|
001808  2800              CMP      r0,#0                 ;1424
00180a  dd05              BLE      |L1.6168|
00180c  230f              MOVS     r3,#0xf               ;1424
00180e  22c8              MOVS     r2,#0xc8              ;1424
001810  2169              MOVS     r1,#0x69              ;1424
001812  20e1              MOVS     r0,#0xe1              ;1424
001814  f7fffffe          BL       mess_send
                  |L1.6168|
001818  f8b7004a          LDRH     r0,[r7,#0x4a]         ;1427  ; kb_cnt_2lev
00181c  2805              CMP      r0,#5                 ;1427
00181e  d137              BNE      |L1.6288|
001820  f9b60008          LDRSH    r0,[r6,#8]            ;1429  ; bat
001824  f7fffffe          BL       abs
001828  f8a80000          STRH     r0,[r8,#0]            ;1429
00182c  f9b60054          LDRSH    r0,[r6,#0x54]         ;1430  ; bat
001830  f7fffffe          BL       abs
001834  f8a80002          STRH     r0,[r8,#2]            ;1430
001838  f9ba0000          LDRSH    r0,[r10,#0]           ;1431  ; Ib_ips_termokompensat
00183c  f7fffffe          BL       abs
001840  e024              B        |L1.6284|
                  |L1.6210|
001842  e08b              B        |L1.6492|
                  |L1.6212|
001844  20202020          DCB      "    ",212,206,208,204,206,194,206,215,205,219,201,"    "
001848  d4ced0cc
00184c  cec2ced7
001850  cddbc920
001854  202020  
001857  2000              DCB      " ",0
001859  00                DCB      0
00185a  00                DCB      0
00185b  00                DCB      0
                  |L1.6236|
                          DCD      ||area_number.23||
                  |L1.6240|
                          DCD      speedChrgBlckStat
                  |L1.6244|
                          DCD      TBAT
                  |L1.6248|
                          DCD      Ib_ips_termokompensat
                  |L1.6252|
                          DCD      bat
                  |L1.6256|
                          DCD      IKB
                  |L1.6260|
                          DCD      BAT_IS_ON
                  |L1.6264|
                          DCD      ips_bat_av_vzvod
                  |L1.6268|
                          DCD      bat_ips
                  |L1.6272|
                          DCD      net_av
                  |L1.6276|
                          DCD      sp_ch_stat
                  |L1.6280|
                          DCD      KB_ALGORITM
                  |L1.6284|
00188c  f8a7004e          STRH     r0,[r7,#0x4e]         ;1431
                  |L1.6288|
001890  48ff              LDR      r0,|L1.7312|
001892  f8b0004a          LDRH     r0,[r0,#0x4a]         ;1434  ; kb_cnt_2lev
001896  2800              CMP      r0,#0                 ;1434
                  |L1.6296|
001898  d196              BNE      |L1.6088|
00189a  f9b60008          LDRSH    r0,[r6,#8]            ;1436  ; bat
00189e  f7fffffe          BL       abs
0018a2  4ffb              LDR      r7,|L1.7312|
0018a4  377c              ADDS     r7,r7,#0x7c           ;1436
0018a6  8038              STRH     r0,[r7,#0]            ;1436
0018a8  f9b60054          LDRSH    r0,[r6,#0x54]         ;1437  ; bat
0018ac  f7fffffe          BL       abs
0018b0  8078              STRH     r0,[r7,#2]            ;1437
0018b2  f9ba0000          LDRSH    r0,[r10,#0]           ;1438  ; Ib_ips_termokompensat
0018b6  f7fffffe          BL       abs
0018ba  f8dfa3d4          LDR      r10,|L1.7312|
0018be  f8aa0050          STRH     r0,[r10,#0x50]        ;1438
0018c2  f88a500d          STRB     r5,[r10,#0xd]         ;1440
0018c6  f9b80000          LDRSH    r0,[r8,#0]            ;1442  ; ibat
0018ca  f9b71000          LDRSH    r1,[r7,#0]            ;1442  ; ibat_
0018ce  4408              ADD      r0,r0,r1              ;1442
0018d0  f9b91000          LDRSH    r1,[r9,#0]            ;1442  ; IKB
0018d4  4288              CMP      r0,r1                 ;1442
0018d6  da02              BGE      |L1.6366|
0018d8  7820              LDRB     r0,[r4,#0]            ;1442  ; kb_start
0018da  2801              CMP      r0,#1                 ;1442
0018dc  d032              BEQ      |L1.6468|
                  |L1.6366|
0018de  f9b60002          LDRSH    r0,[r6,#2]            ;1446  ; bat
0018e2  28c8              CMP      r0,#0xc8              ;1446
0018e4  dd04              BLE      |L1.6384|
0018e6  7025              STRB     r5,[r4,#0]            ;1448
0018e8  2100              MOVS     r1,#0                 ;1449
0018ea  4608              MOV      r0,r1                 ;1449
0018ec  f7fffffe          BL       avar_bat_hndl
                  |L1.6384|
0018f0  f9b80002          LDRSH    r0,[r8,#2]            ;1452  ; ibat
0018f4  f9b71002          LDRSH    r1,[r7,#2]            ;1452  ; ibat_
0018f8  4408              ADD      r0,r0,r1              ;1452
0018fa  f9b91000          LDRSH    r1,[r9,#0]            ;1452  ; IKB
0018fe  4288              CMP      r0,r1                 ;1452
001900  da02              BGE      |L1.6408|
001902  7860              LDRB     r0,[r4,#1]            ;1452  ; kb_start
001904  2801              CMP      r0,#1                 ;1452
001906  d020              BEQ      |L1.6474|
                  |L1.6408|
001908  f9b6004e          LDRSH    r0,[r6,#0x4e]         ;1456  ; bat
00190c  28c8              CMP      r0,#0xc8              ;1456
00190e  dd04              BLE      |L1.6426|
001910  7065              STRB     r5,[r4,#1]            ;1458
001912  2100              MOVS     r1,#0                 ;1459
001914  2001              MOVS     r0,#1                 ;1459
001916  f7fffffe          BL       avar_bat_hndl
                  |L1.6426|
00191a  f9ba004e          LDRSH    r0,[r10,#0x4e]        ;1462  ; ibat_ips
00191e  f9ba1050          LDRSH    r1,[r10,#0x50]        ;1462  ; ibat_ips_
001922  4408              ADD      r0,r0,r1              ;1462
001924  f9b91000          LDRSH    r1,[r9,#0]            ;1462  ; IKB
001928  4288              CMP      r0,r1                 ;1462
00192a  f6bfaf5a          BGE      |L1.6114|
00192e  f89a000e          LDRB     r0,[r10,#0xe]         ;1462  ; kb_start_ips
001932  2801              CMP      r0,#1                 ;1462
001934  d1b0              BNE      |L1.6296|
001936  48d7              LDR      r0,|L1.7316|
001938  8800              LDRH     r0,[r0,#0]            ;1464  ; KB_ALGORITM
00193a  2802              CMP      r0,#2                 ;1464
00193c  d008              BEQ      |L1.6480|
00193e  f88ab00d          STRB     r11,[r10,#0xd]        ;1471
                  |L1.6466|
001942  e741              B        |L1.6088|
                  |L1.6468|
001944  f88ab00d          STRB     r11,[r10,#0xd]        ;1444
001948  e7d2              B        |L1.6384|
                  |L1.6474|
00194a  f88ab00d          STRB     r11,[r10,#0xd]        ;1454
00194e  e7e4              B        |L1.6426|
                  |L1.6480|
001950  2001              MOVS     r0,#1                 ;1466
001952  f7fffffe          BL       avar_bat_ips_hndl
001956  f88a500e          STRB     r5,[r10,#0xe]         ;1467
00195a  e735              B        |L1.6088|
                  |L1.6492|
00195c  7b48              LDRB     r0,[r1,#0xd]          ;1478  ; kb_full_ver
00195e  4688              MOV      r8,r1                 ;1478
001960  2800              CMP      r0,#0                 ;1478
001962  d0ee              BEQ      |L1.6466|
001964  230f              MOVS     r3,#0xf               ;1481
001966  2200              MOVS     r2,#0                 ;1481
001968  216e              MOVS     r1,#0x6e              ;1481
00196a  20e1              MOVS     r0,#0xe1              ;1481
00196c  f7fffffe          BL       mess_send
001970  f9b60008          LDRSH    r0,[r6,#8]            ;1483  ; bat
001974  f7fffffe          BL       abs
001978  f9b91000          LDRSH    r1,[r9,#0]            ;1483  ; IKB
00197c  4288              CMP      r0,r1                 ;1483
00197e  dd07              BLE      |L1.6544|
001980  7820              LDRB     r0,[r4,#0]            ;1485  ; kb_start
001982  2801              CMP      r0,#1                 ;1485
001984  d104              BNE      |L1.6544|
001986  7025              STRB     r5,[r4,#0]            ;1487
001988  2100              MOVS     r1,#0                 ;1488
00198a  4608              MOV      r0,r1                 ;1488
00198c  f7fffffe          BL       avar_bat_hndl
                  |L1.6544|
001990  f9b60054          LDRSH    r0,[r6,#0x54]         ;1492  ; bat
001994  f7fffffe          BL       abs
001998  f9b91000          LDRSH    r1,[r9,#0]            ;1492  ; IKB
00199c  4288              CMP      r0,r1                 ;1492
00199e  dd06              BLE      |L1.6574|
0019a0  7860              LDRB     r0,[r4,#1]            ;1494  ; kb_start
0019a2  2801              CMP      r0,#1                 ;1494
0019a4  d103              BNE      |L1.6574|
0019a6  7065              STRB     r5,[r4,#1]            ;1496
0019a8  2100              MOVS     r1,#0                 ;1497
0019aa  f7fffffe          BL       avar_bat_hndl
                  |L1.6574|
0019ae  f9ba0000          LDRSH    r0,[r10,#0]           ;1501  ; Ib_ips_termokompensat
0019b2  f7fffffe          BL       abs
0019b6  f9b91000          LDRSH    r1,[r9,#0]            ;1501  ; IKB
0019ba  4288              CMP      r0,r1                 ;1501
0019bc  dd08              BLE      |L1.6608|
0019be  f898000e          LDRB     r0,[r8,#0xe]          ;1503  ; kb_start_ips
0019c2  2801              CMP      r0,#1                 ;1503
0019c4  d104              BNE      |L1.6608|
0019c6  f888500e          STRB     r5,[r8,#0xe]          ;1505
0019ca  2000              MOVS     r0,#0                 ;1506
0019cc  f7fffffe          BL       avar_bat_ips_hndl
                  |L1.6608|
0019d0  7820              LDRB     r0,[r4,#0]            ;1511  ; kb_start
0019d2  b930              CBNZ     r0,|L1.6626|
0019d4  7860              LDRB     r0,[r4,#1]            ;1511  ; kb_start
0019d6  b920              CBNZ     r0,|L1.6626|
0019d8  f898000e          LDRB     r0,[r8,#0xe]          ;1511  ; kb_start_ips
0019dc  b908              CBNZ     r0,|L1.6626|
0019de  f888500d          STRB     r5,[r8,#0xd]          ;1513
                  |L1.6626|
0019e2  20e6              MOVS     r0,#0xe6              ;1516
0019e4  f7fffffe          BL       mess_find
0019e8  b118              CBZ      r0,|L1.6642|
0019ea  48ab              LDR      r0,|L1.7320|
0019ec  6800              LDR      r0,[r0,#0]            ;1516  ; mess_data
0019ee  28e7              CMP      r0,#0xe7              ;1516
0019f0  d00a              BEQ      |L1.6664|
                  |L1.6642|
0019f2  48aa              LDR      r0,|L1.7324|
0019f4  49aa              LDR      r1,|L1.7328|
0019f6  f9b00000          LDRSH    r0,[r0,#0]            ;1516  ; USIGN
0019fa  f9b11000          LDRSH    r1,[r1,#0]            ;1516  ; load_U
0019fe  eb000080          ADD      r0,r0,r0,LSL #2       ;1516
001a02  ebb10f40          CMP      r1,r0,LSL #1          ;1516
                  |L1.6662|
001a06  da9c              BGE      |L1.6466|
                  |L1.6664|
001a08  f888500d          STRB     r5,[r8,#0xd]          ;1518
001a0c  7820              LDRB     r0,[r4,#0]            ;1519  ; kb_start
001a0e  4da5              LDR      r5,|L1.7332|
001a10  2801              CMP      r0,#1                 ;1519
001a12  d10f              BNE      |L1.6708|
001a14  f9b90000          LDRSH    r0,[r9,#0]            ;1519  ; IKB
001a18  0040              LSLS     r0,r0,#1              ;1519
001a1a  fb90f1f7          SDIV     r1,r0,r7              ;1519
001a1e  f9b50000          LDRSH    r0,[r5,#0]            ;1519  ; load_I
001a22  4281              CMP      r1,r0                 ;1519
001a24  da06              BGE      |L1.6708|
001a26  f896003d          LDRB     r0,[r6,#0x3d]         ;1519  ; bat
001a2a  07c0              LSLS     r0,r0,#31             ;1519
001a2c  d102              BNE      |L1.6708|
001a2e  2101              MOVS     r1,#1                 ;1519
001a30  f7fffffe          BL       avar_bat_hndl
                  |L1.6708|
001a34  7860              LDRB     r0,[r4,#1]            ;1520  ; kb_start
001a36  2801              CMP      r0,#1                 ;1520
001a38  d110              BNE      |L1.6748|
001a3a  f9b90000          LDRSH    r0,[r9,#0]            ;1520  ; IKB
001a3e  f9b51000          LDRSH    r1,[r5,#0]            ;1520  ; load_I
001a42  0040              LSLS     r0,r0,#1              ;1520
001a44  fb90f0f7          SDIV     r0,r0,r7              ;1520
001a48  4288              CMP      r0,r1                 ;1520
001a4a  da07              BGE      |L1.6748|
001a4c  f8960089          LDRB     r0,[r6,#0x89]         ;1520  ; bat
001a50  07c0              LSLS     r0,r0,#31             ;1520
001a52  d103              BNE      |L1.6748|
001a54  2101              MOVS     r1,#1                 ;1520
001a56  4608              MOV      r0,r1                 ;1520
001a58  f7fffffe          BL       avar_bat_hndl
                  |L1.6748|
001a5c  f898000e          LDRB     r0,[r8,#0xe]          ;1522  ; kb_start_ips
001a60  2801              CMP      r0,#1                 ;1522
                  |L1.6754|
001a62  f47faebe          BNE      |L1.6114|
001a66  f9b90000          LDRSH    r0,[r9,#0]            ;1522  ; IKB
001a6a  f9b51000          LDRSH    r1,[r5,#0]            ;1522  ; load_I
001a6e  0040              LSLS     r0,r0,#1              ;1522
001a70  fb90f0f7          SDIV     r0,r0,r7              ;1522
001a74  4288              CMP      r0,r1                 ;1522
001a76  dac6              BGE      |L1.6662|
001a78  488b              LDR      r0,|L1.7336|
001a7a  f890003d          LDRB     r0,[r0,#0x3d]         ;1522  ; bat_ips
001a7e  07c0              LSLS     r0,r0,#31             ;1522
001a80  d1ef              BNE      |L1.6754|
001a82  e8bd5ff0          POP      {r4-r12,lr}           ;1522
001a86  2001              MOVS     r0,#1                 ;1522
001a88  f7ffbffe          B.W      avar_bat_ips_hndl
;;;1528   
                          ENDP

                  samokalibr_hndl PROC
;;;1537   //-----------------------------------------------
;;;1538   void samokalibr_hndl(void)
001a8c  4770              BX       lr
;;;1539   {
;;;1540   #ifndef UKU_220_IPS_TERMOKOMPENSAT
;;;1541   if(++samokalibr_cnt>=1800)samokalibr_cnt=0;
;;;1542   
;;;1543   if((samokalibr_cnt>=1785U)&&(vz2_stat==vz2sOFF))
;;;1544   	{
;;;1545   	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,1,15);
;;;1546   	mess_send(MESS2IND_HNDL,PARAM_SAMOKALIBR,0,15);
;;;1547   	mess_send(MESS2MATEMAT,PARAM_SAMOKALIBR,0,15);
;;;1548   	} 
;;;1549   
;;;1550   if((samokalibr_cnt==1799U)&&(vz2_stat==vz2sOFF))
;;;1551   	{
;;;1552   	if((Kibat0[0]!=ad7705_buff_[0])&&(abs(bat[0]._Ib/10)<IZMAX)) lc640_write_int(ADR_KI0BAT[0],ad7705_buff_[0]);
;;;1553   	if((Kibat0[1]!=ad7705_buff_[1])&&(abs(bat[0]._Ib/10)<IZMAX)) lc640_write_int(ADR_KI0BAT[1],ad7705_buff_[1]);
;;;1554   	
;;;1555   	}
;;;1556   #endif	 	
;;;1557   }
;;;1558   
                          ENDP

                  ubat_old_drv PROC
;;;1561   //-----------------------------------------------
;;;1562   void ubat_old_drv(void)
001a8e  b510              PUSH     {r4,lr}
;;;1563   {        
;;;1564   bat_u_old_cnt++;
001a90  4c86              LDR      r4,|L1.7340|
001a92  8820              LDRH     r0,[r4,#0]  ; bat_u_old_cnt
001a94  f1000001          ADD      r0,r0,#1
001a98  8020              STRH     r0,[r4,#0]
;;;1565   gran_ring(&bat_u_old_cnt,0,8);
001a9a  f04f0208          MOV      r2,#8
001a9e  f04f0100          MOV      r1,#0
001aa2  4620              MOV      r0,r4
001aa4  f7fffffe          BL       gran_ring
;;;1566   
;;;1567   bat[0]._u_old[bat_u_old_cnt]=bat[0]._Ub;
001aa8  4981              LDR      r1,|L1.7344|
001aaa  f9b40000          LDRSH    r0,[r4,#0]  ; bat_u_old_cnt
001aae  eb010040          ADD      r0,r1,r0,LSL #1
001ab2  884a              LDRH     r2,[r1,#2]  ; bat
001ab4  8402              STRH     r2,[r0,#0x20]
;;;1568   bat[1]._u_old[bat_u_old_cnt]=bat[1]._Ub;
001ab6  f8b1104e          LDRH     r1,[r1,#0x4e]  ; bat
001aba  f8a0106c          STRH     r1,[r0,#0x6c]
;;;1569   }
001abe  bd10              POP      {r4,pc}
;;;1570   
                          ENDP

                  unet_drv PROC
;;;1571   //-----------------------------------------------
;;;1572   void unet_drv(void)
001ac0  b570              PUSH     {r4-r6,lr}
;;;1573   {
;;;1574   if(net_U<UMN)
001ac2  4d7c              LDR      r5,|L1.7348|
001ac4  487c              LDR      r0,|L1.7352|
;;;1575   	{
;;;1576   	if((unet_drv_cnt<10)&&(main_1Hz_cnt>15))
001ac6  4a7d              LDR      r2,|L1.7356|
001ac8  f9b51000          LDRSH    r1,[r5,#0]            ;1574  ; net_U
001acc  f9b03000          LDRSH    r3,[r0,#0]            ;1574  ; UMN
001ad0  f9920000          LDRSB    r0,[r2,#0]
001ad4  4299              CMP      r1,r3                 ;1574
001ad6  da1f              BGE      |L1.6936|
;;;1577   		{
;;;1578   		unet_drv_cnt++;
;;;1579   		if(unet_drv_cnt>=10)
;;;1580   			{
;;;1581   			net_Ustore=net_U;
001ad8  4c79              LDR      r4,|L1.7360|
001ada  280a              CMP      r0,#0xa               ;1576
001adc  da0f              BGE      |L1.6910|
001ade  4b79              LDR      r3,|L1.7364|
001ae0  f9b33000          LDRSH    r3,[r3,#0]            ;1576  ; main_1Hz_cnt
001ae4  2b0f              CMP      r3,#0xf               ;1576
001ae6  dd0a              BLE      |L1.6910|
001ae8  f1000001          ADD      r0,r0,#1              ;1578
001aec  b240              SXTB     r0,r0                 ;1578
001aee  7010              STRB     r0,[r2,#0]            ;1578
001af0  280a              CMP      r0,#0xa               ;1579
001af2  db09              BLT      |L1.6920|
001af4  8021              STRH     r1,[r4,#0]
;;;1582   		 	avar_unet_hndl(1);
001af6  2001              MOVS     r0,#1
001af8  f7fffffe          BL       avar_unet_hndl
001afc  e004              B        |L1.6920|
                  |L1.6910|
;;;1583   			
;;;1584   			}
;;;1585   		}
;;;1586   	else if(unet_drv_cnt>=10)unet_drv_cnt=10;
001afe  280a              CMP      r0,#0xa
001b00  db02              BLT      |L1.6920|
001b02  f04f000a          MOV      r0,#0xa
001b06  7010              STRB     r0,[r2,#0]
                  |L1.6920|
;;;1587   
;;;1588   	if(net_U<net_Ustore) net_Ustore=net_U;	
001b08  f9b50000          LDRSH    r0,[r5,#0]  ; net_U
001b0c  f9b41000          LDRSH    r1,[r4,#0]  ; net_Ustore
001b10  4288              CMP      r0,r1
001b12  da00              BGE      |L1.6934|
001b14  8020              STRH     r0,[r4,#0]
                  |L1.6934|
;;;1589   	}
;;;1590   
;;;1591   else if(net_U>UMN)
;;;1592   	{                 
;;;1593   	if(unet_drv_cnt)
;;;1594   		{
;;;1595   		unet_drv_cnt--;
;;;1596   		if(unet_drv_cnt<=0)
;;;1597   			{
;;;1598   			avar_unet_hndl(0);
;;;1599   			}
;;;1600   		}
;;;1601   	else if(unet_drv_cnt<0)unet_drv_cnt=0;
;;;1602   	
;;;1603   	}
;;;1604   
;;;1605   }
001b16  bd70              POP      {r4-r6,pc}
                  |L1.6936|
001b18  ddfd              BLE      |L1.6934|
001b1a  2800              CMP      r0,#0                 ;1593
001b1c  d0fb              BEQ      |L1.6934|
001b1e  f1a00001          SUB      r0,r0,#1              ;1595
001b22  b240              SXTB     r0,r0                 ;1595
001b24  7010              STRB     r0,[r2,#0]            ;1595
001b26  2800              CMP      r0,#0                 ;1596
001b28  dcf5              BGT      |L1.6934|
001b2a  e8bd4070          POP      {r4-r6,lr}            ;1598
001b2e  2000              MOVS     r0,#0                 ;1598
001b30  f7ffbffe          B.W      avar_unet_hndl
;;;1606   
                          ENDP

                  matemat PROC
;;;1607   //-----------------------------------------------
;;;1608   void matemat(void)
001b34  e92d5ffc          PUSH     {r2-r12,lr}
;;;1609   {
;;;1610   //signed short temp_SS;
;;;1611   signed long temp_SL/*,temp_SL_*/;
;;;1612   char /*temp,*/i;
;;;1613   //signed short temp_SS;
;;;1614   
;;;1615   #ifdef UKU_MGTS
;;;1616   //Ì‡ÔˇÊÂÌËÂ ÒÂÚË
;;;1617   temp_SL=(signed long)net_buff_;
;;;1618   temp_SL*=Kunet;
;;;1619   temp_SL/=110000L;
;;;1620   net_U=(signed short)temp_SL;
;;;1621   #endif
;;;1622   
;;;1623   #ifdef UKU_RSTKM
;;;1624   //Ì‡ÔˇÊÂÌËÂ ÒÂÚË
;;;1625   temp_SL=(signed long)net_buff_;
;;;1626   temp_SL*=Kunet;
;;;1627   temp_SL/=110000L;
;;;1628   net_U=(signed short)temp_SL;
;;;1629   #endif
;;;1630   
;;;1631   #ifdef UKU_3U
;;;1632   //Ì‡ÔˇÊÂÌËÂ ÒÂÚË
;;;1633   temp_SL=(signed long)net_buff_;
;;;1634   temp_SL*=Kunet;
;;;1635   temp_SL/=36000L;
;;;1636   net_U=(signed short)temp_SL;
;;;1637   #endif
;;;1638   
;;;1639   #ifdef UKU_6U
;;;1640   //Ì‡ÔˇÊÂÌËÂ ÒÂÚË
;;;1641   
;;;1642   if((AUSW_MAIN%10)||(AUSW_MAIN==2400)||(AUSW_MAIN==4800)||(AUSW_MAIN==6000))
;;;1643   	{
;;;1644   
;;;1645   	if(bps[11]._device==dNET_METR)
;;;1646   		{
;;;1647   		net_metr_buff_[0]=((signed short)bps[11]._buff[0])+(((signed short)bps[11]._buff[1])<<8);
;;;1648   		net_metr_buff_[1]=((signed short)bps[11]._buff[2])+(((signed short)bps[11]._buff[3])<<8);
;;;1649   		net_metr_buff_[2]=((signed short)bps[11]._buff[4])+(((signed short)bps[11]._buff[5])<<8);
;;;1650   
;;;1651   		temp_SL=(signed long)net_metr_buff_[0];
;;;1652   		temp_SL*=KunetA;
;;;1653   		temp_SL/=6000L;
;;;1654   		net_Ua=(signed short)temp_SL;
;;;1655   	
;;;1656   		temp_SL=(signed long)net_metr_buff_[1];
;;;1657   		temp_SL*=KunetB;
;;;1658   		temp_SL/=6000L;
;;;1659   		net_Ub=(signed short)temp_SL;
;;;1660   	
;;;1661   		temp_SL=(signed long)net_metr_buff_[2];
;;;1662   		temp_SL*=KunetC;
;;;1663   		temp_SL/=6000L;
;;;1664   		net_Uc=(signed short)temp_SL;
;;;1665   		}
;;;1666   	else
;;;1667   		{
;;;1668   		temp_SL=(signed long)net_buff_;
;;;1669   		temp_SL*=KunetA;
;;;1670   		temp_SL/=110000L;
;;;1671   		net_Ua=(signed short)temp_SL;
;;;1672   	
;;;1673   		temp_SL=(signed long)adc_buff_[3];
;;;1674   		temp_SL*=KunetB;
;;;1675   		temp_SL/=6000L;
;;;1676   		net_Ub=(signed short)temp_SL;
;;;1677   	
;;;1678   		temp_SL=(signed long)adc_buff_[10];
;;;1679   		temp_SL*=KunetC;
;;;1680   		temp_SL/=6000L;
;;;1681   		net_Uc=(signed short)temp_SL;
;;;1682   		}
;;;1683   
;;;1684   	net_U=net_Ua;
;;;1685   	if(net_Ub<net_U)net_U=net_Ub;
;;;1686   	if(net_Uc<net_U)net_U=net_Uc;
;;;1687   	}
;;;1688   else 
;;;1689   	{
;;;1690   	temp_SL=(signed long)net_buff_;
;;;1691   	temp_SL*=Kunet;
;;;1692   	temp_SL/=110000L;
;;;1693   	net_U=(signed short)temp_SL;
;;;1694   	}
;;;1695   
;;;1696   
;;;1697   
;;;1698   
;;;1699   #endif
;;;1700   
;;;1701   #ifdef UKU_GLONASS
;;;1702   //Ì‡ÔˇÊÂÌËÂ ÒÂÚË
;;;1703   temp_SL=(signed long)net_buff_;
;;;1704   temp_SL*=Kunet;
;;;1705   temp_SL/=110000L;
;;;1706   net_U=(signed short)temp_SL;
;;;1707   #endif
;;;1708   
;;;1709   #ifdef UKU_KONTUR
;;;1710   //Ì‡ÔˇÊÂÌËÂ ÒÂÚË
;;;1711   temp_SL=(signed long)net_buff_;
;;;1712   temp_SL*=Kunet;
;;;1713   temp_SL/=110000L;
;;;1714   net_U=(signed short)temp_SL;
;;;1715   #endif
;;;1716   
;;;1717   #ifdef IPS_SGEP_GAZPROM
;;;1718   //Ì‡ÔˇÊÂÌËÂ ÒÂÚË
;;;1719   temp_SL=(signed long)net_buff_;
;;;1720   temp_SL*=Kunet;
;;;1721   temp_SL/=110000L;
;;;1722   net_U=(signed short)temp_SL;
;;;1723   #endif
;;;1724   
;;;1725   #ifdef UKU_220_V2
;;;1726   //Ì‡ÔˇÊÂÌËÂ ÒÂÚË
;;;1727   
;;;1728   if(AUSW_MAIN==22033)
;;;1729   	{
;;;1730   	temp_SL=(signed long)net_buff_;
;;;1731   	temp_SL*=KunetA;
;;;1732   	temp_SL/=6000L;
;;;1733   	net_Ua=(signed short)temp_SL;
;;;1734   
;;;1735   	temp_SL=(signed long)adc_buff_[3];
;;;1736   	temp_SL*=KunetB;
;;;1737   	temp_SL/=6000L;
;;;1738   	net_Ub=(signed short)temp_SL;
;;;1739   
;;;1740   	temp_SL=(signed long)adc_buff_[10];
;;;1741   	temp_SL*=KunetC;
;;;1742   	temp_SL/=6000L;
;;;1743   	net_Uc=(signed short)temp_SL;
;;;1744   
;;;1745   	net_U=net_Ua;
;;;1746   	if(net_Ub<net_U)net_U=net_Ub;
;;;1747   	if(net_Uc<net_U)net_U=net_Uc;
;;;1748   	}
;;;1749   else
;;;1750   	{
;;;1751   	temp_SL=(signed long)net_buff_;
;;;1752   	temp_SL*=Kunet;
;;;1753   	temp_SL/=5000L;
;;;1754   	net_U=(signed short)temp_SL;
;;;1755   	}
;;;1756   #endif
;;;1757   
;;;1758   
;;;1759   #ifdef UKU_220
;;;1760   //Ì‡ÔˇÊÂÌËÂ ÒÂÚË
;;;1761   
;;;1762   if(AUSW_MAIN==22035)
;;;1763   	{
;;;1764   	temp_SL=(signed long)net_buff_;
;;;1765   	temp_SL*=KunetA;
;;;1766   	temp_SL/=6000L;
;;;1767   	net_Ua=(signed short)temp_SL;
;;;1768   
;;;1769   	temp_SL=(signed long)adc_buff_[3];
;;;1770   	temp_SL*=KunetB;
;;;1771   	temp_SL/=6000L;
;;;1772   	net_Ub=(signed short)temp_SL;
;;;1773   
;;;1774   	temp_SL=(signed long)adc_buff_[10];
;;;1775   	temp_SL*=KunetC;
;;;1776   	temp_SL/=6000L;
;;;1777   	net_Uc=(signed short)temp_SL;
;;;1778   
;;;1779   	net_U=net_Ua;
;;;1780   	if(net_Ub<net_U)net_U=net_Ub;
;;;1781   	if(net_Uc<net_U)net_U=net_Uc;
;;;1782   	}
;;;1783   else
;;;1784   	{
;;;1785   	temp_SL=(signed long)net_buff_;
;;;1786   	temp_SL*=Kunet;
;;;1787   	#ifdef _ACDC_
;;;1788   	temp_SL/=500L;
;;;1789   	#else
;;;1790   	temp_SL/=5000L;
;;;1791   	#endif
;;;1792   	net_U=(signed short)temp_SL;
;;;1793   	
;;;1794   	}
;;;1795   #endif
;;;1796   
;;;1797   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;1798   //Ì‡ÔˇÊÂÌËÂ ÒÂÚË
;;;1799   
;;;1800   
;;;1801   	if(bps[11]._device==dNET_METR)
001b38  4863              LDR      r0,|L1.7368|
;;;1802   		{
;;;1803   		net_metr_buff_[0]=((signed short)bps[11]._buff[0])+(((signed short)bps[11]._buff[1])<<8);
;;;1804   		net_metr_buff_[1]=((signed short)bps[11]._buff[2])+(((signed short)bps[11]._buff[3])<<8);
;;;1805   		net_metr_buff_[2]=((signed short)bps[11]._buff[4])+(((signed short)bps[11]._buff[5])<<8);
;;;1806   
;;;1807   		temp_SL=(signed long)net_metr_buff_[2];
;;;1808   		temp_SL*=KunetA;
001b3a  4a64              LDR      r2,|L1.7372|
;;;1809   		temp_SL/=6000L;
;;;1810   		net_Ua=(signed short)temp_SL;
;;;1811   	
;;;1812   		temp_SL=(signed long)net_metr_buff_[1];
;;;1813   		temp_SL*=KunetB;
001b3c  4965              LDR      r1,|L1.7380|
001b3e  f89003f4          LDRB     r0,[r0,#0x3f4]        ;1801  ; bps
;;;1814   		temp_SL/=6000L;
;;;1815   		net_Ub=(signed short)temp_SL;
;;;1816   	
;;;1817   		temp_SL=(signed long)net_metr_buff_[0];
;;;1818   		temp_SL*=KunetC;
001b42  4b65              LDR      r3,|L1.7384|
001b44  9001              STR      r0,[sp,#4]            ;1808
001b46  f8dfc188          LDR      r12,|L1.7376|
001b4a  f9b29000          LDRSH    r9,[r2,#0]            ;1808
001b4e  f9b1b000          LDRSH    r11,[r1,#0]           ;1813
001b52  f9b3a000          LDRSH    r10,[r3,#0]
001b56  4d61              LDR      r5,|L1.7388|
;;;1819   		temp_SL/=6000L;
;;;1820   		net_Uc=(signed short)temp_SL;
001b58  4c61              LDR      r4,|L1.7392|
;;;1821   
;;;1822   		net_F3=((signed short)bps[11]._buff[6])+(((signed short)bps[11]._buff[7])<<8);
;;;1823   
;;;1824   		net_U=net_Ua;
;;;1825   		if(net_Ub<net_U)net_U=net_Ub;
;;;1826   		if(net_Uc<net_U)net_U=net_Uc;
;;;1827   		}
;;;1828   	  else if(AUSW_MAIN==22033)
;;;1829   	{
;;;1830   	temp_SL=(signed long)net_buff_;
001b5a  4f4d              LDR      r7,|L1.7312|
001b5c  f2456611          MOV      r6,#0x5611            ;1828
001b60  2807              CMP      r0,#7                 ;1801
001b62  d036              BEQ      |L1.7122|
001b64  4639              MOV      r1,r7
;;;1831   	temp_SL*=KunetA;
;;;1832   	temp_SL/=4000L;
;;;1833   	net_Ua=(signed short)temp_SL;
;;;1834   
;;;1835   	temp_SL=(signed long)adc_buff_[3];
001b66  4b60              LDR      r3,|L1.7400|
001b68  8dca              LDRH     r2,[r1,#0x2e]         ;1830
001b6a  4958              LDR      r1,|L1.7372|
001b6c  f8df8164          LDR      r8,|L1.7380|
001b70  f8df9164          LDR      r9,|L1.7384|
001b74  f9b11000          LDRSH    r1,[r1,#0]            ;1808
001b78  f9b88000          LDRSH    r8,[r8,#0]            ;1813
001b7c  434a              MULS     r2,r1,r2              ;1831
001b7e  f9b31006          LDRSH    r1,[r3,#6]
;;;1836   	temp_SL*=KunetB;
;;;1837   	temp_SL/=6000L;
;;;1838   	net_Ub=(signed short)temp_SL;
;;;1839   
;;;1840   	temp_SL=(signed long)adc_buff_[10];
001b82  f9b33014          LDRSH    r3,[r3,#0x14]
001b86  fb01f108          MUL      r1,r1,r8              ;1836
001b8a  f2417870          MOV      r8,#0x1770            ;1809
001b8e  f9b99000          LDRSH    r9,[r9,#0]            ;1818
001b92  fb91f1f8          SDIV     r1,r1,r8              ;1837
;;;1841   	temp_SL*=KunetC;
001b96  fb03f309          MUL      r3,r3,r9
;;;1842   	temp_SL/=6000L;
001b9a  fb93f3f8          SDIV     r3,r3,r8
001b9e  4851              LDR      r0,|L1.7396|
001ba0  b209              SXTH     r1,r1                 ;1838
;;;1843   	net_Uc=(signed short)temp_SL;
001ba2  b21b              SXTH     r3,r3
001ba4  8800              LDRH     r0,[r0,#0]            ;1828  ; AUSW_MAIN
001ba6  42b0              CMP      r0,r6                 ;1828
001ba8  d154              BNE      |L1.7252|
001baa  f44f607a          MOV      r0,#0xfa0             ;1832
001bae  fb92f0f0          SDIV     r0,r2,r0              ;1832
001bb2  b200              SXTH     r0,r0                 ;1833
001bb4  f8ac0000          STRH     r0,[r12,#0]           ;1833
001bb8  8029              STRH     r1,[r5,#0]            ;1838
001bba  8023              STRH     r3,[r4,#0]
;;;1844   
;;;1845   	net_U=net_Ua;
001bbc  4a3d              LDR      r2,|L1.7348|
001bbe  8010              STRH     r0,[r2,#0]
;;;1846   	if(net_Ub<net_U)net_U=net_Ub;
001bc0  4281              CMP      r1,r0
001bc2  da00              BGE      |L1.7110|
001bc4  8011              STRH     r1,[r2,#0]
                  |L1.7110|
;;;1847   	if(net_Uc<net_U)net_U=net_Uc;
001bc6  f9b20000          LDRSH    r0,[r2,#0]  ; net_U
001bca  4283              CMP      r3,r0
001bcc  da00              BGE      |L1.7120|
001bce  8013              STRH     r3,[r2,#0]
                  |L1.7120|
001bd0  e0b1              B        |L1.7478|
                  |L1.7122|
001bd2  4846              LDR      r0,|L1.7404|
001bd4  4b2e              LDR      r3,|L1.7312|
001bd6  7801              LDRB     r1,[r0,#0]            ;1803  ; bps
001bd8  7842              LDRB     r2,[r0,#1]            ;1803  ; bps
001bda  f10303b0          ADD      r3,r3,#0xb0           ;1803
001bde  eb012102          ADD      r1,r1,r2,LSL #8       ;1803
001be2  fa1ff881          UXTH     r8,r1                 ;1803
001be6  f8a38000          STRH     r8,[r3,#0]            ;1803
001bea  7881              LDRB     r1,[r0,#2]            ;1804  ; bps
001bec  78c2              LDRB     r2,[r0,#3]            ;1804  ; bps
001bee  eb012102          ADD      r1,r1,r2,LSL #8       ;1804
001bf2  b28a              UXTH     r2,r1                 ;1804
001bf4  805a              STRH     r2,[r3,#2]            ;1804
001bf6  7901              LDRB     r1,[r0,#4]            ;1805  ; bps
001bf8  f890e005          LDRB     lr,[r0,#5]            ;1805  ; bps
001bfc  eb01210e          ADD      r1,r1,lr,LSL #8       ;1805
001c00  b289              UXTH     r1,r1                 ;1805
001c02  8099              STRH     r1,[r3,#4]            ;1805
001c04  fb01f109          MUL      r1,r1,r9              ;1808
001c08  f2417370          MOV      r3,#0x1770            ;1809
001c0c  fb91f1f3          SDIV     r1,r1,r3              ;1809
001c10  fa0ff981          SXTH     r9,r1                 ;1810
001c14  f8ac9000          STRH     r9,[r12,#0]           ;1810
001c18  fb02f20b          MUL      r2,r2,r11             ;1813
001c1c  fb92f1f3          SDIV     r1,r2,r3              ;1814
001c20  b209              SXTH     r1,r1                 ;1815
001c22  8029              STRH     r1,[r5,#0]            ;1815
001c24  fb08f80a          MUL      r8,r8,r10             ;1818
001c28  fb98f2f3          SDIV     r2,r8,r3              ;1819
001c2c  b212              SXTH     r2,r2                 ;1820
001c2e  8022              STRH     r2,[r4,#0]            ;1820
001c30  7983              LDRB     r3,[r0,#6]            ;1822  ; bps
001c32  79c0              LDRB     r0,[r0,#7]            ;1822  ; bps
001c34  eb032000          ADD      r0,r3,r0,LSL #8       ;1822
001c38  4b2d              LDR      r3,|L1.7408|
001c3a  8018              STRH     r0,[r3,#0]            ;1822
001c3c  481d              LDR      r0,|L1.7348|
001c3e  f8a09000          STRH     r9,[r0,#0]            ;1824
001c42  4549              CMP      r1,r9                 ;1825
001c44  da00              BGE      |L1.7240|
001c46  8001              STRH     r1,[r0,#0]            ;1825
                  |L1.7240|
001c48  f9b01000          LDRSH    r1,[r0,#0]            ;1826  ; net_U
001c4c  428a              CMP      r2,r1                 ;1826
001c4e  da72              BGE      |L1.7478|
001c50  8002              STRH     r2,[r0,#0]            ;1826
001c52  e070              B        |L1.7478|
                  |L1.7252|
;;;1848   	}
;;;1849   else if((AUSW_MAIN==22063)||(AUSW_MAIN==22023)||(AUSW_MAIN==22043)||(AUSW_MAIN==22044)||(AUSW_MAIN==22018))
001c54  f5a048ac          SUB      r8,r0,#0x5600
001c58  f1b8082f          SUBS     r8,r8,#0x2f
001c5c  d00b              BEQ      |L1.7286|
001c5e  f1180828          ADDS     r8,r8,#0x28
001c62  d008              BEQ      |L1.7286|
001c64  f1b80814          SUBS     r8,r8,#0x14
001c68  d005              BEQ      |L1.7286|
001c6a  f1b80801          SUBS     r8,r8,#1
001c6e  d002              BEQ      |L1.7286|
001c70  f118081a          ADDS     r8,r8,#0x1a
001c74  d146              BNE      |L1.7428|
                  |L1.7286|
;;;1850   	{
;;;1851   	temp_SL=(signed long)net_buff_;
;;;1852   	temp_SL*=KunetA;
;;;1853   	temp_SL/=40000L;
001c76  f6494040          MOV      r0,#0x9c40
001c7a  fb92f0f0          SDIV     r0,r2,r0
;;;1854   	net_Ua=(signed short)temp_SL;
001c7e  b200              SXTH     r0,r0
001c80  f8ac0000          STRH     r0,[r12,#0]
;;;1855   
;;;1856   	temp_SL=(signed long)adc_buff_[3];
;;;1857   	temp_SL*=KunetB;
;;;1858   	temp_SL/=6000L;
;;;1859   	net_Ub=(signed short)temp_SL;
001c84  8029              STRH     r1,[r5,#0]
;;;1860   
;;;1861   	temp_SL=(signed long)adc_buff_[10];
;;;1862   	temp_SL*=KunetC;
;;;1863   	temp_SL/=6000L;
;;;1864   	net_Uc=(signed short)temp_SL;
001c86  8023              STRH     r3,[r4,#0]
;;;1865   
;;;1866   	net_U=net_Ua;
001c88  4a0a              LDR      r2,|L1.7348|
001c8a  8010              STRH     r0,[r2,#0]
;;;1867   	if(net_Ub<net_U)net_U=net_Ub;
001c8c  4281              CMP      r1,r0
001c8e  e031              B        |L1.7412|
                  |L1.7312|
                          DCD      ||area_number.23||
                  |L1.7316|
                          DCD      KB_ALGORITM
                  |L1.7320|
                          DCD      mess_data
                  |L1.7324|
                          DCD      USIGN
                  |L1.7328|
                          DCD      load_U
                  |L1.7332|
                          DCD      load_I
                  |L1.7336|
                          DCD      bat_ips
                  |L1.7340|
                          DCD      bat_u_old_cnt
                  |L1.7344|
                          DCD      bat
                  |L1.7348|
                          DCD      net_U
                  |L1.7352|
                          DCD      UMN
                  |L1.7356|
                          DCD      unet_drv_cnt
                  |L1.7360|
                          DCD      net_Ustore
                  |L1.7364|
                          DCD      main_1Hz_cnt
                  |L1.7368|
                          DCD      bps
                  |L1.7372|
                          DCD      KunetA
                  |L1.7376|
                          DCD      net_Ua
                  |L1.7380|
                          DCD      KunetB
                  |L1.7384|
                          DCD      KunetC
                  |L1.7388|
                          DCD      net_Ub
                  |L1.7392|
                          DCD      net_Uc
                  |L1.7396|
                          DCD      AUSW_MAIN
                  |L1.7400|
                          DCD      ||.bss||+0x400
                  |L1.7404|
                          DCD      bps+0x3fa
                  |L1.7408|
                          DCD      net_F3
                  |L1.7412|
001cf4  da00              BGE      |L1.7416|
001cf6  8011              STRH     r1,[r2,#0]
                  |L1.7416|
;;;1868   	if(net_Uc<net_U)net_U=net_Uc;
001cf8  f9b20000          LDRSH    r0,[r2,#0]  ; net_U
001cfc  4283              CMP      r3,r0
001cfe  da1a              BGE      |L1.7478|
001d00  8013              STRH     r3,[r2,#0]
001d02  e018              B        |L1.7478|
                  |L1.7428|
;;;1869   	}
;;;1870   else	if((AUSW_MAIN==22010)||(AUSW_MAIN==22011) )
;;;1871   	{
;;;1872   	temp_SL=(signed long)net_buff_;
;;;1873   	temp_SL*=Kunet;
001d04  49ff              LDR      r1,|L1.8452|
001d06  f5a043aa          SUB      r3,r0,#0x5500         ;1870
001d0a  f9b12000          LDRSH    r2,[r1,#0]
001d0e  49fe              LDR      r1,|L1.8456|
001d10  8dc9              LDRH     r1,[r1,#0x2e]         ;1830
001d12  4351              MULS     r1,r2,r1
001d14  3bfa              SUBS     r3,r3,#0xfa           ;1870
001d16  d001              BEQ      |L1.7452|
001d18  1e5a              SUBS     r2,r3,#1              ;1870
001d1a  d106              BNE      |L1.7466|
                  |L1.7452|
;;;1874   	temp_SL/=35000L;
001d1c  f64800b8          MOV      r0,#0x88b8
001d20  fb91f0f0          SDIV     r0,r1,r0
;;;1875   	net_U=(signed short)temp_SL;
001d24  49f9              LDR      r1,|L1.8460|
001d26  8008              STRH     r0,[r1,#0]
001d28  e005              B        |L1.7478|
                  |L1.7466|
;;;1876   	
;;;1877   	}
;;;1878   else
;;;1879   	{
;;;1880   	temp_SL=(signed long)net_buff_;
;;;1881   	temp_SL*=Kunet;
;;;1882   	#ifdef _ACDC_
;;;1883   	temp_SL/=500L;
001d2a  f44f70fa          MOV      r0,#0x1f4
001d2e  fb91f0f0          SDIV     r0,r1,r0
;;;1884   	#else
;;;1885   	temp_SL/=5000L;
;;;1886   	#endif
;;;1887   	net_U=(signed short)temp_SL;
001d32  49f6              LDR      r1,|L1.8460|
001d34  8008              STRH     r0,[r1,#0]
                  |L1.7478|
;;;1888   	
;;;1889   	}
;;;1890   if(bps[11]._device!=dNET_METR) net_F3=net_F;
001d36  9801              LDR      r0,[sp,#4]
001d38  2807              CMP      r0,#7
001d3a  d003              BEQ      |L1.7492|
001d3c  48f4              LDR      r0,|L1.8464|
001d3e  8801              LDRH     r1,[r0,#0]  ; net_F
001d40  48f4              LDR      r0,|L1.8468|
001d42  8001              STRH     r1,[r0,#0]
                  |L1.7492|
;;;1891   #endif
;;;1892   
;;;1893   #ifdef UKU_TELECORE2015
;;;1894   //Ì‡ÔˇÊÂÌËÂ ÒÂÚË
;;;1895   temp_SL=(signed long)net_buff_;
;;;1896   temp_SL*=Kunet;
;;;1897   temp_SL/=110000L;
;;;1898   net_U=(signed short)temp_SL;
;;;1899   #endif
;;;1900   
;;;1901   #ifdef UKU_TELECORE2017
;;;1902   //Ì‡ÔˇÊÂÌËÂ ÒÂÚË
;;;1903   temp_SL=(signed long)net_buff_;
;;;1904   temp_SL*=Kunet;
;;;1905   temp_SL/=110000L;
;;;1906   net_U=(signed short)temp_SL;
;;;1907   #endif
;;;1908   
;;;1909   //Õ‡ÔˇÊÂÌËˇ ·‡Ú‡ÂÈ
;;;1910   temp_SL=(signed long)adc_buff_[0];
001d44  f8df83d0          LDR      r8,|L1.8472|
001d48  f9b82000          LDRSH    r2,[r8,#0]  ; adc_buff_
;;;1911   temp_SL*=Kubat[0];
001d4c  49f3              LDR      r1,|L1.8476|
001d4e  f9b10000          LDRSH    r0,[r1,#0]  ; Kubat
001d52  4350              MULS     r0,r2,r0
;;;1912   temp_SL/=2000L;
001d54  f44f65fa          MOV      r5,#0x7d0
001d58  fb90f0f5          SDIV     r0,r0,r5
;;;1913   bat[0]._Ub=(signed short)temp_SL;
001d5c  4cf0              LDR      r4,|L1.8480|
001d5e  8060              STRH     r0,[r4,#2]
;;;1914   
;;;1915   #ifdef UKU_220
;;;1916   //Õ‡ÔˇÊÂÌËˇ ·‡Ú‡ÂÈ
;;;1917   temp_SL=(signed long)adc_buff_[0];
;;;1918   temp_SL*=Kubat[0];
;;;1919   temp_SL/=400L;
;;;1920   bat[0]._Ub=(signed short)temp_SL;
;;;1921   #endif
;;;1922   
;;;1923   #ifdef UKU_220_V2
;;;1924   //Õ‡ÔˇÊÂÌËˇ ·‡Ú‡ÂÈ
;;;1925   temp_SL=(signed long)adc_buff_[0];
;;;1926   temp_SL*=Kubat[0];
;;;1927   temp_SL/=400L;
;;;1928   bat[0]._Ub=(signed short)temp_SL;
;;;1929   #endif
;;;1930   
;;;1931   temp_SL=(signed long)adc_buff_[4];
001d60  f9b83008          LDRSH    r3,[r8,#8]  ; adc_buff_
;;;1932   temp_SL*=Kubatm[0];
001d64  4aef              LDR      r2,|L1.8484|
001d66  f9b20000          LDRSH    r0,[r2,#0]  ; Kubatm
001d6a  fb00f003          MUL      r0,r0,r3
;;;1933   temp_SL/=700L;
001d6e  f44f732f          MOV      r3,#0x2bc
001d72  fb90f0f3          SDIV     r0,r0,r3
;;;1934   bat[0]._Ubm=(signed short)temp_SL;
001d76  80a0              STRH     r0,[r4,#4]
;;;1935   
;;;1936   #ifdef UKU_KONTUR
;;;1937   temp_SL=(signed long)adc_buff_[4];
;;;1938   temp_SL*=Kubatm[0];
;;;1939   temp_SL/=2000L;
;;;1940   bat[0]._Ubm=(signed short)temp_SL;
;;;1941   #endif
;;;1942   
;;;1943   temp_SL=(signed long)adc_buff_[12];
001d78  f9b80018          LDRSH    r0,[r8,#0x18]  ; adc_buff_
;;;1944   temp_SL*=Kubat[1];
001d7c  f9b11002          LDRSH    r1,[r1,#2]  ; Kubat
001d80  fb01f100          MUL      r1,r1,r0
;;;1945   temp_SL/=2000L;
001d84  fb91f0f5          SDIV     r0,r1,r5
;;;1946   bat[1]._Ub=(signed short)temp_SL;
001d88  f8a4004e          STRH     r0,[r4,#0x4e]
;;;1947   
;;;1948   #ifdef UKU_220
;;;1949   temp_SL=(signed long)adc_buff_[12];
;;;1950   temp_SL*=Kubat[1];
;;;1951   temp_SL/=400L;
;;;1952   bat[1]._Ub=(signed short)temp_SL;
;;;1953   #endif
;;;1954   
;;;1955   #ifdef UKU_220_V2
;;;1956   temp_SL=(signed long)adc_buff_[12];
;;;1957   temp_SL*=Kubat[1];
;;;1958   temp_SL/=400L;
;;;1959   bat[1]._Ub=(signed short)temp_SL;
;;;1960   #endif
;;;1961   
;;;1962   temp_SL=(signed long)adc_buff_[1];
001d8c  f9b81002          LDRSH    r1,[r8,#2]  ; adc_buff_
;;;1963   temp_SL*=Kubatm[1];
001d90  f9b20002          LDRSH    r0,[r2,#2]  ; Kubatm
001d94  fb00f001          MUL      r0,r0,r1
;;;1964   temp_SL/=700L;
001d98  fb90f0f3          SDIV     r0,r0,r3
;;;1965   bat[1]._Ubm=(signed short)temp_SL;
001d9c  f8a40050          STRH     r0,[r4,#0x50]
;;;1966   #ifdef UKU_KONTUR
;;;1967   temp_SL=(signed long)adc_buff_[1];
;;;1968   temp_SL*=Kubatm[1];
;;;1969   temp_SL/=2000L;
;;;1970   bat[1]._Ubm=(signed short)temp_SL;
;;;1971   #endif
;;;1972   
;;;1973   #ifdef UKU_TELECORE2015
;;;1974   temp_SL=(signed long)adc_buff_[2];
;;;1975   temp_SL*=Kubat[0];
;;;1976   temp_SL/=2000L;
;;;1977   bat[0]._Ub=(signed short)temp_SL;
;;;1978   #endif
;;;1979   
;;;1980   /*
;;;1981   //“ÓÍË ·‡Ú‡ÂÈ
;;;1982   if(!mess_find_unvol(MESS2MATEMAT))
;;;1983   	{
;;;1984   	temp_SL=(signed long)ad7705_buff_[0];
;;;1985   	temp_SL-=(signed long)Kibat0[0];
;;;1986   	temp_SL*=(signed long)Kibat1[0];
;;;1987   	if((AUSW_MAIN==24120)||(AUSW_MAIN==24210))temp_SL/=300L;
;;;1988   	else temp_SL/=1000L;
;;;1989   	bat[0]._Ib=(signed short)temp_SL;
;;;1990   
;;;1991   	temp_SL=(signed long)ad7705_buff_[1];
;;;1992   	temp_SL-=(signed long)Kibat0[1];
;;;1993   	temp_SL*=(signed long)Kibat1[1];
;;;1994   	if((AUSW_MAIN==24120)||(AUSW_MAIN==24210))temp_SL/=300L;
;;;1995   	else temp_SL/=1000L;
;;;1996   	bat[1]._Ib=(signed short)temp_SL;
;;;1997   	}
;;;1998   */
;;;1999   
;;;2000   
;;;2001   //“ÓÍË ·‡Ú‡ÂÈ
;;;2002   if(!mess_find_unvol(MESS2MATEMAT))
001da0  f04f00dc          MOV      r0,#0xdc
001da4  f7fffffe          BL       mess_find_unvol
;;;2003   	{
;;;2004   	temp_SL=(signed long)ad7705_buff_[0];
;;;2005   	temp_SL-=(signed long)Kibat0[0];
;;;2006   	temp_SL*=(signed long)Kibat1[0];
;;;2007   	if((AUSW_MAIN==24120)||(AUSW_MAIN==24210))temp_SL/=300L;
;;;2008   	else if((AUSW_MAIN==22010)||(AUSW_MAIN==22035)||(AUSW_MAIN==22033))temp_SL/=2000L;
001da8  f2456a13          MOV      r10,#0x5613
001dac  bbe8              CBNZ     r0,|L1.7722|
001dae  f8df9378          LDR      r9,|L1.8488|
001db2  f8b90000          LDRH     r0,[r9,#0]            ;2004  ; ad7705_buff_
001db6  f8dfb374          LDR      r11,|L1.8492|
001dba  f8bb1000          LDRH     r1,[r11,#0]           ;2005  ; Kibat0
001dbe  eba00001          SUB      r0,r0,r1              ;2005
001dc2  4adb              LDR      r2,|L1.8496|
001dc4  f9b21000          LDRSH    r1,[r2,#0]            ;2006  ; Kibat1
001dc8  fb01f100          MUL      r1,r1,r0              ;2006
001dcc  48d9              LDR      r0,|L1.8500|
001dce  f6456338          MOV      r3,#0x5e38            ;2007
001dd2  f6456c92          MOV      r12,#0x5e92           ;2007
001dd6  8800              LDRH     r0,[r0,#0]            ;2007  ; AUSW_MAIN
001dd8  4298              CMP      r0,r3                 ;2007
001dda  d001              BEQ      |L1.7648|
001ddc  4560              CMP      r0,r12                ;2007
001dde  d104              BNE      |L1.7658|
                  |L1.7648|
001de0  f44f7e96          MOV      lr,#0x12c             ;2007
001de4  fb91f1fe          SDIV     r1,r1,lr              ;2007
001de8  e00f              B        |L1.7690|
                  |L1.7658|
001dea  f5a04ea8          SUB      lr,r0,#0x5400
001dee  f5be7efd          SUBS     lr,lr,#0x1fa
001df2  d003              BEQ      |L1.7676|
001df4  4550              CMP      r0,r10
001df6  d001              BEQ      |L1.7676|
001df8  42b0              CMP      r0,r6
001dfa  d102              BNE      |L1.7682|
                  |L1.7676|
001dfc  fb91f1f5          SDIV     r1,r1,r5
001e00  e003              B        |L1.7690|
                  |L1.7682|
;;;2009   	else temp_SL/=1000L;
001e02  f44f7e7a          MOV      lr,#0x3e8
001e06  fb91f1fe          SDIV     r1,r1,lr
                  |L1.7690|
;;;2010   	#ifdef UKU_TELECORE2015
;;;2011   	temp_SL/=2L;
;;;2012   	//temp_SL=-temp_SL;
;;;2013   	#endif
;;;2014   	//#ifdef UKU_TELECORE2017
;;;2015   	//temp_SL/=-2L;
;;;2016   	//temp_SL=-temp_SL;
;;;2017   	//#endif
;;;2018   	bat[0]._Ib=(signed short)temp_SL;
001e0a  8121              STRH     r1,[r4,#8]
;;;2019   
;;;2020   	temp_SL=(signed long)ad7705_buff_[1];
001e0c  f8b91002          LDRH     r1,[r9,#2]  ; ad7705_buff_
;;;2021   	temp_SL-=(signed long)Kibat0[1];
001e10  f8bb9002          LDRH     r9,[r11,#2]  ; Kibat0
001e14  eba10909          SUB      r9,r1,r9
;;;2022   	temp_SL*=(signed long)Kibat1[1];
001e18  f9b21002          LDRSH    r1,[r2,#2]  ; Kibat1
001e1c  fb01f109          MUL      r1,r1,r9
;;;2023   	if((AUSW_MAIN==24120)||(AUSW_MAIN==24210))temp_SL/=300L;
001e20  4298              CMP      r0,r3
001e22  d001              BEQ      |L1.7720|
001e24  4560              CMP      r0,r12
001e26  d106              BNE      |L1.7734|
                  |L1.7720|
001e28  e000              B        |L1.7724|
                  |L1.7722|
001e2a  e015              B        |L1.7768|
                  |L1.7724|
001e2c  f44f7096          MOV      r0,#0x12c
001e30  fb91f0f0          SDIV     r0,r1,r0
001e34  e00e              B        |L1.7764|
                  |L1.7734|
;;;2024   	else if((AUSW_MAIN==22010)||(AUSW_MAIN==22035)||(AUSW_MAIN==22033))temp_SL/=2000L;
001e36  f5a042aa          SUB      r2,r0,#0x5500
001e3a  3afa              SUBS     r2,r2,#0xfa
001e3c  d003              BEQ      |L1.7750|
001e3e  4550              CMP      r0,r10
001e40  d001              BEQ      |L1.7750|
001e42  42b0              CMP      r0,r6
001e44  d102              BNE      |L1.7756|
                  |L1.7750|
001e46  fb91f0f5          SDIV     r0,r1,r5
001e4a  e003              B        |L1.7764|
                  |L1.7756|
;;;2025   	else temp_SL/=1000L;
001e4c  f44f707a          MOV      r0,#0x3e8
001e50  fb91f0f0          SDIV     r0,r1,r0
                  |L1.7764|
;;;2026   	bat[1]._Ib=(signed short)temp_SL;
001e54  f8a40054          STRH     r0,[r4,#0x54]
                  |L1.7768|
;;;2027   	}
;;;2028   
;;;2029   
;;;2030   
;;;2031   
;;;2032   
;;;2033   //“ÂÏÔÂ‡ÚÛ˚ ·‡Ú‡ÂÈ
;;;2034   
;;;2035   #ifdef UKU_KONTUR
;;;2036   if((adc_buff_[6]>800)&&(adc_buff_[6]<3800))bat[0]._nd=0;
;;;2037   else bat[0]._nd=1;
;;;2038   temp_SL=(signed long)adc_buff_[6];
;;;2039   temp_SL*=Ktbat[0];
;;;2040   temp_SL/=20000L;
;;;2041   temp_SL-=273L;
;;;2042   bat[0]._Tb=(signed short)temp_SL;
;;;2043   #else
;;;2044   if((adc_buff_[6]>800)&&(adc_buff_[6]<3800))bat[0]._nd=0;
001e58  f9b8000c          LDRSH    r0,[r8,#0xc]  ; adc_buff_
001e5c  f64031b7          MOV      r1,#0xbb7
001e60  4684              MOV      r12,r0
001e62  f2a03021          SUB      r0,r0,#0x321
001e66  2300              MOVS     r3,#0
;;;2045   else bat[0]._nd=1;
001e68  f04f0901          MOV      r9,#1
001e6c  9000              STR      r0,[sp,#0]            ;2044
001e6e  4288              CMP      r0,r1                 ;2044
001e70  d201              BCS      |L1.7798|
001e72  7323              STRB     r3,[r4,#0xc]          ;2044
001e74  e001              B        |L1.7802|
                  |L1.7798|
001e76  f884900c          STRB     r9,[r4,#0xc]
                  |L1.7802|
;;;2046   temp_SL=(signed long)adc_buff_[6];
;;;2047   temp_SL*=Ktbat[0];
001e7a  4aaf              LDR      r2,|L1.8504|
001e7c  f9b20000          LDRSH    r0,[r2,#0]  ; Ktbat
001e80  fb00f00c          MUL      r0,r0,r12
;;;2048   temp_SL/=20000L;
001e84  f6446e20          MOV      lr,#0x4e20
001e88  fb90f0fe          SDIV     r0,r0,lr
;;;2049   temp_SL-=273L;
001e8c  f2a01011          SUB      r0,r0,#0x111
;;;2050   bat[0]._Tb=(signed short)temp_SL;
001e90  8160              STRH     r0,[r4,#0xa]
;;;2051   #endif
;;;2052   
;;;2053   #ifdef UKU_KONTUR
;;;2054   if((adc_buff_[7]>800)&&(adc_buff_[7]<3800))bat[1]._nd=0;
;;;2055   else bat[1]._nd=1;
;;;2056   temp_SL=(signed long)adc_buff_[7];
;;;2057   temp_SL*=Ktbat[1];
;;;2058   temp_SL/=20000L;
;;;2059   temp_SL-=273L;
;;;2060   bat[1]._Tb=(signed short)temp_SL;
;;;2061   #else
;;;2062   if((adc_buff_[7]>800)&&(adc_buff_[7]<3800))bat[1]._nd=0;
001e92  f9b8000e          LDRSH    r0,[r8,#0xe]  ; adc_buff_
001e96  f64031b7          MOV      r1,#0xbb7
001e9a  f2a03b21          SUB      r11,r0,#0x321
001e9e  458b              CMP      r11,r1
001ea0  d202              BCS      |L1.7848|
001ea2  f8843058          STRB     r3,[r4,#0x58]
001ea6  e001              B        |L1.7852|
                  |L1.7848|
;;;2063   else bat[1]._nd=1;
001ea8  f8849058          STRB     r9,[r4,#0x58]
                  |L1.7852|
;;;2064   temp_SL=(signed long)adc_buff_[7];
;;;2065   temp_SL*=Ktbat[1];
001eac  f9b21002          LDRSH    r1,[r2,#2]  ; Ktbat
001eb0  4341              MULS     r1,r0,r1
;;;2066   temp_SL/=20000L;
001eb2  f6446020          MOV      r0,#0x4e20
001eb6  fb91f0f0          SDIV     r0,r1,r0
;;;2067   temp_SL-=273L;
001eba  f2a01011          SUB      r0,r0,#0x111
;;;2068   bat[1]._Tb=(signed short)temp_SL;
001ebe  4998              LDR      r1,|L1.8480|
001ec0  f8a10056          STRH     r0,[r1,#0x56]
;;;2069   #endif
;;;2070   
;;;2071   #ifdef UKU_6U
;;;2072   
;;;2073   if(NUMMAKB==2)
;;;2074   	{
;;;2075   	if(makb[0]._cnt<5)
;;;2076   		{
;;;2077   		if(makb[0]._T_nd[0]==0)
;;;2078   			{
;;;2079   			bat[0]._Tb=makb[0]._T[0];
;;;2080   			bat[0]._nd=0;
;;;2081   			}
;;;2082   		}
;;;2083   
;;;2084   	if(makb[1]._cnt<5)
;;;2085   		{
;;;2086   		if(makb[1]._T_nd[0]==0)
;;;2087   			{
;;;2088   			bat[1]._Tb=makb[1]._T[0];
;;;2089   			bat[1]._nd=0;
;;;2090   			}
;;;2091   		}
;;;2092   
;;;2093   	}
;;;2094   else if(NUMMAKB==4)
;;;2095   	{
;;;2096   	signed short temp_t;
;;;2097   	temp_t=-20;
;;;2098   	if(makb[0]._cnt<5)
;;;2099   		{
;;;2100   		if(makb[0]._T_nd[0]==0)
;;;2101   			{
;;;2102   			temp_t=makb[0]._T[0];
;;;2103   			bat[0]._nd=0;
;;;2104   			}
;;;2105   		}
;;;2106   	if(makb[1]._cnt<5)
;;;2107   		{
;;;2108   		if(makb[1]._T_nd[0]==0)
;;;2109   			{
;;;2110   			if(temp_t<makb[1]._T[0])
;;;2111   				{
;;;2112   				bat[0]._nd=0;
;;;2113   				temp_t=makb[1]._T[0];
;;;2114   				}
;;;2115   			}
;;;2116   		}
;;;2117   	if(temp_t!=-20)bat[0]._Tb = temp_t;
;;;2118   
;;;2119    	temp_t=-20;
;;;2120   	if(makb[2]._cnt<5)
;;;2121   		{
;;;2122   		if(makb[2]._T_nd[0]==0)
;;;2123   			{
;;;2124   			temp_t=makb[2]._T[0];
;;;2125   			bat[1]._nd=0;
;;;2126   			}
;;;2127   		}
;;;2128   	if(makb[3]._cnt<5)
;;;2129   		{
;;;2130   		if(makb[3]._T_nd[0]==0)
;;;2131   			{
;;;2132   			if(temp_t<makb[3]._T[0])
;;;2133   				{
;;;2134   				bat[1]._nd=0;
;;;2135   				temp_t=makb[3]._T[0];
;;;2136   				}
;;;2137   			}
;;;2138   		}
;;;2139   	if(temp_t!=-20)bat[1]._Tb = temp_t;
;;;2140   	}
;;;2141   
;;;2142   #endif
;;;2143   
;;;2144   
;;;2145   //Õ‡ÔˇÊÂÌËÂ Ì‡„ÛÁÍË
;;;2146   temp_SL=(signed long)adc_buff_[2];
001ec4  f9b81004          LDRSH    r1,[r8,#4]  ; adc_buff_
;;;2147   temp_SL*=Kuload;
001ec8  489c              LDR      r0,|L1.8508|
001eca  f9b00000          LDRSH    r0,[r0,#0]  ; Kuload
001ece  fb01f000          MUL      r0,r1,r0
;;;2148   temp_SL/=2000L;
001ed2  f44f62fa          MOV      r2,#0x7d0
001ed6  fb90f0f2          SDIV     r0,r0,r2
;;;2149   load_U=(signed short)temp_SL;
001eda  f8dfe264          LDR      lr,|L1.8512|
001ede  f8ae0000          STRH     r0,[lr,#0]
;;;2150   
;;;2151   #ifdef UKU_220 
;;;2152   //Õ‡ÔˇÊÂÌËÂ Ì‡„ÛÁÍË
;;;2153   temp_SL=(signed long)adc_buff_[2];
;;;2154   temp_SL*=Kuload;
;;;2155   temp_SL/=350L;
;;;2156   load_U=(signed short)temp_SL;
;;;2157   #endif
;;;2158   
;;;2159   #ifdef UKU_220_V2 
;;;2160   //Õ‡ÔˇÊÂÌËÂ Ì‡„ÛÁÍË
;;;2161   temp_SL=(signed long)adc_buff_[2];
;;;2162   temp_SL*=Kuload;
;;;2163   temp_SL/=350L;
;;;2164   load_U=(signed short)temp_SL;
;;;2165   #endif
;;;2166   
;;;2167   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;2168   //Õ‡ÔˇÊÂÌËÂ ¯ËÌ˚
;;;2169   temp_SL=(signed long)adc_buff_[1];
001ee2  f9b82002          LDRSH    r2,[r8,#2]  ; adc_buff_
;;;2170   temp_SL*=Kuout;
001ee6  4897              LDR      r0,|L1.8516|
001ee8  f9b00000          LDRSH    r0,[r0,#0]  ; Kuout
001eec  fb02f200          MUL      r2,r2,r0
;;;2171   if(AUSW_MAIN==22010)temp_SL/=400L;
001ef0  4890              LDR      r0,|L1.8500|
001ef2  f24554fa          MOV      r4,#0x55fa
001ef6  f44f75c8          MOV      r5,#0x190
001efa  8800              LDRH     r0,[r0,#0]  ; AUSW_MAIN
001efc  42a0              CMP      r0,r4
001efe  d102              BNE      |L1.7942|
001f00  fb92f2f5          SDIV     r2,r2,r5
001f04  e003              B        |L1.7950|
                  |L1.7942|
;;;2172   else temp_SL/=500L;
001f06  f44f7bfa          MOV      r11,#0x1f4
001f0a  fb92f2fb          SDIV     r2,r2,r11
                  |L1.7950|
;;;2173   out_U=(signed short)temp_SL;
001f0e  fa0ffb82          SXTH     r11,r2
001f12  4a8d              LDR      r2,|L1.8520|
001f14  f8a2b000          STRH     r11,[r2,#0]
;;;2174   load_U=out_U;
001f18  f8aeb000          STRH     r11,[lr,#0]
;;;2175   
;;;2176   //Õ‡ÔˇÊÂÌËÂ ‚˚ÔˇÏËÚÂÎÂÈ
;;;2177   temp_SL=(signed long)adc_buff_[2];
;;;2178   temp_SL*=Kubps;
001f1c  4a8b              LDR      r2,|L1.8524|
001f1e  f9b22000          LDRSH    r2,[r2,#0]  ; Kubps
001f22  fb01f102          MUL      r1,r1,r2
;;;2179   if(AUSW_MAIN==22010)temp_SL/=400L;
001f26  d102              BNE      |L1.7982|
001f28  fb91f1f5          SDIV     r1,r1,r5
001f2c  e003              B        |L1.7990|
                  |L1.7982|
;;;2180   else temp_SL/=500L;
001f2e  f44f72fa          MOV      r2,#0x1f4
001f32  fb91f1f2          SDIV     r1,r1,r2
                  |L1.7990|
;;;2181   bps_U=(signed short)temp_SL;
001f36  4d86              LDR      r5,|L1.8528|
001f38  b209              SXTH     r1,r1
001f3a  8029              STRH     r1,[r5,#0]
;;;2182   
;;;2183   if(bps_U<100)
001f3c  2964              CMP      r1,#0x64
001f3e  da18              BGE      |L1.8050|
;;;2184   	{
;;;2185   	char i;
;;;2186   	for(i=0;i<NUMIST;i++)
001f40  f04f0100          MOV      r1,#0
001f44  4a83              LDR      r2,|L1.8532|
001f46  f8dfe210          LDR      lr,|L1.8536|
001f4a  f9b28000          LDRSH    r8,[r2,#0]
001f4e  e00e              B        |L1.8046|
                  |L1.8016|
;;;2187   		{
;;;2188   		if(bps[i]._Uin>bps_U)bps_U=bps[i]._Uin;
001f50  ebc102c1          RSB      r2,r1,r1,LSL #3
001f54  eb021201          ADD      r2,r2,r1,LSL #4
001f58  eb0e0282          ADD      r2,lr,r2,LSL #2
001f5c  f9b54000          LDRSH    r4,[r5,#0]  ; bps_U
001f60  6a12              LDR      r2,[r2,#0x20]
001f62  42a2              CMP      r2,r4
001f64  dd00              BLE      |L1.8040|
001f66  802a              STRH     r2,[r5,#0]
                  |L1.8040|
001f68  f1010101          ADD      r1,r1,#1              ;2186
001f6c  b2c9              UXTB     r1,r1                 ;2186
                  |L1.8046|
001f6e  4541              CMP      r1,r8                 ;2186
001f70  dbee              BLT      |L1.8016|
                  |L1.8050|
;;;2189   		}
;;;2190   	}
;;;2191   
;;;2192   //—ÛÏÏ‡Ì˚È ÚÓÍ ‚˚ÔˇÏËÚÂÎÂÈ
;;;2193   temp_SL=0;
001f72  f04f0500          MOV      r5,#0
;;;2194   for (i=0;i<NUMIST;i++)
001f76  4629              MOV      r1,r5
001f78  4a76              LDR      r2,|L1.8532|
001f7a  4c77              LDR      r4,|L1.8536|
001f7c  f9b22000          LDRSH    r2,[r2,#0]            ;2186
001f80  e00b              B        |L1.8090|
                  |L1.8066|
;;;2195   	{
;;;2196   	temp_SL+=((signed long)bps[i]._Ii);
001f82  ebc108c1          RSB      r8,r1,r1,LSL #3
001f86  eb081801          ADD      r8,r8,r1,LSL #4
001f8a  eb040888          ADD      r8,r4,r8,LSL #2
001f8e  f8d88024          LDR      r8,[r8,#0x24]
001f92  4445              ADD      r5,r5,r8
001f94  f1010101          ADD      r1,r1,#1              ;2194
001f98  b2c9              UXTB     r1,r1                 ;2194
                  |L1.8090|
001f9a  4291              CMP      r1,r2                 ;2194
001f9c  dbf1              BLT      |L1.8066|
;;;2197   	}
;;;2198   bps_I=(signed short)temp_SL;
001f9e  496f              LDR      r1,|L1.8540|
001fa0  800d              STRH     r5,[r1,#0]
;;;2199   
;;;2200   
;;;2201   #endif
;;;2202   
;;;2203   
;;;2204   #ifdef UKU_KONTUR
;;;2205   //¬ÌÂ¯ÌËÈ ‰‡Ú˜ËÍ ÚÂÏÔÂ‡ÚÛ˚ π1(ÚÂÏÔÂ‡ÚÛ‡ ‚ÌÂ¯ÌÂ„Ó ‚ÓÁ‰Ûı‡)
;;;2206   if((adc_buff_[5]>800)&&(adc_buff_[5]<3800))ND_EXT[0]=0;
;;;2207   else ND_EXT[0]=1;
;;;2208   temp_SL=(signed long)adc_buff_[5];
;;;2209   temp_SL*=Ktext[0];
;;;2210   temp_SL/=20000L;
;;;2211   temp_SL-=273L;
;;;2212   t_ext[0]=(signed short)temp_SL;
;;;2213   #else 
;;;2214   //¬ÌÂ¯ÌËÈ ‰‡Ú˜ËÍ ÚÂÏÔÂ‡ÚÛ˚ π1(ÚÂÏÔÂ‡ÚÛ‡ ‚ÌÂ¯ÌÂ„Ó ‚ÓÁ‰Ûı‡)
;;;2215   if((adc_buff_[5]>800)&&(adc_buff_[5]<3800))ND_EXT[0]=0;
001fa2  495d              LDR      r1,|L1.8472|
001fa4  f8df81b8          LDR      r8,|L1.8544|
001fa8  f9b1500a          LDRSH    r5,[r1,#0xa]  ; adc_buff_
001fac  f64031b7          MOV      r1,#0xbb7
001fb0  f2a53e21          SUB      lr,r5,#0x321
001fb4  458e              CMP      lr,r1
001fb6  d202              BCS      |L1.8126|
001fb8  f8883000          STRB     r3,[r8,#0]
001fbc  e001              B        |L1.8130|
                  |L1.8126|
;;;2216   else ND_EXT[0]=1;
001fbe  f8889000          STRB     r9,[r8,#0]
                  |L1.8130|
;;;2217   temp_SL=(signed long)adc_buff_[5];
;;;2218   temp_SL*=Ktext[0];
001fc2  4968              LDR      r1,|L1.8548|
001fc4  f9b11000          LDRSH    r1,[r1,#0]  ; Ktext
001fc8  434d              MULS     r5,r1,r5
;;;2219   temp_SL/=20000L;
001fca  f6446e20          MOV      lr,#0x4e20
001fce  fb95f5fe          SDIV     r5,r5,lr
;;;2220   temp_SL-=273L;
001fd2  f2a51511          SUB      r5,r5,#0x111
;;;2221   t_ext[0]=(signed short)temp_SL;
001fd6  f8dfe190          LDR      lr,|L1.8552|
001fda  f8ae5000          STRH     r5,[lr,#0]
;;;2222   /*
;;;2223   if((adc_buff_[6]>800)&&(adc_buff_[6]<3800))ND_EXT[1]=0;
;;;2224   else ND_EXT[1]=1;
;;;2225   temp_SL=(signed long)adc_buff_[6];
;;;2226   temp_SL*=Ktext[1];
;;;2227   temp_SL/=20000L;
;;;2228   temp_SL-=273L;
;;;2229   t_ext[1]=(signed short)temp_SL;	*/
;;;2230   #endif
;;;2231   
;;;2232   #ifdef UKU_220
;;;2233   
;;;2234   //¬ÌÂ¯ÌËÈ ‰‡Ú˜ËÍ ÚÂÏÔÂ‡ÚÛ˚ π2(ÚÂÏÔÂ‡ÚÛ‡ ÓÚÒÂÍ‡ ›œ”)
;;;2235   if((adc_buff_[3]>800)&&(adc_buff_[3]<3800))ND_EXT[1]=0;
;;;2236   else ND_EXT[1]=1;
;;;2237   temp_SL=(signed long)adc_buff_[3];
;;;2238   temp_SL*=Ktext[1];
;;;2239   temp_SL/=20000L;
;;;2240   temp_SL-=273L;
;;;2241   t_ext[1]=(signed short)temp_SL;
;;;2242   
;;;2243   //¬ÌÂ¯ÌËÈ ‰‡Ú˜ËÍ ÚÂÏÔÂ‡ÚÛ˚ π3(ÚÂÏÔÂ‡ÚÛ‡ ÓÚÒÂÍ‡ MSAN)
;;;2244   if((adc_buff_[10]>800)&&(adc_buff_[10]<3800))ND_EXT[2]=0;
;;;2245   else ND_EXT[2]=1;
;;;2246   temp_SL=(signed long)adc_buff_[10];
;;;2247   temp_SL*=Ktext[2];
;;;2248   temp_SL/=20000L;
;;;2249   temp_SL-=273L;
;;;2250   t_ext[2]=(signed short)temp_SL;
;;;2251   
;;;2252   #else
;;;2253   
;;;2254   
;;;2255   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;2256   
;;;2257   //¬ÌÂ¯ÌËÈ ‰‡Ú˜ËÍ ÚÂÏÔÂ‡ÚÛ˚ 
;;;2258   if((adc_buff_[6]>800)&&(adc_buff_[6]<3800))ND_EXT[0]=0;
001fde  9d00              LDR      r5,[sp,#0]
001fe0  f6403eb7          MOV      lr,#0xbb7
001fe4  4575              CMP      r5,lr
001fe6  d202              BCS      |L1.8174|
001fe8  f8883000          STRB     r3,[r8,#0]
001fec  e001              B        |L1.8178|
                  |L1.8174|
;;;2259   else ND_EXT[0]=1;
001fee  f8889000          STRB     r9,[r8,#0]
                  |L1.8178|
;;;2260   temp_SL=(signed long)adc_buff_[6];
;;;2261   temp_SL*=Ktext[0];
001ff2  fb01f10c          MUL      r1,r1,r12
;;;2262   temp_SL/=20000L;
001ff6  f6446520          MOV      r5,#0x4e20
001ffa  fb91f1f5          SDIV     r1,r1,r5
;;;2263   temp_SL-=273L;
001ffe  f2a11111          SUB      r1,r1,#0x111
;;;2264   t_ext[0]=(signed short)temp_SL;
002002  4d59              LDR      r5,|L1.8552|
002004  8029              STRH     r1,[r5,#0]
;;;2265   
;;;2266   #else
;;;2267   
;;;2268   
;;;2269   
;;;2270   //¬ÌÂ¯ÌËÈ ‰‡Ú˜ËÍ ÚÂÏÔÂ‡ÚÛ˚ π2(ÚÂÏÔÂ‡ÚÛ‡ ÓÚÒÂÍ‡ ›œ”)
;;;2271   if((adc_buff_[6]>800)&&(adc_buff_[6]<3800))ND_EXT[1]=0;
;;;2272   else ND_EXT[1]=1;
;;;2273   temp_SL=(signed long)adc_buff_[6];
;;;2274   temp_SL*=Ktext[1];
;;;2275   temp_SL/=20000L;
;;;2276   temp_SL-=273L;
;;;2277   t_ext[1]=(signed short)temp_SL;
;;;2278   
;;;2279   //¬ÌÂ¯ÌËÈ ‰‡Ú˜ËÍ ÚÂÏÔÂ‡ÚÛ˚ π3(ÚÂÏÔÂ‡ÚÛ‡ ÓÚÒÂÍ‡ MSAN)
;;;2280   if((adc_buff_[3]>800)&&(adc_buff_[3]<3800))ND_EXT[2]=0;
;;;2281   else ND_EXT[2]=1;
;;;2282   temp_SL=(signed long)adc_buff_[3];
;;;2283   temp_SL*=Ktext[2];
;;;2284   temp_SL/=20000L;
;;;2285   temp_SL-=273L;
;;;2286   t_ext[2]=(signed short)temp_SL;
;;;2287   
;;;2288   #endif
;;;2289   #endif
;;;2290   
;;;2291   #ifdef UKU_220_V2
;;;2292   
;;;2293   //¬ÌÂ¯ÌËÈ ‰‡Ú˜ËÍ ÚÂÏÔÂ‡ÚÛ˚ π2(ÚÂÏÔÂ‡ÚÛ‡ ÓÚÒÂÍ‡ ›œ”)
;;;2294   if((adc_buff_[3]>800)&&(adc_buff_[3]<3800))ND_EXT[1]=0;
;;;2295   else ND_EXT[1]=1;
;;;2296   temp_SL=(signed long)adc_buff_[3];
;;;2297   temp_SL*=Ktext[1];
;;;2298   temp_SL/=20000L;
;;;2299   temp_SL-=273L;
;;;2300   t_ext[1]=(signed short)temp_SL;
;;;2301   
;;;2302   //¬ÌÂ¯ÌËÈ ‰‡Ú˜ËÍ ÚÂÏÔÂ‡ÚÛ˚ π3(ÚÂÏÔÂ‡ÚÛ‡ ÓÚÒÂÍ‡ MSAN)
;;;2303   if((adc_buff_[10]>800)&&(adc_buff_[10]<3800))ND_EXT[2]=0;
;;;2304   else ND_EXT[2]=1;
;;;2305   temp_SL=(signed long)adc_buff_[10];
;;;2306   temp_SL*=Ktext[2];
;;;2307   temp_SL/=20000L;
;;;2308   temp_SL-=273L;
;;;2309   t_ext[2]=(signed short)temp_SL;
;;;2310   
;;;2311   #else
;;;2312   
;;;2313   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;2314   //“ÓÍ ·‡Ú‡ÂË
;;;2315   if(bps[8]._device==dIBAT_METR)
002006  f89412e0          LDRB     r1,[r4,#0x2e0]  ; bps
;;;2316   	{
;;;2317   	ibat_metr_buff_[0]=((signed long)bps[8]._buff[0])+(((signed long)bps[8]._buff[1])<<8);
;;;2318   	ibat_metr_buff_[1]=((signed long)bps[8]._buff[2])+(((signed long)bps[8]._buff[3])<<8);
;;;2319   	bIBAT_SMKLBR=((signed short)bps[8]._buff[4])+(((signed short)bps[8]._buff[5])<<8);
;;;2320   
;;;2321   	if(!bIBAT_SMKLBR)
;;;2322   		{
;;;2323   		signed long temp_SL;
;;;2324   		temp_SL=(signed long)ibat_metr_buff_[0];
;;;2325   		temp_SL-=(signed long)ibat_metr_buff_[1];
;;;2326   		temp_SL*=(signed long)Kibat1[0];
;;;2327   		if((AUSW_MAIN==22010)||(AUSW_MAIN==22011)||(AUSW_MAIN==22035)||(AUSW_MAIN==22033)||(AUSW_MAIN==22063)||(AUSW_MAIN==22023)||(AUSW_MAIN==22043)||(AUSW_MAIN==22044))temp_SL/=2000L;
;;;2328   	
;;;2329   		Ib_ips_termokompensat =(signed short)temp_SL;
00200a  f8dfc160          LDR      r12,|L1.8556|
00200e  2909              CMP      r1,#9                 ;2315
002010  d13f              BNE      |L1.8338|
002012  f89412e6          LDRB     r1,[r4,#0x2e6]        ;2317  ; bps
002016  f89452e7          LDRB     r5,[r4,#0x2e7]        ;2317  ; bps
00201a  f8dfe154          LDR      lr,|L1.8560|
00201e  eb012105          ADD      r1,r1,r5,LSL #8       ;2317
002022  f8ce1000          STR      r1,[lr,#0]            ;2317  ; ibat_metr_buff_
002026  f89452e8          LDRB     r5,[r4,#0x2e8]        ;2318  ; bps
00202a  f89492e9          LDRB     r9,[r4,#0x2e9]        ;2318  ; bps
00202e  eb052509          ADD      r5,r5,r9,LSL #8       ;2318
002032  f8ce5004          STR      r5,[lr,#4]            ;2318  ; ibat_metr_buff_
002036  f89492ea          LDRB     r9,[r4,#0x2ea]        ;2319  ; bps
00203a  f894e2eb          LDRB     lr,[r4,#0x2eb]        ;2319  ; bps
00203e  eb09290e          ADD      r9,r9,lr,LSL #8       ;2319
002042  f8dfe130          LDR      lr,|L1.8564|
002046  fa0ff989          SXTH     r9,r9                 ;2319
00204a  f8ae9000          STRH     r9,[lr,#0]            ;2319
00204e  f1b90f00          CMP      r9,#0                 ;2321
002052  d11e              BNE      |L1.8338|
002054  eba10505          SUB      r5,r1,r5              ;2325
002058  4935              LDR      r1,|L1.8496|
00205a  f9b11000          LDRSH    r1,[r1,#0]            ;2326  ; Kibat1
00205e  fb01f105          MUL      r1,r1,r5              ;2326
002062  f5a045aa          SUB      r5,r0,#0x5500         ;2327
002066  3dfa              SUBS     r5,r5,#0xfa           ;2327
002068  d00d              BEQ      |L1.8326|
00206a  1e6d              SUBS     r5,r5,#1              ;2327
00206c  d00b              BEQ      |L1.8326|
00206e  4550              CMP      r0,r10                ;2327
002070  d009              BEQ      |L1.8326|
002072  42b0              CMP      r0,r6                 ;2327
002074  d007              BEQ      |L1.8326|
002076  3d34              SUBS     r5,r5,#0x34           ;2327
002078  d005              BEQ      |L1.8326|
00207a  3528              ADDS     r5,r5,#0x28           ;2327
00207c  d003              BEQ      |L1.8326|
00207e  3d14              SUBS     r5,r5,#0x14           ;2327
002080  d001              BEQ      |L1.8326|
002082  1e6d              SUBS     r5,r5,#1              ;2327
002084  d103              BNE      |L1.8334|
                  |L1.8326|
002086  f44f65fa          MOV      r5,#0x7d0             ;2327
00208a  fb91f1f5          SDIV     r1,r1,r5              ;2327
                  |L1.8334|
00208e  f8ac1000          STRH     r1,[r12,#0]
                  |L1.8338|
;;;2330   		}
;;;2331   	}
;;;2332   
;;;2333   bat[0]._Ub=load_U;
002092  4d23              LDR      r5,|L1.8480|
002094  f8a5b002          STRH     r11,[r5,#2]
;;;2334   if(AUSW_MAIN==22018) Ib_ips_termokompensat=bat[0]._Ib;
002098  f5a041ac          SUB      r1,r0,#0x5600
00209c  3902              SUBS     r1,#2
00209e  d103              BNE      |L1.8360|
0020a0  8928              LDRH     r0,[r5,#8]  ; bat
0020a2  f8ac0000          STRH     r0,[r12,#0]
0020a6  e002              B        |L1.8366|
                  |L1.8360|
;;;2335   else bat[0]._Ib=Ib_ips_termokompensat;
0020a8  f8bc0000          LDRH     r0,[r12,#0]  ; Ib_ips_termokompensat
0020ac  8128              STRH     r0,[r5,#8]
                  |L1.8366|
;;;2336   
;;;2337   #endif
;;;2338   #endif
;;;2339   
;;;2340   
;;;2341   #ifdef UKU_TELECORE2015
;;;2342   
;;;2343   //¬ÌÂ¯ÌËÈ ‰‡Ú˜ËÍ ÚÂÏÔÂ‡ÚÛ˚ π1
;;;2344   if((adc_buff_[7]>800)&&(adc_buff_[7]<3800))ND_EXT[0]=0;
;;;2345   else ND_EXT[0]=1;
;;;2346   temp_SL=(signed long)adc_buff_[7];
;;;2347   temp_SL*=Ktext[0];
;;;2348   temp_SL/=20000L;
;;;2349   temp_SL-=273L;
;;;2350   t_ext[0]=(signed short)temp_SL;
;;;2351   
;;;2352   
;;;2353   //¬ÌÂ¯ÌËÈ ‰‡Ú˜ËÍ ÚÂÏÔÂ‡ÚÛ˚ π2
;;;2354   if((adc_buff_[6]>800)&&(adc_buff_[6]<3800))ND_EXT[1]=0;
;;;2355   else ND_EXT[1]=1;
;;;2356   temp_SL=(signed long)adc_buff_[6];
;;;2357   temp_SL*=Ktext[1];
;;;2358   temp_SL/=20000L;
;;;2359   temp_SL-=273L;
;;;2360   t_ext[1]=(signed short)temp_SL;
;;;2361   
;;;2362   #endif
;;;2363   
;;;2364   #ifdef UKU_TELECORE2017
;;;2365   
;;;2366   //¬ÌÂ¯ÌËÈ ‰‡Ú˜ËÍ ÚÂÏÔÂ‡ÚÛ˚ π1
;;;2367   if((adc_buff_[7]>800)&&(adc_buff_[7]<3800))ND_EXT[0]=0;
;;;2368   else ND_EXT[0]=1;
;;;2369   temp_SL=(signed long)adc_buff_[7];
;;;2370   temp_SL*=Ktext[0];
;;;2371   temp_SL/=20000L;
;;;2372   temp_SL-=273L;
;;;2373   t_ext[0]=(signed short)temp_SL;
;;;2374   
;;;2375   
;;;2376   //¬ÌÂ¯ÌËÈ ‰‡Ú˜ËÍ ÚÂÏÔÂ‡ÚÛ˚ π2
;;;2377   if((adc_buff_[6]>800)&&(adc_buff_[6]<3800))ND_EXT[1]=0;
;;;2378   else ND_EXT[1]=1;
;;;2379   temp_SL=(signed long)adc_buff_[6];
;;;2380   temp_SL*=Ktext[1];
;;;2381   temp_SL/=20000L;
;;;2382   temp_SL-=273L;
;;;2383   t_ext[1]=(signed short)temp_SL;
;;;2384   
;;;2385   #endif
;;;2386   
;;;2387   //Ì‡ÔˇÊÂÌËÂ ‚‚Ó‰‡
;;;2388   temp_SL=(signed long)adc_buff_ext_[0];
0020ae  f8df90c8          LDR      r9,|L1.8568|
0020b2  f8b91000          LDRH     r1,[r9,#0]  ; adc_buff_ext_
;;;2389   temp_SL*=Kunet_ext[0];
0020b6  f8dfa0c4          LDR      r10,|L1.8572|
0020ba  f9ba0000          LDRSH    r0,[r10,#0]  ; Kunet_ext
0020be  4348              MULS     r0,r1,r0
;;;2390   temp_SL/=4000L;
0020c0  f44f667a          MOV      r6,#0xfa0
0020c4  fb90f0f6          SDIV     r0,r0,r6
;;;2391   Uvv[0]=(signed short)temp_SL;
0020c8  492d              LDR      r1,|L1.8576|
0020ca  b280              UXTH     r0,r0
0020cc  8008              STRH     r0,[r1,#0]
;;;2392   if(Uvv[0]<100) Uvv0=Uvv[0];
0020ce  f8dfe0b4          LDR      lr,|L1.8580|
0020d2  2864              CMP      r0,#0x64
0020d4  d202              BCS      |L1.8412|
0020d6  f8ae0000          STRH     r0,[lr,#0]
0020da  e003              B        |L1.8420|
                  |L1.8412|
;;;2393   else Uvv0=net_U;
0020dc  480b              LDR      r0,|L1.8460|
0020de  8800              LDRH     r0,[r0,#0]  ; net_U
0020e0  f8ae0000          STRH     r0,[lr,#0]
                  |L1.8420|
;;;2394   
;;;2395   //Ì‡ÔˇÊÂÌËÂ Ô˝Ò
;;;2396   temp_SL=(signed long)adc_buff_ext_[1];
0020e4  f8b99002          LDRH     r9,[r9,#2]  ; adc_buff_ext_
;;;2397   temp_SL*=Kunet_ext[1];
0020e8  f9ba0002          LDRSH    r0,[r10,#2]  ; Kunet_ext
0020ec  fb00f009          MUL      r0,r0,r9
;;;2398   temp_SL/=4000L;
0020f0  fb90f0f6          SDIV     r0,r0,r6
;;;2399   Uvv[1]=(signed short)temp_SL;
0020f4  8048              STRH     r0,[r1,#2]
;;;2400   
;;;2401   
;;;2402   //Ì‡ÔˇÊÂÌËÂ ‚‚Ó‰‡ ÚÂıÙ‡ÁÌÓÂ
;;;2403   temp_SL=(signed long)eb2_data_short[0];
0020f6  4924              LDR      r1,|L1.8584|
0020f8  f9b10000          LDRSH    r0,[r1,#0]  ; eb2_data_short
;;;2404   temp_SL*=Kvv_eb2[0];
0020fc  4e23              LDR      r6,|L1.8588|
0020fe  f9b69000          LDRSH    r9,[r6,#0]  ; Kvv_eb2
002102  e045              B        |L1.8592|
                  |L1.8452|
                          DCD      Kunet
                  |L1.8456|
                          DCD      ||area_number.23||
                  |L1.8460|
                          DCD      net_U
                  |L1.8464|
                          DCD      net_F
                  |L1.8468|
                          DCD      net_F3
                  |L1.8472|
                          DCD      ||.bss||+0x400
                  |L1.8476|
                          DCD      Kubat
                  |L1.8480|
                          DCD      bat
                  |L1.8484|
                          DCD      Kubatm
                  |L1.8488|
                          DCD      ad7705_buff_
                  |L1.8492|
                          DCD      Kibat0
                  |L1.8496|
                          DCD      Kibat1
                  |L1.8500|
                          DCD      AUSW_MAIN
                  |L1.8504|
                          DCD      Ktbat
                  |L1.8508|
                          DCD      Kuload
                  |L1.8512|
                          DCD      load_U
                  |L1.8516|
                          DCD      Kuout
                  |L1.8520|
                          DCD      out_U
                  |L1.8524|
                          DCD      Kubps
                  |L1.8528|
                          DCD      bps_U
                  |L1.8532|
                          DCD      NUMIST
                  |L1.8536|
                          DCD      bps
                  |L1.8540|
                          DCD      bps_I
                  |L1.8544|
                          DCD      ND_EXT
                  |L1.8548|
                          DCD      Ktext
                  |L1.8552|
                          DCD      t_ext
                  |L1.8556|
                          DCD      Ib_ips_termokompensat
                  |L1.8560|
                          DCD      ibat_metr_buff_
                  |L1.8564|
                          DCD      bIBAT_SMKLBR
                  |L1.8568|
                          DCD      adc_buff_ext_
                  |L1.8572|
                          DCD      Kunet_ext
                  |L1.8576|
                          DCD      Uvv
                  |L1.8580|
                          DCD      Uvv0
                  |L1.8584|
                          DCD      eb2_data_short
                  |L1.8588|
                          DCD      Kvv_eb2
                  |L1.8592|
002190  fb09f900          MUL      r9,r9,r0
;;;2405   temp_SL/=6000L;
002194  f2417070          MOV      r0,#0x1770
002198  fb99faf0          SDIV     r10,r9,r0
;;;2406   Uvv_eb2[0]=(signed short)temp_SL;
00219c  f8df9438          LDR      r9,|L1.9688|
0021a0  f8a9a000          STRH     r10,[r9,#0]
;;;2407   
;;;2408   temp_SL=(signed long)eb2_data_short[1];
0021a4  f9b1e002          LDRSH    lr,[r1,#2]  ; eb2_data_short
;;;2409   temp_SL*=Kvv_eb2[1];
0021a8  f9b6a002          LDRSH    r10,[r6,#2]  ; Kvv_eb2
0021ac  fb0afa0e          MUL      r10,r10,lr
;;;2410   temp_SL/=6000L;
0021b0  fb9afaf0          SDIV     r10,r10,r0
;;;2411   Uvv_eb2[1]=(signed short)temp_SL;
0021b4  f8a9a002          STRH     r10,[r9,#2]
;;;2412   
;;;2413   temp_SL=(signed long)eb2_data_short[2];
0021b8  f9b1a004          LDRSH    r10,[r1,#4]  ; eb2_data_short
;;;2414   temp_SL*=Kvv_eb2[2];
0021bc  f9b66004          LDRSH    r6,[r6,#4]  ; Kvv_eb2
0021c0  fb06f60a          MUL      r6,r6,r10
;;;2415   temp_SL/=6000L;
0021c4  fb96f6f0          SDIV     r6,r6,r0
;;;2416   Uvv_eb2[2]=(signed short)temp_SL;
0021c8  f8a96004          STRH     r6,[r9,#4]
;;;2417   
;;;2418   //Ì‡ÔˇÊÂÌËÂ Ô˝Ò ÚÂıÙ‡ÁÌÓÂ
;;;2419   temp_SL=(signed long)eb2_data_short[3];
0021cc  f9b1a006          LDRSH    r10,[r1,#6]  ; eb2_data_short
;;;2420   temp_SL*=Kpes_eb2[0];
0021d0  f8df9408          LDR      r9,|L1.9692|
0021d4  f9b96000          LDRSH    r6,[r9,#0]  ; Kpes_eb2
0021d8  fb06f60a          MUL      r6,r6,r10
;;;2421   temp_SL/=6000L;
0021dc  fb96faf0          SDIV     r10,r6,r0
;;;2422   Upes_eb2[0]=(signed short)temp_SL;
0021e0  4eff              LDR      r6,|L1.9696|
0021e2  f8a6a000          STRH     r10,[r6,#0]
;;;2423   
;;;2424   temp_SL=(signed long)eb2_data_short[4];
0021e6  f9b1e008          LDRSH    lr,[r1,#8]  ; eb2_data_short
;;;2425   temp_SL*=Kpes_eb2[1];
0021ea  f9b9a002          LDRSH    r10,[r9,#2]  ; Kpes_eb2
0021ee  fb0afa0e          MUL      r10,r10,lr
;;;2426   temp_SL/=6000L;
0021f2  fb9afaf0          SDIV     r10,r10,r0
;;;2427   Upes_eb2[1]=(signed short)temp_SL;
0021f6  f8a6a002          STRH     r10,[r6,#2]
;;;2428   
;;;2429   temp_SL=(signed long)eb2_data_short[5];
0021fa  f9b1100a          LDRSH    r1,[r1,#0xa]  ; eb2_data_short
;;;2430   temp_SL*=Kpes_eb2[2];
0021fe  f9b99004          LDRSH    r9,[r9,#4]  ; Kpes_eb2
002202  fb09f901          MUL      r9,r9,r1
;;;2431   temp_SL/=6000L;
002206  fb99f0f0          SDIV     r0,r9,r0
;;;2432   Upes_eb2[2]=(signed short)temp_SL;
00220a  80b0              STRH     r0,[r6,#4]
;;;2433   
;;;2434   //¬˚˜ËÒÎÂÌËÂ ÚÂÏÔÂ‡ÚÛ˚ ¯Í‡Ù‡
;;;2435   
;;;2436   ibt._T[0]=t_ext[1]+273;
00220c  48f5              LDR      r0,|L1.9700|
00220e  4ef6              LDR      r6,|L1.9704|
002210  8841              LDRH     r1,[r0,#2]  ; t_ext
002212  f2011111          ADD      r1,r1,#0x111
002216  fa0ff981          SXTH     r9,r1
00221a  f8a69000          STRH     r9,[r6,#0]
;;;2437   ibt._T[1]=t_ext[2]+273;
00221e  8880              LDRH     r0,[r0,#4]  ; t_ext
002220  f2001011          ADD      r0,r0,#0x111
002224  fa0ffa80          SXTH     r10,r0
002228  f8a6a002          STRH     r10,[r6,#2]
;;;2438   
;;;2439   ibt._nd[0]=ND_EXT[1];
00222c  f8981001          LDRB     r1,[r8,#1]  ; ND_EXT
002230  7231              STRB     r1,[r6,#8]
;;;2440   ibt._nd[1]=ND_EXT[2];
002232  f8980002          LDRB     r0,[r8,#2]  ; ND_EXT
002236  7270              STRB     r0,[r6,#9]
;;;2441   
;;;2442   #ifndef UKU_TELECORE2015
;;;2443   if((ibt._nd[0]==0) &&  (ibt._nd[1]==0))
;;;2444   	{
;;;2445   	t_box=((ibt._T[0]+ibt._T[1])/2)-273;
002238  4eec              LDR      r6,|L1.9708|
00223a  b901              CBNZ     r1,|L1.8766|
00223c  b110              CBZ      r0,|L1.8772|
                  |L1.8766|
;;;2446   	}
;;;2447   else if((ibt._nd[0]==1) &&  (ibt._nd[1]==0))
00223e  2901              CMP      r1,#1
002240  d00a              BEQ      |L1.8792|
002242  e00a              B        |L1.8794|
                  |L1.8772|
002244  eb09000a          ADD      r0,r9,r10             ;2445
002248  eb0070d0          ADD      r0,r0,r0,LSR #31      ;2445
00224c  f46f7188          MVN      r1,#0x110             ;2445
002250  eb010060          ADD      r0,r1,r0,ASR #1       ;2445
002254  8030              STRH     r0,[r6,#0]            ;2445
002256  e01e              B        |L1.8854|
                  |L1.8792|
002258  b108              CBZ      r0,|L1.8798|
                  |L1.8794|
;;;2448   	{
;;;2449   	t_box=ibt._T[1]-273;
;;;2450   	}
;;;2451   else if((ibt._nd[0]==0) &&  (ibt._nd[1]==1))
00225a  b129              CBZ      r1,|L1.8808|
00225c  e006              B        |L1.8812|
                  |L1.8798|
00225e  f2aa1a11          SUB      r10,r10,#0x111        ;2449
002262  f8a6a000          STRH     r10,[r6,#0]           ;2449
002266  e016              B        |L1.8854|
                  |L1.8808|
002268  2801              CMP      r0,#1
00226a  d002              BEQ      |L1.8818|
                  |L1.8812|
;;;2452   	{
;;;2453   	t_box=ibt._T[0]-273;
;;;2454   	}
;;;2455   else if((ibt._nd[0]==1) &&  (ibt._nd[1]==1))
00226c  2901              CMP      r1,#1
00226e  d005              BEQ      |L1.8828|
002270  e011              B        |L1.8854|
                  |L1.8818|
002272  f2a91911          SUB      r9,r9,#0x111          ;2453
002276  f8a69000          STRH     r9,[r6,#0]            ;2453
00227a  e00c              B        |L1.8854|
                  |L1.8828|
00227c  2801              CMP      r0,#1
00227e  d10a              BNE      |L1.8854|
;;;2456   	{
;;;2457   	if(t_ext_can_nd<5)t_box= t_ext_can;
002280  48db              LDR      r0,|L1.9712|
002282  7800              LDRB     r0,[r0,#0]  ; t_ext_can_nd
002284  2805              CMP      r0,#5
002286  d203              BCS      |L1.8848|
002288  48da              LDR      r0,|L1.9716|
00228a  8800              LDRH     r0,[r0,#0]  ; t_ext_can
00228c  8030              STRH     r0,[r6,#0]
00228e  e002              B        |L1.8854|
                  |L1.8848|
;;;2458   	else t_box=20;
002290  f04f0014          MOV      r0,#0x14
002294  8030              STRH     r0,[r6,#0]
                  |L1.8854|
;;;2459   	}
;;;2460   #endif
;;;2461   /*
;;;2462   //¬˚˜ËÒÎÂÌËÂ ÚÂÏÔÂ‡ÚÛ˚ ¯Í‡Ù‡
;;;2463   
;;;2464   ibt._T[0]=bat[0]._Tb+273;
;;;2465   ibt._T[1]=bat[1]._Tb+273;
;;;2466   ibt._T[2]=t_ext[1]+273;
;;;2467   ibt._T[3]=t_ext[2]+273;
;;;2468   
;;;2469   ibt._nd[0]=bat[0]._nd;
;;;2470   ibt._nd[1]=bat[1]._nd;
;;;2471   ibt._nd[2]=ND_EXT[1];
;;;2472   ibt._nd[3]=ND_EXT[2];
;;;2473   
;;;2474   ibt._avg1=0;
;;;2475   ibt._avg_cnt=4;
;;;2476   
;;;2477   if(ibt._nd[0]==0)
;;;2478   	{
;;;2479   	ibt._avg1+=ibt._T[0];
;;;2480   	}
;;;2481   else 
;;;2482   	{
;;;2483   	ibt._avg_cnt--;
;;;2484   	}
;;;2485   
;;;2486   if(ibt._nd[1]==0)
;;;2487   	{
;;;2488   	ibt._avg1+=ibt._T[1];
;;;2489   	}
;;;2490   else 
;;;2491   	{
;;;2492   	ibt._avg_cnt--;
;;;2493   	}
;;;2494   
;;;2495   if(ibt._nd[2]==0)
;;;2496   	{
;;;2497   	ibt._avg1+=ibt._T[2];
;;;2498   	}
;;;2499   else 
;;;2500   	{
;;;2501   	ibt._avg_cnt--;
;;;2502   	}
;;;2503   
;;;2504   if(ibt._nd[3]==0)
;;;2505   	{
;;;2506   	ibt._avg1+=ibt._T[3];
;;;2507   	}
;;;2508   else 
;;;2509   	{
;;;2510   	ibt._avg_cnt--;
;;;2511   	}
;;;2512   
;;;2513   if(ibt._avg_cnt==0)
;;;2514   	{
;;;2515   	}
;;;2516   else
;;;2517   	{
;;;2518   	ibt._avg1/=ibt._avg_cnt;
;;;2519   	}
;;;2520   
;;;2521   
;;;2522   if(ibt._nd[0]!=0)
;;;2523   	{
;;;2524   	ibt._T_dispers[0]=0;
;;;2525   	}
;;;2526   else 
;;;2527   	{
;;;2528   	ibt._T_dispers[0]=abs(ibt._T[0]-ibt._avg1);
;;;2529   	}
;;;2530   
;;;2531   if(ibt._nd[1]!=0)
;;;2532   	{
;;;2533   	ibt._T_dispers[1]=0;
;;;2534   	}
;;;2535   else 
;;;2536   	{
;;;2537   	ibt._T_dispers[1]=abs(ibt._T[1]-ibt._avg1);
;;;2538   	}
;;;2539   
;;;2540   if(ibt._nd[2]!=0)
;;;2541   	{
;;;2542   	ibt._T_dispers[2]=0;
;;;2543   	}
;;;2544   else 
;;;2545   	{
;;;2546   	ibt._T_dispers[2]=abs(ibt._T[2]-ibt._avg1);
;;;2547   	}
;;;2548   
;;;2549   if(ibt._nd[3]!=0)
;;;2550   	{
;;;2551   	ibt._T_dispers[3]=0;
;;;2552   	}
;;;2553   else 
;;;2554   	{
;;;2555   	ibt._T_dispers[3]=abs(ibt._T[3]-ibt._avg1);
;;;2556   	}
;;;2557   
;;;2558   if(	ibt._nd[0]&&
;;;2559   	ibt._nd[1]&&
;;;2560   	ibt._nd[2]&&
;;;2561   	ibt._nd[3]
;;;2562   	)
;;;2563   	{
;;;2564   	t_box=(bps[0]._Ti);
;;;2565   	}
;;;2566   
;;;2567   else if(	ibt._nd[0]||
;;;2568   	ibt._nd[1]||
;;;2569   	ibt._nd[2]||
;;;2570   	ibt._nd[3]
;;;2571   	)
;;;2572   	{
;;;2573   	t_box=(ibt._avg1-273);
;;;2574   	}
;;;2575   else 
;;;2576   	{
;;;2577   	ibt._max_dispers_num=0;
;;;2578   	ibt._max_dispers=ibt._T_dispers[0];
;;;2579   
;;;2580   	if(ibt._T_dispers[1]>ibt._max_dispers)
;;;2581   		{
;;;2582   		ibt._max_dispers_num=1;
;;;2583   		ibt._max_dispers=ibt._T_dispers[1];
;;;2584   		}
;;;2585   	if(ibt._T_dispers[2]>ibt._max_dispers)
;;;2586   		{
;;;2587   		ibt._max_dispers_num=2;
;;;2588   		ibt._max_dispers=ibt._T_dispers[2];
;;;2589   		}
;;;2590   	if(ibt._T_dispers[3]>ibt._max_dispers)
;;;2591   		{
;;;2592   		ibt._max_dispers_num=3;
;;;2593   		ibt._max_dispers=ibt._T_dispers[3];
;;;2594   		}
;;;2595   
;;;2596   	ibt._avg2=0;
;;;2597   
;;;2598   	if(ibt._max_dispers_num!=0)
;;;2599   		{
;;;2600   		ibt._avg2+=ibt._T[0];
;;;2601   		}
;;;2602   	if(ibt._max_dispers_num!=1)
;;;2603   		{
;;;2604   		ibt._avg2+=ibt._T[1];
;;;2605   		}
;;;2606   	if(ibt._max_dispers_num!=2)
;;;2607   		{
;;;2608   		ibt._avg2+=ibt._T[2];
;;;2609   		}
;;;2610   	if(ibt._max_dispers_num!=3)
;;;2611   		{
;;;2612   		ibt._avg2+=ibt._T[3];
;;;2613   		}
;;;2614   
;;;2615   	t_box=(ibt._avg2/3)-273;
;;;2616   
;;;2617   	}*/
;;;2618   
;;;2619   
;;;2620   //*********************************************
;;;2621   
;;;2622   #ifndef TELECORE
;;;2623   if((BAT_IS_ON[0]==bisON)&&(bat[0]._Ub>200)) Ibmax=bat[0]._Ib;
002296  48d8              LDR      r0,|L1.9720|
002298  7801              LDRB     r1,[r0,#0]  ; BAT_IS_ON
00229a  2955              CMP      r1,#0x55
00229c  d104              BNE      |L1.8872|
00229e  f1bb0fc8          CMP      r11,#0xc8
0022a2  dd01              BLE      |L1.8872|
0022a4  8929              LDRH     r1,[r5,#8]  ; bat
0022a6  87f9              STRH     r1,[r7,#0x3e]
                  |L1.8872|
;;;2624   if((BAT_IS_ON[1]==bisON)&&(bat[1]._Ub>200)&&(bat[1]._Ib>bat[0]._Ib)) Ibmax=bat[1]._Ib;
0022a8  7840              LDRB     r0,[r0,#1]  ; BAT_IS_ON
0022aa  2855              CMP      r0,#0x55
0022ac  d10a              BNE      |L1.8900|
0022ae  f9b5004e          LDRSH    r0,[r5,#0x4e]  ; bat
0022b2  28c8              CMP      r0,#0xc8
0022b4  dd06              BLE      |L1.8900|
0022b6  f9b50054          LDRSH    r0,[r5,#0x54]  ; bat
0022ba  f9b51008          LDRSH    r1,[r5,#8]  ; bat
0022be  4288              CMP      r0,r1
0022c0  dd00              BLE      |L1.8900|
0022c2  87f8              STRH     r0,[r7,#0x3e]
                  |L1.8900|
;;;2625   #endif
;;;2626   
;;;2627   #ifdef TELECORE
;;;2628   Ibmax=0;
;;;2629   /*
;;;2630   if((NUMBAT_TELECORE>0)&&(lakb[0]._communicationFullErrorStat==0)&&(lakb[0]._ch_curr/10>Ibmax))Ibmax=lakb[0]._ch_curr/10;
;;;2631   if((NUMBAT_TELECORE>1)&&(lakb[1]._communicationFullErrorStat==0)&&(lakb[1]._ch_curr/10>Ibmax))Ibmax=lakb[1]._ch_curr/10;
;;;2632   if((NUMBAT_TELECORE>2)&&(lakb[2]._communicationFullErrorStat==0)&&(lakb[2]._ch_curr/10>Ibmax))Ibmax=lakb[2]._ch_curr/10;
;;;2633   */
;;;2634   if((NUMBAT_TELECORE>0)&&(bat[0]._Ib/10>Ibmax))Ibmax=bat[0]._Ib/10;
;;;2635   if((NUMBAT_TELECORE>1)&&(bat[1]._Ib/10>Ibmax))Ibmax=bat[1]._Ib/10;
;;;2636   //if((BAT_IS_ON[0]==bisON)&&(bat[0]._Ub>200)) Ibmax=bat[0]._Ib/1;
;;;2637   //if((BAT_IS_ON[1]==bisON)&&(bat[1]._Ub>200)&&(bat[1]._Ib>bat[0]._Ib)) Ibmax=bat[1]._Ib;
;;;2638   #endif
;;;2639   //Ibmax=bat[0]._Ib;
;;;2640   //if((AUSW_MAIN==22063)||(AUSW_MAIN==22023)||(AUSW_MAIN==22043))Ibmax=Ib_ips_termokompensat;
;;;2641   
;;;2642   #ifdef UKU_TELECORE2017
;;;2643   Ibmax=0;
;;;2644   if((NUMBAT_TELECORE>0)&&(bat[0]._Ib/10>Ibmax))Ibmax=bat[0]._Ib/10;
;;;2645   if((NUMBAT_TELECORE>1)&&(bat[1]._Ib/10>Ibmax))Ibmax=bat[1]._Ib/10;
;;;2646   #endif
;;;2647   
;;;2648   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;2649   Ibmax=Ib_ips_termokompensat;
0022c4  f8bc0000          LDRH     r0,[r12,#0]  ; Ib_ips_termokompensat
0022c8  87f8              STRH     r0,[r7,#0x3e]
;;;2650   #endif
;;;2651   for(i=0;i<NUMIST;i++)
0022ca  f04f0100          MOV      r1,#0
0022ce  e02f              B        |L1.9008|
                  |L1.8912|
;;;2652   	{
;;;2653   	if(bps[i]._cnt<25)
0022d0  ebc100c1          RSB      r0,r1,r1,LSL #3
0022d4  eb001001          ADD      r0,r0,r1,LSL #4
0022d8  eb040080          ADD      r0,r4,r0,LSL #2
0022dc  78c6              LDRB     r6,[r0,#3]
0022de  2e19              CMP      r6,#0x19
0022e0  d21c              BCS      |L1.8988|
;;;2654        	{
;;;2655        	bps[i]._Ii=bps[i]._buff[0]+(bps[i]._buff[1]*256);
0022e2  7986              LDRB     r6,[r0,#6]
0022e4  79c7              LDRB     r7,[r0,#7]
0022e6  eb062607          ADD      r6,r6,r7,LSL #8
0022ea  6246              STR      r6,[r0,#0x24]
;;;2656        	bps[i]._Uin=bps[i]._buff[2]+(bps[i]._buff[3]*256);
0022ec  7a06              LDRB     r6,[r0,#8]
0022ee  7a47              LDRB     r7,[r0,#9]
0022f0  eb062607          ADD      r6,r6,r7,LSL #8
0022f4  6206              STR      r6,[r0,#0x20]
;;;2657        	bps[i]._Uii=bps[i]._buff[4]+(bps[i]._buff[5]*256);
0022f6  7a86              LDRB     r6,[r0,#0xa]
0022f8  7ac7              LDRB     r7,[r0,#0xb]
0022fa  eb062607          ADD      r6,r6,r7,LSL #8
0022fe  61c6              STR      r6,[r0,#0x1c]
;;;2658        	bps[i]._Ti=(signed)(bps[i]._buff[6]);
002300  7b06              LDRB     r6,[r0,#0xc]
002302  6286              STR      r6,[r0,#0x28]
;;;2659        	bps[i]._adr_ee=bps[i]._buff[7];
002304  7b46              LDRB     r6,[r0,#0xd]
002306  f8806052          STRB     r6,[r0,#0x52]
;;;2660        	bps[i]._flags_tm=bps[i]._buff[8];
00230a  7b86              LDRB     r6,[r0,#0xe]
00230c  f8806042          STRB     r6,[r0,#0x42]
;;;2661   	     bps[i]._rotor=bps[i]._buff[10]+(bps[i]._buff[11]*256);    
002310  7c06              LDRB     r6,[r0,#0x10]
002312  7c47              LDRB     r7,[r0,#0x11]
002314  eb062607          ADD      r6,r6,r7,LSL #8
002318  64c6              STR      r6,[r0,#0x4c]
00231a  e006              B        |L1.9002|
                  |L1.8988|
;;;2662        	} 
;;;2663   	else 
;;;2664        	{
;;;2665        	bps[i]._Uii=0; 
00231c  61c3              STR      r3,[r0,#0x1c]
;;;2666        	bps[i]._Ii=0;
00231e  6243              STR      r3,[r0,#0x24]
;;;2667        	bps[i]._Uin=0;
002320  6203              STR      r3,[r0,#0x20]
;;;2668        	bps[i]._Ti=0;
002322  6283              STR      r3,[r0,#0x28]
;;;2669        	bps[i]._flags_tm=0; 
002324  f8803042          STRB     r3,[r0,#0x42]
;;;2670   	     bps[i]._rotor=0;    
002328  64c3              STR      r3,[r0,#0x4c]
                  |L1.9002|
00232a  f1010101          ADD      r1,r1,#1              ;2651
00232e  b2c9              UXTB     r1,r1                 ;2651
                  |L1.9008|
002330  4291              CMP      r1,r2                 ;2651
002332  dbcd              BLT      |L1.8912|
;;;2671        	}
;;;2672        
;;;2673        }
;;;2674   
;;;2675   load_I=0;
002334  4eb1              LDR      r6,|L1.9724|
;;;2676   #ifdef TELECORE
;;;2677   
;;;2678   /*for(i=0;i<NUMBAT_TELECORE;i++)
;;;2679   	{
;;;2680   	load_I-=lakb[i]._ch_curr/10;
;;;2681   	}*/
;;;2682   load_I=-(bat[0]._Ib/10)-(bat[1]._Ib/10);
;;;2683   #elif UKU_TELECORE2017
;;;2684   load_I=-(bat[0]._Ib/10)-(bat[1]._Ib/10);
;;;2685   #else
;;;2686   load_I=-(bat[0]._Ib/10)-(bat[1]._Ib/10);
002336  f9b51008          LDRSH    r1,[r5,#8]  ; bat
00233a  f04f000a          MOV      r0,#0xa
00233e  fb91f1f0          SDIV     r1,r1,r0
002342  f9b55054          LDRSH    r5,[r5,#0x54]  ; bat
002346  fb95f0f0          SDIV     r0,r5,r0
00234a  4408              ADD      r0,r0,r1
00234c  f1c00000          RSB      r0,r0,#0
002350  b207              SXTH     r7,r0
002352  8037              STRH     r7,[r6,#0]
;;;2687   #endif
;;;2688   Isumm=0;
002354  4daa              LDR      r5,|L1.9728|
002356  802b              STRH     r3,[r5,#0]
;;;2689   
;;;2690   for(i=0;i<NUMIST;i++)
002358  f04f0000          MOV      r0,#0
00235c  e012              B        |L1.9092|
                  |L1.9054|
;;;2691        {
;;;2692        if(bps[i]._cnt<5)Isumm+=bps[i]._Ii;
00235e  ebc001c0          RSB      r1,r0,r0,LSL #3
002362  eb011100          ADD      r1,r1,r0,LSL #4
002366  eb040181          ADD      r1,r4,r1,LSL #2
00236a  f891c003          LDRB     r12,[r1,#3]
00236e  f1bc0f05          CMP      r12,#5
002372  d204              BCS      |L1.9086|
002374  6a49              LDR      r1,[r1,#0x24]
002376  f8b5c000          LDRH     r12,[r5,#0]  ; Isumm
00237a  4461              ADD      r1,r1,r12
00237c  8029              STRH     r1,[r5,#0]
                  |L1.9086|
00237e  f1000001          ADD      r0,r0,#1              ;2690
002382  b2c0              UXTB     r0,r0                 ;2690
                  |L1.9092|
002384  4290              CMP      r0,r2                 ;2690
002386  dbea              BLT      |L1.9054|
;;;2693        }  
;;;2694        
;;;2695   load_I=load_I+Isumm;
002388  8828              LDRH     r0,[r5,#0]  ; Isumm
00238a  4438              ADD      r0,r0,r7
00238c  b200              SXTH     r0,r0
00238e  8030              STRH     r0,[r6,#0]
;;;2696   if(load_I<0)load_I=0;
002390  2800              CMP      r0,#0
002392  da00              BGE      |L1.9110|
002394  8033              STRH     r3,[r6,#0]
                  |L1.9110|
;;;2697   
;;;2698   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;2699   load_I=0;
002396  8033              STRH     r3,[r6,#0]
;;;2700   
;;;2701   Isumm=0;
002398  802b              STRH     r3,[r5,#0]
;;;2702   
;;;2703   for(i=0;i<NUMIST;i++)
00239a  f04f0000          MOV      r0,#0
00239e  e00f              B        |L1.9152|
                  |L1.9120|
;;;2704        {
;;;2705        if(bps[i]._cnt<5)Isumm+=bps[i]._Ii;
0023a0  ebc001c0          RSB      r1,r0,r0,LSL #3
0023a4  eb011100          ADD      r1,r1,r0,LSL #4
0023a8  eb040181          ADD      r1,r4,r1,LSL #2
0023ac  78cf              LDRB     r7,[r1,#3]
0023ae  2f05              CMP      r7,#5
0023b0  d203              BCS      |L1.9146|
0023b2  6a49              LDR      r1,[r1,#0x24]
0023b4  882f              LDRH     r7,[r5,#0]  ; Isumm
0023b6  4439              ADD      r1,r1,r7
0023b8  8029              STRH     r1,[r5,#0]
                  |L1.9146|
0023ba  f1000001          ADD      r0,r0,#1              ;2703
0023be  b2c0              UXTB     r0,r0                 ;2703
                  |L1.9152|
0023c0  4290              CMP      r0,r2                 ;2703
0023c2  dbed              BLT      |L1.9120|
;;;2706        }  
;;;2707        
;;;2708   load_I=load_I+Isumm;
0023c4  8829              LDRH     r1,[r5,#0]  ; Isumm
0023c6  eb030001          ADD      r0,r3,r1
0023ca  b200              SXTH     r0,r0
0023cc  8030              STRH     r0,[r6,#0]
;;;2709   if(load_I<0)load_I=0;
0023ce  2800              CMP      r0,#0
0023d0  da00              BGE      |L1.9172|
0023d2  8033              STRH     r3,[r6,#0]
                  |L1.9172|
;;;2710   
;;;2711   #endif
;;;2712   #ifdef IPS_SGEP_GAZPROM
;;;2713   load_I=Isumm;
;;;2714   #endif
;;;2715   
;;;2716   
;;;2717   #ifdef UKU_GLONASS
;;;2718   inv[0]._Uio=6;
;;;2719   if (NUMINV)
;;;2720   	{
;;;2721   	for(i=0;i<NUMINV;i++)
;;;2722   		{
;;;2723   		if(bps[i+first_inv_slot]._cnt<25)
;;;2724        		{
;;;2725        		inv[i]._Ii=bps[i+first_inv_slot]._buff[0]+(bps[i+first_inv_slot]._buff[1]*256);
;;;2726        		inv[i]._Uin=bps[i+first_inv_slot]._buff[2]+(bps[i+first_inv_slot]._buff[3]*256);
;;;2727        		inv[i]._Uio=bps[i+first_inv_slot]._buff[4]+(bps[i+first_inv_slot]._buff[5]*256);
;;;2728        		inv[i]._Ti=(signed)(bps[i+first_inv_slot]._buff[6]);
;;;2729        		inv[i]._flags_tm=bps[i+first_inv_slot]._buff[8];
;;;2730   	    	//	inv[i]._rotor=bps[i+first_inv_slot]._buff[10]+(bps[i+first_inv_slot]._buff[11]*256);
;;;2731   			inv[i]._cnt=0;    
;;;2732        		} 
;;;2733   		else 
;;;2734        		{
;;;2735        		inv[i]._Uio=0; 
;;;2736        		inv[i]._Ii=0;
;;;2737        		inv[i]._Uin=0;
;;;2738        		inv[i]._Ti=0;
;;;2739        		inv[i]._flags_tm=0; 
;;;2740   //	     	inv[i]._rotor0;
;;;2741   			inv[i]._cnt=25;    
;;;2742        		}
;;;2743        	}
;;;2744      	}
;;;2745   #endif
;;;2746   
;;;2747   #ifndef UKU_GLONASS
;;;2748   if (NUMINV)
0023d4  488b              LDR      r0,|L1.9732|
0023d6  f9b05000          LDRSH    r5,[r0,#0]  ; NUMINV
0023da  2d00              CMP      r5,#0
0023dc  d066              BEQ      |L1.9388|
;;;2749   	{
;;;2750   	for(i=0;i<NUMINV;i++)
0023de  f04f0200          MOV      r2,#0
;;;2751   		{
;;;2752   		if(bps[i+20]._cnt<25)
;;;2753        		{
;;;2754        		inv[i]._Ii=bps[i+20]._buff[0]+(bps[i+20]._buff[1]*256);
0023e2  4e89              LDR      r6,|L1.9736|
0023e4  e060              B        |L1.9384|
                  |L1.9190|
0023e6  f1020014          ADD      r0,r2,#0x14           ;2752
0023ea  ebc001c0          RSB      r1,r0,r0,LSL #3       ;2752
0023ee  eb011000          ADD      r0,r1,r0,LSL #4       ;2752
0023f2  eb040080          ADD      r0,r4,r0,LSL #2       ;2752
0023f6  78c1              LDRB     r1,[r0,#3]            ;2752
0023f8  2919              CMP      r1,#0x19              ;2752
0023fa  d239              BCS      |L1.9328|
0023fc  7981              LDRB     r1,[r0,#6]
0023fe  79c7              LDRB     r7,[r0,#7]
002400  eb012707          ADD      r7,r1,r7,LSL #8
002404  eb020142          ADD      r1,r2,r2,LSL #1
002408  eb061141          ADD      r1,r6,r1,LSL #5
00240c  61cf              STR      r7,[r1,#0x1c]
;;;2755        		inv[i]._Pio=bps[i+20]._buff[2]+(bps[i+20]._buff[3]*256);
00240e  7a07              LDRB     r7,[r0,#8]
002410  f890c009          LDRB     r12,[r0,#9]
002414  eb07270c          ADD      r7,r7,r12,LSL #8
002418  62cf              STR      r7,[r1,#0x2c]
;;;2756        		inv[i]._Uio=bps[i+20]._buff[4]+(bps[i+20]._buff[5]*256);
00241a  7a87              LDRB     r7,[r0,#0xa]
00241c  f890c00b          LDRB     r12,[r0,#0xb]
002420  eb07270c          ADD      r7,r7,r12,LSL #8
002424  618f              STR      r7,[r1,#0x18]
;;;2757        		inv[i]._Ti=(signed)(bps[i+20]._buff[6]);
002426  7b07              LDRB     r7,[r0,#0xc]
002428  620f              STR      r7,[r1,#0x20]
;;;2758        		inv[i]._flags_tm=bps[i+20]._buff[7];
00242a  7b47              LDRB     r7,[r0,#0xd]
00242c  f8817046          STRB     r7,[r1,#0x46]
;;;2759        		inv[i]._Uin=bps[i+20]._buff[8]+(bps[i+20]._buff[9]*256);
002430  7b87              LDRB     r7,[r0,#0xe]
002432  f890c00f          LDRB     r12,[r0,#0xf]
002436  eb07270c          ADD      r7,r7,r12,LSL #8
00243a  628f              STR      r7,[r1,#0x28]
;;;2760        		inv[i]._Uil=bps[i+20]._buff[10]+(bps[i+20]._buff[11]*256);
00243c  7c07              LDRB     r7,[r0,#0x10]
00243e  f890c011          LDRB     r12,[r0,#0x11]
002442  eb07270c          ADD      r7,r7,r12,LSL #8
002446  624f              STR      r7,[r1,#0x24]
;;;2761   			inv[i]._cnt=0;
002448  708b              STRB     r3,[r1,#2]
;;;2762   			inv[i]._Uoutmin=bps[i+20]._buff[12]; 
00244a  7c87              LDRB     r7,[r0,#0x12]
00244c  f8817059          STRB     r7,[r1,#0x59]
;;;2763   			inv[i]._Uoutmax=bps[i+20]._buff[13]; 
002450  7cc7              LDRB     r7,[r0,#0x13]
002452  f881705a          STRB     r7,[r1,#0x5a]
;;;2764   			inv[i]._Pnom=bps[i+20]._buff[14]; 
002456  7d07              LDRB     r7,[r0,#0x14]
002458  f8817058          STRB     r7,[r1,#0x58]
;;;2765   			inv[i]._net_contr_en=bps[i+20]._buff[15];
00245c  7d47              LDRB     r7,[r0,#0x15]
00245e  f881705b          STRB     r7,[r1,#0x5b]
;;;2766   			inv[i]._pwm_en=bps[i+20]._buff[16];  
002462  7d87              LDRB     r7,[r0,#0x16]
002464  f881705c          STRB     r7,[r1,#0x5c]
;;;2767   			inv[i]._phase_mode=bps[i+20]._buff[17];  
002468  7dc0              LDRB     r0,[r0,#0x17]
00246a  f881005d          STRB     r0,[r1,#0x5d]
00246e  e018              B        |L1.9378|
                  |L1.9328|
;;;2768        		} 
;;;2769   		else 
;;;2770        		{
;;;2771         		inv[i]._Ii=0;
002470  eb020042          ADD      r0,r2,r2,LSL #1
002474  eb061040          ADD      r0,r6,r0,LSL #5
002478  61c3              STR      r3,[r0,#0x1c]
;;;2772   			inv[i]._Pio=0;
00247a  62c3              STR      r3,[r0,#0x2c]
;;;2773   			inv[i]._Uio=0;
00247c  6183              STR      r3,[r0,#0x18]
;;;2774        		inv[i]._Ti=0;
00247e  6203              STR      r3,[r0,#0x20]
;;;2775        		inv[i]._flags_tm=0; 
002480  f8803046          STRB     r3,[r0,#0x46]
;;;2776        		inv[i]._Uil=0;
002484  6243              STR      r3,[r0,#0x24]
;;;2777        		inv[i]._Uin=0;
002486  6283              STR      r3,[r0,#0x28]
;;;2778   			inv[i]._cnt=25; 
002488  f04f0119          MOV      r1,#0x19
00248c  7081              STRB     r1,[r0,#2]
;;;2779   			inv[i]._Uoutmin=0; 
00248e  f8803059          STRB     r3,[r0,#0x59]
;;;2780   			inv[i]._Uoutmax=0; 
002492  f880305a          STRB     r3,[r0,#0x5a]
;;;2781   			inv[i]._Pnom=0; 
002496  f8803058          STRB     r3,[r0,#0x58]
;;;2782   			inv[i]._net_contr_en=0;
00249a  f880305b          STRB     r3,[r0,#0x5b]
;;;2783   			inv[i]._pwm_en=0;   
00249e  f880305c          STRB     r3,[r0,#0x5c]
                  |L1.9378|
0024a2  f1020201          ADD      r2,r2,#1              ;2750
0024a6  b2d2              UXTB     r2,r2                 ;2750
                  |L1.9384|
0024a8  42aa              CMP      r2,r5                 ;2750
0024aa  db9c              BLT      |L1.9190|
                  |L1.9388|
;;;2784   			   
;;;2785        		}
;;;2786        	}
;;;2787      	}
;;;2788   #endif
;;;2789   
;;;2790   #ifdef GLADKOV
;;;2791   inv[0]._Ii=bps[4]._buff[0]+(bps[4]._buff[1]*256);
;;;2792   inv[0]._Pio=bps[4]._buff[2]+(bps[4]._buff[3]*256);
;;;2793   inv[0]._Uio=bps[4]._buff[4]+(bps[4]._buff[5]*256);
;;;2794   inv[0]._Ti=(signed)(bps[4]._buff[6]);
;;;2795   inv[0]._flags_tm=bps[4]._buff[7];
;;;2796   inv[0]._Uin=bps[4]._buff[8]+(bps[4]._buff[9]*256);
;;;2797   inv[0]._Uil=bps[4]._buff[10]+(bps[4]._buff[11]*256);
;;;2798   inv[0]._cnt=0;    
;;;2799   
;;;2800   inv[1]._Ii=bps[21]._buff[0]+(bps[21]._buff[1]*256);
;;;2801   inv[1]._Pio=bps[21]._buff[2]+(bps[21]._buff[3]*256);
;;;2802   inv[1]._Uio=bps[21]._buff[4]+(bps[21]._buff[5]*256);
;;;2803   inv[1]._Ti=(signed)(bps[21]._buff[6]);
;;;2804   inv[1]._flags_tm=bps[21]._buff[7];
;;;2805   inv[1]._Uin=bps[21]._buff[8]+(bps[21]._buff[9]*256);
;;;2806   inv[1]._Uil=bps[21]._buff[10]+(bps[21]._buff[11]*256);
;;;2807   inv[1]._cnt=0;    
;;;2808   #endif
;;;2809   
;;;2810   /*
;;;2811   if((BAT_IS_ON[0]==bisON)&&(BAT_TYPE==1))
;;;2812   	{
;;;2813   	lakb[0]._battCommState=0;
;;;2814   	if(lakb[0]._cnt>10)lakb[0]._battCommState=2;
;;;2815   	else if(lakb[0]._bRS485ERR==1)lakb[0]._battCommState=1;
;;;2816   	
;;;2817   	if(lakb[0]._battCommState==0)
;;;2818   		{	
;;;2819   		bat[0]._Ub=(signed short)((lakb[0]._tot_bat_volt+5)/10);
;;;2820   		bat[0]._Ib=(signed short)lakb[0]._ch_curr;
;;;2821   		if(lakb[0]._dsch_curr) bat[0]._Ib=(signed short) (-lakb[0]._dsch_curr);
;;;2822   		bat[0]._Tb=(signed short)lakb[0]._max_cell_temp;
;;;2823   		}
;;;2824   	}
;;;2825   */
;;;2826   
;;;2827   #ifdef UKU_TELECORE2015
;;;2828   
;;;2829   	if(BAT_TYPE==2)
;;;2830   		{
;;;2831   		lakb[0]._ch_curr/*temp_SS*/=((ascii2halFhex(liBatteryInBuff[113]))<<12)+
;;;2832   					 		((ascii2halFhex(liBatteryInBuff[114]))<<8)+
;;;2833   							((ascii2halFhex(liBatteryInBuff[115]))<<4)+
;;;2834   							((ascii2halFhex(liBatteryInBuff[116])));
;;;2835   		
;;;2836   		/*if(temp_SS&0x8000)		lakb[0]._ch_curr=~temp_SS;
;;;2837   		else 				lakb[0]._ch_curr=temp_SS;*/
;;;2838   	
;;;2839   		lakb[0]._tot_bat_volt=	(unsigned short)(((ascii2halFhex(liBatteryInBuff[117]))<<12)+
;;;2840   							((ascii2halFhex(liBatteryInBuff[118]))<<8)+
;;;2841   							((ascii2halFhex(liBatteryInBuff[119]))<<4)+
;;;2842   							((ascii2halFhex(liBatteryInBuff[120]))))/100;
;;;2843   	
;;;2844   		lakb[0]._max_cell_temp= 	(((ascii2halFhex(liBatteryInBuff[93]))<<12)+
;;;2845   							((ascii2halFhex(liBatteryInBuff[94]))<<8)+
;;;2846   							((ascii2halFhex(liBatteryInBuff[95]))<<4)+
;;;2847   							((ascii2halFhex(liBatteryInBuff[96]))))/10-273;
;;;2848   	
;;;2849   		lakb[0]._s_o_c_abs=		(unsigned short)((ascii2halFhex(liBatteryInBuff[121]))<<12)+
;;;2850   							((ascii2halFhex(liBatteryInBuff[122]))<<8)+
;;;2851   							((ascii2halFhex(liBatteryInBuff[123]))<<4)+
;;;2852   							((ascii2halFhex(liBatteryInBuff[124])));
;;;2853   	
;;;2854   		lakb[0]._rat_cap=		(unsigned short)((ascii2halFhex(liBatteryInBuff[127]))<<12)+
;;;2855   							((ascii2halFhex(liBatteryInBuff[128]))<<8)+
;;;2856   							((ascii2halFhex(liBatteryInBuff[129]))<<4)+
;;;2857   							((ascii2halFhex(liBatteryInBuff[130])));
;;;2858   	
;;;2859   		lakb[0]._s_o_c=		lakb[0]._s_o_c_abs/(lakb[0]._rat_cap/100);
;;;2860   	
;;;2861   	
;;;2862   	/*	lakb[0]._rat_cap= (lakb_damp[i][13]*256)+ lakb_damp[i][14];
;;;2863   		lakb[0]._max_cell_volt= (lakb_damp[i][0]*256)+ lakb_damp[i][1];
;;;2864   		lakb[0]._min_cell_volt= (lakb_damp[i][2]*256)+ lakb_damp[i][3];
;;;2865   		lakb[0]._max_cell_temp= lakb_damp[i][4];
;;;2866   		lakb[0]._min_cell_temp= lakb_damp[i][5];
;;;2867   		lakb[0]._tot_bat_volt= (lakb_damp[i][6]*256)+ lakb_damp[i][7];
;;;2868   		lakb[0]._ch_curr= (lakb_damp[i][8]*256)+ lakb_damp[i][8];
;;;2869   		lakb[0]._dsch_curr= (lakb_damp[i][10]*256)+ lakb_damp[i][11];
;;;2870   		lakb[0]._s_o_c= lakb_damp[i][12];
;;;2871   		lakb[0]._r_b_t= lakb_damp[i][15];
;;;2872   		lakb[0]._c_c_l_v= (lakb_damp[i][16]*256)+ lakb_damp[i][17];
;;;2873   		lakb[0]._s_o_h= lakb_damp[i][18];
;;;2874   	
;;;2875   		if(lakb[i]._rat_cap==0)
;;;2876   			{
;;;2877   			if(lakb[i]._isOnCnt)
;;;2878   				{
;;;2879   				lakb[i]._isOnCnt--;
;;;2880   				if(lakb[i]._isOnCnt==0)
;;;2881   					{
;;;2882   					if(lakb[i]._battIsOn!=0) bLAKB_KONF_CH=1;
;;;2883   					}
;;;2884   				}
;;;2885   			}
;;;2886   		else 
;;;2887   			{
;;;2888   			if(lakb[i]._isOnCnt<50)
;;;2889   				{
;;;2890   				lakb[i]._isOnCnt++;
;;;2891   				if(lakb[i]._isOnCnt==50)
;;;2892   					{
;;;2893   					if(lakb[i]._battIsOn!=1) bLAKB_KONF_CH=1;
;;;2894   					}
;;;2895   				}
;;;2896   			}
;;;2897   		gran(&lakb[i]._isOnCnt,0,50);*/
;;;2898   		}
;;;2899   	else if(BAT_TYPE==3)
;;;2900   		{
;;;2901   		//short numOfPacks;
;;;2902   		//short numOfCells, numOfTemperCells, baseOfData;
;;;2903   		
;;;2904   		#ifndef UKU_TELECORE2016
;;;2905   		numOfCells=((ascii2halFhex(liBatteryInBuff[17]))<<4)+((ascii2halFhex(liBatteryInBuff[18])));
;;;2906   		numOfTemperCells=((ascii2halFhex(liBatteryInBuff[17+(numOfCells*4)+2]))<<4)+((ascii2halFhex(liBatteryInBuff[18+(numOfCells*4)+2])));
;;;2907   		numOfPacks=((ascii2halFhex(liBatteryInBuff[15]))<<4)+((ascii2halFhex(liBatteryInBuff[16])));
;;;2908   		if(numOfPacks)numOfPacks-=1;
;;;2909   		if((numOfPacks<0)||(numOfPacks>NUMBAT_TELECORE))numOfPacks=0;
;;;2910   		plazma_numOfCells=numOfCells;
;;;2911   		plazma_numOfTemperCells=numOfTemperCells;
;;;2912   		plazma_numOfPacks=numOfPacks;
;;;2913   
;;;2914   
;;;2915   		baseOfData=16+(numOfCells*4)+2+(numOfTemperCells*4)+2;
;;;2916   
;;;2917   		lakb[numOfPacks]._ch_curr=(signed short)(
;;;2918   							((ascii2halFhex(liBatteryInBuff[1+baseOfData]))<<12)+
;;;2919   							((ascii2halFhex(liBatteryInBuff[2+baseOfData]))<<8)+
;;;2920   							((ascii2halFhex(liBatteryInBuff[3+baseOfData]))<<4)+
;;;2921   							((ascii2halFhex(liBatteryInBuff[4+baseOfData])))
;;;2922   							);	  
;;;2923   
;;;2924   		lakb[numOfPacks]._tot_bat_volt=(signed short)(
;;;2925   							((ascii2halFhex(liBatteryInBuff[1+baseOfData+4]))<<12)+
;;;2926   							((ascii2halFhex(liBatteryInBuff[2+baseOfData+4]))<<8)+
;;;2927   							((ascii2halFhex(liBatteryInBuff[3+baseOfData+4]))<<4)+
;;;2928   							((ascii2halFhex(liBatteryInBuff[4+baseOfData+4])))
;;;2929   							)/10;
;;;2930   
;;;2931   		lakb[numOfPacks]._max_cell_temp=(signed short)(
;;;2932   							((ascii2halFhex(liBatteryInBuff[1+baseOfData-4]))<<12)+
;;;2933   							((ascii2halFhex(liBatteryInBuff[2+baseOfData-4]))<<8)+
;;;2934   							((ascii2halFhex(liBatteryInBuff[3+baseOfData-4]))<<4)+
;;;2935   							((ascii2halFhex(liBatteryInBuff[4+baseOfData-4])))
;;;2936   							)-2730;
;;;2937   
;;;2938   		lakb[numOfPacks]._s_o_c=(signed short)(
;;;2939   							((ascii2halFhex(liBatteryInBuff[1+baseOfData+8]))<<12)+
;;;2940   							((ascii2halFhex(liBatteryInBuff[2+baseOfData+8]))<<8)+
;;;2941   							((ascii2halFhex(liBatteryInBuff[3+baseOfData+8]))<<4)+
;;;2942   							((ascii2halFhex(liBatteryInBuff[4+baseOfData+8])))
;;;2943   							)/10;
;;;2944   
;;;2945   		lakb[numOfPacks]._s_o_h=(signed short)(
;;;2946   							((ascii2halFhex(liBatteryInBuff[1+baseOfData+14]))<<12)+
;;;2947   							((ascii2halFhex(liBatteryInBuff[2+baseOfData+14]))<<8)+
;;;2948   							((ascii2halFhex(liBatteryInBuff[3+baseOfData+14]))<<4)+
;;;2949   							((ascii2halFhex(liBatteryInBuff[4+baseOfData+14])))
;;;2950   							)/10;
;;;2951   		#endif
;;;2952   		
;;;2953   		#ifdef UKU_TELECORE2016
;;;2954   		{
;;;2955   		char i;
;;;2956   		
;;;2957   		for(i=0;i<NUMBAT_TELECORE;i++)
;;;2958   			{
;;;2959   			lakb[i]._s_o_c_percent= (signed short)(((unsigned long)lakb[i]._s_o_c*100UL)/(unsigned long)lakb[i]._s_o_h);
;;;2960   			}
;;;2961   		}
;;;2962   		#endif
;;;2963   		
;;;2964   										  
;;;2965   		}
;;;2966   	
;;;2967   if(sacredSunSilentCnt<3) 
;;;2968   	{
;;;2969       	bat[0]._Ub=lakb[0]._tot_bat_volt;
;;;2970       	bat[0]._Tb=lakb[0]._max_cell_temp;
;;;2971      	//bat[0]._Ib=lakb[0]._ch_curr/10;
;;;2972   	}
;;;2973   else 
;;;2974   	{
;;;2975       	//bat[0]._Ub=0;
;;;2976       	//bat[0]._Tb=0;
;;;2977      	//bat[0]._Ib=0;
;;;2978   	}
;;;2979   
;;;2980   if(BAT_TYPE==1)
;;;2981   	{
;;;2982   	char i;
;;;2983   	for(i=0;i<1;i++)
;;;2984   		{
;;;2985   		lakb[i]._rat_cap= (lakb_damp[i][13]*256)+ lakb_damp[i][14];
;;;2986   		lakb[i]._max_cell_volt= (lakb_damp[i][0]*256)+ lakb_damp[i][1];
;;;2987   		lakb[i]._min_cell_volt= (lakb_damp[i][2]*256)+ lakb_damp[i][3];
;;;2988   		lakb[i]._max_cell_temp= lakb_damp[i][4];
;;;2989   		lakb[i]._min_cell_temp= lakb_damp[i][5];
;;;2990   		lakb[i]._tot_bat_volt= (lakb_damp[i][6]*256)+ lakb_damp[i][7];
;;;2991   		lakb[i]._ch_curr= (lakb_damp[i][8]*256)+ lakb_damp[i][9];
;;;2992   		lakb[i]._dsch_curr= (lakb_damp[i][10]*256)+ lakb_damp[i][11];
;;;2993   		lakb[i]._s_o_c= lakb_damp[i][12];
;;;2994   		lakb[i]._r_b_t= lakb_damp[i][15];
;;;2995   		lakb[i]._c_c_l_v= (lakb_damp[i][16]*256)+ lakb_damp[i][17];
;;;2996   		lakb[i]._s_o_h= lakb_damp[i][18];
;;;2997   		lakb[i]._flags1= lakb_damp[i][34];
;;;2998   		lakb[i]._flags2= lakb_damp[i][35];
;;;2999   		lakb[i]._b_p_ser_num= lakb_damp[i][36];
;;;3000   
;;;3001   /*		if(lakb[i]._rat_cap==0)
;;;3002   			{
;;;3003   			if(lakb[i]._isOnCnt)
;;;3004   				{
;;;3005   				lakb[i]._isOnCnt--;
;;;3006   				if(lakb[i]._isOnCnt==0)
;;;3007   					{
;;;3008   					if(lakb[i]._battIsOn!=0) bLAKB_KONF_CH=1;
;;;3009   					}
;;;3010   				}
;;;3011   			}
;;;3012   		else 
;;;3013   			{
;;;3014   			if(lakb[i]._isOnCnt<50)
;;;3015   				{
;;;3016   				lakb[i]._isOnCnt++;
;;;3017   				if(lakb[i]._isOnCnt==50)
;;;3018   					{
;;;3019   					if(lakb[i]._battIsOn!=1) bLAKB_KONF_CH=1;
;;;3020   					}
;;;3021   				}
;;;3022   			} */
;;;3023   		gran(&lakb[i]._isOnCnt,0,50);
;;;3024   	 	}
;;;3025   
;;;3026   	if(lakb_damp[0][41]==100)
;;;3027   		{
;;;3028   		li_bat._485Error=1;
;;;3029   		}
;;;3030   	if(lakb_damp[0][41]==0)
;;;3031   		{
;;;3032   		//if(bRS485ERR)bLAKB_KONF_CH=1;
;;;3033   		li_bat._485Error=0;
;;;3034   		}
;;;3035   	li_bat._485ErrorCnt=lakb_damp[0][41];
;;;3036   
;;;3037   
;;;3038   	}
;;;3039   
;;;3040   
;;;3041   #endif
;;;3042   
;;;3043   		#ifdef UKU_TELECORE2017
;;;3044   		{
;;;3045   		char i;
;;;3046   		
;;;3047   		for(i=0;i<NUMBAT_TELECORE;i++)
;;;3048   			{
;;;3049   			lakb[i]._s_o_c_percent= (signed short)(((unsigned long)lakb[i]._s_o_c*100UL)/(unsigned long)lakb[i]._s_o_h);
;;;3050   			}
;;;3051   		}
;;;3052   		#endif
;;;3053   #ifdef UKU_TELECORE2015
;;;3054   //‚˚˜ËÒÎÂÌËÂ Ô‡‡ÏÂÚÓ‚ ‡·ÓÚ˚ ·‡Ú‡ÂË
;;;3055   //TODO ‰ÓÔËÒ‡Ú¸ ‰Îˇ ‚ÒÂı ·‡Ú‡ÂÈ ‚ÒÂ Ô‡‡ÏÂÚ˚ Ë ÔË ÓÚˆÂÔÍÂ ·‡Ú‡ÂÈ
;;;3056   li_bat._batStat=bsOK;
;;;3057   if(BAT_TYPE==1) //COSLIGHT
;;;3058   	{
;;;3059   	if(li_bat._batStat==bsOK)
;;;3060   		{
;;;3061   		li_bat._Ub=lakb[0]._tot_bat_volt/10;
;;;3062   
;;;3063   		if(lakb[0]._ch_curr)li_bat._Ib=lakb[0]._ch_curr/10;
;;;3064   		else if(lakb[0]._dsch_curr) li_bat._Ib=bat[0]._Ib/10;//lakb[0]._dsch_curr/10;
;;;3065   	
;;;3066   		li_bat._ratCap=lakb[0]._rat_cap/100;
;;;3067   		li_bat._soc=lakb[0]._s_o_c;
;;;3068   		li_bat._soh=lakb[0]._s_o_h;
;;;3069   		li_bat._cclv=lakb[0]._c_c_l_v/10;
;;;3070   		li_bat._Tb=lakb[0]._max_cell_temp;
;;;3071   		li_bat._rbt=lakb[0]._r_b_t;
;;;3072   		}
;;;3073   	else 
;;;3074   		{
;;;3075   		li_bat._Ub=bat[0]._Ub;
;;;3076   		li_bat._Ib=bat[0]._Ib/10;
;;;3077   		li_bat._Tb=bat[0]._Tb;
;;;3078   		}
;;;3079   
;;;3080   	if((li_bat._485Error)||(li_bat._canError))
;;;3081   		{
;;;3082   		li_bat._batStat=bsOFF;
;;;3083   		}
;;;3084   	else li_bat._batStat=bsOK;
;;;3085   	}
;;;3086   else if(BAT_TYPE==2) //SACRED SUN
;;;3087   	{
;;;3088   	}
;;;3089   else if(BAT_TYPE==3) //ZTT
;;;3090   	{
;;;3091   	if(li_bat._batStat==bsOK)
;;;3092   		{
;;;3093   
;;;3094   		}
;;;3095   	}
;;;3096   #endif
;;;3097   
;;;3098   
;;;3099   /*
;;;3100   if((BAT_IS_ON[0]==bisON)&&(BAT_TYPE[0]==1)&&(BAT_LINK==0))
;;;3101   	{
;;;3102   
;;;3103   
;;;3104   	if(bat_drv_rx_buff[13]<=0x39)bbb[0]=bat_drv_rx_buff[13]-0x30;
;;;3105   	else bbb[0]=bat_drv_rx_buff[13]-55;
;;;3106   	if(bat_drv_rx_buff[14]<=0x39)bbb[1]=bat_drv_rx_buff[14]-0x30;
;;;3107   	else bbb[1]=bat_drv_rx_buff[14]-55;
;;;3108   	if(bat_drv_rx_buff[15]<=0x39)bbb[2]=bat_drv_rx_buff[15]-0x30;
;;;3109   	else bbb[2]=bat_drv_rx_buff[15]-55;
;;;3110   	if(bat_drv_rx_buff[16]<=0x39)bbb[3]=bat_drv_rx_buff[16]-0x30;
;;;3111   	else bbb[3]=bat_drv_rx_buff[16]-55;
;;;3112   
;;;3113   	tempSS=0;
;;;3114   	tempSS=((bbb[0]*4096)+(bbb[1]*256)+(bbb[2]*16)+bbb[3]);
;;;3115   
;;;3116   	bat[0]._max_cell_volt=(tempSS+5)/10;
;;;3117   
;;;3118   	if(bat_drv_rx_buff[17]<=0x39)bbb[0]=bat_drv_rx_buff[17]-0x30;
;;;3119   	else bbb[0]=bat_drv_rx_buff[17]-55;
;;;3120   	if(bat_drv_rx_buff[18]<=0x39)bbb[1]=bat_drv_rx_buff[18]-0x30;
;;;3121   	else bbb[1]=bat_drv_rx_buff[18]-55;
;;;3122   	if(bat_drv_rx_buff[19]<=0x39)bbb[2]=bat_drv_rx_buff[19]-0x30;
;;;3123   	else bbb[2]=bat_drv_rx_buff[19]-55;
;;;3124   	if(bat_drv_rx_buff[20]<=0x39)bbb[3]=bat_drv_rx_buff[20]-0x30;
;;;3125   	else bbb[3]=bat_drv_rx_buff[20]-55;
;;;3126   
;;;3127   	tempSS=0;
;;;3128   	tempSS=((bbb[0]*4096)+(bbb[1]*256)+(bbb[2]*16)+bbb[3]);
;;;3129   
;;;3130   	bat[0]._min_cell_volt=(tempSS+5)/10;
;;;3131   
;;;3132   
;;;3133   	}*/
;;;3134   
;;;3135   
;;;3136   
;;;3137   }
0024ac  e8bd9ffc          POP      {r2-r12,pc}
;;;3138   
                          ENDP

                  mnemo_hndl PROC
;;;3139   //-----------------------------------------------
;;;3140   void mnemo_hndl(void)
0024b0  4a56              LDR      r2,|L1.9740|
;;;3141   {
;;;3142   if(((ind==iMn_220)||(ind==iMn))&&(sub_ind==0)&&(MNEMO_ON==mnON))
;;;3143   	{
;;;3144   	if(mnemo_cnt)mnemo_cnt--;
0024b2  4957              LDR      r1,|L1.9744|
0024b4  7810              LDRB     r0,[r2,#0]            ;3142  ; a_ind
0024b6  2804              CMP      r0,#4                 ;3142
0024b8  d001              BEQ      |L1.9406|
0024ba  2801              CMP      r0,#1                 ;3142
0024bc  d105              BNE      |L1.9418|
                  |L1.9406|
0024be  7850              LDRB     r0,[r2,#1]            ;3142  ; a_ind
0024c0  b918              CBNZ     r0,|L1.9418|
0024c2  4854              LDR      r0,|L1.9748|
0024c4  7800              LDRB     r0,[r0,#0]            ;3142  ; MNEMO_ON
0024c6  2855              CMP      r0,#0x55              ;3142
0024c8  d003              BEQ      |L1.9426|
                  |L1.9418|
;;;3145   	}
;;;3146   else mnemo_cnt=MNEMO_TIME;
0024ca  4853              LDR      r0,|L1.9752|
0024cc  8800              LDRH     r0,[r0,#0]  ; MNEMO_TIME
0024ce  7008              STRB     r0,[r1,#0]
                  |L1.9424|
;;;3147   }
0024d0  4770              BX       lr
                  |L1.9426|
0024d2  7808              LDRB     r0,[r1,#0]            ;3144  ; mnemo_cnt
0024d4  2800              CMP      r0,#0                 ;3144
0024d6  d0fb              BEQ      |L1.9424|
0024d8  f1a00001          SUB      r0,r0,#1              ;3144
0024dc  7008              STRB     r0,[r1,#0]            ;3144
0024de  4770              BX       lr
;;;3148   
                          ENDP

                  adc_init PROC
;;;3149   //-----------------------------------------------
;;;3150   void adc_init(void)
0024e0  484e              LDR      r0,|L1.9756|
;;;3151   {
;;;3152   
;;;3153   SET_REG(LPC_PINCON->PINSEL1,1,(25-16)*2,2);
0024e2  6841              LDR      r1,[r0,#4]
0024e4  f4212140          BIC      r1,r1,#0xc0000
0024e8  f4412180          ORR      r1,r1,#0x40000
0024ec  6041              STR      r1,[r0,#4]
;;;3154   SET_REG(LPC_PINCON->PINSEL1,1,(24-16)*2,2);
0024ee  6841              LDR      r1,[r0,#4]
0024f0  f4213140          BIC      r1,r1,#0x30000
0024f4  f4413180          ORR      r1,r1,#0x10000
0024f8  6041              STR      r1,[r0,#4]
;;;3155   SET_REG(LPC_PINCON->PINSEL1,1,(23-16)*2,2);
0024fa  6841              LDR      r1,[r0,#4]
0024fc  f4214140          BIC      r1,r1,#0xc000
002500  f4414180          ORR      r1,r1,#0x4000
002504  6041              STR      r1,[r0,#4]
;;;3156   
;;;3157   
;;;3158   SET_REG(LPC_PINCON->PINMODE1,2,(25-16)*2,2);
002506  6c41              LDR      r1,[r0,#0x44]
002508  f4212140          BIC      r1,r1,#0xc0000
00250c  f4412100          ORR      r1,r1,#0x80000
002510  6441              STR      r1,[r0,#0x44]
;;;3159   SET_REG(LPC_PINCON->PINMODE1,2,(24-16)*2,2);
002512  6c41              LDR      r1,[r0,#0x44]
002514  f4213140          BIC      r1,r1,#0x30000
002518  f4413100          ORR      r1,r1,#0x20000
00251c  6441              STR      r1,[r0,#0x44]
;;;3160   SET_REG(LPC_PINCON->PINMODE1,2,(23-16)*2,2);
00251e  6c41              LDR      r1,[r0,#0x44]
002520  f4214140          BIC      r1,r1,#0xc000
002524  f4414100          ORR      r1,r1,#0x8000
002528  6441              STR      r1,[r0,#0x44]
;;;3161   
;;;3162   SET_REG(LPC_ADC->ADCR,0,24,3);
00252a  483d              LDR      r0,|L1.9760|
00252c  6801              LDR      r1,[r0,#0]
00252e  f02161e0          BIC      r1,r1,#0x7000000
002532  6001              STR      r1,[r0,#0]
;;;3163   
;;;3164   SET_REG(LPC_ADC->ADCR,1,21,1);
002534  6801              LDR      r1,[r0,#0]
002536  f4411100          ORR      r1,r1,#0x200000
00253a  6001              STR      r1,[r0,#0]
;;;3165   SET_REG(LPC_ADC->ADCR,0,16,1);
00253c  6801              LDR      r1,[r0,#0]
00253e  f4213180          BIC      r1,r1,#0x10000
002542  6001              STR      r1,[r0,#0]
;;;3166   SET_REG(LPC_ADC->ADCR,1,8,8);
002544  6801              LDR      r1,[r0,#0]
002546  f421417f          BIC      r1,r1,#0xff00
00254a  f4417180          ORR      r1,r1,#0x100
00254e  6001              STR      r1,[r0,#0]
;;;3167   
;;;3168   //SET_REG(LPC_GPIO0->FIODIR,7,5,3);
;;;3169   //SET_REG(LPC_GPIO0->FIOPIN,4,5,3);
;;;3170   	
;;;3171   	/*if(adc_ch<=7)*///SET_REG(LPC_ADC->ADCR,1<<5,0,8);
;;;3172        /*else if(adc_ch==8) SET_REG(LPC_ADC->ADCR,1<<2,0,8);
;;;3173        else SET_REG(LPC_ADC->ADCR,1<<4,0,8);*/
;;;3174   
;;;3175   LPC_ADC->ADINTEN     =  (1<< 8);      /* global enable interrupt            */
002550  f44f7180          MOV      r1,#0x100
002554  60c1              STR      r1,[r0,#0xc]
002556  4833              LDR      r0,|L1.9764|
002558  f44f0180          MOV      r1,#0x400000
00255c  6001              STR      r1,[r0,#0]
;;;3176   
;;;3177   NVIC_EnableIRQ(ADC_IRQn);             /* enable ADC Interrupt               */
;;;3178   
;;;3179   
;;;3180   }
00255e  4770              BX       lr
;;;3181   
                          ENDP

                  adc_drv7 PROC
;;;3182   //-----------------------------------------------
;;;3183   void adc_drv7(void) //(UÒÂÚË - ÔÓÒÚÓˇÌÍ‡)
002560  e92d41f0          PUSH     {r4-r8,lr}
;;;3184   {
;;;3185   //int temp_S;
;;;3186   //char i;
;;;3187   //signed short temp_SS;
;;;3188   
;;;3189   adc_self_ch_disp[0]=abs_pal(adc_self_ch_buff[1]-adc_self_ch_buff[0]);//adc_self_ch_buff[0]&0x0f80;
002564  4c30              LDR      r4,|L1.9768|
002566  8860              LDRH     r0,[r4,#2]  ; adc_self_ch_buff
002568  8821              LDRH     r1,[r4,#0]  ; adc_self_ch_buff
00256a  1a40              SUBS     r0,r0,r1
00256c  b200              SXTH     r0,r0
00256e  f7fffffe          BL       abs_pal
002572  1da6              ADDS     r6,r4,#6
002574  8030              STRH     r0,[r6,#0]
;;;3190   adc_self_ch_disp[1]=abs_pal(adc_self_ch_buff[2]-adc_self_ch_buff[1]);//adc_self_ch_buff[1]&0x0f80;
002576  88a0              LDRH     r0,[r4,#4]  ; adc_self_ch_buff
002578  8861              LDRH     r1,[r4,#2]  ; adc_self_ch_buff
00257a  1a40              SUBS     r0,r0,r1
00257c  b200              SXTH     r0,r0
00257e  f7fffffe          BL       abs_pal
002582  8070              STRH     r0,[r6,#2]
;;;3191   adc_self_ch_disp[2]=abs_pal(adc_self_ch_buff[2]-adc_self_ch_buff[0]);//adc_self_ch_buff[2]&0x0f80;
002584  88a0              LDRH     r0,[r4,#4]  ; adc_self_ch_buff
002586  8821              LDRH     r1,[r4,#0]  ; adc_self_ch_buff
002588  1a40              SUBS     r0,r0,r1
00258a  b200              SXTH     r0,r0
00258c  f7fffffe          BL       abs_pal
002590  80b0              STRH     r0,[r6,#4]
;;;3192   
;;;3193   //adc_self_ch_disp[0]=adc_self_ch_buff[0]&0x0ff0;
;;;3194   //adc_self_ch_disp[1]=adc_self_ch_buff[1]&0x0ff0;
;;;3195   //adc_self_ch_disp[2]=adc_self_ch_buff[2]&0x0ff0;
;;;3196   
;;;3197   
;;;3198   if(adc_self_ch_disp[2]<300)//==adc_self_ch_disp[2])
002592  f44f7196          MOV      r1,#0x12c
;;;3199   	{
;;;3200   	adc_result=adc_self_ch_buff[2];
002596  f1a405b6          SUB      r5,r4,#0xb6
00259a  4288              CMP      r0,r1                 ;3198
00259c  da02              BGE      |L1.9636|
00259e  88a0              LDRH     r0,[r4,#4]  ; adc_self_ch_buff
0025a0  8628              STRH     r0,[r5,#0x30]
0025a2  e00c              B        |L1.9662|
                  |L1.9636|
;;;3201   	} 
;;;3202   else if(adc_self_ch_disp[1]<300)//==adc_self_ch_disp[2])
0025a4  f9b60002          LDRSH    r0,[r6,#2]  ; adc_self_ch_disp
0025a8  4288              CMP      r0,r1
0025aa  da02              BGE      |L1.9650|
;;;3203   	{
;;;3204   	adc_result=adc_self_ch_buff[1];
0025ac  8860              LDRH     r0,[r4,#2]  ; adc_self_ch_buff
0025ae  8628              STRH     r0,[r5,#0x30]
0025b0  e005              B        |L1.9662|
                  |L1.9650|
;;;3205   	}
;;;3206   else if(adc_self_ch_disp[0]<300)//==adc_self_ch_disp[1])
0025b2  f9b60000          LDRSH    r0,[r6,#0]  ; adc_self_ch_disp
0025b6  4288              CMP      r0,r1
0025b8  da01              BGE      |L1.9662|
;;;3207   	{
;;;3208   	adc_result=adc_self_ch_buff[0];
0025ba  8820              LDRH     r0,[r4,#0]  ; adc_self_ch_buff
0025bc  8628              STRH     r0,[r5,#0x30]
                  |L1.9662|
;;;3209   	}
;;;3210       //adc_result=92;
;;;3211   
;;;3212   if(adc_ch_net)
0025be  78ef              LDRB     r7,[r5,#3]  ; adc_ch_net
0025c0  2600              MOVS     r6,#0
0025c2  b3af              CBZ      r7,|L1.9776|
;;;3213   	{
;;;3214   
;;;3215   	main_power_buffer[0]+=(long)(adc_result);
0025c4  4819              LDR      r0,|L1.9772|
0025c6  f9b51030          LDRSH    r1,[r5,#0x30]  ; adc_result
0025ca  6802              LDR      r2,[r0,#0]  ; main_power_buffer
0025cc  440a              ADD      r2,r2,r1
0025ce  6002              STR      r2,[r0,#0]  ; main_power_buffer
;;;3216   	main_power_buffer[1]+=(long)(adc_result);
0025d0  6842              LDR      r2,[r0,#4]  ; main_power_buffer
0025d2  440a              ADD      r2,r2,r1
0025d4  6042              STR      r2,[r0,#4]  ; main_power_buffer
;;;3217   	main_power_buffer[2]+=(long)(adc_result);
0025d6  e02c              B        |L1.9778|
                  |L1.9688|
                          DCD      Uvv_eb2
                  |L1.9692|
                          DCD      Kpes_eb2
                  |L1.9696|
                          DCD      Upes_eb2
                  |L1.9700|
                          DCD      t_ext
                  |L1.9704|
                          DCD      ibt
                  |L1.9708|
                          DCD      t_box
                  |L1.9712|
                          DCD      t_ext_can_nd
                  |L1.9716|
                          DCD      t_ext_can
                  |L1.9720|
                          DCD      BAT_IS_ON
                  |L1.9724|
                          DCD      load_I
                  |L1.9728|
                          DCD      Isumm
                  |L1.9732|
                          DCD      NUMINV
                  |L1.9736|
                          DCD      inv
                  |L1.9740|
                          DCD      a_ind
                  |L1.9744|
                          DCD      mnemo_cnt
                  |L1.9748|
                          DCD      MNEMO_ON
                  |L1.9752|
                          DCD      MNEMO_TIME
                  |L1.9756|
                          DCD      0x4002c000
                  |L1.9760|
                          DCD      0x40034000
                  |L1.9764|
                          DCD      0xe000e100
                  |L1.9768|
                          DCD      ||area_number.23||+0xb6
                  |L1.9772|
                          DCD      ||.bss||+0x420
                  |L1.9776|
002630  e01c              B        |L1.9836|
                  |L1.9778|
002632  6882              LDR      r2,[r0,#8]  ; main_power_buffer
002634  440a              ADD      r2,r2,r1
002636  6082              STR      r2,[r0,#8]  ; main_power_buffer
;;;3218   	main_power_buffer[3]+=(long)(adc_result);
002638  68c2              LDR      r2,[r0,#0xc]  ; main_power_buffer
00263a  4411              ADD      r1,r1,r2
00263c  60c1              STR      r1,[r0,#0xc]  ; main_power_buffer
;;;3219   
;;;3220   	adc_net_buff_cnt++;
00263e  8f29              LDRH     r1,[r5,#0x38]  ; adc_net_buff_cnt
002640  f1010101          ADD      r1,r1,#1
002644  b209              SXTH     r1,r1
002646  8729              STRH     r1,[r5,#0x38]
;;;3221   	if(adc_net_buff_cnt>=0x1000)
002648  f5b15f80          CMP      r1,#0x1000
00264c  db00              BLT      |L1.9808|
;;;3222   		{
;;;3223   		adc_net_buff_cnt=0;
00264e  872e              STRH     r6,[r5,#0x38]
                  |L1.9808|
;;;3224   		}
;;;3225   	if((adc_net_buff_cnt&0x03ff)==0)
002650  f9b51038          LDRSH    r1,[r5,#0x38]  ; adc_net_buff_cnt
002654  058a              LSLS     r2,r1,#22
002656  d12f              BNE      |L1.9912|
;;;3226   		{
;;;3227   		#ifdef UKU_220
;;;3228   		net_buff_=(short)((main_power_buffer[adc_net_buff_cnt>>10])>>11);
;;;3229   		#else
;;;3230   		#ifdef UKU_220_V2
;;;3231   		net_buff_=(short)((main_power_buffer[adc_net_buff_cnt>>10])>>11);
;;;3232   		#else
;;;3233   		net_buff_=(short)((main_power_buffer[adc_net_buff_cnt>>10])>>8);
002658  ea4f21a1          ASR      r1,r1,#10
00265c  f8502021          LDR      r2,[r0,r1,LSL #2]
002660  ea4f2222          ASR      r2,r2,#8
002664  85ea              STRH     r2,[r5,#0x2e]
;;;3234   		#endif
;;;3235   		#endif
;;;3236   		main_power_buffer[adc_net_buff_cnt>>10]=0;
002666  f8406021          STR      r6,[r0,r1,LSL #2]
00266a  e025              B        |L1.9912|
                  |L1.9836|
;;;3237   		}
;;;3238   
;;;3239   
;;;3240   	} 
;;;3241   else if(!adc_ch_net)
;;;3242   	{
;;;3243   	adc_buff[adc_ch][adc_ch_cnt]=(long)adc_result;
00266c  48f8              LDR      r0,|L1.10832|
00266e  792c              LDRB     r4,[r5,#4]  ; adc_ch
002670  796a              LDRB     r2,[r5,#5]  ; adc_ch_cnt
002672  eb001384          ADD      r3,r0,r4,LSL #6
002676  f9b51030          LDRSH    r1,[r5,#0x30]  ; adc_result
00267a  f8431022          STR      r1,[r3,r2,LSL #2]
;;;3244   	
;;;3245   	if((adc_ch_cnt&0x03)==0)
00267e  0790              LSLS     r0,r2,#30
002680  d10d              BNE      |L1.9886|
;;;3246   		{
;;;3247   		long temp_L;
;;;3248   		char i;
;;;3249   		temp_L=0;
002682  4601              MOV      r1,r0
                  |L1.9860|
;;;3250   		for(i=0;i<16;i++)
;;;3251   			{
;;;3252   			temp_L+=adc_buff[adc_ch][i];
002684  f853c020          LDR      r12,[r3,r0,LSL #2]
002688  4461              ADD      r1,r1,r12
00268a  f1000001          ADD      r0,r0,#1              ;3250
00268e  b2c0              UXTB     r0,r0                 ;3250
002690  2810              CMP      r0,#0x10              ;3250
002692  d3f7              BCC      |L1.9860|
;;;3253   			}
;;;3254   		adc_buff_[adc_ch]= (short)(temp_L>>4);
002694  ea4f1021          ASR      r0,r1,#4
002698  49ee              LDR      r1,|L1.10836|
00269a  f8210014          STRH     r0,[r1,r4,LSL #1]
                  |L1.9886|
;;;3255   
;;;3256   		//adc_buff_[3]=346;
;;;3257   		}
;;;3258   	if(++adc_ch>=16) 
00269e  1c64              ADDS     r4,r4,#1
0026a0  b2e0              UXTB     r0,r4
0026a2  7128              STRB     r0,[r5,#4]
0026a4  2810              CMP      r0,#0x10
0026a6  d307              BCC      |L1.9912|
;;;3259   		{
;;;3260   		adc_ch=0;
0026a8  712e              STRB     r6,[r5,#4]
;;;3261   		adc_ch_cnt++;
0026aa  f1020201          ADD      r2,r2,#1
0026ae  b2d0              UXTB     r0,r2
0026b0  7168              STRB     r0,[r5,#5]
;;;3262   		if(adc_ch_cnt>=16)adc_ch_cnt=0;
0026b2  2810              CMP      r0,#0x10
0026b4  d300              BCC      |L1.9912|
0026b6  716e              STRB     r6,[r5,#5]
                  |L1.9912|
;;;3263   		}
;;;3264   	}
;;;3265   
;;;3266   //adc_buff[adc_ch][adc_cnt1]=(adc_self_ch_buff[2]+adc_self_ch_buff[1])/2;
;;;3267   
;;;3268   //if(adc_buff[adc_ch][adc_cnt1]<adc_buff_min[adc_ch])adc_buff_min[adc_ch]=adc_buff[adc_ch][adc_cnt1];
;;;3269   //if(adc_buff[adc_ch][adc_cnt1]>adc_buff_max[adc_ch])adc_buff_max[adc_ch]=adc_buff[adc_ch][adc_cnt1];
;;;3270   /*
;;;3271   	{
;;;3272   	if((adc_cnt1&0x03)==0)
;;;3273   		{
;;;3274   		temp_S=0;
;;;3275   		for(i=0;i<16;i++)
;;;3276   			{
;;;3277   			temp_S+=adc_buff[adc_ch][i];
;;;3278   			} 
;;;3279            	adc_buff_[adc_ch]=temp_S>>4;
;;;3280             }
;;;3281   	}*/
;;;3282   
;;;3283   
;;;3284   		  
;;;3285   
;;;3286   adc_self_ch_cnt=0;
0026b8  70ae              STRB     r6,[r5,#2]
;;;3287   
;;;3288   adc_ch_net++;
0026ba  f1070701          ADD      r7,r7,#1
;;;3289   adc_ch_net&=1;
0026be  f0070001          AND      r0,r7,#1
0026c2  70e8              STRB     r0,[r5,#3]
;;;3290   
;;;3291   //SET_REG(LPC_GPIO0->FIODIR,7,5,3);
;;;3292   //SET_REG(LPC_GPIO0->FIOPIN,adc_ch,5,3);
;;;3293   
;;;3294   if(adc_ch_net)
;;;3295   	{
;;;3296   	//LPC_GPIO2->FIODIR|=(1<<7);
;;;3297   	//LPC_GPIO2->FIOPIN|=(1<<7);
;;;3298   	SET_REG(LPC_ADC->ADCR,1<<2,0,8);
0026c4  4ae4              LDR      r2,|L1.10840|
0026c6  b130              CBZ      r0,|L1.9942|
0026c8  6810              LDR      r0,[r2,#0]
0026ca  f02000ff          BIC      r0,r0,#0xff
0026ce  f1000004          ADD      r0,r0,#4
0026d2  6010              STR      r0,[r2,#0]
0026d4  e03d              B        |L1.10066|
                  |L1.9942|
;;;3299   	}
;;;3300   else
;;;3301   	{
;;;3302   	//LPC_GPIO2->FIODIR|=(1<<7);
;;;3303   	//LPC_GPIO2->FIOPIN&=~(1<<7);
;;;3304   	if(!(adc_ch&(1<<3)))SET_REG(LPC_ADC->ADCR,1<<0,0,8);
0026d6  7929              LDRB     r1,[r5,#4]  ; adc_ch
0026d8  0708              LSLS     r0,r1,#28
0026da  d406              BMI      |L1.9962|
0026dc  6810              LDR      r0,[r2,#0]
0026de  f02000ff          BIC      r0,r0,#0xff
0026e2  f1000001          ADD      r0,r0,#1
0026e6  6010              STR      r0,[r2,#0]
0026e8  e005              B        |L1.9974|
                  |L1.9962|
;;;3305   	else 			SET_REG(LPC_ADC->ADCR,1<<1,0,8);
0026ea  6810              LDR      r0,[r2,#0]
0026ec  f02000ff          BIC      r0,r0,#0xff
0026f0  f1000002          ADD      r0,r0,#2
0026f4  6010              STR      r0,[r2,#0]
                  |L1.9974|
;;;3306   
;;;3307   
;;;3308   	SET_REG(LPC_GPIO0->FIODIR,1,28,1);
0026f6  48d9              LDR      r0,|L1.10844|
0026f8  6803              LDR      r3,[r0,#0]
0026fa  f0435380          ORR      r3,r3,#0x10000000
0026fe  6003              STR      r3,[r0,#0]
;;;3309   	SET_REG(LPC_GPIO1->FIODIR,1,30,1);
002700  6a03              LDR      r3,[r0,#0x20]
002702  f0434380          ORR      r3,r3,#0x40000000
002706  6203              STR      r3,[r0,#0x20]
;;;3310   	SET_REG(LPC_GPIO3->FIODIR,1,26,1);
002708  6e03              LDR      r3,[r0,#0x60]
00270a  f0436380          ORR      r3,r3,#0x4000000
00270e  6603              STR      r3,[r0,#0x60]
;;;3311   
;;;3312   	if(!(adc_ch&(1<<0)))SET_REG(LPC_GPIO0->FIOPIN,0,28,1);
002710  07cb              LSLS     r3,r1,#31
002712  d00a              BEQ      |L1.10026|
;;;3313   	else 			SET_REG(LPC_GPIO0->FIOPIN,1,28,1);
002714  6943              LDR      r3,[r0,#0x14]
002716  f0435380          ORR      r3,r3,#0x10000000
00271a  6143              STR      r3,[r0,#0x14]
                  |L1.10012|
;;;3314   
;;;3315   	if(!(adc_ch&(1<<1)))SET_REG(LPC_GPIO1->FIOPIN,0,30,1);
00271c  078b              LSLS     r3,r1,#30
00271e  d409              BMI      |L1.10036|
002720  6b43              LDR      r3,[r0,#0x34]
002722  f0234380          BIC      r3,r3,#0x40000000
002726  6343              STR      r3,[r0,#0x34]
002728  e008              B        |L1.10044|
                  |L1.10026|
00272a  6943              LDR      r3,[r0,#0x14]         ;3312
00272c  f0235380          BIC      r3,r3,#0x10000000     ;3312
002730  6143              STR      r3,[r0,#0x14]         ;3312
002732  e7f3              B        |L1.10012|
                  |L1.10036|
;;;3316   	else 			SET_REG(LPC_GPIO1->FIOPIN,1,30,1);
002734  6b43              LDR      r3,[r0,#0x34]
002736  f0434380          ORR      r3,r3,#0x40000000
00273a  6343              STR      r3,[r0,#0x34]
                  |L1.10044|
;;;3317   
;;;3318   	if(!(adc_ch&(1<<2)))SET_REG(LPC_GPIO3->FIOPIN,0,26,1);
00273c  0749              LSLS     r1,r1,#29
00273e  d404              BMI      |L1.10058|
002740  6f41              LDR      r1,[r0,#0x74]
002742  f0216180          BIC      r1,r1,#0x4000000
002746  6741              STR      r1,[r0,#0x74]
002748  e003              B        |L1.10066|
                  |L1.10058|
;;;3319   	else 			SET_REG(LPC_GPIO3->FIOPIN,1,26,1);
00274a  6f41              LDR      r1,[r0,#0x74]
00274c  f0416180          ORR      r1,r1,#0x4000000
002750  6741              STR      r1,[r0,#0x74]
                  |L1.10066|
;;;3320   	}
;;;3321   	
;;;3322   
;;;3323   
;;;3324   
;;;3325   LPC_ADC->ADCR |=  (1<<24);
002752  6810              LDR      r0,[r2,#0]
002754  f0407080          ORR      r0,r0,#0x1000000
002758  6010              STR      r0,[r2,#0]
;;;3326   
;;;3327   }
00275a  e8bd81f0          POP      {r4-r8,pc}
;;;3328   
                          ENDP

                  avg_hndl PROC
;;;3585   //-----------------------------------------------
;;;3586   void avg_hndl(void)
00275e  b5f0              PUSH     {r4-r7,lr}
;;;3587   { 
;;;3588   char i;
;;;3589   
;;;3590   //#define AVGCNTMAX	5
;;;3591   if(avg_main_cnt)
002760  4dbf              LDR      r5,|L1.10848|
002762  f9b5002a          LDRSH    r0,[r5,#0x2a]  ; avg_main_cnt
002766  b118              CBZ      r0,|L1.10096|
;;;3592   	{
;;;3593   	avg_main_cnt--;
002768  f1a00001          SUB      r0,r0,#1
00276c  8568              STRH     r0,[r5,#0x2a]
;;;3594   	goto avg_hndl_end;
00276e  e096              B        |L1.10398|
                  |L1.10096|
;;;3595   	}                 
;;;3596   
;;;3597   avg_num=0;
002770  f04f0600          MOV      r6,#0
002774  732e              STRB     r6,[r5,#0xc]
;;;3598   
;;;3599   for(i=0;i<NUMIST;i++)
002776  4630              MOV      r0,r6
002778  49bb              LDR      r1,|L1.10856|
;;;3600   	{
;;;3601   	if((bps[i]._state==bsWRK)&&(bps[i]._cnt<20))avg_num++;
00277a  4bba              LDR      r3,|L1.10852|
00277c  f9b12000          LDRSH    r2,[r1,#0]            ;3599
002780  e012              B        |L1.10152|
                  |L1.10114|
002782  ebc001c0          RSB      r1,r0,r0,LSL #3
002786  eb011100          ADD      r1,r1,r0,LSL #4
00278a  eb030181          ADD      r1,r3,r1,LSL #2
00278e  788c              LDRB     r4,[r1,#2]
002790  2c01              CMP      r4,#1
002792  d106              BNE      |L1.10146|
002794  78c9              LDRB     r1,[r1,#3]
002796  2914              CMP      r1,#0x14
002798  d203              BCS      |L1.10146|
00279a  7b29              LDRB     r1,[r5,#0xc]  ; avg_num
00279c  f1010101          ADD      r1,r1,#1
0027a0  7329              STRB     r1,[r5,#0xc]
                  |L1.10146|
0027a2  f1000001          ADD      r0,r0,#1              ;3599
0027a6  b2c0              UXTB     r0,r0                 ;3599
                  |L1.10152|
0027a8  4290              CMP      r0,r2                 ;3599
0027aa  dbea              BLT      |L1.10114|
;;;3602   	}
;;;3603   
;;;3604   /*if((K[NUMI]>=1)&&(bps_state[0]==ssWRK))	avg_num++;
;;;3605   if((K[NUMI]>=2)&&(bps_state[1]==ssWRK))	avg_num++;
;;;3606   if((K[NUMI]>=3)&&(bps_state[2]==ssWRK))	avg_num++;*/
;;;3607   
;;;3608   	
;;;3609   if(avg_num<2)
0027ac  7b2f              LDRB     r7,[r5,#0xc]  ; avg_num
0027ae  2f02              CMP      r7,#2
0027b0  d375              BCC      |L1.10398|
;;;3610   	{
;;;3611   	goto avg_hndl_end;
;;;3612   	}
;;;3613   	
;;;3614   else
;;;3615   	{
;;;3616   	i_avg_min=5000;
0027b2  4cab              LDR      r4,|L1.10848|
0027b4  f2413088          MOV      r0,#0x1388
0027b8  f1040480          ADD      r4,r4,#0x80
0027bc  6060              STR      r0,[r4,#4]  ; i_avg_min
;;;3617   	i_avg_max=0;
0027be  6026              STR      r6,[r4,#0]  ; i_avg_max
;;;3618   	i_avg_summ=0;
0027c0  60a6              STR      r6,[r4,#8]  ; i_avg_summ
;;;3619   	for(i=0;i<NUMIST;i++)
0027c2  f04f0100          MOV      r1,#0
0027c6  e01c              B        |L1.10242|
                  |L1.10184|
;;;3620   		{
;;;3621   		if(bps[i]._state==bsWRK)
0027c8  ebc100c1          RSB      r0,r1,r1,LSL #3
0027cc  eb001001          ADD      r0,r0,r1,LSL #4
0027d0  eb030080          ADD      r0,r3,r0,LSL #2
0027d4  f890c002          LDRB     r12,[r0,#2]
0027d8  f1bc0f01          CMP      r12,#1
0027dc  d10e              BNE      |L1.10236|
;;;3622   			{
;;;3623   			if(bps[i]._Ii>i_avg_max)i_avg_max=bps[i]._Ii;
0027de  6a40              LDR      r0,[r0,#0x24]
0027e0  f8d4c000          LDR      r12,[r4,#0]  ; i_avg_max
0027e4  4560              CMP      r0,r12
0027e6  dd00              BLE      |L1.10218|
0027e8  6020              STR      r0,[r4,#0]  ; i_avg_max
                  |L1.10218|
;;;3624   			if(bps[i]._Ii<i_avg_min)i_avg_min=bps[i]._Ii;
0027ea  f8d4c004          LDR      r12,[r4,#4]  ; i_avg_min
0027ee  4560              CMP      r0,r12
0027f0  da00              BGE      |L1.10228|
0027f2  6060              STR      r0,[r4,#4]  ; i_avg_min
                  |L1.10228|
;;;3625   			
;;;3626   			i_avg_summ+=bps[i]._Ii;
0027f4  f8d4c008          LDR      r12,[r4,#8]  ; i_avg_summ
0027f8  4460              ADD      r0,r0,r12
0027fa  60a0              STR      r0,[r4,#8]  ; i_avg_summ
                  |L1.10236|
0027fc  f1010101          ADD      r1,r1,#1              ;3619
002800  b2c9              UXTB     r1,r1                 ;3619
                  |L1.10242|
002802  4291              CMP      r1,r2                 ;3619
002804  dbe0              BLT      |L1.10184|
;;;3627   			}
;;;3628   		}
;;;3629   	i_avg=i_avg_summ/avg_num;	
002806  68a0              LDR      r0,[r4,#8]  ; i_avg_summ
002808  fb90f7f7          SDIV     r7,r0,r7
00280c  60e7              STR      r7,[r4,#0xc]  ; i_avg
;;;3630   	
;;;3631   	if(i_avg_min==0)i_avg_min=1;
00280e  6860              LDR      r0,[r4,#4]  ; i_avg_min
002810  2101              MOVS     r1,#1                 ;3601
002812  b900              CBNZ     r0,|L1.10262|
002814  6061              STR      r1,[r4,#4]  ; i_avg_min
                  |L1.10262|
;;;3632   
;;;3633   	avg=i_avg_max;
002816  6820              LDR      r0,[r4,#0]  ; i_avg_max
;;;3634   	avg*=100;
002818  f04f0c64          MOV      r12,#0x64
00281c  fb00f00c          MUL      r0,r0,r12
;;;3635   	avg/=i_avg_min;
002820  f8d4c004          LDR      r12,[r4,#4]  ; i_avg_min
002824  fb90f0fc          SDIV     r0,r0,r12
002828  6120              STR      r0,[r4,#0x10]  ; avg
;;;3636   
;;;3637   	if(avg>160) bAVG=1;
00282a  28a0              CMP      r0,#0xa0
00282c  dd00              BLE      |L1.10288|
00282e  72e9              STRB     r1,[r5,#0xb]
                  |L1.10288|
;;;3638   	if(avg<120) bAVG=0;
002830  2878              CMP      r0,#0x78
002832  da00              BGE      |L1.10294|
002834  72ee              STRB     r6,[r5,#0xb]
                  |L1.10294|
;;;3639   
;;;3640   	if(bAVG==1)
002836  7ae8              LDRB     r0,[r5,#0xb]  ; bAVG
002838  2801              CMP      r0,#1
00283a  d130              BNE      |L1.10398|
;;;3641   		{
;;;3642   		for(i=0;i<NUMIST;i++)
00283c  f04f0100          MOV      r1,#0
;;;3643   			{
;;;3644   			if(bps[i]._state==bsWRK)
;;;3645   				{
;;;3646   				if(bps[i]._Ii>i_avg)bps[i]._x_--;
;;;3647   				if(bps[i]._Ii<i_avg)bps[i]._x_++;
;;;3648   			
;;;3649   				if(bps[i]._x_<-50)bps[i]._x_=-50;
002840  f06f0431          MVN      r4,#0x31
002844  e029              B        |L1.10394|
                  |L1.10310|
002846  ebc100c1          RSB      r0,r1,r1,LSL #3       ;3644
00284a  eb001001          ADD      r0,r0,r1,LSL #4       ;3644
00284e  eb030080          ADD      r0,r3,r0,LSL #2       ;3644
002852  7885              LDRB     r5,[r0,#2]            ;3644
002854  2d01              CMP      r5,#1                 ;3644
002856  d11d              BNE      |L1.10388|
002858  6a45              LDR      r5,[r0,#0x24]         ;3646
00285a  42bd              CMP      r5,r7                 ;3646
00285c  dd05              BLE      |L1.10346|
00285e  f8b05050          LDRH     r5,[r0,#0x50]         ;3646
002862  f1a50501          SUB      r5,r5,#1              ;3646
002866  f8a05050          STRH     r5,[r0,#0x50]         ;3646
                  |L1.10346|
00286a  da05              BGE      |L1.10360|
00286c  f8b05050          LDRH     r5,[r0,#0x50]         ;3647
002870  f1050501          ADD      r5,r5,#1              ;3647
002874  f8a05050          STRH     r5,[r0,#0x50]         ;3647
                  |L1.10360|
002878  f9b05050          LDRSH    r5,[r0,#0x50]
00287c  42a5              CMP      r5,r4
00287e  da01              BGE      |L1.10372|
002880  f8a04050          STRH     r4,[r0,#0x50]
                  |L1.10372|
;;;3650   				if(bps[i]._x_>50)bps[i]._x_=50;	
002884  f9b05050          LDRSH    r5,[r0,#0x50]
002888  2d32              CMP      r5,#0x32
00288a  dd03              BLE      |L1.10388|
00288c  f04f0532          MOV      r5,#0x32
002890  f8a05050          STRH     r5,[r0,#0x50]
                  |L1.10388|
002894  f1010101          ADD      r1,r1,#1              ;3642
002898  b2c9              UXTB     r1,r1                 ;3642
                  |L1.10394|
00289a  4291              CMP      r1,r2                 ;3642
00289c  dbd3              BLT      |L1.10310|
                  |L1.10398|
;;;3651   				}
;;;3652   			}		
;;;3653   		}			
;;;3654   	}   	 
;;;3655   
;;;3656   
;;;3657   avg_hndl_end:
;;;3658   __nop();  
00289e  bf00              NOP      
;;;3659   }
0028a0  bdf0              POP      {r4-r7,pc}
;;;3660   
                          ENDP

                  rele_hndl PROC
;;;3673   //*************-----------------------------------------------
;;;3674   void rele_hndl(void)
0028a2  e92d5ff0          PUSH     {r4-r12,lr}
;;;3675   {
;;;3676   //static char cnt_rel_sam;
;;;3677   //char temp;
;;;3678   
;;;3679   //temp=0;
;;;3680   
;;;3681   
;;;3682   SET_REG(LPC_PINCON->PINSEL0,0,4*2,6*2);
0028a6  4871              LDR      r0,|L1.10860|
0028a8  6801              LDR      r1,[r0,#0]
0028aa  4a71              LDR      r2,|L1.10864|
0028ac  ea010102          AND      r1,r1,r2
0028b0  6001              STR      r1,[r0,#0]
;;;3683   SET_REG(LPC_GPIO0->FIODIR,63,4,6);
0028b2  4c6a              LDR      r4,|L1.10844|
0028b4  6821              LDR      r1,[r4,#0]
0028b6  f441717c          ORR      r1,r1,#0x3f0
0028ba  6021              STR      r1,[r4,#0]
;;;3684   SET_REG(LPC_PINCON->PINSEL7,0,(25-16)*2,2);
0028bc  69c1              LDR      r1,[r0,#0x1c]
0028be  f4212140          BIC      r1,r1,#0xc0000
0028c2  61c1              STR      r1,[r0,#0x1c]
;;;3685   SET_REG(LPC_GPIO3->FIODIR,1,25,1);
0028c4  6e21              LDR      r1,[r4,#0x60]
0028c6  f0417100          ORR      r1,r1,#0x2000000
0028ca  6621              STR      r1,[r4,#0x60]
;;;3686   SET_REG(LPC_PINCON->PINSEL1,0,(29-16)*2,2);
0028cc  6841              LDR      r1,[r0,#4]
0028ce  f0216140          BIC      r1,r1,#0xc000000
0028d2  6041              STR      r1,[r0,#4]
;;;3687   SET_REG(LPC_GPIO0->FIODIR,1,29,1);
0028d4  6820              LDR      r0,[r4,#0]
0028d6  f0405000          ORR      r0,r0,#0x20000000
0028da  6020              STR      r0,[r4,#0]
;;;3688   
;;;3689   
;;;3690   
;;;3691   
;;;3692   
;;;3693   
;;;3694   if((((bat[0]._rel_stat)  || (tbatdisable_stat!=tbdsON))&&(tbatdisable_cmnd))	&& (main_1Hz_cnt>5))
0028dc  4866              LDR      r0,|L1.10872|
0028de  4d65              LDR      r5,|L1.10868|
0028e0  4967              LDR      r1,|L1.10880|
0028e2  7802              LDRB     r2,[r0,#0]  ; tbatdisable_stat
0028e4  4865              LDR      r0,|L1.10876|
0028e6  f895303c          LDRB     r3,[r5,#0x3c]  ; bat
0028ea  f9b11000          LDRSH    r1,[r1,#0]
0028ee  7800              LDRB     r0,[r0,#0]
0028f0  4313              ORRS     r3,r3,r2
0028f2  d007              BEQ      |L1.10500|
0028f4  b130              CBZ      r0,|L1.10500|
0028f6  2905              CMP      r1,#5
0028f8  dd04              BLE      |L1.10500|
;;;3695   	{
;;;3696   	SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_BAT1,1);
0028fa  69a3              LDR      r3,[r4,#0x18]
0028fc  f4437380          ORR      r3,r3,#0x100
002900  61a3              STR      r3,[r4,#0x18]
002902  e003              B        |L1.10508|
                  |L1.10500|
;;;3697   	}
;;;3698   else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_BAT1,1);	  	
002904  69e3              LDR      r3,[r4,#0x1c]
002906  f4437380          ORR      r3,r3,#0x100
00290a  61e3              STR      r3,[r4,#0x1c]
                  |L1.10508|
;;;3699   
;;;3700   if((((bat[1]._rel_stat) || (tbatdisable_stat!=tbdsON))&&(tbatdisable_cmnd))	&& (main_1Hz_cnt>5))
00290c  f8953088          LDRB     r3,[r5,#0x88]  ; bat
002910  4313              ORRS     r3,r3,r2
002912  d007              BEQ      |L1.10532|
002914  b130              CBZ      r0,|L1.10532|
002916  2905              CMP      r1,#5
002918  dd04              BLE      |L1.10532|
;;;3701   	{
;;;3702   	SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_BAT2,1);
00291a  69a0              LDR      r0,[r4,#0x18]
00291c  f0400040          ORR      r0,r0,#0x40
002920  61a0              STR      r0,[r4,#0x18]
002922  e003              B        |L1.10540|
                  |L1.10532|
;;;3703   	}
;;;3704   else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_BAT2,1);
002924  69e0              LDR      r0,[r4,#0x1c]
002926  f0400040          ORR      r0,r0,#0x40
00292a  61e0              STR      r0,[r4,#0x1c]
                  |L1.10540|
;;;3705   
;;;3706   
;;;3707   if(mess_find_unvol((MESS2RELE_HNDL))&&(mess_data[0]==PARAM_RELE_SAMOKALIBR)) 
00292c  20d2              MOVS     r0,#0xd2
00292e  f7fffffe          BL       mess_find_unvol
002932  4d54              LDR      r5,|L1.10884|
002934  b110              CBZ      r0,|L1.10556|
002936  6828              LDR      r0,[r5,#0]  ; mess_data
002938  2864              CMP      r0,#0x64
00293a  d048              BEQ      |L1.10702|
                  |L1.10556|
;;;3708   	{
;;;3709   	if(mess_data[1]==1)SET_REG(LPC_GPIO0->FIOSET,1,29,1);
;;;3710   	else if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,29,1);
;;;3711   	}
;;;3712   else SET_REG(LPC_GPIO0->FIOCLR,1,29,1);
00293c  69e0              LDR      r0,[r4,#0x1c]
00293e  f0405000          ORR      r0,r0,#0x20000000
002942  61e0              STR      r0,[r4,#0x1c]
                  |L1.10564|
;;;3713   
;;;3714   
;;;3715   #ifndef UKU2071x
;;;3716   //–ÂÎÂ ‡‚‡ËË ÒÂÚË
;;;3717   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;3718   	{
;;;3719   	if(mess_data[1]==0) 			SET_REG(LPC_GPIO3->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;3720   	else 						SET_REG(LPC_GPIO3->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3721   	}
;;;3722   else	if(!(avar_ind_stat&0x00000001)) 	SET_REG(LPC_GPIO3->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;3723   else 							SET_REG(LPC_GPIO3->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3724   #endif
;;;3725   #ifdef UKU2071x
;;;3726   //–ÂÎÂ ‡‚‡ËË ÒÂÚË
;;;3727   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
002944  20d2              MOVS     r0,#0xd2
002946  f7fffffe          BL       mess_find_unvol
;;;3728   	{
;;;3729   	if(mess_data[1]==0)				SET_REG(LPC_GPIO3->FIOCLR,1,SHIFT_REL_AV_NET,1); 
;;;3730   	else 						SET_REG(LPC_GPIO3->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;3731   	}
;;;3732   else	if(!(avar_ind_stat&0x00000001))	SET_REG(LPC_GPIO3->FIOCLR,1,SHIFT_REL_AV_NET,1);
00294a  4e4f              LDR      r6,|L1.10888|
00294c  b110              CBZ      r0,|L1.10580|
00294e  6828              LDR      r0,[r5,#0]            ;3727  ; mess_data
002950  2866              CMP      r0,#0x66              ;3727
002952  d04b              BEQ      |L1.10732|
                  |L1.10580|
002954  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
002956  07c0              LSLS     r0,r0,#31
002958  d054              BEQ      |L1.10756|
;;;3733   else 					  		SET_REG(LPC_GPIO3->FIOSET,1,SHIFT_REL_AV_NET,1);
00295a  6fa0              LDR      r0,[r4,#0x78]
00295c  f0407000          ORR      r0,r0,#0x2000000
002960  67a0              STR      r0,[r4,#0x78]
                  |L1.10594|
;;;3734   #endif
;;;3735   
;;;3736   #ifdef UKU_3U
;;;3737   //–ÂÎÂ ‡‚‡ËÈ ·‡Ú‡ÂÈ
;;;3738   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT1))
;;;3739   	{
;;;3740   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT1,1);
;;;3741   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT1,1);
;;;3742        }
;;;3743   else 
;;;3744   	{
;;;3745   	if(!(avar_ind_stat&0x00000002)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT1,1);
;;;3746        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT1,1);
;;;3747   	} 
;;;3748   
;;;3749   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT2))
;;;3750   	{
;;;3751   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;3752   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT2,1);
;;;3753        }
;;;3754   else 
;;;3755   	{
;;;3756   	if(!(avar_ind_stat&0x00000004)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;3757        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT2,1);
;;;3758   	} 
;;;3759   
;;;3760   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
;;;3761   	{
;;;3762   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;3763   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;3764        }
;;;3765   else 
;;;3766   	{
;;;3767   	if(!(avar_ind_stat&0x000007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;3768        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;3769   	} 
;;;3770   
;;;3771   #endif
;;;3772   
;;;3773   
;;;3774   #ifdef UKU_GLONASS
;;;3775   //–ÂÎÂ ‡‚‡ËÈ ·‡Ú‡ÂÈ
;;;3776   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT1))
;;;3777   	{
;;;3778   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT1,1);
;;;3779   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT1,1);
;;;3780        }
;;;3781   else 
;;;3782   	{
;;;3783   	if(!(avar_ind_stat&0x00000002)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT1,1);
;;;3784        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT1,1);
;;;3785   	} 
;;;3786   
;;;3787   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT2))
;;;3788   	{
;;;3789   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;3790   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT2,1);
;;;3791        }
;;;3792   else 
;;;3793   	{
;;;3794   	if(!(avar_ind_stat&0x00000004)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;3795        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT2,1);
;;;3796   	} 
;;;3797   
;;;3798   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
;;;3799   	{
;;;3800   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;3801   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;3802        }
;;;3803   else 
;;;3804   	{
;;;3805   	if(!(avar_ind_stat&0x000007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;3806        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;3807   	} 
;;;3808   
;;;3809   #endif
;;;3810   
;;;3811   #ifdef U 
;;;3812   
;;;3813   #endif
;;;3814   
;;;3815   #ifdef UKU_RSTKM
;;;3816   
;;;3817   //–ÂÎÂ Ó·˘ÂÈ ‡‚‡ËË
;;;3818   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_COMM))
;;;3819   	{
;;;3820   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_COMM,1);
;;;3821   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_COMM,1);
;;;3822   	}
;;;3823   else 
;;;3824   	{
;;;3825        if(  (!(avar_ind_stat&0x00007fff))/* &&
;;;3826             ((!SK_REL_EN[0]) || (sk_av_stat[0]!=sasON))  &&
;;;3827             ((!SK_REL_EN[1]) || (sk_av_stat[1]!=sasON))  &&
;;;3828             ((!SK_REL_EN[2]) || (sk_av_stat[2]!=sasON))  &&
;;;3829             ((!SK_REL_EN[3]) || (sk_av_stat[3]!=sasON))*/  )SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_COMM,1);
;;;3830        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_COMM,1);
;;;3831   	}
;;;3832   	
;;;3833   
;;;3834   //–ÂÎÂ ÓÒ‚Â˘ÂÌËˇ
;;;3835   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LIGHT))
;;;3836   	{
;;;3837   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;3838   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;3839        }
;;;3840   else 
;;;3841   	{
;;;3842   	if(sk_av_stat[0]!=sasON) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;3843        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;3844   	}
;;;3845   
;;;3846   
;;;3847   //–ÂÎÂ ‚˚ÍÎ˛˜ÂÌËˇ Ì‡„ÛÁÍË
;;;3848   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LOAD_OFF))
;;;3849   	{
;;;3850   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;3851   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;3852        }
;;;3853   else if(tloaddisable_cmnd==0)
;;;3854   	{
;;;3855   	SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;3856   	}
;;;3857   else if((tloaddisable_cmnd)&&(tloaddisable_cmnd<=11))
;;;3858   	{
;;;3859   	SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;3860   	}
;;;3861   
;;;3862   else 
;;;3863   	{
;;;3864   	if(!(tloaddisable_stat==tldsON)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;3865        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;3866   	} 
;;;3867   
;;;3868   //–ÂÎÂ ÓÒÂ‚Ó„Ó ‚ÂÌÚËÎˇÚÓ‡
;;;3869   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VENT))
;;;3870   	{
;;;3871   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3872   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;3873   	}
;;;3874   else 
;;;3875   	{
;;;3876   	if(mixer_vent_stat==mvsOFF) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3877        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;3878   	} 
;;;3879   
;;;3880   #endif
;;;3881   
;;;3882   #ifdef UKU_KONTUR
;;;3883   
;;;3884   //–ÂÎÂ Ó·˘ÂÈ ‡‚‡ËË
;;;3885   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_COMM))
;;;3886   	{
;;;3887   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_COMM,1);
;;;3888   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_COMM,1);
;;;3889   	}
;;;3890   else 
;;;3891   	{
;;;3892        if(  (!(avar_ind_stat&0x00007fff)) &&
;;;3893             ((!SK_REL_EN[0]) || (sk_av_stat[0]!=sasON))  &&
;;;3894             ((!SK_REL_EN[1]) || (sk_av_stat[1]!=sasON))  &&
;;;3895             ((!SK_REL_EN[2]) || (sk_av_stat[2]!=sasON))  /*&&
;;;3896             ((!SK_REL_EN[3]) || (sk_av_stat[3]!=sasON))*/  )SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_COMM,1);
;;;3897        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_COMM,1);
;;;3898   	}
;;;3899   
;;;3900   	
;;;3901   //rel_warm_plazma=0;
;;;3902   //–ÂÎÂ ÓÒ‚Â˘ÂÌËˇ   
;;;3903   /*
;;;3904   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_WARM))
;;;3905   	{
;;;3906   	if(mess_data[1]==0)
;;;3907   		{
;;;3908   		SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_WARM,1);
;;;3909   		rel_warm_plazma=1;
;;;3910   		}
;;;3911   	else if(mess_data[1]==1) 
;;;3912   		{
;;;3913   		SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_WARM,1);
;;;3914   		rel_warm_plazma=2;
;;;3915   		}
;;;3916        }
;;;3917   else 
;;;3918   	{
;;;3919   	if(warm_stat_k==wsOFF) 
;;;3920   		{
;;;3921   		SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_WARM,1);
;;;3922   		rel_warm_plazma=3;
;;;3923   		}
;;;3924        else 
;;;3925   		{
;;;3926   		SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_WARM,1);
;;;3927   		rel_warm_plazma=4;
;;;3928   		}
;;;3929   	}
;;;3930   */
;;;3931   //–ÂÎÂ ÓÒ‚Â˘ÂÌËˇ
;;;3932   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LIGHT))
;;;3933   	{
;;;3934   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;3935   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;3936        }
;;;3937   else 
;;;3938   	{
;;;3939   	if(sk_av_stat[0]!=sasON) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;3940        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;3941   	}
;;;3942   
;;;3943   
;;;3944   
;;;3945   //–ÂÎÂ ‚˚ÍÎ˛˜ÂÌËˇ Ì‡„ÛÁÍË
;;;3946   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LOAD_OFF))
;;;3947   	{
;;;3948   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;3949   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;3950        }
;;;3951   else if(tloaddisable_cmnd==0)
;;;3952   	{
;;;3953   	SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;3954   	}
;;;3955   else if((tloaddisable_cmnd)&&(tloaddisable_cmnd<=11))
;;;3956   	{
;;;3957   	SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;3958   	}
;;;3959   
;;;3960   else 
;;;3961   	{
;;;3962   	if(!(tloaddisable_stat==tldsON)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;3963        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;3964   	} 
;;;3965   
;;;3966   //–ÂÎÂ ÓÒÂ‚Ó„Ó ‚ÂÌÚËÎˇÚÓ‡ ËÎË ÓÚÓÔËÚÂÎˇ
;;;3967   if(RELE_LOG)
;;;3968   	{
;;;3969   	if((mess_find_unvol(MESS2RELE_HNDL))&&(mess_data[0]==PARAM_RELE_VENT_WARM))
;;;3970   		{
;;;3971   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;3972   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;3973   		}
;;;3974   	else 
;;;3975   		{
;;;3976   		if(warm_stat_k==wsOFF) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;3977   	     else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;3978   		} 
;;;3979   
;;;3980   	}
;;;3981   else 
;;;3982   	{
;;;3983   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VENT_WARM))
;;;3984   		{
;;;3985   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;3986   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;3987   		}
;;;3988   	else 
;;;3989   		{
;;;3990   		if(vent_stat_k==vsOFF) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;3991   	     else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;3992   		} 
;;;3993   	}
;;;3994   #endif
;;;3995   
;;;3996   #ifdef UKU_6U
;;;3997   //–ÂÎÂ ‡‚‡ËÈ ·‡Ú‡ÂÈ
;;;3998   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT1))
;;;3999   	{
;;;4000   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT1,1);
;;;4001   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT1,1);
;;;4002        }
;;;4003   else 
;;;4004   	{
;;;4005   	if(!(avar_ind_stat&0x00000002)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT1,1);
;;;4006        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT1,1);
;;;4007   	} 
;;;4008   
;;;4009   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT2))
;;;4010   	{
;;;4011   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;4012   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT2,1);
;;;4013       }
;;;4014   else if(NPN_OUT==npnoRELEAVBAT2)
;;;4015   	{
;;;4016   	if(npn_stat==npnsOFF)//&&(mess_find_unvol(MESS2RELE_HNDL))&&(mess_data[0]==PARAM_RELE_NPN))
;;;4017   		{
;;;4018   		/*if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;4019   		else if(mess_data[1]==1)*/ SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;4020        	}
;;;4021   	else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT2,1);
;;;4022   	}
;;;4023   else 
;;;4024   	{
;;;4025   	if(!(avar_ind_stat&0x00000004)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;4026       else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT2,1);
;;;4027   	} 
;;;4028   
;;;4029   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
;;;4030   	{
;;;4031   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;4032   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;4033        }
;;;4034   else 
;;;4035   	{
;;;4036   	if(!(avar_ind_stat&0x000007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;4037        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;4038   	} 
;;;4039   
;;;4040   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VENT))
;;;4041   	{
;;;4042   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;4043   	else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;4044   	}
;;;4045   else if((NPN_OUT==npnoRELEVENT))
;;;4046   	{
;;;4047   	if(npn_stat==npnsOFF)//&&(mess_find_unvol(MESS2RELE_HNDL))&&(mess_data[0]==PARAM_RELE_NPN))
;;;4048   		{
;;;4049   		/*if(mess_data[1]==0)*/ SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;4050   		//else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;4051       	}
;;;4052   	else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;4053   	}
;;;4054   else 
;;;4055   	{
;;;4056   	if(!vent_stat) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;4057   	else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;4058   	}
;;;4059   
;;;4060   #endif
;;;4061   
;;;4062   #ifdef UKU_220
;;;4063   //–ÂÎÂ ‡‚‡ËÈ ·‡Ú‡ÂÈ
;;;4064   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT))
;;;4065   	{
;;;4066   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT,1);
;;;4067   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT,1);
;;;4068        }
;;;4069   else 
;;;4070   	{
;;;4071   	if(!(avar_ind_stat&0x00000002)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT,1);
;;;4072        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT,1);
;;;4073   	} 
;;;4074   
;;;4075   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
;;;4076   	{
;;;4077   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;4078   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;4079        }
;;;4080   else 
;;;4081   	{
;;;4082   	if(!(avar_ind_stat&0x000007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;4083        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;4084   	} 
;;;4085   
;;;4086   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VENT))
;;;4087   	{
;;;4088   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;4089   	else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;4090   	}
;;;4091   else 
;;;4092   	{
;;;4093   	if((RELE_VENT_LOGIC==0)||(RELE_VENT_LOGIC==1))
;;;4094   		{
;;;4095   		if(vent_stat) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;4096   		else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;4097   		}
;;;4098   	else 
;;;4099   		{
;;;4100   		if((avar_ind_stat&0x00000004)) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;4101        	else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;4102   		}
;;;4103   	}
;;;4104   
;;;4105   #endif
;;;4106   
;;;4107   #ifdef UKU_220_V2
;;;4108   //–ÂÎÂ ‡‚‡ËÈ ·‡Ú‡ÂÈ
;;;4109   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT))
;;;4110   	{
;;;4111   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT,1);
;;;4112   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT,1);
;;;4113        }
;;;4114   else 
;;;4115   	{
;;;4116   	if(!(avar_ind_stat&0x00000002)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT,1);
;;;4117        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT,1);
;;;4118   	} 
;;;4119   
;;;4120   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
;;;4121   	{
;;;4122   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;4123   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;4124        }
;;;4125   else 
;;;4126   	{
;;;4127   	if(!(avar_ind_stat&0x000007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;4128        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;4129   	} 
;;;4130   
;;;4131   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VENT))
;;;4132   	{
;;;4133   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;4134   	else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;4135   	}
;;;4136   else 
;;;4137   	{
;;;4138   	if((RELE_VENT_LOGIC==0)||(RELE_VENT_LOGIC==1))
;;;4139   		{
;;;4140   		if(vent_stat) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;4141   		else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;4142   		}
;;;4143   	else 
;;;4144   		{
;;;4145   		if((avar_ind_stat&0x00000004)) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;4146        	else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;4147   		}
;;;4148   	}
;;;4149   
;;;4150   #endif
;;;4151   
;;;4152   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;4153   
;;;4154   if((AUSW_MAIN==22010)||(AUSW_MAIN==22011))
002962  484a              LDR      r0,|L1.10892|
;;;4155   	{
;;;4156   	#ifndef UKU2071x
;;;4157   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;4158   		{
;;;4159   		if(mess_data[1]==0) SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;4160   		else SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;4161   		}
;;;4162   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;4163   	else SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;4164   	#endif
;;;4165   
;;;4166   	#ifdef UKU2071x
;;;4167   		#ifndef APSENERGIA
;;;4168   		if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;4169   			{
;;;4170   			if(mess_data[1]==0) SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;4171   			else SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;4172   			}
;;;4173   		else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;4174   		else SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;4175   		#endif
;;;4176   
;;;4177   		#ifdef APSENERGIA
;;;4178   		if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;4179   			{
;;;4180   			if(mess_data[1]==0) SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;4181   			else SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;4182   			}
;;;4183   		else if((mess_find_unvol(MESS2RELE_HNDL))&& (mess_data[0]==PARAM_RELE_BAT_IS_DISCHARGED))  SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;4184   		else SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;4185   		#endif
;;;4186   
;;;4187   	#endif
;;;4188   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
;;;4189   		{
;;;4190   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
;;;4191   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,7,1);
;;;4192   	     }
;;;4193   	else 
;;;4194   		{
;;;4195   		if(!(avar_ind_stat&0x100007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
;;;4196   	     else SET_REG(LPC_GPIO0->FIOSET,1,7,1);
;;;4197   		} 
;;;4198   
;;;4199   	//–ÂÎÂ ‡‚‡ËÈ ·‡Ú‡ÂÈ
;;;4200   	#ifndef APSENERGIA
;;;4201   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT))
;;;4202   		{
;;;4203   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
;;;4204   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,4,1);
;;;4205        	}
;;;4206   	else 
;;;4207   		{
;;;4208   		if(!(ips_bat_av_stat)) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
002964  f8df8128          LDR      r8,|L1.10896|
002968  4f4a              LDR      r7,|L1.10900|
00296a  8800              LDRH     r0,[r0,#0]            ;4154  ; AUSW_MAIN
00296c  f5a041aa          SUB      r1,r0,#0x5500         ;4154
002970  39fa              SUBS     r1,r1,#0xfa           ;4154
002972  d001              BEQ      |L1.10616|
002974  1e49              SUBS     r1,r1,#1              ;4154
002976  d16a              BNE      |L1.10830|
                  |L1.10616|
002978  20d2              MOVS     r0,#0xd2              ;4168
00297a  f7fffffe          BL       mess_find_unvol
00297e  b110              CBZ      r0,|L1.10630|
002980  6828              LDR      r0,[r5,#0]            ;4168  ; mess_data
002982  2866              CMP      r0,#0x66              ;4168
002984  d043              BEQ      |L1.10766|
                  |L1.10630|
002986  6830              LDR      r0,[r6,#0]            ;4173  ; avar_ind_stat
002988  07c0              LSLS     r0,r0,#31             ;4173
00298a  d04d              BEQ      |L1.10792|
00298c  6fa0              LDR      r0,[r4,#0x78]         ;4174
00298e  f0407000          ORR      r0,r0,#0x2000000      ;4174
002992  67a0              STR      r0,[r4,#0x78]         ;4174
                  |L1.10644|
002994  20d2              MOVS     r0,#0xd2              ;4188
002996  f7fffffe          BL       mess_find_unvol
00299a  b110              CBZ      r0,|L1.10658|
00299c  6828              LDR      r0,[r5,#0]            ;4188  ; mess_data
00299e  286a              CMP      r0,#0x6a              ;4188
0029a0  d047              BEQ      |L1.10802|
                  |L1.10658|
0029a2  6830              LDR      r0,[r6,#0]            ;4195  ; avar_ind_stat
0029a4  4238              TST      r0,r7                 ;4195
0029a6  d079              BEQ      |L1.10908|
0029a8  69a0              LDR      r0,[r4,#0x18]         ;4196
0029aa  f0400080          ORR      r0,r0,#0x80           ;4196
0029ae  61a0              STR      r0,[r4,#0x18]         ;4196
                  |L1.10672|
0029b0  20d2              MOVS     r0,#0xd2              ;4201
0029b2  f7fffffe          BL       mess_find_unvol
0029b6  b110              CBZ      r0,|L1.10686|
0029b8  6828              LDR      r0,[r5,#0]            ;4201  ; mess_data
0029ba  2867              CMP      r0,#0x67              ;4201
0029bc  d073              BEQ      |L1.10918|
                  |L1.10686|
0029be  f8980000          LDRB     r0,[r8,#0]  ; ips_bat_av_stat
0029c2  b380              CBZ      r0,|L1.10790|
;;;4209        	else SET_REG(LPC_GPIO0->FIOSET,1,4,1);
0029c4  69a0              LDR      r0,[r4,#0x18]
0029c6  f0400010          ORR      r0,r0,#0x10
0029ca  61a0              STR      r0,[r4,#0x18]
0029cc  e1f8              B        |L1.11712|
                  |L1.10702|
0029ce  6868              LDR      r0,[r5,#4]            ;3709  ; mess_data
0029d0  2801              CMP      r0,#1                 ;3709
0029d2  d006              BEQ      |L1.10722|
0029d4  2800              CMP      r0,#0                 ;3710
0029d6  d1b5              BNE      |L1.10564|
0029d8  69e0              LDR      r0,[r4,#0x1c]         ;3710
0029da  f0405000          ORR      r0,r0,#0x20000000     ;3710
0029de  61e0              STR      r0,[r4,#0x1c]         ;3710
0029e0  e7b0              B        |L1.10564|
                  |L1.10722|
0029e2  69a0              LDR      r0,[r4,#0x18]         ;3709
0029e4  f0405000          ORR      r0,r0,#0x20000000     ;3709
0029e8  61a0              STR      r0,[r4,#0x18]         ;3709
0029ea  e7ab              B        |L1.10564|
                  |L1.10732|
0029ec  6868              LDR      r0,[r5,#4]            ;3729  ; mess_data
0029ee  b120              CBZ      r0,|L1.10746|
0029f0  6fa0              LDR      r0,[r4,#0x78]         ;3730
0029f2  f0407000          ORR      r0,r0,#0x2000000      ;3730
0029f6  67a0              STR      r0,[r4,#0x78]         ;3730
0029f8  e7b3              B        |L1.10594|
                  |L1.10746|
0029fa  6fe0              LDR      r0,[r4,#0x7c]         ;3729
0029fc  f0407000          ORR      r0,r0,#0x2000000      ;3729
002a00  67e0              STR      r0,[r4,#0x7c]         ;3729
002a02  e7ae              B        |L1.10594|
                  |L1.10756|
002a04  6fe0              LDR      r0,[r4,#0x7c]         ;3732
002a06  f0407000          ORR      r0,r0,#0x2000000      ;3732
002a0a  67e0              STR      r0,[r4,#0x7c]         ;3732
002a0c  e7a9              B        |L1.10594|
                  |L1.10766|
002a0e  6868              LDR      r0,[r5,#4]            ;4170  ; mess_data
002a10  b120              CBZ      r0,|L1.10780|
002a12  6fa0              LDR      r0,[r4,#0x78]         ;4171
002a14  f0407000          ORR      r0,r0,#0x2000000      ;4171
002a18  67a0              STR      r0,[r4,#0x78]         ;4171
002a1a  e7bb              B        |L1.10644|
                  |L1.10780|
002a1c  6fe0              LDR      r0,[r4,#0x7c]         ;4170
002a1e  f0407000          ORR      r0,r0,#0x2000000      ;4170
002a22  67e0              STR      r0,[r4,#0x7c]         ;4170
002a24  e7b6              B        |L1.10644|
                  |L1.10790|
002a26  e04d              B        |L1.10948|
                  |L1.10792|
002a28  6fe0              LDR      r0,[r4,#0x7c]         ;4173
002a2a  f0407000          ORR      r0,r0,#0x2000000      ;4173
002a2e  67e0              STR      r0,[r4,#0x7c]         ;4173
002a30  e7b0              B        |L1.10644|
                  |L1.10802|
002a32  6868              LDR      r0,[r5,#4]            ;4190  ; mess_data
002a34  b130              CBZ      r0,|L1.10820|
002a36  2801              CMP      r0,#1                 ;4191
002a38  d1ba              BNE      |L1.10672|
002a3a  69a0              LDR      r0,[r4,#0x18]         ;4191
002a3c  f0400080          ORR      r0,r0,#0x80           ;4191
002a40  61a0              STR      r0,[r4,#0x18]         ;4191
002a42  e7b5              B        |L1.10672|
                  |L1.10820|
002a44  69e0              LDR      r0,[r4,#0x1c]         ;4190
002a46  f0400080          ORR      r0,r0,#0x80           ;4190
002a4a  61e0              STR      r0,[r4,#0x1c]         ;4190
002a4c  e7b0              B        |L1.10672|
                  |L1.10830|
002a4e  e03e              B        |L1.10958|
                  |L1.10832|
                          DCD      ||.bss||
                  |L1.10836|
                          DCD      ||.bss||+0x400
                  |L1.10840|
                          DCD      0x40034000
                  |L1.10844|
                          DCD      0x2009c000
                  |L1.10848|
                          DCD      ||area_number.23||
                  |L1.10852|
                          DCD      bps
                  |L1.10856|
                          DCD      NUMIST
                  |L1.10860|
                          DCD      0x4002c000
                  |L1.10864|
                          DCD      0xfff000ff
                  |L1.10868|
                          DCD      bat
                  |L1.10872|
                          DCD      tbatdisable_stat
                  |L1.10876|
                          DCD      tbatdisable_cmnd
                  |L1.10880|
                          DCD      main_1Hz_cnt
                  |L1.10884|
                          DCD      mess_data
                  |L1.10888|
                          DCD      avar_ind_stat
                  |L1.10892|
                          DCD      AUSW_MAIN
                  |L1.10896|
                          DCD      ips_bat_av_stat
                  |L1.10900|
                          DCD      0x100007f8
002a98  e000              B        |L1.10908|
002a9a  e004              B        |L1.10918|
                  |L1.10908|
002a9c  69e0              LDR      r0,[r4,#0x1c]         ;4195
002a9e  f0400080          ORR      r0,r0,#0x80           ;4195
002aa2  61e0              STR      r0,[r4,#0x1c]         ;4195
002aa4  e784              B        |L1.10672|
                  |L1.10918|
002aa6  6868              LDR      r0,[r5,#4]            ;4203  ; mess_data
002aa8  b110              CBZ      r0,|L1.10928|
002aaa  2801              CMP      r0,#1                 ;4204
002aac  d005              BEQ      |L1.10938|
002aae  e187              B        |L1.11712|
                  |L1.10928|
002ab0  69e0              LDR      r0,[r4,#0x1c]         ;4203
002ab2  f0400010          ORR      r0,r0,#0x10           ;4203
002ab6  61e0              STR      r0,[r4,#0x1c]         ;4203
002ab8  e182              B        |L1.11712|
                  |L1.10938|
002aba  69a0              LDR      r0,[r4,#0x18]         ;4204
002abc  f0400010          ORR      r0,r0,#0x10           ;4204
002ac0  61a0              STR      r0,[r4,#0x18]         ;4204
002ac2  e17d              B        |L1.11712|
                  |L1.10948|
002ac4  69e0              LDR      r0,[r4,#0x1c]         ;4208
002ac6  f0400010          ORR      r0,r0,#0x10           ;4208
002aca  61e0              STR      r0,[r4,#0x1c]         ;4208
002acc  e178              B        |L1.11712|
                  |L1.10958|
;;;4210   		}
;;;4211   	#endif
;;;4212   	#ifdef APSENERGIA
;;;4213   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT))
;;;4214   		{
;;;4215   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
;;;4216   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,4,1);
;;;4217        	}
;;;4218   	else 
;;;4219   		{
;;;4220   		if(!apsEnergiaStat)SET_REG(LPC_GPIO0->FIOSET,1,4,1);
;;;4221   		else SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
;;;4222   		}
;;;4223   	#endif
;;;4224   	}
;;;4225   
;;;4226   else	if(AUSW_MAIN==22023)
002ace  f5a041ac          SUB      r1,r0,#0x5600
002ad2  3907              SUBS     r1,#7
002ad4  d162              BNE      |L1.11164|
;;;4227   	{
;;;4228   
;;;4229   	//–ÂÎÂ ‡‚‡ËÈ ·‡Ú‡ÂÈ
;;;4230   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT))
002ad6  20d2              MOVS     r0,#0xd2
002ad8  f7fffffe          BL       mess_find_unvol
002adc  b110              CBZ      r0,|L1.10980|
002ade  6828              LDR      r0,[r5,#0]  ; mess_data
002ae0  2867              CMP      r0,#0x67
002ae2  d023              BEQ      |L1.11052|
                  |L1.10980|
;;;4231   		{
;;;4232   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
;;;4233   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,4,1);
;;;4234        	}
;;;4235   	else 
;;;4236   		{
;;;4237   		if(!(ips_bat_av_stat)) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
002ae4  f8980000          LDRB     r0,[r8,#0]  ; ips_bat_av_stat
002ae8  b370              CBZ      r0,|L1.11080|
;;;4238        	else SET_REG(LPC_GPIO0->FIOSET,1,4,1);
002aea  69a0              LDR      r0,[r4,#0x18]
002aec  f0400010          ORR      r0,r0,#0x10
002af0  61a0              STR      r0,[r4,#0x18]
                  |L1.10994|
;;;4239   		} 
;;;4240   
;;;4241   
;;;4242   	//–ÂÎÂ ‡‚‡ËË ÒÂÚË “”“  ¿ ¿ﬂ ÚÓ À¿∆¿ Ò ‡‚‡ËÂÈ ÒÂÚË. Œ·‡˘ÂÌËÂ Í ‡ÁÌ˚Ï ÔÓÚ‡Ï
;;;4243   	#ifndef UKU2071x
;;;4244   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;4245   		{
;;;4246   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;4247   		else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;4248   		}
;;;4249   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO1->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;4250   	else SET_REG(LPC_GPIO3->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;4251   	#endif
;;;4252   	#ifdef UKU2071x
;;;4253   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
002af2  20d2              MOVS     r0,#0xd2
002af4  f7fffffe          BL       mess_find_unvol
002af8  b110              CBZ      r0,|L1.11008|
002afa  6828              LDR      r0,[r5,#0]  ; mess_data
002afc  2866              CMP      r0,#0x66
002afe  d028              BEQ      |L1.11090|
                  |L1.11008|
;;;4254   		{
;;;4255   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;4256   		else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;4257   		}
;;;4258   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO1->FIOSET,1,SHIFT_REL_AV_NET,1);
002b00  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
002b02  07c0              LSLS     r0,r0,#31
002b04  d031              BEQ      |L1.11114|
;;;4259   	else SET_REG(LPC_GPIO3->FIOSET,1,SHIFT_REL_AV_NET,1);
002b06  6fa0              LDR      r0,[r4,#0x78]
002b08  f0407000          ORR      r0,r0,#0x2000000
002b0c  67a0              STR      r0,[r4,#0x78]
                  |L1.11022|
;;;4260   	#endif
;;;4261   
;;;4262   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
002b0e  20d2              MOVS     r0,#0xd2
002b10  f7fffffe          BL       mess_find_unvol
002b14  b110              CBZ      r0,|L1.11036|
002b16  6828              LDR      r0,[r5,#0]  ; mess_data
002b18  286a              CMP      r0,#0x6a
002b1a  d02b              BEQ      |L1.11124|
                  |L1.11036|
;;;4263   		{
;;;4264   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
;;;4265   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,7,1);
;;;4266   	     }
;;;4267   	else 
;;;4268   		{
;;;4269   		if(!(avar_ind_stat&0x100007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
002b1c  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
002b1e  4238              TST      r0,r7
002b20  d037              BEQ      |L1.11154|
;;;4270   	     else SET_REG(LPC_GPIO0->FIOSET,1,7,1);
002b22  69a0              LDR      r0,[r4,#0x18]
002b24  f0400080          ORR      r0,r0,#0x80
002b28  61a0              STR      r0,[r4,#0x18]
002b2a  e149              B        |L1.11712|
                  |L1.11052|
002b2c  6868              LDR      r0,[r5,#4]            ;4232  ; mess_data
002b2e  b130              CBZ      r0,|L1.11070|
002b30  2801              CMP      r0,#1                 ;4233
002b32  d1de              BNE      |L1.10994|
002b34  69a0              LDR      r0,[r4,#0x18]         ;4233
002b36  f0400010          ORR      r0,r0,#0x10           ;4233
002b3a  61a0              STR      r0,[r4,#0x18]         ;4233
002b3c  e7d9              B        |L1.10994|
                  |L1.11070|
002b3e  69e0              LDR      r0,[r4,#0x1c]         ;4232
002b40  f0400010          ORR      r0,r0,#0x10           ;4232
002b44  61e0              STR      r0,[r4,#0x1c]         ;4232
002b46  e7d4              B        |L1.10994|
                  |L1.11080|
002b48  69e0              LDR      r0,[r4,#0x1c]         ;4237
002b4a  f0400010          ORR      r0,r0,#0x10           ;4237
002b4e  61e0              STR      r0,[r4,#0x1c]         ;4237
002b50  e7cf              B        |L1.10994|
                  |L1.11090|
002b52  6868              LDR      r0,[r5,#4]            ;4255  ; mess_data
002b54  b120              CBZ      r0,|L1.11104|
002b56  69e0              LDR      r0,[r4,#0x1c]         ;4256
002b58  f0407000          ORR      r0,r0,#0x2000000      ;4256
002b5c  61e0              STR      r0,[r4,#0x1c]         ;4256
002b5e  e7d6              B        |L1.11022|
                  |L1.11104|
002b60  69a0              LDR      r0,[r4,#0x18]         ;4255
002b62  f0407000          ORR      r0,r0,#0x2000000      ;4255
002b66  61a0              STR      r0,[r4,#0x18]         ;4255
002b68  e7d1              B        |L1.11022|
                  |L1.11114|
002b6a  6ba0              LDR      r0,[r4,#0x38]         ;4258
002b6c  f0407000          ORR      r0,r0,#0x2000000      ;4258
002b70  63a0              STR      r0,[r4,#0x38]         ;4258
002b72  e7cc              B        |L1.11022|
                  |L1.11124|
002b74  6868              LDR      r0,[r5,#4]            ;4264  ; mess_data
002b76  b110              CBZ      r0,|L1.11134|
002b78  2801              CMP      r0,#1                 ;4265
002b7a  d005              BEQ      |L1.11144|
002b7c  e120              B        |L1.11712|
                  |L1.11134|
002b7e  69e0              LDR      r0,[r4,#0x1c]         ;4264
002b80  f0400080          ORR      r0,r0,#0x80           ;4264
002b84  61e0              STR      r0,[r4,#0x1c]         ;4264
002b86  e11b              B        |L1.11712|
                  |L1.11144|
002b88  69a0              LDR      r0,[r4,#0x18]         ;4265
002b8a  f0400080          ORR      r0,r0,#0x80           ;4265
002b8e  61a0              STR      r0,[r4,#0x18]         ;4265
002b90  e116              B        |L1.11712|
                  |L1.11154|
002b92  69e0              LDR      r0,[r4,#0x1c]         ;4269
002b94  f0400080          ORR      r0,r0,#0x80           ;4269
002b98  61e0              STR      r0,[r4,#0x1c]         ;4269
002b9a  e111              B        |L1.11712|
                  |L1.11164|
;;;4271   		} 
;;;4272   	}
;;;4273   else	if((AUSW_MAIN==22043)||(AUSW_MAIN==22044))
002b9c  f5a041ac          SUB      r1,r0,#0x5600
002ba0  391b              SUBS     r1,r1,#0x1b
002ba2  d001              BEQ      |L1.11176|
002ba4  1e49              SUBS     r1,r1,#1
002ba6  d170              BNE      |L1.11402|
                  |L1.11176|
;;;4274   	{
;;;4275   	//–ÂÎÂ ‡‚‡ËÈ ·‡Ú‡ÂÈ
;;;4276   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT))
002ba8  20d2              MOVS     r0,#0xd2
002baa  f7fffffe          BL       mess_find_unvol
002bae  b110              CBZ      r0,|L1.11190|
002bb0  6828              LDR      r0,[r5,#0]  ; mess_data
002bb2  2867              CMP      r0,#0x67
002bb4  d031              BEQ      |L1.11290|
                  |L1.11190|
;;;4277   		{
;;;4278   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
;;;4279   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,4,1);
;;;4280        	}
;;;4281   	else 
;;;4282   		{
;;;4283   		if(!(ips_bat_av_stat)) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
002bb6  f8980000          LDRB     r0,[r8,#0]  ; ips_bat_av_stat
002bba  b3b8              CBZ      r0,|L1.11308|
;;;4284        	else SET_REG(LPC_GPIO0->FIOSET,1,4,1);
002bbc  69a0              LDR      r0,[r4,#0x18]
002bbe  f0400010          ORR      r0,r0,#0x10
002bc2  61a0              STR      r0,[r4,#0x18]
                  |L1.11204|
;;;4285   		} 
;;;4286   	//–ÂÎÂ ‡‚‡ËË ÒÂÚË “”“  ¿ ¿ﬂ ÚÓ À¿∆¿ Ò ‡‚‡ËÂÈ ÒÂÚË. Œ·‡˘ÂÌËÂ Í ‡ÁÌ˚Ï ÔÓÚ‡Ï
;;;4287   	#ifndef UKU2071x 
;;;4288   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;4289   		{
;;;4290   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;4291   		else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;4292   		}
;;;4293   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO1->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;4294   	else SET_REG(LPC_GPIO3->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;4295   	#endif
;;;4296   	#ifdef UKU2071x 
;;;4297   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
002bc4  20d2              MOVS     r0,#0xd2
002bc6  f7fffffe          BL       mess_find_unvol
002bca  b110              CBZ      r0,|L1.11218|
002bcc  6828              LDR      r0,[r5,#0]  ; mess_data
002bce  2866              CMP      r0,#0x66
002bd0  d037              BEQ      |L1.11330|
                  |L1.11218|
;;;4298   		{
;;;4299   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;4300   		else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;4301   		}
;;;4302   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO1->FIOSET,1,SHIFT_REL_AV_NET,1);
002bd2  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
002bd4  07c0              LSLS     r0,r0,#31
002bd6  d040              BEQ      |L1.11354|
;;;4303   	else SET_REG(LPC_GPIO3->FIOSET,1,SHIFT_REL_AV_NET,1);
002bd8  6fa0              LDR      r0,[r4,#0x78]
002bda  f0407000          ORR      r0,r0,#0x2000000
002bde  67a0              STR      r0,[r4,#0x78]
                  |L1.11232|
;;;4304   	#endif
;;;4305   
;;;4306   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
002be0  20d2              MOVS     r0,#0xd2
002be2  f7fffffe          BL       mess_find_unvol
002be6  b110              CBZ      r0,|L1.11246|
002be8  6828              LDR      r0,[r5,#0]  ; mess_data
002bea  286a              CMP      r0,#0x6a
002bec  d03a              BEQ      |L1.11364|
                  |L1.11246|
;;;4307   		{
;;;4308   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
;;;4309   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,7,1);
;;;4310   	     }
;;;4311   	else 
;;;4312   		{
;;;4313   		if(!(avar_ind_stat&0x100007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
002bee  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
002bf0  4238              TST      r0,r7
002bf2  d045              BEQ      |L1.11392|
;;;4314   	     else SET_REG(LPC_GPIO0->FIOSET,1,7,1);
002bf4  69a0              LDR      r0,[r4,#0x18]
002bf6  f0400080          ORR      r0,r0,#0x80
002bfa  61a0              STR      r0,[r4,#0x18]
                  |L1.11260|
;;;4315   		}
;;;4316   	//–ÂÎÂ ‡‚‡ËË ¡œ—
;;;4317   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
002bfc  20d2              MOVS     r0,#0xd2
002bfe  f7fffffe          BL       mess_find_unvol
002c02  b110              CBZ      r0,|L1.11274|
002c04  6828              LDR      r0,[r5,#0]  ; mess_data
002c06  286a              CMP      r0,#0x6a
002c08  d040              BEQ      |L1.11404|
                  |L1.11274|
;;;4318   		{
;;;4319   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;4320   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;4321        	}
;;;4322   	else 
;;;4323   		{
;;;4324   		if(!(avar_ind_stat&0x100007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
002c0a  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
002c0c  4238              TST      r0,r7
002c0e  d04c              BEQ      |L1.11434|
;;;4325        	else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
002c10  69a0              LDR      r0,[r4,#0x18]
002c12  f0400020          ORR      r0,r0,#0x20
002c16  61a0              STR      r0,[r4,#0x18]
002c18  e0d2              B        |L1.11712|
                  |L1.11290|
002c1a  6868              LDR      r0,[r5,#4]            ;4278  ; mess_data
002c1c  b138              CBZ      r0,|L1.11310|
002c1e  2801              CMP      r0,#1                 ;4279
002c20  d1d0              BNE      |L1.11204|
002c22  69a0              LDR      r0,[r4,#0x18]         ;4279
002c24  f0400010          ORR      r0,r0,#0x10           ;4279
002c28  61a0              STR      r0,[r4,#0x18]         ;4279
002c2a  e7cb              B        |L1.11204|
                  |L1.11308|
002c2c  e004              B        |L1.11320|
                  |L1.11310|
002c2e  69e0              LDR      r0,[r4,#0x1c]         ;4278
002c30  f0400010          ORR      r0,r0,#0x10           ;4278
002c34  61e0              STR      r0,[r4,#0x1c]         ;4278
002c36  e7c5              B        |L1.11204|
                  |L1.11320|
002c38  69e0              LDR      r0,[r4,#0x1c]         ;4283
002c3a  f0400010          ORR      r0,r0,#0x10           ;4283
002c3e  61e0              STR      r0,[r4,#0x1c]         ;4283
002c40  e7c0              B        |L1.11204|
                  |L1.11330|
002c42  6868              LDR      r0,[r5,#4]            ;4299  ; mess_data
002c44  b120              CBZ      r0,|L1.11344|
002c46  69e0              LDR      r0,[r4,#0x1c]         ;4300
002c48  f0407000          ORR      r0,r0,#0x2000000      ;4300
002c4c  61e0              STR      r0,[r4,#0x1c]         ;4300
002c4e  e7c7              B        |L1.11232|
                  |L1.11344|
002c50  69a0              LDR      r0,[r4,#0x18]         ;4299
002c52  f0407000          ORR      r0,r0,#0x2000000      ;4299
002c56  61a0              STR      r0,[r4,#0x18]         ;4299
002c58  e7c2              B        |L1.11232|
                  |L1.11354|
002c5a  6ba0              LDR      r0,[r4,#0x38]         ;4302
002c5c  f0407000          ORR      r0,r0,#0x2000000      ;4302
002c60  63a0              STR      r0,[r4,#0x38]         ;4302
002c62  e7bd              B        |L1.11232|
                  |L1.11364|
002c64  6868              LDR      r0,[r5,#4]            ;4308  ; mess_data
002c66  b130              CBZ      r0,|L1.11382|
002c68  2801              CMP      r0,#1                 ;4309
002c6a  d1c7              BNE      |L1.11260|
002c6c  69a0              LDR      r0,[r4,#0x18]         ;4309
002c6e  f0400080          ORR      r0,r0,#0x80           ;4309
002c72  61a0              STR      r0,[r4,#0x18]         ;4309
002c74  e7c2              B        |L1.11260|
                  |L1.11382|
002c76  69e0              LDR      r0,[r4,#0x1c]         ;4308
002c78  f0400080          ORR      r0,r0,#0x80           ;4308
002c7c  61e0              STR      r0,[r4,#0x1c]         ;4308
002c7e  e7bd              B        |L1.11260|
                  |L1.11392|
002c80  69e0              LDR      r0,[r4,#0x1c]         ;4313
002c82  f0400080          ORR      r0,r0,#0x80           ;4313
002c86  61e0              STR      r0,[r4,#0x1c]         ;4313
002c88  e7b8              B        |L1.11260|
                  |L1.11402|
002c8a  e013              B        |L1.11444|
                  |L1.11404|
002c8c  6868              LDR      r0,[r5,#4]            ;4319  ; mess_data
002c8e  b110              CBZ      r0,|L1.11414|
002c90  2801              CMP      r0,#1                 ;4320
002c92  d005              BEQ      |L1.11424|
002c94  e094              B        |L1.11712|
                  |L1.11414|
002c96  69e0              LDR      r0,[r4,#0x1c]         ;4319
002c98  f0400020          ORR      r0,r0,#0x20           ;4319
002c9c  61e0              STR      r0,[r4,#0x1c]         ;4319
002c9e  e08f              B        |L1.11712|
                  |L1.11424|
002ca0  69a0              LDR      r0,[r4,#0x18]         ;4320
002ca2  f0400020          ORR      r0,r0,#0x20           ;4320
002ca6  61a0              STR      r0,[r4,#0x18]         ;4320
002ca8  e08a              B        |L1.11712|
                  |L1.11434|
002caa  69e0              LDR      r0,[r4,#0x1c]         ;4324
002cac  f0400020          ORR      r0,r0,#0x20           ;4324
002cb0  61e0              STR      r0,[r4,#0x1c]         ;4324
002cb2  e085              B        |L1.11712|
                  |L1.11444|
;;;4326   		} 
;;;4327   	}
;;;4328   else	if((AUSW_MAIN==22033)||(AUSW_MAIN==22018))
002cb4  f5a041ac          SUB      r1,r0,#0x5600
002cb8  3911              SUBS     r1,r1,#0x11
002cba  d001              BEQ      |L1.11456|
002cbc  310f              ADDS     r1,r1,#0xf
002cbe  d163              BNE      |L1.11656|
                  |L1.11456|
;;;4329   	{
;;;4330   	#ifndef UKU2071x 
;;;4331   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;4332   		{
;;;4333   		if(mess_data[1]==0) SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;4334   		else SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;4335   		}
;;;4336   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;4337   	else SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;4338   	#endif
;;;4339   	#ifdef UKU2071x 
;;;4340   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
002cc0  20d2              MOVS     r0,#0xd2
002cc2  f7fffffe          BL       mess_find_unvol
002cc6  b110              CBZ      r0,|L1.11470|
002cc8  6828              LDR      r0,[r5,#0]  ; mess_data
002cca  2866              CMP      r0,#0x66
002ccc  d023              BEQ      |L1.11542|
                  |L1.11470|
;;;4341   		{
;;;4342   		if(mess_data[1]==0) SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;4343   		else SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;4344   		}
;;;4345   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
002cce  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
002cd0  07c0              LSLS     r0,r0,#31
002cd2  d02c              BEQ      |L1.11566|
;;;4346   	else SET_REG(LPC_GPIO3->FIOSET,1,25,1);
002cd4  6fa0              LDR      r0,[r4,#0x78]
002cd6  f0407000          ORR      r0,r0,#0x2000000
002cda  67a0              STR      r0,[r4,#0x78]
                  |L1.11484|
;;;4347   	#endif
;;;4348   	
;;;4349   	
;;;4350   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
002cdc  20d2              MOVS     r0,#0xd2
002cde  f7fffffe          BL       mess_find_unvol
002ce2  b110              CBZ      r0,|L1.11498|
002ce4  6828              LDR      r0,[r5,#0]  ; mess_data
002ce6  286a              CMP      r0,#0x6a
002ce8  d026              BEQ      |L1.11576|
                  |L1.11498|
;;;4351   		{
;;;4352   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
;;;4353   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,7,1);
;;;4354   	     }
;;;4355   	else 
;;;4356   		{
;;;4357   		if(!(avar_ind_stat&0x100007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
002cea  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
002cec  4238              TST      r0,r7
002cee  d031              BEQ      |L1.11604|
;;;4358   	     else SET_REG(LPC_GPIO0->FIOSET,1,7,1);
002cf0  69a0              LDR      r0,[r4,#0x18]
002cf2  f0400080          ORR      r0,r0,#0x80
002cf6  61a0              STR      r0,[r4,#0x18]
                  |L1.11512|
;;;4359   		} 
;;;4360   
;;;4361   	//–ÂÎÂ ‡‚‡ËÈ ·‡Ú‡ÂÈ
;;;4362   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT))
002cf8  20d2              MOVS     r0,#0xd2
002cfa  f7fffffe          BL       mess_find_unvol
002cfe  b110              CBZ      r0,|L1.11526|
002d00  6828              LDR      r0,[r5,#0]  ; mess_data
002d02  2867              CMP      r0,#0x67
002d04  d02b              BEQ      |L1.11614|
                  |L1.11526|
;;;4363   		{
;;;4364   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
;;;4365   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,4,1);
;;;4366        	}
;;;4367   	else 
;;;4368   		{
;;;4369   		if(!(ips_bat_av_stat)) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
002d06  f8980000          LDRB     r0,[r8,#0]  ; ips_bat_av_stat
002d0a  b390              CBZ      r0,|L1.11634|
;;;4370        	else SET_REG(LPC_GPIO0->FIOSET,1,4,1);
002d0c  69a0              LDR      r0,[r4,#0x18]
002d0e  f0400010          ORR      r0,r0,#0x10
002d12  61a0              STR      r0,[r4,#0x18]
002d14  e054              B        |L1.11712|
                  |L1.11542|
002d16  6868              LDR      r0,[r5,#4]            ;4342  ; mess_data
002d18  b120              CBZ      r0,|L1.11556|
002d1a  6fa0              LDR      r0,[r4,#0x78]         ;4343
002d1c  f0407000          ORR      r0,r0,#0x2000000      ;4343
002d20  67a0              STR      r0,[r4,#0x78]         ;4343
002d22  e7db              B        |L1.11484|
                  |L1.11556|
002d24  6fe0              LDR      r0,[r4,#0x7c]         ;4342
002d26  f0407000          ORR      r0,r0,#0x2000000      ;4342
002d2a  67e0              STR      r0,[r4,#0x7c]         ;4342
002d2c  e7d6              B        |L1.11484|
                  |L1.11566|
002d2e  6fe0              LDR      r0,[r4,#0x7c]         ;4345
002d30  f0407000          ORR      r0,r0,#0x2000000      ;4345
002d34  67e0              STR      r0,[r4,#0x7c]         ;4345
002d36  e7d1              B        |L1.11484|
                  |L1.11576|
002d38  6868              LDR      r0,[r5,#4]            ;4352  ; mess_data
002d3a  b130              CBZ      r0,|L1.11594|
002d3c  2801              CMP      r0,#1                 ;4353
002d3e  d1db              BNE      |L1.11512|
002d40  69a0              LDR      r0,[r4,#0x18]         ;4353
002d42  f0400080          ORR      r0,r0,#0x80           ;4353
002d46  61a0              STR      r0,[r4,#0x18]         ;4353
002d48  e7d6              B        |L1.11512|
                  |L1.11594|
002d4a  69e0              LDR      r0,[r4,#0x1c]         ;4352
002d4c  f0400080          ORR      r0,r0,#0x80           ;4352
002d50  61e0              STR      r0,[r4,#0x1c]         ;4352
002d52  e7d1              B        |L1.11512|
                  |L1.11604|
002d54  69e0              LDR      r0,[r4,#0x1c]         ;4357
002d56  f0400080          ORR      r0,r0,#0x80           ;4357
002d5a  61e0              STR      r0,[r4,#0x1c]         ;4357
002d5c  e7cc              B        |L1.11512|
                  |L1.11614|
002d5e  6868              LDR      r0,[r5,#4]            ;4364  ; mess_data
002d60  b110              CBZ      r0,|L1.11624|
002d62  2801              CMP      r0,#1                 ;4365
002d64  d006              BEQ      |L1.11636|
002d66  e02b              B        |L1.11712|
                  |L1.11624|
002d68  69e0              LDR      r0,[r4,#0x1c]         ;4364
002d6a  f0400010          ORR      r0,r0,#0x10           ;4364
002d6e  61e0              STR      r0,[r4,#0x1c]         ;4364
002d70  e026              B        |L1.11712|
                  |L1.11634|
002d72  e004              B        |L1.11646|
                  |L1.11636|
002d74  69a0              LDR      r0,[r4,#0x18]         ;4365
002d76  f0400010          ORR      r0,r0,#0x10           ;4365
002d7a  61a0              STR      r0,[r4,#0x18]         ;4365
002d7c  e020              B        |L1.11712|
                  |L1.11646|
002d7e  69e0              LDR      r0,[r4,#0x1c]         ;4369
002d80  f0400010          ORR      r0,r0,#0x10           ;4369
002d84  61e0              STR      r0,[r4,#0x1c]         ;4369
002d86  e01b              B        |L1.11712|
                  |L1.11656|
;;;4371   		} 
;;;4372   	} 	 
;;;4373   else	
;;;4374   	{
;;;4375   	//–ÂÎÂ ‡‚‡ËË ÒÂÚË “”“  ¿ ¿ﬂ ÚÓ À¿∆¿ Ò ‡‚‡ËÂÈ ÒÂÚË. Œ·‡˘ÂÌËÂ Í ‡ÁÌ˚Ï ÔÓÚ‡Ï
;;;4376   	#ifndef UKU2071x 
;;;4377   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;4378   		{
;;;4379   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;4380   		else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;4381   		}
;;;4382   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO1->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;4383   	else SET_REG(LPC_GPIO3->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;4384   	#endif
;;;4385   	#ifdef UKU2071x 
;;;4386   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
002d88  20d2              MOVS     r0,#0xd2
002d8a  f7fffffe          BL       mess_find_unvol
002d8e  b110              CBZ      r0,|L1.11670|
002d90  6828              LDR      r0,[r5,#0]  ; mess_data
002d92  2866              CMP      r0,#0x66
002d94  d026              BEQ      |L1.11748|
                  |L1.11670|
;;;4387   		{
;;;4388   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;4389   		else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;4390   		}
;;;4391   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO1->FIOSET,1,SHIFT_REL_AV_NET,1);
002d96  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
002d98  07c0              LSLS     r0,r0,#31
002d9a  d02f              BEQ      |L1.11772|
;;;4392   	else SET_REG(LPC_GPIO3->FIOSET,1,SHIFT_REL_AV_NET,1);
002d9c  6fa0              LDR      r0,[r4,#0x78]
002d9e  f0407000          ORR      r0,r0,#0x2000000
002da2  67a0              STR      r0,[r4,#0x78]
                  |L1.11684|
;;;4393   	#endif
;;;4394   
;;;4395   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
002da4  20d2              MOVS     r0,#0xd2
002da6  f7fffffe          BL       mess_find_unvol
002daa  b110              CBZ      r0,|L1.11698|
002dac  6828              LDR      r0,[r5,#0]  ; mess_data
002dae  286a              CMP      r0,#0x6a
002db0  d029              BEQ      |L1.11782|
                  |L1.11698|
;;;4396   		{
;;;4397   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;4398   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;4399        	}
;;;4400   	else 
;;;4401   		{
;;;4402   		if(!(avar_ind_stat&0x100007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
002db2  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
002db4  4238              TST      r0,r7
002db6  d034              BEQ      |L1.11810|
;;;4403        	else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
002db8  69a0              LDR      r0,[r4,#0x18]
002dba  f0400020          ORR      r0,r0,#0x20
002dbe  61a0              STR      r0,[r4,#0x18]
                  |L1.11712|
;;;4404   		}
;;;4405   	}
;;;4406   //ƒÓÔÓÎÌËÚÂÎ¸ÌÓÂ ÂÎÂ ” ” 
;;;4407   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_EXT))	 
002dc0  20d2              MOVS     r0,#0xd2
002dc2  f7fffffe          BL       mess_find_unvol
;;;4408   	{
;;;4409   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,9,1);
;;;4410   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,9,1);
;;;4411   	}
;;;4412   else if(DOP_RELE_FUNC==0)	//ÂÒÎË ‰ÓÔÂÎÂ ÔÓ‰ÍÎ˛˜ÂÌÓ Í ÛÒÍÓÂÌÌÓÏÛ Á‡ˇ‰Û
;;;4413   	{
;;;4414   	if((!speedChIsOn)&&(spc_stat!=spcVZ)&&(hv_vz_stat==hvsOFF)&&(sp_ch_stat==scsOFF)&&(vz1_stat==vz1sOFF)&&(vz2_stat==vz2sOFF)&&(load_U/10<UVENTOFF))   SET_REG(LPC_GPIO0->FIOCLR,1,9,1);
002dc6  f8df83fc          LDR      r8,|L1.12740|
002dca  4eff              LDR      r6,|L1.12744|
002dcc  4fff              LDR      r7,|L1.12748|
002dce  b110              CBZ      r0,|L1.11734|
002dd0  6828              LDR      r0,[r5,#0]            ;4407  ; mess_data
002dd2  2871              CMP      r0,#0x71              ;4407
002dd4  d02a              BEQ      |L1.11820|
                  |L1.11734|
002dd6  48fe              LDR      r0,|L1.12752|
002dd8  f9b00000          LDRSH    r0,[r0,#0]            ;4412  ; DOP_RELE_FUNC
002ddc  b380              CBZ      r0,|L1.11840|
;;;4415   	else if((speedChIsOn)||(spc_stat==spcVZ)||(hv_vz_stat!=hvsOFF)||(sp_ch_stat!=scsOFF)||(vz1_stat!=vz1sOFF)||(vz2_stat!=vz2sOFF)) SET_REG(LPC_GPIO0->FIOSET,1,9,1);
;;;4416   	}
;;;4417   else if(DOP_RELE_FUNC==1)  //ÂÒÎË ‰ÓÔÂÎÂ ÔÓ‰ÍÎ˛˜ÂÌÓ Í ËÌ‰ËÍ‡ˆËË ‡ÁˇÊÂÌÌÓÈ ·‡Ú‡ÂË
002dde  2801              CMP      r0,#1
002de0  d068              BEQ      |L1.11956|
002de2  e072              B        |L1.11978|
                  |L1.11748|
002de4  6868              LDR      r0,[r5,#4]            ;4388  ; mess_data
002de6  b120              CBZ      r0,|L1.11762|
002de8  69e0              LDR      r0,[r4,#0x1c]         ;4389
002dea  f0407000          ORR      r0,r0,#0x2000000      ;4389
002dee  61e0              STR      r0,[r4,#0x1c]         ;4389
002df0  e7d8              B        |L1.11684|
                  |L1.11762|
002df2  69a0              LDR      r0,[r4,#0x18]         ;4388
002df4  f0407000          ORR      r0,r0,#0x2000000      ;4388
002df8  61a0              STR      r0,[r4,#0x18]         ;4388
002dfa  e7d3              B        |L1.11684|
                  |L1.11772|
002dfc  6ba0              LDR      r0,[r4,#0x38]         ;4391
002dfe  f0407000          ORR      r0,r0,#0x2000000      ;4391
002e02  63a0              STR      r0,[r4,#0x38]         ;4391
002e04  e7ce              B        |L1.11684|
                  |L1.11782|
002e06  6868              LDR      r0,[r5,#4]            ;4397  ; mess_data
002e08  b130              CBZ      r0,|L1.11800|
002e0a  2801              CMP      r0,#1                 ;4398
002e0c  d1d8              BNE      |L1.11712|
002e0e  69a0              LDR      r0,[r4,#0x18]         ;4398
002e10  f0400020          ORR      r0,r0,#0x20           ;4398
002e14  61a0              STR      r0,[r4,#0x18]         ;4398
002e16  e7d3              B        |L1.11712|
                  |L1.11800|
002e18  69e0              LDR      r0,[r4,#0x1c]         ;4397
002e1a  f0400020          ORR      r0,r0,#0x20           ;4397
002e1e  61e0              STR      r0,[r4,#0x1c]         ;4397
002e20  e7ce              B        |L1.11712|
                  |L1.11810|
002e22  69e0              LDR      r0,[r4,#0x1c]         ;4402
002e24  f0400020          ORR      r0,r0,#0x20           ;4402
002e28  61e0              STR      r0,[r4,#0x1c]         ;4402
002e2a  e7c9              B        |L1.11712|
                  |L1.11820|
002e2c  6868              LDR      r0,[r5,#4]            ;4409  ; mess_data
002e2e  b110              CBZ      r0,|L1.11830|
002e30  2801              CMP      r0,#1                 ;4410
002e32  d006              BEQ      |L1.11842|
002e34  e049              B        |L1.11978|
                  |L1.11830|
002e36  69e0              LDR      r0,[r4,#0x1c]         ;4409
002e38  f4407000          ORR      r0,r0,#0x200          ;4409
002e3c  61e0              STR      r0,[r4,#0x1c]         ;4409
002e3e  e044              B        |L1.11978|
                  |L1.11840|
002e40  e004              B        |L1.11852|
                  |L1.11842|
002e42  69a0              LDR      r0,[r4,#0x18]         ;4410
002e44  f4407000          ORR      r0,r0,#0x200          ;4410
002e48  61a0              STR      r0,[r4,#0x18]         ;4410
002e4a  e03e              B        |L1.11978|
                  |L1.11852|
002e4c  48e1              LDR      r0,|L1.12756|
002e4e  49e2              LDR      r1,|L1.12760|
002e50  f9b00000          LDRSH    r0,[r0,#0]            ;4414  ; speedChIsOn
002e54  b9d8              CBNZ     r0,|L1.11918|
002e56  7d0a              LDRB     r2,[r1,#0x14]         ;4414  ; spc_stat
002e58  2a02              CMP      r2,#2                 ;4414
002e5a  d018              BEQ      |L1.11918|
002e5c  783a              LDRB     r2,[r7,#0]            ;4414  ; hv_vz_stat
002e5e  b9b2              CBNZ     r2,|L1.11918|
002e60  7832              LDRB     r2,[r6,#0]            ;4414  ; sp_ch_stat
002e62  b9a2              CBNZ     r2,|L1.11918|
002e64  f8912020          LDRB     r2,[r1,#0x20]         ;4414  ; vz1_stat
002e68  b98a              CBNZ     r2,|L1.11918|
002e6a  f8912023          LDRB     r2,[r1,#0x23]         ;4414  ; vz2_stat
002e6e  b972              CBNZ     r2,|L1.11918|
002e70  f9b82000          LDRSH    r2,[r8,#0]            ;4414  ; load_U
002e74  230a              MOVS     r3,#0xa               ;4414
002e76  fb92f2f3          SDIV     r2,r2,r3              ;4414
002e7a  4bd8              LDR      r3,|L1.12764|
002e7c  f9b33000          LDRSH    r3,[r3,#0]            ;4414  ; UVENTOFF
002e80  429a              CMP      r2,r3                 ;4414
002e82  da04              BGE      |L1.11918|
002e84  69e0              LDR      r0,[r4,#0x1c]         ;4414
002e86  f4407000          ORR      r0,r0,#0x200          ;4414
002e8a  61e0              STR      r0,[r4,#0x1c]         ;4414
002e8c  e01d              B        |L1.11978|
                  |L1.11918|
002e8e  b960              CBNZ     r0,|L1.11946|
002e90  7d08              LDRB     r0,[r1,#0x14]         ;4415  ; spc_stat
002e92  2802              CMP      r0,#2                 ;4415
002e94  d009              BEQ      |L1.11946|
002e96  7838              LDRB     r0,[r7,#0]            ;4415  ; hv_vz_stat
002e98  b938              CBNZ     r0,|L1.11946|
002e9a  7830              LDRB     r0,[r6,#0]            ;4415  ; sp_ch_stat
002e9c  b928              CBNZ     r0,|L1.11946|
002e9e  f8910020          LDRB     r0,[r1,#0x20]         ;4415  ; vz1_stat
002ea2  b910              CBNZ     r0,|L1.11946|
002ea4  f8910023          LDRB     r0,[r1,#0x23]         ;4415  ; vz2_stat
002ea8  b178              CBZ      r0,|L1.11978|
                  |L1.11946|
002eaa  69a0              LDR      r0,[r4,#0x18]         ;4415
002eac  f4407000          ORR      r0,r0,#0x200          ;4415
002eb0  61a0              STR      r0,[r4,#0x18]         ;4415
002eb2  e00a              B        |L1.11978|
                  |L1.11956|
;;;4418   	{
;;;4419   	if((mess_find_unvol(MESS2RELE_HNDL))&& (mess_data[0]==PARAM_RELE_BAT_IS_DISCHARGED)) SET_REG(LPC_GPIO0->FIOCLR,1,9,1);
002eb4  20d2              MOVS     r0,#0xd2
002eb6  f7fffffe          BL       mess_find_unvol
002eba  b110              CBZ      r0,|L1.11970|
002ebc  6828              LDR      r0,[r5,#0]  ; mess_data
002ebe  2872              CMP      r0,#0x72
002ec0  d017              BEQ      |L1.12018|
                  |L1.11970|
;;;4420   	else SET_REG(LPC_GPIO0->FIOSET,1,9,1);
002ec2  69a0              LDR      r0,[r4,#0x18]
002ec4  f4407000          ORR      r0,r0,#0x200
002ec8  61a0              STR      r0,[r4,#0x18]
                  |L1.11978|
;;;4421   	}
;;;4422   	
;;;4423   //¡ÎÓÍ ‚˚ÌÓÒÌÓÈ ÂÎÂ
;;;4424   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_BDR1))
002eca  20d2              MOVS     r0,#0xd2
002ecc  f7fffffe          BL       mess_find_unvol
;;;4425   	{
;;;4426   	if(mess_data[1]==0) 		bdr_transmit_stat&=0xfe;
002ed0  f8df930c          LDR      r9,|L1.12768|
;;;4427   	else if(mess_data[1]==1) 	bdr_transmit_stat|=0x01;
;;;4428   	}
;;;4429   else 
;;;4430   	{
;;;4431   	if(bdr_avar_stat&0x01)  	bdr_transmit_stat|=0x01;
002ed4  4cc3              LDR      r4,|L1.12772|
002ed6  b110              CBZ      r0,|L1.11998|
002ed8  6828              LDR      r0,[r5,#0]            ;4424  ; mess_data
002eda  2875              CMP      r0,#0x75              ;4424
002edc  d00e              BEQ      |L1.12028|
                  |L1.11998|
002ede  7820              LDRB     r0,[r4,#0]  ; bdr_avar_stat
002ee0  07c0              LSLS     r0,r0,#31
002ee2  d01e              BEQ      |L1.12066|
002ee4  f8990000          LDRB     r0,[r9,#0]  ; bdr_transmit_stat
002ee8  f0400001          ORR      r0,r0,#1
002eec  f8890000          STRB     r0,[r9,#0]
002ef0  e01d              B        |L1.12078|
                  |L1.12018|
002ef2  69e0              LDR      r0,[r4,#0x1c]         ;4419
002ef4  f4407000          ORR      r0,r0,#0x200          ;4419
002ef8  61e0              STR      r0,[r4,#0x1c]         ;4419
002efa  e7e6              B        |L1.11978|
                  |L1.12028|
002efc  6868              LDR      r0,[r5,#4]            ;4426  ; mess_data
002efe  b110              CBZ      r0,|L1.12038|
002f00  2801              CMP      r0,#1                 ;4427
002f02  d007              BEQ      |L1.12052|
002f04  e013              B        |L1.12078|
                  |L1.12038|
002f06  f8990000          LDRB     r0,[r9,#0]            ;4426  ; bdr_transmit_stat
002f0a  f00000fe          AND      r0,r0,#0xfe           ;4426
002f0e  f8890000          STRB     r0,[r9,#0]            ;4426
002f12  e00c              B        |L1.12078|
                  |L1.12052|
002f14  f8990000          LDRB     r0,[r9,#0]            ;4427  ; bdr_transmit_stat
002f18  f0400001          ORR      r0,r0,#1              ;4427
002f1c  f8890000          STRB     r0,[r9,#0]            ;4427
002f20  e005              B        |L1.12078|
                  |L1.12066|
;;;4432   	else 						bdr_transmit_stat&=0xfe;
002f22  f8990000          LDRB     r0,[r9,#0]  ; bdr_transmit_stat
002f26  f00000fe          AND      r0,r0,#0xfe
002f2a  f8890000          STRB     r0,[r9,#0]
                  |L1.12078|
;;;4433   	}	
;;;4434   
;;;4435   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_BDR2))
002f2e  20d2              MOVS     r0,#0xd2
002f30  f7fffffe          BL       mess_find_unvol
002f34  b110              CBZ      r0,|L1.12092|
002f36  6828              LDR      r0,[r5,#0]  ; mess_data
002f38  2876              CMP      r0,#0x76
002f3a  d009              BEQ      |L1.12112|
                  |L1.12092|
;;;4436   	{
;;;4437   	if(mess_data[1]==0) 		bdr_transmit_stat&=0xfd;
;;;4438   	else if(mess_data[1]==1) 	bdr_transmit_stat|=0x02;
;;;4439   	}
;;;4440   else 
;;;4441   	{
;;;4442   	if(bdr_avar_stat&0x01)  	bdr_transmit_stat|=0x02;
002f3c  7820              LDRB     r0,[r4,#0]  ; bdr_avar_stat
002f3e  07c0              LSLS     r0,r0,#31
002f40  d019              BEQ      |L1.12150|
002f42  f8990000          LDRB     r0,[r9,#0]  ; bdr_transmit_stat
002f46  f0400002          ORR      r0,r0,#2
002f4a  f8890000          STRB     r0,[r9,#0]
002f4e  e018              B        |L1.12162|
                  |L1.12112|
002f50  6868              LDR      r0,[r5,#4]            ;4437  ; mess_data
002f52  b110              CBZ      r0,|L1.12122|
002f54  2801              CMP      r0,#1                 ;4438
002f56  d007              BEQ      |L1.12136|
002f58  e013              B        |L1.12162|
                  |L1.12122|
002f5a  f8990000          LDRB     r0,[r9,#0]            ;4437  ; bdr_transmit_stat
002f5e  f00000fd          AND      r0,r0,#0xfd           ;4437
002f62  f8890000          STRB     r0,[r9,#0]            ;4437
002f66  e00c              B        |L1.12162|
                  |L1.12136|
002f68  f8990000          LDRB     r0,[r9,#0]            ;4438  ; bdr_transmit_stat
002f6c  f0400002          ORR      r0,r0,#2              ;4438
002f70  f8890000          STRB     r0,[r9,#0]            ;4438
002f74  e005              B        |L1.12162|
                  |L1.12150|
;;;4443   	else 						bdr_transmit_stat&=0xfd;
002f76  f8990000          LDRB     r0,[r9,#0]  ; bdr_transmit_stat
002f7a  f00000fd          AND      r0,r0,#0xfd
002f7e  f8890000          STRB     r0,[r9,#0]
                  |L1.12162|
;;;4444   	}	
;;;4445   	
;;;4446   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_BDR3))
002f82  20d2              MOVS     r0,#0xd2
002f84  f7fffffe          BL       mess_find_unvol
002f88  b110              CBZ      r0,|L1.12176|
002f8a  6828              LDR      r0,[r5,#0]  ; mess_data
002f8c  2877              CMP      r0,#0x77
002f8e  d009              BEQ      |L1.12196|
                  |L1.12176|
;;;4447   	{
;;;4448   	if(mess_data[1]==0) 		bdr_transmit_stat&=0xfb;
;;;4449   	else if(mess_data[1]==1) 	bdr_transmit_stat|=0x04;
;;;4450   	}
;;;4451   else 
;;;4452   	{
;;;4453   	if(bdr_avar_stat&0x01)  	bdr_transmit_stat|=0x04;
002f90  7820              LDRB     r0,[r4,#0]  ; bdr_avar_stat
002f92  07c0              LSLS     r0,r0,#31
002f94  d019              BEQ      |L1.12234|
002f96  f8990000          LDRB     r0,[r9,#0]  ; bdr_transmit_stat
002f9a  f0400004          ORR      r0,r0,#4
002f9e  f8890000          STRB     r0,[r9,#0]
002fa2  e018              B        |L1.12246|
                  |L1.12196|
002fa4  6868              LDR      r0,[r5,#4]            ;4448  ; mess_data
002fa6  b110              CBZ      r0,|L1.12206|
002fa8  2801              CMP      r0,#1                 ;4449
002faa  d007              BEQ      |L1.12220|
002fac  e013              B        |L1.12246|
                  |L1.12206|
002fae  f8990000          LDRB     r0,[r9,#0]            ;4448  ; bdr_transmit_stat
002fb2  f00000fb          AND      r0,r0,#0xfb           ;4448
002fb6  f8890000          STRB     r0,[r9,#0]            ;4448
002fba  e00c              B        |L1.12246|
                  |L1.12220|
002fbc  f8990000          LDRB     r0,[r9,#0]            ;4449  ; bdr_transmit_stat
002fc0  f0400004          ORR      r0,r0,#4              ;4449
002fc4  f8890000          STRB     r0,[r9,#0]            ;4449
002fc8  e005              B        |L1.12246|
                  |L1.12234|
;;;4454   	else 						bdr_transmit_stat&=0xfb;
002fca  f8990000          LDRB     r0,[r9,#0]  ; bdr_transmit_stat
002fce  f00000fb          AND      r0,r0,#0xfb
002fd2  f8890000          STRB     r0,[r9,#0]
                  |L1.12246|
;;;4455   	}	
;;;4456   	
;;;4457   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_BDR4))
002fd6  20d2              MOVS     r0,#0xd2
002fd8  f7fffffe          BL       mess_find_unvol
002fdc  b110              CBZ      r0,|L1.12260|
002fde  6828              LDR      r0,[r5,#0]  ; mess_data
002fe0  2878              CMP      r0,#0x78
002fe2  d009              BEQ      |L1.12280|
                  |L1.12260|
;;;4458   	{
;;;4459   	if(mess_data[1]==0) 		bdr_transmit_stat&=0xf7;
;;;4460   	else if(mess_data[1]==1) 	bdr_transmit_stat|=0x08;
;;;4461   	}
;;;4462   else 
;;;4463   	{
;;;4464   	if(bdr_avar_stat&0x01)  	bdr_transmit_stat|=0x08;
002fe4  7820              LDRB     r0,[r4,#0]  ; bdr_avar_stat
002fe6  07c0              LSLS     r0,r0,#31
002fe8  d019              BEQ      |L1.12318|
002fea  f8990000          LDRB     r0,[r9,#0]  ; bdr_transmit_stat
002fee  f0400008          ORR      r0,r0,#8
002ff2  f8890000          STRB     r0,[r9,#0]
002ff6  e018              B        |L1.12330|
                  |L1.12280|
002ff8  6868              LDR      r0,[r5,#4]            ;4459  ; mess_data
002ffa  b110              CBZ      r0,|L1.12290|
002ffc  2801              CMP      r0,#1                 ;4460
002ffe  d007              BEQ      |L1.12304|
003000  e013              B        |L1.12330|
                  |L1.12290|
003002  f8990000          LDRB     r0,[r9,#0]            ;4459  ; bdr_transmit_stat
003006  f00000f7          AND      r0,r0,#0xf7           ;4459
00300a  f8890000          STRB     r0,[r9,#0]            ;4459
00300e  e00c              B        |L1.12330|
                  |L1.12304|
003010  f8990000          LDRB     r0,[r9,#0]            ;4460  ; bdr_transmit_stat
003014  f0400008          ORR      r0,r0,#8              ;4460
003018  f8890000          STRB     r0,[r9,#0]            ;4460
00301c  e005              B        |L1.12330|
                  |L1.12318|
;;;4465   	else 						bdr_transmit_stat&=0xf7;
00301e  f8990000          LDRB     r0,[r9,#0]  ; bdr_transmit_stat
003022  f00000f7          AND      r0,r0,#0xf7
003026  f8890000          STRB     r0,[r9,#0]
                  |L1.12330|
;;;4466   	}	
;;;4467   					 	
;;;4468   #endif
;;;4469   
;;;4470   #ifdef UKU_KONTUR
;;;4471   
;;;4472   //–ÂÎÂ Ó·˘ÂÈ ‡‚‡ËË
;;;4473   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_COMM))
;;;4474   	{
;;;4475   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_COMM,1);
;;;4476   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_COMM,1);
;;;4477   	}
;;;4478   else 
;;;4479   	{
;;;4480        if(  (!(avar_ind_stat&0x00007fff)) &&
;;;4481             ((!SK_REL_EN[0]) || (sk_av_stat[0]!=sasON))  &&
;;;4482             ((!SK_REL_EN[1]) || (sk_av_stat[1]!=sasON))  &&
;;;4483             ((!SK_REL_EN[2]) || (sk_av_stat[2]!=sasON))  /*&&
;;;4484             ((!SK_REL_EN[3]) || (sk_av_stat[3]!=sasON))*/  )SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_COMM,1);
;;;4485        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_COMM,1);
;;;4486   	}
;;;4487   
;;;4488   	
;;;4489   //rel_warm_plazma=0;
;;;4490   //–ÂÎÂ ÓÒ‚Â˘ÂÌËˇ   
;;;4491   /*
;;;4492   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_WARM))
;;;4493   	{
;;;4494   	if(mess_data[1]==0)
;;;4495   		{
;;;4496   		SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_WARM,1);
;;;4497   		rel_warm_plazma=1;
;;;4498   		}
;;;4499   	else if(mess_data[1]==1) 
;;;4500   		{
;;;4501   		SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_WARM,1);
;;;4502   		rel_warm_plazma=2;
;;;4503   		}
;;;4504        }
;;;4505   else 
;;;4506   	{
;;;4507   	if(warm_stat_k==wsOFF) 
;;;4508   		{
;;;4509   		SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_WARM,1);
;;;4510   		rel_warm_plazma=3;
;;;4511   		}
;;;4512        else 
;;;4513   		{
;;;4514   		SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_WARM,1);
;;;4515   		rel_warm_plazma=4;
;;;4516   		}
;;;4517   	}
;;;4518   */
;;;4519   //–ÂÎÂ ÓÒ‚Â˘ÂÌËˇ
;;;4520   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LIGHT))
;;;4521   	{
;;;4522   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;4523   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;4524        }
;;;4525   else 
;;;4526   	{
;;;4527   	if(sk_av_stat[0]!=sasON) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;4528        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;4529   	}
;;;4530   
;;;4531   
;;;4532   
;;;4533   //–ÂÎÂ ‚˚ÍÎ˛˜ÂÌËˇ Ì‡„ÛÁÍË
;;;4534   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LOAD_OFF))
;;;4535   	{
;;;4536   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;4537   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;4538        }
;;;4539   else if(tloaddisable_cmnd==0)
;;;4540   	{
;;;4541   	SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;4542   	}
;;;4543   else if((tloaddisable_cmnd)&&(tloaddisable_cmnd<=11))
;;;4544   	{
;;;4545   	SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;4546   	}
;;;4547   
;;;4548   else 
;;;4549   	{
;;;4550   	if(!(tloaddisable_stat==tldsON)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;4551        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;4552   	} 
;;;4553   
;;;4554   //–ÂÎÂ ÓÒÂ‚Ó„Ó ‚ÂÌÚËÎˇÚÓ‡ ËÎË ÓÚÓÔËÚÂÎˇ
;;;4555   if(RELE_LOG)
;;;4556   	{
;;;4557   	if((mess_find_unvol(MESS2RELE_HNDL))&&(mess_data[0]==PARAM_RELE_VENT_WARM))
;;;4558   		{
;;;4559   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;4560   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;4561   		}
;;;4562   	else 
;;;4563   		{
;;;4564   		if(warm_stat_k==wsOFF) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;4565   	     else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;4566   		} 
;;;4567   
;;;4568   	}
;;;4569   else 
;;;4570   	{
;;;4571   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VENT_WARM))
;;;4572   		{
;;;4573   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;4574   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;4575   		}
;;;4576   	else 
;;;4577   		{
;;;4578   		if(vent_stat_k==vsOFF) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;4579   	     else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;4580   		} 
;;;4581   	}
;;;4582   #endif
;;;4583   
;;;4584   
;;;4585   #ifdef UKU_TELECORE2015
;;;4586   //–ÂÎÂ ‡‚‡ËË ÒÂÚË
;;;4587   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;4588   	{
;;;4589   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;4590   	else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;4591   	}
;;;4592   else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;4593   else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;4594   
;;;4595   
;;;4596   //–ÂÎÂ ÓÒ‚Â˘ÂÌËˇ
;;;4597   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LIGHT))
;;;4598   	{
;;;4599   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;4600   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;4601        }
;;;4602   else 
;;;4603   	{
;;;4604   	if(sk_av_stat[0]!=sasON) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;4605        else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;4606   	}
;;;4607   
;;;4608   //–ÂÎÂ ÓÚÓÔËÚÂÎˇ
;;;4609   if((mess_find_unvol(MESS2RELE_HNDL))&&(mess_data[0]==PARAM_RELE_WARM))
;;;4610   	{
;;;4611   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_WARM,1);
;;;4612   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_WARM,1);
;;;4613   	}
;;;4614   else 
;;;4615   	{
;;;4616   	if(warm_stat_k==wsOFF) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_WARM,1);
;;;4617        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_WARM,1);
;;;4618   	} 
;;;4619   //–ÂÎÂ ‚ÂÌÚËÎˇÚÓ‡
;;;4620   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VENT))
;;;4621   	{
;;;4622   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;4623   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;4624   	}
;;;4625   else 
;;;4626   	{
;;;4627   	if(vent_stat_k==vsOFF) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;4628        else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;4629   	} 
;;;4630   
;;;4631   //–ÂÎÂ ‚ÌÛÚÂÌÌÂ„Ó ‚ÂÌÚËÎˇÚÓ‡
;;;4632   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VVENT))
;;;4633   	{
;;;4634   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VVENT,1);
;;;4635   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VVENT,1);
;;;4636   	}
;;;4637   else 
;;;4638   	{
;;;4639   	if(vvent_stat_k==vsOFF) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VVENT,1);
;;;4640        else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VVENT,1);
;;;4641   	} 
;;;4642   
;;;4643   #endif
;;;4644   
;;;4645   #ifdef UKU_TELECORE2017
;;;4646   //–ÂÎÂ ‡‚‡ËË ÒÂÚË
;;;4647   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;4648   	{
;;;4649   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;4650   	else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;4651   	}
;;;4652   else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;4653   else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;4654   
;;;4655   
;;;4656   //–ÂÎÂ ÓÒ‚Â˘ÂÌËˇ
;;;4657   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LIGHT))
;;;4658   	{
;;;4659   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;4660   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;4661        }
;;;4662   else 
;;;4663   	{
;;;4664   	if(sk_av_stat[0]!=sasON) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;4665        else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;4666   	}
;;;4667   
;;;4668   //–ÂÎÂ ÓÚÓÔËÚÂÎˇ
;;;4669   if((mess_find_unvol(MESS2RELE_HNDL))&&(mess_data[0]==PARAM_RELE_WARM))
;;;4670   	{
;;;4671   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_WARM,1);
;;;4672   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_WARM,1);
;;;4673   	}
;;;4674   else 
;;;4675   	{
;;;4676   	if(warm_stat_k==wsOFF) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_WARM,1);
;;;4677        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_WARM,1);
;;;4678   	} 
;;;4679   //–ÂÎÂ ‚ÂÌÚËÎˇÚÓ‡
;;;4680   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VENT))
;;;4681   	{
;;;4682   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;4683   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;4684   	}
;;;4685   else 
;;;4686   	{
;;;4687   	if(vent_stat_k==vsOFF) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;4688        else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;4689   	} 
;;;4690   
;;;4691   //–ÂÎÂ ‚ÌÛÚÂÌÌÂ„Ó ‚ÂÌÚËÎˇÚÓ‡
;;;4692   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VVENT))
;;;4693   	{
;;;4694   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VVENT,1);
;;;4695   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VVENT,1);
;;;4696   	}
;;;4697   else 
;;;4698   	{
;;;4699   	if(vvent_stat_k==vsOFF) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VVENT,1);
;;;4700        else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VVENT,1);
;;;4701   	} 
;;;4702   
;;;4703   //–ÂÎÂ ‚˚ÍÎ˛˜ÂÌËˇ Ì‡„ÛÁÍË
;;;4704   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LOAD_OFF))
;;;4705   	{
;;;4706   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;4707   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;4708        }
;;;4709   else if(tloaddisable_cmnd==0)
;;;4710   	{
;;;4711   	SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;4712   	}
;;;4713   else if((tloaddisable_cmnd)&&(tloaddisable_cmnd<=11))
;;;4714   	{
;;;4715   	SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;4716   	}
;;;4717   
;;;4718   else 
;;;4719   	{
;;;4720   	if(!(tloaddisable_stat==tldsON)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;4721        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;4722   	} 
;;;4723   
;;;4724   
;;;4725   #endif
;;;4726   
;;;4727   #ifdef IPS_SGEP_GAZPROM
;;;4728   rele_hndl_plazma[0]++;
;;;4729   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
;;;4730   	{
;;;4731   	rele_hndl_plazma[1]++;
;;;4732   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;4733   	else/* if(mess_data[1]==1)*/ SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;4734        }
;;;4735   else 
;;;4736   	{
;;;4737   	if(!(avar_ind_stat&0x000007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;4738        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;4739   	} 
;;;4740   
;;;4741   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;4742   	{
;;;4743   	rele_hndl_plazma[2]++;
;;;4744   	if(mess_data[1]==0) SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;4745   	else SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;4746   	}
;;;4747   else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;4748   else SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;4749   #endif
;;;4750   
;;;4751   if(NUMBDR==1)
00302a  486f              LDR      r0,|L1.12776|
00302c  8800              LDRH     r0,[r0,#0]  ; NUMBDR
00302e  2801              CMP      r0,#1
003030  d17e              BNE      |L1.12592|
;;;4752   	{
;;;4753   	char ii_;
;;;4754   	char bdr_avar_stat_temp=0;
003032  f04f0000          MOV      r0,#0
;;;4755   	for	(ii_=0;ii_<4;ii_++)
003036  4601              MOV      r1,r0
;;;4756   		{
;;;4757   		//¿¡ ‡ÁˇÊÂÌ‡
;;;4758   		if((RELE_SET_MASK[ii_]&0x01)&&
;;;4759   			(load_U<(USIGN*10)))			bdr_avar_stat_temp|=(1<<ii_);
;;;4760   		//”ÒÍÓÂÌÌ˚È Á‡ˇ‰
;;;4761   		if((RELE_SET_MASK[ii_]&0x02)&&
;;;4762   			(sp_ch_stat==scsWRK))			bdr_avar_stat_temp|=(1<<ii_);
;;;4763   		//¬˚‡‚ÌË‚‡˛˘ËÈ Á‡ˇ‰
;;;4764   		if((RELE_SET_MASK[ii_]&0x04)&&
;;;4765   			(hv_vz_stat==scsWRK))			bdr_avar_stat_temp|=(1<<ii_);
;;;4766   		//Œ·˘‡ˇ ‡‚‡Ëˇ «¬”
;;;4767   		if((RELE_SET_MASK[ii_]&0x08)&&
;;;4768   			(avar_stat))					bdr_avar_stat_temp|=(1<<ii_);
;;;4769   		//U‚˚ı Á‡‚˚¯ÂÌÓ
;;;4770   		if((RELE_SET_MASK[ii_]&0x10)&&
;;;4771   			(uout_av==1))					bdr_avar_stat_temp|=(1<<ii_);
003038  f8dfa1b0          LDR      r10,|L1.12780|
;;;4772   		//U‚˚ı Á‡ÌËÊÂÌÓ
;;;4773   		if((RELE_SET_MASK[ii_]&0x20)&&
;;;4774   			(uout_av==2))					bdr_avar_stat_temp|=(1<<ii_);
;;;4775   		if((RELE_SET_MASK[ii_]&0x40)&&
;;;4776   			(
;;;4777   			((bps[0]._av&(1<<4))&&(NUMIST>=1))||
00303c  f8df91b0          LDR      r9,|L1.12784|
003040  4d6c              LDR      r5,|L1.12788|
003042  f8dfb1b4          LDR      r11,|L1.12792|
003046  f04f0301          MOV      r3,#1                 ;3709
                  |L1.12362|
00304a  f93b2011          LDRSH    r2,[r11,r1,LSL #1]    ;4758
00304e  ea5f7cc2          LSLS     r12,r2,#31            ;4758
003052  d010              BEQ      |L1.12406|
003054  f8dfc1a4          LDR      r12,|L1.12796|
003058  f9b8e000          LDRSH    lr,[r8,#0]            ;4759  ; load_U
00305c  f9bcc000          LDRSH    r12,[r12,#0]          ;4759  ; USIGN
003060  eb0c0c8c          ADD      r12,r12,r12,LSL #2    ;4759
003064  ebbe0f4c          CMP      lr,r12,LSL #1         ;4759
003068  da05              BGE      |L1.12406|
00306a  fa03fc01          LSL      r12,r3,r1             ;4759
00306e  ea4c0c00          ORR      r12,r12,r0            ;4759
003072  f00c00ff          AND      r0,r12,#0xff          ;4759
                  |L1.12406|
003076  ea5f7c82          LSLS     r12,r2,#30            ;4761
00307a  d50a              BPL      |L1.12434|
00307c  f896c000          LDRB     r12,[r6,#0]           ;4762  ; sp_ch_stat
003080  f1bc0f02          CMP      r12,#2                ;4762
003084  d105              BNE      |L1.12434|
003086  fa03fc01          LSL      r12,r3,r1             ;4762
00308a  ea4c0c00          ORR      r12,r12,r0            ;4762
00308e  f00c00ff          AND      r0,r12,#0xff          ;4762
                  |L1.12434|
003092  ea5f7c42          LSLS     r12,r2,#29            ;4764
003096  d50a              BPL      |L1.12462|
003098  f897c000          LDRB     r12,[r7,#0]           ;4765  ; hv_vz_stat
00309c  f1bc0f02          CMP      r12,#2                ;4765
0030a0  d105              BNE      |L1.12462|
0030a2  fa03fc01          LSL      r12,r3,r1             ;4765
0030a6  ea4c0c00          ORR      r12,r12,r0            ;4765
0030aa  f00c00ff          AND      r0,r12,#0xff          ;4765
                  |L1.12462|
0030ae  ea5f7c02          LSLS     r12,r2,#28            ;4767
0030b2  d50c              BPL      |L1.12494|
0030b4  f8dfc148          LDR      r12,|L1.12800|
0030b8  f8dcc000          LDR      r12,[r12,#0]          ;4768  ; avar_stat
0030bc  f1bc0f00          CMP      r12,#0                ;4768
0030c0  d005              BEQ      |L1.12494|
0030c2  fa03fc01          LSL      r12,r3,r1             ;4768
0030c6  ea4c0c00          ORR      r12,r12,r0            ;4768
0030ca  f00c00ff          AND      r0,r12,#0xff          ;4768
                  |L1.12494|
0030ce  ea5f6cc2          LSLS     r12,r2,#27            ;4770
0030d2  d50a              BPL      |L1.12522|
0030d4  f89ac000          LDRB     r12,[r10,#0]          ;4771  ; uout_av
0030d8  f1bc0f01          CMP      r12,#1                ;4771
0030dc  d105              BNE      |L1.12522|
0030de  fa03fc01          LSL      r12,r3,r1             ;4771
0030e2  ea4c0c00          ORR      r12,r12,r0            ;4771
0030e6  f00c00ff          AND      r0,r12,#0xff          ;4771
                  |L1.12522|
0030ea  ea5f6c82          LSLS     r12,r2,#26            ;4773
0030ee  d50a              BPL      |L1.12550|
0030f0  f89ac000          LDRB     r12,[r10,#0]          ;4774  ; uout_av
0030f4  f1bc0f02          CMP      r12,#2                ;4774
0030f8  d105              BNE      |L1.12550|
0030fa  fa03fc01          LSL      r12,r3,r1             ;4774
0030fe  ea4c0c00          ORR      r12,r12,r0            ;4774
003102  f00c00ff          AND      r0,r12,#0xff          ;4774
                  |L1.12550|
003106  ea5f6c42          LSLS     r12,r2,#25            ;4775
00310a  d525              BPL      |L1.12632|
00310c  f899c001          LDRB     r12,[r9,#1]  ; bps
003110  ea5f6ccc          LSLS     r12,r12,#27
003114  d504              BPL      |L1.12576|
003116  f9b5c000          LDRSH    r12,[r5,#0]  ; NUMIST
00311a  f1bc0f01          CMP      r12,#1
00311e  da15              BGE      |L1.12620|
                  |L1.12576|
;;;4778   			((bps[1]._av&(1<<4))&&(NUMIST>=2))||
003120  f899c05d          LDRB     r12,[r9,#0x5d]  ; bps
003124  ea5f6ccc          LSLS     r12,r12,#27
003128  d506              BPL      |L1.12600|
00312a  f9b5c000          LDRSH    r12,[r5,#0]  ; NUMIST
00312e  e000              B        |L1.12594|
                  |L1.12592|
003130  e047              B        |L1.12738|
                  |L1.12594|
003132  f1bc0f02          CMP      r12,#2
003136  da09              BGE      |L1.12620|
                  |L1.12600|
;;;4779   			((bps[2]._av&(1<<4))&&(NUMIST>=3))
003138  f899c0b9          LDRB     r12,[r9,#0xb9]  ; bps
00313c  ea5f6ccc          LSLS     r12,r12,#27
003140  d50a              BPL      |L1.12632|
003142  f9b5c000          LDRSH    r12,[r5,#0]  ; NUMIST
003146  f1bc0f03          CMP      r12,#3
00314a  db05              BLT      |L1.12632|
                  |L1.12620|
;;;4780   			))bdr_avar_stat_temp|=(1<<ii_);
00314c  fa03fc01          LSL      r12,r3,r1
003150  ea4c0c00          ORR      r12,r12,r0
003154  f00c00ff          AND      r0,r12,#0xff
                  |L1.12632|
;;;4781   		if((RELE_SET_MASK[ii_]&0x80)&&
003158  ea5f6c02          LSLS     r12,r2,#24
00315c  d523              BPL      |L1.12710|
;;;4782   			(
;;;4783   			((bps[0]._av&(0x0f))&&(NUMIST>=1))||
00315e  f899c001          LDRB     r12,[r9,#1]  ; bps
003162  ea5f7c0c          LSLS     r12,r12,#28
003166  d004              BEQ      |L1.12658|
003168  f9b5c000          LDRSH    r12,[r5,#0]  ; NUMIST
00316c  f1bc0f01          CMP      r12,#1
003170  da13              BGE      |L1.12698|
                  |L1.12658|
;;;4784   			((bps[1]._av&(0x0f))&&(NUMIST>=2))||
003172  f899c05d          LDRB     r12,[r9,#0x5d]  ; bps
003176  ea5f7c0c          LSLS     r12,r12,#28
00317a  d004              BEQ      |L1.12678|
00317c  f9b5c000          LDRSH    r12,[r5,#0]  ; NUMIST
003180  f1bc0f02          CMP      r12,#2
003184  da09              BGE      |L1.12698|
                  |L1.12678|
;;;4785   			((bps[2]._av&(0x0f))&&(NUMIST>=3))
003186  f899c0b9          LDRB     r12,[r9,#0xb9]  ; bps
00318a  ea5f7c0c          LSLS     r12,r12,#28
00318e  d00a              BEQ      |L1.12710|
003190  f9b5c000          LDRSH    r12,[r5,#0]  ; NUMIST
003194  f1bc0f03          CMP      r12,#3
003198  db05              BLT      |L1.12710|
                  |L1.12698|
;;;4786   			))bdr_avar_stat_temp|=(1<<ii_);
00319a  fa03fc01          LSL      r12,r3,r1
00319e  ea4c0c00          ORR      r12,r12,r0
0031a2  f00c00ff          AND      r0,r12,#0xff
                  |L1.12710|
;;;4787   
;;;4788   		if(!(RELE_SET_MASK[ii_]&(1<<15))) bdr_avar_stat_temp^=(1<<ii_); 
0031a6  0412              LSLS     r2,r2,#16
0031a8  d404              BMI      |L1.12724|
0031aa  fa03f201          LSL      r2,r3,r1
0031ae  ea820200          EOR      r2,r2,r0
0031b2  b2d0              UXTB     r0,r2
                  |L1.12724|
0031b4  f1010101          ADD      r1,r1,#1              ;4755
0031b8  b2c9              UXTB     r1,r1                 ;4755
0031ba  2904              CMP      r1,#4                 ;4755
0031bc  f4ffaf45          BCC      |L1.12362|
;;;4789   		}
;;;4790   	bdr_avar_stat=bdr_avar_stat_temp;
0031c0  7020              STRB     r0,[r4,#0]
                  |L1.12738|
;;;4791   	}
;;;4792   }
0031c2  e01f              B        |L1.12804|
                  |L1.12740|
                          DCD      load_U
                  |L1.12744|
                          DCD      sp_ch_stat
                  |L1.12748|
                          DCD      hv_vz_stat
                  |L1.12752|
                          DCD      DOP_RELE_FUNC
                  |L1.12756|
                          DCD      speedChIsOn
                  |L1.12760|
                          DCD      ||area_number.23||
                  |L1.12764|
                          DCD      UVENTOFF
                  |L1.12768|
                          DCD      bdr_transmit_stat
                  |L1.12772|
                          DCD      bdr_avar_stat
                  |L1.12776|
                          DCD      NUMBDR
                  |L1.12780|
                          DCD      uout_av
                  |L1.12784|
                          DCD      bps
                  |L1.12788|
                          DCD      NUMIST
                  |L1.12792|
                          DCD      RELE_SET_MASK
                  |L1.12796|
                          DCD      USIGN
                  |L1.12800|
                          DCD      avar_stat
                  |L1.12804|
003204  e8bd9ff0          POP      {r4-r12,pc}
;;;4793   
                          ENDP

                  bps_hndl PROC
;;;4795   //-----------------------------------------------
;;;4796   void bps_hndl(void)
003208  e92d5ff0          PUSH     {r4-r12,lr}
;;;4797   {
;;;4798   char ptr__,i;
;;;4799   unsigned short tempUS;
;;;4800   
;;;4801   if(sh_cnt0<10)
00320c  4ef8              LDR      r6,|L1.13808|
;;;4802   	{
;;;4803   	sh_cnt0++;
;;;4804   	if(sh_cnt0>=10)
;;;4805   		{
;;;4806   		sh_cnt0=0;
00320e  2700              MOVS     r7,#0
;;;4807   		b1Hz_sh=1;
003210  f04f0a01          MOV      r10,#1
003214  7cb0              LDRB     r0,[r6,#0x12]         ;4801  ; sh_cnt0
003216  280a              CMP      r0,#0xa               ;4801
003218  d208              BCS      |L1.12844|
00321a  f1000001          ADD      r0,r0,#1              ;4803
00321e  b2c0              UXTB     r0,r0                 ;4803
003220  74b0              STRB     r0,[r6,#0x12]         ;4803
003222  280a              CMP      r0,#0xa               ;4804
003224  d302              BCC      |L1.12844|
003226  74b7              STRB     r7,[r6,#0x12]         ;4806
003228  f886a013          STRB     r10,[r6,#0x13]
                  |L1.12844|
;;;4808   		}
;;;4809   	}
;;;4810   
;;;4811   /*if(sh_cnt1<5)
;;;4812   	{
;;;4813   	sh_cnt1++;
;;;4814   	if(sh_cnt1==5)
;;;4815   		{
;;;4816   		sh_cnt1=0;
;;;4817   		b2Hz_sh=1;
;;;4818   		}
;;;4819   	} */
;;;4820   
;;;4821   
;;;4822   /*
;;;4823   if(mess_find(MESS_SRC_ON_OFF))
;;;4824   	{
;;;4825   	if(mess_data[0]==_MESS_SRC_MASK_BLOK_2SEC)
;;;4826   		{
;;;4827   		char i;
;;;4828   		for(i=0;i<NUMIST;i++)
;;;4829   			{
;;;4830   			if(mess_data[1]&(1<<i))src[i]._ist_blok_cnt=20;
;;;4831   			}
;;;4832   		
;;;4833   		}
;;;4834   	else if(mess_data[0]==_MESS_SRC_MASK_UNBLOK)
;;;4835   		{
;;;4836   		char i;
;;;4837   		for(i=0;i<NUMIST;i++)
;;;4838   			{
;;;4839   			if(mess_data[1]&(1<<i))src[i]._ist_blok_cnt=0;
;;;4840   			}
;;;4841   		
;;;4842   		}
;;;4843   	}
;;;4844   	
;;;4845   else if(mess_find(_MESS_SRC_MASK_ON))
;;;4846   	{				
;;;4847   	if(mess_data[0]==_MESS_SRC_MASK_ON)
;;;4848   		{
;;;4849   		char i;
;;;4850   		for(i=0;i<NUMIST;i++)
;;;4851   			{
;;;4852   			if(mess_data[1]&(1<<i))
;;;4853   				{
;;;4854   				src[i]._ist_blok_cnt=0;
;;;4855   				src[i]._flags_tu=2;
;;;4856   				}
;;;4857   			}
;;;4858   		
;;;4859   		}				
;;;4860   	}*/
;;;4861   
;;;4862   
;;;4863   
;;;4864   /*else*/ 
;;;4865   bps_on_mask=0;
00322c  f8a67052          STRH     r7,[r6,#0x52]
;;;4866   bps_off_mask=0;
003230  f8a67054          STRH     r7,[r6,#0x54]
;;;4867   
;;;4868   if(mess_find_unvol(MESS2BPS_HNDL))
003234  20cd              MOVS     r0,#0xcd
003236  f7fffffe          BL       mess_find_unvol
;;;4869   	{
;;;4870   	if(mess_data[0]==PARAM_BPS_ALL_OFF_AFTER_2SEC)
;;;4871   		{
;;;4872   		bps_off_mask=0xffff;
;;;4873   		}
;;;4874   
;;;4875   	if(mess_data[0]==PARAM_BPS_MASK_OFF_AFTER_2SEC)
;;;4876   		{
;;;4877   		bps_off_mask=mess_data[1];
;;;4878   		}
;;;4879   
;;;4880   	if(mess_data[0]==PARAM_BPS_MASK_ON)
;;;4881   		{
;;;4882   		bps_on_mask=mess_data[1];
;;;4883   		}
;;;4884   
;;;4885   	if(mess_data[0]==PARAM_BPS_ALL_ON)
;;;4886   		{
;;;4887   		bps_on_mask=0xffff;
;;;4888   		}
;;;4889   
;;;4890   	if(mess_data[0]==PARAM_BPS_MASK_ON_OFF_AFTER_2SEC)
;;;4891   		{
;;;4892   		bps_on_mask=mess_data[1];
;;;4893   		bps_off_mask=~(mess_data[1]);
;;;4894   		}
;;;4895   
;;;4896   
;;;4897   	for(i=0;i<=NUMIST;i++)
;;;4898   		{
;;;4899   		if(bps_off_mask&(1<<i)) bps[i]._blok_cnt++;
00323a  f8df83b8          LDR      r8,|L1.13812|
00323e  f8dfb3b8          LDR      r11,|L1.13816|
003242  b3a0              CBZ      r0,|L1.12974|
003244  4aed              LDR      r2,|L1.13820|
003246  f64f73ff          MOV      r3,#0xffff            ;4872
00324a  6810              LDR      r0,[r2,#0]            ;4870  ; mess_data
00324c  28ce              CMP      r0,#0xce              ;4870
00324e  d101              BNE      |L1.12884|
003250  f8a63054          STRH     r3,[r6,#0x54]         ;4872
                  |L1.12884|
003254  28cf              CMP      r0,#0xcf              ;4875
003256  d102              BNE      |L1.12894|
003258  6851              LDR      r1,[r2,#4]            ;4877  ; mess_data
00325a  f8a61054          STRH     r1,[r6,#0x54]         ;4877
                  |L1.12894|
00325e  28d1              CMP      r0,#0xd1              ;4880
003260  d102              BNE      |L1.12904|
003262  6851              LDR      r1,[r2,#4]            ;4882  ; mess_data
003264  f8a61052          STRH     r1,[r6,#0x52]         ;4882
                  |L1.12904|
003268  28d2              CMP      r0,#0xd2              ;4885
00326a  d101              BNE      |L1.12912|
00326c  f8a63052          STRH     r3,[r6,#0x52]         ;4887
                  |L1.12912|
003270  28d0              CMP      r0,#0xd0              ;4890
003272  d106              BNE      |L1.12930|
003274  6850              LDR      r0,[r2,#4]            ;4892  ; mess_data
003276  f8a60052          STRH     r0,[r6,#0x52]         ;4892
00327a  ea6f0000          MVN      r0,r0                 ;4893
00327e  f8a60054          STRH     r0,[r6,#0x54]         ;4893
                  |L1.12930|
003282  f04f0400          MOV      r4,#0                 ;4897
003286  e037              B        |L1.13048|
                  |L1.12936|
003288  f8b60054          LDRH     r0,[r6,#0x54]  ; bps_off_mask
00328c  fa0af904          LSL      r9,r10,r4
003290  ea190f00          TST      r9,r0
003294  d00c              BEQ      |L1.12976|
003296  ebc400c4          RSB      r0,r4,r4,LSL #3
00329a  eb001004          ADD      r0,r0,r4,LSL #4
00329e  eb080080          ADD      r0,r8,r0,LSL #2
0032a2  f8301f40          LDRH     r1,[r0,#0x40]!
0032a6  f1010101          ADD      r1,r1,#1
0032aa  8001              STRH     r1,[r0,#0]
0032ac  e008              B        |L1.12992|
                  |L1.12974|
0032ae  e028              B        |L1.13058|
                  |L1.12976|
;;;4900   		else bps[i]._blok_cnt=0;
0032b0  ebc400c4          RSB      r0,r4,r4,LSL #3
0032b4  eb001004          ADD      r0,r0,r4,LSL #4
0032b8  eb080080          ADD      r0,r8,r0,LSL #2
0032bc  f8a07040          STRH     r7,[r0,#0x40]
                  |L1.12992|
;;;4901   		gran(&bps[i]._blok_cnt,0,50);
0032c0  ebc400c4          RSB      r0,r4,r4,LSL #3
0032c4  eb001004          ADD      r0,r0,r4,LSL #4
0032c8  eb080580          ADD      r5,r8,r0,LSL #2
0032cc  f1050040          ADD      r0,r5,#0x40
0032d0  2232              MOVS     r2,#0x32
0032d2  2100              MOVS     r1,#0
0032d4  f7fffffe          BL       gran
;;;4902   		if(bps[i]._blok_cnt>20) bps[i]._flags_tu=1;
0032d8  f9b50040          LDRSH    r0,[r5,#0x40]
0032dc  2814              CMP      r0,#0x14
0032de  dd01              BLE      |L1.13028|
0032e0  f885a02c          STRB     r10,[r5,#0x2c]
                  |L1.13028|
;;;4903   		if(bps_on_mask&(1<<i)) bps[i]._flags_tu=0;
0032e4  f8b60052          LDRH     r0,[r6,#0x52]  ; bps_on_mask
0032e8  ea190f00          TST      r9,r0
0032ec  d001              BEQ      |L1.13042|
0032ee  f885702c          STRB     r7,[r5,#0x2c]
                  |L1.13042|
0032f2  f1040401          ADD      r4,r4,#1              ;4897
0032f6  b2e4              UXTB     r4,r4                 ;4897
                  |L1.13048|
0032f8  f9bb0000          LDRSH    r0,[r11,#0]           ;4897  ; NUMIST
0032fc  4284              CMP      r4,r0                 ;4897
0032fe  ddc3              BLE      |L1.12936|
003300  e08a              B        |L1.13336|
                  |L1.13058|
;;;4904   	     }
;;;4905   
;;;4906   	
;;;4907   /*
;;;4908   
;;;4909   	if(bps_all_off_cnt>20)
;;;4910   		{
;;;4911   		for(i=0;i<=NUMIST;i++)
;;;4912   			{
;;;4913   	     	bps[i]._flags_tu=1;
;;;4914   	     	}
;;;4915   		}
;;;4916   	else if(bps_mask_off_cnt>20)
;;;4917   		{
;;;4918   		for(i=0;i<=NUMIST;i++)
;;;4919   			{
;;;4920   			if(mess_data[1]&(1<<i)) bps[i]._flags_tu=1;
;;;4921   	     	}
;;;4922   		}	
;;;4923   		
;;;4924   	else if(bps_mask_on_off_cnt>20)
;;;4925   		{
;;;4926   		for(i=0;i<=NUMIST;i++)
;;;4927   			{
;;;4928   			if(mess_data[1]&(1<<i)) bps[i]._flags_tu=1;
;;;4929   			else bps[i]._flags_tu=0;
;;;4930   	     	}
;;;4931   		}
;;;4932   		
;;;4933   	if(mess_data[0]==PARAM_BPS_MASK_ON)
;;;4934   		{
;;;4935   		for(i=0;i<=NUMIST;i++)
;;;4936   			{
;;;4937   			if(mess_data[1]&(1<<i)) bps[i]._flags_tu=0;
;;;4938   	     	}
;;;4939   		}
;;;4940   */										
;;;4941   	}
;;;4942   
;;;4943   
;;;4944   else if(b1Hz_sh)
003302  7cf0              LDRB     r0,[r6,#0x13]  ; b1Hz_sh
003304  b3f0              CBZ      r0,|L1.13188|
;;;4945   	{
;;;4946   	ptr__=0;
003306  f04f0400          MOV      r4,#0
;;;4947        for(i=0;i<=NUMIST;i++)
00330a  4621              MOV      r1,r4
00330c  f9bb0000          LDRSH    r0,[r11,#0]           ;4897
003310  e00a              B        |L1.13096|
                  |L1.13074|
;;;4948   		{
;;;4949   	     bps[i]._flags_tu=1;
003312  ebc102c1          RSB      r2,r1,r1,LSL #3
003316  eb021201          ADD      r2,r2,r1,LSL #4
00331a  eb080282          ADD      r2,r8,r2,LSL #2
00331e  f882a02c          STRB     r10,[r2,#0x2c]
003322  f1010101          ADD      r1,r1,#1              ;4947
003326  b2c9              UXTB     r1,r1                 ;4947
                  |L1.13096|
003328  4281              CMP      r1,r0                 ;4947
00332a  ddf2              BLE      |L1.13074|
;;;4950   	     }	
;;;4951     	     
;;;4952     	for(i=0;(i<NUMIST)&&(ptr__<num_necc);i++)
00332c  f04f0100          MOV      r1,#0
003330  e022              B        |L1.13176|
                  |L1.13106|
;;;4953     		{
;;;4954   		char ii,iii;
;;;4955   
;;;4956   		ii=(char)NUMIST;
003332  b2c2              UXTB     r2,r0
;;;4957   		//if(ii<0)ii=0;
;;;4958   		if(ii>32)ii=32;
003334  2a20              CMP      r2,#0x20
003336  d901              BLS      |L1.13116|
003338  f04f0220          MOV      r2,#0x20
                  |L1.13116|
;;;4959   		iii=numOfForvardBps;
00333c  7e73              LDRB     r3,[r6,#0x19]  ; numOfForvardBps
;;;4960   		//if(iii<0)iii=0;
;;;4961   		if(iii>=NUMIST)iii=0;
00333e  4283              CMP      r3,r0
003340  db01              BLT      |L1.13126|
003342  f04f0300          MOV      r3,#0
                  |L1.13126|
;;;4962   		iii+=i;
003346  440b              ADD      r3,r3,r1
003348  b2db              UXTB     r3,r3
;;;4963   		iii=iii%ii;
00334a  fbb3f5f2          UDIV     r5,r3,r2
00334e  fb023215          MLS      r2,r2,r5,r3
;;;4964   		
;;;4965     	     if((bps[iii]._state==bsRDY)||(bps[iii]._state==bsWRK))
003352  ebc203c2          RSB      r3,r2,r2,LSL #3
003356  eb031202          ADD      r2,r3,r2,LSL #4
00335a  eb080282          ADD      r2,r8,r2,LSL #2
00335e  7893              LDRB     r3,[r2,#2]
003360  2b02              CMP      r3,#2
003362  d001              BEQ      |L1.13160|
003364  2b01              CMP      r3,#1
003366  d104              BNE      |L1.13170|
                  |L1.13160|
;;;4966     	         	{
;;;4967     	         	bps[iii]._flags_tu=0;
003368  f882702c          STRB     r7,[r2,#0x2c]
;;;4968     	         	ptr__++;
00336c  f1040401          ADD      r4,r4,#1
003370  b2e4              UXTB     r4,r4
                  |L1.13170|
003372  f1010101          ADD      r1,r1,#1              ;4952
003376  b2c9              UXTB     r1,r1                 ;4952
                  |L1.13176|
003378  4281              CMP      r1,r0                 ;4952
00337a  da06              BGE      |L1.13194|
00337c  4aa0              LDR      r2,|L1.13824|
00337e  f9b22000          LDRSH    r2,[r2,#0]            ;4952  ; num_necc
003382  e000              B        |L1.13190|
                  |L1.13188|
003384  e048              B        |L1.13336|
                  |L1.13190|
003386  4294              CMP      r4,r2                 ;4952
003388  dbd3              BLT      |L1.13106|
                  |L1.13194|
;;;4969     	         	}
;;;4970   			
;;;4971     	     }
;;;4972   	bps[numOfForvardBps_old]._flags_tu=0;
00338a  7eb1              LDRB     r1,[r6,#0x1a]  ; numOfForvardBps_old
00338c  ebc102c1          RSB      r2,r1,r1,LSL #3
003390  eb021101          ADD      r1,r2,r1,LSL #4
003394  eb080181          ADD      r1,r8,r1,LSL #2
003398  f881702c          STRB     r7,[r1,#0x2c]
;;;4973   
;;;4974   	if(main_1Hz_cnt<60)
00339c  4999              LDR      r1,|L1.13828|
00339e  f9b11000          LDRSH    r1,[r1,#0]  ; main_1Hz_cnt
0033a2  293c              CMP      r1,#0x3c
0033a4  da0f              BGE      |L1.13254|
;;;4975   		{
;;;4976        	for(i=0;i<=NUMIST;i++)
0033a6  f04f0100          MOV      r1,#0
0033aa  e00a              B        |L1.13250|
                  |L1.13228|
;;;4977   			{
;;;4978   	     	bps[i]._flags_tu=0;
0033ac  ebc102c1          RSB      r2,r1,r1,LSL #3
0033b0  eb021201          ADD      r2,r2,r1,LSL #4
0033b4  eb080282          ADD      r2,r8,r2,LSL #2
0033b8  f882702c          STRB     r7,[r2,#0x2c]
0033bc  f1010101          ADD      r1,r1,#1              ;4976
0033c0  b2c9              UXTB     r1,r1                 ;4976
                  |L1.13250|
0033c2  4281              CMP      r1,r0                 ;4976
0033c4  ddf2              BLE      |L1.13228|
                  |L1.13254|
;;;4979   	     	}	
;;;4980   		}
;;;4981   	if(ipsBlckStat)
0033c6  4990              LDR      r1,|L1.13832|
0033c8  8809              LDRH     r1,[r1,#0]  ; ipsBlckStat
0033ca  b179              CBZ      r1,|L1.13292|
;;;4982   		{
;;;4983        	for(i=0;i<=NUMIST;i++)
0033cc  f04f0100          MOV      r1,#0
0033d0  e00a              B        |L1.13288|
                  |L1.13266|
;;;4984   			{
;;;4985   	     	bps[i]._flags_tu=1;
0033d2  ebc102c1          RSB      r2,r1,r1,LSL #3
0033d6  eb021201          ADD      r2,r2,r1,LSL #4
0033da  eb080282          ADD      r2,r8,r2,LSL #2
0033de  f882a02c          STRB     r10,[r2,#0x2c]
0033e2  f1010101          ADD      r1,r1,#1              ;4983
0033e6  b2c9              UXTB     r1,r1                 ;4983
                  |L1.13288|
0033e8  4281              CMP      r1,r0                 ;4983
0033ea  ddf2              BLE      |L1.13266|
                  |L1.13292|
;;;4986   	     	}
;;;4987   		}
;;;4988   
;;;4989        for(i=0;i<=NUMIST;i++)
0033ec  f04f0100          MOV      r1,#0
;;;4990   		{
;;;4991   	    if(bps[i]._flags_tu==1) 	bps[i]._x_=-50;
0033f0  f06f0331          MVN      r3,#0x31
0033f4  e00e              B        |L1.13332|
                  |L1.13302|
0033f6  ebc102c1          RSB      r2,r1,r1,LSL #3
0033fa  eb021201          ADD      r2,r2,r1,LSL #4
0033fe  eb080282          ADD      r2,r8,r2,LSL #2
003402  f892402c          LDRB     r4,[r2,#0x2c]
003406  2c01              CMP      r4,#1
003408  d101              BNE      |L1.13326|
00340a  f8a23050          STRH     r3,[r2,#0x50]
                  |L1.13326|
00340e  f1010101          ADD      r1,r1,#1              ;4989
003412  b2c9              UXTB     r1,r1                 ;4989
                  |L1.13332|
003414  4281              CMP      r1,r0                 ;4989
003416  ddee              BLE      |L1.13302|
                  |L1.13336|
;;;4992   	   	}	
;;;4993   		 
;;;4994     	}
;;;4995   
;;;4996   
;;;4997   for(i=0;i<NUMIST;i++)
003418  f04f0000          MOV      r0,#0
;;;4998        {
;;;4999        if(bps[i]._ist_blok_host_cnt!=0)
;;;5000             {
;;;5001             bps[i]._flags_tu=99;
00341c  f04f0463          MOV      r4,#0x63
003420  f9bb1000          LDRSH    r1,[r11,#0]           ;4897
003424  e00f              B        |L1.13382|
                  |L1.13350|
003426  ebc002c0          RSB      r2,r0,r0,LSL #3       ;4999
00342a  eb021200          ADD      r2,r2,r0,LSL #4       ;4999
00342e  eb080282          ADD      r2,r8,r2,LSL #2       ;4999
003432  6bd3              LDR      r3,[r2,#0x3c]         ;4999
003434  b123              CBZ      r3,|L1.13376|
003436  f882402c          STRB     r4,[r2,#0x2c]
;;;5002   	     bps[i]._ist_blok_host_cnt--;
00343a  f1a30301          SUB      r3,r3,#1
00343e  63d3              STR      r3,[r2,#0x3c]
                  |L1.13376|
003440  f1000001          ADD      r0,r0,#1              ;4997
003444  b2c0              UXTB     r0,r0                 ;4997
                  |L1.13382|
003446  4288              CMP      r0,r1                 ;4997
003448  dbed              BLT      |L1.13350|
;;;5003             }
;;;5004        }
;;;5005   
;;;5006   
;;;5007   
;;;5008   
;;;5009   b1Hz_sh=0;
00344a  74f7              STRB     r7,[r6,#0x13]
;;;5010   
;;;5011   
;;;5012   num_of_wrks_bps=0;
00344c  73f7              STRB     r7,[r6,#0xf]
;;;5013   tempUS=0;
00344e  f04f0200          MOV      r2,#0
;;;5014   for(i=0;i<NUMIST;i++)
003452  4610              MOV      r0,r2
003454  e013              B        |L1.13438|
                  |L1.13398|
;;;5015   	{
;;;5016   	if(bps[i]._state==bsWRK)
003456  ebc003c0          RSB      r3,r0,r0,LSL #3
00345a  eb031300          ADD      r3,r3,r0,LSL #4
00345e  eb080383          ADD      r3,r8,r3,LSL #2
003462  789c              LDRB     r4,[r3,#2]
003464  2c01              CMP      r4,#1
003466  d107              BNE      |L1.13432|
;;;5017   		{
;;;5018   		num_of_wrks_bps++;
003468  7bf4              LDRB     r4,[r6,#0xf]  ; num_of_wrks_bps
00346a  f1040401          ADD      r4,r4,#1
00346e  73f4              STRB     r4,[r6,#0xf]
;;;5019   		if(bps[i]._Uii>tempUS)tempUS=bps[i]._Uii;
003470  69db              LDR      r3,[r3,#0x1c]
003472  4293              CMP      r3,r2
003474  dd00              BLE      |L1.13432|
003476  b29a              UXTH     r2,r3
                  |L1.13432|
003478  f1000001          ADD      r0,r0,#1              ;5014
00347c  b2c0              UXTB     r0,r0                 ;5014
                  |L1.13438|
00347e  4288              CMP      r0,r1                 ;5014
003480  dbe9              BLT      |L1.13398|
;;;5020   		}
;;;5021   	}
;;;5022   Ubpsmax=tempUS;
003482  f8a62042          STRH     r2,[r6,#0x42]
;;;5023   
;;;5024   bPARALLEL_ENOUG=0;
003486  7777              STRB     r7,[r6,#0x1d]
;;;5025   bPARALLEL_NOT_ENOUG=1;
003488  f886a01c          STRB     r10,[r6,#0x1c]
;;;5026   
;;;5027   for(i=0;i<NUMIST;i++)
00348c  f04f0000          MOV      r0,#0
;;;5028   	{
;;;5029   	if(bps[i]._Ti>=TSIGN)
003490  4a5e              LDR      r2,|L1.13836|
003492  f9b23000          LDRSH    r3,[r2,#0]
;;;5030   		{
;;;5031   		bPARALLEL_ENOUG=1;
;;;5032   		}
;;;5033   	if(bps[i]._Ti>=(TSIGN-5))
003496  f1a30405          SUB      r4,r3,#5
00349a  e010              B        |L1.13502|
                  |L1.13468|
00349c  ebc002c0          RSB      r2,r0,r0,LSL #3       ;5029
0034a0  eb021200          ADD      r2,r2,r0,LSL #4       ;5029
0034a4  eb080282          ADD      r2,r8,r2,LSL #2       ;5029
0034a8  6a92              LDR      r2,[r2,#0x28]         ;5029
0034aa  429a              CMP      r2,r3                 ;5029
0034ac  db01              BLT      |L1.13490|
0034ae  f886a01d          STRB     r10,[r6,#0x1d]        ;5031
                  |L1.13490|
0034b2  42a2              CMP      r2,r4
0034b4  db00              BLT      |L1.13496|
;;;5034   		{
;;;5035   		bPARALLEL_NOT_ENOUG=0;
0034b6  7737              STRB     r7,[r6,#0x1c]
                  |L1.13496|
0034b8  f1000001          ADD      r0,r0,#1              ;5027
0034bc  b2c0              UXTB     r0,r0                 ;5027
                  |L1.13502|
0034be  4288              CMP      r0,r1                 ;5027
0034c0  dbec              BLT      |L1.13468|
;;;5036   		}
;;;5037   	}
;;;5038   
;;;5039   if(bPARALLEL_ENOUG==1)
0034c2  7f70              LDRB     r0,[r6,#0x1d]  ; bPARALLEL_ENOUG
0034c4  2801              CMP      r0,#1
0034c6  d007              BEQ      |L1.13528|
;;;5040   	{
;;;5041   	bPARALLEL=1;
;;;5042   	}
;;;5043   else if(bPARALLEL && bPARALLEL_NOT_ENOUG)
0034c8  7fb0              LDRB     r0,[r6,#0x1e]  ; bPARALLEL
0034ca  2800              CMP      r0,#0
0034cc  d003              BEQ      |L1.13526|
0034ce  7f30              LDRB     r0,[r6,#0x1c]  ; bPARALLEL_NOT_ENOUG
0034d0  2800              CMP      r0,#0
0034d2  d000              BEQ      |L1.13526|
;;;5044   	{
;;;5045   	bPARALLEL=0;
0034d4  77b7              STRB     r7,[r6,#0x1e]
                  |L1.13526|
;;;5046   	}
;;;5047   }
0034d6  e674              B        |L1.12738|
                  |L1.13528|
0034d8  f886a01e          STRB     r10,[r6,#0x1e]        ;5041
0034dc  e671              B        |L1.12738|
;;;5048   
                          ENDP

                  powerAntiAliasingHndl PROC
;;;5055   //-----------------------------------------------
;;;5056   void powerAntiAliasingHndl(void)
0034de  b570              PUSH     {r4-r6,lr}
;;;5057   {
;;;5058   if((power_summary_tempo/10UL)==(power_summary_tempo_old/10UL))
0034e0  230a              MOVS     r3,#0xa
0034e2  4c4c              LDR      r4,|L1.13844|
0034e4  484a              LDR      r0,|L1.13840|
;;;5059   	{
;;;5060   	if(powerSummaryCnt<15)powerSummaryCnt++;
;;;5061   	if(powerSummaryCnt>=10)
;;;5062   		{
;;;5063   		power_summary=power_summary_tempo;
;;;5064   		}
;;;5065   	}
;;;5066   else powerSummaryCnt=0;
0034e6  2500              MOVS     r5,#0
0034e8  6822              LDR      r2,[r4,#0]            ;5058  ; power_summary_tempo_old
0034ea  6800              LDR      r0,[r0,#0]            ;5058  ; power_summary_tempo
0034ec  fbb2f6f3          UDIV     r6,r2,r3              ;5058
0034f0  fbb0f1f3          UDIV     r1,r0,r3              ;5058
0034f4  4a48              LDR      r2,|L1.13848|
0034f6  42b1              CMP      r1,r6                 ;5058
0034f8  d10b              BNE      |L1.13586|
0034fa  7811              LDRB     r1,[r2,#0]            ;5060  ; powerSummaryCnt
0034fc  290f              CMP      r1,#0xf               ;5060
0034fe  d202              BCS      |L1.13574|
003500  f1010101          ADD      r1,r1,#1              ;5060
003504  7011              STRB     r1,[r2,#0]            ;5060
                  |L1.13574|
003506  7811              LDRB     r1,[r2,#0]            ;5061  ; powerSummaryCnt
003508  290a              CMP      r1,#0xa               ;5061
00350a  d303              BCC      |L1.13588|
00350c  4943              LDR      r1,|L1.13852|
00350e  6008              STR      r0,[r1,#0]            ;5063  ; power_summary
003510  e000              B        |L1.13588|
                  |L1.13586|
003512  7015              STRB     r5,[r2,#0]
                  |L1.13588|
;;;5067   power_summary_tempo_old=power_summary_tempo;
003514  6020              STR      r0,[r4,#0]  ; power_summary_tempo_old
;;;5068   
;;;5069   if((power_current_tempo/10UL)==(power_current_tempo_old/10UL))
003516  4842              LDR      r0,|L1.13856|
003518  4c42              LDR      r4,|L1.13860|
00351a  f9b00000          LDRSH    r0,[r0,#0]  ; power_current_tempo
00351e  f9b42000          LDRSH    r2,[r4,#0]  ; power_current_tempo_old
003522  fbb0f1f3          UDIV     r1,r0,r3
003526  fbb2f3f3          UDIV     r3,r2,r3
;;;5070   	{
;;;5071   	if(powerCurrentCnt<15)powerCurrentCnt++;
00352a  4a3f              LDR      r2,|L1.13864|
00352c  4299              CMP      r1,r3                 ;5069
00352e  d10b              BNE      |L1.13640|
003530  7811              LDRB     r1,[r2,#0]  ; powerCurrentCnt
003532  290f              CMP      r1,#0xf
003534  d202              BCS      |L1.13628|
003536  f1010101          ADD      r1,r1,#1
00353a  7011              STRB     r1,[r2,#0]
                  |L1.13628|
;;;5072   	if(powerCurrentCnt>=10)
00353c  7811              LDRB     r1,[r2,#0]  ; powerCurrentCnt
00353e  290a              CMP      r1,#0xa
003540  d303              BCC      |L1.13642|
;;;5073   		{
;;;5074   		power_current=power_current_tempo;
003542  493a              LDR      r1,|L1.13868|
003544  8008              STRH     r0,[r1,#0]
003546  e000              B        |L1.13642|
                  |L1.13640|
;;;5075   		}
;;;5076   	}
;;;5077   else powerCurrentCnt=0;
003548  7015              STRB     r5,[r2,#0]
                  |L1.13642|
;;;5078   power_current_tempo_old=power_current_tempo;
00354a  8020              STRH     r0,[r4,#0]
;;;5079   }
00354c  bd70              POP      {r4-r6,pc}
;;;5080   
                          ENDP

                  energometr_hndl PROC
;;;5190   //-----------------------------------------------
;;;5191   void energometr_hndl(void)
00354e  4770              BX       lr
;;;5192   {
;;;5193   //2F 3F 21 0D 0A 
;;;5194   //05 33 0A 2F 45 4B 54 35 43 45 31 30 32 4D 76 30 31 0D 0A 
;;;5195   //2F 3F 21 0D 0A 
;;;5196   //05 33 0A 2F 45 4B 54 35 43 45 31 30 32 4D 76 30 31 0D 0A 
;;;5197   //06 30 35 31 0D 0A 
;;;5198   //06 33 0A 01 50 30 02 28 31 31 38 36 35 32 39 32 32 29 03 2A 
;;;5199   
;;;5200   #ifdef CE102M_ENABLED
;;;5201   /*if
;;;5202   uart_out1 (5,0xaf,0x3f,0x21,0x8d,0x0a,0);*/
;;;5203   
;;;5204   if(read_power_cnt_main_cnt)
;;;5205   	{
;;;5206   	read_power_cnt_main_cnt--;
;;;5207   	if(read_power_cnt_main_cnt==0)
;;;5208   		{
;;;5209   		rx_read_power_cnt_phase=0;
;;;5210   		if(bENERGOMETR_UIP==0)bENERGOMETR_UIP=1;
;;;5211   		else if(bENERGOMETR_UIP==1)bENERGOMETR_UIP=2;
;;;5212   		else bENERGOMETR_UIP=0;
;;;5213   		//bENERGOMETR_UIP=2;
;;;5214   		}
;;;5215   	}
;;;5216   
;;;5217   if (rx_read_power_cnt_phase==0)
;;;5218   	{
;;;5219   	char command_with_crc[20];
;;;5220   	
;;;5221      	command_with_crc[0]=0xaf;  // /
;;;5222   	command_with_crc[1]=0x3f;  // ?
;;;5223   	command_with_crc[2]=0x21;  // !
;;;5224   	command_with_crc[3]=0x8d;  // CR
;;;5225   	command_with_crc[4]=0x0a;  // LF
;;;5226   
;;;5227   	uart_out__adr1(command_with_crc,5);
;;;5228   
;;;5229   	rx_wr_index1=0;
;;;5230   	rx_read_power_cnt_phase=1;
;;;5231   
;;;5232   	read_power_cnt_main_cnt=50;
;;;5233   	}
;;;5234   if ((rx_read_power_cnt_phase==2)&&(!ce102m_delayCnt))
;;;5235   	{
;;;5236   	char command_with_crc[20];
;;;5237   	
;;;5238   	command_with_crc[0]=0x06;  //  
;;;5239   	command_with_crc[1]=0x30;  // 0
;;;5240   	command_with_crc[2]=0x35;  // 5
;;;5241   	command_with_crc[3]=0xb1;  // 1
;;;5242   	command_with_crc[4]=0x8d;  // CR
;;;5243   	command_with_crc[5]=0x0a;  // LF
;;;5244   	
;;;5245   	uart_out__adr1(command_with_crc,6);
;;;5246   	
;;;5247   	rx_wr_index1=0;
;;;5248   	rx_read_power_cnt_phase=3;
;;;5249   
;;;5250   	read_power_cnt_main_cnt=50;
;;;5251   	}  
;;;5252   
;;;5253   if ((rx_read_power_cnt_phase==4)&&(!ce102m_delayCnt))
;;;5254   	{
;;;5255   	char command_with_crc[20];
;;;5256   	
;;;5257   	command_with_crc[0]=0x81;  //  
;;;5258   	command_with_crc[1]=0xd2;  // 0
;;;5259   	command_with_crc[2]=0xb1;  // 5
;;;5260   	command_with_crc[3]=0x82;  // 1
;;;5261   	command_with_crc[4]=0x56;  // CR
;;;5262   	command_with_crc[5]=0xcf;  // LF
;;;5263   	command_with_crc[6]=0xcc;  // 1
;;;5264   	command_with_crc[7]=0xd4;  // CR
;;;5265   	command_with_crc[8]=0x41;  // LF
;;;5266   	command_with_crc[9]=0x28;  // 1
;;;5267   	command_with_crc[10]=0xa9;  // CR
;;;5268   	command_with_crc[11]=0x03;  // LF
;;;5269   	command_with_crc[12]=0x5f;  // LF
;;;5270   		
;;;5271   	uart_out__adr1(command_with_crc,13);
;;;5272   	
;;;5273   	rx_wr_index1=0;
;;;5274   	rx_read_power_cnt_phase=5;
;;;5275   
;;;5276   	read_power_cnt_main_cnt=50;
;;;5277   	}  
;;;5278   
;;;5279   if ((rx_read_power_cnt_phase==8)&&(!ce102m_delayCnt))
;;;5280   	{
;;;5281   	char command_with_crc[20];
;;;5282   	
;;;5283   	command_with_crc[0]=0x81;  //  
;;;5284   	command_with_crc[1]=0xd2;  // 0
;;;5285   	command_with_crc[2]=0xb1;  // 5
;;;5286   	command_with_crc[3]=0x82;  // 1
;;;5287   	command_with_crc[4]=0xc3;  // CR
;;;5288   	command_with_crc[5]=0x55;  // LF
;;;5289   	command_with_crc[6]=0xd2;  // 1
;;;5290   	command_with_crc[7]=0xd2;  // CR
;;;5291   	command_with_crc[8]=0xc5;  // LF
;;;5292   	command_with_crc[9]=0x28;  // 1
;;;5293   	command_with_crc[10]=0xa9;  // CR
;;;5294   	command_with_crc[11]=0x03;  // LF
;;;5295   	command_with_crc[12]=0x5a;  // LF
;;;5296   		
;;;5297   	uart_out__adr1(command_with_crc,13);
;;;5298   	
;;;5299   	rx_wr_index1=0;
;;;5300   	rx_read_power_cnt_phase=9;
;;;5301   
;;;5302   	read_power_cnt_main_cnt=50;
;;;5303   	}  
;;;5304   
;;;5305   if ((rx_read_power_cnt_phase==20)&&(!ce102m_delayCnt))
;;;5306   	{
;;;5307   	char command_with_crc[20];
;;;5308   	
;;;5309   	command_with_crc[0]=0x81;  //  		01
;;;5310   	command_with_crc[1]=0xd2;  // R		52
;;;5311   	command_with_crc[2]=0xb1;  // 1		31
;;;5312   	command_with_crc[3]=0x82;  // 		02
;;;5313   	command_with_crc[4]=0x50;  // P		50
;;;5314   	command_with_crc[5]=0xcf;  // O	  	4f
;;;5315   	command_with_crc[6]=0xd7;  // W		57
;;;5316   	command_with_crc[7]=0xc5;  // E		45
;;;5317   	command_with_crc[8]=0x50;  // P		50
;;;5318   	command_with_crc[9]=0x28;  // (		28
;;;5319   	command_with_crc[10]=0xa9;  // )	29
;;;5320   	command_with_crc[11]=0x03;  // 		03
;;;5321   	command_with_crc[12]=0xe4;  // d	64
;;;5322   		
;;;5323   	uart_out__adr1(command_with_crc,13);
;;;5324   	
;;;5325   	rx_wr_index1=0;
;;;5326   	rx_read_power_cnt_phase=21;
;;;5327   
;;;5328   	read_power_cnt_main_cnt=50;
;;;5329   	}  
;;;5330   
;;;5331   
;;;5332   #endif
;;;5333   }
;;;5334   
                          ENDP

                  ips_current_average_hndl PROC
;;;5335   //-----------------------------------------------
;;;5336   void ips_current_average_hndl(void)
003550  e92d4ff0          PUSH     {r4-r11,lr}
;;;5337   {
003554  b089              SUB      sp,sp,#0x24
;;;5338   if((++ica_timer_cnt>=10) && (num_of_wrks_bps)&&((spc_stat==spcOFF)&&(vz1_stat==vz1sOFF)&&(vz2_stat==vz2sOFF)&&(sp_ch_stat==scsOFF)))
003556  4d36              LDR      r5,|L1.13872|
003558  4f36              LDR      r7,|L1.13876|
;;;5339   	{
;;;5340   	ica_timer_cnt=0;
;;;5341   	ica_plazma[0]++;
;;;5342   
;;;5343   	ica_my_current=bps_I;
;;;5344   
;;;5345   	if((ica_my_current>ica_your_current)&&((ica_my_current-ica_your_current)>=5)&&((ICA_EN==1)||((ICA_EN==2)&&(ica_cntrl_hndl_cnt>5))))
00355a  f8dfb0dc          LDR      r11,|L1.13880|
00355e  7828              LDRB     r0,[r5,#0]            ;5338  ; ica_timer_cnt
003560  4e23              LDR      r6,|L1.13808|
003562  1c40              ADDS     r0,r0,#1              ;5338
003564  b2c0              UXTB     r0,r0                 ;5338
003566  2400              MOVS     r4,#0                 ;5338
003568  7028              STRB     r0,[r5,#0]            ;5338
00356a  280a              CMP      r0,#0xa               ;5338
00356c  d33f              BCC      |L1.13806|
00356e  7bf0              LDRB     r0,[r6,#0xf]          ;5338  ; num_of_wrks_bps
003570  b3e8              CBZ      r0,|L1.13806|
003572  7d30              LDRB     r0,[r6,#0x14]         ;5338  ; spc_stat
003574  f8961020          LDRB     r1,[r6,#0x20]         ;5338  ; vz1_stat
003578  4308              ORRS     r0,r0,r1              ;5338
00357a  f8961023          LDRB     r1,[r6,#0x23]         ;5338  ; vz2_stat
00357e  4308              ORRS     r0,r0,r1              ;5338
003580  7839              LDRB     r1,[r7,#0]            ;5338  ; sp_ch_stat
003582  4308              ORRS     r0,r0,r1              ;5338
003584  d17f              BNE      |L1.13958|
003586  702c              STRB     r4,[r5,#0]            ;5340
003588  f8df90b0          LDR      r9,|L1.13884|
00358c  f8990000          LDRB     r0,[r9,#0]            ;5341  ; ica_plazma
003590  f1000001          ADD      r0,r0,#1              ;5341
003594  f8890000          STRB     r0,[r9,#0]            ;5341
003598  4829              LDR      r0,|L1.13888|
00359a  f9b01000          LDRSH    r1,[r0,#0]            ;5343  ; bps_I
00359e  4829              LDR      r0,|L1.13892|
0035a0  8001              STRH     r1,[r0,#0]            ;5343
0035a2  4829              LDR      r0,|L1.13896|
;;;5346   		{
;;;5347   		ica_plazma[1]++;
;;;5348   		ica_u_necc--;
0035a4  f8dfa0a4          LDR      r10,|L1.13900|
0035a8  f9b02000          LDRSH    r2,[r0,#0]            ;5345  ; ica_your_current
0035ac  4648              MOV      r0,r9                 ;5341
0035ae  f9bac000          LDRSH    r12,[r10,#0]
0035b2  7843              LDRB     r3,[r0,#1]            ;5347
0035b4  4826              LDR      r0,|L1.13904|
0035b6  4291              CMP      r1,r2                 ;5345
0035b8  f9b08000          LDRSH    r8,[r0,#0]            ;5345
0035bc  4658              MOV      r0,r11                ;5345
0035be  f9b00000          LDRSH    r0,[r0,#0]            ;5345
0035c2  dd47              BLE      |L1.13908|
0035c4  eba10e02          SUB      lr,r1,r2              ;5345
0035c8  f1be0f05          CMP      lr,#5                 ;5345
0035cc  db42              BLT      |L1.13908|
0035ce  2801              CMP      r0,#1                 ;5345
0035d0  d004              BEQ      |L1.13788|
0035d2  2802              CMP      r0,#2                 ;5345
0035d4  d13e              BNE      |L1.13908|
0035d6  f1b80f05          CMP      r8,#5                 ;5345
0035da  dd3b              BLE      |L1.13908|
                  |L1.13788|
0035dc  f1030301          ADD      r3,r3,#1              ;5347
0035e0  f8893001          STRB     r3,[r9,#1]            ;5347
0035e4  f1ac0c01          SUB      r12,r12,#1
0035e8  f8aac000          STRH     r12,[r10,#0]
0035ec  e046              B        |L1.13948|
                  |L1.13806|
0035ee  e04a              B        |L1.13958|
                  |L1.13808|
                          DCD      ||area_number.23||
                  |L1.13812|
                          DCD      bps
                  |L1.13816|
                          DCD      NUMIST
                  |L1.13820|
                          DCD      mess_data
                  |L1.13824|
                          DCD      num_necc
                  |L1.13828|
                          DCD      main_1Hz_cnt
                  |L1.13832|
                          DCD      ipsBlckStat
                  |L1.13836|
                          DCD      TSIGN
                  |L1.13840|
                          DCD      power_summary_tempo
                  |L1.13844|
                          DCD      power_summary_tempo_old
                  |L1.13848|
                          DCD      powerSummaryCnt
                  |L1.13852|
                          DCD      power_summary
                  |L1.13856|
                          DCD      power_current_tempo
                  |L1.13860|
                          DCD      power_current_tempo_old
                  |L1.13864|
                          DCD      powerCurrentCnt
                  |L1.13868|
                          DCD      power_current
                  |L1.13872|
                          DCD      ica_timer_cnt
                  |L1.13876|
                          DCD      sp_ch_stat
                  |L1.13880|
                          DCD      ICA_EN
                  |L1.13884|
                          DCD      ica_plazma
                  |L1.13888|
                          DCD      bps_I
                  |L1.13892|
                          DCD      ica_my_current
                  |L1.13896|
                          DCD      ica_your_current
                  |L1.13900|
                          DCD      ica_u_necc
                  |L1.13904|
                          DCD      ica_cntrl_hndl_cnt
                  |L1.13908|
;;;5349   		}
;;;5350   	else if((ica_my_current<ica_your_current)&&((ica_your_current-ica_my_current)>=5)&&((ICA_EN==1)||((ICA_EN==2)&&(ica_cntrl_hndl_cnt>5))))
003654  4291              CMP      r1,r2
003656  da11              BGE      |L1.13948|
003658  1a51              SUBS     r1,r2,r1
00365a  2905              CMP      r1,#5
00365c  db0e              BLT      |L1.13948|
00365e  2801              CMP      r0,#1
003660  d004              BEQ      |L1.13932|
003662  2802              CMP      r0,#2
003664  d10a              BNE      |L1.13948|
003666  f1b80f05          CMP      r8,#5
00366a  dd07              BLE      |L1.13948|
                  |L1.13932|
;;;5351   		{
;;;5352   		ica_plazma[1]--;
00366c  f1a30301          SUB      r3,r3,#1
003670  f8893001          STRB     r3,[r9,#1]
;;;5353   		ica_u_necc++;
003674  f10c0c01          ADD      r12,r12,#1
003678  f8aac000          STRH     r12,[r10,#0]
                  |L1.13948|
;;;5354   		}
;;;5355   	gran(&ica_u_necc,-100,100);
00367c  2264              MOVS     r2,#0x64
00367e  4251              RSBS     r1,r2,#0
003680  48ff              LDR      r0,|L1.14976|
003682  f7fffffe          BL       gran
                  |L1.13958|
;;;5356   	}
;;;5357   
;;;5358   
;;;5359   if((ICA_EN==1)&&((spc_stat==spcOFF)&&(vz1_stat==vz1sOFF)&&(vz2_stat==vz2sOFF)&&(sp_ch_stat==scsOFF)) /*&& (num_of_wrks_bps)*/)
003686  f8bb0000          LDRH     r0,[r11,#0]  ; ICA_EN
00368a  2801              CMP      r0,#1
00368c  d167              BNE      |L1.14174|
00368e  7d30              LDRB     r0,[r6,#0x14]  ; spc_stat
003690  f8961020          LDRB     r1,[r6,#0x20]  ; vz1_stat
003694  4308              ORRS     r0,r0,r1
003696  f8961023          LDRB     r1,[r6,#0x23]  ; vz2_stat
00369a  4308              ORRS     r0,r0,r1
00369c  7839              LDRB     r1,[r7,#0]  ; sp_ch_stat
00369e  4308              ORRS     r0,r0,r1
0036a0  d15d              BNE      |L1.14174|
;;;5360   	{
;;;5361   	
;;;5362   	if(ica_timer_cnt==8)
0036a2  7828              LDRB     r0,[r5,#0]  ; ica_timer_cnt
;;;5363   		{
;;;5364   		char modbus_buff[20],i;
;;;5365   		short crc_temp;
;;;5366   	
;;;5367   		modbus_buff[0] = ICA_MODBUS_ADDRESS;
0036a4  4bf7              LDR      r3,|L1.14980|
;;;5368   		modbus_buff[1] = 4;
;;;5369   		modbus_buff[2] = 0;
;;;5370   		modbus_buff[3] = 2;
;;;5371   		modbus_buff[4] = 0;	
;;;5372   		modbus_buff[5] = 1;
;;;5373   	
;;;5374   		crc_temp= CRC16_2(modbus_buff,6);
;;;5375   	
;;;5376   		modbus_buff[6]= (char)crc_temp;
;;;5377   		modbus_buff[7]= (char)(crc_temp>>8);
;;;5378   	
;;;5379   		if(ICA_CH==0)
0036a6  4ff8              LDR      r7,|L1.14984|
0036a8  2808              CMP      r0,#8                 ;5362
0036aa  d05b              BEQ      |L1.14180|
;;;5380   			{
;;;5381   			for (i=0;i<8;i++)
;;;5382   				{
;;;5383   				putchar_sc16is700(modbus_buff[i]);
;;;5384   				}
;;;5385   			}
;;;5386   		else if(ICA_CH==2)
;;;5387   			{
;;;5388   			uart_out1 (5,4,0,2,0,1,0);
;;;5389   			}
;;;5390   		}
;;;5391   	else
;;;5392   		{
;;;5393   		char modbus_buff[20],i;
;;;5394   		short crc_temp, tempSSSS;
;;;5395   
;;;5396   		tempSSSS=cntrl_stat_old;
0036ac  f9b65028          LDRSH    r5,[r6,#0x28]  ; cntrl_stat_old
;;;5397   		if(	(main_kb_cnt==(TBAT*60)-21) || (main_kb_cnt==(TBAT*60)-20) || (main_kb_cnt==(TBAT*60)-19)) tempSSSS=((short)TBAT)|0x4000;
0036b0  48f6              LDR      r0,|L1.14988|
0036b2  f06f0214          MVN      r2,#0x14
0036b6  f9b00000          LDRSH    r0,[r0,#0]  ; TBAT
0036ba  ebc01100          RSB      r1,r0,r0,LSL #4
0036be  eb020c81          ADD      r12,r2,r1,LSL #2
0036c2  f9b62046          LDRSH    r2,[r6,#0x46]  ; main_kb_cnt
0036c6  4594              CMP      r12,r2
0036c8  d00b              BEQ      |L1.14050|
0036ca  f06f0c13          MVN      r12,#0x13
0036ce  eb0c0c81          ADD      r12,r12,r1,LSL #2
0036d2  4594              CMP      r12,r2
0036d4  d005              BEQ      |L1.14050|
0036d6  f06f0c12          MVN      r12,#0x12
0036da  eb0c0181          ADD      r1,r12,r1,LSL #2
0036de  4291              CMP      r1,r2
0036e0  d101              BNE      |L1.14054|
                  |L1.14050|
0036e2  f4404580          ORR      r5,r0,#0x4000
                  |L1.14054|
;;;5398   
;;;5399   
;;;5400   		modbus_buff[0] = ICA_MODBUS_ADDRESS;
0036e6  8818              LDRH     r0,[r3,#0]  ; ICA_MODBUS_ADDRESS
0036e8  f88d0010          STRB     r0,[sp,#0x10]
;;;5401   		modbus_buff[1] = 6;
0036ec  f04f0006          MOV      r0,#6
0036f0  f88d0011          STRB     r0,[sp,#0x11]
;;;5402   		modbus_buff[2] = 0;
0036f4  f88d4012          STRB     r4,[sp,#0x12]
;;;5403   		modbus_buff[3] = 100;
0036f8  f04f0064          MOV      r0,#0x64
0036fc  f88d0013          STRB     r0,[sp,#0x13]
;;;5404   		modbus_buff[4] = (char)(tempSSSS/256);	
003700  ea4f70e5          ASR      r0,r5,#31
003704  eb056010          ADD      r0,r5,r0,LSR #24
003708  ea4f2120          ASR      r1,r0,#8
00370c  f88d1014          STRB     r1,[sp,#0x14]
;;;5405   		modbus_buff[5] = (char)(tempSSSS%256);
003710  4628              MOV      r0,r5
003712  f88d0015          STRB     r0,[sp,#0x15]
;;;5406   	
;;;5407   		crc_temp= CRC16_2(modbus_buff,6);
003716  f04f0106          MOV      r1,#6
00371a  a804              ADD      r0,sp,#0x10
00371c  f7fffffe          BL       CRC16_2
;;;5408   	
;;;5409   		modbus_buff[6]= (char)crc_temp;
003720  f88d0016          STRB     r0,[sp,#0x16]
;;;5410   		modbus_buff[7]= (char)(crc_temp>>8);
003724  ea4f2020          ASR      r0,r0,#8
003728  f88d0017          STRB     r0,[sp,#0x17]
;;;5411   	
;;;5412   		crc_temp= CRC16_2(modbus_buff,6);
00372c  f04f0106          MOV      r1,#6
003730  a804              ADD      r0,sp,#0x10
003732  f7fffffe          BL       CRC16_2
;;;5413   	
;;;5414   		plazma_ica1=tempSSSS;
003736  f8a65076          STRH     r5,[r6,#0x76]
;;;5415   		if(ICA_CH==0)
00373a  f9b70000          LDRSH    r0,[r7,#0]  ; ICA_CH
00373e  b3f0              CBZ      r0,|L1.14270|
;;;5416   			{
;;;5417   			for (i=0;i<8;i++)
;;;5418   				{
;;;5419   				putchar_sc16is700(modbus_buff[i]);
;;;5420   				}
;;;5421   			}
;;;5422   		else if(ICA_CH==2)
003740  2802              CMP      r0,#2
003742  d10c              BNE      |L1.14174|
;;;5423   			{
;;;5424   			uart_out1 (5,6,0,100,modbus_buff[4],modbus_buff[5],0);
003744  f89d0015          LDRB     r0,[sp,#0x15]
003748  f89d1014          LDRB     r1,[sp,#0x14]
00374c  e9cd0401          STRD     r0,r4,[sp,#4]
003750  9100              STR      r1,[sp,#0]
003752  2364              MOVS     r3,#0x64
003754  2200              MOVS     r2,#0
003756  2106              MOVS     r1,#6
003758  2005              MOVS     r0,#5
00375a  f7fffffe          BL       uart_out1
                  |L1.14174|
;;;5425   			}
;;;5426   		}
;;;5427   	}
;;;5428   }
00375e  b009              ADD      sp,sp,#0x24
003760  e8bd8ff0          POP      {r4-r11,pc}
                  |L1.14180|
003764  8818              LDRH     r0,[r3,#0]            ;5367  ; ICA_MODBUS_ADDRESS
003766  f88d0010          STRB     r0,[sp,#0x10]         ;5367
00376a  f04f0004          MOV      r0,#4                 ;5368
00376e  f88d0011          STRB     r0,[sp,#0x11]         ;5368
003772  f88d4012          STRB     r4,[sp,#0x12]         ;5369
003776  f04f0002          MOV      r0,#2                 ;5370
00377a  f88d0013          STRB     r0,[sp,#0x13]         ;5370
00377e  f88d4014          STRB     r4,[sp,#0x14]         ;5371
003782  f04f0501          MOV      r5,#1                 ;5372
003786  f88d5015          STRB     r5,[sp,#0x15]         ;5372
00378a  f04f0106          MOV      r1,#6                 ;5374
00378e  a804              ADD      r0,sp,#0x10           ;5374
003790  f7fffffe          BL       CRC16_2
003794  f88d0016          STRB     r0,[sp,#0x16]         ;5376
003798  ea4f2020          ASR      r0,r0,#8              ;5377
00379c  f88d0017          STRB     r0,[sp,#0x17]         ;5377
0037a0  f9b70000          LDRSH    r0,[r7,#0]            ;5379  ; ICA_CH
0037a4  b160              CBZ      r0,|L1.14272|
0037a6  2802              CMP      r0,#2                 ;5386
0037a8  d1d9              BNE      |L1.14174|
0037aa  e9cd4500          STRD     r4,r5,[sp,#0]         ;5388
0037ae  2302              MOVS     r3,#2                 ;5388
0037b0  2200              MOVS     r2,#0                 ;5388
0037b2  2104              MOVS     r1,#4                 ;5388
0037b4  2005              MOVS     r0,#5                 ;5388
0037b6  9402              STR      r4,[sp,#8]            ;5388
0037b8  f7fffffe          BL       uart_out1
0037bc  e7cf              B        |L1.14174|
                  |L1.14270|
0037be  e00b              B        |L1.14296|
                  |L1.14272|
0037c0  f04f0400          MOV      r4,#0                 ;5381
0037c4  ad04              ADD      r5,sp,#0x10           ;5364
                  |L1.14278|
0037c6  5d28              LDRB     r0,[r5,r4]            ;5383
0037c8  f7fffffe          BL       putchar_sc16is700
0037cc  f1040401          ADD      r4,r4,#1              ;5381
0037d0  b2e4              UXTB     r4,r4                 ;5381
0037d2  2c08              CMP      r4,#8                 ;5381
0037d4  d3f7              BCC      |L1.14278|
0037d6  e7c2              B        |L1.14174|
                  |L1.14296|
0037d8  f04f0400          MOV      r4,#0                 ;5417
0037dc  ad04              ADD      r5,sp,#0x10           ;5393
                  |L1.14302|
0037de  5d28              LDRB     r0,[r5,r4]            ;5419
0037e0  f7fffffe          BL       putchar_sc16is700
0037e4  f1040401          ADD      r4,r4,#1              ;5417
0037e8  b2e4              UXTB     r4,r4                 ;5417
0037ea  2c08              CMP      r4,#8                 ;5417
0037ec  d3f7              BCC      |L1.14302|
0037ee  e7b6              B        |L1.14174|
;;;5429   
                          ENDP

                  ipsBlckHndl PROC
;;;5512   //-----------------------------------------------
;;;5513   void ipsBlckHndl(char in)
0037f0  b510              PUSH     {r4,lr}
;;;5514   {
;;;5515   
;;;5516   ipsBlckStat=0;
0037f2  4ba7              LDR      r3,|L1.14992|
0037f4  f04f0000          MOV      r0,#0
0037f8  8018              STRH     r0,[r3,#0]
;;;5517   if(ipsBlckSrc==1)
0037fa  48a6              LDR      r0,|L1.14996|
0037fc  f04f0401          MOV      r4,#1
;;;5518   	{
;;;5519   	if(((ipsBlckLog==0)&&(adc_buff_[11]>2000)) || ((ipsBlckLog==1)&&(adc_buff_[11]<2000))) ipsBlckStat=1;
003800  f44f62fa          MOV      r2,#0x7d0
003804  f9b01000          LDRSH    r1,[r0,#0]            ;5517  ; ipsBlckSrc
003808  48a3              LDR      r0,|L1.15000|
00380a  2901              CMP      r1,#1                 ;5517
00380c  f9b00000          LDRSH    r0,[r0,#0]
003810  d006              BEQ      |L1.14368|
;;;5520   	}
;;;5521   else if(ipsBlckSrc==2)
003812  2902              CMP      r1,#2
003814  d10f              BNE      |L1.14390|
003816  49a1              LDR      r1,|L1.15004|
;;;5522   	{
;;;5523   	if(((ipsBlckLog==0)&&(adc_buff_[13]>2000)) || ((ipsBlckLog==1)&&(adc_buff_[13]<2000))) ipsBlckStat=1;
003818  f9b1101a          LDRSH    r1,[r1,#0x1a]
00381c  b160              CBZ      r0,|L1.14392|
00381e  e00d              B        |L1.14396|
                  |L1.14368|
003820  499e              LDR      r1,|L1.15004|
003822  f9b11016          LDRSH    r1,[r1,#0x16]         ;5519
003826  b908              CBNZ     r0,|L1.14380|
003828  4291              CMP      r1,r2                 ;5519
00382a  dc03              BGT      |L1.14388|
                  |L1.14380|
00382c  2801              CMP      r0,#1                 ;5519
00382e  d102              BNE      |L1.14390|
003830  4291              CMP      r1,r2                 ;5519
003832  da00              BGE      |L1.14390|
                  |L1.14388|
003834  801c              STRH     r4,[r3,#0]            ;5519
                  |L1.14390|
;;;5524   	}
;;;5525   }
003836  bd10              POP      {r4,pc}
                  |L1.14392|
003838  4291              CMP      r1,r2                 ;5523
00383a  dc03              BGT      |L1.14404|
                  |L1.14396|
00383c  2801              CMP      r0,#1                 ;5523
00383e  d1fa              BNE      |L1.14390|
003840  4291              CMP      r1,r2                 ;5523
003842  daf8              BGE      |L1.14390|
                  |L1.14404|
003844  801c              STRH     r4,[r3,#0]            ;5523
003846  bd10              POP      {r4,pc}
;;;5526   
                          ENDP

                  bps_drv PROC
;;;5527   //-----------------------------------------------
;;;5528   void bps_drv(char in)
003848  e92d41f0          PUSH     {r4-r8,lr}
;;;5529   {
00384c  4606              MOV      r6,r0
;;;5530   char temp;
;;;5531   
;;;5532   if (bps[in]._device!=dSRC) return;
00384e  ebc600c6          RSB      r0,r6,r6,LSL #3
003852  4993              LDR      r1,|L1.15008|
003854  eb001006          ADD      r0,r0,r6,LSL #4
003858  f8112020          LDRB     r2,[r1,r0,LSL #2]
00385c  2a03              CMP      r2,#3
00385e  d177              BNE      |L1.14672|
;;;5533   temp=bps[in]._flags_tm;
003860  eb010480          ADD      r4,r1,r0,LSL #2
003864  f8945042          LDRB     r5,[r4,#0x42]
;;;5534   if(temp&(1<<AV_T))
003868  07a8              LSLS     r0,r5,#30
00386a  d517              BPL      |L1.14492|
;;;5535   	{
;;;5536   	if(bps[in]._temp_av_cnt<1200) 
00386c  f9b41046          LDRSH    r1,[r4,#0x46]
003870  f44f6096          MOV      r0,#0x4b0
003874  4281              CMP      r1,r0
003876  da22              BGE      |L1.14526|
;;;5537   		{
;;;5538   		bps[in]._temp_av_cnt++;
003878  f1010101          ADD      r1,r1,#1
00387c  b209              SXTH     r1,r1
00387e  f8a41046          STRH     r1,[r4,#0x46]
;;;5539   		if(bps[in]._temp_av_cnt>=1200)
003882  4281              CMP      r1,r0
003884  db1b              BLT      |L1.14526|
;;;5540   			{
;;;5541   			bps[in]._temp_av_cnt=1200;
003886  f8a40046          STRH     r0,[r4,#0x46]
;;;5542   		   	if(!(bps[in]._av&(1<<0)))avar_bps_hndl(in,0,1);
00388a  7860              LDRB     r0,[r4,#1]
00388c  07c0              LSLS     r0,r0,#31
00388e  d116              BNE      |L1.14526|
003890  2201              MOVS     r2,#1
003892  2100              MOVS     r1,#0
003894  4630              MOV      r0,r6
003896  f7fffffe          BL       avar_bps_hndl
00389a  e010              B        |L1.14526|
                  |L1.14492|
;;;5543   			}
;;;5544   		}
;;;5545   	}
;;;5546   
;;;5547   else if(!(temp&(1<<AV_T)))
;;;5548   	{
;;;5549   	if(bps[in]._temp_av_cnt) 
00389c  f9b41046          LDRSH    r1,[r4,#0x46]
0038a0  b169              CBZ      r1,|L1.14526|
;;;5550   		{
;;;5551   		bps[in]._temp_av_cnt--;
0038a2  f1a10101          SUB      r1,r1,#1
0038a6  b208              SXTH     r0,r1
0038a8  f8a40046          STRH     r0,[r4,#0x46]
;;;5552   		if(!bps[in]._temp_av_cnt)
0038ac  b938              CBNZ     r0,|L1.14526|
;;;5553   			{
;;;5554   			if(bps[in]._av&(1<<0))avar_bps_hndl(in,0,0);
0038ae  7860              LDRB     r0,[r4,#1]
0038b0  07c0              LSLS     r0,r0,#31
0038b2  d004              BEQ      |L1.14526|
0038b4  2200              MOVS     r2,#0
0038b6  4611              MOV      r1,r2
0038b8  4630              MOV      r0,r6
0038ba  f7fffffe          BL       avar_bps_hndl
                  |L1.14526|
;;;5555   			}
;;;5556   		} 	
;;;5557   
;;;5558   	}
;;;5559   
;;;5560   if((temp&(1<<AVUMAX)))
0038be  0729              LSLS     r1,r5,#28
;;;5561   	{
;;;5562   	if(bps[in]._umax_av_cnt<10) 
;;;5563   		{
;;;5564   		bps[in]._umax_av_cnt++;
;;;5565   		if(bps[in]._umax_av_cnt>=10)
;;;5566   			{ 
;;;5567   			bps[in]._umax_av_cnt=10;
0038c0  f04f070a          MOV      r7,#0xa
0038c4  f04f0000          MOV      r0,#0                 ;5542
0038c8  d515              BPL      |L1.14582|
0038ca  f9b40048          LDRSH    r0,[r4,#0x48]         ;5562
0038ce  280a              CMP      r0,#0xa               ;5562
0038d0  da26              BGE      |L1.14624|
0038d2  f1000001          ADD      r0,r0,#1              ;5564
0038d6  b200              SXTH     r0,r0                 ;5564
0038d8  f8a40048          STRH     r0,[r4,#0x48]         ;5564
0038dc  280a              CMP      r0,#0xa               ;5565
0038de  db1f              BLT      |L1.14624|
0038e0  f8a47048          STRH     r7,[r4,#0x48]
;;;5568   			if(!(bps[in]._av&(1<<1)))avar_bps_hndl(in,1,1);
0038e4  7860              LDRB     r0,[r4,#1]
0038e6  0780              LSLS     r0,r0,#30
0038e8  d41a              BMI      |L1.14624|
0038ea  2201              MOVS     r2,#1
0038ec  4611              MOV      r1,r2
0038ee  4630              MOV      r0,r6
0038f0  f7fffffe          BL       avar_bps_hndl
0038f4  e014              B        |L1.14624|
                  |L1.14582|
;;;5569   		  	/*if((K[APV]!=ON)||((apv_cnt[in,0]==0)&&(apv_cnt[in,1]==0)&&(apv_cnt[in,2]==0)&&(apv_flags[in]==afOFF)))avar_s_hndl(in,1,1);
;;;5570   			if((apv_cnt[in,0]==0)&&(apv_cnt[in,1]==0)&&(apv_cnt[in,2]==0)&&(apv_flags[in]==afON))
;;;5571   				{
;;;5572   				apv_cnt[in,0]=APV_INIT;
;;;5573   				apv_cnt[in,1]=APV_INIT;
;;;5574   				apv_cnt[in,2]=APV_INIT;
;;;5575   				apv_flags[in]=afOFF;
;;;5576   				}				*/
;;;5577   						
;;;5578   			}
;;;5579   		} 
;;;5580   	}		
;;;5581   else if(!(temp&(1<<AVUMAX)))
;;;5582   	{
;;;5583   	if(bps[in]._umax_av_cnt>0) 
0038f6  f9b41048          LDRSH    r1,[r4,#0x48]
0038fa  2900              CMP      r1,#0
0038fc  dd0d              BLE      |L1.14618|
;;;5584   		{
;;;5585   		bps[in]._umax_av_cnt--;
0038fe  f1a10101          SUB      r1,r1,#1
003902  b208              SXTH     r0,r1
003904  f8a40048          STRH     r0,[r4,#0x48]
;;;5586   		if(bps[in]._umax_av_cnt==0)
003908  b950              CBNZ     r0,|L1.14624|
;;;5587   			{
;;;5588   			bps[in]._umax_av_cnt=0;
;;;5589   			avar_bps_hndl(in,1,0);
00390a  f04f0200          MOV      r2,#0
00390e  f04f0101          MOV      r1,#1
003912  4630              MOV      r0,r6
003914  f7fffffe          BL       avar_bps_hndl
003918  e002              B        |L1.14624|
                  |L1.14618|
;;;5590   	 //		apv_cnt[in,0]=0;
;;;5591   	//		apv_cnt[in,1]=0;
;;;5592   	 //		apv_cnt[in,2]=0;			
;;;5593   			}
;;;5594   		}
;;;5595   	else if(bps[in]._umax_av_cnt<0) bps[in]._umax_av_cnt=0;		 
00391a  da01              BGE      |L1.14624|
00391c  f8a40048          STRH     r0,[r4,#0x48]
                  |L1.14624|
;;;5596   	}
;;;5597   
;;;5598   if(temp&(1<<AVUMIN))
003920  06e8              LSLS     r0,r5,#27
003922  d516              BPL      |L1.14674|
;;;5599   	{
;;;5600   	if(bps[in]._umin_av_cnt<10) 
003924  f9b4004a          LDRSH    r0,[r4,#0x4a]
003928  280a              CMP      r0,#0xa
00392a  da20              BGE      |L1.14702|
;;;5601   		{
;;;5602   		bps[in]._umin_av_cnt++;
00392c  f1000001          ADD      r0,r0,#1
003930  b200              SXTH     r0,r0
003932  f8a4004a          STRH     r0,[r4,#0x4a]
;;;5603   		if(bps[in]._umin_av_cnt>=10)
003936  280a              CMP      r0,#0xa
003938  db19              BLT      |L1.14702|
;;;5604   			{ 
;;;5605   			bps[in]._umin_av_cnt=10;
00393a  f8a4704a          STRH     r7,[r4,#0x4a]
;;;5606   			if(!(bps[in]._av&(1<<2)))avar_bps_hndl(in,2,1);
00393e  7860              LDRB     r0,[r4,#1]
003940  0740              LSLS     r0,r0,#29
003942  d414              BMI      |L1.14702|
003944  2201              MOVS     r2,#1
003946  2102              MOVS     r1,#2
003948  4630              MOV      r0,r6
00394a  f7fffffe          BL       avar_bps_hndl
00394e  e00e              B        |L1.14702|
                  |L1.14672|
003950  e046              B        |L1.14816|
                  |L1.14674|
;;;5607   		  	/*	if((K[APV]!=ON)||((apv_cnt[in,0]==0)&&(apv_cnt[in,1]==0)&&(apv_cnt[in,2]==0)&&(apv_flags[in]==afOFF)))avar_s_hndl(in,2,1);
;;;5608   			if((apv_cnt[in,0]==0)&&(apv_cnt[in,1]==0)&&(apv_cnt[in,2]==0)&&(apv_flags[in]==afON))
;;;5609   				{
;;;5610   				apv_cnt[in,0]=APV_INIT;
;;;5611   				apv_cnt[in,1]=APV_INIT;
;;;5612   				apv_cnt[in,2]=APV_INIT;
;;;5613   				apv_flags[in]=afOFF;
;;;5614   				}*/				
;;;5615   			}
;;;5616   		} 
;;;5617   	}	
;;;5618   	
;;;5619   else if(!(temp&(1<<AVUMIN)))
;;;5620   	{
;;;5621   	if(bps[in]._umin_av_cnt) 
003952  f9b4004a          LDRSH    r0,[r4,#0x4a]
003956  b150              CBZ      r0,|L1.14702|
;;;5622   		{
;;;5623   		bps[in]._umin_av_cnt--;
003958  f1a00001          SUB      r0,r0,#1
00395c  b201              SXTH     r1,r0
00395e  f8a4104a          STRH     r1,[r4,#0x4a]
;;;5624   		if(bps[in]._umin_av_cnt==0)
003962  b921              CBNZ     r1,|L1.14702|
;;;5625   			{
;;;5626   			bps[in]._umin_av_cnt=0;
;;;5627   			avar_bps_hndl(in,2,0);
003964  2200              MOVS     r2,#0
003966  2102              MOVS     r1,#2
003968  4630              MOV      r0,r6
00396a  f7fffffe          BL       avar_bps_hndl
                  |L1.14702|
;;;5628   		//	apv_cnt[in,0]=0;
;;;5629   		//	apv_cnt[in,1]=0;
;;;5630   		//	apv_cnt[in,2]=0;
;;;5631   			}
;;;5632   		}
;;;5633   	else if(bps[in]._umin_av_cnt>10)bps[in]._umin_av_cnt--;	 
;;;5634   	}
;;;5635   
;;;5636   //bps[in]._state=bsOFF;
;;;5637   
;;;5638   if (bps[in]._av&0x0f)					bps[in]._state=bsAV;
00396e  7860              LDRB     r0,[r4,#1]
003970  0700              LSLS     r0,r0,#28
003972  d003              BEQ      |L1.14716|
003974  f04f0004          MOV      r0,#4
003978  70a0              STRB     r0,[r4,#2]
00397a  e017              B        |L1.14764|
                  |L1.14716|
;;;5639   else if ( (net_av) && (bps[in]._cnt>20)/*&& 
00397c  4849              LDR      r0,|L1.15012|
00397e  7800              LDRB     r0,[r0,#0]  ; net_av
003980  b130              CBZ      r0,|L1.14736|
003982  78e0              LDRB     r0,[r4,#3]
003984  2814              CMP      r0,#0x14
003986  d903              BLS      |L1.14736|
;;;5640   		(bps[in]._Uii<200)*/)				bps[in]._state=bsOFF_AV_NET;
003988  f04f0005          MOV      r0,#5
00398c  70a0              STRB     r0,[r4,#2]
00398e  e00d              B        |L1.14764|
                  |L1.14736|
;;;5641   else if (bps[in]._flags_tm&BIN8(100000))	bps[in]._state=bsRDY;
003990  f8940042          LDRB     r0,[r4,#0x42]
003994  0680              LSLS     r0,r0,#26
003996  d503              BPL      |L1.14752|
003998  f04f0002          MOV      r0,#2
00399c  70a0              STRB     r0,[r4,#2]
00399e  e005              B        |L1.14764|
                  |L1.14752|
;;;5642   else if (bps[in]._cnt<20)				bps[in]._state=bsWRK;
0039a0  78e0              LDRB     r0,[r4,#3]
0039a2  2814              CMP      r0,#0x14
0039a4  d202              BCS      |L1.14764|
0039a6  f04f0001          MOV      r0,#1
0039aa  70a0              STRB     r0,[r4,#2]
                  |L1.14764|
;;;5643   
;;;5644   
;;;5645   
;;;5646   //else if(bps[in]._flags_tm&BIN8(100000)) bps[in]._state=ssBL;
;;;5647   //else if((!(bps[in]._flags_tm&BIN8(100000)))&&(net_U>100))bps[in]._state=ssWRK;
;;;5648   //else bps[0]._state=ssNOT;
;;;5649   
;;;5650   //bps[in]._is_ready=0;
;;;5651   //bps[in]._is_wrk=0;
;;;5652   //if(bps[in]._av_net) bps[in]._flags_bp='N';// ÌÂ ÔÓ‰ÍÎ˛˜ÂÌ
;;;5653   //else if(bps[in]._av_u_max) bps[in]._flags_bp='P';// Á‡‚˚¯ÂÌÓ Ì‡ÔˇÊÂÌËÂ(u_.av_.bAS1T)) bps_state[0]=ssAV;
;;;5654   //else if(bps[in]._av_u_min) bps[in]._flags_bp='M';// Á‡ÌËÊÂÌÓ Ì‡ÔˇÊÂÌËÂ
;;;5655   //else if(bps[in]._av_temper) bps[in]._flags_bp='T';// ÚÂÏÔÂ‡ÚÛ‡
;;;5656   //else if(bps[in]._flags_tm&BIN8(100000)) 
;;;5657   //	{
;;;5658   //	bps[in]._flags_bp='B';// Á‡·ÎÓÍËÓ‚‡Ì
;;;5659   //	bps[in]._is_ready=1;
;;;5660   //	}
;;;5661   //else if((!(bps[in]._flags_tm&BIN8(100000)))&&(net_U>100))
;;;5662   //     {
;;;5663   //     bps[in]._flags_bp='W';// ‡·ÓÚ‡ÂÚ
;;;5664   //     bps[in]._is_ready=1;
;;;5665   //     bps[in]._is_wrk=1;
;;;5666        
;;;5667   //     }
;;;5668   //else bps[in]._is_ready=1;     
;;;5669   
;;;5670   
;;;5671   
;;;5672   
;;;5673   
;;;5674   /*
;;;5675   bps[in]._flags_tu&=BIN8(11111110);
;;;5676   if(bps[in]._ist_blok_cnt)
;;;5677   	{
;;;5678   	bps[in]._ist_blok_cnt--;
;;;5679   	bps[in]._flags_tu|=BIN8(1);
;;;5680   	}
;;;5681   
;;;5682   	   */ 
;;;5683   
;;;5684   //œÂÂÒ·ÓÒ ¡œ—‡ ÔË ÔÓÚÂÂ Ò‚ˇÁË
;;;5685   if(bps[in]._cnt>=10) bps[in]._flags_tu|=BIN8(10000000);
0039ac  78e0              LDRB     r0,[r4,#3]
0039ae  280a              CMP      r0,#0xa
0039b0  d306              BCC      |L1.14784|
0039b2  f894002c          LDRB     r0,[r4,#0x2c]
0039b6  f0400080          ORR      r0,r0,#0x80
0039ba  f884002c          STRB     r0,[r4,#0x2c]
0039be  e005              B        |L1.14796|
                  |L1.14784|
;;;5686   else bps[in]._flags_tu&=BIN8(1111111);
0039c0  f894002c          LDRB     r0,[r4,#0x2c]
0039c4  f000007f          AND      r0,r0,#0x7f
0039c8  f884002c          STRB     r0,[r4,#0x2c]
                  |L1.14796|
;;;5687   	
;;;5688   bps[in]._vol_u=cntrl_stat+bps[in]._x_;	
0039cc  4936              LDR      r1,|L1.15016|
0039ce  f9b40050          LDRSH    r0,[r4,#0x50]
0039d2  f9b11026          LDRSH    r1,[r1,#0x26]  ; cntrl_stat
0039d6  4408              ADD      r0,r0,r1
0039d8  6320              STR      r0,[r4,#0x30]
;;;5689   bps[in]._vol_i=1000; 
0039da  f44f707a          MOV      r0,#0x3e8
0039de  6360              STR      r0,[r4,#0x34]
                  |L1.14816|
;;;5690   }
0039e0  e8bd81f0          POP      {r4-r8,pc}
;;;5691   
                          ENDP

                  avt_hndl PROC
;;;5692   //-----------------------------------------------
;;;5693   void avt_hndl(void)
0039e4  b570              PUSH     {r4-r6,lr}
;;;5694   {
;;;5695   char i;
;;;5696   for(i=0;i<12;i++)
0039e6  f04f0000          MOV      r0,#0
;;;5697   	{
;;;5698   	if(eb2_data_short[6]&(1<<i))
0039ea  4930              LDR      r1,|L1.15020|
;;;5699   		{
;;;5700   		avt_stat[i]=avtON;
0039ec  4d30              LDR      r5,|L1.15024|
0039ee  f04f0401          MOV      r4,#1                 ;5698
0039f2  f9b1200c          LDRSH    r2,[r1,#0xc]          ;5698
0039f6  4603              MOV      r3,r0                 ;5696
                  |L1.14840|
0039f8  fa04f100          LSL      r1,r4,r0              ;5698
0039fc  420a              TST      r2,r1                 ;5698
0039fe  d001              BEQ      |L1.14852|
003a00  542c              STRB     r4,[r5,r0]
003a02  e000              B        |L1.14854|
                  |L1.14852|
;;;5701   		}
;;;5702   	else avt_stat[i]=avtOFF;
003a04  542b              STRB     r3,[r5,r0]
                  |L1.14854|
003a06  f1000001          ADD      r0,r0,#1              ;5696
003a0a  b2c0              UXTB     r0,r0                 ;5696
003a0c  280c              CMP      r0,#0xc               ;5696
003a0e  d3f3              BCC      |L1.14840|
;;;5703   	}
;;;5704   
;;;5705   if((avt_stat_old[0]!=avt_stat[0])&&(NUMAVT>=1))
003a10  4e28              LDR      r6,|L1.15028|
003a12  7828              LDRB     r0,[r5,#0]  ; avt_stat
003a14  4c28              LDR      r4,|L1.15032|
003a16  7831              LDRB     r1,[r6,#0]  ; avt_stat_old
003a18  4281              CMP      r1,r0
003a1a  d00b              BEQ      |L1.14900|
003a1c  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
003a20  2901              CMP      r1,#1
003a22  db07              BLT      |L1.14900|
;;;5706   	{
;;;5707   	if(avt_stat[0]==avtON) 	snmp_trap_send("Avtomat #1 is ON ",11,1,1);
003a24  2801              CMP      r0,#1
003a26  d02a              BEQ      |L1.14974|
;;;5708   	else 				snmp_trap_send("Avtomat #1 is OFF",11,1,0);
003a28  2300              MOVS     r3,#0
003a2a  2201              MOVS     r2,#1
003a2c  210b              MOVS     r1,#0xb
003a2e  a023              ADR      r0,|L1.15036|
003a30  f7fffffe          BL       snmp_trap_send
                  |L1.14900|
;;;5709   	}
;;;5710   if((avt_stat_old[1]!=avt_stat[1])&&(NUMAVT>=2))
003a34  7871              LDRB     r1,[r6,#1]  ; avt_stat_old
003a36  7868              LDRB     r0,[r5,#1]  ; avt_stat
003a38  4281              CMP      r1,r0
003a3a  d00b              BEQ      |L1.14932|
003a3c  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
003a40  2902              CMP      r1,#2
003a42  db07              BLT      |L1.14932|
;;;5711   	{
;;;5712   	if(avt_stat[1]==avtON) 	snmp_trap_send("Avtomat #2 is ON ",11,2,1);
003a44  2801              CMP      r0,#1
003a46  d07e              BEQ      |L1.15174|
;;;5713   	else 				snmp_trap_send("Avtomat #2 is OFF",11,2,0);
003a48  2300              MOVS     r3,#0
003a4a  2202              MOVS     r2,#2
003a4c  210b              MOVS     r1,#0xb
003a4e  a020              ADR      r0,|L1.15056|
003a50  f7fffffe          BL       snmp_trap_send
                  |L1.14932|
;;;5714   	}
;;;5715   if((avt_stat_old[2]!=avt_stat[2])&&(NUMAVT>=3))
003a54  78b1              LDRB     r1,[r6,#2]  ; avt_stat_old
003a56  78a8              LDRB     r0,[r5,#2]  ; avt_stat
003a58  4281              CMP      r1,r0
003a5a  d00b              BEQ      |L1.14964|
003a5c  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
003a60  2903              CMP      r1,#3
003a62  db07              BLT      |L1.14964|
;;;5716   	{
;;;5717   	if(avt_stat[2]==avtON) 	snmp_trap_send("Avtomat #3 is ON ",11,3,1);
003a64  2801              CMP      r0,#1
003a66  d06f              BEQ      |L1.15176|
;;;5718   	else 				snmp_trap_send("Avtomat #3 is OFF",11,3,0);
003a68  2300              MOVS     r3,#0
003a6a  2203              MOVS     r2,#3
003a6c  210b              MOVS     r1,#0xb
003a6e  a01d              ADR      r0,|L1.15076|
003a70  f7fffffe          BL       snmp_trap_send
                  |L1.14964|
;;;5719   	}
;;;5720   if((avt_stat_old[3]!=avt_stat[3])&&(NUMAVT>=4))
003a74  78f1              LDRB     r1,[r6,#3]  ; avt_stat_old
003a76  78e8              LDRB     r0,[r5,#3]  ; avt_stat
003a78  4281              CMP      r1,r0
003a7a  d049              BEQ      |L1.15120|
003a7c  e03c              B        |L1.15096|
                  |L1.14974|
003a7e  e0a4              B        |L1.15306|
                  |L1.14976|
                          DCD      ica_u_necc
                  |L1.14980|
                          DCD      ICA_MODBUS_ADDRESS
                  |L1.14984|
                          DCD      ICA_CH
                  |L1.14988|
                          DCD      TBAT
                  |L1.14992|
                          DCD      ipsBlckStat
                  |L1.14996|
                          DCD      ipsBlckSrc
                  |L1.15000|
                          DCD      ipsBlckLog
                  |L1.15004|
                          DCD      ||.bss||+0x400
                  |L1.15008|
                          DCD      bps
                  |L1.15012|
                          DCD      net_av
                  |L1.15016|
                          DCD      ||area_number.23||
                  |L1.15020|
                          DCD      eb2_data_short
                  |L1.15024|
                          DCD      avt_stat
                  |L1.15028|
                          DCD      avt_stat_old
                  |L1.15032|
                          DCD      NUMAVT
                  |L1.15036|
003abc  4176746f          DCB      "Avtomat #1 is OFF",0
003ac0  6d617420
003ac4  23312069
003ac8  73204f46
003acc  4600    
003ace  00                DCB      0
003acf  00                DCB      0
                  |L1.15056|
003ad0  4176746f          DCB      "Avtomat #2 is OFF",0
003ad4  6d617420
003ad8  23322069
003adc  73204f46
003ae0  4600    
003ae2  00                DCB      0
003ae3  00                DCB      0
                  |L1.15076|
003ae4  4176746f          DCB      "Avtomat #3 is OFF",0
003ae8  6d617420
003aec  23332069
003af0  73204f46
003af4  4600    
003af6  00                DCB      0
003af7  00                DCB      0
                  |L1.15096|
003af8  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
003afc  2904              CMP      r1,#4
003afe  db07              BLT      |L1.15120|
;;;5721   	{
;;;5722   	if(avt_stat[3]==avtON) 	snmp_trap_send("Avtomat #4 is ON ",11,4,1);
003b00  2801              CMP      r0,#1
003b02  d078              BEQ      |L1.15350|
;;;5723   	else 				snmp_trap_send("Avtomat #4 is OFF",11,4,0);
003b04  2300              MOVS     r3,#0
003b06  2204              MOVS     r2,#4
003b08  210b              MOVS     r1,#0xb
003b0a  a0ff              ADR      r0,|L1.16136|
003b0c  f7fffffe          BL       snmp_trap_send
                  |L1.15120|
;;;5724   	}
;;;5725   if((avt_stat_old[4]!=avt_stat[4])&&(NUMAVT>=5))
003b10  7931              LDRB     r1,[r6,#4]  ; avt_stat_old
003b12  7928              LDRB     r0,[r5,#4]  ; avt_stat
003b14  4281              CMP      r1,r0
003b16  d00b              BEQ      |L1.15152|
003b18  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
003b1c  2905              CMP      r1,#5
003b1e  db07              BLT      |L1.15152|
;;;5726   	{
;;;5727   	if(avt_stat[4]==avtON) 	snmp_trap_send("Avtomat #5 is ON ",11,5,1);
003b20  2801              CMP      r0,#1
003b22  d070              BEQ      |L1.15366|
;;;5728   	else 				snmp_trap_send("Avtomat #5 is OFF",11,5,0);
003b24  2300              MOVS     r3,#0
003b26  2205              MOVS     r2,#5
003b28  210b              MOVS     r1,#0xb
003b2a  a0fc              ADR      r0,|L1.16156|
003b2c  f7fffffe          BL       snmp_trap_send
                  |L1.15152|
;;;5729   	}
;;;5730   if((avt_stat_old[5]!=avt_stat[5])&&(NUMAVT>=6))
003b30  7971              LDRB     r1,[r6,#5]  ; avt_stat_old
003b32  7968              LDRB     r0,[r5,#5]  ; avt_stat
003b34  4281              CMP      r1,r0
003b36  d00e              BEQ      |L1.15190|
003b38  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
003b3c  2906              CMP      r1,#6
003b3e  db0a              BLT      |L1.15190|
;;;5731   	{
;;;5732   	if(avt_stat[5]==avtON) 	snmp_trap_send("Avtomat #6 is ON ",11,6,1);
003b40  2801              CMP      r0,#1
003b42  d067              BEQ      |L1.15380|
;;;5733   	else 				snmp_trap_send("Avtomat #6 is OFF",11,6,0);
003b44  e001              B        |L1.15178|
                  |L1.15174|
003b46  e047              B        |L1.15320|
                  |L1.15176|
003b48  e04e              B        |L1.15336|
                  |L1.15178|
003b4a  2300              MOVS     r3,#0
003b4c  2206              MOVS     r2,#6
003b4e  210b              MOVS     r1,#0xb
003b50  a0f7              ADR      r0,|L1.16176|
003b52  f7fffffe          BL       snmp_trap_send
                  |L1.15190|
;;;5734   	}
;;;5735   if((avt_stat_old[6]!=avt_stat[6])&&(NUMAVT>=7))
003b56  79b1              LDRB     r1,[r6,#6]  ; avt_stat_old
003b58  79a8              LDRB     r0,[r5,#6]  ; avt_stat
003b5a  4281              CMP      r1,r0
003b5c  d00b              BEQ      |L1.15222|
003b5e  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
003b62  2907              CMP      r1,#7
003b64  db07              BLT      |L1.15222|
;;;5736   	{
;;;5737   	if(avt_stat[6]==avtON) 	snmp_trap_send("Avtomat #7 is ON ",11,7,1);
003b66  2801              CMP      r0,#1
003b68  d05b              BEQ      |L1.15394|
;;;5738   	else 				snmp_trap_send("Avtomat #7 is OFF",11,7,0);
003b6a  2300              MOVS     r3,#0
003b6c  2207              MOVS     r2,#7
003b6e  210b              MOVS     r1,#0xb
003b70  a0f4              ADR      r0,|L1.16196|
003b72  f7fffffe          BL       snmp_trap_send
                  |L1.15222|
;;;5739   	}
;;;5740   if((avt_stat_old[7]!=avt_stat[7])&&(NUMAVT>=8))
003b76  79f1              LDRB     r1,[r6,#7]  ; avt_stat_old
003b78  79e8              LDRB     r0,[r5,#7]  ; avt_stat
003b7a  4281              CMP      r1,r0
003b7c  d00b              BEQ      |L1.15254|
003b7e  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
003b82  2908              CMP      r1,#8
003b84  db07              BLT      |L1.15254|
;;;5741   	{
;;;5742   	if(avt_stat[7]==avtON) 	snmp_trap_send("Avtomat #8 is ON ",11,8,1);
003b86  2801              CMP      r0,#1
003b88  d052              BEQ      |L1.15408|
;;;5743   	else 				snmp_trap_send("Avtomat #8 is OFF",11,8,0);
003b8a  2300              MOVS     r3,#0
003b8c  2208              MOVS     r2,#8
003b8e  210b              MOVS     r1,#0xb
003b90  a0f1              ADR      r0,|L1.16216|
003b92  f7fffffe          BL       snmp_trap_send
                  |L1.15254|
;;;5744   	}
;;;5745   if((avt_stat_old[8]!=avt_stat[8])&&(NUMAVT>=9))
003b96  7a31              LDRB     r1,[r6,#8]  ; avt_stat_old
003b98  7a28              LDRB     r0,[r5,#8]  ; avt_stat
003b9a  4281              CMP      r1,r0
003b9c  d00b              BEQ      |L1.15286|
003b9e  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
003ba2  2909              CMP      r1,#9
003ba4  db07              BLT      |L1.15286|
;;;5746   	{
;;;5747   	if(avt_stat[8]==avtON) 	snmp_trap_send("Avtomat #9 is ON ",11,9,1);
003ba6  2801              CMP      r0,#1
003ba8  d049              BEQ      |L1.15422|
;;;5748   	else 				snmp_trap_send("Avtomat #9 is OFF",11,9,0);
003baa  2300              MOVS     r3,#0
003bac  2209              MOVS     r2,#9
003bae  210b              MOVS     r1,#0xb
003bb0  a0ee              ADR      r0,|L1.16236|
003bb2  f7fffffe          BL       snmp_trap_send
                  |L1.15286|
;;;5749   	}
;;;5750   
;;;5751   for(i=0;i<12;i++)
003bb6  f04f0000          MOV      r0,#0
                  |L1.15290|
;;;5752   	{
;;;5753   	avt_stat_old[i]=avt_stat[i];
003bba  5c29              LDRB     r1,[r5,r0]
003bbc  5431              STRB     r1,[r6,r0]
003bbe  f1000001          ADD      r0,r0,#1              ;5751
003bc2  b2c0              UXTB     r0,r0                 ;5751
003bc4  280c              CMP      r0,#0xc               ;5751
003bc6  d3f8              BCC      |L1.15290|
;;;5754   	}
;;;5755   }
003bc8  bd70              POP      {r4-r6,pc}
                  |L1.15306|
003bca  2301              MOVS     r3,#1                 ;5707
003bcc  461a              MOV      r2,r3                 ;5707
003bce  210b              MOVS     r1,#0xb               ;5707
003bd0  a0eb              ADR      r0,|L1.16256|
003bd2  f7fffffe          BL       snmp_trap_send
003bd6  e72d              B        |L1.14900|
                  |L1.15320|
003bd8  2301              MOVS     r3,#1                 ;5712
003bda  2202              MOVS     r2,#2                 ;5712
003bdc  210b              MOVS     r1,#0xb               ;5712
003bde  a0ed              ADR      r0,|L1.16276|
003be0  f7fffffe          BL       snmp_trap_send
003be4  e736              B        |L1.14932|
003be6  e006              B        |L1.15350|
                  |L1.15336|
003be8  2301              MOVS     r3,#1                 ;5717
003bea  2203              MOVS     r2,#3                 ;5717
003bec  210b              MOVS     r1,#0xb               ;5717
003bee  a0ee              ADR      r0,|L1.16296|
003bf0  f7fffffe          BL       snmp_trap_send
003bf4  e73e              B        |L1.14964|
                  |L1.15350|
003bf6  2301              MOVS     r3,#1                 ;5722
003bf8  2204              MOVS     r2,#4                 ;5722
003bfa  210b              MOVS     r1,#0xb               ;5722
003bfc  a0ef              ADR      r0,|L1.16316|
003bfe  f7fffffe          BL       snmp_trap_send
003c02  e785              B        |L1.15120|
003c04  e7ff              B        |L1.15366|
                  |L1.15366|
003c06  2301              MOVS     r3,#1                 ;5727
003c08  2205              MOVS     r2,#5                 ;5727
003c0a  210b              MOVS     r1,#0xb               ;5727
003c0c  a0f0              ADR      r0,|L1.16336|
003c0e  f7fffffe          BL       snmp_trap_send
003c12  e78d              B        |L1.15152|
                  |L1.15380|
003c14  2301              MOVS     r3,#1                 ;5732
003c16  2206              MOVS     r2,#6                 ;5732
003c18  210b              MOVS     r1,#0xb               ;5732
003c1a  a0f2              ADR      r0,|L1.16356|
003c1c  f7fffffe          BL       snmp_trap_send
003c20  e799              B        |L1.15190|
                  |L1.15394|
003c22  2301              MOVS     r3,#1                 ;5737
003c24  2207              MOVS     r2,#7                 ;5737
003c26  210b              MOVS     r1,#0xb               ;5737
003c28  a0f3              ADR      r0,|L1.16376|
003c2a  f7fffffe          BL       snmp_trap_send
003c2e  e7a2              B        |L1.15222|
                  |L1.15408|
003c30  2301              MOVS     r3,#1                 ;5742
003c32  2208              MOVS     r2,#8                 ;5742
003c34  210b              MOVS     r1,#0xb               ;5742
003c36  a0f5              ADR      r0,|L1.16396|
003c38  f7fffffe          BL       snmp_trap_send
003c3c  e7ab              B        |L1.15254|
                  |L1.15422|
003c3e  2301              MOVS     r3,#1                 ;5747
003c40  2209              MOVS     r2,#9                 ;5747
003c42  210b              MOVS     r1,#0xb               ;5747
003c44  a0f6              ADR      r0,|L1.16416|
003c46  f7fffffe          BL       snmp_trap_send
003c4a  e7b4              B        |L1.15286|
;;;5756   
                          ENDP

                  bat_hndl PROC
;;;5757   //-----------------------------------------------
;;;5758   void bat_hndl(void)
003c4c  b570              PUSH     {r4-r6,lr}
;;;5759   {
;;;5760   /*if(mess_find(_MESS_BAT_MASK_ON))
;;;5761   	{
;;;5762   	if(mess_data[0]==_MESS_BAT_MASK_ON)
;;;5763   		{
;;;5764   		char i;
;;;5765   		for(i=0;i<2;i++)
;;;5766   			{
;;;5767   			if(mess_data[1]&(1<<i))
;;;5768   				{
;;;5769   				bat[i]._cnt_to_block=0;
;;;5770        			bat[i]._rel_stat=0;
;;;5771        			}
;;;5772   			}
;;;5773   		}
;;;5774   	}
;;;5775   if(mess_find(_MESS_BAT_MASK_OFF))
;;;5776   	{		
;;;5777   	if(mess_data[0]==_MESS_BAT_MASK_OFF)
;;;5778   		{
;;;5779   		char i;
;;;5780   		for(i=0;i<2;i++)
;;;5781   			{
;;;5782   			if((mess_data[1]&(1<<i)) && (bat[i]._cnt_to_block==0) && (bat[i]._rel_stat==0))
;;;5783   				{
;;;5784   				bat[i]._cnt_to_block=20;
;;;5785   				bat[i]._rel_stat=1;
;;;5786        			}
;;;5787   			}
;;;5788   		
;;;5789   		}		
;;;5790   	}*/
;;;5791   
;;;5792   if(mess_find_unvol(MESS2BAT_HNDL))
003c4e  20c8              MOVS     r0,#0xc8
003c50  f7fffffe          BL       mess_find_unvol
;;;5793   	{ 
;;;5794   	char i;
;;;5795   	
;;;5796   	if(mess_data[0]==PARAM_BAT_ALL_OFF_AFTER_2SEC)
;;;5797   		{
;;;5798   		for(i=0;i<MAX_NUM_OF_BAT;i++)
;;;5799   			{
;;;5800   			if(bat[i]._cnt_to_block<50)bat[i]._cnt_to_block++;
003c54  49f7              LDR      r1,|L1.16436|
003c56  2200              MOVS     r2,#0                 ;5798
003c58  b3a8              CBZ      r0,|L1.15558|
003c5a  4bf7              LDR      r3,|L1.16440|
;;;5801   			}
;;;5802   		}
;;;5803   
;;;5804   	else if(mess_data[0]==PARAM_BAT_MASK_OFF_AFTER_2SEC)
;;;5805   		{
;;;5806   		for(i=0;i<MAX_NUM_OF_BAT;i++)
;;;5807   			{
;;;5808   			if(mess_data[1]&(1<<i))
003c5c  2401              MOVS     r4,#1
003c5e  6818              LDR      r0,[r3,#0]            ;5796  ; mess_data
003c60  28c9              CMP      r0,#0xc9              ;5796
003c62  d01c              BEQ      |L1.15518|
003c64  28ca              CMP      r0,#0xca              ;5804
003c66  d02f              BEQ      |L1.15560|
;;;5809   				{
;;;5810   				if(bat[i]._cnt_to_block<50) bat[i]._cnt_to_block++;
;;;5811   				}
;;;5812   			else bat[i]._cnt_to_block=0;
;;;5813   			}
;;;5814   		}
;;;5815   	else 
;;;5816   	 	{
;;;5817   		for(i=0;i<MAX_NUM_OF_BAT;i++)
003c68  4610              MOV      r0,r2
                  |L1.15466|
;;;5818   			{
;;;5819   			bat[i]._cnt_to_block=0;
003c6a  eb000340          ADD      r3,r0,r0,LSL #1
003c6e  eb031300          ADD      r3,r3,r0,LSL #4
003c72  f8012023          STRB     r2,[r1,r3,LSL #2]
003c76  f1000001          ADD      r0,r0,#1              ;5817
003c7a  b2c0              UXTB     r0,r0                 ;5817
003c7c  2802              CMP      r0,#2                 ;5817
003c7e  d3f4              BCC      |L1.15466|
                  |L1.15488|
;;;5820   			}
;;;5821   
;;;5822   		}
;;;5823   	for(i=0;i<MAX_NUM_OF_BAT;i++)
003c80  f04f0000          MOV      r0,#0
                  |L1.15492|
;;;5824   		{
;;;5825   		if(bat[i]._cnt_to_block>20)bat[i]._rel_stat=1;
003c84  eb000340          ADD      r3,r0,r0,LSL #1
003c88  eb031300          ADD      r3,r3,r0,LSL #4
003c8c  f8115023          LDRB     r5,[r1,r3,LSL #2]
003c90  2d14              CMP      r5,#0x14
003c92  d939              BLS      |L1.15624|
003c94  eb010383          ADD      r3,r1,r3,LSL #2
003c98  f883403c          STRB     r4,[r3,#0x3c]
003c9c  e038              B        |L1.15632|
                  |L1.15518|
003c9e  f04f0000          MOV      r0,#0                 ;5798
                  |L1.15522|
003ca2  eb000340          ADD      r3,r0,r0,LSL #1       ;5800
003ca6  eb031500          ADD      r5,r3,r0,LSL #4       ;5800
003caa  f8113025          LDRB     r3,[r1,r5,LSL #2]     ;5800
003cae  2b32              CMP      r3,#0x32              ;5800
003cb0  d203              BCS      |L1.15546|
003cb2  f1030301          ADD      r3,r3,#1              ;5800
003cb6  f8013025          STRB     r3,[r1,r5,LSL #2]     ;5800
                  |L1.15546|
003cba  f1000001          ADD      r0,r0,#1              ;5798
003cbe  b2c0              UXTB     r0,r0                 ;5798
003cc0  2802              CMP      r0,#2                 ;5798
003cc2  d3ee              BCC      |L1.15522|
003cc4  e7dc              B        |L1.15488|
                  |L1.15558|
003cc6  e029              B        |L1.15644|
                  |L1.15560|
003cc8  f04f0000          MOV      r0,#0                 ;5806
003ccc  685e              LDR      r6,[r3,#4]            ;5808
                  |L1.15566|
003cce  fa04f300          LSL      r3,r4,r0              ;5808
003cd2  421e              TST      r6,r3                 ;5808
003cd4  d00c              BEQ      |L1.15600|
003cd6  eb000340          ADD      r3,r0,r0,LSL #1       ;5810
003cda  eb031500          ADD      r5,r3,r0,LSL #4       ;5810
003cde  f8113025          LDRB     r3,[r1,r5,LSL #2]     ;5810
003ce2  2b32              CMP      r3,#0x32              ;5810
003ce4  d20a              BCS      |L1.15612|
003ce6  f1030301          ADD      r3,r3,#1              ;5810
003cea  f8013025          STRB     r3,[r1,r5,LSL #2]     ;5810
003cee  e005              B        |L1.15612|
                  |L1.15600|
003cf0  eb000340          ADD      r3,r0,r0,LSL #1       ;5812
003cf4  eb031300          ADD      r3,r3,r0,LSL #4       ;5812
003cf8  f8012023          STRB     r2,[r1,r3,LSL #2]     ;5812
                  |L1.15612|
003cfc  f1000001          ADD      r0,r0,#1              ;5806
003d00  b2c0              UXTB     r0,r0                 ;5806
003d02  2802              CMP      r0,#2                 ;5806
003d04  d3e3              BCC      |L1.15566|
003d06  e7bb              B        |L1.15488|
                  |L1.15624|
;;;5826   		else bat[i]._rel_stat=0;
003d08  eb010383          ADD      r3,r1,r3,LSL #2
003d0c  f883203c          STRB     r2,[r3,#0x3c]
                  |L1.15632|
003d10  f1000001          ADD      r0,r0,#1              ;5823
003d14  b2c0              UXTB     r0,r0                 ;5823
003d16  2802              CMP      r0,#2                 ;5823
003d18  d3b4              BCC      |L1.15492|
;;;5827   		}
;;;5828   
;;;5829   	}
;;;5830   
;;;5831   else 
;;;5832   	{
;;;5833   	char i;
;;;5834   	for(i=0;i<MAX_NUM_OF_BAT;i++)
;;;5835   		{
;;;5836   		bat[i]._cnt_to_block=0;
;;;5837   		bat[i]._rel_stat=0;
;;;5838   		}
;;;5839   
;;;5840   	}
;;;5841   
;;;5842   /*if(mess_find_unvol(MESS2BAT_HNDL1))
;;;5843   	{
;;;5844   	if(PARAM_BAT_ON)
;;;5845   		{
;;;5846   		char i;
;;;5847   		for(i=0;i<MAX_NUM_OF_BAT;i++)
;;;5848   			{
;;;5849   			if(mess_data[1]&(1<<i))
;;;5850   				{
;;;5851   				bat[i]._cnt_to_block=0;
;;;5852   				bat[i]._rel_stat=0;
;;;5853   				}
;;;5854   			}
;;;5855   		}
;;;5856   	} */
;;;5857   }
003d1a  bd70              POP      {r4-r6,pc}
                  |L1.15644|
003d1c  f04f0000          MOV      r0,#0                 ;5834
                  |L1.15648|
003d20  eb000340          ADD      r3,r0,r0,LSL #1       ;5836
003d24  eb031300          ADD      r3,r3,r0,LSL #4       ;5836
003d28  f8012023          STRB     r2,[r1,r3,LSL #2]     ;5836
003d2c  eb010383          ADD      r3,r1,r3,LSL #2       ;5837
003d30  f883203c          STRB     r2,[r3,#0x3c]         ;5837
003d34  f1000001          ADD      r0,r0,#1              ;5834
003d38  b2c0              UXTB     r0,r0                 ;5834
003d3a  2802              CMP      r0,#2                 ;5834
003d3c  d3f0              BCC      |L1.15648|
003d3e  bd70              POP      {r4-r6,pc}
;;;5858   
                          ENDP

                  bat_drv PROC
;;;6496   //-----------------------------------------------
;;;6497   void bat_drv(char in)
003d40  e92d4ffe          PUSH     {r1-r11,lr}
;;;6498   {
003d44  4605              MOV      r5,r0
;;;6499   unsigned short /*tempUS,*/tempUS_;
;;;6500   unsigned long tempUL,tempUL_;
;;;6501   unsigned short b_zar;
;;;6502   //static unsigned short time_cnt[2];
;;;6503   
;;;6504   
;;;6505   
;;;6506   if(cntrl_stat_blok_cnt_plus[in])cntrl_stat_blok_cnt_plus[in]--;
003d46  49bd              LDR      r1,|L1.16444|
003d48  f9310015          LDRSH    r0,[r1,r5,LSL #1]
003d4c  b118              CBZ      r0,|L1.15702|
003d4e  f1a00001          SUB      r0,r0,#1
003d52  f8210015          STRH     r0,[r1,r5,LSL #1]
                  |L1.15702|
;;;6507   if(cntrl_stat_blok_cnt_minus[in])cntrl_stat_blok_cnt_minus[in]--;
003d56  4ab9              LDR      r2,|L1.16444|
003d58  1d12              ADDS     r2,r2,#4
003d5a  f9320015          LDRSH    r0,[r2,r5,LSL #1]
003d5e  b118              CBZ      r0,|L1.15720|
003d60  f1a00001          SUB      r0,r0,#1
003d64  f8220015          STRH     r0,[r2,r5,LSL #1]
                  |L1.15720|
;;;6508   
;;;6509   
;;;6510   if(bat[in]._Ib>IZMAX) cntrl_stat_blok_cnt_plus[in]=100;
003d68  eb050045          ADD      r0,r5,r5,LSL #1
003d6c  4bb1              LDR      r3,|L1.16436|
003d6e  eb001005          ADD      r0,r0,r5,LSL #4
003d72  eb030480          ADD      r4,r3,r0,LSL #2
003d76  4bb2              LDR      r3,|L1.16448|
003d78  9002              STR      r0,[sp,#8]
003d7a  f9b40008          LDRSH    r0,[r4,#8]
003d7e  f9b33000          LDRSH    r3,[r3,#0]  ; IZMAX
003d82  f04f0b64          MOV      r11,#0x64
003d86  4298              CMP      r0,r3
003d88  dd01              BLE      |L1.15758|
003d8a  f821b015          STRH     r11,[r1,r5,LSL #1]
                  |L1.15758|
;;;6511   if(bat[in]._Ib<0)     cntrl_stat_blok_cnt_minus[in]=100;
003d8e  2800              CMP      r0,#0
003d90  da01              BGE      |L1.15766|
003d92  f822b015          STRH     r11,[r2,r5,LSL #1]
                  |L1.15766|
;;;6512   
;;;6513   if(cntrl_stat_blok_cnt_plus[in] && cntrl_stat_blok_cnt_minus[in])
;;;6514        {
;;;6515        if(!cntrl_stat_blok_cnt_)
003d96  48a9              LDR      r0,|L1.16444|
003d98  f8313015          LDRH     r3,[r1,r5,LSL #1]     ;6513
003d9c  3894              SUBS     r0,r0,#0x94
003d9e  2700              MOVS     r7,#0
003da0  b14b              CBZ      r3,|L1.15798|
003da2  f8323015          LDRH     r3,[r2,r5,LSL #1]     ;6513
003da6  b133              CBZ      r3,|L1.15798|
003da8  f8b0306a          LDRH     r3,[r0,#0x6a]  ; cntrl_stat_blok_cnt_
003dac  b1a3              CBZ      r3,|L1.15832|
;;;6516             {
;;;6517             cntrl_stat_blok_cnt_=600; 
;;;6518             cntrl_stat_blok_cnt_plus[in]=0;
;;;6519             cntrl_stat_blok_cnt_minus[in]=0;
;;;6520             }
;;;6521        else cntrl_stat_blok_cnt=3000;
003dae  f64031b8          MOV      r1,#0xbb8
003db2  f8a01068          STRH     r1,[r0,#0x68]
                  |L1.15798|
;;;6522        }
;;;6523   cntrl_stat_blok_cnt=0;
003db6  f8a07068          STRH     r7,[r0,#0x68]
;;;6524   
;;;6525   if(++(bat[in]._time_cnt)>=10)
003dba  f894003e          LDRB     r0,[r4,#0x3e]
003dbe  1c40              ADDS     r0,r0,#1
003dc0  b2c0              UXTB     r0,r0
003dc2  f884003e          STRB     r0,[r4,#0x3e]
003dc6  280a              CMP      r0,#0xa
003dc8  d301              BCC      |L1.15822|
;;;6526   	{
;;;6527   	bat[in]._time_cnt=0;
003dca  f884703e          STRB     r7,[r4,#0x3e]
                  |L1.15822|
;;;6528   	//bat[in]._zar_cnt++;
;;;6529   	}
;;;6530   
;;;6531   if(main_10Hz_cnt==50)
003dce  4e9d              LDR      r6,|L1.16452|
003dd0  8830              LDRH     r0,[r6,#0]  ; main_10Hz_cnt
003dd2  2832              CMP      r0,#0x32
003dd4  d009              BEQ      |L1.15850|
003dd6  e017              B        |L1.15880|
                  |L1.15832|
003dd8  f44f7316          MOV      r3,#0x258             ;6517
003ddc  f8a0306a          STRH     r3,[r0,#0x6a]         ;6517
003de0  f8217015          STRH     r7,[r1,r5,LSL #1]     ;6518
003de4  f8227015          STRH     r7,[r2,r5,LSL #1]     ;6519
003de8  e7e5              B        |L1.15798|
                  |L1.15850|
;;;6532   	{
;;;6533   	if(!bat[in]._rel_stat)
003dea  f894003c          LDRB     r0,[r4,#0x3c]
003dee  b958              CBNZ     r0,|L1.15880|
;;;6534   		{
;;;6535   		
;;;6536   		if(bat[in]._Ub<80) 
003df0  f9b40002          LDRSH    r0,[r4,#2]
003df4  2850              CMP      r0,#0x50
003df6  da07              BGE      |L1.15880|
;;;6537   			{
;;;6538   			
;;;6539   			if(!(bat[in]._av&1))
003df8  f894003d          LDRB     r0,[r4,#0x3d]
003dfc  07c0              LSLS     r0,r0,#31
003dfe  d103              BNE      |L1.15880|
;;;6540   				{
;;;6541   				avar_bat_hndl(in,1);
003e00  2101              MOVS     r1,#1
003e02  4628              MOV      r0,r5
003e04  f7fffffe          BL       avar_bat_hndl
                  |L1.15880|
;;;6542   				//if(in==0)plazma_bat++;
;;;6543   				}
;;;6544   			}				
;;;6545   
;;;6546   		}
;;;6547   	}
;;;6548   
;;;6549   if(main_10Hz_cnt>200)
003e08  f9b60000          LDRSH    r0,[r6,#0]  ; main_10Hz_cnt
;;;6550   	{
;;;6551   	if(abs(bat[in]._Ib)>IKB) 
003e0c  4e8e              LDR      r6,|L1.16456|
003e0e  28c8              CMP      r0,#0xc8              ;6549
003e10  dd0f              BLE      |L1.15922|
003e12  f9b40008          LDRSH    r0,[r4,#8]
003e16  f7fffffe          BL       abs
003e1a  f9b61000          LDRSH    r1,[r6,#0]  ; IKB
003e1e  4288              CMP      r0,r1
003e20  dd07              BLE      |L1.15922|
;;;6552   		{
;;;6553   		if((bat[in]._av&1))avar_bat_hndl(in,0);
003e22  f894003d          LDRB     r0,[r4,#0x3d]
003e26  07c0              LSLS     r0,r0,#31
003e28  d003              BEQ      |L1.15922|
003e2a  2100              MOVS     r1,#0
003e2c  4628              MOV      r0,r5
003e2e  f7fffffe          BL       avar_bat_hndl
                  |L1.15922|
;;;6554   		}
;;;6555   	}
;;;6556   
;;;6557   #ifdef APSENERGIA
;;;6558   //if(bat[in]._Ib>(-IKB))
;;;6559   
;;;6560   
;;;6561   #endif
;;;6562   
;;;6563   if(bat[in]._Ib>(-IKB))
003e32  4885              LDR      r0,|L1.16456|
003e34  f9b41008          LDRSH    r1,[r4,#8]
003e38  f9b00000          LDRSH    r0,[r0,#0]  ; IKB
003e3c  4240              RSBS     r0,r0,#0
003e3e  4281              CMP      r1,r0
003e40  dd14              BLE      |L1.15980|
;;;6564   	{
;;;6565   	if(bat[in]._cnt_wrk<10)
003e42  7b60              LDRB     r0,[r4,#0xd]
003e44  280a              CMP      r0,#0xa
003e46  d20d              BCS      |L1.15972|
;;;6566   		{
;;;6567   		bat[in]._cnt_wrk++;
003e48  f1000001          ADD      r0,r0,#1
003e4c  b2c0              UXTB     r0,r0
003e4e  7360              STRB     r0,[r4,#0xd]
;;;6568   		if((bat[in]._cnt_wrk>=10)&&(bat[in]._wrk)) 
003e50  280a              CMP      r0,#0xa
003e52  d306              BCC      |L1.15970|
003e54  7ba0              LDRB     r0,[r4,#0xe]
003e56  2800              CMP      r0,#0
003e58  d003              BEQ      |L1.15970|
;;;6569   			{
;;;6570   			bat[in]._wrk=0;
003e5a  73a7              STRB     r7,[r4,#0xe]
;;;6571   			//beep_init(0x7L,'O');
;;;6572   			//wrk_mem_hndl(0);
;;;6573   			wrk_mem_hndl(in);
003e5c  4628              MOV      r0,r5
003e5e  f7fffffe          BL       wrk_mem_hndl
                  |L1.15970|
003e62  e110              B        |L1.16518|
                  |L1.15972|
;;;6574   			//plazma++;
;;;6575   			}
;;;6576   		}
;;;6577   	else bat[in]._cnt_wrk=10;	
003e64  f04f000a          MOV      r0,#0xa
003e68  7360              STRB     r0,[r4,#0xd]
003e6a  e10c              B        |L1.16518|
                  |L1.15980|
;;;6578   	}	
;;;6579   
;;;6580   else if(bat[in]._Ib<(-IKB))
003e6c  da40              BGE      |L1.16112|
;;;6581   	{
;;;6582   	if(bat[in]._cnt_wrk)
003e6e  7b60              LDRB     r0,[r4,#0xd]
003e70  b3f0              CBZ      r0,|L1.16112|
;;;6583   		{
;;;6584   		bat[in]._cnt_wrk--;
003e72  f1a00001          SUB      r0,r0,#1
003e76  b2c0              UXTB     r0,r0
003e78  7360              STRB     r0,[r4,#0xd]
;;;6585   		if((bat[in]._cnt_wrk==0)&&(bat[in]._wrk==0)) 
003e7a  bbc8              CBNZ     r0,|L1.16112|
003e7c  7ba0              LDRB     r0,[r4,#0xe]
003e7e  bbb8              CBNZ     r0,|L1.16112|
;;;6586   			{
;;;6587   			bat[in]._wrk=1;
003e80  f04f0001          MOV      r0,#1
003e84  73a0              STRB     r0,[r4,#0xe]
;;;6588   
;;;6589   				{
;;;6590   				char temp;
;;;6591   				signed short temp_temp;
;;;6592   				temp_temp=bat[in]._u_old[((bat_u_old_cnt+1)&0x07)];
003e86  4871              LDR      r0,|L1.16460|
003e88  8800              LDRH     r0,[r0,#0]  ; bat_u_old_cnt
003e8a  f1000001          ADD      r0,r0,#1
003e8e  f0000007          AND      r0,r0,#7
003e92  eb040040          ADD      r0,r4,r0,LSL #1
003e96  8c00              LDRH     r0,[r0,#0x20]
003e98  9000              STR      r0,[sp,#0]
;;;6593   			 
;;;6594   				temp=LPC_RTC->YEAR;
003e9a  4e6d              LDR      r6,|L1.16464|
003e9c  8bb0              LDRH     r0,[r6,#0x1c]
003e9e  9001              STR      r0,[sp,#4]
;;;6595   				gran_char((signed char*)&temp,1,99);
003ea0  f04f0263          MOV      r2,#0x63
003ea4  f04f0101          MOV      r1,#1
003ea8  a801              ADD      r0,sp,#4
003eaa  f7fffffe          BL       gran_char
;;;6596   				*((char*)(&(bat[in]._wrk_date[0])))=temp;
003eae  f104041c          ADD      r4,r4,#0x1c
003eb2  f89d0004          LDRB     r0,[sp,#4]
003eb6  7620              STRB     r0,[r4,#0x18]
;;;6597   			
;;;6598   				temp=LPC_RTC->MONTH;
003eb8  7e30              LDRB     r0,[r6,#0x18]
003eba  9001              STR      r0,[sp,#4]
;;;6599   				gran_char((signed char*)&temp,1,12);
003ebc  f04f020c          MOV      r2,#0xc
003ec0  f04f0101          MOV      r1,#1
003ec4  a801              ADD      r0,sp,#4
003ec6  f7fffffe          BL       gran_char
;;;6600   				*(((char*)(&(bat[in]._wrk_date[0])))+1)=temp;
003eca  f89d0004          LDRB     r0,[sp,#4]
003ece  7660              STRB     r0,[r4,#0x19]
;;;6601   			
;;;6602   				temp=LPC_RTC->DOM;
003ed0  7b30              LDRB     r0,[r6,#0xc]
003ed2  9001              STR      r0,[sp,#4]
;;;6603   				gran_char((signed char*)&temp,1,31);
003ed4  221f              MOVS     r2,#0x1f
003ed6  2101              MOVS     r1,#1
003ed8  a801              ADD      r0,sp,#4
003eda  f7fffffe          BL       gran_char
;;;6604   				*(((char*)(&(bat[in]._wrk_date[0])))+2)=temp;			
003ede  f89d0004          LDRB     r0,[sp,#4]
003ee2  76a0              STRB     r0,[r4,#0x1a]
;;;6605   				
;;;6606   				*(((char*)(&(bat[in]._wrk_date[0])))+3)=*((char*)&temp_temp);
003ee4  f89d0000          LDRB     r0,[sp,#0]
003ee8  76e0              STRB     r0,[r4,#0x1b]
;;;6607   
;;;6608   				temp=LPC_RTC->HOUR;
003eea  7a30              LDRB     r0,[r6,#8]
003eec  9001              STR      r0,[sp,#4]
;;;6609   				gran_char((signed char*)&temp,0,23);
003eee  e000              B        |L1.16114|
                  |L1.16112|
003ef0  e0c9              B        |L1.16518|
                  |L1.16114|
003ef2  2217              MOVS     r2,#0x17
003ef4  2100              MOVS     r1,#0
003ef6  a801              ADD      r0,sp,#4
003ef8  f7fffffe          BL       gran_char
;;;6610   				*((char*)(&(bat[in]._wrk_date[1])))=temp;
003efc  f89d0004          LDRB     r0,[sp,#4]
003f00  7720              STRB     r0,[r4,#0x1c]
;;;6611                  	
;;;6612   				temp=LPC_RTC->MIN;
003f02  7930              LDRB     r0,[r6,#4]
003f04  9001              STR      r0,[sp,#4]
;;;6613   				gran_char((signed char*)&temp,0,59);
003f06  e0a5              B        |L1.16468|
                  |L1.16136|
003f08  4176746f          DCB      "Avtomat #4 is OFF",0
003f0c  6d617420
003f10  23342069
003f14  73204f46
003f18  4600    
003f1a  00                DCB      0
003f1b  00                DCB      0
                  |L1.16156|
003f1c  4176746f          DCB      "Avtomat #5 is OFF",0
003f20  6d617420
003f24  23352069
003f28  73204f46
003f2c  4600    
003f2e  00                DCB      0
003f2f  00                DCB      0
                  |L1.16176|
003f30  4176746f          DCB      "Avtomat #6 is OFF",0
003f34  6d617420
003f38  23362069
003f3c  73204f46
003f40  4600    
003f42  00                DCB      0
003f43  00                DCB      0
                  |L1.16196|
003f44  4176746f          DCB      "Avtomat #7 is OFF",0
003f48  6d617420
003f4c  23372069
003f50  73204f46
003f54  4600    
003f56  00                DCB      0
003f57  00                DCB      0
                  |L1.16216|
003f58  4176746f          DCB      "Avtomat #8 is OFF",0
003f5c  6d617420
003f60  23382069
003f64  73204f46
003f68  4600    
003f6a  00                DCB      0
003f6b  00                DCB      0
                  |L1.16236|
003f6c  4176746f          DCB      "Avtomat #9 is OFF",0
003f70  6d617420
003f74  23392069
003f78  73204f46
003f7c  4600    
003f7e  00                DCB      0
003f7f  00                DCB      0
                  |L1.16256|
003f80  4176746f          DCB      "Avtomat #1 is ON ",0
003f84  6d617420
003f88  23312069
003f8c  73204f4e
003f90  2000    
003f92  00                DCB      0
003f93  00                DCB      0
                  |L1.16276|
003f94  4176746f          DCB      "Avtomat #2 is ON ",0
003f98  6d617420
003f9c  23322069
003fa0  73204f4e
003fa4  2000    
003fa6  00                DCB      0
003fa7  00                DCB      0
                  |L1.16296|
003fa8  4176746f          DCB      "Avtomat #3 is ON ",0
003fac  6d617420
003fb0  23332069
003fb4  73204f4e
003fb8  2000    
003fba  00                DCB      0
003fbb  00                DCB      0
                  |L1.16316|
003fbc  4176746f          DCB      "Avtomat #4 is ON ",0
003fc0  6d617420
003fc4  23342069
003fc8  73204f4e
003fcc  2000    
003fce  00                DCB      0
003fcf  00                DCB      0
                  |L1.16336|
003fd0  4176746f          DCB      "Avtomat #5 is ON ",0
003fd4  6d617420
003fd8  23352069
003fdc  73204f4e
003fe0  2000    
003fe2  00                DCB      0
003fe3  00                DCB      0
                  |L1.16356|
003fe4  4176746f          DCB      "Avtomat #6 is ON ",0
003fe8  6d617420
003fec  23362069
003ff0  73204f4e
003ff4  2000    
003ff6  00                DCB      0
003ff7  00                DCB      0
                  |L1.16376|
003ff8  4176746f          DCB      "Avtomat #7 is ON ",0
003ffc  6d617420
004000  23372069
004004  73204f4e
004008  2000    
00400a  00                DCB      0
00400b  00                DCB      0
                  |L1.16396|
00400c  4176746f          DCB      "Avtomat #8 is ON ",0
004010  6d617420
004014  23382069
004018  73204f4e
00401c  2000    
00401e  00                DCB      0
00401f  00                DCB      0
                  |L1.16416|
004020  4176746f          DCB      "Avtomat #9 is ON ",0
004024  6d617420
004028  23392069
00402c  73204f4e
004030  2000    
004032  00                DCB      0
004033  00                DCB      0
                  |L1.16436|
                          DCD      bat
                  |L1.16440|
                          DCD      mess_data
                  |L1.16444|
                          DCD      ||area_number.23||+0x94
                  |L1.16448|
                          DCD      IZMAX
                  |L1.16452|
                          DCD      main_10Hz_cnt
                  |L1.16456|
                          DCD      IKB
                  |L1.16460|
                          DCD      bat_u_old_cnt
                  |L1.16464|
                          DCD      0x40024020
                  |L1.16468|
004054  223b              MOVS     r2,#0x3b
004056  2100              MOVS     r1,#0
004058  a801              ADD      r0,sp,#4
00405a  f7fffffe          BL       gran_char
;;;6614   				*(((char*)(&(bat[in]._wrk_date[1])))+1)=temp;
00405e  f89d0004          LDRB     r0,[sp,#4]
004062  7760              STRB     r0,[r4,#0x1d]
;;;6615   	          
;;;6616   				temp=LPC_RTC->SEC;
004064  7830              LDRB     r0,[r6,#0]
004066  9001              STR      r0,[sp,#4]
;;;6617   				gran_char((signed char*)&temp,0,59);
004068  223b              MOVS     r2,#0x3b
00406a  2100              MOVS     r1,#0
00406c  a801              ADD      r0,sp,#4
00406e  f7fffffe          BL       gran_char
;;;6618   				*(((char*)(&(bat[in]._wrk_date[1])))+2)=temp;
004072  f89d0004          LDRB     r0,[sp,#4]
004076  77a0              STRB     r0,[r4,#0x1e]
;;;6619   			
;;;6620   				*(((char*)(&(bat[in]._wrk_date[1])))+3)=*(((char*)&temp_temp)+1);
004078  f89d0001          LDRB     r0,[sp,#1]
00407c  77e0              STRB     r0,[r4,#0x1f]
;;;6621   				bat[in]._Iintegr=0;		//—˜ÂÚ˜ËÍ ‰ÂÒˇÚÍÓ‚ ÏËÎË‡ÏÔÂÒÂÍÛÌ‰
00407e  8027              STRH     r7,[r4,#0]
;;;6622   				bat[in]._Iintegr_=0;	//—˜ÂÚ˜ËÍ ÒÓÚÂÌ ÏËÎË‡ÏÔÂ˜‡ÒÓ‚
004080  8067              STRH     r7,[r4,#2]
004082  f1a4041c          SUB      r4,r4,#0x1c
                  |L1.16518|
;;;6623   				}
;;;6624   	
;;;6625   			}
;;;6626   
;;;6627   		}
;;;6628   	else bat[in]._cnt_wrk=0;	 
;;;6629   	
;;;6630   	}					
;;;6631   
;;;6632   /*
;;;6633   if(Ibat>=(-IKB))
;;;6634   	{
;;;6635   	if(cnt_wrk<10)
;;;6636   		{
;;;6637   		cnt_wrk++;
;;;6638   		if((cnt_wrk>=10)&&(wrk!=wrkOFF)) 
;;;6639   			{
;;;6640   			wrk=wrkOFF;
;;;6641   			//beep_init(0x7L,'O');
;;;6642   			wrk_mem_hndl(ibat_integr);
;;;6643   			}
;;;6644   		}
;;;6645   	else cnt_wrk=10;	
;;;6646   	}	
;;;6647   
;;;6648   else if((Ibat<(-IKB))&&(spc_stat!=spc_KE))
;;;6649   	{
;;;6650   	if(cnt_wrk)
;;;6651   		{
;;;6652   		cnt_wrk--;
;;;6653   		if((cnt_wrk==0)&&(wrk!=wrkON)) 
;;;6654   			{
;;;6655   			char temp;
;;;6656   			signed short temp_temp;
;;;6657   			temp_temp=ubat_old[((ubat_old_cnt+1)&0x07)];
;;;6658   			 
;;;6659   			wrk=wrkON;
;;;6660   			
;;;6661   			temp=_year;
;;;6662   			gran_char(&temp,1,99);
;;;6663   			*((char*)(&(wrk_date[0])))=temp;
;;;6664   			
;;;6665   			temp=_month;
;;;6666   			gran_char(&temp,1,12);
;;;6667   			*(((char*)(&(wrk_date[0])))+1)=temp;
;;;6668   			
;;;6669   			temp=_date;
;;;6670   			gran_char(&temp,1,31);
;;;6671   			*(((char*)(&(wrk_date[0])))+2)=temp;			
;;;6672   				
;;;6673   			*(((char*)(&(wrk_date[0])))+3)=*((char*)&temp_temp);
;;;6674   
;;;6675   			temp=_hour;
;;;6676   			gran_char(&temp,0,23);
;;;6677   			*((char*)(&(wrk_date[1])))=temp;
;;;6678                  
;;;6679   			temp=_min;
;;;6680   			gran_char(&temp,0,59);
;;;6681   			*(((char*)(&(wrk_date[1])))+1)=temp;
;;;6682   	          
;;;6683   			temp=_sec;
;;;6684   			gran_char(&temp,0,59);
;;;6685   			*(((char*)(&(wrk_date[1])))+2)=temp;
;;;6686   			
;;;6687   			*(((char*)(&(wrk_date[1])))+3)=*(((char*)&temp_temp)+1);
;;;6688   
;;;6689   			
;;;6690   			//beep_init(0xFL,'O'); 
;;;6691   			ibat_integr=0;
;;;6692   			ibat_integr_=0;
;;;6693   			}
;;;6694   		}
;;;6695   	else cnt_wrk=0;	 
;;;6696   	
;;;6697   	}
;;;6698   if(wrk==wrkON)
;;;6699   	{
;;;6700   	ibat_integr_+=-Ibat;
;;;6701   	if(ibat_integr_>=SEC_IN_HOUR*10L)
;;;6702   		{
;;;6703   		ibat_integr_-=SEC_IN_HOUR*10L;
;;;6704   		ibat_integr++;
;;;6705   		}
;;;6706   	}
;;;6707   
;;;6708   */
;;;6709   
;;;6710   
;;;6711   /*if(bat[in]._cnt_to_block)
;;;6712   	{
;;;6713   	bat[in]._cnt_to_block--;
;;;6714   	if(!(bat[in]._cnt_to_block))
;;;6715   		{
;;;6716   		//bat[in]._rel_stat=1;
;;;6717   		}
;;;6718   	}
;;;6719   */
;;;6720   
;;;6721   
;;;6722   
;;;6723   
;;;6724   //unsigned int tempUI,tempUI_;
;;;6725   //unsigned int b_zar; 
;;;6726   //char i;
;;;6727   //Ibat[0]=5000;                     
;;;6728   
;;;6729   
;;;6730                               
;;;6731   if(bat[in]._time_cnt==0)
;;;6732   	{
;;;6733   	bat[in]._zar_cnt+=(signed long)bat[in]._Ib;
;;;6734   	
;;;6735   	if(bat[in]._zar_cnt>=AH_CONSTANT)
004086  f64848a0          MOV      r8,#0x8ca0
00408a  f894003e          LDRB     r0,[r4,#0x3e]         ;6731
00408e  2800              CMP      r0,#0                 ;6731
004090  d17e              BNE      |L1.16784|
004092  f9b41008          LDRSH    r1,[r4,#8]            ;6733
004096  6960              LDR      r0,[r4,#0x14]         ;6733
004098  4408              ADD      r0,r0,r1              ;6733
00409a  6160              STR      r0,[r4,#0x14]         ;6733
;;;6736   		{
;;;6737   		if(BAT_C_REAL[in]==0x5555) tempUS_=BAT_C_NOM[in];
;;;6738   		else tempUS_=BAT_C_REAL[in];
;;;6739   		
;;;6740   		b_zar=lc640_read_int(ADR_EE_BAT_ZAR_CNT[in]);
00409c  f8df940c          LDR      r9,|L1.17580|
0040a0  f8dfa40c          LDR      r10,|L1.17584|
0040a4  4540              CMP      r0,r8                 ;6735
0040a6  db2a              BLT      |L1.16638|
0040a8  f93a1015          LDRSH    r1,[r10,r5,LSL #1]    ;6737
0040ac  f5a140aa          SUB      r0,r1,#0x5500         ;6737
0040b0  3855              SUBS     r0,r0,#0x55           ;6737
0040b2  d103              BNE      |L1.16572|
0040b4  48ff              LDR      r0,|L1.17588|
0040b6  f8306015          LDRH     r6,[r0,r5,LSL #1]     ;6737
0040ba  e001              B        |L1.16576|
                  |L1.16572|
0040bc  f83a6015          LDRH     r6,[r10,r5,LSL #1]    ;6738
                  |L1.16576|
0040c0  f8390015          LDRH     r0,[r9,r5,LSL #1]
0040c4  f7fffffe          BL       lc640_read_int
0040c8  b280              UXTH     r0,r0
;;;6741   
;;;6742   		if(b_zar<(tempUS_/**10*/))
0040ca  42b0              CMP      r0,r6
0040cc  d20e              BCS      |L1.16620|
;;;6743   			{
;;;6744   			bat[in]._zar_cnt-=AH_CONSTANT;
0040ce  6961              LDR      r1,[r4,#0x14]
0040d0  f5a14100          SUB      r1,r1,#0x8000
0040d4  f5a1614a          SUB      r1,r1,#0xca0
0040d8  6161              STR      r1,[r4,#0x14]
;;;6745   
;;;6746   			lc640_write_int(ADR_EE_BAT_ZAR_CNT[in],b_zar+1);
0040da  f9392015          LDRSH    r2,[r9,r5,LSL #1]
0040de  f1000001          ADD      r0,r0,#1
0040e2  b201              SXTH     r1,r0
0040e4  4610              MOV      r0,r2
0040e6  f7fffffe          BL       lc640_write_int
0040ea  e033              B        |L1.16724|
                  |L1.16620|
;;;6747   			}
;;;6748   		else if(b_zar>(tempUS_/**10*/))  
0040ec  d932              BLS      |L1.16724|
;;;6749   			{
;;;6750   			lc640_write_int(ADR_EE_BAT_ZAR_CNT[in],tempUS_);
0040ee  f9390015          LDRSH    r0,[r9,r5,LSL #1]
0040f2  b231              SXTH     r1,r6
0040f4  f7fffffe          BL       lc640_write_int
;;;6751   			bat[in]._zar_cnt=AH_CONSTANT;
0040f8  f8c48014          STR      r8,[r4,#0x14]
0040fc  e02a              B        |L1.16724|
                  |L1.16638|
;;;6752   
;;;6753   			}
;;;6754   
;;;6755   		}
;;;6756   
;;;6757   	else if(bat[in]._zar_cnt<=-AH_CONSTANT)
0040fe  49ee              LDR      r1,|L1.17592|
004100  4288              CMP      r0,r1
004102  dc27              BGT      |L1.16724|
;;;6758   		{
;;;6759   		if(BAT_C_REAL[in]==0x5555) tempUS_=BAT_C_NOM[in];
004104  f93a1015          LDRSH    r1,[r10,r5,LSL #1]
004108  f5a140aa          SUB      r0,r1,#0x5500
00410c  3855              SUBS     r0,r0,#0x55
00410e  d103              BNE      |L1.16664|
004110  48e8              LDR      r0,|L1.17588|
004112  f8306015          LDRH     r6,[r0,r5,LSL #1]
004116  e001              B        |L1.16668|
                  |L1.16664|
;;;6760   		else tempUS_=BAT_C_REAL[in];
004118  f83a6015          LDRH     r6,[r10,r5,LSL #1]
                  |L1.16668|
;;;6761   		
;;;6762   		b_zar=lc640_read_int(ADR_EE_BAT_ZAR_CNT[in]);
00411c  f8390015          LDRH     r0,[r9,r5,LSL #1]
004120  f7fffffe          BL       lc640_read_int
004124  b280              UXTH     r0,r0
;;;6763   
;;;6764   		if(b_zar>tempUS_)
004126  42b0              CMP      r0,r6
004128  d905              BLS      |L1.16694|
;;;6765   			{
;;;6766   			lc640_write_int(ADR_EE_BAT_ZAR_CNT[in],tempUS_);
00412a  f9390015          LDRSH    r0,[r9,r5,LSL #1]
00412e  b231              SXTH     r1,r6
004130  f7fffffe          BL       lc640_write_int
;;;6767   			b_zar=tempUS_;
004134  4630              MOV      r0,r6
                  |L1.16694|
;;;6768   			}
;;;6769   		if(b_zar)
004136  b158              CBZ      r0,|L1.16720|
;;;6770   			{
;;;6771   			bat[in]._zar_cnt+=AH_CONSTANT;
004138  6961              LDR      r1,[r4,#0x14]
00413a  4441              ADD      r1,r1,r8
00413c  6161              STR      r1,[r4,#0x14]
;;;6772   
;;;6773   			lc640_write_int(ADR_EE_BAT_ZAR_CNT[in],b_zar-1);
00413e  f9392015          LDRSH    r2,[r9,r5,LSL #1]
004142  f1a00001          SUB      r0,r0,#1
004146  b201              SXTH     r1,r0
004148  4610              MOV      r0,r2
00414a  f7fffffe          BL       lc640_write_int
00414e  e001              B        |L1.16724|
                  |L1.16720|
;;;6774   			}
;;;6775   		else 
;;;6776   			{
;;;6777   			bat[in]._zar_cnt=-AH_CONSTANT;
004150  48d9              LDR      r0,|L1.17592|
004152  6160              STR      r0,[r4,#0x14]
                  |L1.16724|
;;;6778   			}
;;;6779   
;;;6780   		}
;;;6781   
;;;6782   			
;;;6783   	tempUL=(unsigned long)lc640_read_int(ADR_EE_BAT_ZAR_CNT[in]);
004154  f8390015          LDRH     r0,[r9,r5,LSL #1]
004158  f7fffffe          BL       lc640_read_int
00415c  4601              MOV      r1,r0
;;;6784   	
;;;6785   	if(BAT_C_REAL[in]==0x5555) tempUL_=(unsigned long)BAT_C_NOM[in];
00415e  f93a0015          LDRSH    r0,[r10,r5,LSL #1]
004162  f5a042aa          SUB      r2,r0,#0x5500
004166  3a55              SUBS     r2,r2,#0x55
004168  d102              BNE      |L1.16752|
00416a  48d2              LDR      r0,|L1.17588|
00416c  f9300015          LDRSH    r0,[r0,r5,LSL #1]
                  |L1.16752|
;;;6786   	else tempUL_=(unsigned long)BAT_C_REAL[in];
;;;6787   		           	
;;;6788   	tempUL*=1000L;
004170  f44f727a          MOV      r2,#0x3e8
004174  fb01f102          MUL      r1,r1,r2
;;;6789   
;;;6790   
;;;6791   	if(tempUL_==0) tempUL=0;
004178  b168              CBZ      r0,|L1.16790|
;;;6792   	else tempUL/=tempUL_;
00417a  fbb1f0f0          UDIV     r0,r1,r0
                  |L1.16766|
;;;6793   
;;;6794   	tempUL/=10L;
00417e  f04f010a          MOV      r1,#0xa
004182  fbb0f0f1          UDIV     r0,r0,r1
;;;6795   
;;;6796   	bat[in]._zar=(unsigned short)tempUL;
004186  8220              STRH     r0,[r4,#0x10]
;;;6797   
;;;6798   	if(BAT_TYPE==1)
004188  48cc              LDR      r0,|L1.17596|
00418a  8800              LDRH     r0,[r0,#0]  ; BAT_TYPE
00418c  2801              CMP      r0,#1
00418e  e000              B        |L1.16786|
                  |L1.16784|
004190  e010              B        |L1.16820|
                  |L1.16786|
004192  d003              BEQ      |L1.16796|
004194  e008              B        |L1.16808|
                  |L1.16790|
004196  f04f0000          MOV      r0,#0                 ;6791
00419a  e7f0              B        |L1.16766|
                  |L1.16796|
;;;6799   		{
;;;6800   		bat[in]._zar=lakb[in]._s_o_c;
00419c  49c8              LDR      r1,|L1.17600|
00419e  9802              LDR      r0,[sp,#8]
0041a0  eb010080          ADD      r0,r1,r0,LSL #2
0041a4  8a40              LDRH     r0,[r0,#0x12]
0041a6  8220              STRH     r0,[r4,#0x10]
                  |L1.16808|
;;;6801   		}
;;;6802   	
;;;6803   	gran((signed short*)&bat[in]._zar,0,100);
0041a8  f1040010          ADD      r0,r4,#0x10
0041ac  2264              MOVS     r2,#0x64
0041ae  2100              MOVS     r1,#0
0041b0  f7fffffe          BL       gran
                  |L1.16820|
;;;6804        }
;;;6805   
;;;6806   
;;;6807   //œÓ‰Ò˜ÂÚ ÚÓÍ‡ ‡Áˇ‰‡ ·‡Ú‡ÂË      
;;;6808   if(bat[in]._wrk==1)
0041b4  7ba0              LDRB     r0,[r4,#0xe]
0041b6  2801              CMP      r0,#1
0041b8  d113              BNE      |L1.16866|
;;;6809   	{
;;;6810   	if(bat[in]._Iintegr<36000)
0041ba  8ba0              LDRH     r0,[r4,#0x1c]
0041bc  4540              CMP      r0,r8
0041be  d20f              BCS      |L1.16864|
;;;6811   		{          
;;;6812   		bat[in]._Iintegr+=abs(bat[in]._Ib);
0041c0  f9b40008          LDRSH    r0,[r4,#8]
0041c4  f7fffffe          BL       abs
0041c8  8ba1              LDRH     r1,[r4,#0x1c]
0041ca  4408              ADD      r0,r0,r1
0041cc  b280              UXTH     r0,r0
0041ce  83a0              STRH     r0,[r4,#0x1c]
;;;6813   		if(bat[in]._Iintegr>=36000)
0041d0  4540              CMP      r0,r8
0041d2  d306              BCC      |L1.16866|
;;;6814   			{
;;;6815   			bat[in]._Iintegr=0;		//—˜ÂÚ˜ËÍ ‰ÂÒˇÚÍÓ‚ ÏËÎË‡ÏÔÂÒÂÍÛÌ‰
0041d4  83a7              STRH     r7,[r4,#0x1c]
;;;6816   			bat[in]._Iintegr_++;	//—˜ÂÚ˜ËÍ ÒÓÚÂÌ ÏËÎË‡ÏÔÂ˜‡ÒÓ‚
0041d6  8be0              LDRH     r0,[r4,#0x1e]
0041d8  f1000001          ADD      r0,r0,#1
0041dc  83e0              STRH     r0,[r4,#0x1e]
0041de  e000              B        |L1.16866|
                  |L1.16864|
;;;6817   			}
;;;6818   		}
;;;6819   	else 
;;;6820   		{
;;;6821   		bat[in]._Iintegr=0;
0041e0  83a7              STRH     r7,[r4,#0x1c]
                  |L1.16866|
;;;6822   		}	
;;;6823   	} 
;;;6824   	    
;;;6825   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;6826   if((t_ext[0]>TBATSIGN)&&(!ND_EXT[0]))	
0041e2  f8df92e0          LDR      r9,|L1.17604|
0041e6  49b8              LDR      r1,|L1.17608|
0041e8  f8dfa2e0          LDR      r10,|L1.17612|
0041ec  f9b90000          LDRSH    r0,[r9,#0]  ; t_ext
0041f0  f9b11000          LDRSH    r1,[r1,#0]  ; TBATSIGN
0041f4  4288              CMP      r0,r1
0041f6  dd02              BLE      |L1.16894|
0041f8  f89a0000          LDRB     r0,[r10,#0]  ; ND_EXT
0041fc  b3e8              CBZ      r0,|L1.17018|
                  |L1.16894|
;;;6827   	{
;;;6828   	bat[in]._sign_temper_cnt++;
;;;6829   	}
;;;6830   else 
;;;6831   	{
;;;6832   	bat[in]._sign_temper_cnt--;
0041fe  f8b40040          LDRH     r0,[r4,#0x40]
004202  f1a00001          SUB      r0,r0,#1
004206  f8a40040          STRH     r0,[r4,#0x40]
                  |L1.16906|
;;;6833   	}
;;;6834   #else
;;;6835   if((bat[in]._Tb>TBATSIGN)&&(!bat[in]._nd))	
;;;6836   	{
;;;6837   	bat[in]._sign_temper_cnt++;
;;;6838   	}
;;;6839   else 
;;;6840   	{
;;;6841   	bat[in]._sign_temper_cnt--;
;;;6842   	}
;;;6843   #endif
;;;6844   gran(&bat[in]._sign_temper_cnt,0,600);
00420a  f1040040          ADD      r0,r4,#0x40
00420e  f44f7216          MOV      r2,#0x258
004212  2100              MOVS     r1,#0
004214  f7fffffe          BL       gran
;;;6845   if(bat[in]._sign_temper_cnt>=590)	bat[in]._temper_stat|=(1<<0);
004218  f9b40040          LDRSH    r0,[r4,#0x40]
00421c  f240264e          MOV      r6,#0x24e
004220  42b0              CMP      r0,r6
004222  db05              BLT      |L1.16944|
004224  f894103f          LDRB     r1,[r4,#0x3f]
004228  f0410101          ORR      r1,r1,#1
00422c  f884103f          STRB     r1,[r4,#0x3f]
                  |L1.16944|
;;;6846   if(bat[in]._sign_temper_cnt<=10)	bat[in]._temper_stat&=~(1<<0);
004230  280a              CMP      r0,#0xa
004232  dc05              BGT      |L1.16960|
004234  f894003f          LDRB     r0,[r4,#0x3f]
004238  f0200001          BIC      r0,r0,#1
00423c  f884003f          STRB     r0,[r4,#0x3f]
                  |L1.16960|
;;;6847   
;;;6848   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;6849   if((t_ext[0]>TBATMAX)&&(!ND_EXT[0]))	
004240  49a3              LDR      r1,|L1.17616|
004242  f9b90000          LDRSH    r0,[r9,#0]  ; t_ext
004246  f9b11000          LDRSH    r1,[r1,#0]  ; TBATMAX
00424a  4288              CMP      r0,r1
00424c  dd02              BLE      |L1.16980|
00424e  f89a0000          LDRB     r0,[r10,#0]  ; ND_EXT
004252  b3b0              CBZ      r0,|L1.17090|
                  |L1.16980|
;;;6850   	{
;;;6851   	bat[in]._max_temper_cnt++;
;;;6852   	}
;;;6853   else 
;;;6854   	{
;;;6855   	bat[in]._max_temper_cnt--;
004254  f8b40042          LDRH     r0,[r4,#0x42]
004258  f1a00001          SUB      r0,r0,#1
00425c  f8a40042          STRH     r0,[r4,#0x42]
                  |L1.16992|
;;;6856   	}
;;;6857   #else
;;;6858   if((bat[in]._Tb>TBATMAX)&&(!bat[in]._nd))	
;;;6859   	{
;;;6860   	bat[in]._max_temper_cnt++;
;;;6861   	}
;;;6862   else 
;;;6863   	{
;;;6864   	bat[in]._max_temper_cnt--;
;;;6865   	}
;;;6866   #endif
;;;6867   
;;;6868   gran(&bat[in]._max_temper_cnt,0,600);
004260  f44f7916          MOV      r9,#0x258
004264  f1040042          ADD      r0,r4,#0x42
004268  464a              MOV      r2,r9
00426a  2100              MOVS     r1,#0
00426c  f7fffffe          BL       gran
;;;6869   if(bat[in]._max_temper_cnt>=590)	bat[in]._temper_stat|=(1<<1);
004270  f9b40042          LDRSH    r0,[r4,#0x42]
004274  42b0              CMP      r0,r6
004276  db07              BLT      |L1.17032|
004278  e000              B        |L1.17020|
                  |L1.17018|
00427a  e023              B        |L1.17092|
                  |L1.17020|
00427c  f894103f          LDRB     r1,[r4,#0x3f]
004280  f0410102          ORR      r1,r1,#2
004284  f884103f          STRB     r1,[r4,#0x3f]
                  |L1.17032|
;;;6870   if(bat[in]._max_temper_cnt<=10)	bat[in]._temper_stat&=~(1<<1);
004288  280a              CMP      r0,#0xa
00428a  dc05              BGT      |L1.17048|
00428c  f894003f          LDRB     r0,[r4,#0x3f]
004290  f0200002          BIC      r0,r0,#2
004294  f884003f          STRB     r0,[r4,#0x3f]
                  |L1.17048|
;;;6871   
;;;6872   
;;;6873   
;;;6874   //œÓ‰Ò˜ÂÚ Ì‡‡·ÓÚÍË ·‡Ú‡ÂË
;;;6875   if(bat[in]._resurs_cnt<36000)
004298  6c60              LDR      r0,[r4,#0x44]
00429a  4540              CMP      r0,r8
00429c  da20              BGE      |L1.17120|
;;;6876   	{               
;;;6877   	bat[in]._resurs_cnt++;
00429e  f1000001          ADD      r0,r0,#1
0042a2  6460              STR      r0,[r4,#0x44]
;;;6878   	if(bat[in]._resurs_cnt>=36000)
0042a4  4540              CMP      r0,r8
0042a6  db1c              BLT      |L1.17122|
;;;6879   		{
;;;6880   		bat[in]._resurs_cnt=0;
0042a8  6467              STR      r7,[r4,#0x44]
;;;6881   		lc640_write_int(ADR_EE_BAT_RESURS[in],lc640_read_int(ADR_EE_BAT_RESURS[in])+1);
0042aa  4e8a              LDR      r6,|L1.17620|
0042ac  f8360015          LDRH     r0,[r6,r5,LSL #1]
0042b0  f7fffffe          BL       lc640_read_int
0042b4  1c40              ADDS     r0,r0,#1
0042b6  b201              SXTH     r1,r0
0042b8  f9360015          LDRSH    r0,[r6,r5,LSL #1]
0042bc  f7fffffe          BL       lc640_write_int
0042c0  e00f              B        |L1.17122|
                  |L1.17090|
0042c2  e006              B        |L1.17106|
                  |L1.17092|
0042c4  f8b40040          LDRH     r0,[r4,#0x40]         ;6828
0042c8  f1000001          ADD      r0,r0,#1              ;6828
0042cc  f8a40040          STRH     r0,[r4,#0x40]         ;6828
0042d0  e79b              B        |L1.16906|
                  |L1.17106|
0042d2  f8b40042          LDRH     r0,[r4,#0x42]         ;6851
0042d6  f1000001          ADD      r0,r0,#1              ;6851
0042da  f8a40042          STRH     r0,[r4,#0x42]         ;6851
0042de  e7bf              B        |L1.16992|
                  |L1.17120|
;;;6882   		}
;;;6883   	}
;;;6884   else bat[in]._resurs_cnt=0;
0042e0  6467              STR      r7,[r4,#0x44]
                  |L1.17122|
;;;6885   
;;;6886   
;;;6887   #ifndef UKU_220_V2
;;;6888   #ifndef UKU_GLONASS
;;;6889   #ifndef UKU_6U
;;;6890   //#ifndef UKU_220
;;;6891   if(UBM_AV)
0042e2  4e7d              LDR      r6,|L1.17624|
0042e4  8830              LDRH     r0,[r6,#0]  ; UBM_AV
0042e6  2800              CMP      r0,#0
0042e8  d05e              BEQ      |L1.17320|
;;;6892        {
;;;6893        signed short temp_SS;
;;;6894   #ifdef UKU_220
;;;6895   temp_SS=bat[in]._Ub/2;
;;;6896   #else
;;;6897        if(U0B<600)
0042ea  487c              LDR      r0,|L1.17628|
0042ec  f9b00000          LDRSH    r0,[r0,#0]  ; U0B
0042f0  4548              CMP      r0,r9
0042f2  da08              BGE      |L1.17158|
;;;6898             {
;;;6899             temp_SS=bat[in]._Ub/4;
0042f4  f9b40002          LDRSH    r0,[r4,#2]
0042f8  ea4f71e0          ASR      r1,r0,#31
0042fc  eb007091          ADD      r0,r0,r1,LSR #30
004300  ea4f00a0          ASR      r0,r0,#2
004304  e006              B        |L1.17172|
                  |L1.17158|
;;;6900             }
;;;6901        else temp_SS=bat[in]._Ub/5;
004306  f9b40002          LDRSH    r0,[r4,#2]
00430a  f04f0105          MOV      r1,#5
00430e  fb90f0f1          SDIV     r0,r0,r1
004312  b200              SXTH     r0,r0
                  |L1.17172|
;;;6902   	
;;;6903   	temp_SS+=temp_SS;     
004314  ea4f0040          LSL      r0,r0,#1
;;;6904   #endif
;;;6905        temp_SS-=(bat[in]._Ubm);
004318  88a1              LDRH     r1,[r4,#4]
00431a  eba00001          SUB      r0,r0,r1
00431e  b200              SXTH     r0,r0
;;;6906   
;;;6907        temp_SS=abs(temp_SS);
004320  f7fffffe          BL       abs
;;;6908   
;;;6909        temp_SS*=10;
004324  eb000080          ADD      r0,r0,r0,LSL #2
004328  ea4f0040          LSL      r0,r0,#1
00432c  b200              SXTH     r0,r0
;;;6910   
;;;6911        temp_SS/=12;
00432e  f04f010c          MOV      r1,#0xc
004332  fb90f0f1          SDIV     r0,r0,r1
004336  b200              SXTH     r0,r0
;;;6912   
;;;6913        bat[in]._dUbm=temp_SS;
004338  80e0              STRH     r0,[r4,#6]
;;;6914   
;;;6915   
;;;6916        if(	(bat[in]._dUbm>UBM_AV) &&
00433a  f9b61000          LDRSH    r1,[r6,#0]  ; UBM_AV
00433e  4288              CMP      r0,r1
004340  dd34              BLE      |L1.17324|
;;;6917   		(abs(bat[in]._Ib)<(5*IKB)) &&
004342  f9b40008          LDRSH    r0,[r4,#8]
004346  f7fffffe          BL       abs
00434a  4601              MOV      r1,r0
00434c  4864              LDR      r0,|L1.17632|
00434e  f9b00000          LDRSH    r0,[r0,#0]  ; IKB
004352  eb000080          ADD      r0,r0,r0,LSL #2
004356  4281              CMP      r1,r0
004358  da28              BGE      |L1.17324|
;;;6918   		(bat[in]._Ub>((short)(((long)USIGN*115)/100))) &&
00435a  4862              LDR      r0,|L1.17636|
00435c  2173              MOVS     r1,#0x73
00435e  f9b00000          LDRSH    r0,[r0,#0]  ; USIGN
004362  4348              MULS     r0,r1,r0
004364  fb90f0fb          SDIV     r0,r0,r11
004368  f9b41002          LDRSH    r1,[r4,#2]
00436c  b200              SXTH     r0,r0
00436e  4288              CMP      r0,r1
004370  da1c              BGE      |L1.17324|
;;;6919   		(!(bat[in]._av & 2))  )
004372  f894003d          LDRB     r0,[r4,#0x3d]
004376  0780              LSLS     r0,r0,#30
004378  d418              BMI      |L1.17324|
;;;6920   		{
;;;6921   		bat[in]._cnt_as++;
00437a  f8b40048          LDRH     r0,[r4,#0x48]
00437e  f1000001          ADD      r0,r0,#1
004382  b200              SXTH     r0,r0
004384  f8a40048          STRH     r0,[r4,#0x48]
;;;6922   		if(bat[in]._cnt_as==3000)
004388  f5a06130          SUB      r1,r0,#0xb00
00438c  39b8              SUBS     r1,r1,#0xb8
00438e  d103              BNE      |L1.17304|
;;;6923   			{
;;;6924   			avar_bat_as_hndl(in,1);
004390  2101              MOVS     r1,#1
004392  4628              MOV      r0,r5
004394  f7fffffe          BL       avar_bat_as_hndl
                  |L1.17304|
;;;6925   			}
;;;6926   		if(bat[in]._cnt_as>=3005) bat[in]._cnt_as=3005;
004398  f9b41048          LDRSH    r1,[r4,#0x48]
00439c  f64030bd          MOV      r0,#0xbbd
0043a0  4281              CMP      r1,r0
0043a2  db01              BLT      |L1.17320|
0043a4  f8a40048          STRH     r0,[r4,#0x48]
                  |L1.17320|
;;;6927   		}
;;;6928   	else 
;;;6929   		{
;;;6930   		bat[in]._cnt_as=0;
;;;6931   		}
;;;6932        
;;;6933        }
;;;6934   #endif 
;;;6935   #endif 
;;;6936   #endif
;;;6937   
;;;6938   }
0043a8  e8bd8ffe          POP      {r1-r11,pc}
                  |L1.17324|
0043ac  f8a47048          STRH     r7,[r4,#0x48]         ;6930
0043b0  e7fa              B        |L1.17320|
;;;6939   
                          ENDP

                  u_necc_hndl PROC
;;;6943   //-----------------------------------------------
;;;6944   void u_necc_hndl(void)
0043b2  b5f8              PUSH     {r3-r7,lr}
;;;6945   {
;;;6946   signed long temp_L;
;;;6947   signed long temp_SL;
;;;6948   //signed short temp_SS;
;;;6949   
;;;6950   //char i;
;;;6951   
;;;6952   //temp_SS=0;
;;;6953   signed short t[2];
;;;6954   
;;;6955   
;;;6956   
;;;6957   
;;;6958   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;6959   
;;;6960   if(!TERMOKOMPENS)
0043b4  484c              LDR      r0,|L1.17640|
;;;6961   	{
;;;6962   	//u_necc=U0B;
;;;6963   	u_necc=UB20;
;;;6964   	}
;;;6965   else
;;;6966   	{
;;;6967   	if(ND_EXT[0])t[0]=20;
;;;6968   	else t[0]=t_ext[0];
;;;6969   
;;;6970   	mat_temper=t[0];
;;;6971   			
;;;6972   	if(mat_temper<0)temp_SL=UB0; 
;;;6973   	else 
;;;6974   		{
;;;6975   		if(mat_temper>40)mat_temper=40; 
;;;6976   		temp_SL=(UB20-UB0)*10;
;;;6977   		temp_SL*=mat_temper;
;;;6978   		temp_SL/=200;
;;;6979   		temp_SL+=UB0;
;;;6980   		}
;;;6981   	if((spc_stat==spcVZ)&&(sk_stat[0]==1))
0043b6  4d4f              LDR      r5,|L1.17652|
0043b8  4c4f              LDR      r4,|L1.17656|
0043ba  8801              LDRH     r1,[r0,#0]            ;6960  ; TERMOKOMPENS
0043bc  484b              LDR      r0,|L1.17644|
0043be  f9b03000          LDRSH    r3,[r0,#0]            ;6963
;;;6982   		{
;;;6983   		temp_SL=UVZ;
0043c2  484b              LDR      r0,|L1.17648|
0043c4  f9b02000          LDRSH    r2,[r0,#0]
0043c8  b139              CBZ      r1,|L1.17370|
0043ca  4840              LDR      r0,|L1.17612|
0043cc  7800              LDRB     r0,[r0,#0]            ;6967  ; ND_EXT
0043ce  b130              CBZ      r0,|L1.17374|
0043d0  f04f0014          MOV      r0,#0x14              ;6967
0043d4  f8ad0000          STRH     r0,[sp,#0]            ;6967
0043d8  e005              B        |L1.17382|
                  |L1.17370|
0043da  8023              STRH     r3,[r4,#0]            ;6963
0043dc  e028              B        |L1.17456|
                  |L1.17374|
0043de  4839              LDR      r0,|L1.17604|
0043e0  8800              LDRH     r0,[r0,#0]            ;6968  ; t_ext
0043e2  f8ad0000          STRH     r0,[sp,#0]            ;6968
                  |L1.17382|
0043e6  4e45              LDR      r6,|L1.17660|
0043e8  f9bd1000          LDRSH    r1,[sp,#0]            ;6970
0043ec  6031              STR      r1,[r6,#0]            ;6970  ; mat_temper
0043ee  4844              LDR      r0,|L1.17664|
0043f0  2900              CMP      r1,#0                 ;6972
0043f2  f9b00000          LDRSH    r0,[r0,#0]            ;6972
0043f6  db12              BLT      |L1.17438|
0043f8  2928              CMP      r1,#0x28              ;6975
0043fa  dd02              BLE      |L1.17410|
0043fc  f04f0128          MOV      r1,#0x28              ;6975
004400  6031              STR      r1,[r6,#0]            ;6975  ; mat_temper
                  |L1.17410|
004402  eba30100          SUB      r1,r3,r0              ;6976
004406  eb010181          ADD      r1,r1,r1,LSL #2       ;6976
00440a  ea4f0141          LSL      r1,r1,#1              ;6976
00440e  6833              LDR      r3,[r6,#0]            ;6977  ; mat_temper
004410  fb01f103          MUL      r1,r1,r3              ;6977
004414  f04f03c8          MOV      r3,#0xc8              ;6978
004418  fb91f1f3          SDIV     r1,r1,r3              ;6978
00441c  4408              ADD      r0,r0,r1              ;6979
                  |L1.17438|
00441e  7d29              LDRB     r1,[r5,#0x14]         ;6981  ; spc_stat
004420  2902              CMP      r1,#2                 ;6981
004422  d104              BNE      |L1.17454|
004424  4937              LDR      r1,|L1.17668|
004426  7809              LDRB     r1,[r1,#0]            ;6981  ; sk_stat
004428  2901              CMP      r1,#1                 ;6981
00442a  d100              BNE      |L1.17454|
00442c  4610              MOV      r0,r2
                  |L1.17454|
;;;6984   		}
;;;6985   	u_necc=(unsigned int)temp_SL;
00442e  8020              STRH     r0,[r4,#0]
                  |L1.17456|
;;;6986   	///u_necc=3456;
;;;6987   	}  
;;;6988   
;;;6989   //u_necc=2355;
;;;6990   
;;;6991   if((speedChIsOn)||(sp_ch_stat==scsWRK))
004430  4835              LDR      r0,|L1.17672|
004432  8800              LDRH     r0,[r0,#0]  ; speedChIsOn
004434  b918              CBNZ     r0,|L1.17470|
004436  4835              LDR      r0,|L1.17676|
004438  7800              LDRB     r0,[r0,#0]  ; sp_ch_stat
00443a  2802              CMP      r0,#2
00443c  d102              BNE      |L1.17476|
                  |L1.17470|
;;;6992   	{
;;;6993   	u_necc=speedChrgVolt;
00443e  4834              LDR      r0,|L1.17680|
004440  8800              LDRH     r0,[r0,#0]  ; speedChrgVolt
004442  8020              STRH     r0,[r4,#0]
                  |L1.17476|
;;;6994   	}
;;;6995   if(hv_vz_stat==hvsWRK)
004444  4833              LDR      r0,|L1.17684|
004446  7800              LDRB     r0,[r0,#0]  ; hv_vz_stat
004448  2805              CMP      r0,#5
00444a  d100              BNE      |L1.17486|
;;;6996   	{
;;;6997   	u_necc=UVZ;
00444c  8022              STRH     r2,[r4,#0]
                  |L1.17486|
;;;6998   	}
;;;6999   if(vz1_stat==vz1sWRK)
00444e  f8950020          LDRB     r0,[r5,#0x20]  ; vz1_stat
004452  280a              CMP      r0,#0xa
004454  d102              BNE      |L1.17500|
;;;7000   	{
;;;7001   	u_necc=UZ_U;
004456  4830              LDR      r0,|L1.17688|
004458  8800              LDRH     r0,[r0,#0]  ; UZ_U
00445a  8020              STRH     r0,[r4,#0]
                  |L1.17500|
;;;7002   	}
;;;7003   if(vz2_stat==vz2sWRK1)
00445c  f8950023          LDRB     r0,[r5,#0x23]  ; vz2_stat
004460  280a              CMP      r0,#0xa
004462  d102              BNE      |L1.17514|
;;;7004   	{
;;;7005   	u_necc=FZ_U1;
004464  492d              LDR      r1,|L1.17692|
004466  8809              LDRH     r1,[r1,#0]  ; FZ_U1
004468  8021              STRH     r1,[r4,#0]
                  |L1.17514|
;;;7006   	}
;;;7007   if(vz2_stat==vz2sWRK2)
00446a  280b              CMP      r0,#0xb
00446c  d102              BNE      |L1.17524|
;;;7008   	{
;;;7009   	u_necc=FZ_U2;
00446e  482c              LDR      r0,|L1.17696|
004470  8800              LDRH     r0,[r0,#0]  ; FZ_U2
004472  8020              STRH     r0,[r4,#0]
                  |L1.17524|
;;;7010   	}
;;;7011   if(mess_find_unvol(MESS2UNECC_HNDL))
004474  20be              MOVS     r0,#0xbe
004476  f7fffffe          BL       mess_find_unvol
00447a  b128              CBZ      r0,|L1.17544|
;;;7012   	{		
;;;7013   	if(mess_data[0]==PARAM_UNECC_SET)
00447c  4829              LDR      r0,|L1.17700|
00447e  6801              LDR      r1,[r0,#0]  ; mess_data
004480  29bf              CMP      r1,#0xbf
004482  d101              BNE      |L1.17544|
;;;7014   		{
;;;7015   		u_necc=mess_data[1];
004484  6840              LDR      r0,[r0,#4]  ; mess_data
004486  8020              STRH     r0,[r4,#0]
                  |L1.17544|
;;;7016   		}		
;;;7017   	}
;;;7018   //if(ICA_EN)u_necc+=ica_u_necc;
;;;7019   #endif
;;;7020   
;;;7021   
;;;7022   #ifndef UKU_220_IPS_TERMOKOMPENSAT
;;;7023   
;;;7024   #ifndef UKU_TELECORE2015
;;;7025   #ifndef UKU_TELECORE2017
;;;7026   if(unh_cnt0<10)
;;;7027   	{
;;;7028   	unh_cnt0++;
;;;7029   	if(unh_cnt0>=10)
;;;7030   		{
;;;7031   		unh_cnt0=0;
;;;7032   		b1Hz_unh=1;
;;;7033   		}
;;;7034   	}
;;;7035   
;;;7036   if(unh_cnt1<5)
;;;7037   	{
;;;7038   	unh_cnt1++;
;;;7039   	if(unh_cnt1==5)
;;;7040   		{
;;;7041   		unh_cnt1=0;
;;;7042   //		b2Hz_unh=1;
;;;7043   		}
;;;7044   	} 
;;;7045   
;;;7046   
;;;7047   
;;;7048   if(mess_find_unvol(MESS2UNECC_HNDL))
;;;7049   	{		
;;;7050   	if(mess_data[0]==PARAM_UNECC_SET)
;;;7051   		{
;;;7052   		u_necc=mess_data[1];
;;;7053   		}		
;;;7054   	}
;;;7055   
;;;7056   
;;;7057   else if(b1Hz_unh)
;;;7058   	{
;;;7059   	
;;;7060   	if((BAT_IS_ON[0]!=bisON) && (BAT_IS_ON[1]!=bisON))
;;;7061   		{
;;;7062   		
;;;7063   		u_necc=U0B;
;;;7064   		#ifdef IPS_SGEP_GAZPROM
;;;7065   		u_necc=UB0;
;;;7066   		#endif
;;;7067   		}
;;;7068   	else 
;;;7069   		{
;;;7070   		if(BAT_TYPE==0) //ÂÒÎË ·‡Ú‡Âˇ Ó·˚˜Ì‡ˇ
;;;7071   			{
;;;7072   			for(i=0;i<2;i++)
;;;7073   				{
;;;7074   				if(BAT_IS_ON[i]==bisON)
;;;7075   					{
;;;7076   					if(bat[i]._nd)t[i]=20;
;;;7077   					else t[i]=bat[i]._Tb;
;;;7078   					}
;;;7079   				else
;;;7080   					{
;;;7081   					t[i]=-20;
;;;7082   					}
;;;7083   				}
;;;7084   			if(t[0]>t[1])mat_temper=t[0];
;;;7085   			else mat_temper=t[1];
;;;7086   			
;;;7087   		
;;;7088   			if(mat_temper<0)temp_SL=UB0; 
;;;7089   			else 
;;;7090   				{
;;;7091   				if(mat_temper>40)mat_temper=40; 
;;;7092   				temp_SL=(UB20-UB0)*10;
;;;7093   				temp_SL*=mat_temper;
;;;7094   				temp_SL/=200;
;;;7095   				temp_SL+=UB0;
;;;7096   				}
;;;7097   			if((spc_stat==spcVZ)&&(sk_stat[0]==1))
;;;7098   				{
;;;7099   				temp_SL=UVZ;
;;;7100   				}
;;;7101   			u_necc=(unsigned int)temp_SL;
;;;7102   			}
;;;7103   		else if(BAT_TYPE==1) //ÂÒÎË ·‡Ú‡Âˇ ÍËÚ‡ÈÒÍ‡ˇ
;;;7104   			{
;;;7105   			u_necc=U0B;
;;;7106   					
;;;7107   			u_necc=bat[0]._Ub+10;
;;;7108   
;;;7109   			
;;;7110   			if((spc_stat==spcVZ)&&(sk_stat[0]==1))
;;;7111   				{
;;;7112   				u_necc=UVZ;
;;;7113   				}
;;;7114   			if(u_necc>=UB0) u_necc=UB0;
;;;7115   			if(u_necc>=UB20) u_necc=UB20;
;;;7116   			}
;;;7117   		}  
;;;7118   	}
;;;7119   #endif
;;;7120   #endif
;;;7121   
;;;7122   #ifdef UKU_TELECORE2015
;;;7123   
;;;7124   if(unh_cnt0<10)
;;;7125   	{
;;;7126   	unh_cnt0++;
;;;7127   	if(unh_cnt0>=10)
;;;7128   		{
;;;7129   		unh_cnt0=0;
;;;7130   		b1Hz_unh=1;
;;;7131   		}
;;;7132   	}
;;;7133   
;;;7134   if(unh_cnt1<5)
;;;7135   	{
;;;7136   	unh_cnt1++;
;;;7137   	if(unh_cnt1==5)
;;;7138   		{
;;;7139   		unh_cnt1=0;
;;;7140   //		b2Hz_unh=1;
;;;7141   		}
;;;7142   	} 
;;;7143   
;;;7144   
;;;7145   
;;;7146   if(mess_find_unvol(MESS2UNECC_HNDL))
;;;7147   	{		
;;;7148   	if(mess_data[0]==PARAM_UNECC_SET)
;;;7149   		{
;;;7150   		u_necc=mess_data[1];
;;;7151   		}		
;;;7152   	}
;;;7153   
;;;7154   
;;;7155   else if(b1Hz_unh)
;;;7156   	{
;;;7157   	b1Hz_unh=0;
;;;7158   
;;;7159   	if(BAT_TYPE==0)
;;;7160   		{
;;;7161   		if(bat[0]._nd)mat_temper=20;
;;;7162   		else mat_temper=bat[0]._Tb;
;;;7163   
;;;7164   			
;;;7165   		if(mat_temper<0)temp_SL=UB0; 
;;;7166   		else 
;;;7167   			{
;;;7168   			if(mat_temper>40)mat_temper=40; 
;;;7169   			temp_SL=(UB20-UB0)*10;
;;;7170   			temp_SL*=mat_temper;
;;;7171   			temp_SL/=200;
;;;7172   			temp_SL+=UB0;
;;;7173   			}
;;;7174   		if((spc_stat==spcVZ)&&(sk_stat[0]==1))
;;;7175   			{
;;;7176   			temp_SL=UVZ;
;;;7177   			}
;;;7178   		u_necc=(unsigned int)temp_SL;
;;;7179   	///u_necc=3456;
;;;7180   		}
;;;7181   	else if(BAT_TYPE==1)
;;;7182   		{
;;;7183   		
;;;7184   		gran(&DU_LI_BAT,1,30);
;;;7185   		u_necc=li_bat._Ub+DU_LI_BAT;
;;;7186   		gran(&u_necc,0,UB0);
;;;7187   		gran(&u_necc,0,UB20);
;;;7188   		gran(&u_necc,0,540);		
;;;7189   
;;;7190   
;;;7191   		if(li_bat._batStat!=bsOK)
;;;7192   			{
;;;7193   			u_necc=U0B;
;;;7194   			}
;;;7195   		if((spc_stat==spcVZ)&&(sk_stat[0]==1))
;;;7196   			{
;;;7197   			u_necc=UVZ;
;;;7198   			}
;;;7199   		/* 
;;;7200   		u_necc=U0B;
;;;7201   		
;;;7202   
;;;7203   	
;;;7204   		u_necc=UB0;
;;;7205   		u_necc=li_bat._Ub+10;
;;;7206   		if((li_bat._Ub<450)||(li_bat._Ub>550))
;;;7207   			{
;;;7208   			lakb_error_cnt++;
;;;7209   			if(lakb_error_cnt>=30)
;;;7210   				{
;;;7211   				lakb_error_cnt=30;
;;;7212   				u_necc=U0B;
;;;7213   				}
;;;7214   			}
;;;7215   		else lakb_error_cnt=0;*/
;;;7216   		}
;;;7217   	else if(BAT_TYPE==2)
;;;7218   		{
;;;7219   		u_necc=U0B;
;;;7220   		
;;;7221   		if((spc_stat==spcVZ)&&(sk_stat[0]==1))
;;;7222   			{
;;;7223   			u_necc=UVZ;
;;;7224   			}
;;;7225   	
;;;7226   		u_necc=UB0;
;;;7227   		}
;;;7228   
;;;7229   	else if(BAT_TYPE==3)
;;;7230   		{
;;;7231   		u_necc=U0B;
;;;7232   		
;;;7233   		if((spc_stat==spcVZ)&&(sk_stat[0]==1))
;;;7234   			{
;;;7235   			u_necc=UVZ;
;;;7236   			}
;;;7237   
;;;7238   		gran(&DU_LI_BAT,1,30);
;;;7239   
;;;7240   
;;;7241   		if(lakbNotErrorNum==0)
;;;7242   			{
;;;7243   			u_necc=U0B;
;;;7244   			}
;;;7245   		else 
;;;7246   			{
;;;7247   			signed short i;
;;;7248   			//signed short u_necc_max;
;;;7249   			//u_necc_max=0;
;;;7250   			char soc_flag=0;
;;;7251   
;;;7252   			for(i=(NUMBAT_TELECORE-1);i>=0;i--)
;;;7253   				{
;;;7254   				if(lakb[i]._communicationFullErrorStat==0)u_necc=lakb[i]._tot_bat_volt+DU_LI_BAT;
;;;7255   				if(lakb[i]._s_o_c_percent<QSODERG_LI_BAT)soc_flag=1;
;;;7256   				}
;;;7257   
;;;7258   			if(soc_flag==0)u_necc=USODERG_LI_BAT;
;;;7259   			}
;;;7260   		gran(&u_necc,0,UB0);
;;;7261   		//gran(&u_necc,0,UB20);
;;;7262   		gran(&u_necc,0,540);
;;;7263   		}
;;;7264   	}
;;;7265   
;;;7266   #endif 
;;;7267   
;;;7268   #ifdef UKU_TELECORE2017
;;;7269   
;;;7270   if(unh_cnt0<10)
;;;7271   	{
;;;7272   	unh_cnt0++;
;;;7273   	if(unh_cnt0>=10)
;;;7274   		{
;;;7275   		unh_cnt0=0;
;;;7276   		b1Hz_unh=1;
;;;7277   		}
;;;7278   	}
;;;7279   
;;;7280   if(unh_cnt1<5)
;;;7281   	{
;;;7282   	unh_cnt1++;
;;;7283   	if(unh_cnt1==5)
;;;7284   		{
;;;7285   		unh_cnt1=0;
;;;7286   //		b2Hz_unh=1;
;;;7287   		}
;;;7288   	} 
;;;7289   
;;;7290   
;;;7291   
;;;7292   if(mess_find_unvol(MESS2UNECC_HNDL))
;;;7293   	{		
;;;7294   	if(mess_data[0]==PARAM_UNECC_SET)
;;;7295   		{
;;;7296   		u_necc=mess_data[1];
;;;7297   		}		
;;;7298   	}
;;;7299   
;;;7300   
;;;7301   else if(b1Hz_unh)
;;;7302   	{
;;;7303   	b1Hz_unh=0;
;;;7304   
;;;7305   	if(BAT_TYPE==0)
;;;7306   		{
;;;7307   		if(bat[0]._nd)mat_temper=20;
;;;7308   		else mat_temper=bat[0]._Tb;
;;;7309   
;;;7310   			
;;;7311   		if(mat_temper<0)temp_SL=UB0; 
;;;7312   		else 
;;;7313   			{
;;;7314   			if(mat_temper>40)mat_temper=40; 
;;;7315   			temp_SL=(UB20-UB0)*10;
;;;7316   			temp_SL*=mat_temper;
;;;7317   			temp_SL/=200;
;;;7318   			temp_SL+=UB0;
;;;7319   			}
;;;7320   		if((spc_stat==spcVZ)&&(sk_stat[0]==1))
;;;7321   			{
;;;7322   			temp_SL=UVZ;
;;;7323   			}
;;;7324   		u_necc=(unsigned int)temp_SL;
;;;7325   	///u_necc=3456;
;;;7326   		}
;;;7327   	else if(BAT_TYPE==1)
;;;7328   		{
;;;7329   		
;;;7330   		gran(&DU_LI_BAT,1,30);
;;;7331   		u_necc=li_bat._Ub+DU_LI_BAT;
;;;7332   		gran(&u_necc,0,UB0);
;;;7333   		gran(&u_necc,0,UB20);
;;;7334   		gran(&u_necc,0,540);		
;;;7335   
;;;7336   
;;;7337   		if(li_bat._batStat!=bsOK)
;;;7338   			{
;;;7339   			u_necc=U0B;
;;;7340   			}
;;;7341   		if((spc_stat==spcVZ)&&(sk_stat[0]==1))
;;;7342   			{
;;;7343   			u_necc=UVZ;
;;;7344   			}
;;;7345   		}
;;;7346   	else if(BAT_TYPE==2)
;;;7347   		{
;;;7348   		u_necc=U0B;
;;;7349   		
;;;7350   		if((spc_stat==spcVZ)&&(sk_stat[0]==1))
;;;7351   			{
;;;7352   			u_necc=UVZ;
;;;7353   			}
;;;7354   	
;;;7355   		u_necc=UB0;
;;;7356   		}
;;;7357   
;;;7358   	else if(BAT_TYPE==3)
;;;7359   		{
;;;7360   		u_necc=U0B;
;;;7361   		
;;;7362   		if((spc_stat==spcVZ)&&(sk_stat[0]==1))
;;;7363   			{
;;;7364   			u_necc=UVZ;
;;;7365   			}
;;;7366   
;;;7367   		gran(&DU_LI_BAT,1,30);
;;;7368   
;;;7369   
;;;7370   		if(lakbNotErrorNum==0)
;;;7371   			{
;;;7372   			u_necc=U0B;
;;;7373   			}
;;;7374   		else 
;;;7375   			{
;;;7376   			signed short i;
;;;7377   			//signed short u_necc_max;
;;;7378   			//u_necc_max=0;
;;;7379   			char soc_flag=0;
;;;7380   
;;;7381   			for(i=(NUMBAT_TELECORE-1);i>=0;i--)
;;;7382   				{
;;;7383   				if(lakb[i]._communicationFullErrorStat==0)u_necc=lakb[i]._tot_bat_volt+DU_LI_BAT;
;;;7384   				if(lakb[i]._s_o_c_percent<QSODERG_LI_BAT)soc_flag=1;
;;;7385   				}
;;;7386   
;;;7387   			if(soc_flag==0)u_necc=USODERG_LI_BAT;
;;;7388   			}
;;;7389   		gran(&u_necc,0,UB0);
;;;7390   		//gran(&u_necc,0,UB20);
;;;7391   		gran(&u_necc,0,540);
;;;7392   		}
;;;7393   	}
;;;7394   
;;;7395   #endif 
;;;7396   //u_necc=2356;
;;;7397   #endif//gran(&u_necc,400,UMAX);
;;;7398   
;;;7399   
;;;7400   
;;;7401   temp_L=(signed long) u_necc;
004488  f9b40000          LDRSH    r0,[r4,#0]  ; u_necc
;;;7402   temp_L*=98L;
00448c  f04f0162          MOV      r1,#0x62
004490  fb00f101          MUL      r1,r0,r1
;;;7403   temp_L/=100L;
004494  f04f0264          MOV      r2,#0x64
004498  fb91f1f2          SDIV     r1,r1,r2
;;;7404   u_necc_dn=(signed short)temp_L;
00449c  4b22              LDR      r3,|L1.17704|
00449e  8019              STRH     r1,[r3,#0]
;;;7405   
;;;7406   temp_L=(signed long) u_necc;
;;;7407   temp_L*=102L;
0044a0  f04f0166          MOV      r1,#0x66
0044a4  fb00f001          MUL      r0,r0,r1
;;;7408   temp_L/=100L;
0044a8  e040              B        |L1.17708|
0044aa  0000              DCW      0x0000
                  |L1.17580|
                          DCD      ADR_EE_BAT_ZAR_CNT
                  |L1.17584|
                          DCD      BAT_C_REAL
                  |L1.17588|
                          DCD      BAT_C_NOM
                  |L1.17592|
                          DCD      0xffff7360
                  |L1.17596|
                          DCD      BAT_TYPE
                  |L1.17600|
                          DCD      lakb
                  |L1.17604|
                          DCD      t_ext
                  |L1.17608|
                          DCD      TBATSIGN
                  |L1.17612|
                          DCD      ND_EXT
                  |L1.17616|
                          DCD      TBATMAX
                  |L1.17620|
                          DCD      ADR_EE_BAT_RESURS
                  |L1.17624|
                          DCD      UBM_AV
                  |L1.17628|
                          DCD      U0B
                  |L1.17632|
                          DCD      IKB
                  |L1.17636|
                          DCD      USIGN
                  |L1.17640|
                          DCD      TERMOKOMPENS
                  |L1.17644|
                          DCD      UB20
                  |L1.17648|
                          DCD      UVZ
                  |L1.17652|
                          DCD      ||area_number.23||
                  |L1.17656|
                          DCD      u_necc
                  |L1.17660|
                          DCD      mat_temper
                  |L1.17664|
                          DCD      UB0
                  |L1.17668|
                          DCD      sk_stat
                  |L1.17672|
                          DCD      speedChIsOn
                  |L1.17676|
                          DCD      sp_ch_stat
                  |L1.17680|
                          DCD      speedChrgVolt
                  |L1.17684|
                          DCD      hv_vz_stat
                  |L1.17688|
                          DCD      UZ_U
                  |L1.17692|
                          DCD      FZ_U1
                  |L1.17696|
                          DCD      FZ_U2
                  |L1.17700|
                          DCD      mess_data
                  |L1.17704|
                          DCD      u_necc_dn
                  |L1.17708|
00452c  fb90f0f2          SDIV     r0,r0,r2
;;;7409   u_necc_up=(signed short)temp_L;
004530  49ff              LDR      r1,|L1.18736|
004532  8008              STRH     r0,[r1,#0]
;;;7410   /*
;;;7411   #ifdef IPS_SGEP_GAZPROM
;;;7412   u_necc=248;
;;;7413   #endif */
;;;7414   }
004534  bdf8              POP      {r3-r7,pc}
;;;7415   
                          ENDP

                  num_necc_hndl PROC
;;;7417   //-----------------------------------------------
;;;7418   void num_necc_hndl(void)
004536  e92d41f0          PUSH     {r4-r8,lr}
;;;7419   {
;;;7420   
;;;7421   static short num_necc_block_cnt;
;;;7422   if(num_necc_block_cnt) num_necc_block_cnt--;
00453a  4cfe              LDR      r4,|L1.18740|
00453c  f9b4002c          LDRSH    r0,[r4,#0x2c]  ; num_necc_block_cnt
004540  b110              CBZ      r0,|L1.17736|
004542  f1a00001          SUB      r0,r0,#1
004546  85a0              STRH     r0,[r4,#0x2c]
                  |L1.17736|
;;;7423   
;;;7424   Isumm_=Isumm;
004548  48fb              LDR      r0,|L1.18744|
00454a  4dfc              LDR      r5,|L1.18748|
00454c  8800              LDRH     r0,[r0,#0]  ; Isumm
00454e  8028              STRH     r0,[r5,#0]
;;;7425   
;;;7426   if(bat[0]._Ib<0) Isumm_+=(abs(bat[0]._Ib))/10;
004550  4efb              LDR      r6,|L1.18752|
004552  270a              MOVS     r7,#0xa
004554  f9b60008          LDRSH    r0,[r6,#8]  ; bat
004558  2800              CMP      r0,#0
00455a  da06              BGE      |L1.17770|
00455c  f7fffffe          BL       abs
004560  fb90f0f7          SDIV     r0,r0,r7
004564  8829              LDRH     r1,[r5,#0]  ; Isumm_
004566  4408              ADD      r0,r0,r1
004568  8028              STRH     r0,[r5,#0]
                  |L1.17770|
;;;7427   if(bat[1]._Ib<0) Isumm_+=(abs(bat[1]._Ib))/10;
00456a  f9b60054          LDRSH    r0,[r6,#0x54]  ; bat
00456e  2800              CMP      r0,#0
004570  da06              BGE      |L1.17792|
004572  f7fffffe          BL       abs
004576  fb90f0f7          SDIV     r0,r0,r7
00457a  8829              LDRH     r1,[r5,#0]  ; Isumm_
00457c  4408              ADD      r0,r0,r1
00457e  8028              STRH     r0,[r5,#0]
                  |L1.17792|
;;;7428   
;;;7429   num_necc_up=(Isumm_/((signed short)IMAX))+1;
004580  49f0              LDR      r1,|L1.18756|
004582  f9b50000          LDRSH    r0,[r5,#0]  ; Isumm_
004586  f9b11000          LDRSH    r1,[r1,#0]  ; IMAX
00458a  fb90f1f1          SDIV     r1,r0,r1
00458e  f1010101          ADD      r1,r1,#1
004592  b2c9              UXTB     r1,r1
004594  7421              STRB     r1,[r4,#0x10]
;;;7430   ////Isumm_+=(signed short)((IMAX*(10-KIMAX))/10);
;;;7431   ////Isumm_+=(signed short)(IMAX-IMIN);
;;;7432   
;;;7433   num_necc_down=(Isumm_/((signed short)IMIN))+1;
004596  4aec              LDR      r2,|L1.18760|
004598  f9b22000          LDRSH    r2,[r2,#0]  ; IMIN
00459c  fb90f0f2          SDIV     r0,r0,r2
0045a0  f1000001          ADD      r0,r0,#1
0045a4  b2c2              UXTB     r2,r0
0045a6  7462              STRB     r2,[r4,#0x11]
;;;7434   
;;;7435   if(num_necc_up>num_necc)
0045a8  48e8              LDR      r0,|L1.18764|
;;;7436   	{
;;;7437   	num_necc=num_necc_up;
;;;7438   	num_necc_block_cnt=60;
0045aa  f04f053c          MOV      r5,#0x3c
0045ae  f9b03000          LDRSH    r3,[r0,#0]            ;7435  ; num_necc
0045b2  4299              CMP      r1,r3                 ;7435
0045b4  dd02              BLE      |L1.17852|
0045b6  8001              STRH     r1,[r0,#0]            ;7437
0045b8  85a5              STRH     r5,[r4,#0x2c]
0045ba  e005              B        |L1.17864|
                  |L1.17852|
;;;7439   	}
;;;7440   else if(num_necc_down<num_necc)
0045bc  429a              CMP      r2,r3
0045be  da03              BGE      |L1.17864|
;;;7441   	{
;;;7442   	if(!num_necc_block_cnt)
0045c0  8da1              LDRH     r1,[r4,#0x2c]  ; num_necc_block_cnt
0045c2  b909              CBNZ     r1,|L1.17864|
;;;7443   		{
;;;7444   		num_necc=num_necc_down;
0045c4  8002              STRH     r2,[r0,#0]
;;;7445   		num_necc_block_cnt=60;
0045c6  85a5              STRH     r5,[r4,#0x2c]
                  |L1.17864|
;;;7446   		}
;;;7447   	}
;;;7448   
;;;7449   if(PAR) num_necc=NUMIST;
0045c8  49e1              LDR      r1,|L1.18768|
0045ca  880a              LDRH     r2,[r1,#0]  ; PAR
0045cc  49e1              LDR      r1,|L1.18772|
0045ce  b10a              CBZ      r2,|L1.17876|
0045d0  880a              LDRH     r2,[r1,#0]  ; NUMIST
0045d2  8002              STRH     r2,[r0,#0]
                  |L1.17876|
;;;7450   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;7451   if(bPARALLEL) num_necc=NUMIST;
0045d4  7fa2              LDRB     r2,[r4,#0x1e]  ; bPARALLEL
0045d6  b10a              CBZ      r2,|L1.17884|
0045d8  880a              LDRH     r2,[r1,#0]  ; NUMIST
0045da  8002              STRH     r2,[r0,#0]
                  |L1.17884|
;;;7452   if(vz1_stat==vz1sWRK)num_necc=NUMIST; //¬ÍÎ˛˜‡ÂÏ ‚ÒÂ ËÒÚÓ˜ÌËÍË ÂÒÎË Û‡‚ÌËÚÂÎ¸Ì˚È Á‡ˇ‰
0045dc  f8942020          LDRB     r2,[r4,#0x20]  ; vz1_stat
0045e0  2a0a              CMP      r2,#0xa
0045e2  d101              BNE      |L1.17896|
0045e4  880a              LDRH     r2,[r1,#0]  ; NUMIST
0045e6  8002              STRH     r2,[r0,#0]
                  |L1.17896|
;;;7453   if((vz2_stat==vz2sWRK1)||(vz2_stat==vz2sWRK2))num_necc=NUMIST; //¬ÍÎ˛˜‡ÂÏ ‚ÒÂ ËÒÚÓ˜ÌËÍË ÂÒÎË Û‡‚ÌËÚÂÎ¸Ì˚È Á‡ˇ‰
0045e8  f8942023          LDRB     r2,[r4,#0x23]  ; vz2_stat
0045ec  2a0a              CMP      r2,#0xa
0045ee  d001              BEQ      |L1.17908|
0045f0  2a0b              CMP      r2,#0xb
0045f2  d101              BNE      |L1.17912|
                  |L1.17908|
0045f4  880a              LDRH     r2,[r1,#0]  ; NUMIST
0045f6  8002              STRH     r2,[r0,#0]
                  |L1.17912|
;;;7454   #endif
;;;7455   
;;;7456   gran(&num_necc,1,NUMIST);
0045f8  f9b12000          LDRSH    r2,[r1,#0]  ; NUMIST
0045fc  e8bd41f0          POP      {r4-r8,lr}
004600  2101              MOVS     r1,#1
004602  48d2              LDR      r0,|L1.18764|
004604  f7ffbffe          B.W      gran
;;;7457   
;;;7458   }
;;;7459   
                          ENDP

                  cntrl_hndl PROC
;;;7462   //-----------------------------------------------
;;;7463   void cntrl_hndl(void)
004608  e92d5ff0          PUSH     {r4-r12,lr}
;;;7464   {
;;;7465   
;;;7466   
;;;7467   
;;;7468   IZMAX_=IZMAX;
00460c  48d2              LDR      r0,|L1.18776|
00460e  4cc9              LDR      r4,|L1.18740|
004610  8800              LDRH     r0,[r0,#0]  ; IZMAX
004612  f8a40040          STRH     r0,[r4,#0x40]
;;;7469   
;;;7470   //cntrl_hndl_plazma=10;
;;;7471   
;;;7472   if((speedChIsOn)||(sp_ch_stat==scsWRK))IZMAX_=speedChrgCurr;
004616  48d1              LDR      r0,|L1.18780|
004618  8800              LDRH     r0,[r0,#0]  ; speedChIsOn
00461a  b918              CBNZ     r0,|L1.17956|
00461c  48d0              LDR      r0,|L1.18784|
00461e  7800              LDRB     r0,[r0,#0]  ; sp_ch_stat
004620  2802              CMP      r0,#2
004622  d103              BNE      |L1.17964|
                  |L1.17956|
004624  48cf              LDR      r0,|L1.18788|
004626  8800              LDRH     r0,[r0,#0]  ; speedChrgCurr
004628  f8a40040          STRH     r0,[r4,#0x40]
                  |L1.17964|
;;;7473   if(vz1_stat==vz1sWRK) IZMAX_=UZ_IMAX;
00462c  f8940020          LDRB     r0,[r4,#0x20]  ; vz1_stat
004630  280a              CMP      r0,#0xa
004632  d103              BNE      |L1.17980|
004634  48cc              LDR      r0,|L1.18792|
004636  8800              LDRH     r0,[r0,#0]  ; UZ_IMAX
004638  f8a40040          STRH     r0,[r4,#0x40]
                  |L1.17980|
;;;7474   if(vz2_stat==vz2sWRK1) IZMAX_=FZ_IMAX1;
00463c  f8940023          LDRB     r0,[r4,#0x23]  ; vz2_stat
004640  280a              CMP      r0,#0xa
004642  d103              BNE      |L1.17996|
004644  49c9              LDR      r1,|L1.18796|
004646  8809              LDRH     r1,[r1,#0]  ; FZ_IMAX1
004648  f8a41040          STRH     r1,[r4,#0x40]
                  |L1.17996|
;;;7475   if(vz2_stat==vz2sWRK2) IZMAX_=FZ_IMAX2;
00464c  280b              CMP      r0,#0xb
00464e  d103              BNE      |L1.18008|
004650  48c7              LDR      r0,|L1.18800|
004652  8800              LDRH     r0,[r0,#0]  ; FZ_IMAX2
004654  f8a40040          STRH     r0,[r4,#0x40]
                  |L1.18008|
;;;7476   if(spc_stat==spcVZ) IZMAX_=IMAX_VZ;
004658  7d20              LDRB     r0,[r4,#0x14]  ; spc_stat
00465a  2802              CMP      r0,#2
00465c  d103              BNE      |L1.18022|
00465e  48c5              LDR      r0,|L1.18804|
004660  8800              LDRH     r0,[r0,#0]  ; IMAX_VZ
004662  f8a40040          STRH     r0,[r4,#0x40]
                  |L1.18022|
;;;7477   
;;;7478   if(cntrl_stat_blok_cnt)cntrl_stat_blok_cnt--;
004666  f9b40068          LDRSH    r0,[r4,#0x68]  ; cntrl_stat_blok_cnt
00466a  b118              CBZ      r0,|L1.18036|
00466c  f1a00001          SUB      r0,r0,#1
004670  f8a40068          STRH     r0,[r4,#0x68]
                  |L1.18036|
;;;7479   if(cntrl_stat_blok_cnt_)cntrl_stat_blok_cnt_--;
004674  f9b4006a          LDRSH    r0,[r4,#0x6a]  ; cntrl_stat_blok_cnt_
004678  b118              CBZ      r0,|L1.18050|
00467a  f1a00001          SUB      r0,r0,#1
00467e  f8a4006a          STRH     r0,[r4,#0x6a]
                  |L1.18050|
;;;7480   
;;;7481   if((bat[0]._temper_stat&0x03)||(bat[1]._temper_stat&0x03))IZMAX_=IZMAX_/10;
004682  48af              LDR      r0,|L1.18752|
004684  f04f080a          MOV      r8,#0xa               ;7473
004688  f890103f          LDRB     r1,[r0,#0x3f]  ; bat
00468c  0789              LSLS     r1,r1,#30
00468e  d103              BNE      |L1.18072|
004690  f890008b          LDRB     r0,[r0,#0x8b]  ; bat
004694  0780              LSLS     r0,r0,#30
004696  d005              BEQ      |L1.18084|
                  |L1.18072|
004698  f8b40040          LDRH     r0,[r4,#0x40]  ; IZMAX_
00469c  fbb0f0f8          UDIV     r0,r0,r8
0046a0  f8a40040          STRH     r0,[r4,#0x40]
                  |L1.18084|
;;;7482   
;;;7483   
;;;7484   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;7485   if((REG_SPEED<1)||(REG_SPEED>5)) REG_SPEED=1;
0046a4  48b4              LDR      r0,|L1.18808|
0046a6  2601              MOVS     r6,#1
0046a8  f9b01000          LDRSH    r1,[r0,#0]  ; REG_SPEED
0046ac  1e49              SUBS     r1,r1,#1
0046ae  2905              CMP      r1,#5
0046b0  d300              BCC      |L1.18100|
0046b2  8006              STRH     r6,[r0,#0]
                  |L1.18100|
;;;7486   if(ch_cnt0<(10*REG_SPEED))
0046b4  f9b00000          LDRSH    r0,[r0,#0]  ; REG_SPEED
0046b8  2500              MOVS     r5,#0                 ;7472
0046ba  eb000180          ADD      r1,r0,r0,LSL #2
0046be  79e0              LDRB     r0,[r4,#7]  ; ch_cnt0
0046c0  ebb00f41          CMP      r0,r1,LSL #1
0046c4  da08              BGE      |L1.18136|
;;;7487   	{
;;;7488   	ch_cnt0++;
0046c6  f1000001          ADD      r0,r0,#1
0046ca  b2c0              UXTB     r0,r0
0046cc  71e0              STRB     r0,[r4,#7]
;;;7489   	if(ch_cnt0>=10*REG_SPEED)
0046ce  ebb00f41          CMP      r0,r1,LSL #1
0046d2  db01              BLT      |L1.18136|
;;;7490   		{
;;;7491   		ch_cnt0=0;
0046d4  71e5              STRB     r5,[r4,#7]
;;;7492   		b1Hz_ch=1;
0046d6  7226              STRB     r6,[r4,#8]
                  |L1.18136|
;;;7493   		}
;;;7494   	}
;;;7495   #endif
;;;7496   #ifndef UKU_220_IPS_TERMOKOMPENSAT
;;;7497   if(ch_cnt0<10)
;;;7498   	{
;;;7499   	ch_cnt0++;
;;;7500   	if(ch_cnt0>=10)
;;;7501   		{
;;;7502   		ch_cnt0=0;
;;;7503   		b1Hz_ch=1;
;;;7504   		}
;;;7505   	}
;;;7506   #endif
;;;7507   
;;;7508   
;;;7509   if(mess_find_unvol(MESS2CNTRL_HNDL))
0046d8  20e1              MOVS     r0,#0xe1
0046da  f7fffffe          BL       mess_find_unvol
;;;7510   	{
;;;7511   	if(mess_data[0]==PARAM_CNTRL_STAT_PLUS)
;;;7512   		{
;;;7513   		cntrl_stat=cntrl_stat_old+mess_data[1];
;;;7514   		}
;;;7515   	else if(mess_data[0]==PARAM_CNTRL_STAT_MINUS)
;;;7516   		{
;;;7517   		cntrl_stat=cntrl_stat_old-mess_data[1];
;;;7518   		}
;;;7519   	else if(mess_data[0]==PARAM_CNTRL_STAT_STEP_DOWN)
;;;7520   		{
;;;7521   		static char cntrlStatIsDownCnt;
;;;7522   		cntrl_stat--;
;;;7523   
;;;7524   		if((cntrl_stat<=30)||(load_U<USIGN))
;;;7525   			{
;;;7526   			if(++cntrlStatIsDownCnt==250)mess_send(MESS2KB_HNDL,PARAM_CNTRL_IS_DOWN,0,10);
;;;7527   			}
;;;7528   		else 
;;;7529   			{
;;;7530   			cntrlStatIsDownCnt=0;
;;;7531   			}
;;;7532   
;;;7533   		}
;;;7534   	else if(mess_data[0]==PARAM_CNTRL_STAT_SET)
;;;7535   		{
;;;7536   		cntrl_stat=mess_data[1];
;;;7537   		}
;;;7538   
;;;7539   	else if(mess_data[0]==PARAM_CNTRL_STAT_FAST_REG)
;;;7540   		{
;;;7541   		#ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;7542   		if(load_U>u_necc)
0046de  f8df929c          LDR      r9,|L1.18812|
;;;7543   			{
;;;7544   			cntrl_hndl_plazma=11;
;;;7545   			if(((bps_U-u_necc)>40)&&(cntrl_stat>0))cntrl_stat-=5;
0046e2  4aa7              LDR      r2,|L1.18816|
;;;7546   			else if((cntrl_stat)&&b1Hz_ch)cntrl_stat--;
;;;7547   			}
;;;7548   		else if(bps_U<u_necc)
;;;7549   			{
;;;7550   			cntrl_hndl_plazma=12;	
;;;7551   			if(((u_necc-bps_U)>40)&&(cntrl_stat<1015))cntrl_stat+=5;
;;;7552   			else	if((cntrl_stat<1020)&&b1Hz_ch)cntrl_stat++;
;;;7553   			}
;;;7554   		#elif defined(UKU_220)
;;;7555   		if(load_U>u_necc)
;;;7556   			{
;;;7557   			cntrl_hndl_plazma=13;
;;;7558   			if(((load_U-u_necc)>40)&&(cntrl_stat>0))cntrl_stat-=5;
;;;7559   			else if((cntrl_stat)&&b1Hz_ch)cntrl_stat--;
;;;7560   			}
;;;7561   		else if(load_U<u_necc)
;;;7562   			{
;;;7563   			cntrl_hndl_plazma=14;	
;;;7564   			if(((u_necc-load_U)>40)&&(cntrl_stat<1015))cntrl_stat+=5;
;;;7565   			else	if((cntrl_stat<1020)&&b1Hz_ch)cntrl_stat++;
;;;7566   			}
;;;7567   		#elif defined(UKU_220_V2)
;;;7568   		if(load_U>u_necc)
;;;7569   			{
;;;7570   			cntrl_hndl_plazma=15;
;;;7571   			if(((load_U-u_necc)>40)&&(cntrl_stat>0))cntrl_stat-=5;
;;;7572   			else if((cntrl_stat)&&b1Hz_ch)cntrl_stat--;
;;;7573   			}
;;;7574   		else if(load_U<u_necc)
;;;7575   			{
;;;7576   			cntrl_hndl_plazma=16;	
;;;7577   			if(((u_necc-load_U)>40)&&(cntrl_stat<1015))cntrl_stat+=5;
;;;7578   			else	if((cntrl_stat<1020)&&b1Hz_ch)cntrl_stat++;
;;;7579   			}
;;;7580   		#else
;;;7581   
;;;7582   		if(load_U>u_necc)
;;;7583   			{
;;;7584   			cntrl_hndl_plazma=17;
;;;7585   			if(((load_U-u_necc)>10)&&(cntrl_stat>0))cntrl_stat-=5;
;;;7586   			else if((cntrl_stat)&&b1Hz_ch)cntrl_stat--;
;;;7587   			}
;;;7588   		else if(load_U<u_necc)
;;;7589   			{
;;;7590   			cntrl_hndl_plazma=18;	
;;;7591   			if(((u_necc-load_U)>10)&&(cntrl_stat<1015))cntrl_stat+=5;
;;;7592   			else	if((cntrl_stat<1020)&&b1Hz_ch)cntrl_stat++;
;;;7593   			}
;;;7594   		#endif	
;;;7595   	 	}
;;;7596   	}
;;;7597   
;;;7598   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;7599   else if((b1Hz_ch)&&((!bIBAT_SMKLBR)||(bps[8]._cnt>40)))
0046e4  f8dfb29c          LDR      r11,|L1.18820|
;;;7600   	{
;;;7601   	cntrl_stat_new=cntrl_stat_old;
;;;7602   	cntrl_hndl_plazma=19;
;;;7603   	if((Ibmax/10)>(2*IZMAX_))
;;;7604   		{
;;;7605   		cntrl_hndl_plazma=20;
;;;7606             if(cntrl_stat_blok_cnt)cntrl_stat_new--;
;;;7607   		else	cntrl_stat_new-=10;
;;;7608   		}		
;;;7609   	else if(((Ibmax/10)<(IZMAX_*2))&&(Ibmax>(IZMAX_*15)))
;;;7610   		{
;;;7611   		cntrl_hndl_plazma=21;
;;;7612             if(cntrl_stat_blok_cnt)cntrl_stat_new--;
;;;7613             else	cntrl_stat_new-=3;
;;;7614   		}   
;;;7615   	else if((Ibmax<(IZMAX_*15))&&((Ibmax/10)>IZMAX_))
;;;7616   		{
;;;7617   		cntrl_hndl_plazma=22;
;;;7618   		cntrl_stat_new--;
;;;7619   		}
;;;7620   		
;;;7621   	else if(bps_U<u_necc)
;;;7622   		{
;;;7623   		cntrl_hndl_plazma=23;
;;;7624   		if(bps_U<(u_necc-(UB0-UB20)))
;;;7625   			{
;;;7626   			cntrl_hndl_plazma=24;
;;;7627   			if(Ibmax<0)
;;;7628   				{
;;;7629   				cntrl_hndl_plazma=25;
;;;7630                       if(cntrl_stat_blok_cnt)cntrl_stat_new++;
;;;7631   				else cntrl_stat_new+=10;
;;;7632   				}
;;;7633   			else if(Ibmax<(IZMAX_*5))
;;;7634   				{
;;;7635   				cntrl_hndl_plazma=26;
;;;7636                       if(cntrl_stat_blok_cnt)cntrl_stat_new++;
;;;7637   				else	cntrl_stat_new+=2;
;;;7638   				}
;;;7639   			else if(Ibmax<((IZMAX_*10)/*-10*/))//(Ibmax<((IZMAX_*95)/10))
;;;7640   				{
;;;7641   				cntrl_hndl_plazma=27;
;;;7642   				cntrl_stat_new++;
;;;7643   				}					
;;;7644   			}
;;;7645   		else if(bps_U<(u_necc-((UB0-UB20)/4)))
;;;7646   			{
;;;7647   			cntrl_hndl_plazma=28;
;;;7648   			if(Ibmax<(IZMAX_*5))
;;;7649   				{
;;;7650   				cntrl_hndl_plazma=29;
;;;7651                       if(cntrl_stat_blok_cnt)cntrl_stat_new++;
;;;7652   				else	cntrl_stat_new+=2;
;;;7653   				}
;;;7654   			else if(Ibmax<((IZMAX_*10)/*-10*/))//(Ibmax<((IZMAX_*95)/10))
;;;7655   				{
;;;7656   				cntrl_hndl_plazma=30;
;;;7657   				cntrl_stat_new++;
;;;7658   				}					
;;;7659   			}	
;;;7660   		else if(bps_U<(u_necc-1))
;;;7661   			{
;;;7662   			cntrl_hndl_plazma=31;
;;;7663   			if(Ibmax<((IZMAX_*10)/*-10*/))//(Ibmax<((IZMAX_*95)/10))
;;;7664   				{
;;;7665   				cntrl_hndl_plazma=32;
;;;7666   				cntrl_stat_new++;
;;;7667   				}					
;;;7668   			}					
;;;7669   		}	
;;;7670   	else if((bps_U>u_necc)/*&&(!cntrl_blok)*/)
;;;7671   		{ 	
;;;7672   		cntrl_hndl_plazma=33;
;;;7673   		if(bps_U>(u_necc+(UB0-UB20)))
;;;7674   			{
;;;7675   			cntrl_hndl_plazma=34;
;;;7676                  if(cntrl_stat_blok_cnt)cntrl_stat_new--;
;;;7677   			else	cntrl_stat_new-=10;
;;;7678   			}
;;;7679   		else if(bps_U>(u_necc+((UB0-UB20)/4)))
;;;7680   			{
;;;7681   			cntrl_hndl_plazma=35;
;;;7682                  if(cntrl_stat_blok_cnt)cntrl_stat_new--;
;;;7683   			else cntrl_stat_new-=2;
;;;7684   			}	
;;;7685   		else if(bps_U>(u_necc+1))
;;;7686   			{
;;;7687   			cntrl_hndl_plazma=36;
;;;7688   			cntrl_stat_new--;
;;;7689   			}					
;;;7690   		}
;;;7691   
;;;7692   	if((hv_vz_stat==hvsOFF)&&(vz1_stat==vz1sOFF)&&(vz2_stat==vz2sOFF))
;;;7693   		{
;;;7694   		if(((sk_stat[1]==1)&&(sk_stat_old[1]==0))&&(VZ_KIND==1))cntrl_stat_new=50;
;;;7695   		}
;;;7696   
;;;7697   	gran(&cntrl_stat_new,10,1010);			
;;;7698   	cntrl_stat_old=cntrl_stat_new;
;;;7699   	cntrl_stat=cntrl_stat_new;
;;;7700   	
;;;7701   	if(ICA_EN==0)
;;;7702   		{
;;;7703   		if(ica_cntrl_hndl_cnt)
0046e8  4fa7              LDR      r7,|L1.18824|
0046ea  b398              CBZ      r0,|L1.18260|
0046ec  49a7              LDR      r1,|L1.18828|
0046ee  6808              LDR      r0,[r1,#0]            ;7511  ; mess_data
0046f0  2864              CMP      r0,#0x64              ;7511
0046f2  d009              BEQ      |L1.18184|
0046f4  2869              CMP      r0,#0x69              ;7515
0046f6  d00c              BEQ      |L1.18194|
0046f8  4ba5              LDR      r3,|L1.18832|
0046fa  286e              CMP      r0,#0x6e              ;7519
0046fc  d00f              BEQ      |L1.18206|
0046fe  28e5              CMP      r0,#0xe5              ;7534
004700  d02b              BEQ      |L1.18266|
004702  28e6              CMP      r0,#0xe6              ;7539
004704  d02c              BEQ      |L1.18272|
                  |L1.18182|
004706  e1e0              B        |L1.19146|
                  |L1.18184|
004708  6848              LDR      r0,[r1,#4]            ;7513  ; mess_data
00470a  8d21              LDRH     r1,[r4,#0x28]         ;7513  ; cntrl_stat_old
00470c  4408              ADD      r0,r0,r1              ;7513
00470e  84e0              STRH     r0,[r4,#0x26]         ;7513
004710  e1db              B        |L1.19146|
                  |L1.18194|
004712  6848              LDR      r0,[r1,#4]            ;7517  ; mess_data
004714  8d21              LDRH     r1,[r4,#0x28]         ;7517  ; cntrl_stat_old
004716  eba10000          SUB      r0,r1,r0              ;7517
00471a  84e0              STRH     r0,[r4,#0x26]         ;7517
00471c  e1d5              B        |L1.19146|
                  |L1.18206|
00471e  8ce0              LDRH     r0,[r4,#0x26]         ;7522  ; cntrl_stat
004720  f1a00001          SUB      r0,r0,#1              ;7522
004724  b200              SXTH     r0,r0                 ;7522
004726  84e0              STRH     r0,[r4,#0x26]         ;7522
004728  281e              CMP      r0,#0x1e              ;7524
00472a  dd06              BLE      |L1.18234|
00472c  4999              LDR      r1,|L1.18836|
00472e  f9b30000          LDRSH    r0,[r3,#0]            ;7524  ; load_U
004732  f9b11000          LDRSH    r1,[r1,#0]            ;7524  ; USIGN
004736  4288              CMP      r0,r1                 ;7524
004738  da0d              BGE      |L1.18262|
                  |L1.18234|
00473a  7860              LDRB     r0,[r4,#1]            ;7526  ; cntrlStatIsDownCnt
00473c  1c40              ADDS     r0,r0,#1              ;7526
00473e  b2c0              UXTB     r0,r0                 ;7526
004740  7060              STRB     r0,[r4,#1]            ;7526
004742  28fa              CMP      r0,#0xfa              ;7526
004744  d1df              BNE      |L1.18182|
004746  230a              MOVS     r3,#0xa               ;7526
004748  2200              MOVS     r2,#0                 ;7526
00474a  21e7              MOVS     r1,#0xe7              ;7526
00474c  20e6              MOVS     r0,#0xe6              ;7526
00474e  f7fffffe          BL       mess_send
004752  e1ba              B        |L1.19146|
                  |L1.18260|
004754  e047              B        |L1.18406|
                  |L1.18262|
004756  7065              STRB     r5,[r4,#1]            ;7530
004758  e1b7              B        |L1.19146|
                  |L1.18266|
00475a  6848              LDR      r0,[r1,#4]            ;7536  ; mess_data
00475c  84e0              STRH     r0,[r4,#0x26]         ;7536
00475e  e1b4              B        |L1.19146|
                  |L1.18272|
004760  f9b31000          LDRSH    r1,[r3,#0]            ;7542  ; load_U
004764  f9b90000          LDRSH    r0,[r9,#0]            ;7542  ; u_necc
004768  4281              CMP      r1,r0                 ;7542
00476a  dd1b              BLE      |L1.18340|
00476c  f04f010b          MOV      r1,#0xb               ;7544
004770  77e1              STRB     r1,[r4,#0x1f]         ;7544
004772  f9b21000          LDRSH    r1,[r2,#0]            ;7545  ; bps_U
004776  eba10000          SUB      r0,r1,r0              ;7545
00477a  2828              CMP      r0,#0x28              ;7545
00477c  dd07              BLE      |L1.18318|
00477e  f9b40026          LDRSH    r0,[r4,#0x26]         ;7545  ; cntrl_stat
004782  2800              CMP      r0,#0                 ;7545
004784  dd03              BLE      |L1.18318|
004786  f1a00005          SUB      r0,r0,#5              ;7545
00478a  84e0              STRH     r0,[r4,#0x26]         ;7545
00478c  e19d              B        |L1.19146|
                  |L1.18318|
00478e  f9b40026          LDRSH    r0,[r4,#0x26]         ;7546  ; cntrl_stat
004792  2800              CMP      r0,#0                 ;7546
004794  d0b7              BEQ      |L1.18182|
004796  7a21              LDRB     r1,[r4,#8]            ;7546  ; b1Hz_ch
004798  2900              CMP      r1,#0                 ;7546
00479a  d0b4              BEQ      |L1.18182|
00479c  f1a00001          SUB      r0,r0,#1              ;7546
0047a0  84e0              STRH     r0,[r4,#0x26]         ;7546
0047a2  e192              B        |L1.19146|
                  |L1.18340|
0047a4  f9b21000          LDRSH    r1,[r2,#0]            ;7548  ; bps_U
0047a8  4281              CMP      r1,r0                 ;7548
0047aa  daac              BGE      |L1.18182|
0047ac  f04f020c          MOV      r2,#0xc               ;7550
0047b0  77e2              STRB     r2,[r4,#0x1f]         ;7550
0047b2  eba00001          SUB      r0,r0,r1              ;7551
0047b6  2828              CMP      r0,#0x28              ;7551
0047b8  dd09              BLE      |L1.18382|
0047ba  f9b40026          LDRSH    r0,[r4,#0x26]         ;7551  ; cntrl_stat
0047be  f24031f7          MOV      r1,#0x3f7             ;7551
0047c2  4288              CMP      r0,r1                 ;7551
0047c4  da03              BGE      |L1.18382|
0047c6  f1000005          ADD      r0,r0,#5              ;7551
0047ca  84e0              STRH     r0,[r4,#0x26]         ;7551
0047cc  e17d              B        |L1.19146|
                  |L1.18382|
0047ce  f9b40026          LDRSH    r0,[r4,#0x26]         ;7552  ; cntrl_stat
0047d2  f5b07f7f          CMP      r0,#0x3fc             ;7552
0047d6  da96              BGE      |L1.18182|
0047d8  7a21              LDRB     r1,[r4,#8]            ;7552  ; b1Hz_ch
0047da  2900              CMP      r1,#0                 ;7552
0047dc  d093              BEQ      |L1.18182|
0047de  f1000001          ADD      r0,r0,#1              ;7552
0047e2  84e0              STRH     r0,[r4,#0x26]         ;7552
0047e4  e171              B        |L1.19146|
                  |L1.18406|
0047e6  7a20              LDRB     r0,[r4,#8]            ;7599  ; b1Hz_ch
0047e8  2800              CMP      r0,#0                 ;7599
0047ea  d08c              BEQ      |L1.18182|
0047ec  486a              LDR      r0,|L1.18840|
0047ee  8800              LDRH     r0,[r0,#0]            ;7599  ; bIBAT_SMKLBR
0047f0  b118              CBZ      r0,|L1.18426|
0047f2  f89b02e3          LDRB     r0,[r11,#0x2e3]       ;7599  ; bps
0047f6  2828              CMP      r0,#0x28              ;7599
0047f8  d985              BLS      |L1.18182|
                  |L1.18426|
0047fa  f9b40028          LDRSH    r0,[r4,#0x28]         ;7601  ; cntrl_stat_old
0047fe  87a0              STRH     r0,[r4,#0x3c]         ;7601
004800  f04f0113          MOV      r1,#0x13              ;7602
004804  77e1              STRB     r1,[r4,#0x1f]         ;7602
004806  f9b4103e          LDRSH    r1,[r4,#0x3e]         ;7603  ; Ibmax
00480a  f8b43040          LDRH     r3,[r4,#0x40]         ;7603  ; IZMAX_
00480e  fb91fcf8          SDIV     r12,r1,r8             ;7603
004812  ebbc0f43          CMP      r12,r3,LSL #1         ;7603
004816  dd0d              BLE      |L1.18484|
004818  f04f0114          MOV      r1,#0x14              ;7605
00481c  77e1              STRB     r1,[r4,#0x1f]         ;7605
00481e  f8b41068          LDRH     r1,[r4,#0x68]         ;7606  ; cntrl_stat_blok_cnt
004822  b119              CBZ      r1,|L1.18476|
004824  f1a00001          SUB      r0,r0,#1              ;7606
004828  87a0              STRH     r0,[r4,#0x3c]         ;7606
00482a  e11a              B        |L1.19042|
                  |L1.18476|
00482c  f1a0000a          SUB      r0,r0,#0xa            ;7607
004830  87a0              STRH     r0,[r4,#0x3c]         ;7607
004832  e116              B        |L1.19042|
                  |L1.18484|
004834  da11              BGE      |L1.18522|
004836  ebc31803          RSB      r8,r3,r3,LSL #4       ;7609
00483a  4588              CMP      r8,r1                 ;7609
00483c  da0d              BGE      |L1.18522|
00483e  f04f0115          MOV      r1,#0x15              ;7611
004842  77e1              STRB     r1,[r4,#0x1f]         ;7611
004844  f8b41068          LDRH     r1,[r4,#0x68]         ;7612  ; cntrl_stat_blok_cnt
004848  b119              CBZ      r1,|L1.18514|
00484a  f1a00001          SUB      r0,r0,#1              ;7612
00484e  87a0              STRH     r0,[r4,#0x3c]         ;7612
004850  e107              B        |L1.19042|
                  |L1.18514|
004852  f1a00003          SUB      r0,r0,#3              ;7613
004856  87a0              STRH     r0,[r4,#0x3c]         ;7613
004858  e103              B        |L1.19042|
                  |L1.18522|
00485a  ebc31803          RSB      r8,r3,r3,LSL #4       ;7615
00485e  4588              CMP      r8,r1                 ;7615
004860  dd08              BLE      |L1.18548|
004862  459c              CMP      r12,r3                ;7615
004864  dd06              BLE      |L1.18548|
004866  f04f0116          MOV      r1,#0x16              ;7617
00486a  77e1              STRB     r1,[r4,#0x1f]         ;7617
00486c  f1a00001          SUB      r0,r0,#1              ;7618
004870  87a0              STRH     r0,[r4,#0x3c]         ;7618
004872  e0f6              B        |L1.19042|
                  |L1.18548|
004874  f9b2c000          LDRSH    r12,[r2,#0]           ;7621  ; bps_U
004878  f9b92000          LDRSH    r2,[r9,#0]            ;7621  ; u_necc
00487c  f8df911c          LDR      r9,|L1.18844|
004880  f8dfa11c          LDR      r10,|L1.18848|
004884  4594              CMP      r12,r2                ;7621
004886  da52              BGE      |L1.18734|
004888  f04f0817          MOV      r8,#0x17              ;7623
00488c  f884801f          STRB     r8,[r4,#0x1f]         ;7623
004890  f9b98000          LDRSH    r8,[r9,#0]            ;7624  ; UB0
004894  f9ba9000          LDRSH    r9,[r10,#0]           ;7624  ; UB20
004898  eba80809          SUB      r8,r8,r9              ;7624
00489c  eba20908          SUB      r9,r2,r8              ;7624
0048a0  45e1              CMP      r9,r12                ;7624
0048a2  dd2e              BLE      |L1.18690|
0048a4  f04f0218          MOV      r2,#0x18              ;7626
0048a8  77e2              STRB     r2,[r4,#0x1f]         ;7626
0048aa  2900              CMP      r1,#0                 ;7627
0048ac  da0d              BGE      |L1.18634|
0048ae  f04f0119          MOV      r1,#0x19              ;7629
0048b2  77e1              STRB     r1,[r4,#0x1f]         ;7629
0048b4  f8b41068          LDRH     r1,[r4,#0x68]         ;7630  ; cntrl_stat_blok_cnt
0048b8  b119              CBZ      r1,|L1.18626|
0048ba  f1000001          ADD      r0,r0,#1              ;7630
0048be  87a0              STRH     r0,[r4,#0x3c]         ;7630
0048c0  e0cf              B        |L1.19042|
                  |L1.18626|
0048c2  f100000a          ADD      r0,r0,#0xa            ;7631
0048c6  87a0              STRH     r0,[r4,#0x3c]         ;7631
0048c8  e0cb              B        |L1.19042|
                  |L1.18634|
0048ca  eb030283          ADD      r2,r3,r3,LSL #2       ;7633
0048ce  428a              CMP      r2,r1                 ;7633
0048d0  dd0d              BLE      |L1.18670|
0048d2  f04f011a          MOV      r1,#0x1a              ;7635
0048d6  77e1              STRB     r1,[r4,#0x1f]         ;7635
0048d8  f8b41068          LDRH     r1,[r4,#0x68]         ;7636  ; cntrl_stat_blok_cnt
0048dc  b119              CBZ      r1,|L1.18662|
0048de  f1000001          ADD      r0,r0,#1              ;7636
0048e2  87a0              STRH     r0,[r4,#0x3c]         ;7636
0048e4  e0bd              B        |L1.19042|
                  |L1.18662|
0048e6  f1000002          ADD      r0,r0,#2              ;7637
0048ea  87a0              STRH     r0,[r4,#0x3c]         ;7637
0048ec  e0b9              B        |L1.19042|
                  |L1.18670|
0048ee  ebb10f42          CMP      r1,r2,LSL #1          ;7639
0048f2  da05              BGE      |L1.18688|
0048f4  f04f011b          MOV      r1,#0x1b              ;7641
0048f8  77e1              STRB     r1,[r4,#0x1f]         ;7641
0048fa  f1000001          ADD      r0,r0,#1              ;7642
0048fe  87a0              STRH     r0,[r4,#0x3c]         ;7642
                  |L1.18688|
004900  e0af              B        |L1.19042|
                  |L1.18690|
004902  ea4f79e8          ASR      r9,r8,#31             ;7645
004906  eb087899          ADD      r8,r8,r9,LSR #30      ;7645
00490a  eba208a8          SUB      r8,r2,r8,ASR #2       ;7645
00490e  45e0              CMP      r8,r12                ;7645
004910  dd5b              BLE      |L1.18890|
004912  f04f021c          MOV      r2,#0x1c              ;7647
004916  77e2              STRB     r2,[r4,#0x1f]         ;7647
004918  eb030283          ADD      r2,r3,r3,LSL #2       ;7648
00491c  428a              CMP      r2,r1                 ;7648
00491e  dd4a              BLE      |L1.18870|
004920  f04f011d          MOV      r1,#0x1d              ;7650
004924  77e1              STRB     r1,[r4,#0x1f]         ;7650
004926  f8b41068          LDRH     r1,[r4,#0x68]         ;7651  ; cntrl_stat_blok_cnt
00492a  b3d9              CBZ      r1,|L1.18852|
00492c  e03b              B        |L1.18854|
                  |L1.18734|
00492e  e05e              B        |L1.18926|
                  |L1.18736|
                          DCD      u_necc_up
                  |L1.18740|
                          DCD      ||area_number.23||
                  |L1.18744|
                          DCD      Isumm
                  |L1.18748|
                          DCD      Isumm_
                  |L1.18752|
                          DCD      bat
                  |L1.18756|
                          DCD      IMAX
                  |L1.18760|
                          DCD      IMIN
                  |L1.18764|
                          DCD      num_necc
                  |L1.18768|
                          DCD      PAR
                  |L1.18772|
                          DCD      NUMIST
                  |L1.18776|
                          DCD      IZMAX
                  |L1.18780|
                          DCD      speedChIsOn
                  |L1.18784|
                          DCD      sp_ch_stat
                  |L1.18788|
                          DCD      speedChrgCurr
                  |L1.18792|
                          DCD      UZ_IMAX
                  |L1.18796|
                          DCD      FZ_IMAX1
                  |L1.18800|
                          DCD      FZ_IMAX2
                  |L1.18804|
                          DCD      IMAX_VZ
                  |L1.18808|
                          DCD      REG_SPEED
                  |L1.18812|
                          DCD      u_necc
                  |L1.18816|
                          DCD      bps_U
                  |L1.18820|
                          DCD      bps
                  |L1.18824|
                          DCD      ica_cntrl_hndl_cnt
                  |L1.18828|
                          DCD      mess_data
                  |L1.18832|
                          DCD      load_U
                  |L1.18836|
                          DCD      USIGN
                  |L1.18840|
                          DCD      bIBAT_SMKLBR
                  |L1.18844|
                          DCD      UB0
                  |L1.18848|
                          DCD      UB20
                  |L1.18852|
0049a4  e003              B        |L1.18862|
                  |L1.18854|
0049a6  f1000001          ADD      r0,r0,#1              ;7651
0049aa  87a0              STRH     r0,[r4,#0x3c]         ;7651
0049ac  e059              B        |L1.19042|
                  |L1.18862|
0049ae  f1000002          ADD      r0,r0,#2              ;7652
0049b2  87a0              STRH     r0,[r4,#0x3c]         ;7652
0049b4  e055              B        |L1.19042|
                  |L1.18870|
0049b6  ebb10f42          CMP      r1,r2,LSL #1          ;7654
0049ba  da52              BGE      |L1.19042|
0049bc  f04f011e          MOV      r1,#0x1e              ;7656
0049c0  77e1              STRB     r1,[r4,#0x1f]         ;7656
0049c2  f1000001          ADD      r0,r0,#1              ;7657
0049c6  87a0              STRH     r0,[r4,#0x3c]         ;7657
0049c8  e04b              B        |L1.19042|
                  |L1.18890|
0049ca  1e52              SUBS     r2,r2,#1              ;7660
0049cc  4594              CMP      r12,r2                ;7660
0049ce  da48              BGE      |L1.19042|
0049d0  f04f021f          MOV      r2,#0x1f              ;7662
0049d4  77e2              STRB     r2,[r4,#0x1f]         ;7662
0049d6  eb030283          ADD      r2,r3,r3,LSL #2       ;7663
0049da  ebb10f42          CMP      r1,r2,LSL #1          ;7663
0049de  da40              BGE      |L1.19042|
0049e0  f04f0120          MOV      r1,#0x20              ;7665
0049e4  77e1              STRB     r1,[r4,#0x1f]         ;7665
0049e6  f1000001          ADD      r0,r0,#1              ;7666
0049ea  87a0              STRH     r0,[r4,#0x3c]         ;7666
0049ec  e039              B        |L1.19042|
                  |L1.18926|
0049ee  dd38              BLE      |L1.19042|
0049f0  f04f0121          MOV      r1,#0x21              ;7672
0049f4  77e1              STRB     r1,[r4,#0x1f]         ;7672
0049f6  f9b91000          LDRSH    r1,[r9,#0]            ;7673  ; UB0
0049fa  f9ba3000          LDRSH    r3,[r10,#0]           ;7673  ; UB20
0049fe  eba10103          SUB      r1,r1,r3              ;7673
004a02  eb010302          ADD      r3,r1,r2              ;7673
004a06  4563              CMP      r3,r12                ;7673
004a08  da0d              BGE      |L1.18982|
004a0a  f04f0122          MOV      r1,#0x22              ;7675
004a0e  77e1              STRB     r1,[r4,#0x1f]         ;7675
004a10  f8b41068          LDRH     r1,[r4,#0x68]         ;7676  ; cntrl_stat_blok_cnt
004a14  b119              CBZ      r1,|L1.18974|
004a16  f1a00001          SUB      r0,r0,#1              ;7676
004a1a  87a0              STRH     r0,[r4,#0x3c]         ;7676
004a1c  e021              B        |L1.19042|
                  |L1.18974|
004a1e  f1a0000a          SUB      r0,r0,#0xa            ;7677
004a22  87a0              STRH     r0,[r4,#0x3c]         ;7677
004a24  e01d              B        |L1.19042|
                  |L1.18982|
004a26  17cb              ASRS     r3,r1,#31             ;7679
004a28  eb017193          ADD      r1,r1,r3,LSR #30      ;7679
004a2c  eb0201a1          ADD      r1,r2,r1,ASR #2       ;7679
004a30  4561              CMP      r1,r12                ;7679
004a32  da0d              BGE      |L1.19024|
004a34  f04f0123          MOV      r1,#0x23              ;7681
004a38  77e1              STRB     r1,[r4,#0x1f]         ;7681
004a3a  f8b41068          LDRH     r1,[r4,#0x68]         ;7682  ; cntrl_stat_blok_cnt
004a3e  b119              CBZ      r1,|L1.19016|
004a40  f1a00001          SUB      r0,r0,#1              ;7682
004a44  87a0              STRH     r0,[r4,#0x3c]         ;7682
004a46  e00c              B        |L1.19042|
                  |L1.19016|
004a48  f1a00002          SUB      r0,r0,#2              ;7683
004a4c  87a0              STRH     r0,[r4,#0x3c]         ;7683
004a4e  e008              B        |L1.19042|
                  |L1.19024|
004a50  1c52              ADDS     r2,r2,#1              ;7685
004a52  4594              CMP      r12,r2                ;7685
004a54  dd05              BLE      |L1.19042|
004a56  f04f0124          MOV      r1,#0x24              ;7687
004a5a  77e1              STRB     r1,[r4,#0x1f]         ;7687
004a5c  f1a00001          SUB      r0,r0,#1              ;7688
004a60  87a0              STRH     r0,[r4,#0x3c]         ;7688
                  |L1.19042|
004a62  48ff              LDR      r0,|L1.20064|
004a64  f8941020          LDRB     r1,[r4,#0x20]         ;7692  ; vz1_stat
004a68  7800              LDRB     r0,[r0,#0]            ;7692  ; hv_vz_stat
004a6a  4308              ORRS     r0,r0,r1              ;7692
004a6c  f8941023          LDRB     r1,[r4,#0x23]         ;7692  ; vz2_stat
004a70  4308              ORRS     r0,r0,r1              ;7692
004a72  d10d              BNE      |L1.19088|
004a74  48fb              LDR      r0,|L1.20068|
004a76  7840              LDRB     r0,[r0,#1]            ;7694  ; sk_stat
004a78  2801              CMP      r0,#1                 ;7694
004a7a  d109              BNE      |L1.19088|
004a7c  48fa              LDR      r0,|L1.20072|
004a7e  7840              LDRB     r0,[r0,#1]            ;7694  ; sk_stat_old
004a80  b930              CBNZ     r0,|L1.19088|
004a82  48fa              LDR      r0,|L1.20076|
004a84  8800              LDRH     r0,[r0,#0]            ;7694  ; VZ_KIND
004a86  2801              CMP      r0,#1                 ;7694
004a88  d102              BNE      |L1.19088|
004a8a  f04f0032          MOV      r0,#0x32              ;7694
004a8e  87a0              STRH     r0,[r4,#0x3c]         ;7694
                  |L1.19088|
004a90  f24032f2          MOV      r2,#0x3f2             ;7697
004a94  210a              MOVS     r1,#0xa               ;7697
004a96  48f6              LDR      r0,|L1.20080|
004a98  f7fffffe          BL       gran
004a9c  8fa0              LDRH     r0,[r4,#0x3c]         ;7698  ; cntrl_stat_new
004a9e  8520              STRH     r0,[r4,#0x28]         ;7698
004aa0  84e0              STRH     r0,[r4,#0x26]         ;7699
004aa2  48f4              LDR      r0,|L1.20084|
004aa4  f9b00000          LDRSH    r0,[r0,#0]            ;7701  ; ICA_EN
004aa8  b930              CBNZ     r0,|L1.19128|
004aaa  8839              LDRH     r1,[r7,#0]  ; ica_cntrl_hndl_cnt
004aac  b121              CBZ      r1,|L1.19128|
;;;7704   			{
;;;7705   			cntrl_stat = ica_cntrl_hndl;
004aae  49f2              LDR      r1,|L1.20088|
004ab0  8809              LDRH     r1,[r1,#0]  ; ica_cntrl_hndl
004ab2  84e1              STRH     r1,[r4,#0x26]
;;;7706   			cntrl_stat_new = ica_cntrl_hndl;//=10*PWM_START;
004ab4  87a1              STRH     r1,[r4,#0x3c]
;;;7707   			cntrl_stat_old = ica_cntrl_hndl;//=10*PWM_START;
004ab6  8521              STRH     r1,[r4,#0x28]
                  |L1.19128|
;;;7708   			}
;;;7709   		}
;;;7710   	
;;;7711   	if((ICA_EN==1)||(ICA_EN==2))
004ab8  2801              CMP      r0,#1
004aba  d001              BEQ      |L1.19136|
004abc  2802              CMP      r0,#2
004abe  d104              BNE      |L1.19146|
                  |L1.19136|
;;;7712   		{
;;;7713   		cntrl_stat=cntrl_stat_new+ica_u_necc;
004ac0  49ee              LDR      r1,|L1.20092|
004ac2  8fa0              LDRH     r0,[r4,#0x3c]  ; cntrl_stat_new
004ac4  8809              LDRH     r1,[r1,#0]  ; ica_u_necc
004ac6  4408              ADD      r0,r0,r1
004ac8  84e0              STRH     r0,[r4,#0x26]
                  |L1.19146|
;;;7714   		}			
;;;7715   	}
;;;7716   #else
;;;7717   else if((b1Hz_ch)&&((!bIBAT_SMKLBR)||(bps[8]._cnt>40)))
;;;7718   	{
;;;7719   	cntrl_hndl_plazma=37;
;;;7720   	cntrl_stat_new=cntrl_stat_old;
;;;7721   	
;;;7722   	if((Ibmax/10)>(2*IZMAX_))
;;;7723   		{
;;;7724   		cntrl_hndl_plazma=38;
;;;7725             if(cntrl_stat_blok_cnt)cntrl_stat_new--;
;;;7726   		else	cntrl_stat_new-=10;
;;;7727   		}		
;;;7728   	else if(((Ibmax/10)<(IZMAX_*2))&&(Ibmax>(IZMAX_*15)))
;;;7729   		{
;;;7730   		cntrl_hndl_plazma=39;
;;;7731             if(cntrl_stat_blok_cnt)cntrl_stat_new--;
;;;7732             else	cntrl_stat_new-=3;
;;;7733   		}   
;;;7734   	else if((Ibmax<(IZMAX_*15))&&((Ibmax/10)>IZMAX_))
;;;7735   		{
;;;7736   		cntrl_hndl_plazma=40;
;;;7737   		cntrl_stat_new--;
;;;7738   		}
;;;7739   		
;;;7740   	else if(load_U<u_necc)
;;;7741   		{
;;;7742   		cntrl_hndl_plazma=41;
;;;7743   		if(load_U<(u_necc-(UB0-UB20)))
;;;7744   			{
;;;7745   			cntrl_hndl_plazma=42;
;;;7746   			if(Ibmax<0)
;;;7747   				{
;;;7748   				cntrl_hndl_plazma=43;
;;;7749                       if(cntrl_stat_blok_cnt)cntrl_stat_new++;
;;;7750   				else cntrl_stat_new+=10;
;;;7751   				}
;;;7752   			else if(Ibmax<(IZMAX_*5))
;;;7753   				{
;;;7754   				cntrl_hndl_plazma=44;
;;;7755                       if(cntrl_stat_blok_cnt)cntrl_stat_new++;
;;;7756   				else	cntrl_stat_new+=2;
;;;7757   				}
;;;7758   			else if(Ibmax<((IZMAX_*95)/10))
;;;7759   				{
;;;7760   				cntrl_hndl_plazma=45;
;;;7761   				cntrl_stat_new++;
;;;7762   				}					
;;;7763   			}
;;;7764   		else if(load_U<(u_necc-((UB0-UB20)/4)))
;;;7765   			{
;;;7766   			cntrl_hndl_plazma=46;
;;;7767   			if(Ibmax<(IZMAX_*5))
;;;7768   				{
;;;7769   				cntrl_hndl_plazma=47;
;;;7770                       if(cntrl_stat_blok_cnt)cntrl_stat_new++;
;;;7771   				else	cntrl_stat_new+=2;
;;;7772   				}
;;;7773   			else if(Ibmax<((IZMAX_*95)/10))
;;;7774   				{
;;;7775   				cntrl_hndl_plazma=48;
;;;7776   				cntrl_stat_new++;
;;;7777   				}					
;;;7778   			}	
;;;7779   		else if(load_U<(u_necc-1))
;;;7780   			{
;;;7781   			cntrl_hndl_plazma=49;
;;;7782   			if(Ibmax<((IZMAX_*95)/10))
;;;7783   				{
;;;7784   				cntrl_hndl_plazma=50;
;;;7785   				cntrl_stat_new++;
;;;7786   				}					
;;;7787   			}					
;;;7788   		}	
;;;7789   	else if((load_U>u_necc)/*&&(!cntrl_blok)*/)
;;;7790   		{
;;;7791   		cntrl_hndl_plazma=51;
;;;7792   		if(load_U>(u_necc+(UB0-UB20)))
;;;7793   			{
;;;7794   			cntrl_hndl_plazma=52;
;;;7795                  if(cntrl_stat_blok_cnt)cntrl_stat_new--;
;;;7796   			else	cntrl_stat_new-=10;
;;;7797   			}
;;;7798   		else if(load_U>(u_necc+((UB0-UB20)/4)))
;;;7799   			{
;;;7800   			cntrl_hndl_plazma=53;
;;;7801                  if(cntrl_stat_blok_cnt)cntrl_stat_new--;
;;;7802   			else cntrl_stat_new-=2;
;;;7803   			}	
;;;7804   		else if(load_U>(u_necc+1))
;;;7805   			{
;;;7806   			cntrl_hndl_plazma=54;
;;;7807   			cntrl_stat_new--;
;;;7808   			}					
;;;7809   		}
;;;7810   
;;;7811   	gran(&cntrl_stat_new,10,1010);			
;;;7812   	cntrl_stat_old=cntrl_stat_new;
;;;7813   	cntrl_stat=cntrl_stat_new;	
;;;7814   	}
;;;7815   #endif
;;;7816   
;;;7817   iiii=0;
004aca  72a5              STRB     r5,[r4,#0xa]
;;;7818   for(i=0;i<NUMIST;i++)
004acc  7265              STRB     r5,[r4,#9]
004ace  48ec              LDR      r0,|L1.20096|
004ad0  4659              MOV      r1,r11                ;7599
004ad2  f9b02000          LDRSH    r2,[r0,#0]
004ad6  e00c              B        |L1.19186|
                  |L1.19160|
;;;7819        {
;;;7820        if(bps[i]._cnt<30)iiii=1;
004ad8  ebc003c0          RSB      r3,r0,r0,LSL #3
004adc  eb031300          ADD      r3,r3,r0,LSL #4
004ae0  eb010383          ADD      r3,r1,r3,LSL #2
004ae4  78db              LDRB     r3,[r3,#3]
004ae6  2b1e              CMP      r3,#0x1e
004ae8  d200              BCS      |L1.19180|
004aea  72a6              STRB     r6,[r4,#0xa]
                  |L1.19180|
004aec  f1000001          ADD      r0,r0,#1              ;7818
004af0  7260              STRB     r0,[r4,#9]            ;7818
                  |L1.19186|
004af2  7a60              LDRB     r0,[r4,#9]            ;7818  ; i
004af4  4290              CMP      r0,r2                 ;7818
004af6  dbef              BLT      |L1.19160|
;;;7821        }
;;;7822   
;;;7823   if(iiii==0)
004af8  7aa0              LDRB     r0,[r4,#0xa]  ; iiii
004afa  b920              CBNZ     r0,|L1.19206|
;;;7824        {
;;;7825        cntrl_stat=600;	
004afc  f44f7016          MOV      r0,#0x258
004b00  84e0              STRH     r0,[r4,#0x26]
;;;7826        cntrl_stat_old=600;
004b02  8520              STRH     r0,[r4,#0x28]
;;;7827        cntrl_stat_new=600;
004b04  87a0              STRH     r0,[r4,#0x3c]
                  |L1.19206|
;;;7828   	#ifdef UKU_TELECORE2015
;;;7829   	//cntrl_stat=0;
;;;7830   	//cntrl_stat_old=0;
;;;7831   	//cntrl_stat_new=0;
;;;7832   	#endif
;;;7833        }
;;;7834   
;;;7835   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;7836   if(ica_cntrl_hndl_cnt)	ica_cntrl_hndl_cnt--;
004b06  f9b70000          LDRSH    r0,[r7,#0]  ; ica_cntrl_hndl_cnt
004b0a  b110              CBZ      r0,|L1.19218|
004b0c  f1a00001          SUB      r0,r0,#1
004b10  8038              STRH     r0,[r7,#0]
                  |L1.19218|
;;;7837   
;;;7838   
;;;7839   
;;;7840   #endif
;;;7841   
;;;7842   
;;;7843   gran(&cntrl_stat,10,1010); 
004b12  48d7              LDR      r0,|L1.20080|
004b14  f24032f2          MOV      r2,#0x3f2
004b18  210a              MOVS     r1,#0xa
004b1a  3816              SUBS     r0,r0,#0x16
004b1c  f7fffffe          BL       gran
;;;7844   b1Hz_ch=0;
004b20  7225              STRB     r5,[r4,#8]
                  |L1.19234|
;;;7845   }
004b22  e8bd9ff0          POP      {r4-r12,pc}
;;;7846   #endif
                          ENDP

                  ext_drv PROC
;;;8335   //-----------------------------------------------
;;;8336   void ext_drv(void)
004b26  e92d5ff0          PUSH     {r4-r12,lr}
;;;8337   {
;;;8338   char i;
;;;8339   
;;;8340   
;;;8341   for(i=0;i<NUMSK;i++)
004b2a  f04f0000          MOV      r0,#0
004b2e  4ad6              LDR      r2,|L1.20104|
;;;8342   	{
;;;8343   	#ifdef UKU_MGTS
;;;8344   	if(adc_buff_[sk_buff_RSTKM[i]]<2000)
;;;8345   	#endif
;;;8346   	#ifdef UKU_RSTKM
;;;8347   	if(adc_buff_[sk_buff_RSTKM[i]]<2000)
;;;8348   	#endif
;;;8349   	#ifdef UKU_3U
;;;8350   	if(adc_buff_[sk_buff_3U[i]]<2000)
;;;8351   	#endif
;;;8352   	#ifdef UKU_GLONASS
;;;8353   	if(adc_buff_[sk_buff_GLONASS[i]]<2000)
;;;8354   	#endif
;;;8355   	#ifdef UKU_KONTUR
;;;8356   	if(adc_buff_[sk_buff_KONTUR[i]]<2000)
;;;8357   	#endif
;;;8358   	#ifdef UKU_6U
;;;8359   	if(adc_buff_[sk_buff_6U[i]]<2000)
;;;8360   	#endif
;;;8361   	#ifdef UKU_220
;;;8362   	if(adc_buff_[sk_buff_220[i]]<2000)
;;;8363   	#endif
;;;8364   	#ifdef UKU_220_V2
;;;8365   	if(adc_buff_[sk_buff_220[i]]<2000)
;;;8366   	#endif
;;;8367   	#ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;8368   	if(adc_buff_[sk_buff_220[i]]<2000)
;;;8369   	#endif
;;;8370   	#ifdef UKU_TELECORE2015	
;;;8371   	if(adc_buff_[sk_buff_TELECORE2015[i]]<2000)	 //TODO
;;;8372   	#endif
;;;8373   	#ifdef UKU_TELECORE2017
;;;8374   	if(adc_buff_[sk_buff_TELECORE2015[i]]<2000)	 //TODO
;;;8375   	#endif
;;;8376   	#ifdef IPS_SGEP_GAZPROM
;;;8377   	if(adc_buff_[sk_buff_6U[i]]<2000)
;;;8378   	#endif		
;;;8379   		{
;;;8380   		if(sk_cnt[i]<10)
004b30  4bd4              LDR      r3,|L1.20100|
;;;8381   			{
;;;8382   			sk_cnt[i]++;
;;;8383   			if(sk_cnt[i]>=10)
;;;8384   				{
;;;8385   				sk_stat[i]=ssON;
004b32  4dcc              LDR      r5,|L1.20068|
004b34  f04f0a01          MOV      r10,#1
;;;8386   				}
;;;8387   			}
;;;8388   		else 
;;;8389   			{
;;;8390   			sk_cnt[i]=10;
004b38  f04f0b0a          MOV      r11,#0xa
004b3c  4606              MOV      r6,r0                 ;8341
004b3e  f9b24000          LDRSH    r4,[r2,#0]            ;8341
004b42  e025              B        |L1.19344|
                  |L1.19268|
004b44  49d1              LDR      r1,|L1.20108|
004b46  4fd2              LDR      r7,|L1.20112|
004b48  5c09              LDRB     r1,[r1,r0]            ;8368
004b4a  f9371011          LDRSH    r1,[r7,r1,LSL #1]     ;8368
004b4e  f5b16ffa          CMP      r1,#0x7d0             ;8368
004b52  da0e              BGE      |L1.19314|
004b54  5619              LDRSB    r1,[r3,r0]            ;8380
004b56  290a              CMP      r1,#0xa               ;8380
004b58  da08              BGE      |L1.19308|
004b5a  f1010101          ADD      r1,r1,#1              ;8382
004b5e  b249              SXTB     r1,r1                 ;8382
004b60  5419              STRB     r1,[r3,r0]            ;8382
004b62  290a              CMP      r1,#0xa               ;8383
004b64  db11              BLT      |L1.19338|
004b66  f805a000          STRB     r10,[r5,r0]           ;8385
004b6a  e00e              B        |L1.19338|
                  |L1.19308|
004b6c  f803b000          STRB     r11,[r3,r0]
004b70  e00b              B        |L1.19338|
                  |L1.19314|
;;;8391   			}
;;;8392                  
;;;8393   		}
;;;8394   	else
;;;8395   		{
;;;8396   		if(sk_cnt[i]>0)
004b72  5619              LDRSB    r1,[r3,r0]
004b74  2900              CMP      r1,#0
004b76  dd07              BLE      |L1.19336|
;;;8397   			{
;;;8398   			sk_cnt[i]--;
004b78  f1a10101          SUB      r1,r1,#1
004b7c  b249              SXTB     r1,r1
004b7e  5419              STRB     r1,[r3,r0]
;;;8399   			if(sk_cnt[i]<=0)
004b80  2900              CMP      r1,#0
004b82  dc02              BGT      |L1.19338|
;;;8400   				{
;;;8401   				sk_stat[i]=ssOFF;
004b84  542e              STRB     r6,[r5,r0]
004b86  e000              B        |L1.19338|
                  |L1.19336|
;;;8402   				}
;;;8403   			}
;;;8404   		else 
;;;8405   			{
;;;8406   			sk_cnt[i]=0;
004b88  541e              STRB     r6,[r3,r0]
                  |L1.19338|
004b8a  f1000001          ADD      r0,r0,#1              ;8341
004b8e  b2c0              UXTB     r0,r0                 ;8341
                  |L1.19344|
004b90  42a0              CMP      r0,r4                 ;8341
004b92  dbd7              BLT      |L1.19268|
;;;8407   			}
;;;8408   		}
;;;8409   	}
;;;8410   
;;;8411   for(i=0;i<NUMSK;i++)
004b94  f04f0400          MOV      r4,#0
;;;8412   	{
;;;8413   	if(((SK_SIGN[i]==0)&&(sk_stat[i]==ssON))||((SK_SIGN[i])&&(sk_stat[i]==ssOFF)) )
;;;8414   		{
;;;8415   		if(sk_av_cnt[i]<10)
004b98  f8df92f8          LDR      r9,|L1.20116|
;;;8416   			{
;;;8417   			sk_av_cnt[i]++;
;;;8418   			if(sk_av_cnt[i]>=10)
;;;8419   				{
;;;8420   				sk_av_stat[i]=sasON;
004b9c  4fbe              LDR      r7,|L1.20120|
;;;8421   				}
;;;8422   			}
;;;8423   		else 
;;;8424   			{
;;;8425   			sk_av_cnt[i]=10;
;;;8426   			}
;;;8427   		}
;;;8428   	else
;;;8429   		{
;;;8430   		if(sk_av_cnt[i]>=0)
;;;8431   			{
;;;8432   			sk_av_cnt[i]--;
;;;8433   			if(sk_av_cnt[i]<=0)
;;;8434   				{
;;;8435   				sk_av_stat[i]=sasOFF;
;;;8436   				}
;;;8437   			}
;;;8438   		else 
;;;8439   			{
;;;8440   			sk_av_cnt[i]=0;
;;;8441   			}
;;;8442   		}
;;;8443   
;;;8444   #ifndef UKU_KONTUR
;;;8445   	if(sk_av_stat_old[i]!=sk_av_stat[i])
004b9e  f8df82fc          LDR      r8,|L1.20124|
004ba2  e083              B        |L1.19628|
                  |L1.19364|
004ba4  48be              LDR      r0,|L1.20128|
004ba6  f9300014          LDRSH    r0,[r0,r4,LSL #1]     ;8413
004baa  b910              CBNZ     r0,|L1.19378|
004bac  5d29              LDRB     r1,[r5,r4]            ;8413
004bae  2901              CMP      r1,#1                 ;8413
004bb0  d00f              BEQ      |L1.19410|
                  |L1.19378|
004bb2  b108              CBZ      r0,|L1.19384|
004bb4  5d28              LDRB     r0,[r5,r4]            ;8413
004bb6  b160              CBZ      r0,|L1.19410|
                  |L1.19384|
004bb8  f9190004          LDRSB    r0,[r9,r4]            ;8430
004bbc  2800              CMP      r0,#0                 ;8430
004bbe  db19              BLT      |L1.19444|
004bc0  f1a00001          SUB      r0,r0,#1              ;8432
004bc4  b240              SXTB     r0,r0                 ;8432
004bc6  f8090004          STRB     r0,[r9,r4]            ;8432
004bca  2800              CMP      r0,#0                 ;8433
004bcc  dc14              BGT      |L1.19448|
004bce  553e              STRB     r6,[r7,r4]            ;8435
004bd0  e012              B        |L1.19448|
                  |L1.19410|
004bd2  f9190004          LDRSB    r0,[r9,r4]            ;8415
004bd6  280a              CMP      r0,#0xa               ;8415
004bd8  da09              BGE      |L1.19438|
004bda  f1000001          ADD      r0,r0,#1              ;8417
004bde  b240              SXTB     r0,r0                 ;8417
004be0  f8090004          STRB     r0,[r9,r4]            ;8417
004be4  280a              CMP      r0,#0xa               ;8418
004be6  db07              BLT      |L1.19448|
004be8  f807a004          STRB     r10,[r7,r4]           ;8420
004bec  e004              B        |L1.19448|
                  |L1.19438|
004bee  f809b004          STRB     r11,[r9,r4]           ;8425
004bf2  e001              B        |L1.19448|
                  |L1.19444|
004bf4  f8096004          STRB     r6,[r9,r4]            ;8440
                  |L1.19448|
004bf8  f8181004          LDRB     r1,[r8,r4]
004bfc  5d38              LDRB     r0,[r7,r4]
004bfe  4281              CMP      r1,r0
004c00  d04e              BEQ      |L1.19616|
;;;8446   		{
;;;8447   		plazma_sk++;
004c02  4a9b              LDR      r2,|L1.20080|
004c04  3a3c              SUBS     r2,r2,#0x3c
004c06  8f51              LDRH     r1,[r2,#0x3a]  ; plazma_sk
004c08  f1010101          ADD      r1,r1,#1
004c0c  8751              STRH     r1,[r2,#0x3a]
;;;8448   		if(sk_av_stat[i]==sasON)
004c0e  2801              CMP      r0,#1
004c10  d007              BEQ      |L1.19490|
;;;8449   			{
;;;8450   			if(i==0)snmp_trap_send("SK #1 Alarm",15,1,1);
;;;8451   			else if(i==1)
;;;8452   				{
;;;8453   				#ifndef UKU_TELEKORE2017
;;;8454   				snmp_trap_send("SK #2 Alarm",15,2,1);
;;;8455   				#endif
;;;8456   				#ifdef UKU_TELEKORE2017
;;;8457   				snmp_trap_send("Door open",15,2,1);
;;;8458   				#endif
;;;8459   				}
;;;8460   			else if(i==2)snmp_trap_send("SK #3 Alarm",15,3,1);
;;;8461   			else if(i==3)snmp_trap_send("SK #4 Alarm",15,4,1);
;;;8462   			}
;;;8463   		else 
;;;8464   			{
;;;8465   			if(i==0)snmp_trap_send("SK #1 Alarm is off",15,1,0);
004c12  b354              CBZ      r4,|L1.19562|
;;;8466   			else if(i==1)
004c14  2c01              CMP      r4,#1
004c16  d02f              BEQ      |L1.19576|
;;;8467   				{
;;;8468   				#ifndef UKU_TELEKORE2017
;;;8469   				snmp_trap_send("SK #2 Alarm is off",15,2,0);
;;;8470   				#endif
;;;8471   				#ifdef UKU_TELEKORE2017
;;;8472   				snmp_trap_send("Door open clear",15,2,0);
;;;8473   				#endif
;;;8474   				}
;;;8475   			else if(i==2)snmp_trap_send("SK #3 Alarm is off",15,3,0);
004c18  2c02              CMP      r4,#2
004c1a  d034              BEQ      |L1.19590|
;;;8476   			else if(i==3)snmp_trap_send("SK #4 Alarm is off",15,4,0);
004c1c  2c03              CMP      r4,#3
004c1e  d039              BEQ      |L1.19604|
004c20  e03e              B        |L1.19616|
                  |L1.19490|
004c22  b134              CBZ      r4,|L1.19506|
004c24  2c01              CMP      r4,#1                 ;8451
004c26  d00b              BEQ      |L1.19520|
004c28  2c02              CMP      r4,#2                 ;8460
004c2a  d010              BEQ      |L1.19534|
004c2c  2c03              CMP      r4,#3                 ;8461
004c2e  d015              BEQ      |L1.19548|
004c30  e036              B        |L1.19616|
                  |L1.19506|
004c32  2301              MOVS     r3,#1                 ;8450
004c34  461a              MOV      r2,r3                 ;8450
004c36  210f              MOVS     r1,#0xf               ;8450
004c38  a09a              ADR      r0,|L1.20132|
004c3a  f7fffffe          BL       snmp_trap_send
004c3e  e02f              B        |L1.19616|
                  |L1.19520|
004c40  2301              MOVS     r3,#1                 ;8454
004c42  2202              MOVS     r2,#2                 ;8454
004c44  210f              MOVS     r1,#0xf               ;8454
004c46  a09a              ADR      r0,|L1.20144|
004c48  f7fffffe          BL       snmp_trap_send
004c4c  e028              B        |L1.19616|
                  |L1.19534|
004c4e  2301              MOVS     r3,#1                 ;8460
004c50  2203              MOVS     r2,#3                 ;8460
004c52  210f              MOVS     r1,#0xf               ;8460
004c54  a099              ADR      r0,|L1.20156|
004c56  f7fffffe          BL       snmp_trap_send
004c5a  e021              B        |L1.19616|
                  |L1.19548|
004c5c  2301              MOVS     r3,#1                 ;8461
004c5e  2204              MOVS     r2,#4                 ;8461
004c60  210f              MOVS     r1,#0xf               ;8461
004c62  a099              ADR      r0,|L1.20168|
004c64  f7fffffe          BL       snmp_trap_send
004c68  e01a              B        |L1.19616|
                  |L1.19562|
004c6a  2300              MOVS     r3,#0                 ;8465
004c6c  2201              MOVS     r2,#1                 ;8465
004c6e  210f              MOVS     r1,#0xf               ;8465
004c70  a098              ADR      r0,|L1.20180|
004c72  f7fffffe          BL       snmp_trap_send
004c76  e013              B        |L1.19616|
                  |L1.19576|
004c78  2300              MOVS     r3,#0                 ;8469
004c7a  2202              MOVS     r2,#2                 ;8469
004c7c  210f              MOVS     r1,#0xf               ;8469
004c7e  a09a              ADR      r0,|L1.20200|
004c80  f7fffffe          BL       snmp_trap_send
004c84  e00c              B        |L1.19616|
                  |L1.19590|
004c86  2300              MOVS     r3,#0                 ;8475
004c88  2203              MOVS     r2,#3                 ;8475
004c8a  210f              MOVS     r1,#0xf               ;8475
004c8c  a09b              ADR      r0,|L1.20220|
004c8e  f7fffffe          BL       snmp_trap_send
004c92  e005              B        |L1.19616|
                  |L1.19604|
004c94  2300              MOVS     r3,#0
004c96  2204              MOVS     r2,#4
004c98  210f              MOVS     r1,#0xf
004c9a  a09d              ADR      r0,|L1.20240|
004c9c  f7fffffe          BL       snmp_trap_send
                  |L1.19616|
;;;8477   			}
;;;8478   	 	}
;;;8479   #endif
;;;8480   
;;;8481   #ifdef UKU_KONTUR
;;;8482   	if(sk_av_stat_old[i]!=sk_av_stat[i])
;;;8483   		{
;;;8484   		plazma_sk++;
;;;8485   		if(sk_av_stat[i]==sasON)
;;;8486   			{
;;;8487   			if(i==0)snmp_trap_send("Door is opened",15,1,1);
;;;8488   			else if(i==1)snmp_trap_send("Smoke Alarm",15,2,1);
;;;8489   			else if(i==2)snmp_trap_send("Shock Sensor Alarm",15,3,1);
;;;8490   			else if(i==3)snmp_trap_send("SK #4 Alarm",15,4,1);
;;;8491   			}
;;;8492   		else 
;;;8493   			{
;;;8494   			if(i==0)snmp_trap_send("Door is closed",15,1,0);
;;;8495   			else if(i==1)snmp_trap_send("Smoke Alarm is off",15,2,0);
;;;8496   			else if(i==2)snmp_trap_send("Shock Sensor Alarm is off",15,3,0);
;;;8497   			else if(i==3)snmp_trap_send("SK #4 Alarm is off",15,4,0);
;;;8498   			}
;;;8499   	 	}
;;;8500   #endif
;;;8501   	sk_av_stat_old[i]=sk_av_stat[i];
004ca0  5d38              LDRB     r0,[r7,r4]
004ca2  f8080004          STRB     r0,[r8,r4]
004ca6  f1040401          ADD      r4,r4,#1              ;8411
004caa  b2e4              UXTB     r4,r4                 ;8411
                  |L1.19628|
004cac  4876              LDR      r0,|L1.20104|
004cae  f9b00000          LDRSH    r0,[r0,#0]            ;8411  ; NUMSK
004cb2  4284              CMP      r4,r0                 ;8411
004cb4  f6ffaf76          BLT      |L1.19364|
;;;8502   	}
;;;8503   }
004cb8  e733              B        |L1.19234|
;;;8504   
                          ENDP

                  zar_superviser_start PROC
;;;8541   //-----------------------------------------------
;;;8542   void zar_superviser_start(void)
004cba  4a9a              LDR      r2,|L1.20260|
;;;8543   {
;;;8544   sign_U[0]=1;
004cbc  f04f0001          MOV      r0,#1
004cc0  7010              STRB     r0,[r2,#0]
;;;8545   sign_I[0]=1;
004cc2  4999              LDR      r1,|L1.20264|
004cc4  7008              STRB     r0,[r1,#0]
;;;8546   sign_U[1]=1;
004cc6  7050              STRB     r0,[r2,#1]
;;;8547   sign_I[1]=1;
004cc8  7048              STRB     r0,[r1,#1]
;;;8548   
;;;8549   }
004cca  4770              BX       lr
;;;8550   
                          ENDP

                  zar_superviser_drv PROC
;;;8506   //-----------------------------------------------
;;;8507   void zar_superviser_drv(void)
004ccc  e92d5ff0          PUSH     {r4-r12,lr}
;;;8508   {
;;;8509   
;;;8510   if(((bat[0]._Ub>u_necc_up) || (bat[0]._Ub<u_necc_dn))&&(main_kb_cnt<((TBAT*60)-30))&&(main_kb_cnt>((TBAT*60)-150))) sign_U[0]=0;
004cd0  4897              LDR      r0,|L1.20272|
004cd2  f8df9260          LDR      r9,|L1.20276|
004cd6  f8df8254          LDR      r8,|L1.20268|
004cda  f9b0c000          LDRSH    r12,[r0,#0]  ; u_necc_up
004cde  f9b90000          LDRSH    r0,[r9,#0]
004ce2  4c63              LDR      r4,|L1.20080|
004ce4  ebc01100          RSB      r1,r0,r0,LSL #4
004ce8  3c3c              SUBS     r4,r4,#0x3c
004cea  f9b87002          LDRSH    r7,[r8,#2]  ; bat
004cee  f06f0a1d          MVN      r10,#0x1d
004cf2  f06f0b95          MVN      r11,#0x95
004cf6  2500              MOVS     r5,#0
004cf8  4e8a              LDR      r6,|L1.20260|
004cfa  f9b40046          LDRSH    r0,[r4,#0x46]
004cfe  eb0a0281          ADD      r2,r10,r1,LSL #2
004d02  eb0b0381          ADD      r3,r11,r1,LSL #2
004d06  4567              CMP      r7,r12
004d08  dc05              BGT      |L1.19734|
004d0a  f8dfc22c          LDR      r12,|L1.20280|
004d0e  f9bcc000          LDRSH    r12,[r12,#0]  ; u_necc_dn
004d12  4567              CMP      r7,r12
004d14  da04              BGE      |L1.19744|
                  |L1.19734|
004d16  4282              CMP      r2,r0
004d18  dd02              BLE      |L1.19744|
004d1a  4283              CMP      r3,r0
004d1c  da00              BGE      |L1.19744|
004d1e  7035              STRB     r5,[r6,#0]
                  |L1.19744|
;;;8511   
;;;8512   if(((bat[0]._Ib>(2*IKB)) || (bat[0]._Ib<(-IKB*2))) &&(main_kb_cnt<((TBAT*60)-30))&&(main_kb_cnt>((TBAT*60)-150))) sign_I[0]=0;
004d20  4f86              LDR      r7,|L1.20284|
004d22  f9b8c008          LDRSH    r12,[r8,#8]  ; bat
004d26  f9b7e000          LDRSH    lr,[r7,#0]  ; IKB
004d2a  4f7f              LDR      r7,|L1.20264|
004d2c  ebbc0f4e          CMP      r12,lr,LSL #1
004d30  dc04              BGT      |L1.19772|
004d32  f1ce0e00          RSB      lr,lr,#0
004d36  ebbc0f4e          CMP      r12,lr,LSL #1
004d3a  da04              BGE      |L1.19782|
                  |L1.19772|
004d3c  4282              CMP      r2,r0
004d3e  dd02              BLE      |L1.19782|
004d40  4283              CMP      r3,r0
004d42  da00              BGE      |L1.19782|
004d44  703d              STRB     r5,[r7,#0]
                  |L1.19782|
;;;8513   																 
;;;8514   if((main_kb_cnt==((TBAT*60)-10)) &&(spc_stat==spcOFF))
004d46  f06f0209          MVN      r2,#9
004d4a  eb020181          ADD      r1,r2,r1,LSL #2
004d4e  4281              CMP      r1,r0
004d50  d120              BNE      |L1.19860|
004d52  7d20              LDRB     r0,[r4,#0x14]  ; spc_stat
004d54  b9f0              CBNZ     r0,|L1.19860|
;;;8515   	{
;;;8516   	if((sign_U[0]==1) && (sign_I[0]==1) && (lc640_read_int(EE_BAT1_ZAR_CNT)!=BAT_C_REAL[0]) && (NUMBAT) && (!(bat[0]._av&1)))
004d56  7830              LDRB     r0,[r6,#0]  ; sign_U
004d58  2801              CMP      r0,#1
004d5a  d11b              BNE      |L1.19860|
004d5c  7838              LDRB     r0,[r7,#0]  ; sign_I
004d5e  2801              CMP      r0,#1
004d60  d118              BNE      |L1.19860|
004d62  f44f70d6          MOV      r0,#0x1ac
004d66  f7fffffe          BL       lc640_read_int
004d6a  4975              LDR      r1,|L1.20288|
004d6c  f9b11000          LDRSH    r1,[r1,#0]  ; BAT_C_REAL
004d70  4288              CMP      r0,r1
004d72  d00f              BEQ      |L1.19860|
004d74  4873              LDR      r0,|L1.20292|
004d76  8800              LDRH     r0,[r0,#0]  ; NUMBAT
004d78  b160              CBZ      r0,|L1.19860|
004d7a  f898003d          LDRB     r0,[r8,#0x3d]  ; bat
004d7e  07c0              LSLS     r0,r0,#31
004d80  d108              BNE      |L1.19860|
;;;8517   		{
;;;8518   		lc640_write_int(EE_BAT1_ZAR_CNT,BAT_C_REAL[0]);
004d82  f44f70d6          MOV      r0,#0x1ac
004d86  f7fffffe          BL       lc640_write_int
;;;8519   		superviser_cnt++;
004d8a  486f              LDR      r0,|L1.20296|
004d8c  7801              LDRB     r1,[r0,#0]  ; superviser_cnt
004d8e  f1010101          ADD      r1,r1,#1
004d92  7001              STRB     r1,[r0,#0]
                  |L1.19860|
;;;8520   		}
;;;8521   	
;;;8522   	}
;;;8523   
;;;8524   if(((bat[0]._Ub>u_necc_up) || (bat[1]._Ub<u_necc_dn))&&(main_kb_cnt<((TBAT*60)-30))&&(main_kb_cnt>((TBAT*60)-150))) sign_U[1]=0;
004d94  4866              LDR      r0,|L1.20272|
004d96  f9b81002          LDRSH    r1,[r8,#2]  ; bat
004d9a  f9b00000          LDRSH    r0,[r0,#0]  ; u_necc_up
004d9e  4281              CMP      r1,r0
004da0  dc06              BGT      |L1.19888|
004da2  4865              LDR      r0,|L1.20280|
004da4  f9b8104e          LDRSH    r1,[r8,#0x4e]  ; bat
004da8  f9b00000          LDRSH    r0,[r0,#0]  ; u_necc_dn
004dac  4281              CMP      r1,r0
004dae  da0e              BGE      |L1.19918|
                  |L1.19888|
004db0  f9b90000          LDRSH    r0,[r9,#0]  ; TBAT
004db4  f9b41046          LDRSH    r1,[r4,#0x46]  ; main_kb_cnt
004db8  ebc01000          RSB      r0,r0,r0,LSL #4
004dbc  eb0a0280          ADD      r2,r10,r0,LSL #2
004dc0  428a              CMP      r2,r1
004dc2  dd04              BLE      |L1.19918|
004dc4  eb0b0080          ADD      r0,r11,r0,LSL #2
004dc8  4288              CMP      r0,r1
004dca  da00              BGE      |L1.19918|
004dcc  7075              STRB     r5,[r6,#1]
                  |L1.19918|
;;;8525   
;;;8526   if(((bat[1]._Ib>(2*IKB)) || (bat[1]._Ib<(-IKB*2))) &&(main_kb_cnt<((TBAT*60)-30))&&(main_kb_cnt>((TBAT*60)-150))) sign_I[1]=0;
004dce  495b              LDR      r1,|L1.20284|
004dd0  f9b80054          LDRSH    r0,[r8,#0x54]  ; bat
004dd4  f9b11000          LDRSH    r1,[r1,#0]  ; IKB
004dd8  ebb00f41          CMP      r0,r1,LSL #1
004ddc  dc03              BGT      |L1.19942|
004dde  4249              RSBS     r1,r1,#0
004de0  ebb00f41          CMP      r0,r1,LSL #1
004de4  da0e              BGE      |L1.19972|
                  |L1.19942|
004de6  f9b90000          LDRSH    r0,[r9,#0]  ; TBAT
004dea  f9b41046          LDRSH    r1,[r4,#0x46]  ; main_kb_cnt
004dee  ebc01000          RSB      r0,r0,r0,LSL #4
004df2  eb0a0280          ADD      r2,r10,r0,LSL #2
004df6  428a              CMP      r2,r1
004df8  dd04              BLE      |L1.19972|
004dfa  eb0b0080          ADD      r0,r11,r0,LSL #2
004dfe  4288              CMP      r0,r1
004e00  da00              BGE      |L1.19972|
004e02  707d              STRB     r5,[r7,#1]
                  |L1.19972|
;;;8527   																 
;;;8528   if((main_kb_cnt==((TBAT*60)-10)) &&(spc_stat==spcOFF))
004e04  f9b90000          LDRSH    r0,[r9,#0]  ; TBAT
004e08  ebc01100          RSB      r1,r0,r0,LSL #4
004e0c  f06f0009          MVN      r0,#9
004e10  eb000081          ADD      r0,r0,r1,LSL #2
004e14  f9b41046          LDRSH    r1,[r4,#0x46]  ; main_kb_cnt
004e18  4288              CMP      r0,r1
004e1a  d11f              BNE      |L1.20060|
004e1c  7d20              LDRB     r0,[r4,#0x14]  ; spc_stat
004e1e  b9e8              CBNZ     r0,|L1.20060|
;;;8529   	{
;;;8530   	if((sign_U[1]==1) && (sign_I[1]==1) && (lc640_read_int(EE_BAT2_ZAR_CNT)!=BAT_C_REAL[1]) && (NUMBAT==2) && (!(bat[1]._av&1)))
004e20  7870              LDRB     r0,[r6,#1]  ; sign_U
004e22  2801              CMP      r0,#1
004e24  d11a              BNE      |L1.20060|
004e26  7878              LDRB     r0,[r7,#1]  ; sign_I
004e28  2801              CMP      r0,#1
004e2a  d117              BNE      |L1.20060|
004e2c  f44f75e5          MOV      r5,#0x1ca
004e30  4628              MOV      r0,r5
004e32  f7fffffe          BL       lc640_read_int
004e36  4942              LDR      r1,|L1.20288|
004e38  f9b11002          LDRSH    r1,[r1,#2]  ; BAT_C_REAL
004e3c  4288              CMP      r0,r1
004e3e  d00d              BEQ      |L1.20060|
004e40  4840              LDR      r0,|L1.20292|
004e42  8800              LDRH     r0,[r0,#0]  ; NUMBAT
004e44  2802              CMP      r0,#2
004e46  d109              BNE      |L1.20060|
004e48  f8980089          LDRB     r0,[r8,#0x89]  ; bat
004e4c  07c0              LSLS     r0,r0,#31
004e4e  d105              BNE      |L1.20060|
;;;8531   		{
;;;8532   		lc640_write_int(EE_BAT2_ZAR_CNT,BAT_C_REAL[1]);
004e50  4628              MOV      r0,r5
004e52  f7fffffe          BL       lc640_write_int
;;;8533   		superviser_cnt++;
004e56  483c              LDR      r0,|L1.20296|
004e58  7801              LDRB     r1,[r0,#0]  ; superviser_cnt
004e5a  e077              B        |L1.20300|
                  |L1.20060|
004e5c  e079              B        |L1.20306|
004e5e  0000              DCW      0x0000
                  |L1.20064|
                          DCD      hv_vz_stat
                  |L1.20068|
                          DCD      sk_stat
                  |L1.20072|
                          DCD      sk_stat_old
                  |L1.20076|
                          DCD      VZ_KIND
                  |L1.20080|
                          DCD      ||area_number.23||+0x3c
                  |L1.20084|
                          DCD      ICA_EN
                  |L1.20088|
                          DCD      ica_cntrl_hndl
                  |L1.20092|
                          DCD      ica_u_necc
                  |L1.20096|
                          DCD      NUMIST
                  |L1.20100|
                          DCD      sk_cnt
                  |L1.20104|
                          DCD      NUMSK
                  |L1.20108|
                          DCD      ||area_number.17||
                  |L1.20112|
                          DCD      ||.bss||+0x400
                  |L1.20116|
                          DCD      sk_av_cnt
                  |L1.20120|
                          DCD      sk_av_stat
                  |L1.20124|
                          DCD      sk_av_stat_old
                  |L1.20128|
                          DCD      SK_SIGN
                  |L1.20132|
004ea4  534b2023          DCB      "SK #1 Alarm",0
004ea8  3120416c
004eac  61726d00
                  |L1.20144|
004eb0  534b2023          DCB      "SK #2 Alarm",0
004eb4  3220416c
004eb8  61726d00
                  |L1.20156|
004ebc  534b2023          DCB      "SK #3 Alarm",0
004ec0  3320416c
004ec4  61726d00
                  |L1.20168|
004ec8  534b2023          DCB      "SK #4 Alarm",0
004ecc  3420416c
004ed0  61726d00
                  |L1.20180|
004ed4  534b2023          DCB      "SK #1 Alarm is off",0
004ed8  3120416c
004edc  61726d20
004ee0  6973206f
004ee4  666600  
004ee7  00                DCB      0
                  |L1.20200|
004ee8  534b2023          DCB      "SK #2 Alarm is off",0
004eec  3220416c
004ef0  61726d20
004ef4  6973206f
004ef8  666600  
004efb  00                DCB      0
                  |L1.20220|
004efc  534b2023          DCB      "SK #3 Alarm is off",0
004f00  3320416c
004f04  61726d20
004f08  6973206f
004f0c  666600  
004f0f  00                DCB      0
                  |L1.20240|
004f10  534b2023          DCB      "SK #4 Alarm is off",0
004f14  3420416c
004f18  61726d20
004f1c  6973206f
004f20  666600  
004f23  00                DCB      0
                  |L1.20260|
                          DCD      sign_U
                  |L1.20264|
                          DCD      sign_I
                  |L1.20268|
                          DCD      bat
                  |L1.20272|
                          DCD      u_necc_up
                  |L1.20276|
                          DCD      TBAT
                  |L1.20280|
                          DCD      u_necc_dn
                  |L1.20284|
                          DCD      IKB
                  |L1.20288|
                          DCD      BAT_C_REAL
                  |L1.20292|
                          DCD      NUMBAT
                  |L1.20296|
                          DCD      superviser_cnt
                  |L1.20300|
004f4c  f1010101          ADD      r1,r1,#1
004f50  7001              STRB     r1,[r0,#0]
                  |L1.20306|
;;;8534   		}
;;;8535   	
;;;8536   	}
;;;8537   
;;;8538   if(main_kb_cnt==((TBAT*60)-2)) zar_superviser_start();
004f52  f9b90000          LDRSH    r0,[r9,#0]  ; TBAT
004f56  f06f0101          MVN      r1,#1
004f5a  ebc01000          RSB      r0,r0,r0,LSL #4
004f5e  eb010080          ADD      r0,r1,r0,LSL #2
004f62  f9b41046          LDRSH    r1,[r4,#0x46]  ; main_kb_cnt
004f66  4288              CMP      r0,r1
004f68  d102              BNE      |L1.20336|
004f6a  e8bd5ff0          POP      {r4-r12,lr}
004f6e  e7fe              B        zar_superviser_start
                  |L1.20336|
;;;8539   }
004f70  e5d7              B        |L1.19234|
;;;8540   
                          ENDP

                  npn_hndl PROC
;;;8551   //-----------------------------------------------
;;;8552   void npn_hndl(void)
004f72  e92d03f0          PUSH     {r4-r9}
;;;8553   {
;;;8554   if(NPN_OUT!=npnoOFF)
004f76  48ff              LDR      r0,|L1.21364|
;;;8555   	{
;;;8556   /*	if(NPN_SIGN==npnsAVNET)
;;;8557   		{
;;;8558   		if(net_av==1)
;;;8559   			{
;;;8560   			if(npn_tz_cnt<TZNPN)
;;;8561   				{
;;;8562   				npn_tz_cnt++;
;;;8563   				if(npn_tz_cnt==TZNPN)
;;;8564   					{
;;;8565   					npn_stat=npnsOFF;
;;;8566   					}
;;;8567   				}
;;;8568   			}
;;;8569   		else
;;;8570   			{
;;;8571   			if(npn_tz_cnt)
;;;8572   				{
;;;8573   				npn_tz_cnt--;
;;;8574   				if(npn_tz_cnt==0)
;;;8575   					{
;;;8576   					npn_stat=npnsON;
;;;8577   					}
;;;8578   				}
;;;8579   			}
;;;8580   		}*/
;;;8581   /*	if(NPN_SIGN==npnsULOAD)
;;;8582   		{
;;;8583   		if(load_U<UONPN)
;;;8584   			{
;;;8585   			if(npn_tz_cnt<TZNPN)
;;;8586   				{
;;;8587   				npn_tz_cnt++;
;;;8588   				if(npn_tz_cnt==TZNPN)
;;;8589   					{
;;;8590   					npn_stat=npnsOFF;
;;;8591   					}
;;;8592   				}
;;;8593   			}
;;;8594   		else if(load_U>UVNPN)
;;;8595   			{
;;;8596   			if(npn_tz_cnt)
;;;8597   				{
;;;8598   				npn_tz_cnt--;
;;;8599   				if(npn_tz_cnt==0)
;;;8600   					{
;;;8601   					npn_stat=npnsON;
;;;8602   					}
;;;8603   				}
;;;8604   			}
;;;8605   		}*/
;;;8606   
;;;8607   	if((load_U<UONPN)&&((net_Ua<UMN)||(net_Ub<UMN)||(net_Uc<UMN)))
;;;8608   		{
;;;8609   		if(npn_tz_cnt<TZNPN)
004f78  4fff              LDR      r7,|L1.21368|
004f7a  f04f0c00          MOV      r12,#0                ;8554
004f7e  7800              LDRB     r0,[r0,#0]            ;8554  ; NPN_OUT
;;;8610   			{
;;;8611   			npn_tz_cnt++;
;;;8612   			if(npn_tz_cnt==TZNPN)
;;;8613   				{
;;;8614   				npn_stat=npnsOFF;
;;;8615   				}
;;;8616   			}
;;;8617   		}
;;;8618   	else if((load_U>UVNPN)&&(net_Ua>UMN)&&(net_Ub>UMN)&&(net_Uc>UMN))
;;;8619   		{
;;;8620   		if(npn_tz_cnt)
;;;8621   			{
;;;8622   			npn_tz_cnt--;
;;;8623   			if(npn_tz_cnt==0)
;;;8624   				{
;;;8625   				npn_stat=npnsON;
004f80  f04f0801          MOV      r8,#1
004f84  4efd              LDR      r6,|L1.21372|
004f86  b3e8              CBZ      r0,|L1.20484|
004f88  48fd              LDR      r0,|L1.21376|
004f8a  4639              MOV      r1,r7                 ;8609
004f8c  f9b05000          LDRSH    r5,[r0,#0]            ;8607  ; load_U
004f90  48fc              LDR      r0,|L1.21380|
004f92  f9b11000          LDRSH    r1,[r1,#0]            ;8609
004f96  f9b09000          LDRSH    r9,[r0,#0]            ;8607  ; UONPN
004f9a  48fb              LDR      r0,|L1.21384|
004f9c  454d              CMP      r5,r9                 ;8607
004f9e  f9b02000          LDRSH    r2,[r0,#0]            ;8607
004fa2  48fa              LDR      r0,|L1.21388|
004fa4  f9b03000          LDRSH    r3,[r0,#0]            ;8607
004fa8  48f9              LDR      r0,|L1.21392|
004faa  f9b04000          LDRSH    r4,[r0,#0]            ;8607
004fae  48f9              LDR      r0,|L1.21396|
004fb0  f9b00000          LDRSH    r0,[r0,#0]            ;8607
004fb4  da13              BGE      |L1.20446|
004fb6  4282              CMP      r2,r0                 ;8607
004fb8  db03              BLT      |L1.20418|
004fba  4283              CMP      r3,r0                 ;8607
004fbc  db01              BLT      |L1.20418|
004fbe  4284              CMP      r4,r0                 ;8607
004fc0  da0d              BGE      |L1.20446|
                  |L1.20418|
004fc2  48f5              LDR      r0,|L1.21400|
004fc4  f9b02000          LDRSH    r2,[r0,#0]            ;8609  ; TZNPN
004fc8  4291              CMP      r1,r2                 ;8609
004fca  da23              BGE      |L1.20500|
004fcc  f1010101          ADD      r1,r1,#1              ;8611
004fd0  b208              SXTH     r0,r1                 ;8611
004fd2  8038              STRH     r0,[r7,#0]            ;8611
004fd4  4290              CMP      r0,r2                 ;8612
004fd6  d11d              BNE      |L1.20500|
004fd8  f886c000          STRB     r12,[r6,#0]           ;8614
004fdc  e01a              B        |L1.20500|
                  |L1.20446|
004fde  f8dfc3bc          LDR      r12,|L1.21404|
004fe2  f9bcc000          LDRSH    r12,[r12,#0]          ;8618  ; UVNPN
004fe6  4565              CMP      r5,r12                ;8618
004fe8  dd14              BLE      |L1.20500|
004fea  4282              CMP      r2,r0                 ;8618
004fec  dd12              BLE      |L1.20500|
004fee  4283              CMP      r3,r0                 ;8618
004ff0  dd10              BLE      |L1.20500|
004ff2  4284              CMP      r4,r0                 ;8618
004ff4  dd0e              BLE      |L1.20500|
004ff6  b169              CBZ      r1,|L1.20500|
004ff8  f1a10101          SUB      r1,r1,#1              ;8622
004ffc  b208              SXTH     r0,r1                 ;8622
004ffe  8038              STRH     r0,[r7,#0]            ;8622
005000  b940              CBNZ     r0,|L1.20500|
005002  e000              B        |L1.20486|
                  |L1.20484|
005004  e002              B        |L1.20492|
                  |L1.20486|
005006  f8868000          STRB     r8,[r6,#0]
00500a  e003              B        |L1.20500|
                  |L1.20492|
;;;8626   				}
;;;8627   			}
;;;8628   		}
;;;8629   	}
;;;8630   else
;;;8631   	{
;;;8632   	npn_tz_cnt=0;
00500c  f8a7c000          STRH     r12,[r7,#0]
;;;8633   	npn_stat=npnsON;
005010  f8868000          STRB     r8,[r6,#0]
                  |L1.20500|
;;;8634   	}
;;;8635   
;;;8636   if(npn_stat==npnsOFF) mess_send(MESS2RELE_HNDL,PARAM_RELE_NPN,1,15);
005014  7830              LDRB     r0,[r6,#0]  ; npn_stat
005016  2800              CMP      r0,#0
005018  d107              BNE      |L1.20522|
00501a  e8bd03f0          POP      {r4-r9}
00501e  230f              MOVS     r3,#0xf
005020  2201              MOVS     r2,#1
005022  216e              MOVS     r1,#0x6e
005024  20d2              MOVS     r0,#0xd2
005026  f7ffbffe          B.W      mess_send
                  |L1.20522|
;;;8637   
;;;8638   
;;;8639   }
00502a  e8bd03f0          POP      {r4-r9}
00502e  4770              BX       lr
;;;8640   
                          ENDP

                  loadoff_hndl PROC
;;;8642   //-----------------------------------------------
;;;8643   void loadoff_hndl(void)
005030  b5f0              PUSH     {r4-r7,lr}
;;;8644   {
;;;8645   if((load_U>UONPN)||(load_U<UVNPN))
005032  48d3              LDR      r0,|L1.21376|
;;;8646   	{
;;;8647   	if(load_off_cnt<TZNPN)
005034  4dda              LDR      r5,|L1.21408|
;;;8648   		{
;;;8649   		load_off_cnt++;
;;;8650   		if(load_off_cnt>=TZNPN)
;;;8651   			{
;;;8652   			load_off_stat=npnsOFF;
005036  2700              MOVS     r7,#0
005038  f9b01000          LDRSH    r1,[r0,#0]            ;8645  ; load_U
00503c  48d1              LDR      r0,|L1.21380|
00503e  4ed9              LDR      r6,|L1.21412|
005040  f9b02000          LDRSH    r2,[r0,#0]            ;8645  ; UONPN
005044  f9b50000          LDRSH    r0,[r5,#0]            ;8647
005048  4291              CMP      r1,r2                 ;8645
00504a  dc04              BGT      |L1.20566|
00504c  4bd3              LDR      r3,|L1.21404|
00504e  f9b33000          LDRSH    r3,[r3,#0]            ;8645  ; UVNPN
005052  4299              CMP      r1,r3                 ;8645
005054  da0d              BGE      |L1.20594|
                  |L1.20566|
005056  49d0              LDR      r1,|L1.21400|
005058  f9b11000          LDRSH    r1,[r1,#0]            ;8647  ; TZNPN
00505c  4288              CMP      r0,r1                 ;8647
00505e  da1c              BGE      |L1.20634|
005060  f1000001          ADD      r0,r0,#1              ;8649
005064  b200              SXTH     r0,r0                 ;8649
005066  8028              STRH     r0,[r5,#0]            ;8649
005068  4288              CMP      r0,r1                 ;8650
00506a  db16              BLT      |L1.20634|
00506c  7037              STRB     r7,[r6,#0]
;;;8653   			load_off_cnt=TZNPN;
00506e  8029              STRH     r1,[r5,#0]
005070  e013              B        |L1.20634|
                  |L1.20594|
;;;8654   			}
;;;8655   		}
;;;8656   	}
;;;8657   else if((load_U>(UVNPN+dUNPN))&&(load_U<(UONPN-dUNPN)))
005072  4ccd              LDR      r4,|L1.21416|
005074  f9b44000          LDRSH    r4,[r4,#0]  ; dUNPN
005078  4423              ADD      r3,r3,r4
00507a  428b              CMP      r3,r1
00507c  da0d              BGE      |L1.20634|
00507e  1b12              SUBS     r2,r2,r4
005080  428a              CMP      r2,r1
005082  dd0a              BLE      |L1.20634|
;;;8658   	{
;;;8659   	if(load_off_cnt)
005084  b148              CBZ      r0,|L1.20634|
;;;8660   		{
;;;8661   		load_off_cnt--;
005086  f1a00001          SUB      r0,r0,#1
00508a  b200              SXTH     r0,r0
00508c  8028              STRH     r0,[r5,#0]
;;;8662   		if(load_off_cnt<=0)
00508e  2800              CMP      r0,#0
005090  dc03              BGT      |L1.20634|
;;;8663   			{
;;;8664   			load_off_stat=npnsON;
005092  f04f0001          MOV      r0,#1
005096  7030              STRB     r0,[r6,#0]
;;;8665   			load_off_cnt=0;
005098  802f              STRH     r7,[r5,#0]
                  |L1.20634|
;;;8666   			}
;;;8667   		}
;;;8668   	}
;;;8669   
;;;8670   
;;;8671   if(load_off_stat==npnsOFF) tloaddisable_cmnd=10;
00509a  7830              LDRB     r0,[r6,#0]  ; load_off_stat
00509c  2800              CMP      r0,#0
00509e  d103              BNE      |L1.20648|
0050a0  49c2              LDR      r1,|L1.21420|
0050a2  f04f000a          MOV      r0,#0xa
0050a6  7008              STRB     r0,[r1,#0]
                  |L1.20648|
;;;8672   
;;;8673   
;;;8674   }
0050a8  bdf0              POP      {r4-r7,pc}
;;;8675   
                          ENDP

                  speedChargeStartStop PROC
;;;8838   //-----------------------------------------------
;;;8839   void speedChargeStartStop(void)
0050aa  b508              PUSH     {r3,lr}
;;;8840   {
;;;8841   /*if(speedChIsOn)
;;;8842   	{
;;;8843   	speedChIsOn=0;
;;;8844   	}
;;;8845   
;;;8846   else
;;;8847   	{
;;;8848   	if(speedChrgBlckStat==0)
;;;8849   		{
;;;8850   		speedChIsOn=1;
;;;8851   		speedChTimeCnt=0;
;;;8852   		}
;;;8853   	else
;;;8854   		{
;;;8855   		show_mess(	"     ”ÒÍÓÂÌÌ˚È     ",
;;;8856   	          		"       Á‡ˇ‰        ",
;;;8857   	          		"    Á‡·ÎÓÍËÓ‚‡Ì!   ",
;;;8858   	          		"                    ",2000);	 
;;;8859   		}
;;;8860   	}*/
;;;8861   
;;;8862   if(sp_ch_stat!=scsOFF)
0050ac  48c0              LDR      r0,|L1.21424|
0050ae  7801              LDRB     r1,[r0,#0]  ; sp_ch_stat
0050b0  b119              CBZ      r1,|L1.20666|
;;;8863   	{
;;;8864   	sp_ch_stat=scsOFF;
0050b2  f04f0100          MOV      r1,#0
0050b6  7001              STRB     r1,[r0,#0]
;;;8865   	}
;;;8866   
;;;8867   else
;;;8868   	{
;;;8869   	if((speedChrgBlckStat==0)&&(spc_stat==spcOFF)&&(vz1_stat==vz1sOFF)&&(vz2_stat==vz2sOFF))
;;;8870   		{
;;;8871   		sp_ch_stat=scsSTEP1;
;;;8872   		}
;;;8873   	else 
;;;8874   		{
;;;8875   		show_mess(	"     ”ÒÍÓÂÌÌ˚È     ",
;;;8876   	          		"       Á‡ˇ‰        ",
;;;8877   	          		"    Á‡·ÎÓÍËÓ‚‡Ì!   ",
;;;8878   	          		"                    ",2000);
;;;8879   		}
;;;8880   	}
;;;8881   }
0050b8  bd08              POP      {r3,pc}
                  |L1.20666|
0050ba  49be              LDR      r1,|L1.21428|
0050bc  f9b12000          LDRSH    r2,[r1,#0]            ;8869  ; speedChrgBlckStat
0050c0  49bd              LDR      r1,|L1.21432|
0050c2  780b              LDRB     r3,[r1,#0]            ;8869  ; spc_stat
0050c4  431a              ORRS     r2,r2,r3              ;8869
0050c6  7b0b              LDRB     r3,[r1,#0xc]          ;8869  ; vz1_stat
0050c8  7bc9              LDRB     r1,[r1,#0xf]          ;8869  ; vz2_stat
0050ca  431a              ORRS     r2,r2,r3              ;8869
0050cc  430a              ORRS     r2,r2,r1              ;8869
0050ce  d009              BEQ      |L1.20708|
0050d0  f44f60fa          MOV      r0,#0x7d0             ;8875
0050d4  9000              STR      r0,[sp,#0]            ;8875
0050d6  4bb9              LDR      r3,|L1.21436|
0050d8  a2b9              ADR      r2,|L1.21440|
0050da  a1bf              ADR      r1,|L1.21464|
0050dc  a0c4              ADR      r0,|L1.21488|
0050de  f7fffffe          BL       show_mess
0050e2  bd08              POP      {r3,pc}
                  |L1.20708|
0050e4  f04f0101          MOV      r1,#1                 ;8871
0050e8  7001              STRB     r1,[r0,#0]            ;8871
0050ea  bd08              POP      {r3,pc}
;;;8882   
                          ENDP

                  speedChargeHndl PROC
;;;8676   //-----------------------------------------------
;;;8677   void speedChargeHndl(void)
0050ec  e92d4ff8          PUSH     {r3-r11,lr}
;;;8678   {
;;;8679   /*
;;;8680   if(sp_ch_stat==scsOFF)
;;;8681   	{
;;;8682   	if((sk_stat[1]==1)&&(sk_stat_old[1]=0))
;;;8683   	}*/
;;;8684   	 
;;;8685   if(sp_ch_stat==scsSTEP1)
0050f0  f8df82bc          LDR      r8,|L1.21424|
;;;8686   	{
;;;8687   	if(sp_ch_stat_old!=sp_ch_stat)
;;;8688   		{
;;;8689   		sp_ch_stat_cnt=5;
;;;8690   		}
;;;8691   	if(sp_ch_stat_cnt)
;;;8692   		{
;;;8693   		sp_ch_stat_cnt--;
;;;8694   		if(sp_ch_stat_cnt==0)
;;;8695   			{
;;;8696   			sp_ch_stat=scsERR1; 	//ÕÂ ‚ÍÎ˛˜ËÎ‡Ò¸ ‚ÂÌÚËÎˇˆËˇ;
;;;8697   
;;;8698   			}
;;;8699   		}
;;;8700   	if(sk_stat[0]==1)sp_ch_stat=scsWRK;
0050f4  f8dfa310          LDR      r10,|L1.21512|
0050f8  4ec4              LDR      r6,|L1.21516|
0050fa  f8982000          LDRB     r2,[r8,#0]            ;8685  ; sp_ch_stat
0050fe  f89a1000          LDRB     r1,[r10,#0]
005102  7830              LDRB     r0,[r6,#0]            ;8687
005104  4cc2              LDR      r4,|L1.21520|
005106  f04f0902          MOV      r9,#2
00510a  2a01              CMP      r2,#1                 ;8685
00510c  d114              BNE      |L1.20792|
00510e  2801              CMP      r0,#1                 ;8687
005110  d002              BEQ      |L1.20760|
005112  f04f0205          MOV      r2,#5                 ;8689
005116  8022              STRH     r2,[r4,#0]            ;8689
                  |L1.20760|
005118  f9b42000          LDRSH    r2,[r4,#0]            ;8691  ; sp_ch_stat_cnt
00511c  b142              CBZ      r2,|L1.20784|
00511e  f1a20201          SUB      r2,r2,#1              ;8693
005122  b212              SXTH     r2,r2                 ;8693
005124  8022              STRH     r2,[r4,#0]            ;8693
005126  b91a              CBNZ     r2,|L1.20784|
005128  f04f0203          MOV      r2,#3                 ;8696
00512c  f8882000          STRB     r2,[r8,#0]            ;8696
                  |L1.20784|
005130  2901              CMP      r1,#1
005132  d101              BNE      |L1.20792|
005134  f8889000          STRB     r9,[r8,#0]
                  |L1.20792|
;;;8701   	}
;;;8702   
;;;8703   if(sp_ch_stat==scsWRK)
005138  f8982000          LDRB     r2,[r8,#0]  ; sp_ch_stat
00513c  2500              MOVS     r5,#0
00513e  2a02              CMP      r2,#2
005140  d11c              BNE      |L1.20860|
;;;8704   	{
;;;8705   	if(sp_ch_stat_old!=sp_ch_stat)
;;;8706   		{
;;;8707   		sp_ch_wrk_cnt=(signed long)speedChrgTimeInHour*3600L;
005142  4fb4              LDR      r7,|L1.21524|
;;;8708   		hv_vz_up_cnt=0;
005144  4bb4              LDR      r3,|L1.21528|
005146  2802              CMP      r0,#2                 ;8705
005148  d008              BEQ      |L1.20828|
00514a  4ab4              LDR      r2,|L1.21532|
00514c  f44f6c61          MOV      r12,#0xe10            ;8707
005150  f9b22000          LDRSH    r2,[r2,#0]            ;8707  ; speedChrgTimeInHour
005154  fb02f20c          MUL      r2,r2,r12             ;8707
005158  603a              STR      r2,[r7,#0]            ;8707  ; sp_ch_wrk_cnt
00515a  601d              STR      r5,[r3,#0]  ; hv_vz_up_cnt
                  |L1.20828|
;;;8709   		}
;;;8710   	sp_ch_wrk_cnt--;
00515c  683a              LDR      r2,[r7,#0]  ; sp_ch_wrk_cnt
00515e  f1a20201          SUB      r2,r2,#1
005162  603a              STR      r2,[r7,#0]  ; sp_ch_wrk_cnt
;;;8711   	hv_vz_up_cnt++;
005164  681f              LDR      r7,[r3,#0]  ; hv_vz_up_cnt
005166  f1070701          ADD      r7,r7,#1
00516a  601f              STR      r7,[r3,#0]  ; hv_vz_up_cnt
;;;8712   	if(sp_ch_wrk_cnt==0)
00516c  b90a              CBNZ     r2,|L1.20850|
;;;8713   		{
;;;8714   		sp_ch_stat=scsOFF;
00516e  f8885000          STRB     r5,[r8,#0]
                  |L1.20850|
;;;8715   		}
;;;8716   	if(sk_stat[0]==0)sp_ch_stat=scsERR2;
005172  b919              CBNZ     r1,|L1.20860|
005174  f04f0104          MOV      r1,#4
005178  f8881000          STRB     r1,[r8,#0]
                  |L1.20860|
;;;8717   	
;;;8718   	}
;;;8719   
;;;8720   if(sp_ch_stat==scsERR1)		//ŒÚÒÛÚÒÚ‚ÛÂÚ ‚ÂÌÚËÎˇˆËˇ ÔË ‚ÍÎ˛˜ÂÌËË
00517c  f8981000          LDRB     r1,[r8,#0]  ; sp_ch_stat
;;;8721   	{
;;;8722   	if((sp_ch_stat_old!=sp_ch_stat)||(sp_ch_stat_cnt==0))
;;;8723   		{
;;;8724   		sp_ch_stat_cnt=10;
005180  270a              MOVS     r7,#0xa
;;;8725   		}
;;;8726   	sp_ch_stat_cnt--;
;;;8727   	if((sp_ch_stat_cnt==10)||(sp_ch_stat_cnt==9))
;;;8728   		{
;;;8729   		show_mess(	"  ”— Œ–≈ÕÕ€… «¿–ﬂƒ  ",
005182  f2413b88          MOV      r11,#0x1388
005186  2903              CMP      r1,#3                 ;8720
005188  d117              BNE      |L1.20922|
00518a  2803              CMP      r0,#3                 ;8722
00518c  d101              BNE      |L1.20882|
00518e  8820              LDRH     r0,[r4,#0]            ;8722  ; sp_ch_stat_cnt
005190  b900              CBNZ     r0,|L1.20884|
                  |L1.20882|
005192  8027              STRH     r7,[r4,#0]            ;8724
                  |L1.20884|
005194  8820              LDRH     r0,[r4,#0]            ;8726  ; sp_ch_stat_cnt
005196  f1a00001          SUB      r0,r0,#1              ;8726
00519a  b200              SXTH     r0,r0                 ;8726
00519c  8020              STRH     r0,[r4,#0]            ;8726
00519e  280a              CMP      r0,#0xa               ;8727
0051a0  d001              BEQ      |L1.20902|
0051a2  2809              CMP      r0,#9                 ;8727
0051a4  d109              BNE      |L1.20922|
                  |L1.20902|
0051a6  4b9e              LDR      r3,|L1.21536|
0051a8  a09e              ADR      r0,|L1.21540|
0051aa  f1030218          ADD      r2,r3,#0x18
0051ae  f1020118          ADD      r1,r2,#0x18
0051b2  f8cdb000          STR      r11,[sp,#0]
0051b6  f7fffffe          BL       show_mess
                  |L1.20922|
;;;8730   					"   Õ≈ ÃŒ∆≈“ ¡€“‹    ",
;;;8731   					"      ¬ Àﬁ◊≈Õ       ",
;;;8732   					"  ¡≈« ¬≈Õ“»Àﬂ÷»»!!  ",
;;;8733   					5000);
;;;8734   		}
;;;8735   	}
;;;8736   if(sp_ch_stat==scsERR2)		//œÓÔ‡Î‡ ‚ÂÌÚËÎˇˆËˇ ÔË ‡·ÓÚÂ
0051ba  f8980000          LDRB     r0,[r8,#0]  ; sp_ch_stat
0051be  2804              CMP      r0,#4
0051c0  d11e              BNE      |L1.20992|
;;;8737   	{
;;;8738   	if((sp_ch_stat_old!=sp_ch_stat)||(sp_ch_stat_cnt==0))
0051c2  7830              LDRB     r0,[r6,#0]  ; sp_ch_stat_old
0051c4  2804              CMP      r0,#4
0051c6  d101              BNE      |L1.20940|
0051c8  8820              LDRH     r0,[r4,#0]  ; sp_ch_stat_cnt
0051ca  b900              CBNZ     r0,|L1.20942|
                  |L1.20940|
;;;8739   		{
;;;8740   		sp_ch_stat_cnt=10;
0051cc  8027              STRH     r7,[r4,#0]
                  |L1.20942|
;;;8741   		}
;;;8742   	sp_ch_stat_cnt--;
0051ce  8820              LDRH     r0,[r4,#0]  ; sp_ch_stat_cnt
0051d0  f1a00001          SUB      r0,r0,#1
0051d4  b200              SXTH     r0,r0
0051d6  8020              STRH     r0,[r4,#0]
;;;8743   	if((sp_ch_stat_cnt==10)||(sp_ch_stat_cnt==9))
0051d8  280a              CMP      r0,#0xa
0051da  d001              BEQ      |L1.20960|
0051dc  2809              CMP      r0,#9
0051de  d109              BNE      |L1.20980|
                  |L1.20960|
;;;8744   		{
;;;8745   		show_mess(	"  ”— Œ–≈ÕÕ€… «¿–ﬂƒ  ",
0051e0  4b96              LDR      r3,|L1.21564|
0051e2  a090              ADR      r0,|L1.21540|
0051e4  f1030218          ADD      r2,r3,#0x18
0051e8  f1020118          ADD      r1,r2,#0x18
0051ec  f8cdb000          STR      r11,[sp,#0]
0051f0  f7fffffe          BL       show_mess
                  |L1.20980|
;;;8746   					"    «¿¡ÀŒ »–Œ¬¿Õ    ",
;;;8747   					"     Õ≈»—œ–¿¬Õ¿     ",
;;;8748   					"    ¬≈Õ“»Àﬂ÷»ﬂ!!!   ",
;;;8749   					5000);
;;;8750   		}
;;;8751   	if(sk_stat[0]==1)sp_ch_stat=scsWRK;
0051f4  f89a0000          LDRB     r0,[r10,#0]  ; sk_stat
0051f8  2801              CMP      r0,#1
0051fa  d101              BNE      |L1.20992|
0051fc  f8889000          STRB     r9,[r8,#0]
                  |L1.20992|
;;;8752   	}
;;;8753   
;;;8754   
;;;8755   sp_ch_stat_old=sp_ch_stat;
005200  f8980000          LDRB     r0,[r8,#0]  ; sp_ch_stat
005204  7030              STRB     r0,[r6,#0]
;;;8756   
;;;8757   
;;;8758   
;;;8759   if(speedChrgAvtEn==1)
005206  498e              LDR      r1,|L1.21568|
;;;8760   	{
;;;8761   	if((sp_ch_stat==scsOFF)&&(spc_stat==spcOFF)&&(vz1_stat==vz1sOFF)&&(vz2_stat==vz2sOFF))
;;;8762   		{
;;;8763   		if((load_U<u_necc)&&((u_necc-load_U)>speedChrgDU)&&(abs(Ib_ips_termokompensat/10-IZMAX)<5)&&(!speedChrgBlckStat))
005208  4c6a              LDR      r4,|L1.21428|
00520a  8809              LDRH     r1,[r1,#0]            ;8759  ; speedChrgAvtEn
00520c  2901              CMP      r1,#1                 ;8759
00520e  d126              BNE      |L1.21086|
005210  4969              LDR      r1,|L1.21432|
005212  780a              LDRB     r2,[r1,#0]            ;8761  ; spc_stat
005214  4310              ORRS     r0,r0,r2              ;8761
005216  7b0a              LDRB     r2,[r1,#0xc]          ;8761  ; vz1_stat
005218  7bc9              LDRB     r1,[r1,#0xf]          ;8761  ; vz2_stat
00521a  4310              ORRS     r0,r0,r2              ;8761
00521c  4308              ORRS     r0,r0,r1              ;8761
00521e  d11e              BNE      |L1.21086|
005220  4857              LDR      r0,|L1.21376|
005222  4988              LDR      r1,|L1.21572|
005224  f9b00000          LDRSH    r0,[r0,#0]  ; load_U
005228  f9b11000          LDRSH    r1,[r1,#0]  ; u_necc
00522c  4288              CMP      r0,r1
00522e  da16              BGE      |L1.21086|
005230  1a08              SUBS     r0,r1,r0
005232  4985              LDR      r1,|L1.21576|
005234  f9b11000          LDRSH    r1,[r1,#0]  ; speedChrgDU
005238  4288              CMP      r0,r1
00523a  dd10              BLE      |L1.21086|
00523c  4883              LDR      r0,|L1.21580|
00523e  4984              LDR      r1,|L1.21584|
005240  f9b00000          LDRSH    r0,[r0,#0]  ; Ib_ips_termokompensat
005244  8809              LDRH     r1,[r1,#0]  ; IZMAX
005246  fb90f0f7          SDIV     r0,r0,r7
00524a  1a40              SUBS     r0,r0,r1
00524c  b200              SXTH     r0,r0
00524e  f7fffffe          BL       abs
005252  2805              CMP      r0,#5
005254  da03              BGE      |L1.21086|
005256  8820              LDRH     r0,[r4,#0]  ; speedChrgBlckStat
005258  b908              CBNZ     r0,|L1.21086|
;;;8764   			{
;;;8765   			speedChargeStartStop();
00525a  f7fffffe          BL       speedChargeStartStop
                  |L1.21086|
;;;8766   			}
;;;8767   		}
;;;8768   	}
;;;8769   
;;;8770   
;;;8771   
;;;8772   /*
;;;8773   if(speedChIsOn)
;;;8774   	{
;;;8775   	speedChTimeCnt++;
;;;8776   	if(speedChTimeCnt>=((signed long)speedChrgTimeInHour*3600L))
;;;8777   		{
;;;8778   		speedChIsOn=0;
;;;8779   		}
;;;8780   	if(speedChrgBlckStat)
;;;8781   		{
;;;8782   		speedChIsOn=0;
;;;8783   		speedChTimeCnt=0;
;;;8784   		}
;;;8785   	}
;;;8786   
;;;8787   
;;;8788   
;;;8789   if(speedChrgAvtEn)
;;;8790   	{
;;;8791   	if(!speedChIsOn)
;;;8792   		{
;;;8793   		if((load_U<u_necc)&&((u_necc-load_U)>speedChrgDU)&&(abs(Ib_ips_termokompensat/10-IZMAX)<5)&&(!speedChrgBlckStat))
;;;8794   			{
;;;8795   			speedChIsOn=1;
;;;8796   			}
;;;8797   		}
;;;8798   	}
;;;8799   
;;;8800   
;;;8801   */
;;;8802   if(/*(speedChrgBlckSrc!=1)&&*/(speedChrgBlckSrc!=2)) speedChrgBlckStat=0;
00525e  487d              LDR      r0,|L1.21588|
005260  8800              LDRH     r0,[r0,#0]  ; speedChrgBlckSrc
005262  2802              CMP      r0,#2
005264  d002              BEQ      |L1.21100|
005266  8025              STRH     r5,[r4,#0]
                  |L1.21096|
;;;8803   else
;;;8804   	{
;;;8805   	speedChrgBlckStat=0;
;;;8806   	if(speedChrgBlckSrc==1)
;;;8807   		{
;;;8808   		if(((speedChrgBlckLog==0)&&(adc_buff_[11]>2000)) || ((speedChrgBlckLog==1)&&(adc_buff_[11]<2000))) speedChrgBlckStat=1;
;;;8809   		}
;;;8810   	else if(speedChrgBlckSrc==2)
;;;8811   		{
;;;8812   		if(((speedChrgBlckLog==0)&&(adc_buff_[13]>2000)) || ((speedChrgBlckLog==1)&&(adc_buff_[13]<2000))) speedChrgBlckStat=1;
;;;8813   		}
;;;8814   	}
;;;8815   
;;;8816   /*
;;;8817   if(speedChrgBlckStat==1)
;;;8818   	{
;;;8819   
;;;8820   	//speedChargeStartStop();
;;;8821   
;;;8822   	speedChrgShowCnt++;
;;;8823   	if(speedChrgShowCnt>=30)	
;;;8824   		{
;;;8825   		speedChrgShowCnt=0;
;;;8826   		show_mess(	"     ”— Œ–≈ÕÕ€…     ",
;;;8827   					"       «¿–ﬂƒ        ",
;;;8828   					"     «¿œ–≈Ÿ≈Õ!!!    ",
;;;8829   					"                    ",
;;;8830   					5000);
;;;8831   		}
;;;8832   	} 
;;;8833   else speedChrgShowCnt=0;  */
;;;8834   
;;;8835   
;;;8836   }
005268  e8bd8ff8          POP      {r3-r11,pc}
                  |L1.21100|
00526c  8025              STRH     r5,[r4,#0]            ;8805
00526e  487a              LDR      r0,|L1.21592|
005270  497a              LDR      r1,|L1.21596|
005272  f44f63fa          MOV      r3,#0x7d0             ;8808
005276  f9b00000          LDRSH    r0,[r0,#0]            ;8812  ; speedChrgBlckLog
00527a  b918              CBNZ     r0,|L1.21124|
00527c  f9b1201a          LDRSH    r2,[r1,#0x1a]         ;8812  ; adc_buff_
005280  429a              CMP      r2,r3                 ;8812
005282  dc05              BGT      |L1.21136|
                  |L1.21124|
005284  2801              CMP      r0,#1                 ;8812
005286  d1ef              BNE      |L1.21096|
005288  f9b1001a          LDRSH    r0,[r1,#0x1a]         ;8812  ; adc_buff_
00528c  4298              CMP      r0,r3                 ;8812
00528e  daeb              BGE      |L1.21096|
                  |L1.21136|
005290  f04f0001          MOV      r0,#1                 ;8812
005294  8020              STRH     r0,[r4,#0]            ;8812
005296  e7e7              B        |L1.21096|
;;;8837   
                          ENDP

                  averageChargeHndl PROC
;;;8883   //-----------------------------------------------
;;;8884   void averageChargeHndl(void)
005298  e92d4ff8          PUSH     {r3-r11,lr}
;;;8885   {
;;;8886   /*
;;;8887   if(hv_vz_stat==hvsOFF)
;;;8888   	{
;;;8889   	if((sk_stat[1]==1)&&(sk_stat_old[1]=0))
;;;8890   	} */
;;;8891   if(hv_vz_stat==hvsSTEP1)
00529c  f8dfa1c0          LDR      r10,|L1.21600|
;;;8892   	{
;;;8893   	if(hv_vz_stat_old!=hv_vz_stat)
;;;8894   		{
;;;8895   		hv_vz_stat_cnt=5;
;;;8896   		}
;;;8897   	if(hv_vz_stat_cnt)
;;;8898   		{
;;;8899   		hv_vz_stat_cnt--;
;;;8900   		if(hv_vz_stat_cnt==0)
;;;8901   			{
;;;8902   			hv_vz_stat=hvsERR1; 	//ÕÂ ‚ÍÎ˛˜ËÎ‡Ò¸ ‚ÂÌÚËÎˇˆËˇ;
;;;8903   			lc640_write(EE_HV_VZ_STAT,hvsERR1);
;;;8904   			}
;;;8905   		}
;;;8906   	if(sk_stat[0]==1)
0052a0  4e59              LDR      r6,|L1.21512|
0052a2  4d70              LDR      r5,|L1.21604|
0052a4  f89a0000          LDRB     r0,[r10,#0]           ;8891  ; hv_vz_stat
0052a8  4c6f              LDR      r4,|L1.21608|
0052aa  f04f0905          MOV      r9,#5                 ;8895
0052ae  2801              CMP      r0,#1                 ;8891
0052b0  d131              BNE      |L1.21270|
0052b2  7828              LDRB     r0,[r5,#0]            ;8893  ; hv_vz_stat_old
0052b4  2801              CMP      r0,#1                 ;8893
0052b6  d001              BEQ      |L1.21180|
0052b8  f8a49000          STRH     r9,[r4,#0]            ;8895
                  |L1.21180|
0052bc  f9b40000          LDRSH    r0,[r4,#0]            ;8897  ; hv_vz_stat_cnt
0052c0  b168              CBZ      r0,|L1.21214|
0052c2  f1a00001          SUB      r0,r0,#1              ;8899
0052c6  b200              SXTH     r0,r0                 ;8899
0052c8  8020              STRH     r0,[r4,#0]            ;8899
0052ca  b940              CBNZ     r0,|L1.21214|
0052cc  f04f0006          MOV      r0,#6                 ;8902
0052d0  f88a0000          STRB     r0,[r10,#0]           ;8902
0052d4  4601              MOV      r1,r0                 ;8903
0052d6  f44f70b4          MOV      r0,#0x168             ;8903
0052da  f7fffffe          BL       lc640_write
                  |L1.21214|
0052de  7830              LDRB     r0,[r6,#0]  ; sk_stat
0052e0  2801              CMP      r0,#1
0052e2  d118              BNE      |L1.21270|
;;;8907   		{
;;;8908   		hv_vz_stat=hvsSTEP2;
0052e4  f04f0002          MOV      r0,#2
0052e8  f88a0000          STRB     r0,[r10,#0]
;;;8909   		lc640_write(EE_HV_VZ_STAT,hvsSTEP2);
0052ec  4601              MOV      r1,r0
0052ee  f44f70b4          MOV      r0,#0x168
0052f2  f7fffffe          BL       lc640_write
;;;8910   		tree_up(iHV_STEP2_2,1,0,0);
0052f6  2300              MOVS     r3,#0
0052f8  461a              MOV      r2,r3
0052fa  2101              MOVS     r1,#1
0052fc  20d8              MOVS     r0,#0xd8
0052fe  f7fffffe          BL       tree_up
;;;8911   		tree_up(iHV_STEP2_1,0,0,0);
005302  2300              MOVS     r3,#0
005304  461a              MOV      r2,r3
005306  4619              MOV      r1,r3
005308  20d7              MOVS     r0,#0xd7
00530a  f7fffffe          BL       tree_up
;;;8912   		ret(1200);
00530e  f44f6096          MOV      r0,#0x4b0
005312  f7fffffe          BL       ||ret||
                  |L1.21270|
;;;8913   		}
;;;8914   	}
;;;8915   
;;;8916   if(hv_vz_stat==hvsSTEP2)
005316  f89a0000          LDRB     r0,[r10,#0]  ; hv_vz_stat
00531a  2802              CMP      r0,#2
00531c  d10b              BNE      |L1.21302|
;;;8917   	{
;;;8918   	if((hv_vz_stat_old!=hv_vz_stat)||(hv_vz_stat_cnt==0))
00531e  7829              LDRB     r1,[r5,#0]  ; hv_vz_stat_old
005320  2902              CMP      r1,#2
005322  d101              BNE      |L1.21288|
005324  8821              LDRH     r1,[r4,#0]  ; hv_vz_stat_cnt
005326  b911              CBNZ     r1,|L1.21294|
                  |L1.21288|
;;;8919   		{
;;;8920   		hv_vz_stat_cnt=15;
005328  f04f010f          MOV      r1,#0xf
00532c  8021              STRH     r1,[r4,#0]
                  |L1.21294|
;;;8921   		}
;;;8922   	hv_vz_stat_cnt--;
00532e  8821              LDRH     r1,[r4,#0]  ; hv_vz_stat_cnt
005330  f1a10101          SUB      r1,r1,#1
005334  8021              STRH     r1,[r4,#0]
                  |L1.21302|
;;;8923   	//if((hv_vz_stat_cnt==14)/*||(hv_vz_stat_cnt==13)||(hv_vz_stat_cnt==12)*/)
;;;8924   	//	{
;;;8925   //		show_mess_number(	"     ¬Õ»Ã¿Õ»≈!!!    ",
;;;8926   	//				"  Õ‡ÔˇÊÂÌËÂ ·Û‰ÂÚ  ",
;;;8927   	//				" Û‚ÂÎË˜ÂÌÓ ‰Ó     @¬",
;;;8928   	//				"Œ“ Àﬁ◊»“≈ Õ¿√–”« ”!!",
;;;8929   	//				4800,UVZ,1);
;;;8930   	//	}
;;;8931   	//if((hv_vz_stat_cnt==8)/*||(hv_vz_stat_cnt==7)||(hv_vz_stat_cnt==6)*/)
;;;8932   	//	{
;;;8933   	//	show_mess(	"    œŒƒ“¬≈–ƒ»“≈     ",
;;;8934   	//				"     Õ¿∆¿“»≈Ã       ",
;;;8935   	//				"    ÷≈Õ“–¿À‹ÕŒ…     ",
;;;8936   	//				"       ÕŒœ »        ",
;;;8937   	//				4800);
;;;8938   	//	} 
;;;8939   /*	if(sk_stat[1]==1)
;;;8940   		{
;;;8941   		hv_vz_stat=hvsWRK;
;;;8942   		lc640_write(EE_HV_VZ_STAT,hvsWRK);
;;;8943   		}*/
;;;8944   	}
;;;8945   
;;;8946   if(hv_vz_stat==hvsSTEP3)
;;;8947   	{
;;;8948   	if((hv_vz_stat_old!=hv_vz_stat)||(hv_vz_stat_cnt==0))
;;;8949   		{
;;;8950   		hv_vz_stat_cnt=10;
005336  270a              MOVS     r7,#0xa
;;;8951   		}
;;;8952   	hv_vz_stat_cnt--;
;;;8953   	if((hv_vz_stat_cnt==10)||(hv_vz_stat_cnt==9))
;;;8954   		{
;;;8955   		show_mess(	"     ¬ Àﬁ◊»“≈       ",
005338  f2413888          MOV      r8,#0x1388
00533c  2803              CMP      r0,#3                 ;8946
00533e  d116              BNE      |L1.21358|
005340  7828              LDRB     r0,[r5,#0]            ;8948  ; hv_vz_stat_old
005342  2803              CMP      r0,#3                 ;8948
005344  d101              BNE      |L1.21322|
005346  8820              LDRH     r0,[r4,#0]            ;8948  ; hv_vz_stat_cnt
005348  b900              CBNZ     r0,|L1.21324|
                  |L1.21322|
00534a  8027              STRH     r7,[r4,#0]            ;8950
                  |L1.21324|
00534c  8820              LDRH     r0,[r4,#0]            ;8952  ; hv_vz_stat_cnt
00534e  f1a00001          SUB      r0,r0,#1              ;8952
005352  b200              SXTH     r0,r0                 ;8952
005354  8020              STRH     r0,[r4,#0]            ;8952
005356  280a              CMP      r0,#0xa               ;8953
005358  d001              BEQ      |L1.21342|
00535a  2809              CMP      r0,#9                 ;8953
00535c  d108              BNE      |L1.21360|
                  |L1.21342|
00535e  4b17              LDR      r3,|L1.21436|
005360  a242              ADR      r2,|L1.21612|
005362  3b48              SUBS     r3,r3,#0x48
005364  f5a361ab          SUB      r1,r3,#0x558
005368  f1010018          ADD      r0,r1,#0x18
00536c  e08a              B        |L1.21636|
                  |L1.21358|
00536e  e097              B        |L1.21664|
                  |L1.21360|
005370  e08c              B        |L1.21644|
005372  0000              DCW      0x0000
                  |L1.21364|
                          DCD      NPN_OUT
                  |L1.21368|
                          DCD      npn_tz_cnt
                  |L1.21372|
                          DCD      npn_stat
                  |L1.21376|
                          DCD      load_U
                  |L1.21380|
                          DCD      UONPN
                  |L1.21384|
                          DCD      net_Ua
                  |L1.21388|
                          DCD      net_Ub
                  |L1.21392|
                          DCD      net_Uc
                  |L1.21396|
                          DCD      UMN
                  |L1.21400|
                          DCD      TZNPN
                  |L1.21404|
                          DCD      UVNPN
                  |L1.21408|
                          DCD      load_off_cnt
                  |L1.21412|
                          DCD      load_off_stat
                  |L1.21416|
                          DCD      dUNPN
                  |L1.21420|
                          DCD      tloaddisable_cmnd
                  |L1.21424|
                          DCD      sp_ch_stat
                  |L1.21428|
                          DCD      speedChrgBlckStat
                  |L1.21432|
                          DCD      ||area_number.23||+0x14
                  |L1.21436|
                          DCD      ||.text||+0xe80
                  |L1.21440|
0053c0  20202020          DCB      "    ",231,224,225,235,238,234,232,240,238,226,224,237,"!"
0053c4  e7e0e1eb
0053c8  eeeae8f0
0053cc  eee2e0ed
0053d0  21      
0053d1  20202000          DCB      "   ",0
0053d5  00                DCB      0
0053d6  00                DCB      0
0053d7  00                DCB      0
                  |L1.21464|
0053d8  20202020          DCB      "       ",231,224,240,255,228,"        ",0
0053dc  202020e7
0053e0  e0f0ffe4
0053e4  20202020
0053e8  20202020
0053ec  00      
0053ed  00                DCB      0
0053ee  00                DCB      0
0053ef  00                DCB      0
                  |L1.21488|
0053f0  20202020          DCB      "     ",211,241,234,238,240,229,237,237,251,233,"     ",0
0053f4  20d3f1ea
0053f8  eef0e5ed
0053fc  edfbe920
005400  20202020
005404  00      
005405  00                DCB      0
005406  00                DCB      0
005407  00                DCB      0
                  |L1.21512|
                          DCD      sk_stat
                  |L1.21516|
                          DCD      sp_ch_stat_old
                  |L1.21520|
                          DCD      sp_ch_stat_cnt
                  |L1.21524|
                          DCD      sp_ch_wrk_cnt
                  |L1.21528|
                          DCD      hv_vz_up_cnt
                  |L1.21532|
                          DCD      speedChrgTimeInHour
                  |L1.21536|
                          DCD      ||.text||+0xd48
                  |L1.21540|
005424  2020d3d1          DCB      "  ",211,209,202,206,208,197,205,205,219,201," ",199,192
005428  caced0c5
00542c  cdcddbc9
005430  20c7c0  
005433  d0dfc420          DCB      208,223,196,"  ",0
005437  2000    
005439  00                DCB      0
00543a  00                DCB      0
00543b  00                DCB      0
                  |L1.21564|
                          DCD      ||.text||+0x848
                  |L1.21568|
                          DCD      speedChrgAvtEn
                  |L1.21572|
                          DCD      u_necc
                  |L1.21576|
                          DCD      speedChrgDU
                  |L1.21580|
                          DCD      Ib_ips_termokompensat
                  |L1.21584|
                          DCD      IZMAX
                  |L1.21588|
                          DCD      speedChrgBlckSrc
                  |L1.21592|
                          DCD      speedChrgBlckLog
                  |L1.21596|
                          DCD      ||.bss||+0x400
                  |L1.21600|
                          DCD      hv_vz_stat
                  |L1.21604|
                          DCD      hv_vz_stat_old
                  |L1.21608|
                          DCD      hv_vz_stat_cnt
                  |L1.21612|
00546c  202020c2          DCB      "   ",194,219,208,192,194,205,200,194,192,222,217,200,201
005470  dbd0c0c2
005474  cdc8c2c0
005478  ded9c8c9
00547c  20202020          DCB      "    ",0
005480  00      
005481  00                DCB      0
005482  00                DCB      0
005483  00                DCB      0
                  |L1.21636|
005484  f8cd8000          STR      r8,[sp,#0]
005488  f7fffffe          BL       show_mess
                  |L1.21644|
;;;8956   					"      “”Ã¡À≈–       ",
;;;8957   					"   ¬€–¿¬Õ»¬¿ﬁŸ»…    ",
;;;8958   					"       «¿–ﬂƒ        ",
;;;8959   					5000);
;;;8960   		}
;;;8961   	if(sk_stat[1]==1)
00548c  7870              LDRB     r0,[r6,#1]  ; sk_stat
00548e  2801              CMP      r0,#1
005490  d106              BNE      |L1.21664|
;;;8962   		{
;;;8963   		hv_vz_stat=hvsWRK;
005492  f88a9000          STRB     r9,[r10,#0]
;;;8964   		lc640_write(EE_HV_VZ_STAT,hvsWRK);
005496  2105              MOVS     r1,#5
005498  f44f70b4          MOV      r0,#0x168
00549c  f7fffffe          BL       lc640_write
                  |L1.21664|
;;;8965   		}
;;;8966   	}
;;;8967   
;;;8968   if(hv_vz_stat==hvsWRK)
0054a0  f89a0000          LDRB     r0,[r10,#0]  ; hv_vz_stat
0054a4  f04f0b00          MOV      r11,#0
0054a8  2805              CMP      r0,#5
0054aa  d13a              BNE      |L1.21794|
;;;8969   	{
;;;8970   	if(hv_vz_stat_old!=hv_vz_stat)
0054ac  7828              LDRB     r0,[r5,#0]  ; hv_vz_stat_old
;;;8971   		{
;;;8972   		hv_vz_wrk_cnt=3600L/*100L*/*((long)VZ_HR);
0054ae  4af8              LDR      r2,|L1.22672|
;;;8973   		if(VZ_HR==0)  	hv_vz_wrk_cnt=1800L;
;;;8974   		hv_vz_up_cnt=0L;
0054b0  49f8              LDR      r1,|L1.22676|
0054b2  2805              CMP      r0,#5                 ;8970
0054b4  d00d              BEQ      |L1.21714|
0054b6  48f8              LDR      r0,|L1.22680|
0054b8  f44f6361          MOV      r3,#0xe10             ;8972
0054bc  f9b00000          LDRSH    r0,[r0,#0]            ;8972  ; VZ_HR
0054c0  fb00f303          MUL      r3,r0,r3              ;8972
0054c4  6013              STR      r3,[r2,#0]            ;8972  ; hv_vz_wrk_cnt
0054c6  b910              CBNZ     r0,|L1.21710|
0054c8  f44f60e1          MOV      r0,#0x708             ;8973
0054cc  6010              STR      r0,[r2,#0]            ;8973  ; hv_vz_wrk_cnt
                  |L1.21710|
0054ce  f8c1b000          STR      r11,[r1,#0]  ; hv_vz_up_cnt
                  |L1.21714|
;;;8975   		}
;;;8976   	hv_vz_wrk_cnt--;
0054d2  6810              LDR      r0,[r2,#0]  ; hv_vz_wrk_cnt
0054d4  f1a00001          SUB      r0,r0,#1
0054d8  6010              STR      r0,[r2,#0]  ; hv_vz_wrk_cnt
;;;8977   	hv_vz_up_cnt++;
0054da  680a              LDR      r2,[r1,#0]  ; hv_vz_up_cnt
0054dc  f1020201          ADD      r2,r2,#1
0054e0  600a              STR      r2,[r1,#0]  ; hv_vz_up_cnt
;;;8978   
;;;8979   	if(hv_vz_wrk_cnt==0)
0054e2  b940              CBNZ     r0,|L1.21750|
;;;8980   		{
;;;8981   		hv_vz_stat=hvsERR4;
0054e4  f04f0009          MOV      r0,#9
0054e8  f88a0000          STRB     r0,[r10,#0]
;;;8982   		lc640_write(EE_HV_VZ_STAT,hvsERR4);
0054ec  4601              MOV      r1,r0
0054ee  f44f70b4          MOV      r0,#0x168
0054f2  f7fffffe          BL       lc640_write
                  |L1.21750|
;;;8983   		}
;;;8984   	if(sk_stat[0]==0)
0054f6  7830              LDRB     r0,[r6,#0]  ; sk_stat
0054f8  b940              CBNZ     r0,|L1.21772|
;;;8985   		{
;;;8986   		hv_vz_stat=hvsERR2;
0054fa  f04f0007          MOV      r0,#7
0054fe  f88a0000          STRB     r0,[r10,#0]
;;;8987   		lc640_write(EE_HV_VZ_STAT,hvsERR2);
005502  4601              MOV      r1,r0
005504  f44f70b4          MOV      r0,#0x168
005508  f7fffffe          BL       lc640_write
                  |L1.21772|
;;;8988   		}
;;;8989   	if(sk_stat[1]==0)
00550c  7870              LDRB     r0,[r6,#1]  ; sk_stat
00550e  b940              CBNZ     r0,|L1.21794|
;;;8990   		{
;;;8991   		hv_vz_stat=hvsERR3;
005510  f04f0008          MOV      r0,#8
005514  f88a0000          STRB     r0,[r10,#0]
;;;8992   		lc640_write(EE_HV_VZ_STAT,hvsERR3);
005518  4601              MOV      r1,r0
00551a  f44f70b4          MOV      r0,#0x168
00551e  f7fffffe          BL       lc640_write
                  |L1.21794|
;;;8993   		}
;;;8994   	}
;;;8995   
;;;8996   if(hv_vz_stat==hvsERR1)		//ŒÚÒÛÚÒÚ‚ÛÂÚ ‚ÂÌÚËÎˇˆËˇ ÔË ‚ÍÎ˛˜ÂÌËË
005522  f89a0000          LDRB     r0,[r10,#0]  ; hv_vz_stat
005526  2806              CMP      r0,#6
005528  d119              BNE      |L1.21854|
;;;8997   	{
;;;8998   	if((hv_vz_stat_old!=hv_vz_stat)||(hv_vz_stat_cnt==0))
00552a  7828              LDRB     r0,[r5,#0]  ; hv_vz_stat_old
00552c  2806              CMP      r0,#6
00552e  d101              BNE      |L1.21812|
005530  8820              LDRH     r0,[r4,#0]  ; hv_vz_stat_cnt
005532  b900              CBNZ     r0,|L1.21814|
                  |L1.21812|
;;;8999   		{
;;;9000   		hv_vz_stat_cnt=10;
005534  8027              STRH     r7,[r4,#0]
                  |L1.21814|
;;;9001   		}
;;;9002   	hv_vz_stat_cnt--;
005536  8820              LDRH     r0,[r4,#0]  ; hv_vz_stat_cnt
005538  f1a00001          SUB      r0,r0,#1
00553c  b200              SXTH     r0,r0
00553e  8020              STRH     r0,[r4,#0]
;;;9003   	if((hv_vz_stat_cnt==10)||(hv_vz_stat_cnt==9))
005540  280a              CMP      r0,#0xa
005542  d001              BEQ      |L1.21832|
005544  2809              CMP      r0,#9
005546  d10a              BNE      |L1.21854|
                  |L1.21832|
;;;9004   		{
;;;9005   		show_mess(	"¬€–¿¬Õ»¬¿ﬁŸ»… «¿–ﬂƒ ",
005548  4bd4              LDR      r3,|L1.22684|
00554a  f8cd8000          STR      r8,[sp,#0]
00554e  f1030218          ADD      r2,r3,#0x18
005552  f1020118          ADD      r1,r2,#0x18
005556  f5a1609d          SUB      r0,r1,#0x4e8
00555a  f7fffffe          BL       show_mess
                  |L1.21854|
;;;9006   					"   Õ≈ ÃŒ∆≈“ ¡€“‹    ",
;;;9007   					"      ¬ Àﬁ◊≈Õ       ",
;;;9008   					"  ¡≈« ¬≈Õ“»Àﬂ÷»»!!  ",
;;;9009   					5000);
;;;9010   		}
;;;9011   	}
;;;9012   if(hv_vz_stat==hvsERR2)		//œÓÔ‡Î‡ ‚ÂÌÚËÎˇˆËˇ ÔË ‡·ÓÚÂ
00555e  f89a0000          LDRB     r0,[r10,#0]  ; hv_vz_stat
005562  2807              CMP      r0,#7
005564  d123              BNE      |L1.21934|
;;;9013   	{
;;;9014   	if((hv_vz_stat_old!=hv_vz_stat)||(hv_vz_stat_cnt==0))
005566  7828              LDRB     r0,[r5,#0]  ; hv_vz_stat_old
005568  2807              CMP      r0,#7
00556a  d101              BNE      |L1.21872|
00556c  8820              LDRH     r0,[r4,#0]  ; hv_vz_stat_cnt
00556e  b900              CBNZ     r0,|L1.21874|
                  |L1.21872|
;;;9015   		{
;;;9016   		hv_vz_stat_cnt=10;
005570  8027              STRH     r7,[r4,#0]
                  |L1.21874|
;;;9017   		}
;;;9018   	hv_vz_stat_cnt--;
005572  8820              LDRH     r0,[r4,#0]  ; hv_vz_stat_cnt
005574  f1a00001          SUB      r0,r0,#1
005578  b200              SXTH     r0,r0
00557a  8020              STRH     r0,[r4,#0]
;;;9019   	if((hv_vz_stat_cnt==10)||(hv_vz_stat_cnt==9))
00557c  280a              CMP      r0,#0xa
00557e  d001              BEQ      |L1.21892|
005580  2809              CMP      r0,#9
005582  d10a              BNE      |L1.21914|
                  |L1.21892|
;;;9020   		{
;;;9021   		show_mess(	"¬€–¿¬Õ»¬¿ﬁŸ»… «¿–ﬂƒ ",
005584  4bc6              LDR      r3,|L1.22688|
005586  f8cd8000          STR      r8,[sp,#0]
00558a  f1030218          ADD      r2,r3,#0x18
00558e  f1020118          ADD      r1,r2,#0x18
005592  f1010018          ADD      r0,r1,#0x18
005596  f7fffffe          BL       show_mess
                  |L1.21914|
;;;9022   					"    «¿¡ÀŒ »–Œ¬¿Õ    ",
;;;9023   					"     Õ≈»—œ–¿¬Õ¿     ",
;;;9024   					"    ¬≈Õ“»Àﬂ÷»ﬂ!!!   ",
;;;9025   					5000);
;;;9026   		}
;;;9027   	if(sk_stat[0]==1)
00559a  7830              LDRB     r0,[r6,#0]  ; sk_stat
00559c  2801              CMP      r0,#1
00559e  d106              BNE      |L1.21934|
;;;9028   		{
;;;9029   		hv_vz_stat=hvsWRK;
0055a0  f88a9000          STRB     r9,[r10,#0]
;;;9030   		lc640_write(EE_HV_VZ_STAT,hvsWRK);
0055a4  2105              MOVS     r1,#5
0055a6  f44f70b4          MOV      r0,#0x168
0055aa  f7fffffe          BL       lc640_write
                  |L1.21934|
;;;9031   		}
;;;9032   	}
;;;9033   
;;;9034   if(hv_vz_stat==hvsERR3)		//ŒÚÍÎ˛˜ÂÌ ÚÛÏ·ÎÂ "¬˚‡‚ÌË‚‡˛˘ËÈ Á‡ˇ‰"
0055ae  f89a0000          LDRB     r0,[r10,#0]  ; hv_vz_stat
0055b2  2808              CMP      r0,#8
0055b4  d123              BNE      |L1.22014|
;;;9035   	{
;;;9036   	if((hv_vz_stat_old!=hv_vz_stat)||(hv_vz_stat_cnt==0))
0055b6  7828              LDRB     r0,[r5,#0]  ; hv_vz_stat_old
0055b8  2808              CMP      r0,#8
0055ba  d101              BNE      |L1.21952|
0055bc  8820              LDRH     r0,[r4,#0]  ; hv_vz_stat_cnt
0055be  b900              CBNZ     r0,|L1.21954|
                  |L1.21952|
;;;9037   		{
;;;9038   		hv_vz_stat_cnt=10;
0055c0  8027              STRH     r7,[r4,#0]
                  |L1.21954|
;;;9039   		}
;;;9040   	hv_vz_stat_cnt--;
0055c2  8820              LDRH     r0,[r4,#0]  ; hv_vz_stat_cnt
0055c4  f1a00001          SUB      r0,r0,#1
0055c8  b200              SXTH     r0,r0
0055ca  8020              STRH     r0,[r4,#0]
;;;9041   	if((hv_vz_stat_cnt==10)||(hv_vz_stat_cnt==9))
0055cc  280a              CMP      r0,#0xa
0055ce  d001              BEQ      |L1.21972|
0055d0  2809              CMP      r0,#9
0055d2  d10a              BNE      |L1.21994|
                  |L1.21972|
;;;9042   		{
;;;9043   		show_mess(	"¬€–¿¬Õ»¬¿ﬁŸ»… «¿–ﬂƒ ",
0055d4  4bb3              LDR      r3,|L1.22692|
0055d6  f8cd8000          STR      r8,[sp,#0]
0055da  f5a362ae          SUB      r2,r3,#0x570
0055de  f1020118          ADD      r1,r2,#0x18
0055e2  f5a160a9          SUB      r0,r1,#0x548
0055e6  f7fffffe          BL       show_mess
                  |L1.21994|
;;;9044   					"  ¡”ƒ≈“ œ–ŒƒŒÀ∆≈Õ   ",
;;;9045   					"  œŒ—À≈ ¬ Àﬁ◊≈Õ»ﬂ   ",
;;;9046   					"    “”Ã¡À≈–¿!!!     ",
;;;9047   					5000);
;;;9048   		}
;;;9049   	if(sk_stat[1]==1)
0055ea  7870              LDRB     r0,[r6,#1]  ; sk_stat
0055ec  2801              CMP      r0,#1
0055ee  d106              BNE      |L1.22014|
;;;9050   		{
;;;9051   		hv_vz_stat=hvsWRK;
0055f0  f88a9000          STRB     r9,[r10,#0]
;;;9052   		lc640_write(EE_HV_VZ_STAT,hvsWRK);
0055f4  2105              MOVS     r1,#5
0055f6  f44f70b4          MOV      r0,#0x168
0055fa  f7fffffe          BL       lc640_write
                  |L1.22014|
;;;9053   		}
;;;9054   	}
;;;9055   if(hv_vz_stat==hvsERR4)		//¬« Á‡ÍÓÌ˜ËÎÒˇ ‡ ÚÛÏ·ÎÂ ‚ÍÎ˛˜ÂÌ
0055fe  f89a0000          LDRB     r0,[r10,#0]  ; hv_vz_stat
005602  2809              CMP      r0,#9
005604  d125              BNE      |L1.22098|
;;;9056   	{
;;;9057   	if((hv_vz_stat_old!=hv_vz_stat)||(hv_vz_stat_cnt==0))
005606  7828              LDRB     r0,[r5,#0]  ; hv_vz_stat_old
005608  2809              CMP      r0,#9
00560a  d101              BNE      |L1.22032|
00560c  8820              LDRH     r0,[r4,#0]  ; hv_vz_stat_cnt
00560e  b900              CBNZ     r0,|L1.22034|
                  |L1.22032|
;;;9058   		{
;;;9059   		hv_vz_stat_cnt=10;
005610  8027              STRH     r7,[r4,#0]
                  |L1.22034|
;;;9060   		}
;;;9061   	hv_vz_stat_cnt--;
005612  8820              LDRH     r0,[r4,#0]  ; hv_vz_stat_cnt
005614  f1a00001          SUB      r0,r0,#1
005618  b200              SXTH     r0,r0
00561a  8020              STRH     r0,[r4,#0]
;;;9062   	if((hv_vz_stat_cnt==10)||(hv_vz_stat_cnt==9))
00561c  280a              CMP      r0,#0xa
00561e  d001              BEQ      |L1.22052|
005620  2809              CMP      r0,#9
005622  d10b              BNE      |L1.22076|
                  |L1.22052|
;;;9063   		{
;;;9064   		show_mess(	"     ¬€ Àﬁ◊»“≈      ",
005624  4b9d              LDR      r3,|L1.22684|
005626  33f0              ADDS     r3,r3,#0xf0
005628  f2af12c0          ADR      r2,|L1.21612|
00562c  f5a361ab          SUB      r1,r3,#0x558
005630  f50160b1          ADD      r0,r1,#0x588
005634  f8cd8000          STR      r8,[sp,#0]
005638  f7fffffe          BL       show_mess
                  |L1.22076|
;;;9065   					"      “”Ã¡À≈–       ",
;;;9066   					"   ¬€–¿¬Õ»¬¿ﬁŸ»…    ",
;;;9067   					"       «¿–ﬂƒ        ",
;;;9068   					5000);
;;;9069   		}
;;;9070   	if(sk_stat[1]==0)
00563c  7870              LDRB     r0,[r6,#1]  ; sk_stat
00563e  b940              CBNZ     r0,|L1.22098|
;;;9071   		{
;;;9072   		hv_vz_stat=hvsOFF;
005640  f88ab000          STRB     r11,[r10,#0]
;;;9073   		lc640_write(EE_HV_VZ_STAT,hvsOFF);
005644  2100              MOVS     r1,#0
005646  f44f70b4          MOV      r0,#0x168
00564a  f7fffffe          BL       lc640_write
;;;9074   		vz_stop();
00564e  f7fffffe          BL       vz_stop
                  |L1.22098|
;;;9075   
;;;9076   		}
;;;9077   	}
;;;9078   hv_vz_stat_old=hv_vz_stat;
005652  f89a0000          LDRB     r0,[r10,#0]  ; hv_vz_stat
005656  7028              STRB     r0,[r5,#0]
;;;9079   /*
;;;9080   if(speedChIsOn)
;;;9081   	{
;;;9082   	speedChTimeCnt++;
;;;9083   	if(speedChTimeCnt>=((signed long)speedChrgTimeInHour*3600L))
;;;9084   		{
;;;9085   		speedChIsOn=0;
;;;9086   		}
;;;9087   	if(speedChrgBlckStat)
;;;9088   		{
;;;9089   		speedChIsOn=0;
;;;9090   		speedChTimeCnt=0;
;;;9091   		}
;;;9092   	}
;;;9093   
;;;9094   
;;;9095   
;;;9096   if(speedChrgAvtEn)
;;;9097   	{
;;;9098   	if(!speedChIsOn)
;;;9099   		{
;;;9100   		if((load_U<u_necc)&&((u_necc-load_U)>speedChrgDU)&&(abs(Ib_ips_termokompensat/10-IZMAX)<5)&&(!speedChrgBlckStat))
;;;9101   			{
;;;9102   			speedChIsOn=1;
;;;9103   			}
;;;9104   		}
;;;9105   	}
;;;9106   
;;;9107   
;;;9108   
;;;9109   if((speedChrgBlckSrc!=1)&&(speedChrgBlckSrc!=2)) speedChrgBlckStat=0;
;;;9110   else
;;;9111   	{
;;;9112   	speedChrgBlckStat=0;
;;;9113   	if(speedChrgBlckSrc==1)
;;;9114   		{
;;;9115   		if(((speedChrgBlckLog==0)&&(adc_buff_[11]>2000)) || ((speedChrgBlckLog==1)&&(adc_buff_[11]<2000))) speedChrgBlckStat=1;
;;;9116   		}
;;;9117   	else if(speedChrgBlckSrc==2)
;;;9118   		{
;;;9119   		if(((speedChrgBlckLog==0)&&(adc_buff_[13]>2000)) || ((speedChrgBlckLog==1)&&(adc_buff_[13]<2000))) speedChrgBlckStat=1;
;;;9120   		}
;;;9121   	}
;;;9122   
;;;9123   
;;;9124   if(speedChrgBlckStat==1)
;;;9125   	{
;;;9126   
;;;9127   	//speedChargeStartStop();
;;;9128   
;;;9129   	speedChrgShowCnt++;
;;;9130   	if(speedChrgShowCnt>=30)	
;;;9131   		{
;;;9132   		speedChrgShowCnt=0;
;;;9133   		show_mess(	"     ”— Œ–≈ÕÕ€…     ",
;;;9134   					"       «¿–ﬂƒ        ",
;;;9135   					"     «¿œ–≈Ÿ≈Õ!!!    ",
;;;9136   					"                    ",
;;;9137   					5000);
;;;9138   		}
;;;9139   	}
;;;9140   else speedChrgShowCnt=0;
;;;9141   
;;;9142   */
;;;9143   }
005658  e606              B        |L1.21096|
;;;9144   
                          ENDP

                  averageChargeStartStop PROC
;;;9145   //-----------------------------------------------
;;;9146   void averageChargeStartStop(void)
00565a  4993              LDR      r1,|L1.22696|
;;;9147   {
;;;9148   if(hv_vz_stat!=hvsOFF)
;;;9149   	{
;;;9150   	hv_vz_stat=hvsOFF;
;;;9151   	lc640_write(EE_HV_VZ_STAT,hvsOFF);
00565c  f44f70b4          MOV      r0,#0x168
005660  780a              LDRB     r2,[r1,#0]            ;9148  ; hv_vz_stat
005662  b132              CBZ      r2,|L1.22130|
005664  f04f0200          MOV      r2,#0                 ;9150
005668  700a              STRB     r2,[r1,#0]            ;9150
00566a  f04f0100          MOV      r1,#0
00566e  f7ffbffe          B.W      lc640_write
                  |L1.22130|
;;;9152   	}
;;;9153   
;;;9154   else
;;;9155   	{
;;;9156   	hv_vz_stat=hvsSTEP1;
005672  f04f0201          MOV      r2,#1
005676  700a              STRB     r2,[r1,#0]
;;;9157   	lc640_write(EE_HV_VZ_STAT,hvsSTEP1);
005678  4611              MOV      r1,r2
00567a  f7ffbffe          B.W      lc640_write
;;;9158   	}
;;;9159   }
;;;9160   
                          ENDP

                  numOfForvardBps_hndl PROC
;;;9161   //-----------------------------------------------
;;;9162   void	numOfForvardBps_hndl(void)			//œÓ„‡ÏÏ‡ ÒÏÂÌ˚ ÔÂ‚Ó„Ó ËÒÚÓ˜ÌËÍ‡ ‰Îˇ ‡‚ÌÓÏÂÌÓ„Ó ËÁÌÓÒ‡ ¡œ—Ó‚
00567e  e92d41f0          PUSH     {r4-r8,lr}
;;;9163   {
;;;9164   
;;;9165   numOfForvardBps_old=numOfForvardBps;
005682  4c8a              LDR      r4,|L1.22700|
005684  7e60              LDRB     r0,[r4,#0x19]  ; numOfForvardBps
005686  76a0              STRB     r0,[r4,#0x1a]
;;;9166   
;;;9167   numOfForvardBps=0;
005688  f04f0500          MOV      r5,#0
00568c  7665              STRB     r5,[r4,#0x19]
;;;9168   
;;;9169   //FORVARDBPSCHHOUR=10;
;;;9170   
;;;9171   if((FORVARDBPSCHHOUR<=0)||(FORVARDBPSCHHOUR>500))
00568e  4e88              LDR      r6,|L1.22704|
005690  f9b60000          LDRSH    r0,[r6,#0]  ; FORVARDBPSCHHOUR
005694  2800              CMP      r0,#0
005696  dd02              BLE      |L1.22174|
005698  f5b07ffa          CMP      r0,#0x1f4
00569c  dd02              BLE      |L1.22180|
                  |L1.22174|
;;;9172   	{
;;;9173   	FORVARDBPSCHHOUR=0;
00569e  8035              STRH     r5,[r6,#0]
                  |L1.22176|
;;;9174   	return;
;;;9175   	}
;;;9176   
;;;9177   numOfForvardBps_minCnt++;
;;;9178   
;;;9179   
;;;9180   if(numOfForvardBps_minCnt>=60)
;;;9181   	{
;;;9182   	numOfForvardBps_minCnt=0;
;;;9183   	numOfForvardBps_hourCnt=lc640_read_int(EE_FORVBPSHOURCNT);
;;;9184   	numOfForvardBps_hourCnt++;
;;;9185   	if(numOfForvardBps_hourCnt>=(FORVARDBPSCHHOUR*NUMIST))
;;;9186   		{
;;;9187   		numOfForvardBps_hourCnt=0;
;;;9188   		}
;;;9189   	lc640_write_int(EE_FORVBPSHOURCNT,numOfForvardBps_hourCnt);
;;;9190   	}
;;;9191   
;;;9192   numOfForvardBps=numOfForvardBps_hourCnt/FORVARDBPSCHHOUR;
;;;9193   
;;;9194   //if(numOfForvardBps)
;;;9195   //numOfForvardBps_old=numOfForvardBps; 
;;;9196   }
0056a0  e8bd81f0          POP      {r4-r8,pc}
                  |L1.22180|
0056a4  7ee0              LDRB     r0,[r4,#0x1b]         ;9177  ; numOfForvardBps_minCnt
0056a6  f1000001          ADD      r0,r0,#1              ;9177
0056aa  b2c0              UXTB     r0,r0                 ;9177
0056ac  76e0              STRB     r0,[r4,#0x1b]         ;9177
0056ae  283c              CMP      r0,#0x3c              ;9180
0056b0  d31a              BCC      |L1.22248|
0056b2  76e5              STRB     r5,[r4,#0x1b]         ;9182
0056b4  f44f7794          MOV      r7,#0x128             ;9183
0056b8  4638              MOV      r0,r7                 ;9183
0056ba  f7fffffe          BL       lc640_read_int
0056be  f1000001          ADD      r0,r0,#1              ;9184
0056c2  b200              SXTH     r0,r0                 ;9184
0056c4  f8a4006c          STRH     r0,[r4,#0x6c]         ;9184
0056c8  4a7a              LDR      r2,|L1.22708|
0056ca  f9b61000          LDRSH    r1,[r6,#0]            ;9185  ; FORVARDBPSCHHOUR
0056ce  f9b22000          LDRSH    r2,[r2,#0]            ;9185  ; NUMIST
0056d2  fb01f102          MUL      r1,r1,r2              ;9185
0056d6  4281              CMP      r1,r0                 ;9185
0056d8  dc01              BGT      |L1.22238|
0056da  f8a4506c          STRH     r5,[r4,#0x6c]         ;9187
                  |L1.22238|
0056de  f9b4106c          LDRSH    r1,[r4,#0x6c]         ;9189  ; numOfForvardBps_hourCnt
0056e2  4638              MOV      r0,r7                 ;9189
0056e4  f7fffffe          BL       lc640_write_int
                  |L1.22248|
0056e8  f9b4006c          LDRSH    r0,[r4,#0x6c]         ;9192  ; numOfForvardBps_hourCnt
0056ec  f9b61000          LDRSH    r1,[r6,#0]            ;9192  ; FORVARDBPSCHHOUR
0056f0  fb90f0f1          SDIV     r0,r0,r1              ;9192
0056f4  7660              STRB     r0,[r4,#0x19]         ;9192
0056f6  e7d3              B        |L1.22176|
;;;9197   
                          ENDP

                  numOfForvardBps_init PROC
;;;9198   //-----------------------------------------------
;;;9199   void	numOfForvardBps_init(void)			//œÓ„‡ÏÏ‡ Ò·ÓÒ‡ ÒËÒÚÂÏ˚ ÒÏÂÌ˚ ÔÂ‚Ó„Ó ËÒÚÓ˜ÌËÍ‡ ‰Îˇ ‡‚ÌÓÏÂÌÓ„Ó ËÁÌÓÒ‡ ¡œ—Ó‚
0056f8  b510              PUSH     {r4,lr}
;;;9200   {									//ƒÓÎÊÌ‡ ‚˚Á˚‚‡Ú¸Òˇ ÔË ËÁÏÂÌÂÌËË ÍÓÎ-‚‡ ËÒÚÓ˜ÌËÍÓ‚ ‚ ÒÚÛÍÚÛÂ
;;;9201   lc640_write_int(EE_FORVBPSHOURCNT,0);
0056fa  2100              MOVS     r1,#0
0056fc  f44f7094          MOV      r0,#0x128
005700  f7fffffe          BL       lc640_write_int
;;;9202   numOfForvardBps_minCnt=58;
005704  4969              LDR      r1,|L1.22700|
005706  f04f003a          MOV      r0,#0x3a
00570a  76c8              STRB     r0,[r1,#0x1b]
;;;9203   }
00570c  bd10              POP      {r4,pc}
;;;9204   
                          ENDP

                  outVoltContrHndl PROC
;;;9205   //-----------------------------------------------
;;;9206   void outVoltContrHndl(void)
00570e  b570              PUSH     {r4-r6,lr}
;;;9207   { 
;;;9208   if((load_U>U_OUT_KONTR_MAX)||(load_U<U_OUT_KONTR_MIN))
005710  4c69              LDR      r4,|L1.22712|
005712  486a              LDR      r0,|L1.22716|
;;;9209   	{
;;;9210   	outVoltContrHndlCnt_=0;
;;;9211   	if(outVoltContrHndlCnt<U_OUT_KONTR_DELAY)
005714  4a6a              LDR      r2,|L1.22720|
005716  f9b41000          LDRSH    r1,[r4,#0]            ;9208  ; load_U
00571a  f9b06000          LDRSH    r6,[r0,#0]            ;9208  ; U_OUT_KONTR_MAX
00571e  2500              MOVS     r5,#0                 ;9210
005720  f9b20000          LDRSH    r0,[r2,#0]
005724  4b67              LDR      r3,|L1.22724|
005726  42b1              CMP      r1,r6                 ;9208
005728  dc04              BGT      |L1.22324|
00572a  4e67              LDR      r6,|L1.22728|
00572c  f9b66000          LDRSH    r6,[r6,#0]            ;9208  ; U_OUT_KONTR_MIN
005730  42b1              CMP      r1,r6                 ;9208
005732  da0f              BGE      |L1.22356|
                  |L1.22324|
005734  801d              STRH     r5,[r3,#0]            ;9210
005736  4965              LDR      r1,|L1.22732|
005738  f9b11000          LDRSH    r1,[r1,#0]  ; U_OUT_KONTR_DELAY
00573c  4288              CMP      r0,r1
00573e  da1b              BGE      |L1.22392|
;;;9212   		{
;;;9213   		outVoltContrHndlCnt++;
005740  f1000001          ADD      r0,r0,#1
005744  b200              SXTH     r0,r0
005746  8010              STRH     r0,[r2,#0]
;;;9214   		if(outVoltContrHndlCnt==U_OUT_KONTR_DELAY)
005748  4288              CMP      r0,r1
00574a  d115              BNE      |L1.22392|
;;;9215   			{
;;;9216   			avar_uout_hndl(1);
00574c  2001              MOVS     r0,#1
00574e  f7fffffe          BL       avar_uout_hndl
005752  e011              B        |L1.22392|
                  |L1.22356|
;;;9217   			}
;;;9218   		}
;;;9219   	}
;;;9220   else
;;;9221   	{
;;;9222   	if(outVoltContrHndlCnt)
005754  b180              CBZ      r0,|L1.22392|
;;;9223   		{
;;;9224   		if(outVoltContrHndlCnt_<5)
005756  f9b30000          LDRSH    r0,[r3,#0]  ; outVoltContrHndlCnt_
00575a  2805              CMP      r0,#5
00575c  da0c              BGE      |L1.22392|
;;;9225   			{
;;;9226   			outVoltContrHndlCnt_++;
00575e  f1000001          ADD      r0,r0,#1
005762  b200              SXTH     r0,r0
005764  8018              STRH     r0,[r3,#0]
;;;9227   			if(outVoltContrHndlCnt_>=5)
005766  2805              CMP      r0,#5
005768  db06              BLT      |L1.22392|
;;;9228   				{
;;;9229   				outVoltContrHndlCnt=0;
00576a  8015              STRH     r5,[r2,#0]
;;;9230   				if(uout_av)avar_uout_hndl(0);
00576c  4858              LDR      r0,|L1.22736|
00576e  7800              LDRB     r0,[r0,#0]  ; uout_av
005770  b110              CBZ      r0,|L1.22392|
005772  2000              MOVS     r0,#0
005774  f7fffffe          BL       avar_uout_hndl
                  |L1.22392|
;;;9231   				}
;;;9232   			}
;;;9233   		}
;;;9234   	}
;;;9235   
;;;9236   if (load_U<(USIGN*10)) 
005778  4856              LDR      r0,|L1.22740|
00577a  f9b41000          LDRSH    r1,[r4,#0]  ; load_U
00577e  f9b00000          LDRSH    r0,[r0,#0]  ; USIGN
005782  eb000080          ADD      r0,r0,r0,LSL #2
005786  ebb10f40          CMP      r1,r0,LSL #1
00578a  da0b              BGE      |L1.22436|
;;;9237   	{
;;;9238   	if(!bSILENT)
00578c  4852              LDR      r0,|L1.22744|
00578e  6800              LDR      r0,[r0,#0]  ; bSILENT
005790  2800              CMP      r0,#0
005792  d107              BNE      |L1.22436|
;;;9239   		{
;;;9240   		mess_send(MESS2RELE_HNDL,PARAM_RELE_BAT_IS_DISCHARGED,1,20);
005794  e8bd4070          POP      {r4-r6,lr}
005798  2314              MOVS     r3,#0x14
00579a  2201              MOVS     r2,#1
00579c  2172              MOVS     r1,#0x72
00579e  20d2              MOVS     r0,#0xd2
0057a0  f7ffbffe          B.W      mess_send
                  |L1.22436|
;;;9241   		}
;;;9242   
;;;9243   	//bU_BAT2REL_AV_BAT=1;
;;;9244   	}
;;;9245   
;;;9246   
;;;9247   }
0057a4  bd70              POP      {r4-r6,pc}
;;;9248   
                          ENDP

                  vent_resurs_hndl PROC
;;;9249   //-----------------------------------------------
;;;9250   void vent_resurs_hndl(void)
0057a6  e92d47f0          PUSH     {r4-r10,lr}
;;;9251   {
;;;9252   char i;
;;;9253   char crc_in,crc_eval;
;;;9254   
;;;9255   for(i=0;i<NUMIST;i++)
0057aa  f04f0200          MOV      r2,#0
;;;9256   	{
;;;9257   	if((bps[i]._buff[7]&0xc0)==0x00)
;;;9258   		{
;;;9259   		bps[i]._vent_resurs_temp[0]=bps[i]._buff[7];
;;;9260   		}
;;;9261   	else if((bps[i]._buff[7]&0xc0)==0x40)
;;;9262   		{
;;;9263   		bps[i]._vent_resurs_temp[1]=bps[i]._buff[7];
;;;9264   		}
;;;9265   	else if((bps[i]._buff[7]&0xc0)==0x80)
;;;9266   		{
;;;9267   		bps[i]._vent_resurs_temp[2]=bps[i]._buff[7];
;;;9268   		}
;;;9269   	else if((bps[i]._buff[7]&0xc0)==0xc0)
;;;9270   		{
;;;9271   		bps[i]._vent_resurs_temp[3]=bps[i]._buff[7];
;;;9272   		}
;;;9273   	crc_in=0;
;;;9274   	crc_in|=(bps[i]._vent_resurs_temp[0]&0x30)>>4;
;;;9275   	crc_in|=(bps[i]._vent_resurs_temp[1]&0x30)>>2;
;;;9276   	crc_in|=(bps[i]._vent_resurs_temp[2]&0x30);
;;;9277   	crc_in|=(bps[i]._vent_resurs_temp[3]&0x30)<<2;
;;;9278   
;;;9279   	crc_eval =bps[i]._vent_resurs_temp[0]&0x0f;
;;;9280   	crc_eval^=bps[i]._vent_resurs_temp[1]&0x0f;
;;;9281   	crc_eval^=bps[i]._vent_resurs_temp[2]&0x0f;
;;;9282   	crc_eval^=bps[i]._vent_resurs_temp[3]&0x0f;
;;;9283   
;;;9284   	if(crc_eval==crc_in)
;;;9285   		{
;;;9286   		unsigned short temp_US;
;;;9287   		temp_US=0;
;;;9288   
;;;9289   		temp_US|=(bps[i]._vent_resurs_temp[3]&0x0f);
;;;9290   		temp_US<<=4;
;;;9291   		temp_US|=(bps[i]._vent_resurs_temp[2]&0x0f);
;;;9292   		temp_US<<=4;
;;;9293   		temp_US|=(bps[i]._vent_resurs_temp[1]&0x0f);
;;;9294   		temp_US<<=4;
;;;9295   		temp_US|=(bps[i]._vent_resurs_temp[0]&0x0f);
;;;9296   
;;;9297   		if(bps[i]._vent_resurs!=temp_US)bps[i]._vent_resurs=temp_US;
;;;9298   		}
;;;9299   
;;;9300   	if((bps[i]._vent_resurs>TVENTMAX*10)&&(TVENTMAX>0))
0057ae  484b              LDR      r0,|L1.22748|
0057b0  f8dfc12c          LDR      r12,|L1.22752|
0057b4  f9b06000          LDRSH    r6,[r0,#0]
0057b8  483e              LDR      r0,|L1.22708|
0057ba  f9b07000          LDRSH    r7,[r0,#0]            ;9255
0057be  e098              B        |L1.22770|
                  |L1.22464|
0057c0  ebc200c2          RSB      r0,r2,r2,LSL #3       ;9257
0057c4  eb001002          ADD      r0,r0,r2,LSL #4       ;9257
0057c8  eb0c0080          ADD      r0,r12,r0,LSL #2      ;9257
0057cc  7b41              LDRB     r1,[r0,#0xd]          ;9257
0057ce  098b              LSRS     r3,r1,#6              ;9257
0057d0  d006              BEQ      |L1.22496|
0057d2  2301              MOVS     r3,#1                 ;9261
0057d4  ebb31f91          CMP      r3,r1,LSR #6          ;9261
0057d8  d105              BNE      |L1.22502|
0057da  f8801055          STRB     r1,[r0,#0x55]         ;9263
0057de  e00f              B        |L1.22528|
                  |L1.22496|
0057e0  f8801054          STRB     r1,[r0,#0x54]         ;9259
0057e4  e00c              B        |L1.22528|
                  |L1.22502|
0057e6  2302              MOVS     r3,#2                 ;9265
0057e8  ebb31f91          CMP      r3,r1,LSR #6          ;9265
0057ec  d102              BNE      |L1.22516|
0057ee  f8801056          STRB     r1,[r0,#0x56]         ;9267
0057f2  e005              B        |L1.22528|
                  |L1.22516|
0057f4  2303              MOVS     r3,#3                 ;9269
0057f6  ebb31f91          CMP      r3,r1,LSR #6          ;9269
0057fa  d101              BNE      |L1.22528|
0057fc  f8801057          STRB     r1,[r0,#0x57]         ;9271
                  |L1.22528|
005800  f8101f54          LDRB     r1,[r0,#0x54]!        ;9274
005804  f3c11401          UBFX     r4,r1,#4,#2           ;9274
005808  7843              LDRB     r3,[r0,#1]            ;9275
00580a  f0030530          AND      r5,r3,#0x30           ;9275
00580e  ea440495          ORR      r4,r4,r5,LSR #2       ;9275
005812  f8909002          LDRB     r9,[r0,#2]            ;9276
005816  f0090830          AND      r8,r9,#0x30           ;9276
00581a  ea480804          ORR      r8,r8,r4              ;9276
00581e  78c5              LDRB     r5,[r0,#3]            ;9277
005820  f1a00054          SUB      r0,r0,#0x54           ;9277
005824  f0050430          AND      r4,r5,#0x30           ;9277
005828  ea480884          ORR      r8,r8,r4,LSL #2       ;9277
00582c  f001010f          AND      r1,r1,#0xf            ;9279
005830  f003040f          AND      r4,r3,#0xf            ;9280
005834  ea840a01          EOR      r10,r4,r1             ;9280
005838  f009030f          AND      r3,r9,#0xf            ;9281
00583c  ea83090a          EOR      r9,r3,r10             ;9281
005840  f005050f          AND      r5,r5,#0xf            ;9282
005844  ea850909          EOR      r9,r5,r9              ;9282
005848  45c1              CMP      r9,r8                 ;9284
00584a  d113              BNE      |L1.22644|
00584c  ea4f1505          LSL      r5,r5,#4              ;9290
005850  ea430305          ORR      r3,r3,r5              ;9291
005854  ea4f1303          LSL      r3,r3,#4              ;9292
005858  ea440403          ORR      r4,r4,r3              ;9293
00585c  ea4f5304          LSL      r3,r4,#20             ;9294
005860  ea4f4313          LSR      r3,r3,#16             ;9294
005864  ea410103          ORR      r1,r1,r3              ;9295
005868  f8b03058          LDRH     r3,[r0,#0x58]         ;9297
00586c  428b              CMP      r3,r1                 ;9297
00586e  d001              BEQ      |L1.22644|
005870  f8a01058          STRH     r1,[r0,#0x58]         ;9297
                  |L1.22644|
005874  f8b01058          LDRH     r1,[r0,#0x58]
005878  eb060386          ADD      r3,r6,r6,LSL #2
00587c  ebb10f43          CMP      r1,r3,LSL #1
005880  dd30              BLE      |L1.22756|
005882  2e00              CMP      r6,#0
005884  dd2e              BLE      |L1.22756|
;;;9301   		{
;;;9302   		bps[i]._av|=(1<<4);
005886  7841              LDRB     r1,[r0,#1]
005888  f0410110          ORR      r1,r1,#0x10
00588c  7041              STRB     r1,[r0,#1]
00588e  e02d              B        |L1.22764|
                  |L1.22672|
                          DCD      hv_vz_wrk_cnt
                  |L1.22676|
                          DCD      hv_vz_up_cnt
                  |L1.22680|
                          DCD      VZ_HR
                  |L1.22684|
                          DCD      ||.text||+0xd48
                  |L1.22688|
                          DCD      ||.text||+0x848
                  |L1.22692|
                          DCD      ||.text||+0x1330
                  |L1.22696|
                          DCD      hv_vz_stat
                  |L1.22700|
                          DCD      ||area_number.23||
                  |L1.22704|
                          DCD      FORVARDBPSCHHOUR
                  |L1.22708|
                          DCD      NUMIST
                  |L1.22712|
                          DCD      load_U
                  |L1.22716|
                          DCD      U_OUT_KONTR_MAX
                  |L1.22720|
                          DCD      outVoltContrHndlCnt
                  |L1.22724|
                          DCD      outVoltContrHndlCnt_
                  |L1.22728|
                          DCD      U_OUT_KONTR_MIN
                  |L1.22732|
                          DCD      U_OUT_KONTR_DELAY
                  |L1.22736|
                          DCD      uout_av
                  |L1.22740|
                          DCD      USIGN
                  |L1.22744|
                          DCD      bSILENT
                  |L1.22748|
                          DCD      TVENTMAX
                  |L1.22752|
                          DCD      bps
                  |L1.22756|
;;;9303   		}
;;;9304   	else bps[i]._av&=~(1<<4);
0058e4  7841              LDRB     r1,[r0,#1]
0058e6  f0210110          BIC      r1,r1,#0x10
0058ea  7041              STRB     r1,[r0,#1]
                  |L1.22764|
0058ec  f1020201          ADD      r2,r2,#1              ;9255
0058f0  b2d2              UXTB     r2,r2                 ;9255
                  |L1.22770|
0058f2  42ba              CMP      r2,r7                 ;9255
0058f4  f6ffaf64          BLT      |L1.22464|
;;;9305   	}
;;;9306   }
0058f8  e8bd87f0          POP      {r4-r10,pc}
;;;9307   
                          ENDP

                  vent_hndl PROC
;;;9308   //-----------------------------------------------
;;;9309   void vent_hndl(void)
0058fc  e92d4ff0          PUSH     {r4-r11,lr}
;;;9310   {
005900  b087              SUB      sp,sp,#0x1c
;;;9311   if(RELEVENTSIGN==rvsAKB)
005902  48ab              LDR      r0,|L1.23472|
;;;9312   	{
;;;9313   	if(vent_stat==0)
005904  4cab              LDR      r4,|L1.23476|
;;;9314   		{
;;;9315   		if	(
;;;9316   			(BAT_IS_ON[0]==bisON)&&((bat[0]._Tb>TVENTON)||(bat[0]._nd))
005906  49ac              LDR      r1,|L1.23480|
;;;9317   			||
;;;9318   			(BAT_IS_ON[1]==bisON)&&((bat[1]._Tb>TVENTON)||(bat[1]._nd))
;;;9319   			)
;;;9320   			{
;;;9321   			vent_stat=1;
;;;9322   			}
;;;9323   		}
;;;9324   	else if(vent_stat==1)
;;;9325   		{
;;;9326   		if	(
;;;9327   			((BAT_IS_ON[0]!=bisON)||((BAT_IS_ON[0]==bisON)&&(bat[0]._Tb<TVENTOFF)&&(!bat[0]._nd)))
005908  4aac              LDR      r2,|L1.23484|
00590a  7800              LDRB     r0,[r0,#0]            ;9311  ; RELEVENTSIGN
00590c  f9943000          LDRSB    r3,[r4,#0]            ;9313
005910  f9b11000          LDRSH    r1,[r1,#0]            ;9316
005914  f9b22000          LDRSH    r2,[r2,#0]
005918  b148              CBZ      r0,|L1.22830|
;;;9328   			&&
;;;9329   			((BAT_IS_ON[1]!=bisON)||((BAT_IS_ON[1]==bisON)&&(bat[1]._Tb<TVENTOFF)&&(!bat[1]._nd)))
;;;9330   			)
;;;9331   			{
;;;9332   			vent_stat=0;
;;;9333   			}
;;;9334   		}
;;;9335   	}
;;;9336   else if(RELEVENTSIGN==rvsBPS)
00591a  2802              CMP      r0,#2
00591c  d03c              BEQ      |L1.22936|
;;;9337   	{
;;;9338   /*	if	(
;;;9339   		(((bps[0]._flags_tm&0x06)||(bps[0]._cnt>=30)))||
;;;9340   		(((bps[1]._flags_tm&0x06)||(bps[1]._cnt>=30))&&(NUMIST>1))||
;;;9341   		(((bps[2]._flags_tm&0x06)||(bps[2]._cnt>=30))&&(NUMIST>2))||
;;;9342   		(((bps[3]._flags_tm&0x06)||(bps[3]._cnt>=30))&&(NUMIST>3))||
;;;9343   		(((bps[4]._flags_tm&0x06)||(bps[4]._cnt>=30))&&(NUMIST>4))||
;;;9344   		(((bps[5]._flags_tm&0x06)||(bps[5]._cnt>=30))&&(NUMIST>5))||
;;;9345   		(((bps[6]._flags_tm&0x06)||(bps[6]._cnt>=30))&&(NUMIST>6))
;;;9346   		)
;;;9347   		{
;;;9348   		vent_stat=1;
;;;9349   		}
;;;9350   	else vent_stat=0;
;;;9351   	*/
;;;9352   
;;;9353   	if	(
;;;9354   		((NUMIST)&&((bps[0]._Ti>TVENTON)||(bps[0]._cnt>=30)))
;;;9355   		||
;;;9356   		((NUMIST>1)&&((bps[1]._Ti>TVENTON)||(bps[1]._cnt>=30)))
;;;9357   		||
;;;9358   		((NUMIST>2)&&((bps[2]._Ti>TVENTON)||(bps[2]._cnt>=30)))
;;;9359   		||
;;;9360   		((NUMIST>3)&&((bps[3]._Ti>TVENTON)||(bps[3]._cnt>=30)))
;;;9361   		||
;;;9362   		((NUMIST>4)&&((bps[4]._Ti>TVENTON)||(bps[4]._cnt>=30)))
;;;9363   		||
;;;9364   		((NUMIST>5)&&((bps[5]._Ti>TVENTON)||(bps[5]._cnt>=30)))
;;;9365   		||
;;;9366   		((NUMIST>6)&&((bps[6]._Ti>TVENTON)||(bps[6]._cnt>=30)))
;;;9367   		||
;;;9368   		((NUMIST>7)&&((bps[7]._Ti>TVENTON)||(bps[7]._cnt>=30)))
;;;9369   		)
;;;9370   		{
;;;9371   		vent_stat=1;
;;;9372   		}
;;;9373   	else if(vent_stat==1)
;;;9374   		{
;;;9375   		if	(
;;;9376   			((!NUMIST)||((NUMIST)&&(bps[0]._Ti<TVENTOFF)&&(bps[0]._cnt<10)))
;;;9377   			&&
;;;9378   			((NUMIST<2)||((NUMIST>=2)&&(bps[1]._Ti<TVENTOFF)&&(bps[1]._cnt<10)))
;;;9379   			&&
;;;9380   			((NUMIST<3)||((NUMIST>=3)&&(bps[2]._Ti<TVENTOFF)&&(bps[2]._cnt<10)))
;;;9381   			&&
;;;9382   			((NUMIST<4)||((NUMIST>=4)&&(bps[3]._Ti<TVENTOFF)&&(bps[3]._cnt<10)))
;;;9383   			&&
;;;9384   			((NUMIST<5)||((NUMIST>=5)&&(bps[4]._Ti<TVENTOFF)&&(bps[4]._cnt<10)))
;;;9385   			&&
;;;9386   			((NUMIST<6)||((NUMIST>=6)&&(bps[5]._Ti<TVENTOFF)&&(bps[5]._cnt<10)))
;;;9387   			&&
;;;9388   			((NUMIST<7)||((NUMIST>=7)&&(bps[6]._Ti<TVENTOFF)&&(bps[6]._cnt<10)))
;;;9389   			&&
;;;9390   			((NUMIST<8)||((NUMIST>=8)&&(bps[7]._Ti<TVENTOFF)&&(bps[7]._cnt<10)))
;;;9391   			)
;;;9392   			{
;;;9393   			vent_stat=0;
;;;9394   			}
;;;9395   		}
;;;9396   	}
;;;9397   else if(RELEVENTSIGN==rvsEXT)
00591e  2801              CMP      r0,#1
005920  d07e              BEQ      |L1.23072|
;;;9398   	{
;;;9399   	if	(
;;;9400   		((NUMDT)&&((t_ext[0]>TVENTON)||(ND_EXT[0])))
;;;9401   		||
;;;9402   		((NUMDT>1)&&((t_ext[1]>TVENTON)||(ND_EXT[1])))
;;;9403   		||
;;;9404   		((NUMDT>2)&&((t_ext[2]>TVENTON)||(ND_EXT[2])))
;;;9405   		)
;;;9406   		{
;;;9407   		vent_stat=1;
;;;9408   		}
;;;9409   	else if(vent_stat==1)
;;;9410   		{
;;;9411   		if	(
;;;9412   			((!NUMDT)||((NUMDT)&&(t_ext[0]<TVENTOFF)&&(!ND_EXT[0])))
;;;9413   			&&
;;;9414   			((NUMDT<2)||((NUMDT>=2)&&(t_ext[1]<TVENTOFF)&&(!ND_EXT[1])))
;;;9415   			&&
;;;9416   			((NUMDT<3)||((NUMDT>=3)&&(t_ext[2]<TVENTOFF)&&(!ND_EXT[2])))
;;;9417   			)
;;;9418   			{
;;;9419   			vent_stat=0;
;;;9420   			}
;;;9421   		}
;;;9422   	}
;;;9423   else vent_stat=1;
005922  f04f0001          MOV      r0,#1
005926  7020              STRB     r0,[r4,#0]
                  |L1.22824|
;;;9424   }
005928  b007              ADD      sp,sp,#0x1c
00592a  e8bd8ff0          POP      {r4-r11,pc}
                  |L1.22830|
00592e  4fa4              LDR      r7,|L1.23488|
005930  f8df8290          LDR      r8,|L1.23492|
005934  f9b7000a          LDRSH    r0,[r7,#0xa]          ;9316
005938  7b3d              LDRB     r5,[r7,#0xc]          ;9316
00593a  f9b76056          LDRSH    r6,[r7,#0x56]         ;9318
00593e  f898c000          LDRB     r12,[r8,#0]           ;9315
005942  f8977058          LDRB     r7,[r7,#0x58]         ;9318
005946  f8988001          LDRB     r8,[r8,#1]            ;9318
00594a  b12b              CBZ      r3,|L1.22872|
00594c  2b01              CMP      r3,#1                 ;9324
00594e  d1eb              BNE      |L1.22824|
005950  f1bc0f55          CMP      r12,#0x55             ;9326
005954  d115              BNE      |L1.22914|
005956  e010              B        |L1.22906|
                  |L1.22872|
005958  f1bc0f55          CMP      r12,#0x55             ;9315
00595c  d102              BNE      |L1.22884|
00595e  4288              CMP      r0,r1                 ;9316
005960  dc07              BGT      |L1.22898|
005962  b935              CBNZ     r5,|L1.22898|
                  |L1.22884|
005964  f1b80f55          CMP      r8,#0x55              ;9318
005968  d1de              BNE      |L1.22824|
00596a  428e              CMP      r6,r1                 ;9318
00596c  dc01              BGT      |L1.22898|
00596e  2f00              CMP      r7,#0                 ;9318
005970  d0da              BEQ      |L1.22824|
                  |L1.22898|
005972  f04f0001          MOV      r0,#1                 ;9321
005976  7020              STRB     r0,[r4,#0]            ;9321
005978  e7d6              B        |L1.22824|
                  |L1.22906|
00597a  4290              CMP      r0,r2                 ;9327
00597c  dad4              BGE      |L1.22824|
00597e  2d00              CMP      r5,#0                 ;9327
005980  d1d2              BNE      |L1.22824|
                  |L1.22914|
005982  f1b80f55          CMP      r8,#0x55              ;9329
005986  d103              BNE      |L1.22928|
005988  4296              CMP      r6,r2                 ;9329
00598a  dacd              BGE      |L1.22824|
00598c  2f00              CMP      r7,#0                 ;9329
00598e  d1cb              BNE      |L1.22824|
                  |L1.22928|
005990  f04f0000          MOV      r0,#0                 ;9332
005994  7020              STRB     r0,[r4,#0]            ;9332
005996  e7c7              B        |L1.22824|
                  |L1.22936|
005998  4e8c              LDR      r6,|L1.23500|
00599a  488b              LDR      r0,|L1.23496|
00599c  6ab5              LDR      r5,[r6,#0x28]         ;9354
00599e  f9b00000          LDRSH    r0,[r0,#0]            ;9353  ; NUMIST
0059a2  78f6              LDRB     r6,[r6,#3]            ;9354
0059a4  b118              CBZ      r0,|L1.22958|
0059a6  428d              CMP      r5,r1                 ;9354
0059a8  dc7a              BGT      |L1.23200|
0059aa  2e1e              CMP      r6,#0x1e              ;9354
0059ac  d278              BCS      |L1.23200|
                  |L1.22958|
0059ae  f8dfc21c          LDR      r12,|L1.23500|
0059b2  2801              CMP      r0,#1                 ;9356
0059b4  f8dc7084          LDR      r7,[r12,#0x84]        ;9356
0059b8  f89cc05f          LDRB     r12,[r12,#0x5f]       ;9356
0059bc  f8cdc018          STR      r12,[sp,#0x18]        ;9356
0059c0  dd06              BLE      |L1.22992|
0059c2  428f              CMP      r7,r1                 ;9356
0059c4  dc6c              BGT      |L1.23200|
0059c6  f8ddc018          LDR      r12,[sp,#0x18]        ;9356
0059ca  f1bc0f1e          CMP      r12,#0x1e             ;9356
0059ce  d267              BCS      |L1.23200|
                  |L1.22992|
0059d0  f8dfc1f8          LDR      r12,|L1.23500|
0059d4  2802              CMP      r0,#2                 ;9358
0059d6  f8dc80e0          LDR      r8,[r12,#0xe0]        ;9358
0059da  f8cd8014          STR      r8,[sp,#0x14]         ;9358
0059de  f89cc0bb          LDRB     r12,[r12,#0xbb]       ;9358
0059e2  f8cdc010          STR      r12,[sp,#0x10]        ;9358
0059e6  dd08              BLE      |L1.23034|
0059e8  f8ddc014          LDR      r12,[sp,#0x14]        ;9358
0059ec  458c              CMP      r12,r1                ;9358
0059ee  dc57              BGT      |L1.23200|
0059f0  f8ddc010          LDR      r12,[sp,#0x10]        ;9358
0059f4  f1bc0f1e          CMP      r12,#0x1e             ;9358
0059f8  d252              BCS      |L1.23200|
                  |L1.23034|
0059fa  f8dfc1d0          LDR      r12,|L1.23500|
0059fe  2803              CMP      r0,#3                 ;9360
005a00  f8dc813c          LDR      r8,[r12,#0x13c]       ;9360
005a04  f8cd800c          STR      r8,[sp,#0xc]          ;9360
005a08  f89cc117          LDRB     r12,[r12,#0x117]      ;9360
005a0c  f8cdc008          STR      r12,[sp,#8]           ;9360
005a10  dd0a              BLE      |L1.23080|
005a12  f8ddc00c          LDR      r12,[sp,#0xc]         ;9360
005a16  458c              CMP      r12,r1                ;9360
005a18  dc42              BGT      |L1.23200|
005a1a  f8ddc008          LDR      r12,[sp,#8]           ;9360
005a1e  e000              B        |L1.23074|
                  |L1.23072|
005a20  e080              B        |L1.23332|
                  |L1.23074|
005a22  f1bc0f1e          CMP      r12,#0x1e             ;9360
005a26  d23b              BCS      |L1.23200|
                  |L1.23080|
005a28  f8df81a0          LDR      r8,|L1.23500|
005a2c  2804              CMP      r0,#4                 ;9362
005a2e  f8d8c198          LDR      r12,[r8,#0x198]       ;9362
005a32  f8988173          LDRB     r8,[r8,#0x173]        ;9362
005a36  f8cd8004          STR      r8,[sp,#4]            ;9362
005a3a  dd06              BLE      |L1.23114|
005a3c  458c              CMP      r12,r1                ;9362
005a3e  dc2f              BGT      |L1.23200|
005a40  f8dd8004          LDR      r8,[sp,#4]            ;9362
005a44  f1b80f1e          CMP      r8,#0x1e              ;9362
005a48  d22a              BCS      |L1.23200|
                  |L1.23114|
005a4a  f8df9180          LDR      r9,|L1.23500|
005a4e  2805              CMP      r0,#5                 ;9364
005a50  f8d981f4          LDR      r8,[r9,#0x1f4]        ;9364
005a54  f89991cf          LDRB     r9,[r9,#0x1cf]        ;9364
005a58  f8cd9000          STR      r9,[sp,#0]            ;9364
005a5c  dd06              BLE      |L1.23148|
005a5e  4588              CMP      r8,r1                 ;9364
005a60  dc1e              BGT      |L1.23200|
005a62  f8dd9000          LDR      r9,[sp,#0]            ;9364
005a66  f1b90f1e          CMP      r9,#0x1e              ;9364
005a6a  d219              BCS      |L1.23200|
                  |L1.23148|
005a6c  f8dfa15c          LDR      r10,|L1.23500|
005a70  2806              CMP      r0,#6                 ;9366
005a72  f89ae22b          LDRB     lr,[r10,#0x22b]       ;9366
005a76  f8da9250          LDR      r9,[r10,#0x250]       ;9366
005a7a  dd04              BLE      |L1.23174|
005a7c  4589              CMP      r9,r1                 ;9366
005a7e  dc0f              BGT      |L1.23200|
005a80  f1be0f1e          CMP      lr,#0x1e              ;9366
005a84  d20c              BCS      |L1.23200|
                  |L1.23174|
005a86  f8dfb144          LDR      r11,|L1.23500|
005a8a  2807              CMP      r0,#7                 ;9368
005a8c  f8dba2ac          LDR      r10,[r11,#0x2ac]      ;9368
005a90  f89bb287          LDRB     r11,[r11,#0x287]      ;9368
005a94  dd08              BLE      |L1.23208|
005a96  458a              CMP      r10,r1                ;9368
005a98  dc02              BGT      |L1.23200|
005a9a  f1bb0f1e          CMP      r11,#0x1e             ;9368
005a9e  d303              BCC      |L1.23208|
                  |L1.23200|
005aa0  f04f0001          MOV      r0,#1                 ;9371
005aa4  7020              STRB     r0,[r4,#0]            ;9371
                  |L1.23206|
005aa6  e73f              B        |L1.22824|
                  |L1.23208|
005aa8  2b01              CMP      r3,#1                 ;9373
005aaa  d1fc              BNE      |L1.23206|
005aac  b118              CBZ      r0,|L1.23222|
005aae  4295              CMP      r5,r2                 ;9376
005ab0  daf9              BGE      |L1.23206|
005ab2  2e0a              CMP      r6,#0xa               ;9376
005ab4  d2f7              BCS      |L1.23206|
                  |L1.23222|
005ab6  2802              CMP      r0,#2                 ;9378
005ab8  db04              BLT      |L1.23236|
005aba  4297              CMP      r7,r2                 ;9378
005abc  daf3              BGE      |L1.23206|
005abe  9906              LDR      r1,[sp,#0x18]         ;9378
005ac0  290a              CMP      r1,#0xa               ;9378
005ac2  d2f0              BCS      |L1.23206|
                  |L1.23236|
005ac4  2803              CMP      r0,#3                 ;9380
005ac6  db05              BLT      |L1.23252|
005ac8  9905              LDR      r1,[sp,#0x14]         ;9380
005aca  4291              CMP      r1,r2                 ;9380
005acc  daeb              BGE      |L1.23206|
005ace  9904              LDR      r1,[sp,#0x10]         ;9380
005ad0  290a              CMP      r1,#0xa               ;9380
005ad2  d2e8              BCS      |L1.23206|
                  |L1.23252|
005ad4  2804              CMP      r0,#4                 ;9382
005ad6  db05              BLT      |L1.23268|
005ad8  9903              LDR      r1,[sp,#0xc]          ;9382
005ada  4291              CMP      r1,r2                 ;9382
005adc  dae3              BGE      |L1.23206|
005ade  9902              LDR      r1,[sp,#8]            ;9382
005ae0  290a              CMP      r1,#0xa               ;9382
005ae2  d2e0              BCS      |L1.23206|
                  |L1.23268|
005ae4  2805              CMP      r0,#5                 ;9384
005ae6  db04              BLT      |L1.23282|
005ae8  4594              CMP      r12,r2                ;9384
005aea  dadc              BGE      |L1.23206|
005aec  9901              LDR      r1,[sp,#4]            ;9384
005aee  290a              CMP      r1,#0xa               ;9384
005af0  d2d9              BCS      |L1.23206|
                  |L1.23282|
005af2  2806              CMP      r0,#6                 ;9386
005af4  db04              BLT      |L1.23296|
005af6  4590              CMP      r8,r2                 ;9386
005af8  dad5              BGE      |L1.23206|
005afa  9900              LDR      r1,[sp,#0]            ;9386
005afc  290a              CMP      r1,#0xa               ;9386
005afe  d2d2              BCS      |L1.23206|
                  |L1.23296|
005b00  2807              CMP      r0,#7                 ;9388
005b02  db04              BLT      |L1.23310|
005b04  4591              CMP      r9,r2                 ;9388
005b06  dace              BGE      |L1.23206|
005b08  f1be0f0a          CMP      lr,#0xa               ;9388
005b0c  d2cb              BCS      |L1.23206|
                  |L1.23310|
005b0e  2808              CMP      r0,#8                 ;9390
005b10  db04              BLT      |L1.23324|
005b12  4592              CMP      r10,r2                ;9390
005b14  dac7              BGE      |L1.23206|
005b16  f1bb0f0a          CMP      r11,#0xa              ;9390
005b1a  d2c4              BCS      |L1.23206|
                  |L1.23324|
005b1c  f04f0000          MOV      r0,#0                 ;9393
005b20  7020              STRB     r0,[r4,#0]            ;9393
                  |L1.23330|
005b22  e701              B        |L1.22824|
                  |L1.23332|
005b24  482a              LDR      r0,|L1.23504|
005b26  4d2b              LDR      r5,|L1.23508|
005b28  4e2b              LDR      r6,|L1.23512|
005b2a  f9b00000          LDRSH    r0,[r0,#0]            ;9399  ; NUMDT
005b2e  f9b55000          LDRSH    r5,[r5,#0]            ;9400
005b32  7836              LDRB     r6,[r6,#0]            ;9400
005b34  b110              CBZ      r0,|L1.23356|
005b36  428d              CMP      r5,r1                 ;9400
005b38  dc1d              BGT      |L1.23414|
005b3a  b9e6              CBNZ     r6,|L1.23414|
                  |L1.23356|
005b3c  4f25              LDR      r7,|L1.23508|
005b3e  f8dfc098          LDR      r12,|L1.23512|
005b42  2801              CMP      r0,#1                 ;9402
005b44  f9b77002          LDRSH    r7,[r7,#2]            ;9402
005b48  f89cc001          LDRB     r12,[r12,#1]          ;9402
005b4c  dd04              BLE      |L1.23384|
005b4e  428f              CMP      r7,r1                 ;9402
005b50  dc11              BGT      |L1.23414|
005b52  f1bc0f00          CMP      r12,#0                ;9402
005b56  d10e              BNE      |L1.23414|
                  |L1.23384|
005b58  f8df8078          LDR      r8,|L1.23508|
005b5c  f8df9078          LDR      r9,|L1.23512|
005b60  2802              CMP      r0,#2                 ;9404
005b62  f9b88004          LDRSH    r8,[r8,#4]            ;9404
005b66  f8999002          LDRB     r9,[r9,#2]            ;9404
005b6a  dd08              BLE      |L1.23422|
005b6c  4588              CMP      r8,r1                 ;9404
005b6e  dc02              BGT      |L1.23414|
005b70  f1b90f00          CMP      r9,#0                 ;9404
005b74  d003              BEQ      |L1.23422|
                  |L1.23414|
005b76  f04f0001          MOV      r0,#1                 ;9407
005b7a  7020              STRB     r0,[r4,#0]            ;9407
005b7c  e6d4              B        |L1.22824|
                  |L1.23422|
005b7e  2b01              CMP      r3,#1                 ;9409
005b80  d191              BNE      |L1.23206|
005b82  b118              CBZ      r0,|L1.23436|
005b84  4295              CMP      r5,r2                 ;9412
005b86  da8e              BGE      |L1.23206|
005b88  2e00              CMP      r6,#0                 ;9412
005b8a  d18c              BNE      |L1.23206|
                  |L1.23436|
005b8c  2802              CMP      r0,#2                 ;9414
005b8e  db04              BLT      |L1.23450|
005b90  4297              CMP      r7,r2                 ;9414
005b92  da88              BGE      |L1.23206|
005b94  f1bc0f00          CMP      r12,#0                ;9414
005b98  d185              BNE      |L1.23206|
                  |L1.23450|
005b9a  2803              CMP      r0,#3                 ;9416
005b9c  db04              BLT      |L1.23464|
005b9e  4590              CMP      r8,r2                 ;9416
005ba0  dabf              BGE      |L1.23330|
005ba2  f1b90f00          CMP      r9,#0                 ;9416
005ba6  d1bc              BNE      |L1.23330|
                  |L1.23464|
005ba8  f04f0000          MOV      r0,#0                 ;9419
005bac  7020              STRB     r0,[r4,#0]            ;9419
005bae  e6bb              B        |L1.22824|
;;;9425   
                          ENDP

                  |L1.23472|
                          DCD      RELEVENTSIGN
                  |L1.23476|
                          DCD      ||area_number.23||
                  |L1.23480|
                          DCD      TVENTON
                  |L1.23484|
                          DCD      TVENTOFF
                  |L1.23488|
                          DCD      bat
                  |L1.23492|
                          DCD      BAT_IS_ON
                  |L1.23496|
                          DCD      NUMIST
                  |L1.23500|
                          DCD      bps
                  |L1.23504|
                          DCD      NUMDT
                  |L1.23508|
                          DCD      t_ext
                  |L1.23512|
                          DCD      ND_EXT

                          AREA ||area_number.2||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.2||, ||.text||
                  samokalibr_init PROC
;;;266    //-----------------------------------------------
;;;267    void ke_start(char in)
000000  4902              LDR      r1,|L2.12|
;;;268    {          
000002  f24060f9          MOV      r0,#0x6f9
;;;269    ke_start_stat=(enum_ke_start_stat)0;		 
000006  f8a10044          STRH     r0,[r1,#0x44]
00000a  4770              BX       lr
;;;270    
;;;271    if(spc_stat==spcVZ)ke_start_stat=kssNOT_VZ;
;;;272    #ifndef UKU_220_IPS_TERMOKOMPENSAT
;;;273    else if(BAT_IS_ON[in]!=bisON)ke_start_stat=kssNOT_BAT;
;;;274    #endif
;;;275    else if(bat[in]._av&(1<<0))ke_start_stat=kssNOT_BAT_AV;
;;;276    else if(bat[in]._temper_stat&(1<<1))ke_start_stat=kssNOT_BAT_AV_T;
;;;277    else if(bat[in]._av&(1<<1))ke_start_stat=kssNOT_BAT_AV_ASS;
;;;278    else if(bat[in]._Ib>IKB)ke_start_stat=kssNOT_BAT_ZAR;
;;;279    else if(bat[in]._Ib<-IKB)ke_start_stat=kssNOT_BAT_RAZR;
;;;280    else if((spc_stat==spcKE)&&(spc_bat==0))ke_start_stat=kssNOT_KE1;
;;;281    else if((spc_stat==spcKE)&&(spc_bat==1))ke_start_stat=kssNOT_KE2;
;;;282    else 
;;;283    	{
;;;284    
;;;285    	ke_start_stat=kssYES;
;;;286    
;;;287    	spc_stat=spcKE;
;;;288    	__ee_spc_stat=spcKE;
;;;289    	lc640_write_int(EE_SPC_STAT,__ee_spc_stat);
;;;290    	
;;;291    	spc_bat=in;
;;;292    	__ee_spc_bat=in;
;;;293    	lc640_write_int(EE_SPC_BAT,__ee_spc_bat);
;;;294    
;;;295    	bat[in]._zar_cnt_ke=0;
;;;296    	lc640_write_int(ADR_EE_BAT_ZAR_CNT_KE[in],0);
;;;297    	
;;;298    	spc_phase=0;
;;;299    	__ee_spc_phase=0;
;;;300    	lc640_write_int(EE_SPC_PHASE,__ee_spc_phase);
;;;301    
;;;302    	//ke_mem_hndl(in,lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat]));
;;;303    
;;;304    		{					
;;;305    		signed short temp_temp;
;;;306    		signed char temp;
;;;307    		temp_temp=bat[in]._u_old[((bat_u_old_cnt+1)&0x07)]; 
;;;308    		    
;;;309    		temp=LPC_RTC->YEAR;
;;;310    		gran_char(&temp,1,99);
;;;311    		*((char*)(&(ke_date[0])))=temp;
;;;312    			
;;;313    		temp=LPC_RTC->MONTH;
;;;314    		gran_char(&temp,1,12);
;;;315    		*(((char*)(&(ke_date[0])))+1)=temp;
;;;316    		
;;;317    		temp=LPC_RTC->DOM;
;;;318    		gran_char(&temp,1,31);
;;;319    		*(((char*)(&(ke_date[0])))+2)=temp;			
;;;320    				
;;;321    		*(((char*)(&(ke_date[0])))+3)=*((char*)&temp_temp);
;;;322    		lc640_write_long(EE_SPC_KE_DATE0,ke_date[0]);
;;;323    
;;;324    		temp=LPC_RTC->HOUR;
;;;325    		gran_char(&temp,0,23);
;;;326    		*((char*)(&(ke_date[1])))=temp;
;;;327                   
;;;328    		temp=LPC_RTC->MIN;
;;;329    		gran_char(&temp,0,59);
;;;330    		*(((char*)(&(ke_date[1])))+1)=temp;
;;;331    	          
;;;332    		temp=LPC_RTC->SEC;
;;;333    		gran_char(&temp,0,59);
;;;334    		*(((char*)(&(ke_date[1])))+2)=temp;
;;;335    			
;;;336    		*(((char*)(&(ke_date[1])))+3)=*(((char*)&temp_temp)+1);
;;;337    		lc640_write_long(EE_SPC_KE_DATE1,ke_date[1]);
;;;338    		}
;;;339    
;;;340    	}
;;;341    }
;;;342    
                          ENDP

                  |L2.12|
                          DCD      ||area_number.23||

                          AREA ||area_number.3||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.3||, ||.text||
                  adc_drv6 PROC
;;;266    //-----------------------------------------------
;;;267    void ke_start(char in)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;268    {          
000004  4c80              LDR      r4,|L3.520|
;;;269    ke_start_stat=(enum_ke_start_stat)0;		 
000006  8860              LDRH     r0,[r4,#2]  ; adc_self_ch_buff
000008  8821              LDRH     r1,[r4,#0]  ; adc_self_ch_buff
00000a  1a40              SUBS     r0,r0,r1
00000c  b200              SXTH     r0,r0
;;;270    
;;;271    if(spc_stat==spcVZ)ke_start_stat=kssNOT_VZ;
00000e  f7fffffe          BL       abs_pal
000012  1da5              ADDS     r5,r4,#6
000014  8028              STRH     r0,[r5,#0]
000016  88a0              LDRH     r0,[r4,#4]  ; adc_self_ch_buff
;;;272    #ifndef UKU_220_IPS_TERMOKOMPENSAT
;;;273    else if(BAT_IS_ON[in]!=bisON)ke_start_stat=kssNOT_BAT;
;;;274    #endif
;;;275    else if(bat[in]._av&(1<<0))ke_start_stat=kssNOT_BAT_AV;
000018  8861              LDRH     r1,[r4,#2]  ; adc_self_ch_buff
00001a  1a40              SUBS     r0,r0,r1
00001c  b200              SXTH     r0,r0
00001e  f7fffffe          BL       abs_pal
000022  8068              STRH     r0,[r5,#2]
000024  88a0              LDRH     r0,[r4,#4]  ; adc_self_ch_buff
000026  8821              LDRH     r1,[r4,#0]  ; adc_self_ch_buff
000028  1a40              SUBS     r0,r0,r1
00002a  b200              SXTH     r0,r0
00002c  f7fffffe          BL       abs_pal
000030  80a8              STRH     r0,[r5,#4]
000032  f44f7196          MOV      r1,#0x12c
;;;276    else if(bat[in]._temper_stat&(1<<1))ke_start_stat=kssNOT_BAT_AV_T;
;;;277    else if(bat[in]._av&(1<<1))ke_start_stat=kssNOT_BAT_AV_ASS;
;;;278    else if(bat[in]._Ib>IKB)ke_start_stat=kssNOT_BAT_ZAR;
;;;279    else if(bat[in]._Ib<-IKB)ke_start_stat=kssNOT_BAT_RAZR;
;;;280    else if((spc_stat==spcKE)&&(spc_bat==0))ke_start_stat=kssNOT_KE1;
;;;281    else if((spc_stat==spcKE)&&(spc_bat==1))ke_start_stat=kssNOT_KE2;
;;;282    else 
;;;283    	{
;;;284    
;;;285    	ke_start_stat=kssYES;
;;;286    
;;;287    	spc_stat=spcKE;
;;;288    	__ee_spc_stat=spcKE;
;;;289    	lc640_write_int(EE_SPC_STAT,__ee_spc_stat);
;;;290    	
;;;291    	spc_bat=in;
;;;292    	__ee_spc_bat=in;
;;;293    	lc640_write_int(EE_SPC_BAT,__ee_spc_bat);
;;;294    
;;;295    	bat[in]._zar_cnt_ke=0;
;;;296    	lc640_write_int(ADR_EE_BAT_ZAR_CNT_KE[in],0);
;;;297    	
;;;298    	spc_phase=0;
;;;299    	__ee_spc_phase=0;
;;;300    	lc640_write_int(EE_SPC_PHASE,__ee_spc_phase);
;;;301    
;;;302    	//ke_mem_hndl(in,lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat]));
;;;303    
;;;304    		{					
;;;305    		signed short temp_temp;
;;;306    		signed char temp;
;;;307    		temp_temp=bat[in]._u_old[((bat_u_old_cnt+1)&0x07)]; 
;;;308    		    
;;;309    		temp=LPC_RTC->YEAR;
;;;310    		gran_char(&temp,1,99);
;;;311    		*((char*)(&(ke_date[0])))=temp;
;;;312    			
;;;313    		temp=LPC_RTC->MONTH;
;;;314    		gran_char(&temp,1,12);
;;;315    		*(((char*)(&(ke_date[0])))+1)=temp;
;;;316    		
;;;317    		temp=LPC_RTC->DOM;
;;;318    		gran_char(&temp,1,31);
;;;319    		*(((char*)(&(ke_date[0])))+2)=temp;			
;;;320    				
;;;321    		*(((char*)(&(ke_date[0])))+3)=*((char*)&temp_temp);
;;;322    		lc640_write_long(EE_SPC_KE_DATE0,ke_date[0]);
;;;323    
;;;324    		temp=LPC_RTC->HOUR;
;;;325    		gran_char(&temp,0,23);
;;;326    		*((char*)(&(ke_date[1])))=temp;
;;;327                   
;;;328    		temp=LPC_RTC->MIN;
;;;329    		gran_char(&temp,0,59);
;;;330    		*(((char*)(&(ke_date[1])))+1)=temp;
;;;331    	          
;;;332    		temp=LPC_RTC->SEC;
;;;333    		gran_char(&temp,0,59);
;;;334    		*(((char*)(&(ke_date[1])))+2)=temp;
;;;335    			
;;;336    		*(((char*)(&(ke_date[1])))+3)=*(((char*)&temp_temp)+1);
;;;337    		lc640_write_long(EE_SPC_KE_DATE1,ke_date[1]);
;;;338    		}
;;;339    
;;;340    	}
;;;341    }
000036  f1a406b6          SUB      r6,r4,#0xb6
00003a  4288              CMP      r0,r1
00003c  da02              BGE      |L3.68|
00003e  88a0              LDRH     r0,[r4,#4]            ;276  ; adc_self_ch_buff
000040  8630              STRH     r0,[r6,#0x30]         ;276
000042  e00c              B        |L3.94|
                  |L3.68|
000044  f9b50002          LDRSH    r0,[r5,#2]            ;276  ; adc_self_ch_disp
000048  4288              CMP      r0,r1                 ;276
00004a  da02              BGE      |L3.82|
00004c  8860              LDRH     r0,[r4,#2]            ;277  ; adc_self_ch_buff
00004e  8630              STRH     r0,[r6,#0x30]         ;277
000050  e005              B        |L3.94|
                  |L3.82|
000052  f9b50000          LDRSH    r0,[r5,#0]            ;277  ; adc_self_ch_disp
000056  4288              CMP      r0,r1
000058  da01              BGE      |L3.94|
00005a  8820              LDRH     r0,[r4,#0]            ;278  ; adc_self_ch_buff
00005c  8630              STRH     r0,[r6,#0x30]         ;278
                  |L3.94|
00005e  78f7              LDRB     r7,[r6,#3]            ;278  ; adc_ch_net
000060  2200              MOVS     r2,#0                 ;278
000062  b3f7              CBZ      r7,|L3.226|
000064  79b3              LDRB     r3,[r6,#6]            ;278  ; adc_window_flag
000066  4869              LDR      r0,|L3.524|
000068  b18b              CBZ      r3,|L3.142|
00006a  f9b61030          LDRSH    r1,[r6,#0x30]         ;278  ; adc_result
00006e  6804              LDR      r4,[r0,#0]            ;279  ; main_power_buffer
000070  eb0404a1          ADD      r4,r4,r1,ASR #2       ;279
000074  6004              STR      r4,[r0,#0]            ;279  ; main_power_buffer
000076  6844              LDR      r4,[r0,#4]            ;279  ; main_power_buffer
000078  eb0404a1          ADD      r4,r4,r1,ASR #2       ;279
00007c  6044              STR      r4,[r0,#4]            ;269  ; main_power_buffer
00007e  6884              LDR      r4,[r0,#8]            ;280  ; main_power_buffer
000080  eb0404a1          ADD      r4,r4,r1,ASR #2       ;280
000084  6084              STR      r4,[r0,#8]            ;280  ; main_power_buffer
000086  68c4              LDR      r4,[r0,#0xc]          ;281  ; main_power_buffer
000088  eb0401a1          ADD      r1,r4,r1,ASR #2       ;281
00008c  60c1              STR      r1,[r0,#0xc]          ;280  ; main_power_buffer
                  |L3.142|
00008e  f9b61030          LDRSH    r1,[r6,#0x30]         ;280  ; adc_result
000092  2964              CMP      r1,#0x64
000094  da04              BGE      |L3.160|
000096  8eb1              LDRH     r1,[r6,#0x34]         ;281  ; adc_zero_cnt
000098  f1010101          ADD      r1,r1,#1              ;285
00009c  86b1              STRH     r1,[r6,#0x34]         ;285
00009e  e000              B        |L3.162|
                  |L3.160|
0000a0  86b2              STRH     r2,[r6,#0x34]         ;288
                  |L3.162|
0000a2  f9b64034          LDRSH    r4,[r6,#0x34]         ;288  ; adc_zero_cnt
0000a6  f44f61fa          MOV      r1,#0x7d0             ;289
0000aa  428c              CMP      r4,r1                 ;289
0000ac  db05              BLT      |L3.186|
0000ae  86b1              STRH     r1,[r6,#0x34]         ;291
0000b0  6002              STR      r2,[r0,#0]            ;292  ; main_power_buffer
0000b2  6042              STR      r2,[r0,#4]            ;292  ; main_power_buffer
0000b4  6082              STR      r2,[r0,#8]            ;293  ; main_power_buffer
0000b6  60c2              STR      r2,[r0,#0xc]          ;293  ; main_power_buffer
0000b8  85f2              STRH     r2,[r6,#0x2e]         ;293
                  |L3.186|
0000ba  8eb1              LDRH     r1,[r6,#0x34]         ;293  ; adc_zero_cnt
0000bc  2905              CMP      r1,#5                 ;293
0000be  d14f              BNE      |L3.352|
0000c0  b1bb              CBZ      r3,|L3.242|
0000c2  8e71              LDRH     r1,[r6,#0x32]         ;296  ; adc_gorb_cnt
0000c4  f1010101          ADD      r1,r1,#1              ;296
0000c8  b209              SXTH     r1,r1                 ;296
0000ca  8671              STRH     r1,[r6,#0x32]         ;296
0000cc  f5b17f00          CMP      r1,#0x200             ;298
0000d0  db00              BLT      |L3.212|
0000d2  8672              STRH     r2,[r6,#0x32]         ;300
                  |L3.212|
0000d4  f9b61032          LDRSH    r1,[r6,#0x32]         ;300  ; adc_gorb_cnt
0000d8  064c              LSLS     r4,r1,#25             ;300
0000da  d10a              BNE      |L3.242|
0000dc  ea4f11e1          ASR      r1,r1,#7              ;307
0000e0  e000              B        |L3.228|
                  |L3.226|
0000e2  e015              B        |L3.272|
                  |L3.228|
0000e4  f8504021          LDR      r4,[r0,r1,LSL #2]     ;307
0000e8  ea4f2424          ASR      r4,r4,#8              ;307
0000ec  85f4              STRH     r4,[r6,#0x2e]         ;307
0000ee  f8402021          STR      r2,[r0,r1,LSL #2]     ;307
                  |L3.242|
0000f2  f9b60036          LDRSH    r0,[r6,#0x36]         ;309  ; adc_window_cnt
0000f6  2896              CMP      r0,#0x96              ;310
0000f8  dd01              BLE      |L3.254|
0000fa  b103              CBZ      r3,|L3.254|
0000fc  71b2              STRB     r2,[r6,#6]            ;310
                  |L3.254|
0000fe  381f              SUBS     r0,r0,#0x1f           ;310
000100  2827              CMP      r0,#0x27              ;310
000102  d22d              BCS      |L3.352|
000104  79b0              LDRB     r0,[r6,#6]            ;311  ; adc_window_flag
000106  bb58              CBNZ     r0,|L3.352|
000108  f04f0001          MOV      r0,#1                 ;311
00010c  71b0              STRB     r0,[r6,#6]            ;311
00010e  e027              B        |L3.352|
                  |L3.272|
000110  483f              LDR      r0,|L3.528|
000112  7935              LDRB     r5,[r6,#4]            ;314  ; adc_ch
000114  7973              LDRB     r3,[r6,#5]            ;314  ; adc_ch_cnt
000116  eb001485          ADD      r4,r0,r5,LSL #6       ;314
00011a  f9b61030          LDRSH    r1,[r6,#0x30]         ;314  ; adc_result
00011e  f8441023          STR      r1,[r4,r3,LSL #2]     ;315
000122  0798              LSLS     r0,r3,#30             ;317
000124  d10f              BNE      |L3.326|
000126  4601              MOV      r1,r0                 ;318
                  |L3.296|
000128  f854c020          LDR      r12,[r4,r0,LSL #2]    ;318
00012c  4461              ADD      r1,r1,r12             ;318
00012e  f1000001          ADD      r0,r0,#1              ;318
000132  b2c0              UXTB     r0,r0                 ;319
000134  2810              CMP      r0,#0x10              ;319
000136  d3f7              BCC      |L3.296|
000138  ea4f1021          ASR      r0,r1,#4              ;321
00013c  4933              LDR      r1,|L3.524|
00013e  f1a10120          SUB      r1,r1,#0x20           ;322
000142  f8210015          STRH     r0,[r1,r5,LSL #1]     ;322
                  |L3.326|
000146  1c6d              ADDS     r5,r5,#1              ;324
000148  b2e8              UXTB     r0,r5                 ;324
00014a  7130              STRB     r0,[r6,#4]            ;325
00014c  2810              CMP      r0,#0x10              ;325
00014e  d307              BCC      |L3.352|
000150  7132              STRB     r2,[r6,#4]            ;325
000152  f1030301          ADD      r3,r3,#1              ;325
000156  b2d8              UXTB     r0,r3                 ;326
000158  7170              STRB     r0,[r6,#5]            ;326
00015a  2810              CMP      r0,#0x10              ;328
00015c  d300              BCC      |L3.352|
00015e  7172              STRB     r2,[r6,#5]            ;329
                  |L3.352|
000160  70b2              STRB     r2,[r6,#2]            ;329
000162  f1070701          ADD      r7,r7,#1              ;329
000166  f0070001          AND      r0,r7,#1              ;329
00016a  70f0              STRB     r0,[r6,#3]            ;330
00016c  4a29              LDR      r2,|L3.532|
00016e  b130              CBZ      r0,|L3.382|
000170  6810              LDR      r0,[r2,#0]            ;332
000172  f02000ff          BIC      r0,r0,#0xff           ;333
000176  f1000004          ADD      r0,r0,#4              ;333
00017a  6010              STR      r0,[r2,#0]            ;333
00017c  e03d              B        |L3.506|
                  |L3.382|
00017e  7931              LDRB     r1,[r6,#4]            ;334  ; adc_ch
000180  0708              LSLS     r0,r1,#28             ;334
000182  d406              BMI      |L3.402|
000184  6810              LDR      r0,[r2,#0]            ;336
000186  f02000ff          BIC      r0,r0,#0xff           ;336
00018a  f1000001          ADD      r0,r0,#1              ;337
00018e  6010              STR      r0,[r2,#0]            ;337
000190  e005              B        |L3.414|
                  |L3.402|
000192  6810              LDR      r0,[r2,#0]
000194  f02000ff          BIC      r0,r0,#0xff
000198  f1000002          ADD      r0,r0,#2              ;281
00019c  6010              STR      r0,[r2,#0]
                  |L3.414|
00019e  481e              LDR      r0,|L3.536|
0001a0  6803              LDR      r3,[r0,#0]
0001a2  f0435380          ORR      r3,r3,#0x10000000
0001a6  6003              STR      r3,[r0,#0]
0001a8  6a03              LDR      r3,[r0,#0x20]
0001aa  f0434380          ORR      r3,r3,#0x40000000
0001ae  6203              STR      r3,[r0,#0x20]
0001b0  6e03              LDR      r3,[r0,#0x60]
0001b2  f0436380          ORR      r3,r3,#0x4000000
0001b6  6603              STR      r3,[r0,#0x60]
0001b8  07cb              LSLS     r3,r1,#31
0001ba  d00a              BEQ      |L3.466|
0001bc  6943              LDR      r3,[r0,#0x14]
0001be  f0435380          ORR      r3,r3,#0x10000000
0001c2  6143              STR      r3,[r0,#0x14]
                  |L3.452|
0001c4  078b              LSLS     r3,r1,#30
0001c6  d409              BMI      |L3.476|
0001c8  6b43              LDR      r3,[r0,#0x34]
0001ca  f0234380          BIC      r3,r3,#0x40000000
0001ce  6343              STR      r3,[r0,#0x34]
0001d0  e008              B        |L3.484|
                  |L3.466|
0001d2  6943              LDR      r3,[r0,#0x14]
0001d4  f0235380          BIC      r3,r3,#0x10000000
0001d8  6143              STR      r3,[r0,#0x14]
0001da  e7f3              B        |L3.452|
                  |L3.476|
0001dc  6b43              LDR      r3,[r0,#0x34]
0001de  f0434380          ORR      r3,r3,#0x40000000
0001e2  6343              STR      r3,[r0,#0x34]
                  |L3.484|
0001e4  0749              LSLS     r1,r1,#29
0001e6  d404              BMI      |L3.498|
0001e8  6f41              LDR      r1,[r0,#0x74]
0001ea  f0216180          BIC      r1,r1,#0x4000000
0001ee  6741              STR      r1,[r0,#0x74]
0001f0  e003              B        |L3.506|
                  |L3.498|
0001f2  6f41              LDR      r1,[r0,#0x74]
0001f4  f0416180          ORR      r1,r1,#0x4000000
0001f8  6741              STR      r1,[r0,#0x74]
                  |L3.506|
0001fa  6810              LDR      r0,[r2,#0]
0001fc  f0407080          ORR      r0,r0,#0x1000000
000200  6010              STR      r0,[r2,#0]
000202  e8bd81f0          POP      {r4-r8,pc}
;;;342    
                          ENDP

000206  0000              DCW      0x0000
                  |L3.520|
                          DCD      ||area_number.23||+0xb6
                  |L3.524|
                          DCD      ||.bss||+0x420
                  |L3.528|
                          DCD      ||.bss||
                  |L3.532|
                          DCD      0x40034000
                  |L3.536|
                          DCD      0x2009c000

                          AREA ||area_number.4||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.4||, ||.text||
                  ips_current_average_hndl_ PROC
;;;266    //-----------------------------------------------
;;;267    void ke_start(char in)
000000  e92d43f0          PUSH     {r4-r9,lr}
;;;268    {          
000004  b085              SUB      sp,sp,#0x14
;;;269    ke_start_stat=(enum_ke_start_stat)0;		 
000006  4c64              LDR      r4,|L4.408|
000008  4e64              LDR      r6,|L4.412|
00000a  2500              MOVS     r5,#0
00000c  7820              LDRB     r0,[r4,#0]  ; ica_timer_cnt
;;;270    
;;;271    if(spc_stat==spcVZ)ke_start_stat=kssNOT_VZ;
00000e  1c40              ADDS     r0,r0,#1
000010  b2c0              UXTB     r0,r0
000012  7020              STRB     r0,[r4,#0]
000014  280a              CMP      r0,#0xa
000016  d340              BCC      |L4.154|
;;;272    #ifndef UKU_220_IPS_TERMOKOMPENSAT
;;;273    else if(BAT_IS_ON[in]!=bisON)ke_start_stat=kssNOT_BAT;
;;;274    #endif
;;;275    else if(bat[in]._av&(1<<0))ke_start_stat=kssNOT_BAT_AV;
000018  7025              STRB     r5,[r4,#0]
00001a  f8dfc184          LDR      r12,|L4.416|
00001e  f89c0000          LDRB     r0,[r12,#0]  ; ica_plazma
000022  f1000001          ADD      r0,r0,#1
000026  f88c0000          STRB     r0,[r12,#0]
00002a  485e              LDR      r0,|L4.420|
00002c  495e              LDR      r1,|L4.424|
00002e  f9b00000          LDRSH    r0,[r0,#0]  ; bps_I
000032  8008              STRH     r0,[r1,#0]
;;;276    else if(bat[in]._temper_stat&(1<<1))ke_start_stat=kssNOT_BAT_AV_T;
;;;277    else if(bat[in]._av&(1<<1))ke_start_stat=kssNOT_BAT_AV_ASS;
;;;278    else if(bat[in]._Ib>IKB)ke_start_stat=kssNOT_BAT_ZAR;
;;;279    else if(bat[in]._Ib<-IKB)ke_start_stat=kssNOT_BAT_RAZR;
;;;280    else if((spc_stat==spcKE)&&(spc_bat==0))ke_start_stat=kssNOT_KE1;
;;;281    else if((spc_stat==spcKE)&&(spc_bat==1))ke_start_stat=kssNOT_KE2;
;;;282    else 
;;;283    	{
;;;284    
;;;285    	ke_start_stat=kssYES;
;;;286    
;;;287    	spc_stat=spcKE;
;;;288    	__ee_spc_stat=spcKE;
;;;289    	lc640_write_int(EE_SPC_STAT,__ee_spc_stat);
;;;290    	
;;;291    	spc_bat=in;
;;;292    	__ee_spc_bat=in;
;;;293    	lc640_write_int(EE_SPC_BAT,__ee_spc_bat);
;;;294    
;;;295    	bat[in]._zar_cnt_ke=0;
;;;296    	lc640_write_int(ADR_EE_BAT_ZAR_CNT_KE[in],0);
;;;297    	
;;;298    	spc_phase=0;
;;;299    	__ee_spc_phase=0;
;;;300    	lc640_write_int(EE_SPC_PHASE,__ee_spc_phase);
;;;301    
;;;302    	//ke_mem_hndl(in,lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat]));
;;;303    
;;;304    		{					
;;;305    		signed short temp_temp;
;;;306    		signed char temp;
;;;307    		temp_temp=bat[in]._u_old[((bat_u_old_cnt+1)&0x07)]; 
;;;308    		    
;;;309    		temp=LPC_RTC->YEAR;
;;;310    		gran_char(&temp,1,99);
;;;311    		*((char*)(&(ke_date[0])))=temp;
;;;312    			
;;;313    		temp=LPC_RTC->MONTH;
;;;314    		gran_char(&temp,1,12);
;;;315    		*(((char*)(&(ke_date[0])))+1)=temp;
;;;316    		
;;;317    		temp=LPC_RTC->DOM;
;;;318    		gran_char(&temp,1,31);
;;;319    		*(((char*)(&(ke_date[0])))+2)=temp;			
;;;320    				
;;;321    		*(((char*)(&(ke_date[0])))+3)=*((char*)&temp_temp);
;;;322    		lc640_write_long(EE_SPC_KE_DATE0,ke_date[0]);
;;;323    
;;;324    		temp=LPC_RTC->HOUR;
;;;325    		gran_char(&temp,0,23);
;;;326    		*((char*)(&(ke_date[1])))=temp;
;;;327                   
;;;328    		temp=LPC_RTC->MIN;
;;;329    		gran_char(&temp,0,59);
;;;330    		*(((char*)(&(ke_date[1])))+1)=temp;
;;;331    	          
;;;332    		temp=LPC_RTC->SEC;
;;;333    		gran_char(&temp,0,59);
;;;334    		*(((char*)(&(ke_date[1])))+2)=temp;
;;;335    			
;;;336    		*(((char*)(&(ke_date[1])))+3)=*(((char*)&temp_temp)+1);
;;;337    		lc640_write_long(EE_SPC_KE_DATE1,ke_date[1]);
;;;338    		}
;;;339    
;;;340    	}
;;;341    }
000034  495d              LDR      r1,|L4.428|
000036  f8df8178          LDR      r8,|L4.432|
00003a  4662              MOV      r2,r12
00003c  4637              MOV      r7,r6                 ;276
00003e  f9b11000          LDRSH    r1,[r1,#0]            ;276  ; ica_your_current
000042  7852              LDRB     r2,[r2,#1]            ;276
000044  f9b83000          LDRSH    r3,[r8,#0]            ;276
000048  f9b77000          LDRSH    r7,[r7,#0]            ;276
00004c  4288              CMP      r0,r1                 ;277
00004e  dd06              BLE      |L4.94|
000050  eba00901          SUB      r9,r0,r1              ;277
000054  f1b90f0a          CMP      r9,#0xa               ;277
000058  db01              BLT      |L4.94|
00005a  2f01              CMP      r7,#1                 ;278
00005c  d007              BEQ      |L4.110|
                  |L4.94|
00005e  4288              CMP      r0,r1                 ;278
000060  da16              BGE      |L4.144|
000062  1a08              SUBS     r0,r1,r0              ;278
000064  280a              CMP      r0,#0xa               ;278
000066  db13              BLT      |L4.144|
000068  2f01              CMP      r7,#1                 ;278
00006a  d009              BEQ      |L4.128|
00006c  e010              B        |L4.144|
                  |L4.110|
00006e  f1020201          ADD      r2,r2,#1              ;279
000072  f88c2001          STRB     r2,[r12,#1]           ;279
000076  f1a30301          SUB      r3,r3,#1              ;279
00007a  f8a83000          STRH     r3,[r8,#0]
00007e  e007              B        |L4.144|
                  |L4.128|
000080  f1a20201          SUB      r2,r2,#1              ;280
000084  f88c2001          STRB     r2,[r12,#1]           ;280
000088  f1030301          ADD      r3,r3,#1              ;281
00008c  f8a83000          STRH     r3,[r8,#0]            ;280
                  |L4.144|
000090  2214              MOVS     r2,#0x14              ;280
000092  4251              RSBS     r1,r2,#0
000094  4846              LDR      r0,|L4.432|
000096  f7fffffe          BL       gran
                  |L4.154|
00009a  7820              LDRB     r0,[r4,#0]            ;285  ; ica_timer_cnt
00009c  f8df8114          LDR      r8,|L4.436|
0000a0  4f45              LDR      r7,|L4.440|
0000a2  2808              CMP      r0,#8                 ;288
0000a4  d125              BNE      |L4.242|
0000a6  8830              LDRH     r0,[r6,#0]            ;289  ; ICA_EN
0000a8  2801              CMP      r0,#1                 ;289
0000aa  d122              BNE      |L4.242|
0000ac  f8b80000          LDRH     r0,[r8,#0]            ;289  ; ICA_MODBUS_ADDRESS
0000b0  f88d0000          STRB     r0,[sp,#0]            ;292
0000b4  f04f0004          MOV      r0,#4                 ;293
0000b8  f88d0001          STRB     r0,[sp,#1]            ;293
0000bc  f88d5002          STRB     r5,[sp,#2]            ;293
0000c0  f04f0002          MOV      r0,#2                 ;296
0000c4  f88d0003          STRB     r0,[sp,#3]            ;296
0000c8  f88d5004          STRB     r5,[sp,#4]            ;296
0000cc  f04f0001          MOV      r0,#1                 ;298
0000d0  f88d0005          STRB     r0,[sp,#5]            ;299
0000d4  f04f0106          MOV      r1,#6                 ;300
0000d8  4668              MOV      r0,sp                 ;300
0000da  f7fffffe          BL       CRC16_2
0000de  f88d0006          STRB     r0,[sp,#6]            ;307
0000e2  ea4f2020          ASR      r0,r0,#8              ;307
0000e6  f88d0007          STRB     r0,[sp,#7]            ;307
0000ea  f9b70000          LDRSH    r0,[r7,#0]            ;307  ; ICA_CH
0000ee  b3e8              CBZ      r0,|L4.364|
0000f0  2801              CMP      r0,#1                 ;309
                  |L4.242|
0000f2  4832              LDR      r0,|L4.444|
0000f4  f06f0214          MVN      r2,#0x14              ;309
0000f8  f9b00000          LDRSH    r0,[r0,#0]            ;310  ; TBAT
0000fc  ebc01100          RSB      r1,r0,r0,LSL #4       ;310
000100  eb020181          ADD      r1,r2,r1,LSL #2       ;310
000104  4a2e              LDR      r2,|L4.448|
000106  f9b22046          LDRSH    r2,[r2,#0x46]         ;311  ; main_kb_cnt
00010a  4291              CMP      r1,r2                 ;311
00010c  d134              BNE      |L4.376|
00010e  8831              LDRH     r1,[r6,#0]            ;313  ; ICA_EN
000110  2901              CMP      r1,#1                 ;313
000112  d131              BNE      |L4.376|
000114  f8b81000          LDRH     r1,[r8,#0]            ;314  ; ICA_MODBUS_ADDRESS
000118  f88d1000          STRB     r1,[sp,#0]            ;314
00011c  f04f0106          MOV      r1,#6                 ;315
000120  f88d1001          STRB     r1,[sp,#1]            ;315
000124  f88d5002          STRB     r5,[sp,#2]            ;317
000128  f04f011e          MOV      r1,#0x1e              ;318
00012c  f88d1003          STRB     r1,[sp,#3]            ;318
000130  ea4f71e0          ASR      r1,r0,#31             ;319
000134  eb006111          ADD      r1,r0,r1,LSR #24      ;319
000138  ea4f2221          ASR      r2,r1,#8              ;321
00013c  f88d2004          STRB     r2,[sp,#4]            ;322
000140  f88d0005          STRB     r0,[sp,#5]            ;322
000144  f04f0106          MOV      r1,#6                 ;322
000148  4668              MOV      r0,sp                 ;324
00014a  f7fffffe          BL       CRC16_2
00014e  f88d0006          STRB     r0,[sp,#6]            ;325
000152  ea4f2020          ASR      r0,r0,#8              ;325
000156  f88d0007          STRB     r0,[sp,#7]            ;326
00015a  8838              LDRH     r0,[r7,#0]            ;328  ; ICA_CH
00015c  2800              CMP      r0,#0                 ;328
00015e  d10b              BNE      |L4.376|
000160  4604              MOV      r4,r0                 ;329
000162  466d              MOV      r5,sp                 ;329
                  |L4.356|
000164  5d28              LDRB     r0,[r5,r4]            ;329
000166  f7fffffe          BL       putchar_sc16is700
00016a  e000              B        |L4.366|
                  |L4.364|
00016c  e007              B        |L4.382|
                  |L4.366|
00016e  f1040401          ADD      r4,r4,#1              ;332
000172  b2e4              UXTB     r4,r4                 ;333
000174  2c08              CMP      r4,#8                 ;333
000176  d3f5              BCC      |L4.356|
                  |L4.376|
000178  b005              ADD      sp,sp,#0x14           ;333
00017a  e8bd83f0          POP      {r4-r9,pc}            ;333
                  |L4.382|
00017e  f04f0400          MOV      r4,#0                 ;334
000182  46e9              MOV      r9,sp                 ;336
                  |L4.388|
000184  f8190004          LDRB     r0,[r9,r4]            ;336
000188  f7fffffe          BL       putchar_sc16is700
00018c  f1040401          ADD      r4,r4,#1              ;337
000190  b2e4              UXTB     r4,r4                 ;337
000192  2c08              CMP      r4,#8
000194  d3f6              BCC      |L4.388|
000196  e7ac              B        |L4.242|
;;;342    
                          ENDP

                  |L4.408|
                          DCD      ica_timer_cnt
                  |L4.412|
                          DCD      ICA_EN
                  |L4.416|
                          DCD      ica_plazma
                  |L4.420|
                          DCD      bps_I
                  |L4.424|
                          DCD      ica_my_current
                  |L4.428|
                          DCD      ica_your_current
                  |L4.432|
                          DCD      ica_u_necc
                  |L4.436|
                          DCD      ICA_MODBUS_ADDRESS
                  |L4.440|
                          DCD      ICA_CH
                  |L4.444|
                          DCD      TBAT
                  |L4.448|
                          DCD      ||area_number.23||

                          AREA ||area_number.5||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.5||, ||.text||
                  inv_drv PROC
;;;266    //-----------------------------------------------
;;;267    void ke_start(char in)
000000  b570              PUSH     {r4-r6,lr}
;;;268    {          
000002  4604              MOV      r4,r0
000004  f04f0207          MOV      r2,#7
;;;269    ke_start_stat=(enum_ke_start_stat)0;		 
000008  f04f0101          MOV      r1,#1
00000c  48a4              LDR      r0,|L5.672|
;;;270    
;;;271    if(spc_stat==spcVZ)ke_start_stat=kssNOT_VZ;
00000e  f7fffffe          BL       gran_char
000012  48a4              LDR      r0,|L5.676|
000014  eb040144          ADD      r1,r4,r4,LSL #1
;;;272    #ifndef UKU_220_IPS_TERMOKOMPENSAT
;;;273    else if(BAT_IS_ON[in]!=bisON)ke_start_stat=kssNOT_BAT;
;;;274    #endif
;;;275    else if(bat[in]._av&(1<<0))ke_start_stat=kssNOT_BAT_AV;
000018  eb001541          ADD      r5,r0,r1,LSL #5
00001c  f8950047          LDRB     r0,[r5,#0x47]
000020  f8951046          LDRB     r1,[r5,#0x46]
000024  ea800001          EOR      r0,r0,r1
000028  4a9f              LDR      r2,|L5.680|
00002a  b100              CBZ      r0,|L5.46|
00002c  7050              STRB     r0,[r2,#1]
                  |L5.46|
00002e  ea010100          AND      r1,r1,r0
000032  b101              CBZ      r1,|L5.54|
;;;276    else if(bat[in]._temper_stat&(1<<1))ke_start_stat=kssNOT_BAT_AV_T;
;;;277    else if(bat[in]._av&(1<<1))ke_start_stat=kssNOT_BAT_AV_ASS;
;;;278    else if(bat[in]._Ib>IKB)ke_start_stat=kssNOT_BAT_ZAR;
;;;279    else if(bat[in]._Ib<-IKB)ke_start_stat=kssNOT_BAT_RAZR;
;;;280    else if((spc_stat==spcKE)&&(spc_bat==0))ke_start_stat=kssNOT_KE1;
;;;281    else if((spc_stat==spcKE)&&(spc_bat==1))ke_start_stat=kssNOT_KE2;
;;;282    else 
;;;283    	{
;;;284    
;;;285    	ke_start_stat=kssYES;
;;;286    
;;;287    	spc_stat=spcKE;
;;;288    	__ee_spc_stat=spcKE;
;;;289    	lc640_write_int(EE_SPC_STAT,__ee_spc_stat);
;;;290    	
;;;291    	spc_bat=in;
;;;292    	__ee_spc_bat=in;
;;;293    	lc640_write_int(EE_SPC_BAT,__ee_spc_bat);
;;;294    
;;;295    	bat[in]._zar_cnt_ke=0;
;;;296    	lc640_write_int(ADR_EE_BAT_ZAR_CNT_KE[in],0);
;;;297    	
;;;298    	spc_phase=0;
;;;299    	__ee_spc_phase=0;
;;;300    	lc640_write_int(EE_SPC_PHASE,__ee_spc_phase);
;;;301    
;;;302    	//ke_mem_hndl(in,lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat]));
;;;303    
;;;304    		{					
;;;305    		signed short temp_temp;
;;;306    		signed char temp;
;;;307    		temp_temp=bat[in]._u_old[((bat_u_old_cnt+1)&0x07)]; 
;;;308    		    
;;;309    		temp=LPC_RTC->YEAR;
;;;310    		gran_char(&temp,1,99);
;;;311    		*((char*)(&(ke_date[0])))=temp;
;;;312    			
;;;313    		temp=LPC_RTC->MONTH;
;;;314    		gran_char(&temp,1,12);
;;;315    		*(((char*)(&(ke_date[0])))+1)=temp;
;;;316    		
;;;317    		temp=LPC_RTC->DOM;
;;;318    		gran_char(&temp,1,31);
;;;319    		*(((char*)(&(ke_date[0])))+2)=temp;			
;;;320    				
;;;321    		*(((char*)(&(ke_date[0])))+3)=*((char*)&temp_temp);
;;;322    		lc640_write_long(EE_SPC_KE_DATE0,ke_date[0]);
;;;323    
;;;324    		temp=LPC_RTC->HOUR;
;;;325    		gran_char(&temp,0,23);
;;;326    		*((char*)(&(ke_date[1])))=temp;
;;;327                   
;;;328    		temp=LPC_RTC->MIN;
;;;329    		gran_char(&temp,0,59);
;;;330    		*(((char*)(&(ke_date[1])))+1)=temp;
;;;331    	          
;;;332    		temp=LPC_RTC->SEC;
;;;333    		gran_char(&temp,0,59);
;;;334    		*(((char*)(&(ke_date[1])))+2)=temp;
;;;335    			
;;;336    		*(((char*)(&(ke_date[1])))+3)=*(((char*)&temp_temp)+1);
;;;337    		lc640_write_long(EE_SPC_KE_DATE1,ke_date[1]);
;;;338    		}
;;;339    
;;;340    	}
;;;341    }
000034  7091              STRB     r1,[r2,#2]
                  |L5.54|
000036  ea000301          AND      r3,r0,r1
00003a  07db              LSLS     r3,r3,#31
00003c  d027              BEQ      |L5.142|
00003e  78d0              LDRB     r0,[r2,#3]            ;276  ; plazma_inv
000040  f1000001          ADD      r0,r0,#1              ;276
000044  70d0              STRB     r0,[r2,#3]            ;276
000046  b134              CBZ      r4,|L5.86|
000048  2c01              CMP      r4,#1                 ;276
00004a  d00b              BEQ      |L5.100|
00004c  2c02              CMP      r4,#2                 ;277
00004e  d010              BEQ      |L5.114|
000050  2c03              CMP      r4,#3                 ;277
000052  d015              BEQ      |L5.128|
000054  e120              B        |L5.664|
                  |L5.86|
000056  2301              MOVS     r3,#1
000058  461a              MOV      r2,r3                 ;278
00005a  210e              MOVS     r1,#0xe               ;278
00005c  a093              ADR      r0,|L5.684|
00005e  f7fffffe          BL       snmp_trap_send
000062  e119              B        |L5.664|
                  |L5.100|
000064  2301              MOVS     r3,#1                 ;278
000066  2202              MOVS     r2,#2                 ;278
000068  210e              MOVS     r1,#0xe               ;278
00006a  a097              ADR      r0,|L5.712|
00006c  f7fffffe          BL       snmp_trap_send
000070  e112              B        |L5.664|
                  |L5.114|
000072  2301              MOVS     r3,#1                 ;279
000074  2203              MOVS     r2,#3                 ;279
000076  210e              MOVS     r1,#0xe               ;279
000078  a09a              ADR      r0,|L5.740|
00007a  f7fffffe          BL       snmp_trap_send
00007e  e10b              B        |L5.664|
                  |L5.128|
000080  2301              MOVS     r3,#1                 ;280
000082  2204              MOVS     r2,#4                 ;280
000084  210e              MOVS     r1,#0xe               ;280
000086  a09e              ADR      r0,|L5.768|
000088  f7fffffe          BL       snmp_trap_send
00008c  e104              B        |L5.664|
                  |L5.142|
00008e  0783              LSLS     r3,r0,#30             ;280
000090  d529              BPL      |L5.230|
000092  078b              LSLS     r3,r1,#30
000094  d527              BPL      |L5.230|
000096  78d0              LDRB     r0,[r2,#3]            ;281  ; plazma_inv
000098  f1000001          ADD      r0,r0,#1              ;285
00009c  70d0              STRB     r0,[r2,#3]            ;285
00009e  b134              CBZ      r4,|L5.174|
0000a0  2c01              CMP      r4,#1                 ;288
0000a2  d00b              BEQ      |L5.188|
0000a4  2c02              CMP      r4,#2                 ;289
0000a6  d010              BEQ      |L5.202|
0000a8  2c03              CMP      r4,#3                 ;289
0000aa  d015              BEQ      |L5.216|
0000ac  e0f4              B        |L5.664|
                  |L5.174|
0000ae  2302              MOVS     r3,#2                 ;291
0000b0  2201              MOVS     r2,#1                 ;292
0000b2  210e              MOVS     r1,#0xe               ;292
0000b4  a099              ADR      r0,|L5.796|
0000b6  f7fffffe          BL       snmp_trap_send
0000ba  e0ed              B        |L5.664|
                  |L5.188|
0000bc  2302              MOVS     r3,#2                 ;293
0000be  461a              MOV      r2,r3                 ;295
0000c0  210e              MOVS     r1,#0xe               ;296
0000c2  a09d              ADR      r0,|L5.824|
0000c4  f7fffffe          BL       snmp_trap_send
0000c8  e0e6              B        |L5.664|
                  |L5.202|
0000ca  2302              MOVS     r3,#2                 ;296
0000cc  2203              MOVS     r2,#3                 ;298
0000ce  210e              MOVS     r1,#0xe               ;299
0000d0  a0a0              ADR      r0,|L5.852|
0000d2  f7fffffe          BL       snmp_trap_send
0000d6  e0df              B        |L5.664|
                  |L5.216|
0000d8  2302              MOVS     r3,#2                 ;300
0000da  2204              MOVS     r2,#4                 ;300
0000dc  210e              MOVS     r1,#0xe               ;307
0000de  a0a4              ADR      r0,|L5.880|
0000e0  f7fffffe          BL       snmp_trap_send
0000e4  e0d8              B        |L5.664|
                  |L5.230|
0000e6  0743              LSLS     r3,r0,#29             ;307
0000e8  d529              BPL      |L5.318|
0000ea  074b              LSLS     r3,r1,#29             ;307
0000ec  d527              BPL      |L5.318|
0000ee  78d0              LDRB     r0,[r2,#3]            ;307  ; plazma_inv
0000f0  f1000001          ADD      r0,r0,#1              ;309
0000f4  70d0              STRB     r0,[r2,#3]            ;309
0000f6  b134              CBZ      r4,|L5.262|
0000f8  2c01              CMP      r4,#1                 ;310
0000fa  d00b              BEQ      |L5.276|
0000fc  2c02              CMP      r4,#2                 ;310
0000fe  d010              BEQ      |L5.290|
000100  2c03              CMP      r4,#3                 ;310
000102  d015              BEQ      |L5.304|
000104  e0c8              B        |L5.664|
                  |L5.262|
000106  2303              MOVS     r3,#3                 ;311
000108  2201              MOVS     r2,#1                 ;311
00010a  210e              MOVS     r1,#0xe               ;311
00010c  a09f              ADR      r0,|L5.908|
00010e  f7fffffe          BL       snmp_trap_send
000112  e0c1              B        |L5.664|
                  |L5.276|
000114  2303              MOVS     r3,#3                 ;314
000116  2202              MOVS     r2,#2                 ;314
000118  210e              MOVS     r1,#0xe               ;314
00011a  a0a3              ADR      r0,|L5.936|
00011c  f7fffffe          BL       snmp_trap_send
000120  e0ba              B        |L5.664|
                  |L5.290|
000122  2303              MOVS     r3,#3                 ;317
000124  461a              MOV      r2,r3                 ;317
000126  210e              MOVS     r1,#0xe               ;318
000128  a0a6              ADR      r0,|L5.964|
00012a  f7fffffe          BL       snmp_trap_send
00012e  e0b3              B        |L5.664|
                  |L5.304|
000130  2303              MOVS     r3,#3                 ;319
000132  2204              MOVS     r2,#4                 ;319
000134  210e              MOVS     r1,#0xe               ;319
000136  a0aa              ADR      r0,|L5.992|
000138  f7fffffe          BL       snmp_trap_send
00013c  e0ac              B        |L5.664|
                  |L5.318|
00013e  0703              LSLS     r3,r0,#28             ;322
000140  d529              BPL      |L5.406|
000142  070b              LSLS     r3,r1,#28             ;322
000144  d527              BPL      |L5.406|
000146  78d0              LDRB     r0,[r2,#3]            ;324  ; plazma_inv
000148  f1000001          ADD      r0,r0,#1              ;324
00014c  70d0              STRB     r0,[r2,#3]            ;325
00014e  b134              CBZ      r4,|L5.350|
000150  2c01              CMP      r4,#1                 ;325
000152  d00b              BEQ      |L5.364|
000154  2c02              CMP      r4,#2                 ;326
000156  d010              BEQ      |L5.378|
000158  2c03              CMP      r4,#3                 ;326
00015a  d015              BEQ      |L5.392|
00015c  e09c              B        |L5.664|
                  |L5.350|
00015e  2304              MOVS     r3,#4                 ;329
000160  2201              MOVS     r2,#1                 ;329
000162  210e              MOVS     r1,#0xe               ;329
000164  a0a5              ADR      r0,|L5.1020|
000166  f7fffffe          BL       snmp_trap_send
00016a  e095              B        |L5.664|
                  |L5.364|
00016c  2304              MOVS     r3,#4                 ;330
00016e  2202              MOVS     r2,#2                 ;332
000170  210e              MOVS     r1,#0xe               ;332
000172  a0ab              ADR      r0,|L5.1056|
000174  f7fffffe          BL       snmp_trap_send
000178  e08e              B        |L5.664|
                  |L5.378|
00017a  2304              MOVS     r3,#4                 ;333
00017c  2203              MOVS     r2,#3                 ;334
00017e  210e              MOVS     r1,#0xe               ;334
000180  a0b0              ADR      r0,|L5.1092|
000182  f7fffffe          BL       snmp_trap_send
000186  e087              B        |L5.664|
                  |L5.392|
000188  2304              MOVS     r3,#4                 ;337
00018a  461a              MOV      r2,r3                 ;337
00018c  210e              MOVS     r1,#0xe               ;337
00018e  a0b6              ADR      r0,|L5.1128|
000190  f7fffffe          BL       snmp_trap_send
000194  e080              B        |L5.664|
                  |L5.406|
000196  06c3              LSLS     r3,r0,#27             ;281
000198  d529              BPL      |L5.494|
00019a  06cb              LSLS     r3,r1,#27             ;281
00019c  d527              BPL      |L5.494|
00019e  78d0              LDRB     r0,[r2,#3]  ; plazma_inv
0001a0  f1000001          ADD      r0,r0,#1
0001a4  70d0              STRB     r0,[r2,#3]
0001a6  b134              CBZ      r4,|L5.438|
0001a8  2c01              CMP      r4,#1
0001aa  d00b              BEQ      |L5.452|
0001ac  2c02              CMP      r4,#2
0001ae  d010              BEQ      |L5.466|
0001b0  2c03              CMP      r4,#3
0001b2  d015              BEQ      |L5.480|
0001b4  e070              B        |L5.664|
                  |L5.438|
0001b6  2305              MOVS     r3,#5
0001b8  2201              MOVS     r2,#1
0001ba  210e              MOVS     r1,#0xe
0001bc  a0b3              ADR      r0,|L5.1164|
0001be  f7fffffe          BL       snmp_trap_send
0001c2  e069              B        |L5.664|
                  |L5.452|
0001c4  2305              MOVS     r3,#5
0001c6  2202              MOVS     r2,#2
0001c8  210e              MOVS     r1,#0xe
0001ca  a0b9              ADR      r0,|L5.1200|
0001cc  f7fffffe          BL       snmp_trap_send
0001d0  e062              B        |L5.664|
                  |L5.466|
0001d2  2305              MOVS     r3,#5
0001d4  2203              MOVS     r2,#3
0001d6  210e              MOVS     r1,#0xe
0001d8  a0be              ADR      r0,|L5.1236|
0001da  f7fffffe          BL       snmp_trap_send
0001de  e05b              B        |L5.664|
                  |L5.480|
0001e0  2305              MOVS     r3,#5
0001e2  2204              MOVS     r2,#4
0001e4  210e              MOVS     r1,#0xe
0001e6  a0c4              ADR      r0,|L5.1272|
0001e8  f7fffffe          BL       snmp_trap_send
0001ec  e054              B        |L5.664|
                  |L5.494|
0001ee  0683              LSLS     r3,r0,#26
0001f0  d529              BPL      |L5.582|
0001f2  068b              LSLS     r3,r1,#26
0001f4  d527              BPL      |L5.582|
0001f6  78d0              LDRB     r0,[r2,#3]  ; plazma_inv
0001f8  f1000001          ADD      r0,r0,#1
0001fc  70d0              STRB     r0,[r2,#3]
0001fe  b134              CBZ      r4,|L5.526|
000200  2c01              CMP      r4,#1
000202  d00b              BEQ      |L5.540|
000204  2c02              CMP      r4,#2
000206  d010              BEQ      |L5.554|
000208  2c03              CMP      r4,#3
00020a  d015              BEQ      |L5.568|
00020c  e044              B        |L5.664|
                  |L5.526|
00020e  2306              MOVS     r3,#6
000210  2201              MOVS     r2,#1
000212  210e              MOVS     r1,#0xe
000214  a0c1              ADR      r0,|L5.1308|
000216  f7fffffe          BL       snmp_trap_send
00021a  e03d              B        |L5.664|
                  |L5.540|
00021c  2306              MOVS     r3,#6
00021e  2202              MOVS     r2,#2
000220  210e              MOVS     r1,#0xe
000222  a0c7              ADR      r0,|L5.1344|
000224  f7fffffe          BL       snmp_trap_send
000228  e036              B        |L5.664|
                  |L5.554|
00022a  2306              MOVS     r3,#6
00022c  2203              MOVS     r2,#3
00022e  210e              MOVS     r1,#0xe
000230  a0cc              ADR      r0,|L5.1380|
000232  f7fffffe          BL       snmp_trap_send
000236  e02f              B        |L5.664|
                  |L5.568|
000238  2306              MOVS     r3,#6
00023a  2204              MOVS     r2,#4
00023c  210e              MOVS     r1,#0xe
00023e  a0d2              ADR      r0,|L5.1416|
000240  f7fffffe          BL       snmp_trap_send
000244  e028              B        |L5.664|
                  |L5.582|
000246  b300              CBZ      r0,|L5.650|
000248  b9f9              CBNZ     r1,|L5.650|
00024a  78d0              LDRB     r0,[r2,#3]  ; plazma_inv
00024c  f1000001          ADD      r0,r0,#1
000250  70d0              STRB     r0,[r2,#3]
000252  b134              CBZ      r4,|L5.610|
000254  2c01              CMP      r4,#1
000256  d00b              BEQ      |L5.624|
000258  2c02              CMP      r4,#2
00025a  d010              BEQ      |L5.638|
00025c  2c03              CMP      r4,#3
00025e  d015              BEQ      |L5.652|
000260  e01a              B        |L5.664|
                  |L5.610|
000262  2300              MOVS     r3,#0
000264  2201              MOVS     r2,#1
000266  210e              MOVS     r1,#0xe
000268  a0d0              ADR      r0,|L5.1452|
00026a  f7fffffe          BL       snmp_trap_send
00026e  e013              B        |L5.664|
                  |L5.624|
000270  2300              MOVS     r3,#0
000272  2202              MOVS     r2,#2
000274  210e              MOVS     r1,#0xe
000276  a0d2              ADR      r0,|L5.1472|
000278  f7fffffe          BL       snmp_trap_send
00027c  e00c              B        |L5.664|
                  |L5.638|
00027e  2300              MOVS     r3,#0
000280  2203              MOVS     r2,#3
000282  210e              MOVS     r1,#0xe
000284  a0d3              ADR      r0,|L5.1492|
000286  f7fffffe          BL       snmp_trap_send
                  |L5.650|
00028a  e005              B        |L5.664|
                  |L5.652|
00028c  2300              MOVS     r3,#0
00028e  2204              MOVS     r2,#4
000290  210e              MOVS     r1,#0xe
000292  a0d5              ADR      r0,|L5.1512|
000294  f7fffffe          BL       snmp_trap_send
                  |L5.664|
000298  f8150f46          LDRB     r0,[r5,#0x46]!
00029c  7068              STRB     r0,[r5,#1]
00029e  bd70              POP      {r4-r6,pc}
;;;342    
                          ENDP

                  |L5.672|
                          DCD      first_inv_slot
                  |L5.676|
                          DCD      inv
                  |L5.680|
                          DCD      ||area_number.23||+0x9c
                  |L5.684|
0002ac  496e7665          DCB      "Invertor #1 Alarm, overload",0
0002b0  72746f72
0002b4  20233120
0002b8  416c6172
0002bc  6d2c206f
0002c0  7665726c
0002c4  6f616400
                  |L5.712|
0002c8  496e7665          DCB      "Invertor #2 Alarm, overload",0
0002cc  72746f72
0002d0  20233220
0002d4  416c6172
0002d8  6d2c206f
0002dc  7665726c
0002e0  6f616400
                  |L5.740|
0002e4  496e7665          DCB      "Invertor #3 Alarm, overload",0
0002e8  72746f72
0002ec  20233320
0002f0  416c6172
0002f4  6d2c206f
0002f8  7665726c
0002fc  6f616400
                  |L5.768|
000300  496e7665          DCB      "Invertor #4 Alarm, overload",0
000304  72746f72
000308  20233420
00030c  416c6172
000310  6d2c206f
000314  7665726c
000318  6f616400
                  |L5.796|
00031c  496e7665          DCB      "Invertor #1 Alarm, overheat",0
000320  72746f72
000324  20233120
000328  416c6172
00032c  6d2c206f
000330  76657268
000334  65617400
                  |L5.824|
000338  496e7665          DCB      "Invertor #2 Alarm, overheat",0
00033c  72746f72
000340  20233220
000344  416c6172
000348  6d2c206f
00034c  76657268
000350  65617400
                  |L5.852|
000354  496e7665          DCB      "Invertor #3 Alarm, overheat",0
000358  72746f72
00035c  20233320
000360  416c6172
000364  6d2c206f
000368  76657268
00036c  65617400
                  |L5.880|
000370  496e7665          DCB      "Invertor #4 Alarm, overheat",0
000374  72746f72
000378  20233420
00037c  416c6172
000380  6d2c206f
000384  76657268
000388  65617400
                  |L5.908|
00038c  496e7665          DCB      "Invertor #1 Alarm, is warm",0
000390  72746f72
000394  20233120
000398  416c6172
00039c  6d2c2069
0003a0  73207761
0003a4  726d00  
0003a7  00                DCB      0
                  |L5.936|
0003a8  496e7665          DCB      "Invertor #2 Alarm, is warm",0
0003ac  72746f72
0003b0  20233220
0003b4  416c6172
0003b8  6d2c2069
0003bc  73207761
0003c0  726d00  
0003c3  00                DCB      0
                  |L5.964|
0003c4  496e7665          DCB      "Invertor #3 Alarm, is warm",0
0003c8  72746f72
0003cc  20233320
0003d0  416c6172
0003d4  6d2c2069
0003d8  73207761
0003dc  726d00  
0003df  00                DCB      0
                  |L5.992|
0003e0  496e7665          DCB      "Invertor #4 Alarm, is warm",0
0003e4  72746f72
0003e8  20233420
0003ec  416c6172
0003f0  6d2c2069
0003f4  73207761
0003f8  726d00  
0003fb  00                DCB      0
                  |L5.1020|
0003fc  496e7665          DCB      "Invertor #1 Alarm, voltage is up",0
000400  72746f72
000404  20233120
000408  416c6172
00040c  6d2c2076
000410  6f6c7461
000414  67652069
000418  73207570
00041c  00      
00041d  00                DCB      0
00041e  00                DCB      0
00041f  00                DCB      0
                  |L5.1056|
000420  496e7665          DCB      "Invertor #2 Alarm, voltage is up",0
000424  72746f72
000428  20233220
00042c  416c6172
000430  6d2c2076
000434  6f6c7461
000438  67652069
00043c  73207570
000440  00      
000441  00                DCB      0
000442  00                DCB      0
000443  00                DCB      0
                  |L5.1092|
000444  496e7665          DCB      "Invertor #3 Alarm, voltage is up",0
000448  72746f72
00044c  20233320
000450  416c6172
000454  6d2c2076
000458  6f6c7461
00045c  67652069
000460  73207570
000464  00      
000465  00                DCB      0
000466  00                DCB      0
000467  00                DCB      0
                  |L5.1128|
000468  496e7665          DCB      "Invertor #4 Alarm, voltage is up",0
00046c  72746f72
000470  20233420
000474  416c6172
000478  6d2c2076
00047c  6f6c7461
000480  67652069
000484  73207570
000488  00      
000489  00                DCB      0
00048a  00                DCB      0
00048b  00                DCB      0
                  |L5.1164|
00048c  496e7665          DCB      "Invertor #1 Alarm, voltage is down",0
000490  72746f72
000494  20233120
000498  416c6172
00049c  6d2c2076
0004a0  6f6c7461
0004a4  67652069
0004a8  7320646f
0004ac  776e00  
0004af  00                DCB      0
                  |L5.1200|
0004b0  496e7665          DCB      "Invertor #2 Alarm, voltage is down",0
0004b4  72746f72
0004b8  20233220
0004bc  416c6172
0004c0  6d2c2076
0004c4  6f6c7461
0004c8  67652069
0004cc  7320646f
0004d0  776e00  
0004d3  00                DCB      0
                  |L5.1236|
0004d4  496e7665          DCB      "Invertor #3 Alarm, voltage is down",0
0004d8  72746f72
0004dc  20233320
0004e0  416c6172
0004e4  6d2c2076
0004e8  6f6c7461
0004ec  67652069
0004f0  7320646f
0004f4  776e00  
0004f7  00                DCB      0
                  |L5.1272|
0004f8  496e7665          DCB      "Invertor #4 Alarm, voltage is down",0
0004fc  72746f72
000500  20233420
000504  416c6172
000508  6d2c2076
00050c  6f6c7461
000510  67652069
000514  7320646f
000518  776e00  
00051b  00                DCB      0
                  |L5.1308|
00051c  496e7665          DCB      "Invertor #1 Alarm, output is offed",0
000520  72746f72
000524  20233120
000528  416c6172
00052c  6d2c206f
000530  75747075
000534  74206973
000538  206f6666
00053c  656400  
00053f  00                DCB      0
                  |L5.1344|
000540  496e7665          DCB      "Invertor #2 Alarm, output is offed",0
000544  72746f72
000548  20233220
00054c  416c6172
000550  6d2c206f
000554  75747075
000558  74206973
00055c  206f6666
000560  656400  
000563  00                DCB      0
                  |L5.1380|
000564  496e7665          DCB      "Invertor #3 Alarm, output is offed",0
000568  72746f72
00056c  20233320
000570  416c6172
000574  6d2c206f
000578  75747075
00057c  74206973
000580  206f6666
000584  656400  
000587  00                DCB      0
                  |L5.1416|
000588  496e7665          DCB      "Invertor #4 Alarm, output is offed",0
00058c  72746f72
000590  20233420
000594  416c6172
000598  6d2c206f
00059c  75747075
0005a0  74206973
0005a4  206f6666
0005a8  656400  
0005ab  00                DCB      0
                  |L5.1452|
0005ac  496e7665          DCB      "Invertor #1 is norm",0
0005b0  72746f72
0005b4  20233120
0005b8  6973206e
0005bc  6f726d00
                  |L5.1472|
0005c0  496e7665          DCB      "Invertor #2 is norm",0
0005c4  72746f72
0005c8  20233220
0005cc  6973206e
0005d0  6f726d00
                  |L5.1492|
0005d4  496e7665          DCB      "Invertor #3 is norm",0
0005d8  72746f72
0005dc  20233320
0005e0  6973206e
0005e4  6f726d00
                  |L5.1512|
0005e8  496e7665          DCB      "Invertor #4 is norm",0
0005ec  72746f72
0005f0  20233420
0005f4  6973206e
0005f8  6f726d00

                          AREA ||area_number.6||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.6||, ||.text||
                  klimat_hndl PROC
;;;266    //-----------------------------------------------
;;;267    void ke_start(char in)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;268    {          
000004  4d66              LDR      r5,|L6.416|
;;;269    ke_start_stat=(enum_ke_start_stat)0;		 
000006  4867              LDR      r0,|L6.420|
000008  4c67              LDR      r4,|L6.424|
00000a  f9b51000          LDRSH    r1,[r5,#0]  ; t_box
;;;270    
;;;271    if(spc_stat==spcVZ)ke_start_stat=kssNOT_VZ;
00000e  f9b02000          LDRSH    r2,[r0,#0]  ; TBOXMAX
000012  f9b40000          LDRSH    r0,[r4,#0]
000016  4291              CMP      r1,r2
;;;272    #ifndef UKU_220_IPS_TERMOKOMPENSAT
;;;273    else if(BAT_IS_ON[in]!=bisON)ke_start_stat=kssNOT_BAT;
;;;274    #endif
;;;275    else if(bat[in]._av&(1<<0))ke_start_stat=kssNOT_BAT_AV;
000018  dd03              BLE      |L6.34|
00001a  f1000001          ADD      r0,r0,#1
00001e  8020              STRH     r0,[r4,#0]
000020  e003              B        |L6.42|
                  |L6.34|
000022  da02              BGE      |L6.42|
000024  f1a00001          SUB      r0,r0,#1
000028  8020              STRH     r0,[r4,#0]
                  |L6.42|
00002a  2206              MOVS     r2,#6
00002c  2100              MOVS     r1,#0
00002e  485e              LDR      r0,|L6.424|
000030  f7fffffe          BL       gran
;;;276    else if(bat[in]._temper_stat&(1<<1))ke_start_stat=kssNOT_BAT_AV_T;
;;;277    else if(bat[in]._av&(1<<1))ke_start_stat=kssNOT_BAT_AV_ASS;
;;;278    else if(bat[in]._Ib>IKB)ke_start_stat=kssNOT_BAT_ZAR;
;;;279    else if(bat[in]._Ib<-IKB)ke_start_stat=kssNOT_BAT_RAZR;
;;;280    else if((spc_stat==spcKE)&&(spc_bat==0))ke_start_stat=kssNOT_KE1;
;;;281    else if((spc_stat==spcKE)&&(spc_bat==1))ke_start_stat=kssNOT_KE2;
;;;282    else 
;;;283    	{
;;;284    
;;;285    	ke_start_stat=kssYES;
;;;286    
;;;287    	spc_stat=spcKE;
;;;288    	__ee_spc_stat=spcKE;
;;;289    	lc640_write_int(EE_SPC_STAT,__ee_spc_stat);
;;;290    	
;;;291    	spc_bat=in;
;;;292    	__ee_spc_bat=in;
;;;293    	lc640_write_int(EE_SPC_BAT,__ee_spc_bat);
;;;294    
;;;295    	bat[in]._zar_cnt_ke=0;
;;;296    	lc640_write_int(ADR_EE_BAT_ZAR_CNT_KE[in],0);
;;;297    	
;;;298    	spc_phase=0;
;;;299    	__ee_spc_phase=0;
;;;300    	lc640_write_int(EE_SPC_PHASE,__ee_spc_phase);
;;;301    
;;;302    	//ke_mem_hndl(in,lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat]));
;;;303    
;;;304    		{					
;;;305    		signed short temp_temp;
;;;306    		signed char temp;
;;;307    		temp_temp=bat[in]._u_old[((bat_u_old_cnt+1)&0x07)]; 
;;;308    		    
;;;309    		temp=LPC_RTC->YEAR;
;;;310    		gran_char(&temp,1,99);
;;;311    		*((char*)(&(ke_date[0])))=temp;
;;;312    			
;;;313    		temp=LPC_RTC->MONTH;
;;;314    		gran_char(&temp,1,12);
;;;315    		*(((char*)(&(ke_date[0])))+1)=temp;
;;;316    		
;;;317    		temp=LPC_RTC->DOM;
;;;318    		gran_char(&temp,1,31);
;;;319    		*(((char*)(&(ke_date[0])))+2)=temp;			
;;;320    				
;;;321    		*(((char*)(&(ke_date[0])))+3)=*((char*)&temp_temp);
;;;322    		lc640_write_long(EE_SPC_KE_DATE0,ke_date[0]);
;;;323    
;;;324    		temp=LPC_RTC->HOUR;
;;;325    		gran_char(&temp,0,23);
;;;326    		*((char*)(&(ke_date[1])))=temp;
;;;327                   
;;;328    		temp=LPC_RTC->MIN;
;;;329    		gran_char(&temp,0,59);
;;;330    		*(((char*)(&(ke_date[1])))+1)=temp;
;;;331    	          
;;;332    		temp=LPC_RTC->SEC;
;;;333    		gran_char(&temp,0,59);
;;;334    		*(((char*)(&(ke_date[1])))+2)=temp;
;;;335    			
;;;336    		*(((char*)(&(ke_date[1])))+3)=*(((char*)&temp_temp)+1);
;;;337    		lc640_write_long(EE_SPC_KE_DATE1,ke_date[1]);
;;;338    		}
;;;339    
;;;340    	}
;;;341    }
000034  f9b40000          LDRSH    r0,[r4,#0]  ; av_tbox_cnt
000038  495c              LDR      r1,|L6.428|
00003a  2601              MOVS     r6,#1
00003c  2805              CMP      r0,#5                 ;276
00003e  dd00              BLE      |L6.66|
000040  700e              STRB     r6,[r1,#0]            ;276
                  |L6.66|
000042  2400              MOVS     r4,#0                 ;276
000044  2801              CMP      r0,#1                 ;276
000046  da00              BGE      |L6.74|
000048  700c              STRB     r4,[r1,#0]            ;276
                  |L6.74|
00004a  4959              LDR      r1,|L6.432|
00004c  f9b50000          LDRSH    r0,[r5,#0]            ;277  ; t_box
000050  4a58              LDR      r2,|L6.436|
000052  f9b11000          LDRSH    r1,[r1,#0]            ;277  ; TBOXREG
000056  4f58              LDR      r7,|L6.440|
000058  1e8b              SUBS     r3,r1,#2              ;278
00005a  4298              CMP      r0,r3                 ;278
00005c  da0f              BGE      |L6.126|
00005e  f9921000          LDRSB    r1,[r2,#0]            ;278  ; t_box_cnt
000062  291e              CMP      r1,#0x1e              ;278
000064  da1e              BGE      |L6.164|
000066  f1010101          ADD      r1,r1,#1              ;278
00006a  b249              SXTB     r1,r1                 ;278
00006c  7011              STRB     r1,[r2,#0]
00006e  291e              CMP      r1,#0x1e              ;279
000070  db18              BLT      |L6.164|
000072  8839              LDRH     r1,[r7,#0]            ;279  ; main_vent_pos
000074  f1a10101          SUB      r1,r1,#1              ;279
000078  8039              STRH     r1,[r7,#0]            ;279
00007a  7014              STRB     r4,[r2,#0]
00007c  e012              B        |L6.164|
                  |L6.126|
00007e  4288              CMP      r0,r1                 ;280
000080  dd0f              BLE      |L6.162|
000082  f9921000          LDRSB    r1,[r2,#0]            ;280  ; t_box_cnt
000086  291e              CMP      r1,#0x1e              ;281
000088  da0c              BGE      |L6.164|
00008a  f1010101          ADD      r1,r1,#1              ;281
00008e  b249              SXTB     r1,r1                 ;280
000090  7011              STRB     r1,[r2,#0]            ;280
000092  291e              CMP      r1,#0x1e
000094  db06              BLT      |L6.164|
000096  8839              LDRH     r1,[r7,#0]            ;281  ; main_vent_pos
000098  f1010101          ADD      r1,r1,#1              ;285
00009c  8039              STRH     r1,[r7,#0]            ;285
00009e  7014              STRB     r4,[r2,#0]            ;287
0000a0  e000              B        |L6.164|
                  |L6.162|
0000a2  7014              STRB     r4,[r2,#0]            ;288
                  |L6.164|
0000a4  4945              LDR      r1,|L6.444|
0000a6  f9b11000          LDRSH    r1,[r1,#0]            ;289  ; TBOXVENTMAX
0000aa  4288              CMP      r0,r1                 ;289
0000ac  dd05              BLE      |L6.186|
0000ae  2214              MOVS     r2,#0x14              ;291
0000b0  2100              MOVS     r1,#0                 ;292
0000b2  4841              LDR      r0,|L6.440|
0000b4  f7fffffe          BL       gran
0000b8  e007              B        |L6.202|
                  |L6.186|
0000ba  4841              LDR      r0,|L6.448|
0000bc  2100              MOVS     r1,#0                 ;293
0000be  8800              LDRH     r0,[r0,#0]            ;295  ; pos_vent
0000c0  3009              ADDS     r0,r0,#9              ;296
0000c2  b202              SXTH     r2,r0                 ;296
0000c4  483c              LDR      r0,|L6.440|
0000c6  f7fffffe          BL       gran
                  |L6.202|
0000ca  20f0              MOVS     r0,#0xf0              ;296
0000cc  f7fffffe          BL       mess_find_unvol
0000d0  b128              CBZ      r0,|L6.222|
0000d2  483c              LDR      r0,|L6.452|
0000d4  6801              LDR      r1,[r0,#0]            ;300  ; mess_data
0000d6  29f1              CMP      r1,#0xf1              ;300
0000d8  d101              BNE      |L6.222|
0000da  6840              LDR      r0,[r0,#4]            ;300  ; mess_data
0000dc  8038              STRH     r0,[r7,#0]            ;307
                  |L6.222|
0000de  f9b71000          LDRSH    r1,[r7,#0]            ;307  ; main_vent_pos
0000e2  4839              LDR      r0,|L6.456|
0000e4  2901              CMP      r1,#1                 ;307
0000e6  dc01              BGT      |L6.236|
0000e8  7006              STRB     r6,[r0,#0]            ;307
0000ea  e000              B        |L6.238|
                  |L6.236|
0000ec  7004              STRB     r4,[r0,#0]            ;307
                  |L6.238|
0000ee  4837              LDR      r0,|L6.460|
0000f0  f8df80dc          LDR      r8,|L6.464|
0000f4  f9b00000          LDRSH    r0,[r0,#0]            ;309  ; TBATDISABLE
0000f8  f1a00132          SUB      r1,r0,#0x32           ;310
0000fc  2928              CMP      r1,#0x28              ;310
0000fe  d821              BHI      |L6.324|
000100  f9b51000          LDRSH    r1,[r5,#0]            ;310  ; t_box
000104  4f33              LDR      r7,|L6.468|
000106  4281              CMP      r1,r0                 ;311
000108  dd03              BLE      |L6.274|
00010a  8838              LDRH     r0,[r7,#0]            ;311  ; tbatdisable_cnt
00010c  f1000001          ADD      r0,r0,#1              ;311
000110  8038              STRH     r0,[r7,#0]            ;313
                  |L6.274|
000112  4831              LDR      r0,|L6.472|
000114  f9b00000          LDRSH    r0,[r0,#0]            ;314  ; TBATENABLE
000118  4281              CMP      r1,r0                 ;314
00011a  da03              BGE      |L6.292|
00011c  8838              LDRH     r0,[r7,#0]            ;315  ; tbatdisable_cnt
00011e  f1a00001          SUB      r0,r0,#1              ;315
000122  8038              STRH     r0,[r7,#0]            ;317
                  |L6.292|
000124  2206              MOVS     r2,#6                 ;317
000126  2100              MOVS     r1,#0                 ;318
000128  482a              LDR      r0,|L6.468|
00012a  f7fffffe          BL       gran
00012e  f9b70000          LDRSH    r0,[r7,#0]            ;318  ; tbatdisable_cnt
000132  2805              CMP      r0,#5                 ;319
000134  dd01              BLE      |L6.314|
000136  f8886000          STRB     r6,[r8,#0]            ;321
                  |L6.314|
00013a  2801              CMP      r0,#1                 ;321
00013c  da04              BGE      |L6.328|
00013e  f8884000          STRB     r4,[r8,#0]            ;322
000142  e001              B        |L6.328|
                  |L6.324|
000144  f8884000          STRB     r4,[r8,#0]            ;322
                  |L6.328|
000148  4824              LDR      r0,|L6.476|
00014a  4f25              LDR      r7,|L6.480|
00014c  f9b00000          LDRSH    r0,[r0,#0]            ;325  ; TLOADDISABLE
000150  f1a00132          SUB      r1,r0,#0x32           ;325
000154  291e              CMP      r1,#0x1e              ;326
000156  d820              BHI      |L6.410|
000158  f9b51000          LDRSH    r1,[r5,#0]            ;326  ; t_box
00015c  4d21              LDR      r5,|L6.484|
00015e  4281              CMP      r1,r0                 ;329
000160  dd03              BLE      |L6.362|
000162  8828              LDRH     r0,[r5,#0]            ;329  ; tloaddisable_cnt
000164  f1000001          ADD      r0,r0,#1              ;329
000168  8028              STRH     r0,[r5,#0]            ;330
                  |L6.362|
00016a  481f              LDR      r0,|L6.488|
00016c  f9b00000          LDRSH    r0,[r0,#0]            ;330  ; TLOADENABLE
000170  4281              CMP      r1,r0                 ;332
000172  da03              BGE      |L6.380|
000174  8828              LDRH     r0,[r5,#0]            ;333  ; tloaddisable_cnt
000176  f1a00001          SUB      r0,r0,#1              ;333
00017a  8028              STRH     r0,[r5,#0]            ;333
                  |L6.380|
00017c  2206              MOVS     r2,#6                 ;334
00017e  2100              MOVS     r1,#0                 ;334
000180  4818              LDR      r0,|L6.484|
000182  f7fffffe          BL       gran
000186  f9b50000          LDRSH    r0,[r5,#0]            ;336  ; tloaddisable_cnt
00018a  2805              CMP      r0,#5                 ;337
00018c  dd00              BLE      |L6.400|
00018e  703e              STRB     r6,[r7,#0]            ;337
                  |L6.400|
000190  2801              CMP      r0,#1                 ;337
000192  da00              BGE      |L6.406|
000194  703c              STRB     r4,[r7,#0]
                  |L6.406|
000196  e8bd81f0          POP      {r4-r8,pc}            ;281
                  |L6.410|
00019a  703c              STRB     r4,[r7,#0]            ;281
00019c  e7fb              B        |L6.406|
;;;342    
                          ENDP

00019e  0000              DCW      0x0000
                  |L6.416|
                          DCD      t_box
                  |L6.420|
                          DCD      TBOXMAX
                  |L6.424|
                          DCD      av_tbox_cnt
                  |L6.428|
                          DCD      av_tbox_stat
                  |L6.432|
                          DCD      TBOXREG
                  |L6.436|
                          DCD      t_box_cnt
                  |L6.440|
                          DCD      main_vent_pos
                  |L6.444|
                          DCD      TBOXVENTMAX
                  |L6.448|
                          DCD      pos_vent
                  |L6.452|
                          DCD      mess_data
                  |L6.456|
                          DCD      mixer_vent_stat
                  |L6.460|
                          DCD      TBATDISABLE
                  |L6.464|
                          DCD      tbatdisable_stat
                  |L6.468|
                          DCD      tbatdisable_cnt
                  |L6.472|
                          DCD      TBATENABLE
                  |L6.476|
                          DCD      TLOADDISABLE
                  |L6.480|
                          DCD      tloaddisable_stat
                  |L6.484|
                          DCD      tloaddisable_cnt
                  |L6.488|
                          DCD      TLOADENABLE

                          AREA ||.bss||, DATA, NOINIT, ALIGN=2

                  adc_buff
                          %        1024
                  adc_buff_
                          %        32
                  main_power_buffer
                          %        32

                          AREA ||area_number.9||, DATA, NOINIT, ALIGN=1

                          EXPORTAS ||area_number.9||, ||.bss||
                  adc_buff_max
                          %        24

                          AREA ||area_number.10||, DATA, NOINIT, ALIGN=1

                          EXPORTAS ||area_number.10||, ||.bss||
                  net_buff
                          %        64

                          AREA ||.constdata||, DATA, READONLY, ALIGN=0

                  sk_buff_KONTUR
000000  0d0b0f0e          DCB      0x0d,0x0b,0x0f,0x0e

                          AREA ||area_number.13||, DATA, READONLY, ALIGN=0

                          EXPORTAS ||area_number.13||, ||.constdata||
                  sk_buff_RSTKM
000000  0d0b0f0e          DCB      0x0d,0x0b,0x0f,0x0e

                          AREA ||area_number.14||, DATA, READONLY, ALIGN=0

                          EXPORTAS ||area_number.14||, ||.constdata||
                  sk_buff_GLONASS
000000  0b0d0f0e          DCB      0x0b,0x0d,0x0f,0x0e

                          AREA ||area_number.15||, DATA, READONLY, ALIGN=0

                          EXPORTAS ||area_number.15||, ||.constdata||
                  sk_buff_3U
000000  0b0d0f0e          DCB      0x0b,0x0d,0x0f,0x0e

                          AREA ||area_number.16||, DATA, READONLY, ALIGN=0

                          EXPORTAS ||area_number.16||, ||.constdata||
                  sk_buff_6U
000000  0b0d0f0e          DCB      0x0b,0x0d,0x0f,0x0e

                          AREA ||area_number.17||, DATA, READONLY, ALIGN=0

                          EXPORTAS ||area_number.17||, ||.constdata||
                  sk_buff_220
000000  0b0d0f0e          DCB      0x0b,0x0d,0x0f,0x0e

                          AREA ||area_number.18||, DATA, READONLY, ALIGN=0

                          EXPORTAS ||area_number.18||, ||.constdata||
                  sk_buff_TELECORE2015
000000  0b0d0f0e          DCB      0x0b,0x0d,0x0f,0x0e

                          AREA ||.data||, DATA, ALIGN=1

                  adc_buff_min
000000  13881388          DCW      0x1388,0x1388
000004  13881388          DCW      0x1388,0x1388
000008  13881388          DCW      0x1388,0x1388
00000c  13881388          DCW      0x1388,0x1388
000010  13881388          DCW      0x1388,0x1388
                          DCDU     0x00000000

                          AREA ||area_number.20||, DATA, ALIGN=1

                          EXPORTAS ||area_number.20||, ||.data||
                  unet_buff_min
000000  1388              DCW      0x1388

                          AREA ||area_number.21||, DATA, ALIGN=0

                          EXPORTAS ||area_number.21||, ||.data||
                  adc_stat
000000  01                DCB      0x01

                          AREA ||area_number.22||, DATA, ALIGN=1

                          EXPORTAS ||area_number.22||, ||.data||
                  bat_ver_cnt
000000  0096              DCW      0x0096

                          AREA ||area_number.23||, DATA, ALIGN=2

                          EXPORTAS ||area_number.23||, ||.data||
                  vent_stat
000000  00                DCB      0x00
                  cntrlStatIsDownCnt
000001  00                DCB      0x00
                  adc_self_ch_cnt
000002  00                DCB      0x00
                  adc_ch_net
000003  00                DCB      0x00
                  adc_ch
000004  00                DCB      0x00
                  adc_ch_cnt
000005  00                DCB      0x00
                  adc_window_flag
000006  00                DCB      0x00
                  ch_cnt0
000007  00                DCB      0x00
                  b1Hz_ch
000008  00                DCB      0x00
                  i
000009  00                DCB      0x00
                  iiii
00000a  00                DCB      0x00
                  bAVG
00000b  00                DCB      0x00
                  avg_num
00000c  00                DCB      0x00
                  kb_full_ver
00000d  00                DCB      0x00
                  kb_start_ips
00000e  00                DCB      0x00
                  num_of_wrks_bps
00000f  00                DCB      0x00
                  num_necc_up
000010  00                DCB      0x00
                  num_necc_down
000011  00                DCB      0x00
                  sh_cnt0
000012  00                DCB      0x00
                  b1Hz_sh
000013  00                DCB      0x00
                  spc_stat
000014  00                DCB      0x00
                  spc_bat
000015  00                DCB      0x00
                  spc_phase
000016  00                DCB      0x00
                  bAVZ
000017  00                DCB      0x00
                  ke_start_stat
000018  00                DCB      0x00
                  numOfForvardBps
000019  00                DCB      0x00
                  numOfForvardBps_old
00001a  00                DCB      0x00
                  numOfForvardBps_minCnt
00001b  00                DCB      0x00
                  bPARALLEL_NOT_ENOUG
00001c  00                DCB      0x00
                  bPARALLEL_ENOUG
00001d  00                DCB      0x00
                  bPARALLEL
00001e  00                DCB      0x00
                  cntrl_hndl_plazma
00001f  00                DCB      0x00
                  vz1_stat
000020  00                DCB      0x00
                  vz1_stat_old
000021  00                DCB      0x00
                  volt_region
000022  00                DCB      0x00
                  vz2_stat
000023  00                DCB      0x00
                  vz2_stat_old
000024  0000              DCB      0x00,0x00
                  cntrl_stat
000026  0258              DCW      0x0258
                  cntrl_stat_old
000028  0258              DCW      0x0258
                  avg_main_cnt
00002a  0014              DCW      0x0014
                  num_necc_block_cnt
00002c  0000              DCB      0x00,0x00
                  net_buff_
00002e  0000              DCB      0x00,0x00
                  adc_result
000030  0000              DCB      0x00,0x00
                  adc_gorb_cnt
000032  0000              DCB      0x00,0x00
                  adc_zero_cnt
000034  0000              DCB      0x00,0x00
                  adc_window_cnt
000036  0000              DCB      0x00,0x00
                  adc_net_buff_cnt
000038  0000              DCB      0x00,0x00
                  plazma_sk
00003a  0000              DCB      0x00,0x00
                  cntrl_stat_new
00003c  0000              DCB      0x00,0x00
                  Ibmax
00003e  0000              DCB      0x00,0x00
                  IZMAX_
000040  0000              DCB      0x00,0x00
                  Ubpsmax
000042  0000              DCB      0x00,0x00
                  samokalibr_cnt
000044  0000              DCB      0x00,0x00
                  main_kb_cnt
000046  0000              DCB      0x00,0x00
                  kb_cnt_1lev
000048  0000              DCB      0x00,0x00
                  kb_cnt_2lev
00004a  0000              DCB      0x00,0x00
                  kb_start
00004c  0000              DCB      0x00,0x00
                  ibat_ips
00004e  0000              DCB      0x00,0x00
                  ibat_ips_
000050  0000              DCB      0x00,0x00
                  bps_on_mask
000052  0000              DCB      0x00,0x00
                  bps_off_mask
000054  0000              DCB      0x00,0x00
                  vz_cnt_s
000056  0000              DCB      0x00,0x00
                  vz_cnt_s_
000058  0000              DCB      0x00,0x00
                  vz_cnt_h
00005a  0000              DCB      0x00,0x00
                  vz_cnt_h_
00005c  0000              DCB      0x00,0x00
                  cnt_end_ke
00005e  0000              DCB      0x00,0x00
                  __ee_vz_cnt
000060  0000              DCB      0x00,0x00
                  __ee_spc_stat
000062  0000              DCB      0x00,0x00
                  __ee_spc_bat
000064  0000              DCB      0x00,0x00
                  __ee_spc_phase
000066  0000              DCB      0x00,0x00
                  cntrl_stat_blok_cnt
000068  0000              DCB      0x00,0x00
                  cntrl_stat_blok_cnt_
00006a  0000              DCB      0x00,0x00
                  numOfForvardBps_hourCnt
00006c  0000              DCB      0x00,0x00
                  vz1_stat_cnt
00006e  0000              DCB      0x00,0x00
                  volt_region_cnt
000070  0000              DCB      0x00,0x00
                  vz2_stat_cnt
000072  0000              DCB      0x00,0x00
                  vz2_stat_ph2_cnt
000074  0000              DCB      0x00,0x00
                  plazma_ica1
000076  0000              DCB      0x00,0x00
                  ibat
                          DCD      0x00000000
                  ibat_
                          DCD      0x00000000
                  i_avg_max
                          DCD      0x00000000
                  i_avg_min
                          DCD      0x00000000
                  i_avg_summ
                          DCD      0x00000000
                  i_avg
                          DCD      0x00000000
                  avg
                          DCD      0x00000000
                  cntrl_stat_blok_cnt_plus
                          DCD      0x00000000
                  cntrl_stat_blok_cnt_minus
                          DCD      0x00000000
                  plazma_inv
                          DCD      0x00000000
                  vz1_wrk_cnt
                          DCD      0x00000000
                  vz1_up_cnt
                          DCD      0x00000000
                  vz2_wrk_cnt
                          DCD      0x00000000
                  vz2_up_cnt
                          DCD      0x00000000
                  net_metr_buff_
                          DCD      0x00000000
0000b4  0000              DCB      0x00,0x00
                  adc_self_ch_buff
0000b6  0000              DCB      0x00,0x00
                          DCD      0x00000000
                  adc_self_ch_disp
                          DCD      0x00000000
0000c0  00000000          DCB      0x00,0x00,0x00,0x00
                  ke_date
                          %        8

                          AREA ||area_number.24||, DATA, ALIGN=0

                          EXPORTAS ||area_number.24||, ||.data||
                  rx_read_power_cnt_phase
000000  0f                DCB      0x0f

                          AREA ||area_number.25||, DATA, ALIGN=1

                          EXPORTAS ||area_number.25||, ||.data||
                  read_power_cnt_main_cnt
000000  0064              DCW      0x0064

                          AREA ||area_number.26||, DATA, ALIGN=0

                          EXPORTAS ||area_number.26||, ||.data||
                  rx_read_power_cnt_plazma
000000  00                DCB      0x00

                          AREA ||area_number.27||, DATA, ALIGN=0

                          EXPORTAS ||area_number.27||, ||.data||
                  rx_read_power_cnt_flag
000000  00                DCB      0x00

                          AREA ||area_number.28||, DATA, ALIGN=0

                          EXPORTAS ||area_number.28||, ||.data||
                  bENERGOMETR_UIP
000000  00                DCB      0x00

                          AREA ||area_number.29||, DATA, ALIGN=1

                          EXPORTAS ||area_number.29||, ||.data||
                  unet_buff_max
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.30||, DATA, ALIGN=0

                          EXPORTAS ||area_number.30||, ||.data||
                  adc_cnt
000000  00                DCB      0x00

                          AREA ||area_number.31||, DATA, ALIGN=0

                          EXPORTAS ||area_number.31||, ||.data||
                  adc_cnt1
000000  00                DCB      0x00

                          AREA ||area_number.32||, DATA, ALIGN=1

                          EXPORTAS ||area_number.32||, ||.data||
                  zero_cnt
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.33||, DATA, ALIGN=0

                          EXPORTAS ||area_number.33||, ||.data||
                  net_buff_cnt
000000  00                DCB      0x00

                          AREA ||area_number.34||, DATA, ALIGN=1

                          EXPORTAS ||area_number.34||, ||.data||
                  ADWR
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.35||, DATA, ALIGN=1

                          EXPORTAS ||area_number.35||, ||.data||
                  period_cnt
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.36||, DATA, ALIGN=1

                          EXPORTAS ||area_number.36||, ||.data||
                  non_zero_cnt
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.37||, DATA, ALIGN=0

                          EXPORTAS ||area_number.37||, ||.data||
                  rele_stat
000000  00                DCB      0x00

                          AREA ||area_number.38||, DATA, ALIGN=0

                          EXPORTAS ||area_number.38||, ||.data||
                  bRELE_OUT
000000  00                DCB      0x00

                          AREA ||area_number.39||, DATA, ALIGN=2

                          EXPORTAS ||area_number.39||, ||.data||
                  main_power_buffer_
                          DCD      0x00000000

                          AREA ||area_number.40||, DATA, ALIGN=1

                          EXPORTAS ||area_number.40||, ||.data||
                  main_power_buffer_cnt
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.41||, DATA, ALIGN=1

                          EXPORTAS ||area_number.41||, ||.data||
                  adc_buff_out_
                          DCDU     0x00000000
000004  0000              DCB      0x00,0x00

                          AREA ||area_number.42||, DATA, ALIGN=1

                          EXPORTAS ||area_number.42||, ||.data||
                  plazma_adc_cnt
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.43||, DATA, ALIGN=0

                          EXPORTAS ||area_number.43||, ||.data||
                  unh_cnt0
000000  00                DCB      0x00

                          AREA ||area_number.44||, DATA, ALIGN=0

                          EXPORTAS ||area_number.44||, ||.data||
                  unh_cnt1
000000  00                DCB      0x00

                          AREA ||area_number.45||, DATA, ALIGN=0

                          EXPORTAS ||area_number.45||, ||.data||
                  b1Hz_unh
000000  00                DCB      0x00

                          AREA ||area_number.46||, DATA, ALIGN=0

                          EXPORTAS ||area_number.46||, ||.data||
                  ch_cnt1
000000  00                DCB      0x00

                          AREA ||area_number.47||, DATA, ALIGN=0

                          EXPORTAS ||area_number.47||, ||.data||
                  b1_30Hz_ch
000000  00                DCB      0x00

                          AREA ||area_number.48||, DATA, ALIGN=0

                          EXPORTAS ||area_number.48||, ||.data||
                  ch_cnt2
000000  00                DCB      0x00

                          AREA ||area_number.49||, DATA, ALIGN=0

                          EXPORTAS ||area_number.49||, ||.data||
                  b1_10Hz_ch
000000  00                DCB      0x00

                          AREA ||area_number.50||, DATA, ALIGN=1

                          EXPORTAS ||area_number.50||, ||.data||
                  IZMAX_70
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.51||, DATA, ALIGN=1

                          EXPORTAS ||area_number.51||, ||.data||
                  IZMAX_130
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.52||, DATA, ALIGN=1

                          EXPORTAS ||area_number.52||, ||.data||
                  cntrl_stat_blck_cnt
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.53||, DATA, ALIGN=0

                          EXPORTAS ||area_number.53||, ||.data||
                  avg_cnt
000000  00                DCB      0x00

                          AREA ||area_number.54||, DATA, ALIGN=0

                          EXPORTAS ||area_number.54||, ||.data||
                  bps_all_off_cnt
000000  00                DCB      0x00

                          AREA ||area_number.55||, DATA, ALIGN=0

                          EXPORTAS ||area_number.55||, ||.data||
                  bps_mask_off_cnt
000000  00                DCB      0x00

                          AREA ||area_number.56||, DATA, ALIGN=0

                          EXPORTAS ||area_number.56||, ||.data||
                  bps_mask_on_off_cnt
000000  00                DCB      0x00

                          AREA ||area_number.57||, DATA, ALIGN=0

                          EXPORTAS ||area_number.57||, ||.data||
                  bps_hndl_2sec_cnt
000000  00                DCB      0x00

                          AREA ||area_number.58||, DATA, ALIGN=0

                          EXPORTAS ||area_number.58||, ||.data||
                  plazma_bat
000000  00                DCB      0x00

                          AREA ||area_number.59||, DATA, ALIGN=0

                          EXPORTAS ||area_number.59||, ||.data||
                  plazma_cntrl_stat
000000  00                DCB      0x00

                          AREA ||area_number.60||, DATA, ALIGN=1

                          EXPORTAS ||area_number.60||, ||.data||
                  ce102m_delayCnt
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.61||, DATA, ALIGN=1

                          EXPORTAS ||area_number.61||, ||.data||
                  volta_short
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.62||, DATA, ALIGN=1

                          EXPORTAS ||area_number.62||, ||.data||
                  curr_short
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.63||, DATA, ALIGN=2

                          EXPORTAS ||area_number.63||, ||.data||
                  power_int
                          DCD      0x00000000

                          AREA ||area_number.64||, DATA, ALIGN=1

                          EXPORTAS ||area_number.64||, ||.data||
                  plazma_ica2
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.65||, DATA, ALIGN=0

                          EXPORTAS ||area_number.65||, ||.data||
                  rele_hndl_plazma
000000  000000            DCB      0x00,0x00,0x00
