; generated by ARM C/C++ Compiler, 4.1 [Build 644]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\EXE\control.o --asm_dir=.\ --list_dir=.\ --depend=.\EXE\control.d --feedback=.\EXE\UKU_220_IPS_TERMOKOMPENSAT.fed --cpu=Cortex-M3 --apcs=interwork -O1 -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\INC\NXP\LPC17xx -D__MICROLIB -DUKU_220_IPS_TERMOKOMPENSAT -DUKU2071x --omf_browse=.\EXE\control.crf control.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  ke_start PROC
;;;214    //-----------------------------------------------
;;;215    void ke_start(char in)
000000  e92d41fc          PUSH     {r2-r8,lr}
;;;216    {          
000004  4604              MOV      r4,r0
;;;217    ke_start_stat=(enum_ke_start_stat)0;		 
000006  4efe              LDR      r6,|L1.1024|
000008  f04f0700          MOV      r7,#0
00000c  75f7              STRB     r7,[r6,#0x17]
;;;218    
;;;219    if(spc_stat==spcVZ)ke_start_stat=kssNOT_VZ;
00000e  7cf0              LDRB     r0,[r6,#0x13]  ; spc_stat
000010  f04f0301          MOV      r3,#1
000014  2802              CMP      r0,#2
000016  d008              BEQ      |L1.42|
;;;220    else if(BAT_IS_ON[in]!=bisON)ke_start_stat=kssNOT_BAT;
000018  49fa              LDR      r1,|L1.1028|
00001a  5d09              LDRB     r1,[r1,r4]
00001c  2955              CMP      r1,#0x55
00001e  d006              BEQ      |L1.46|
000020  f04f0065          MOV      r0,#0x65
000024  75f0              STRB     r0,[r6,#0x17]
                  |L1.38|
;;;221    else if(bat[in]._av&(1<<0))ke_start_stat=kssNOT_BAT_AV;
;;;222    else if(bat[in]._temper_stat&(1<<1))ke_start_stat=kssNOT_BAT_AV_T;
;;;223    else if(bat[in]._av&(1<<1))ke_start_stat=kssNOT_BAT_AV_ASS;
;;;224    else if(bat[in]._Ib>IKB)ke_start_stat=kssNOT_BAT_ZAR;
;;;225    else if(bat[in]._Ib<-IKB)ke_start_stat=kssNOT_BAT_RAZR;
;;;226    else if((spc_stat==spcKE)&&(spc_bat==0))ke_start_stat=kssNOT_KE1;
;;;227    else if((spc_stat==spcKE)&&(spc_bat==1))ke_start_stat=kssNOT_KE2;
;;;228    else 
;;;229    	{
;;;230    
;;;231    	ke_start_stat=kssYES;
;;;232    
;;;233    	spc_stat=spcKE;
;;;234    	__ee_spc_stat=spcKE;
;;;235    	lc640_write_int(EE_SPC_STAT,__ee_spc_stat);
;;;236    	
;;;237    	spc_bat=in;
;;;238    	__ee_spc_bat=in;
;;;239    	lc640_write_int(EE_SPC_BAT,__ee_spc_bat);
;;;240    
;;;241    	bat[in]._zar_cnt_ke=0;
;;;242    	lc640_write_int(ADR_EE_BAT_ZAR_CNT_KE[in],0);
;;;243    	
;;;244    	spc_phase=0;
;;;245    	__ee_spc_phase=0;
;;;246    	lc640_write_int(EE_SPC_PHASE,__ee_spc_phase);
;;;247    
;;;248    	//ke_mem_hndl(in,lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat]));
;;;249    
;;;250    		{					
;;;251    		signed short temp_temp;
;;;252    		signed char temp;
;;;253    		temp_temp=bat[in]._u_old[((bat_u_old_cnt+1)&0x07)]; 
;;;254    		    
;;;255    		temp=LPC_RTC->YEAR;
;;;256    		gran_char(&temp,1,99);
;;;257    		*((char*)(&(ke_date[0])))=temp;
;;;258    			
;;;259    		temp=LPC_RTC->MONTH;
;;;260    		gran_char(&temp,1,12);
;;;261    		*(((char*)(&(ke_date[0])))+1)=temp;
;;;262    		
;;;263    		temp=LPC_RTC->DOM;
;;;264    		gran_char(&temp,1,31);
;;;265    		*(((char*)(&(ke_date[0])))+2)=temp;			
;;;266    				
;;;267    		*(((char*)(&(ke_date[0])))+3)=*((char*)&temp_temp);
;;;268    		lc640_write_long(EE_SPC_KE_DATE0,ke_date[0]);
;;;269    
;;;270    		temp=LPC_RTC->HOUR;
;;;271    		gran_char(&temp,0,23);
;;;272    		*((char*)(&(ke_date[1])))=temp;
;;;273                   
;;;274    		temp=LPC_RTC->MIN;
;;;275    		gran_char(&temp,0,59);
;;;276    		*(((char*)(&(ke_date[1])))+1)=temp;
;;;277    	          
;;;278    		temp=LPC_RTC->SEC;
;;;279    		gran_char(&temp,0,59);
;;;280    		*(((char*)(&(ke_date[1])))+2)=temp;
;;;281    			
;;;282    		*(((char*)(&(ke_date[1])))+3)=*(((char*)&temp_temp)+1);
;;;283    		lc640_write_long(EE_SPC_KE_DATE1,ke_date[1]);
;;;284    		}
;;;285    
;;;286    	}
;;;287    }
000026  e8bd81fc          POP      {r2-r8,pc}
                  |L1.42|
00002a  75f3              STRB     r3,[r6,#0x17]         ;219
00002c  e7fb              B        |L1.38|
                  |L1.46|
00002e  eb040144          ADD      r1,r4,r4,LSL #1       ;221
000032  eb011204          ADD      r2,r1,r4,LSL #4       ;221
000036  49f4              LDR      r1,|L1.1032|
000038  eb010582          ADD      r5,r1,r2,LSL #2       ;221
00003c  f895103d          LDRB     r1,[r5,#0x3d]         ;221
000040  07ca              LSLS     r2,r1,#31             ;221
000042  d003              BEQ      |L1.76|
000044  f04f0066          MOV      r0,#0x66              ;221
000048  75f0              STRB     r0,[r6,#0x17]         ;221
00004a  e7ec              B        |L1.38|
                  |L1.76|
00004c  f895203f          LDRB     r2,[r5,#0x3f]         ;222
000050  0792              LSLS     r2,r2,#30             ;222
000052  d503              BPL      |L1.92|
000054  f04f0067          MOV      r0,#0x67              ;222
000058  75f0              STRB     r0,[r6,#0x17]         ;222
00005a  e7e4              B        |L1.38|
                  |L1.92|
00005c  0789              LSLS     r1,r1,#30             ;223
00005e  d503              BPL      |L1.104|
000060  f04f0068          MOV      r0,#0x68              ;223
000064  75f0              STRB     r0,[r6,#0x17]         ;223
000066  e7de              B        |L1.38|
                  |L1.104|
000068  4ae8              LDR      r2,|L1.1036|
00006a  f9b51008          LDRSH    r1,[r5,#8]            ;224
00006e  f9b22000          LDRSH    r2,[r2,#0]            ;224  ; IKB
000072  4291              CMP      r1,r2                 ;224
000074  dd03              BLE      |L1.126|
000076  f04f0069          MOV      r0,#0x69              ;224
00007a  75f0              STRB     r0,[r6,#0x17]         ;224
00007c  e7d3              B        |L1.38|
                  |L1.126|
00007e  4252              RSBS     r2,r2,#0              ;225
000080  4291              CMP      r1,r2                 ;225
000082  da03              BGE      |L1.140|
000084  f04f006a          MOV      r0,#0x6a              ;225
000088  75f0              STRB     r0,[r6,#0x17]         ;225
00008a  e7cc              B        |L1.38|
                  |L1.140|
00008c  49dc              LDR      r1,|L1.1024|
00008e  2801              CMP      r0,#1                 ;226
000090  7d09              LDRB     r1,[r1,#0x14]         ;226
000092  d100              BNE      |L1.150|
000094  b111              CBZ      r1,|L1.156|
                  |L1.150|
000096  2801              CMP      r0,#1                 ;227
000098  d004              BEQ      |L1.164|
00009a  e005              B        |L1.168|
                  |L1.156|
00009c  f04f006b          MOV      r0,#0x6b              ;226
0000a0  75f0              STRB     r0,[r6,#0x17]         ;226
0000a2  e7c0              B        |L1.38|
                  |L1.164|
0000a4  2901              CMP      r1,#1                 ;227
0000a6  d07e              BEQ      |L1.422|
                  |L1.168|
0000a8  f04f0064          MOV      r0,#0x64              ;231
0000ac  75f0              STRB     r0,[r6,#0x17]         ;231
0000ae  74f3              STRB     r3,[r6,#0x13]         ;233
0000b0  f8a63054          STRH     r3,[r6,#0x54]         ;234
0000b4  4619              MOV      r1,r3                 ;235
0000b6  f44f70f8          MOV      r0,#0x1f0             ;235
0000ba  f7fffffe          BL       lc640_write_int
0000be  7534              STRB     r4,[r6,#0x14]         ;237
0000c0  f8a64056          STRH     r4,[r6,#0x56]         ;238
0000c4  4621              MOV      r1,r4                 ;239
0000c6  f44f70fa          MOV      r0,#0x1f4             ;239
0000ca  f7fffffe          BL       lc640_write_int
0000ce  61af              STR      r7,[r5,#0x18]         ;241
0000d0  48cf              LDR      r0,|L1.1040|
0000d2  2100              MOVS     r1,#0                 ;242
0000d4  f9300014          LDRSH    r0,[r0,r4,LSL #1]     ;242
0000d8  f7fffffe          BL       lc640_write_int
0000dc  7577              STRB     r7,[r6,#0x15]         ;244
0000de  f8a67058          STRH     r7,[r6,#0x58]         ;245
0000e2  4639              MOV      r1,r7                 ;246
0000e4  f44f70fb          MOV      r0,#0x1f6             ;246
0000e8  f7fffffe          BL       lc640_write_int
0000ec  48c9              LDR      r0,|L1.1044|
0000ee  8800              LDRH     r0,[r0,#0]            ;253  ; bat_u_old_cnt
0000f0  f1000001          ADD      r0,r0,#1              ;253
0000f4  f0000007          AND      r0,r0,#7              ;253
0000f8  eb050040          ADD      r0,r5,r0,LSL #1       ;253
0000fc  8c00              LDRH     r0,[r0,#0x20]         ;253
0000fe  9001              STR      r0,[sp,#4]            ;253
000100  4dc5              LDR      r5,|L1.1048|
000102  8ba8              LDRH     r0,[r5,#0x1c]         ;255
000104  9000              STR      r0,[sp,#0]            ;255
000106  f04f0263          MOV      r2,#0x63              ;256
00010a  f04f0101          MOV      r1,#1                 ;256
00010e  4668              MOV      r0,sp                 ;256
000110  f7fffffe          BL       gran_char
000114  4cba              LDR      r4,|L1.1024|
000116  f89d0000          LDRB     r0,[sp,#0]            ;257
00011a  349c              ADDS     r4,r4,#0x9c           ;257
00011c  7020              STRB     r0,[r4,#0]            ;257
00011e  7e28              LDRB     r0,[r5,#0x18]         ;259
000120  9000              STR      r0,[sp,#0]            ;259
000122  220c              MOVS     r2,#0xc               ;260
000124  2101              MOVS     r1,#1                 ;260
000126  4668              MOV      r0,sp                 ;260
000128  f7fffffe          BL       gran_char
00012c  f89d0000          LDRB     r0,[sp,#0]            ;261
000130  7060              STRB     r0,[r4,#1]            ;261
000132  7b28              LDRB     r0,[r5,#0xc]          ;263
000134  9000              STR      r0,[sp,#0]            ;263
000136  221f              MOVS     r2,#0x1f              ;264
000138  2101              MOVS     r1,#1                 ;264
00013a  4668              MOV      r0,sp                 ;264
00013c  f7fffffe          BL       gran_char
000140  f89d0000          LDRB     r0,[sp,#0]            ;265
000144  70a0              STRB     r0,[r4,#2]            ;265
000146  f89d0004          LDRB     r0,[sp,#4]            ;267
00014a  70e0              STRB     r0,[r4,#3]            ;267
00014c  f44f70fc          MOV      r0,#0x1f8             ;268
000150  6821              LDR      r1,[r4,#0]            ;268  ; ke_date
000152  f7fffffe          BL       lc640_write_long
000156  7a28              LDRB     r0,[r5,#8]            ;270
000158  9000              STR      r0,[sp,#0]            ;270
00015a  2217              MOVS     r2,#0x17              ;271
00015c  2100              MOVS     r1,#0                 ;271
00015e  4668              MOV      r0,sp                 ;271
000160  f7fffffe          BL       gran_char
000164  f89d0000          LDRB     r0,[sp,#0]            ;272
000168  7120              STRB     r0,[r4,#4]            ;272
00016a  7928              LDRB     r0,[r5,#4]            ;274
00016c  9000              STR      r0,[sp,#0]            ;274
00016e  223b              MOVS     r2,#0x3b              ;275
000170  2100              MOVS     r1,#0                 ;275
000172  4668              MOV      r0,sp                 ;275
000174  f7fffffe          BL       gran_char
000178  f89d0000          LDRB     r0,[sp,#0]            ;276
00017c  7160              STRB     r0,[r4,#5]            ;276
00017e  7828              LDRB     r0,[r5,#0]            ;278
000180  9000              STR      r0,[sp,#0]            ;278
000182  223b              MOVS     r2,#0x3b              ;279
000184  2100              MOVS     r1,#0                 ;279
000186  4668              MOV      r0,sp                 ;279
000188  f7fffffe          BL       gran_char
00018c  f89d0000          LDRB     r0,[sp,#0]            ;280
000190  71a0              STRB     r0,[r4,#6]            ;280
000192  f89d0005          LDRB     r0,[sp,#5]            ;282
000196  71e0              STRB     r0,[r4,#7]            ;282
000198  f44f70fe          MOV      r0,#0x1fc             ;283
00019c  6861              LDR      r1,[r4,#4]            ;283  ; ke_date
00019e  f7fffffe          BL       lc640_write_long
0001a2  e740              B        |L1.38|
0001a4  e7ff              B        |L1.422|
                  |L1.422|
0001a6  f04f006c          MOV      r0,#0x6c              ;227
0001aa  75f0              STRB     r0,[r6,#0x17]         ;227
0001ac  e73b              B        |L1.38|
;;;288    
                          ENDP

                  ke_drv PROC
;;;289    //-----------------------------------------------
;;;290    void ke_drv(void)
0001ae  e92d47f0          PUSH     {r4-r10,lr}
;;;291    {
;;;292    
;;;293    if(spc_stat==spcKE)
0001b2  4c93              LDR      r4,|L1.1024|
0001b4  7ce0              LDRB     r0,[r4,#0x13]  ; spc_stat
0001b6  2801              CMP      r0,#1
0001b8  d17d              BNE      |L1.694|
0001ba  4621              MOV      r1,r4
0001bc  2601              MOVS     r6,#1
;;;294    	{
;;;295    	if(spc_phase==0)
;;;296    		{
;;;297    		mess_send(MESS2BAT_HNDL,PARAM_BAT_MASK_OFF_AFTER_2SEC,(1<<(1-spc_bat)),20);
0001be  7d09              LDRB     r1,[r1,#0x14]
0001c0  7d60              LDRB     r0,[r4,#0x15]         ;295  ; spc_phase
0001c2  f1c10201          RSB      r2,r1,#1
0001c6  fa06f102          LSL      r1,r6,r2
;;;298    		mess_send(MESS2BPS_HNDL,PARAM_BPS_ALL_OFF_AFTER_2SEC,0xffff,20);
;;;299    
;;;300    		bat[spc_bat]._zar_cnt_ke+=abs(bat[spc_bat]._Ib);
;;;301    	    	
;;;302    		if(bat[spc_bat]._zar_cnt_ke>=AH_CONSTANT)
;;;303    			{
;;;304    			bat[spc_bat]._zar_cnt_ke-=AH_CONSTANT;
;;;305    			lc640_write_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat],lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat])+1);
0001ca  4f91              LDR      r7,|L1.1040|
0001cc  4d8e              LDR      r5,|L1.1032|
0001ce  b20a              SXTH     r2,r1                 ;297
0001d0  b110              CBZ      r0,|L1.472|
;;;306    			}
;;;307    		}
;;;308    
;;;309    	else if(spc_phase==1)
0001d2  2801              CMP      r0,#1
0001d4  d034              BEQ      |L1.576|
0001d6  e038              B        |L1.586|
                  |L1.472|
0001d8  2314              MOVS     r3,#0x14              ;297
0001da  21ca              MOVS     r1,#0xca              ;297
0001dc  20c8              MOVS     r0,#0xc8              ;297
0001de  f7fffffe          BL       mess_send
0001e2  2314              MOVS     r3,#0x14              ;298
0001e4  f04f32ff          MOV      r2,#0xffffffff        ;298
0001e8  21ce              MOVS     r1,#0xce              ;298
0001ea  20cd              MOVS     r0,#0xcd              ;298
0001ec  f7fffffe          BL       mess_send
0001f0  7d20              LDRB     r0,[r4,#0x14]         ;300  ; spc_bat
0001f2  eb000140          ADD      r1,r0,r0,LSL #1       ;300
0001f6  eb011000          ADD      r0,r1,r0,LSL #4       ;300
0001fa  eb050080          ADD      r0,r5,r0,LSL #2       ;300
0001fe  f9b00008          LDRSH    r0,[r0,#8]            ;300
000202  f7fffffe          BL       abs
000206  7d21              LDRB     r1,[r4,#0x14]         ;300  ; spc_bat
000208  eb010241          ADD      r2,r1,r1,LSL #1       ;300
00020c  eb021201          ADD      r2,r2,r1,LSL #4       ;300
000210  eb050282          ADD      r2,r5,r2,LSL #2       ;300
000214  6993              LDR      r3,[r2,#0x18]         ;300
000216  4418              ADD      r0,r0,r3              ;300
000218  6190              STR      r0,[r2,#0x18]         ;300
00021a  f64843a0          MOV      r3,#0x8ca0            ;302
00021e  4298              CMP      r0,r3                 ;302
000220  db13              BLT      |L1.586|
000222  eba00003          SUB      r0,r0,r3              ;304
000226  6190              STR      r0,[r2,#0x18]         ;304
000228  f8370011          LDRH     r0,[r7,r1,LSL #1]     ;305
00022c  f7fffffe          BL       lc640_read_int
000230  1c40              ADDS     r0,r0,#1              ;305
000232  b201              SXTH     r1,r0                 ;305
000234  7d20              LDRB     r0,[r4,#0x14]         ;305  ; spc_bat
000236  f9370010          LDRSH    r0,[r7,r0,LSL #1]     ;305
00023a  f7fffffe          BL       lc640_write_int
00023e  e004              B        |L1.586|
                  |L1.576|
;;;310    		{
;;;311    		mess_send(MESS2BAT_HNDL,PARAM_BAT_MASK_OFF_AFTER_2SEC,(1<<(1-spc_bat)),20);
000240  2314              MOVS     r3,#0x14
000242  21ca              MOVS     r1,#0xca
000244  20c8              MOVS     r0,#0xc8
000246  f7fffffe          BL       mess_send
                  |L1.586|
;;;312    		}
;;;313    
;;;314    	if(bat[spc_bat]._Ub<(USIGN*10))
00024a  7d21              LDRB     r1,[r4,#0x14]  ; spc_bat
;;;315    		{
;;;316    		cnt_end_ke++;
;;;317    		if(cnt_end_ke>=30)
;;;318    			{
;;;319    			
;;;320    			if((spc_stat==spcKE)&&(spc_phase==0))
;;;321    				{
;;;322    				lc640_write_int(ADR_EE_BAT_C_REAL[spc_bat],lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat]));
;;;323    				ke_mem_hndl(spc_bat,lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat]));
;;;324    				lc640_write_int(ADR_EE_BAT_ZAR_CNT[spc_bat],0);
;;;325    				cntrl_stat=50;
;;;326    				cntrl_stat_old=50;
;;;327    				}
;;;328    
;;;329    			if((BAT_IS_ON[1-spc_bat]) == bisON)
;;;330    				{
;;;331    				spc_phase=1;
;;;332    				__ee_spc_phase=1;
;;;333    				lc640_write_int(EE_SPC_PHASE,1);
;;;334    				}			
;;;335    			else
;;;336    				{
;;;337    				spc_stat=spcOFF;
;;;338    				__ee_spc_stat=spcOFF;
;;;339    				lc640_write_int(EE_SPC_STAT,spcOFF);
00024c  f44f79f8          MOV      r9,#0x1f0
000250  eb010041          ADD      r0,r1,r1,LSL #1       ;314
000254  eb001001          ADD      r0,r0,r1,LSL #4       ;314
000258  eb050080          ADD      r0,r5,r0,LSL #2       ;314
00025c  f04f0800          MOV      r8,#0                 ;295
000260  f9b02002          LDRSH    r2,[r0,#2]            ;314
000264  486d              LDR      r0,|L1.1052|
000266  f9b00000          LDRSH    r0,[r0,#0]            ;314  ; USIGN
00026a  eb000080          ADD      r0,r0,r0,LSL #2       ;314
00026e  ebb20f40          CMP      r2,r0,LSL #1          ;314
000272  da47              BGE      |L1.772|
000274  f8b40050          LDRH     r0,[r4,#0x50]         ;316  ; cnt_end_ke
000278  f1000001          ADD      r0,r0,#1              ;316
00027c  b200              SXTH     r0,r0                 ;316
00027e  f8a40050          STRH     r0,[r4,#0x50]         ;316
000282  281e              CMP      r0,#0x1e              ;317
000284  db40              BLT      |L1.776|
000286  7ce0              LDRB     r0,[r4,#0x13]         ;320  ; spc_stat
000288  2801              CMP      r0,#1                 ;320
00028a  d122              BNE      |L1.722|
00028c  7d60              LDRB     r0,[r4,#0x15]         ;320  ; spc_phase
00028e  bb00              CBNZ     r0,|L1.722|
000290  f8370011          LDRH     r0,[r7,r1,LSL #1]     ;322
000294  f7fffffe          BL       lc640_read_int
000298  b201              SXTH     r1,r0                 ;322
00029a  4861              LDR      r0,|L1.1056|
00029c  7d22              LDRB     r2,[r4,#0x14]         ;322  ; spc_bat
00029e  f9300012          LDRSH    r0,[r0,r2,LSL #1]     ;322
0002a2  f7fffffe          BL       lc640_write_int
0002a6  7d20              LDRB     r0,[r4,#0x14]         ;323  ; spc_bat
0002a8  f8370010          LDRH     r0,[r7,r0,LSL #1]     ;323
0002ac  f7fffffe          BL       lc640_read_int
0002b0  b281              UXTH     r1,r0                 ;323
0002b2  7d20              LDRB     r0,[r4,#0x14]         ;323  ; spc_bat
0002b4  e000              B        |L1.696|
                  |L1.694|
0002b6  e049              B        |L1.844|
                  |L1.696|
0002b8  f7fffffe          BL       ke_mem_hndl
0002bc  4859              LDR      r0,|L1.1060|
0002be  7d21              LDRB     r1,[r4,#0x14]         ;324  ; spc_bat
0002c0  f9300011          LDRSH    r0,[r0,r1,LSL #1]     ;324
0002c4  2100              MOVS     r1,#0                 ;324
0002c6  f7fffffe          BL       lc640_write_int
0002ca  f04f0032          MOV      r0,#0x32              ;325
0002ce  8360              STRH     r0,[r4,#0x1a]         ;325
0002d0  83a0              STRH     r0,[r4,#0x1c]         ;326
                  |L1.722|
0002d2  7d20              LDRB     r0,[r4,#0x14]         ;329  ; spc_bat
0002d4  494b              LDR      r1,|L1.1028|
0002d6  f1c00001          RSB      r0,r0,#1              ;329
0002da  5c08              LDRB     r0,[r1,r0]            ;329
0002dc  2855              CMP      r0,#0x55              ;329
0002de  d008              BEQ      |L1.754|
0002e0  f8848013          STRB     r8,[r4,#0x13]         ;337
0002e4  f8a48054          STRH     r8,[r4,#0x54]         ;338
0002e8  2100              MOVS     r1,#0
0002ea  4648              MOV      r0,r9
0002ec  f7fffffe          BL       lc640_write_int
0002f0  e00a              B        |L1.776|
                  |L1.754|
0002f2  7566              STRB     r6,[r4,#0x15]         ;331
0002f4  f8a46058          STRH     r6,[r4,#0x58]         ;332
0002f8  2101              MOVS     r1,#1                 ;333
0002fa  f44f70fb          MOV      r0,#0x1f6             ;333
0002fe  f7fffffe          BL       lc640_write_int
000302  e001              B        |L1.776|
                  |L1.772|
;;;340    				}
;;;341    			}
;;;342    		}
;;;343    	else cnt_end_ke=0;
000304  f8a48050          STRH     r8,[r4,#0x50]
                  |L1.776|
;;;344    
;;;345    	if((bat[spc_bat]._Ub>=bat[1-spc_bat]._Ub)&&(spc_phase==1))
000308  7d21              LDRB     r1,[r4,#0x14]  ; spc_bat
00030a  eb010041          ADD      r0,r1,r1,LSL #1
00030e  eb001001          ADD      r0,r0,r1,LSL #4
000312  eb050080          ADD      r0,r5,r0,LSL #2
000316  f9b02002          LDRSH    r2,[r0,#2]
00031a  f1c10001          RSB      r0,r1,#1
00031e  eb000140          ADD      r1,r0,r0,LSL #1
000322  eb011000          ADD      r0,r1,r0,LSL #4
000326  eb050080          ADD      r0,r5,r0,LSL #2
00032a  f9b00002          LDRSH    r0,[r0,#2]
00032e  4282              CMP      r2,r0
000330  db0c              BLT      |L1.844|
000332  7d60              LDRB     r0,[r4,#0x15]  ; spc_phase
000334  2801              CMP      r0,#1
000336  d109              BNE      |L1.844|
;;;346    		{
;;;347    		spc_stat=spcOFF;
000338  f8848013          STRB     r8,[r4,#0x13]
;;;348    		__ee_spc_stat=spcOFF;
00033c  f8a48054          STRH     r8,[r4,#0x54]
;;;349    		lc640_write_int(EE_SPC_STAT,spcOFF);
000340  4648              MOV      r0,r9
000342  e8bd47f0          POP      {r4-r10,lr}
000346  2100              MOVS     r1,#0
000348  f7ffbffe          B.W      lc640_write_int
                  |L1.844|
;;;350    		}
;;;351    	}
;;;352    			
;;;353    }
00034c  e8bd87f0          POP      {r4-r10,pc}
;;;354    
                          ENDP

                  vz_start PROC
;;;355    //-----------------------------------------------
;;;356    char vz_start(char hour)
000350  b570              PUSH     {r4-r6,lr}
;;;357    {          
000352  4605              MOV      r5,r0
;;;358    char out;
;;;359    out=0;
000354  f04f0600          MOV      r6,#0
;;;360    if(spc_stat==spcOFF)
000358  4c29              LDR      r4,|L1.1024|
00035a  7ce0              LDRB     r0,[r4,#0x13]  ; spc_stat
00035c  bb18              CBNZ     r0,|L1.934|
;;;361    	{
;;;362    	spc_stat=spcVZ;
00035e  f1040416          ADD      r4,r4,#0x16
000362  f04f0102          MOV      r1,#2
000366  f8041c03          STRB     r1,[r4,#-3]
;;;363    	__ee_spc_stat=spcVZ; 
00036a  87e1              STRH     r1,[r4,#0x3e]
;;;364    	lc640_write_int(EE_SPC_STAT,__ee_spc_stat);   
00036c  f44f70f8          MOV      r0,#0x1f0
000370  f7fffffe          BL       lc640_write_int
;;;365    	vz_cnt_h=hour;
000374  86e5              STRH     r5,[r4,#0x36]
;;;366    	__ee_vz_cnt=hour*60;
000376  ebc51005          RSB      r0,r5,r5,LSL #4
00037a  ea4f0180          LSL      r1,r0,#2
00037e  460d              MOV      r5,r1
000380  87a1              STRH     r1,[r4,#0x3c]
;;;367    	lc640_write_int(EE_VZ_CNT,__ee_vz_cnt);
000382  f44f70f9          MOV      r0,#0x1f2
000386  f7fffffe          BL       lc640_write_int
;;;368    	lc640_write_int(EE_SPC_VZ_LENGT,hour*60);	
00038a  4629              MOV      r1,r5
00038c  f44f70ff          MOV      r0,#0x1fe
000390  f7fffffe          BL       lc640_write_int
;;;369    	vz_cnt_h_=0;
000394  4630              MOV      r0,r6
000396  8720              STRH     r0,[r4,#0x38]
;;;370    	vz_cnt_s=0;
000398  8660              STRH     r0,[r4,#0x32]
;;;371    	out=1;
00039a  f04f0601          MOV      r6,#1
;;;372    	vz_mem_hndl(1);
00039e  f04f0001          MOV      r0,#1
0003a2  f7fffffe          BL       vz_mem_hndl
                  |L1.934|
;;;373    	}
;;;374    //else if((spc_stat==spc_KE1p1)||(spc_stat==spc_KE1p2)) out=22; 
;;;375    //else if((spc_stat==spc_KE2p1)||(spc_stat==spc_KE2p2)) out=33;
;;;376    //plazma=out;	
;;;377    return out;
0003a6  4630              MOV      r0,r6
;;;378    }
0003a8  bd70              POP      {r4-r6,pc}
;;;379    
                          ENDP

                  vz_stop PROC
;;;380    //-----------------------------------------------
;;;381    void vz_stop(void)
0003aa  b510              PUSH     {r4,lr}
;;;382    {
;;;383    if(spc_stat==spcVZ)
0003ac  4c14              LDR      r4,|L1.1024|
0003ae  7ce0              LDRB     r0,[r4,#0x13]  ; spc_stat
0003b0  2802              CMP      r0,#2
0003b2  d113              BNE      |L1.988|
;;;384         {
;;;385    vz_mem_hndl(vz_cnt_h);          
0003b4  f1040412          ADD      r4,r4,#0x12
0003b8  8f60              LDRH     r0,[r4,#0x3a]  ; vz_cnt_h
0003ba  f7fffffe          BL       vz_mem_hndl
;;;386    vz_cnt_s=0;
0003be  f04f0000          MOV      r0,#0
0003c2  86e0              STRH     r0,[r4,#0x36]
;;;387    vz_cnt_h=0;
0003c4  8760              STRH     r0,[r4,#0x3a]
;;;388    vz_cnt_h_=0;
0003c6  87a0              STRH     r0,[r4,#0x3c]
;;;389    spc_stat=spcOFF;
0003c8  7060              STRB     r0,[r4,#1]
;;;390    
;;;391    		__ee_spc_stat=spcOFF;
0003ca  f8a40042          STRH     r0,[r4,#0x42]
;;;392    		lc640_write_int(EE_SPC_STAT,spcOFF);
0003ce  4601              MOV      r1,r0
0003d0  e8bd4010          POP      {r4,lr}
0003d4  f44f70f8          MOV      r0,#0x1f0
0003d8  f7ffbffe          B.W      lc640_write_int
                  |L1.988|
;;;393         }
;;;394    
;;;395    }
0003dc  bd10              POP      {r4,pc}
;;;396    
                          ENDP

                  avz_next_date_hndl PROC
;;;397    //-----------------------------------------------
;;;398    void avz_next_date_hndl(void)
0003de  b570              PUSH     {r4-r6,lr}
;;;399    {
;;;400    if((LPC_RTC->MONTH+AVZ)>12)lc640_write_int(EE_YEAR_AVZ,LPC_RTC->YEAR+1);
0003e0  4c0d              LDR      r4,|L1.1048|
0003e2  3c20              SUBS     r4,r4,#0x20
0003e4  f8940038          LDRB     r0,[r4,#0x38]
0003e8  4d0f              LDR      r5,|L1.1064|
0003ea  7829              LDRB     r1,[r5,#0]  ; AVZ
0003ec  4408              ADD      r0,r0,r1
0003ee  280c              CMP      r0,#0xc
0003f0  d91c              BLS      |L1.1068|
0003f2  8fa0              LDRH     r0,[r4,#0x3c]
0003f4  1c40              ADDS     r0,r0,#1
0003f6  b201              SXTH     r1,r0
0003f8  20b8              MOVS     r0,#0xb8
0003fa  f7fffffe          BL       lc640_write_int
0003fe  e01a              B        |L1.1078|
                  |L1.1024|
                          DCD      ||area_number.21||
                  |L1.1028|
                          DCD      BAT_IS_ON
                  |L1.1032|
                          DCD      bat
                  |L1.1036|
                          DCD      IKB
                  |L1.1040|
                          DCD      ADR_EE_BAT_ZAR_CNT_KE
                  |L1.1044|
                          DCD      bat_u_old_cnt
                  |L1.1048|
                          DCD      0x40024020
                  |L1.1052|
                          DCD      USIGN
                  |L1.1056|
                          DCD      ADR_EE_BAT_C_REAL
                  |L1.1060|
                          DCD      ADR_EE_BAT_ZAR_CNT
                  |L1.1064|
                          DCD      AVZ
                  |L1.1068|
;;;401    else lc640_write_int(EE_YEAR_AVZ,LPC_RTC->YEAR);
00042c  f9b4103c          LDRSH    r1,[r4,#0x3c]
000430  20b8              MOVS     r0,#0xb8
000432  f7fffffe          BL       lc640_write_int
                  |L1.1078|
;;;402    
;;;403    //lc640_write_int(EE_YEAR_AVZ,6);
;;;404    
;;;405    if((LPC_RTC->MONTH+AVZ)>12)lc640_write_int(EE_MONTH_AVZ,(LPC_RTC->MONTH+AVZ)-12);
000436  f8941038          LDRB     r1,[r4,#0x38]
00043a  7828              LDRB     r0,[r5,#0]  ; AVZ
00043c  4401              ADD      r1,r1,r0
00043e  290c              CMP      r1,#0xc
000440  d907              BLS      |L1.1106|
000442  f8941038          LDRB     r1,[r4,#0x38]
000446  380c              SUBS     r0,r0,#0xc
000448  4401              ADD      r1,r1,r0
00044a  20b6              MOVS     r0,#0xb6
00044c  f7fffffe          BL       lc640_write_int
000450  e005              B        |L1.1118|
                  |L1.1106|
;;;406    else lc640_write_int(EE_MONTH_AVZ,LPC_RTC->MONTH+AVZ);                                                 
000452  f8941038          LDRB     r1,[r4,#0x38]
000456  4401              ADD      r1,r1,r0
000458  20b6              MOVS     r0,#0xb6
00045a  f7fffffe          BL       lc640_write_int
                  |L1.1118|
;;;407    
;;;408    //lc640_write_int(EE_MONTH_AVZ,5);
;;;409    
;;;410    if(LPC_RTC->DOM>28) lc640_write_int(EE_DATE_AVZ,28);
00045e  f894002c          LDRB     r0,[r4,#0x2c]
000462  281c              CMP      r0,#0x1c
000464  d904              BLS      |L1.1136|
000466  211c              MOVS     r1,#0x1c
000468  20b4              MOVS     r0,#0xb4
00046a  f7fffffe          BL       lc640_write_int
00046e  e004              B        |L1.1146|
                  |L1.1136|
;;;411    else lc640_write_int(EE_DATE_AVZ,LPC_RTC->DOM);
000470  f894102c          LDRB     r1,[r4,#0x2c]
000474  20b4              MOVS     r0,#0xb4
000476  f7fffffe          BL       lc640_write_int
                  |L1.1146|
;;;412    
;;;413    //lc640_write_int(EE_DATE_AVZ,4);
;;;414    
;;;415    lc640_write_int(EE_HOUR_AVZ,LPC_RTC->HOUR);
00047a  f1040420          ADD      r4,r4,#0x20
00047e  7a21              LDRB     r1,[r4,#8]
000480  f04f00ae          MOV      r0,#0xae
000484  f7fffffe          BL       lc640_write_int
;;;416    lc640_write_int(EE_MIN_AVZ,LPC_RTC->MIN);
000488  7921              LDRB     r1,[r4,#4]
00048a  20b0              MOVS     r0,#0xb0
00048c  f7fffffe          BL       lc640_write_int
;;;417    lc640_write_int(EE_SEC_AVZ,LPC_RTC->SEC);
000490  7821              LDRB     r1,[r4,#0]
000492  e8bd4070          POP      {r4-r6,lr}
000496  20b2              MOVS     r0,#0xb2
000498  f7ffbffe          B.W      lc640_write_int
;;;418    
;;;419    }
;;;420    
                          ENDP

                  avz_drv PROC
;;;421    //-----------------------------------------------
;;;422    void avz_drv(void)                               
00049c  b510              PUSH     {r4,lr}
;;;423    {                
;;;424    if(AVZ!=AVZ_OFF)
00049e  48ff              LDR      r0,|L1.2204|
;;;425    	{
;;;426    	if((LPC_RTC->YEAR==YEAR_AVZ)&&(LPC_RTC->MONTH==MONTH_AVZ)&&(LPC_RTC->DOM==DATE_AVZ)&&(LPC_RTC->HOUR==HOUR_AVZ)&&(LPC_RTC->MIN==MIN_AVZ)&&(LPC_RTC->SEC==SEC_AVZ))
;;;427    		{
;;;428    		bAVZ=1;
0004a0  4cff              LDR      r4,|L1.2208|
0004a2  7800              LDRB     r0,[r0,#0]            ;424  ; AVZ
0004a4  b330              CBZ      r0,|L1.1268|
0004a6  48ff              LDR      r0,|L1.2212|
0004a8  8f82              LDRH     r2,[r0,#0x3c]         ;426
0004aa  49ff              LDR      r1,|L1.2216|
0004ac  8809              LDRH     r1,[r1,#0]            ;426  ; YEAR_AVZ
0004ae  428a              CMP      r2,r1                 ;426
0004b0  d120              BNE      |L1.1268|
0004b2  f8902038          LDRB     r2,[r0,#0x38]         ;426
0004b6  49fd              LDR      r1,|L1.2220|
0004b8  8809              LDRH     r1,[r1,#0]            ;426  ; MONTH_AVZ
0004ba  428a              CMP      r2,r1                 ;426
0004bc  d11a              BNE      |L1.1268|
0004be  f890102c          LDRB     r1,[r0,#0x2c]         ;426
0004c2  4afb              LDR      r2,|L1.2224|
0004c4  8812              LDRH     r2,[r2,#0]            ;426  ; DATE_AVZ
0004c6  4291              CMP      r1,r2                 ;426
0004c8  d114              BNE      |L1.1268|
0004ca  f8901028          LDRB     r1,[r0,#0x28]         ;426
0004ce  4af9              LDR      r2,|L1.2228|
0004d0  8812              LDRH     r2,[r2,#0]            ;426  ; HOUR_AVZ
0004d2  4291              CMP      r1,r2                 ;426
0004d4  d10e              BNE      |L1.1268|
0004d6  f8901024          LDRB     r1,[r0,#0x24]         ;426
0004da  4af7              LDR      r2,|L1.2232|
0004dc  8812              LDRH     r2,[r2,#0]            ;426  ; MIN_AVZ
0004de  4291              CMP      r1,r2                 ;426
0004e0  d108              BNE      |L1.1268|
0004e2  f8900020          LDRB     r0,[r0,#0x20]         ;426
0004e6  49f5              LDR      r1,|L1.2236|
0004e8  8809              LDRH     r1,[r1,#0]            ;426  ; SEC_AVZ
0004ea  4288              CMP      r0,r1                 ;426
0004ec  d102              BNE      |L1.1268|
0004ee  f04f0001          MOV      r0,#1
0004f2  75a0              STRB     r0,[r4,#0x16]
                  |L1.1268|
;;;429    		}
;;;430    	}
;;;431    if(bAVZ)
0004f4  7da0              LDRB     r0,[r4,#0x16]  ; bAVZ
0004f6  2800              CMP      r0,#0
0004f8  d00c              BEQ      |L1.1300|
;;;432    	{
;;;433    	if(vz_start(AVZ_TIME))
0004fa  48f1              LDR      r0,|L1.2240|
0004fc  8800              LDRH     r0,[r0,#0]  ; AVZ_TIME
0004fe  b2c0              UXTB     r0,r0
000500  f7fffffe          BL       vz_start
000504  2800              CMP      r0,#0
000506  d005              BEQ      |L1.1300|
;;;434    		{
;;;435    		bAVZ=0;
000508  f04f0000          MOV      r0,#0
00050c  75a0              STRB     r0,[r4,#0x16]
;;;436    		avz_next_date_hndl();
00050e  e8bd4010          POP      {r4,lr}
000512  e7fe              B        avz_next_date_hndl
                  |L1.1300|
;;;437    		}
;;;438    	}	
;;;439    
;;;440    }
000514  bd10              POP      {r4,pc}
;;;441    
                          ENDP

                  vz_drv PROC
;;;442    //-----------------------------------------------
;;;443    void vz_drv(void)
000516  b570              PUSH     {r4-r6,lr}
;;;444    { 
;;;445    if(spc_stat==spcVZ)
000518  4ce1              LDR      r4,|L1.2208|
00051a  7ce0              LDRB     r0,[r4,#0x13]  ; spc_stat
00051c  2802              CMP      r0,#2
00051e  d144              BNE      |L1.1450|
;;;446    	{
;;;447    	if(vz_cnt_s_<3600)
000520  f8b4004a          LDRH     r0,[r4,#0x4a]  ; vz_cnt_s_
000524  f44f6161          MOV      r1,#0xe10
;;;448    		{
;;;449    		vz_cnt_s_++;
;;;450    		if(vz_cnt_s_>=3600)
;;;451    			{
;;;452    			vz_cnt_s_=0;
000528  2500              MOVS     r5,#0
00052a  4288              CMP      r0,r1                 ;447
00052c  d215              BCS      |L1.1370|
00052e  f1000001          ADD      r0,r0,#1              ;449
000532  b280              UXTH     r0,r0                 ;449
000534  f8a4004a          STRH     r0,[r4,#0x4a]         ;449
000538  4288              CMP      r0,r1                 ;450
00053a  d30e              BCC      |L1.1370|
00053c  f8a4504a          STRH     r5,[r4,#0x4a]
;;;453    			if(vz_cnt_h)
000540  f8b4004c          LDRH     r0,[r4,#0x4c]  ; vz_cnt_h
000544  b148              CBZ      r0,|L1.1370|
;;;454    				{
;;;455    				vz_cnt_h--;
000546  f1a00001          SUB      r0,r0,#1
00054a  f8240f4c          STRH     r0,[r4,#0x4c]!
;;;456    				vz_cnt_h_++;
00054e  8860              LDRH     r0,[r4,#2]  ; vz_cnt_h_
000550  f1000001          ADD      r0,r0,#1
000554  8060              STRH     r0,[r4,#2]
000556  f1a4044c          SUB      r4,r4,#0x4c
                  |L1.1370|
;;;457    				}
;;;458    			}
;;;459    		}
;;;460    
;;;461    
;;;462    	if(vz_cnt_s<60)
00055a  f8b40048          LDRH     r0,[r4,#0x48]  ; vz_cnt_s
00055e  283c              CMP      r0,#0x3c
000560  d223              BCS      |L1.1450|
;;;463    		{
;;;464    		vz_cnt_s++;
000562  f1000001          ADD      r0,r0,#1
000566  b280              UXTH     r0,r0
000568  f8a40048          STRH     r0,[r4,#0x48]
;;;465    		if(vz_cnt_s>=60)
00056c  283c              CMP      r0,#0x3c
00056e  d31c              BCC      |L1.1450|
;;;466    			{
;;;467    			vz_cnt_s=0;
000570  f8245f48          STRH     r5,[r4,#0x48]!
;;;468    			
;;;469    			__ee_vz_cnt--;
000574  8960              LDRH     r0,[r4,#0xa]  ; __ee_vz_cnt
000576  f1a00001          SUB      r0,r0,#1
00057a  b201              SXTH     r1,r0
00057c  8161              STRH     r1,[r4,#0xa]
;;;470    			lc640_write_int(EE_VZ_CNT,__ee_vz_cnt);
00057e  f44f70f9          MOV      r0,#0x1f2
000582  f7fffffe          BL       lc640_write_int
;;;471    			if(!__ee_vz_cnt)
000586  8960              LDRH     r0,[r4,#0xa]  ; __ee_vz_cnt
000588  f1a40448          SUB      r4,r4,#0x48
00058c  2800              CMP      r0,#0
00058e  d10c              BNE      |L1.1450|
;;;472    				{
;;;473    				spc_stat=spcOFF;
000590  74e5              STRB     r5,[r4,#0x13]
;;;474    						__ee_spc_stat=spcOFF;
000592  f8a45054          STRH     r5,[r4,#0x54]
;;;475    		lc640_write_int(EE_SPC_STAT,spcOFF);
000596  4601              MOV      r1,r0
000598  f44f70f8          MOV      r0,#0x1f0
00059c  f7fffffe          BL       lc640_write_int
;;;476    				vz_mem_hndl(0);
0005a0  e8bd4070          POP      {r4-r6,lr}
0005a4  2000              MOVS     r0,#0
0005a6  f7ffbffe          B.W      vz_mem_hndl
                  |L1.1450|
;;;477    				}
;;;478    			}
;;;479    		}
;;;480    
;;;481    	}
;;;482    
;;;483    
;;;484    } 
0005aa  bd70              POP      {r4-r6,pc}
;;;485    
                          ENDP

                  kb_init PROC
;;;489    //-----------------------------------------------
;;;490    void kb_init(void)
0005ac  48c5              LDR      r0,|L1.2244|
;;;491    {
;;;492    main_kb_cnt=(TBAT*60)-60/*120*/;
0005ae  f06f013b          MVN      r1,#0x3b
0005b2  8800              LDRH     r0,[r0,#0]  ; TBAT
0005b4  ebc01000          RSB      r0,r0,r0,LSL #4
0005b8  eb010080          ADD      r0,r1,r0,LSL #2
0005bc  49b8              LDR      r1,|L1.2208|
0005be  8788              STRH     r0,[r1,#0x3c]
;;;493    }
0005c0  4770              BX       lr
;;;494    
                          ENDP

                  kb_hndl PROC
;;;495    //-----------------------------------------------
;;;496    void kb_hndl(void)
0005c2  e92d5ff0          PUSH     {r4-r12,lr}
;;;497    {
;;;498    
;;;499    static signed short ibat[2],ibat_[2],ibat_ips,ibat_ips_;
;;;500    #ifdef UKU_TELECORE2015
;;;501    if(((++main_kb_cnt>=TBAT*60)&&(TBAT))&&(BAT_TYPE==0))
;;;502    #else 
;;;503    if(((++main_kb_cnt>=TBAT*60)&&(TBAT)))
0005c6  f8df82d8          LDR      r8,|L1.2208|
;;;504    #endif
;;;505    	{
;;;506    	main_kb_cnt=0;
;;;507    	
;;;508    	kb_start[0]=0;
;;;509    	kb_start[1]=0;
;;;510    	kb_start_ips=0;
;;;511    
;;;512    	if( (BAT_IS_ON[0]==bisON) && (bat[0]._Ub>80) && ( (abs(bat[0]._Ib)<IKB) || (bat[0]._av&1) ) ) kb_start[0]=1;
;;;513    	if( (BAT_IS_ON[1]==bisON) && (bat[1]._Ub>80) && ( (abs(bat[1]._Ib)<IKB) || (bat[1]._av&1) ) ) kb_start[1]=1;
;;;514    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;515    	if( (!ips_bat_av_vzvod)                      && ((abs(Ib_ips_termokompensat)<IKB) || (bat_ips._av&1) ) ) kb_start_ips=1;
0005ca  f8dfa2fc          LDR      r10,|L1.2248|
0005ce  2500              MOVS     r5,#0                 ;503
0005d0  f8b8003c          LDRH     r0,[r8,#0x3c]         ;503  ; main_kb_cnt
0005d4  4ebd              LDR      r6,|L1.2252|
0005d6  1c40              ADDS     r0,r0,#1              ;503
0005d8  b201              SXTH     r1,r0                 ;503
0005da  48ba              LDR      r0,|L1.2244|
0005dc  f8a8103c          STRH     r1,[r8,#0x3c]         ;503
0005e0  f8df92ec          LDR      r9,|L1.2256|
0005e4  f9b00000          LDRSH    r0,[r0,#0]            ;503  ; TBAT
;;;516    #endif	
;;;517    	if( (net_av) || (num_of_wrks_bps==0) || ( (spc_stat!=spcOFF) && (spc_stat!=spcVZ) ) ) 
;;;518    		{
;;;519    		kb_start[0]=0;
;;;520    		kb_start[1]=0;
;;;521    		kb_start_ips=0;
;;;522    		}
;;;523    
;;;524    	if((kb_start[0]==1)||(kb_start[1]==1)||(kb_start_ips==1))
;;;525    		{
;;;526    		kb_cnt_1lev=10;
0005e8  270a              MOVS     r7,#0xa
0005ea  ebc01200          RSB      r2,r0,r0,LSL #4       ;503
0005ee  f04f0b01          MOV      r11,#1                ;512
0005f2  f1080442          ADD      r4,r8,#0x42           ;508
0005f6  ebb10f82          CMP      r1,r2,LSL #2          ;503
0005fa  db61              BLT      |L1.1728|
0005fc  b3f0              CBZ      r0,|L1.1660|
0005fe  f8a8503c          STRH     r5,[r8,#0x3c]         ;506
000602  7025              STRB     r5,[r4,#0]            ;508
000604  7065              STRB     r5,[r4,#1]            ;509
000606  f888500d          STRB     r5,[r8,#0xd]          ;510
00060a  48b2              LDR      r0,|L1.2260|
00060c  7800              LDRB     r0,[r0,#0]            ;512  ; BAT_IS_ON
00060e  2855              CMP      r0,#0x55              ;512
000610  d111              BNE      |L1.1590|
000612  f9b60002          LDRSH    r0,[r6,#2]            ;512  ; bat
000616  2850              CMP      r0,#0x50              ;512
000618  dd0d              BLE      |L1.1590|
00061a  f9b60008          LDRSH    r0,[r6,#8]            ;512  ; bat
00061e  f7fffffe          BL       abs
000622  f9b91000          LDRSH    r1,[r9,#0]            ;512  ; IKB
000626  4288              CMP      r0,r1                 ;512
000628  db03              BLT      |L1.1586|
00062a  f896003d          LDRB     r0,[r6,#0x3d]         ;512  ; bat
00062e  07c0              LSLS     r0,r0,#31             ;512
000630  d001              BEQ      |L1.1590|
                  |L1.1586|
000632  f884b000          STRB     r11,[r4,#0]           ;512
                  |L1.1590|
000636  48a7              LDR      r0,|L1.2260|
000638  7840              LDRB     r0,[r0,#1]            ;513  ; BAT_IS_ON
00063a  2855              CMP      r0,#0x55              ;513
00063c  d111              BNE      |L1.1634|
00063e  f9b6004e          LDRSH    r0,[r6,#0x4e]         ;513  ; bat
000642  2850              CMP      r0,#0x50              ;513
000644  dd0d              BLE      |L1.1634|
000646  f9b60054          LDRSH    r0,[r6,#0x54]         ;513  ; bat
00064a  f7fffffe          BL       abs
00064e  f9b91000          LDRSH    r1,[r9,#0]            ;513  ; IKB
000652  4288              CMP      r0,r1                 ;513
000654  db03              BLT      |L1.1630|
000656  f8960089          LDRB     r0,[r6,#0x89]         ;513  ; bat
00065a  07c0              LSLS     r0,r0,#31             ;513
00065c  d001              BEQ      |L1.1634|
                  |L1.1630|
00065e  f884b001          STRB     r11,[r4,#1]           ;513
                  |L1.1634|
000662  489d              LDR      r0,|L1.2264|
000664  7800              LDRB     r0,[r0,#0]            ;515  ; ips_bat_av_vzvod
000666  b980              CBNZ     r0,|L1.1674|
000668  f9ba0000          LDRSH    r0,[r10,#0]           ;515  ; Ib_ips_termokompensat
00066c  f7fffffe          BL       abs
000670  f9b91000          LDRSH    r1,[r9,#0]            ;515  ; IKB
000674  4288              CMP      r0,r1                 ;515
000676  db06              BLT      |L1.1670|
000678  4898              LDR      r0,|L1.2268|
00067a  e000              B        |L1.1662|
                  |L1.1660|
00067c  e020              B        |L1.1728|
                  |L1.1662|
00067e  f890003d          LDRB     r0,[r0,#0x3d]         ;515  ; bat_ips
000682  07c0              LSLS     r0,r0,#31             ;515
000684  d001              BEQ      |L1.1674|
                  |L1.1670|
000686  f888b00d          STRB     r11,[r8,#0xd]         ;515
                  |L1.1674|
00068a  4895              LDR      r0,|L1.2272|
00068c  7800              LDRB     r0,[r0,#0]            ;517  ; net_av
00068e  b938              CBNZ     r0,|L1.1696|
000690  f898000e          LDRB     r0,[r8,#0xe]          ;517  ; num_of_wrks_bps
000694  b120              CBZ      r0,|L1.1696|
000696  f8980013          LDRB     r0,[r8,#0x13]         ;517  ; spc_stat
00069a  b128              CBZ      r0,|L1.1704|
00069c  2802              CMP      r0,#2                 ;517
00069e  d003              BEQ      |L1.1704|
                  |L1.1696|
0006a0  7025              STRB     r5,[r4,#0]            ;519
0006a2  7065              STRB     r5,[r4,#1]            ;520
0006a4  f888500d          STRB     r5,[r8,#0xd]          ;521
                  |L1.1704|
0006a8  7820              LDRB     r0,[r4,#0]            ;524  ; kb_start
0006aa  2801              CMP      r0,#1                 ;524
0006ac  d01f              BEQ      |L1.1774|
0006ae  7860              LDRB     r0,[r4,#1]            ;524  ; kb_start
0006b0  2801              CMP      r0,#1                 ;524
0006b2  d01c              BEQ      |L1.1774|
0006b4  f898000d          LDRB     r0,[r8,#0xd]          ;524  ; kb_start_ips
0006b8  2801              CMP      r0,#1                 ;524
0006ba  d018              BEQ      |L1.1774|
;;;527    		}
;;;528    	else kb_cnt_1lev=0;
0006bc  f8a8503e          STRH     r5,[r8,#0x3e]
                  |L1.1728|
;;;529    	}
;;;530    
;;;531    if(kb_cnt_1lev)
0006c0  4641              MOV      r1,r8
0006c2  f9b8003e          LDRSH    r0,[r8,#0x3e]  ; kb_cnt_1lev
;;;532    	{
;;;533    	kb_cnt_1lev--;
;;;534    
;;;535    	if(kb_cnt_1lev>5)mess_send(MESS2CNTRL_HNDL,PARAM_CNTRL_STAT_PLUS,30,15);
;;;536    	else if(kb_cnt_1lev>0) mess_send(MESS2CNTRL_HNDL,PARAM_CNTRL_STAT_MINUS,30,15);
;;;537    
;;;538    
;;;539    	if(kb_cnt_1lev==5)
;;;540    		{
;;;541    		ibat[0]=abs(bat[0]._Ib);
0006c6  f8df81d8          LDR      r8,|L1.2208|
0006ca  2800              CMP      r0,#0                 ;531
0006cc  f1080860          ADD      r8,r8,#0x60
0006d0  d07e              BEQ      |L1.2000|
0006d2  f1a00001          SUB      r0,r0,#1              ;533
0006d6  b200              SXTH     r0,r0                 ;533
0006d8  468b              MOV      r11,r1                ;533
0006da  87c8              STRH     r0,[r1,#0x3e]         ;533
0006dc  2805              CMP      r0,#5                 ;535
0006de  dd09              BLE      |L1.1780|
0006e0  230f              MOVS     r3,#0xf               ;535
0006e2  221e              MOVS     r2,#0x1e              ;535
0006e4  2164              MOVS     r1,#0x64              ;535
0006e6  20e1              MOVS     r0,#0xe1              ;535
0006e8  f7fffffe          BL       mess_send
0006ec  e00a              B        |L1.1796|
                  |L1.1774|
0006ee  f8a8703e          STRH     r7,[r8,#0x3e]         ;526
0006f2  e7e5              B        |L1.1728|
                  |L1.1780|
0006f4  2800              CMP      r0,#0                 ;536
0006f6  dd05              BLE      |L1.1796|
0006f8  230f              MOVS     r3,#0xf               ;536
0006fa  221e              MOVS     r2,#0x1e              ;536
0006fc  2169              MOVS     r1,#0x69              ;536
0006fe  20e1              MOVS     r0,#0xe1              ;536
000700  f7fffffe          BL       mess_send
                  |L1.1796|
000704  f8bb003e          LDRH     r0,[r11,#0x3e]        ;539  ; kb_cnt_1lev
000708  2805              CMP      r0,#5                 ;539
00070a  d111              BNE      |L1.1840|
00070c  f9b60008          LDRSH    r0,[r6,#8]  ; bat
000710  f7fffffe          BL       abs
000714  f8a80000          STRH     r0,[r8,#0]
;;;542    		ibat[1]=abs(bat[1]._Ib);
000718  f9b60054          LDRSH    r0,[r6,#0x54]  ; bat
00071c  f7fffffe          BL       abs
000720  f8a80002          STRH     r0,[r8,#2]
;;;543    		ibat_ips=abs(Ib_ips_termokompensat);
000724  f9ba0000          LDRSH    r0,[r10,#0]  ; Ib_ips_termokompensat
000728  f7fffffe          BL       abs
00072c  f8ab0020          STRH     r0,[r11,#0x20]
                  |L1.1840|
;;;544    		}
;;;545    	
;;;546    	if(kb_cnt_1lev==0)
000730  485b              LDR      r0,|L1.2208|
000732  8fc0              LDRH     r0,[r0,#0x3e]  ; kb_cnt_1lev
000734  2800              CMP      r0,#0
000736  d154              BNE      |L1.2018|
;;;547    		{
;;;548    		ibat_[0]=abs(bat[0]._Ib);
000738  f9b60008          LDRSH    r0,[r6,#8]  ; bat
00073c  f7fffffe          BL       abs
000740  f8dfb15c          LDR      r11,|L1.2208|
000744  f10b0b64          ADD      r11,r11,#0x64
000748  f8ab0000          STRH     r0,[r11,#0]
;;;549    		ibat_[1]=abs(bat[1]._Ib);
00074c  f9b60054          LDRSH    r0,[r6,#0x54]  ; bat
000750  f7fffffe          BL       abs
000754  f8ab0002          STRH     r0,[r11,#2]
;;;550    		ibat_ips_=abs(Ib_ips_termokompensat);
000758  f9ba0000          LDRSH    r0,[r10,#0]  ; Ib_ips_termokompensat
00075c  f7fffffe          BL       abs
000760  f8dfa13c          LDR      r10,|L1.2208|
000764  f8aa0022          STRH     r0,[r10,#0x22]
;;;551    
;;;552    		kb_cnt_2lev=0;
000768  f8aa5040          STRH     r5,[r10,#0x40]
;;;553    
;;;554    
;;;555    		if(( (ibat[0]+ibat_[0]) < IKB )&& (kb_start[0]==1))
00076c  f9b80000          LDRSH    r0,[r8,#0]  ; ibat
000770  f9bb1000          LDRSH    r1,[r11,#0]  ; ibat_
000774  4408              ADD      r0,r0,r1
000776  f9b91000          LDRSH    r1,[r9,#0]  ; IKB
00077a  4288              CMP      r0,r1
00077c  da02              BGE      |L1.1924|
00077e  7820              LDRB     r0,[r4,#0]  ; kb_start
000780  2801              CMP      r0,#1
000782  d030              BEQ      |L1.2022|
                  |L1.1924|
;;;556    			{
;;;557    			kb_cnt_2lev=10;  
;;;558    			}
;;;559    		else if(bat[0]._Ub>200)
000784  f9b60002          LDRSH    r0,[r6,#2]  ; bat
000788  28c8              CMP      r0,#0xc8
00078a  dd04              BLE      |L1.1942|
;;;560    			{
;;;561    			kb_start[0]=0;
00078c  7025              STRB     r5,[r4,#0]
;;;562    			avar_bat_hndl(0,0);
00078e  2100              MOVS     r1,#0
000790  4608              MOV      r0,r1
000792  f7fffffe          BL       avar_bat_hndl
                  |L1.1942|
;;;563    			}
;;;564    		
;;;565    		if(( (ibat[1]+ibat_[1]) < IKB ) && (kb_start[1]==1))
000796  f9b80002          LDRSH    r0,[r8,#2]  ; ibat
00079a  f9bb1002          LDRSH    r1,[r11,#2]  ; ibat_
00079e  4408              ADD      r0,r0,r1
0007a0  f9b91000          LDRSH    r1,[r9,#0]  ; IKB
0007a4  4288              CMP      r0,r1
0007a6  da02              BGE      |L1.1966|
0007a8  7860              LDRB     r0,[r4,#1]  ; kb_start
0007aa  2801              CMP      r0,#1
0007ac  d01e              BEQ      |L1.2028|
                  |L1.1966|
;;;566    			{
;;;567    			kb_cnt_2lev=10;     
;;;568    			}
;;;569    		else  if(bat[1]._Ub>200)
0007ae  f9b6004e          LDRSH    r0,[r6,#0x4e]  ; bat
0007b2  28c8              CMP      r0,#0xc8
0007b4  dd04              BLE      |L1.1984|
;;;570    			{
;;;571    			kb_start[1]=0;
0007b6  7065              STRB     r5,[r4,#1]
;;;572    			avar_bat_hndl(1,0);
0007b8  2100              MOVS     r1,#0
0007ba  2001              MOVS     r0,#1
0007bc  f7fffffe          BL       avar_bat_hndl
                  |L1.1984|
;;;573    			}
;;;574    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;575    		if(( (ibat_ips+ibat_ips_) < IKB ) && (kb_start_ips==1))
0007c0  f9ba0020          LDRSH    r0,[r10,#0x20]  ; ibat_ips
0007c4  f9ba1022          LDRSH    r1,[r10,#0x22]  ; ibat_ips_
0007c8  4408              ADD      r0,r0,r1
0007ca  f9b91000          LDRSH    r1,[r9,#0]  ; IKB
0007ce  e000              B        |L1.2002|
                  |L1.2000|
0007d0  e00f              B        |L1.2034|
                  |L1.2002|
0007d2  4288              CMP      r0,r1
0007d4  da05              BGE      |L1.2018|
0007d6  f89a000d          LDRB     r0,[r10,#0xd]  ; kb_start_ips
0007da  2801              CMP      r0,#1
0007dc  d101              BNE      |L1.2018|
;;;576    			{
;;;577    			kb_cnt_2lev=10;     
0007de  f8aa7040          STRH     r7,[r10,#0x40]
                  |L1.2018|
;;;578    			}
;;;579    /*		else  if(bat[1]._Ub>200)
;;;580    			{
;;;581    			kb_start[1]=0;
;;;582    			avar_bat_hndl(1,0);
;;;583    			} */
;;;584    #endif
;;;585    		}	
;;;586    
;;;587    
;;;588    	}
;;;589    else if(kb_cnt_2lev)
;;;590    	{
;;;591    	kb_cnt_2lev--;
;;;592    
;;;593    	if(kb_cnt_2lev>5)mess_send(MESS2CNTRL_HNDL,PARAM_CNTRL_STAT_PLUS,200,15);
;;;594    	else if(kb_cnt_2lev>0) mess_send(MESS2CNTRL_HNDL,PARAM_CNTRL_STAT_MINUS,200,15);
;;;595    
;;;596    
;;;597    	if(kb_cnt_2lev==5)
;;;598    		{
;;;599    		ibat[0]=abs(bat[0]._Ib);
;;;600    		ibat[1]=abs(bat[1]._Ib);
;;;601    		ibat_ips=abs(Ib_ips_termokompensat);
;;;602    		}
;;;603    	
;;;604    	if(kb_cnt_2lev==0)
;;;605    		{
;;;606    		ibat_[0]=abs(bat[0]._Ib);
;;;607    		ibat_[1]=abs(bat[1]._Ib);
;;;608    		ibat_ips_=abs(Ib_ips_termokompensat);
;;;609    
;;;610    		kb_full_ver=0;
;;;611    
;;;612    		if(( (ibat[0]+ibat_[0]) < IKB ) && (kb_start[0]==1))
;;;613    			{
;;;614    			kb_full_ver=1;  
;;;615    			}
;;;616    		else if(bat[0]._Ub>200)			
;;;617    			{
;;;618    			kb_start[0]=0;
;;;619    			avar_bat_hndl(0,0);
;;;620    			}
;;;621    
;;;622    		if(( (ibat[1]+ibat_[1]) < IKB ) && (kb_start[1]==1))
;;;623    			{
;;;624    			kb_full_ver=1;     
;;;625    			}
;;;626    		else	if(bat[1]._Ub>200)		
;;;627    			{
;;;628    			kb_start[1]=0;
;;;629    			avar_bat_hndl(1,0);
;;;630    			}
;;;631    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;632    		if(( (ibat_ips+ibat_ips_) < IKB )  && (kb_start_ips==1))
;;;633    			{
;;;634    			kb_full_ver=1;     
;;;635    			}
;;;636    #endif
;;;637    		}	
;;;638    	}
;;;639    
;;;640    else if(kb_full_ver)
;;;641    	{
;;;642    	
;;;643    	mess_send(MESS2CNTRL_HNDL,PARAM_CNTRL_STAT_STEP_DOWN,0,15);
;;;644    
;;;645    	if( abs(bat[0]._Ib) > IKB ) 
;;;646    		{
;;;647    		if(kb_start[0]==1)
;;;648    			{
;;;649    			kb_start[0]=0;
;;;650    			avar_bat_hndl(0,0);
;;;651    			}
;;;652    		}
;;;653    
;;;654    	if( abs(bat[1]._Ib) > IKB ) 
;;;655    		{
;;;656    		if(kb_start[1]==1)
;;;657    			{
;;;658    			kb_start[1]=0;
;;;659    			avar_bat_hndl(1,0);
;;;660    			}
;;;661    		}
;;;662    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;663    	if( abs(Ib_ips_termokompensat) > IKB ) 
;;;664    		{
;;;665    		if(kb_start_ips==1)
;;;666    			{
;;;667    			kb_start_ips=0;
;;;668    			avar_bat_ips_hndl(0);
;;;669    			}
;;;670    		}
;;;671    #endif
;;;672    
;;;673    	if ((kb_start[0]==0) && (kb_start[1]==0) && (kb_start_ips==0)) 
;;;674    		{
;;;675    		kb_full_ver=0;
;;;676    		}
;;;677    
;;;678    	if(( (mess_find(MESS2KB_HNDL))	&& (mess_data[0]==PARAM_CNTRL_IS_DOWN) ) || (load_U<(USIGN*10)) )
;;;679    		{
;;;680    		kb_full_ver=0;
;;;681    		if((kb_start[0]==1)&&((load_I>(2*IKB)/10))&&(!(bat[0]._av&0x01))) avar_bat_hndl(0,1);
;;;682    		if((kb_start[1]==1)&&((load_I>(2*IKB)/10))&&(!(bat[1]._av&0x01))) avar_bat_hndl(1,1);
;;;683    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;684    		if((kb_start_ips==1)&&((load_I>(2*IKB)/10))&&(!(bat_ips._av&0x01))) avar_bat_ips_hndl(1);
;;;685    #endif
;;;686    		}
;;;687    	}
;;;688    
;;;689    }
0007e2  e8bd9ff0          POP      {r4-r12,pc}
                  |L1.2022|
0007e6  f8aa7040          STRH     r7,[r10,#0x40]        ;557
0007ea  e7d4              B        |L1.1942|
                  |L1.2028|
0007ec  f8aa7040          STRH     r7,[r10,#0x40]        ;567
0007f0  e7e6              B        |L1.1984|
                  |L1.2034|
0007f2  f9b10040          LDRSH    r0,[r1,#0x40]         ;589  ; kb_cnt_2lev
0007f6  b3e8              CBZ      r0,|L1.2164|
0007f8  f1a00001          SUB      r0,r0,#1              ;591
0007fc  b200              SXTH     r0,r0                 ;591
0007fe  460f              MOV      r7,r1                 ;591
000800  f8a10040          STRH     r0,[r1,#0x40]         ;591
000804  2805              CMP      r0,#5                 ;593
000806  dd06              BLE      |L1.2070|
000808  230f              MOVS     r3,#0xf               ;593
00080a  22c8              MOVS     r2,#0xc8              ;593
00080c  2164              MOVS     r1,#0x64              ;593
00080e  20e1              MOVS     r0,#0xe1              ;593
000810  f7fffffe          BL       mess_send
000814  e007              B        |L1.2086|
                  |L1.2070|
000816  2800              CMP      r0,#0                 ;594
000818  dd05              BLE      |L1.2086|
00081a  230f              MOVS     r3,#0xf               ;594
00081c  22c8              MOVS     r2,#0xc8              ;594
00081e  2169              MOVS     r1,#0x69              ;594
000820  20e1              MOVS     r0,#0xe1              ;594
000822  f7fffffe          BL       mess_send
                  |L1.2086|
000826  f8b70040          LDRH     r0,[r7,#0x40]         ;597  ; kb_cnt_2lev
00082a  2805              CMP      r0,#5                 ;597
00082c  d110              BNE      |L1.2128|
00082e  f9b60008          LDRSH    r0,[r6,#8]            ;599  ; bat
000832  f7fffffe          BL       abs
000836  f8a80000          STRH     r0,[r8,#0]            ;599
00083a  f9b60054          LDRSH    r0,[r6,#0x54]         ;600  ; bat
00083e  f7fffffe          BL       abs
000842  f8a80002          STRH     r0,[r8,#2]            ;600
000846  f9ba0000          LDRSH    r0,[r10,#0]           ;601  ; Ib_ips_termokompensat
00084a  f7fffffe          BL       abs
00084e  8438              STRH     r0,[r7,#0x20]         ;601
                  |L1.2128|
000850  4813              LDR      r0,|L1.2208|
000852  f8b00040          LDRH     r0,[r0,#0x40]         ;604  ; kb_cnt_2lev
000856  2800              CMP      r0,#0                 ;604
                  |L1.2136|
000858  d1c3              BNE      |L1.2018|
00085a  f9b60008          LDRSH    r0,[r6,#8]            ;606  ; bat
00085e  f7fffffe          BL       abs
000862  4f0f              LDR      r7,|L1.2208|
000864  3764              ADDS     r7,r7,#0x64           ;606
000866  8038              STRH     r0,[r7,#0]            ;606
000868  f9b60054          LDRSH    r0,[r6,#0x54]         ;607  ; bat
00086c  f7fffffe          BL       abs
000870  8078              STRH     r0,[r7,#2]            ;607
000872  e000              B        |L1.2166|
                  |L1.2164|
000874  e06f              B        |L1.2390|
                  |L1.2166|
000876  f9ba0000          LDRSH    r0,[r10,#0]           ;608  ; Ib_ips_termokompensat
00087a  f7fffffe          BL       abs
00087e  f8dfa020          LDR      r10,|L1.2208|
000882  f8aa0022          STRH     r0,[r10,#0x22]        ;608
000886  f88a500c          STRB     r5,[r10,#0xc]         ;610
00088a  f9b80000          LDRSH    r0,[r8,#0]            ;612  ; ibat
00088e  f9b71000          LDRSH    r1,[r7,#0]            ;612  ; ibat_
000892  4408              ADD      r0,r0,r1              ;612
000894  f9b91000          LDRSH    r1,[r9,#0]            ;612  ; IKB
000898  4288              CMP      r0,r1                 ;612
00089a  e023              B        |L1.2276|
                  |L1.2204|
                          DCD      AVZ
                  |L1.2208|
                          DCD      ||area_number.21||
                  |L1.2212|
                          DCD      0x40024000
                  |L1.2216|
                          DCD      YEAR_AVZ
                  |L1.2220|
                          DCD      MONTH_AVZ
                  |L1.2224|
                          DCD      DATE_AVZ
                  |L1.2228|
                          DCD      HOUR_AVZ
                  |L1.2232|
                          DCD      MIN_AVZ
                  |L1.2236|
                          DCD      SEC_AVZ
                  |L1.2240|
                          DCD      AVZ_TIME
                  |L1.2244|
                          DCD      TBAT
                  |L1.2248|
                          DCD      Ib_ips_termokompensat
                  |L1.2252|
                          DCD      bat
                  |L1.2256|
                          DCD      IKB
                  |L1.2260|
                          DCD      BAT_IS_ON
                  |L1.2264|
                          DCD      ips_bat_av_vzvod
                  |L1.2268|
                          DCD      bat_ips
                  |L1.2272|
                          DCD      net_av
                  |L1.2276|
0008e4  da02              BGE      |L1.2284|
0008e6  7820              LDRB     r0,[r4,#0]            ;612  ; kb_start
0008e8  2801              CMP      r0,#1                 ;612
0008ea  d02e              BEQ      |L1.2378|
                  |L1.2284|
0008ec  f9b60002          LDRSH    r0,[r6,#2]            ;616  ; bat
0008f0  28c8              CMP      r0,#0xc8              ;616
0008f2  dd04              BLE      |L1.2302|
0008f4  7025              STRB     r5,[r4,#0]            ;618
0008f6  2100              MOVS     r1,#0                 ;619
0008f8  4608              MOV      r0,r1                 ;619
0008fa  f7fffffe          BL       avar_bat_hndl
                  |L1.2302|
0008fe  f9b80002          LDRSH    r0,[r8,#2]            ;622  ; ibat
000902  f9b71002          LDRSH    r1,[r7,#2]            ;622  ; ibat_
000906  4408              ADD      r0,r0,r1              ;622
000908  f9b91000          LDRSH    r1,[r9,#0]            ;622  ; IKB
00090c  4288              CMP      r0,r1                 ;622
00090e  da02              BGE      |L1.2326|
000910  7860              LDRB     r0,[r4,#1]            ;622  ; kb_start
000912  2801              CMP      r0,#1                 ;622
000914  d01c              BEQ      |L1.2384|
                  |L1.2326|
000916  f9b6004e          LDRSH    r0,[r6,#0x4e]         ;626  ; bat
00091a  28c8              CMP      r0,#0xc8              ;626
00091c  dd04              BLE      |L1.2344|
00091e  7065              STRB     r5,[r4,#1]            ;628
000920  2100              MOVS     r1,#0                 ;629
000922  2001              MOVS     r0,#1                 ;629
000924  f7fffffe          BL       avar_bat_hndl
                  |L1.2344|
000928  f9ba0020          LDRSH    r0,[r10,#0x20]        ;632  ; ibat_ips
00092c  f9ba1022          LDRSH    r1,[r10,#0x22]        ;632  ; ibat_ips_
000930  4408              ADD      r0,r0,r1              ;632
000932  f9b91000          LDRSH    r1,[r9,#0]            ;632  ; IKB
000936  4288              CMP      r0,r1                 ;632
000938  f6bfaf53          BGE      |L1.2018|
00093c  f89a000d          LDRB     r0,[r10,#0xd]         ;632  ; kb_start_ips
000940  2801              CMP      r0,#1                 ;632
000942  d189              BNE      |L1.2136|
000944  f88ab00c          STRB     r11,[r10,#0xc]        ;634
                  |L1.2376|
000948  e74b              B        |L1.2018|
                  |L1.2378|
00094a  f88ab00c          STRB     r11,[r10,#0xc]        ;614
00094e  e7d6              B        |L1.2302|
                  |L1.2384|
000950  f88ab00c          STRB     r11,[r10,#0xc]        ;624
000954  e7e8              B        |L1.2344|
                  |L1.2390|
000956  7b08              LDRB     r0,[r1,#0xc]          ;640  ; kb_full_ver
000958  4688              MOV      r8,r1                 ;640
00095a  2800              CMP      r0,#0                 ;640
00095c  d0f4              BEQ      |L1.2376|
00095e  230f              MOVS     r3,#0xf               ;643
000960  2200              MOVS     r2,#0                 ;643
000962  216e              MOVS     r1,#0x6e              ;643
000964  20e1              MOVS     r0,#0xe1              ;643
000966  f7fffffe          BL       mess_send
00096a  f9b60008          LDRSH    r0,[r6,#8]            ;645  ; bat
00096e  f7fffffe          BL       abs
000972  f9b91000          LDRSH    r1,[r9,#0]            ;645  ; IKB
000976  4288              CMP      r0,r1                 ;645
000978  dd07              BLE      |L1.2442|
00097a  7820              LDRB     r0,[r4,#0]            ;647  ; kb_start
00097c  2801              CMP      r0,#1                 ;647
00097e  d104              BNE      |L1.2442|
000980  7025              STRB     r5,[r4,#0]            ;649
000982  2100              MOVS     r1,#0                 ;650
000984  4608              MOV      r0,r1                 ;650
000986  f7fffffe          BL       avar_bat_hndl
                  |L1.2442|
00098a  f9b60054          LDRSH    r0,[r6,#0x54]         ;654  ; bat
00098e  f7fffffe          BL       abs
000992  f9b91000          LDRSH    r1,[r9,#0]            ;654  ; IKB
000996  4288              CMP      r0,r1                 ;654
000998  dd06              BLE      |L1.2472|
00099a  7860              LDRB     r0,[r4,#1]            ;656  ; kb_start
00099c  2801              CMP      r0,#1                 ;656
00099e  d103              BNE      |L1.2472|
0009a0  7065              STRB     r5,[r4,#1]            ;658
0009a2  2100              MOVS     r1,#0                 ;659
0009a4  f7fffffe          BL       avar_bat_hndl
                  |L1.2472|
0009a8  f9ba0000          LDRSH    r0,[r10,#0]           ;663  ; Ib_ips_termokompensat
0009ac  f7fffffe          BL       abs
0009b0  f9b91000          LDRSH    r1,[r9,#0]            ;663  ; IKB
0009b4  4288              CMP      r0,r1                 ;663
0009b6  dd08              BLE      |L1.2506|
0009b8  f898000d          LDRB     r0,[r8,#0xd]          ;665  ; kb_start_ips
0009bc  2801              CMP      r0,#1                 ;665
0009be  d104              BNE      |L1.2506|
0009c0  f888500d          STRB     r5,[r8,#0xd]          ;667
0009c4  2000              MOVS     r0,#0                 ;668
0009c6  f7fffffe          BL       avar_bat_ips_hndl
                  |L1.2506|
0009ca  7820              LDRB     r0,[r4,#0]            ;673  ; kb_start
0009cc  b930              CBNZ     r0,|L1.2524|
0009ce  7860              LDRB     r0,[r4,#1]            ;673  ; kb_start
0009d0  b920              CBNZ     r0,|L1.2524|
0009d2  f898000d          LDRB     r0,[r8,#0xd]          ;673  ; kb_start_ips
0009d6  b908              CBNZ     r0,|L1.2524|
0009d8  f888500c          STRB     r5,[r8,#0xc]          ;675
                  |L1.2524|
0009dc  20e6              MOVS     r0,#0xe6              ;678
0009de  f7fffffe          BL       mess_find
0009e2  b118              CBZ      r0,|L1.2540|
0009e4  48ff              LDR      r0,|L1.3556|
0009e6  6800              LDR      r0,[r0,#0]            ;678  ; mess_data
0009e8  28e7              CMP      r0,#0xe7              ;678
0009ea  d00a              BEQ      |L1.2562|
                  |L1.2540|
0009ec  48fe              LDR      r0,|L1.3560|
0009ee  49ff              LDR      r1,|L1.3564|
0009f0  f9b00000          LDRSH    r0,[r0,#0]            ;678  ; USIGN
0009f4  f9b11000          LDRSH    r1,[r1,#0]            ;678  ; load_U
0009f8  eb000080          ADD      r0,r0,r0,LSL #2       ;678
0009fc  ebb10f40          CMP      r1,r0,LSL #1          ;678
                  |L1.2560|
000a00  daa2              BGE      |L1.2376|
                  |L1.2562|
000a02  f888500c          STRB     r5,[r8,#0xc]          ;680
000a06  7820              LDRB     r0,[r4,#0]            ;681  ; kb_start
000a08  4df9              LDR      r5,|L1.3568|
000a0a  2801              CMP      r0,#1                 ;681
000a0c  d10f              BNE      |L1.2606|
000a0e  f9b90000          LDRSH    r0,[r9,#0]            ;681  ; IKB
000a12  f9b51000          LDRSH    r1,[r5,#0]            ;681  ; load_I
000a16  0040              LSLS     r0,r0,#1              ;681
000a18  fb90f0f7          SDIV     r0,r0,r7              ;681
000a1c  4288              CMP      r0,r1                 ;681
000a1e  da06              BGE      |L1.2606|
000a20  f896003d          LDRB     r0,[r6,#0x3d]         ;681  ; bat
000a24  07c0              LSLS     r0,r0,#31             ;681
000a26  d102              BNE      |L1.2606|
000a28  2101              MOVS     r1,#1                 ;681
000a2a  f7fffffe          BL       avar_bat_hndl
                  |L1.2606|
000a2e  7860              LDRB     r0,[r4,#1]            ;682  ; kb_start
000a30  2801              CMP      r0,#1                 ;682
000a32  d110              BNE      |L1.2646|
000a34  f9b90000          LDRSH    r0,[r9,#0]            ;682  ; IKB
000a38  f9b51000          LDRSH    r1,[r5,#0]            ;682  ; load_I
000a3c  0040              LSLS     r0,r0,#1              ;682
000a3e  fb90f0f7          SDIV     r0,r0,r7              ;682
000a42  4288              CMP      r0,r1                 ;682
000a44  da07              BGE      |L1.2646|
000a46  f8960089          LDRB     r0,[r6,#0x89]         ;682  ; bat
000a4a  07c0              LSLS     r0,r0,#31             ;682
000a4c  d103              BNE      |L1.2646|
000a4e  2101              MOVS     r1,#1                 ;682
000a50  4608              MOV      r0,r1                 ;682
000a52  f7fffffe          BL       avar_bat_hndl
                  |L1.2646|
000a56  f898000d          LDRB     r0,[r8,#0xd]          ;684  ; kb_start_ips
000a5a  2801              CMP      r0,#1                 ;684
                  |L1.2652|
000a5c  f47faf74          BNE      |L1.2376|
000a60  f9b90000          LDRSH    r0,[r9,#0]            ;684  ; IKB
000a64  f9b51000          LDRSH    r1,[r5,#0]            ;684  ; load_I
000a68  0040              LSLS     r0,r0,#1              ;684
000a6a  fb90f0f7          SDIV     r0,r0,r7              ;684
000a6e  4288              CMP      r0,r1                 ;684
000a70  dac6              BGE      |L1.2560|
000a72  48e0              LDR      r0,|L1.3572|
000a74  f890003d          LDRB     r0,[r0,#0x3d]         ;684  ; bat_ips
000a78  07c0              LSLS     r0,r0,#31             ;684
000a7a  d1ef              BNE      |L1.2652|
000a7c  e8bd5ff0          POP      {r4-r12,lr}           ;684
000a80  2001              MOVS     r0,#1                 ;684
000a82  f7ffbffe          B.W      avar_bat_ips_hndl
;;;690    
                          ENDP

                  samokalibr_hndl PROC
;;;699    //-----------------------------------------------
;;;700    void samokalibr_hndl(void)
000a86  b570              PUSH     {r4-r6,lr}
;;;701    {
;;;702    if(++samokalibr_cnt>=1800)samokalibr_cnt=0;
000a88  4cdb              LDR      r4,|L1.3576|
000a8a  8f60              LDRH     r0,[r4,#0x3a]  ; samokalibr_cnt
000a8c  1c40              ADDS     r0,r0,#1
000a8e  b200              SXTH     r0,r0
000a90  8760              STRH     r0,[r4,#0x3a]
000a92  f5b06fe1          CMP      r0,#0x708
000a96  db02              BLT      |L1.2718|
000a98  f04f0000          MOV      r0,#0
000a9c  8760              STRH     r0,[r4,#0x3a]
                  |L1.2718|
;;;703    
;;;704    if(samokalibr_cnt>=1785U)
000a9e  f9b4003a          LDRSH    r0,[r4,#0x3a]  ; samokalibr_cnt
000aa2  f5b06fdf          CMP      r0,#0x6f8
000aa6  d911              BLS      |L1.2764|
;;;705    	{
;;;706    	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,1,15);
000aa8  230f              MOVS     r3,#0xf
000aaa  2201              MOVS     r2,#1
000aac  2164              MOVS     r1,#0x64
000aae  20d2              MOVS     r0,#0xd2
000ab0  f7fffffe          BL       mess_send
;;;707    	mess_send(MESS2IND_HNDL,PARAM_SAMOKALIBR,0,15);
000ab4  230f              MOVS     r3,#0xf
000ab6  2200              MOVS     r2,#0
000ab8  21d8              MOVS     r1,#0xd8
000aba  20d7              MOVS     r0,#0xd7
000abc  f7fffffe          BL       mess_send
;;;708    	mess_send(MESS2MATEMAT,PARAM_SAMOKALIBR,0,15);
000ac0  230f              MOVS     r3,#0xf
000ac2  2200              MOVS     r2,#0
000ac4  21d8              MOVS     r1,#0xd8
000ac6  20dc              MOVS     r0,#0xdc
000ac8  f7fffffe          BL       mess_send
                  |L1.2764|
;;;709    	} 
;;;710    
;;;711    if(samokalibr_cnt==1799U)
000acc  f9b4003a          LDRSH    r0,[r4,#0x3a]  ; samokalibr_cnt
000ad0  f5a061e0          SUB      r1,r0,#0x700
000ad4  3907              SUBS     r1,#7
000ad6  d118              BNE      |L1.2826|
;;;712    	{
;;;713    	if(Kibat0[0]!=ad7705_buff_[0]) lc640_write_int(ADR_KI0BAT[0],ad7705_buff_[0]);
000ad8  4ec8              LDR      r6,|L1.3580|
000ada  4cc9              LDR      r4,|L1.3584|
000adc  4dc9              LDR      r5,|L1.3588|
000ade  8830              LDRH     r0,[r6,#0]  ; Kibat0
000ae0  8821              LDRH     r1,[r4,#0]  ; ad7705_buff_
000ae2  4288              CMP      r0,r1
000ae4  d005              BEQ      |L1.2802|
000ae6  f9b41000          LDRSH    r1,[r4,#0]  ; ad7705_buff_
000aea  f9b50000          LDRSH    r0,[r5,#0]  ; ADR_KI0BAT
000aee  f7fffffe          BL       lc640_write_int
                  |L1.2802|
;;;714    	if(Kibat0[1]!=ad7705_buff_[1]) lc640_write_int(ADR_KI0BAT[1],ad7705_buff_[1]);
000af2  8870              LDRH     r0,[r6,#2]  ; Kibat0
000af4  8861              LDRH     r1,[r4,#2]  ; ad7705_buff_
000af6  4288              CMP      r0,r1
000af8  d007              BEQ      |L1.2826|
000afa  f9b41002          LDRSH    r1,[r4,#2]  ; ad7705_buff_
000afe  f9b50002          LDRSH    r0,[r5,#2]  ; ADR_KI0BAT
000b02  e8bd4070          POP      {r4-r6,lr}
000b06  f7ffbffe          B.W      lc640_write_int
                  |L1.2826|
;;;715    	
;;;716    	}	 	
;;;717    }
000b0a  bd70              POP      {r4-r6,pc}
;;;718    
                          ENDP

                  ubat_old_drv PROC
;;;721    //-----------------------------------------------
;;;722    void ubat_old_drv(void)
000b0c  b510              PUSH     {r4,lr}
;;;723    {        
;;;724    bat_u_old_cnt++;
000b0e  4cbe              LDR      r4,|L1.3592|
000b10  8820              LDRH     r0,[r4,#0]  ; bat_u_old_cnt
000b12  f1000001          ADD      r0,r0,#1
000b16  8020              STRH     r0,[r4,#0]
;;;725    gran_ring(&bat_u_old_cnt,0,8);
000b18  f04f0208          MOV      r2,#8
000b1c  f04f0100          MOV      r1,#0
000b20  4620              MOV      r0,r4
000b22  f7fffffe          BL       gran_ring
;;;726    
;;;727    bat[0]._u_old[bat_u_old_cnt]=bat[0]._Ub;
000b26  49b9              LDR      r1,|L1.3596|
000b28  f9b40000          LDRSH    r0,[r4,#0]  ; bat_u_old_cnt
000b2c  eb010040          ADD      r0,r1,r0,LSL #1
000b30  884a              LDRH     r2,[r1,#2]  ; bat
000b32  8402              STRH     r2,[r0,#0x20]
;;;728    bat[1]._u_old[bat_u_old_cnt]=bat[1]._Ub;
000b34  f8b1104e          LDRH     r1,[r1,#0x4e]  ; bat
000b38  f8a0106c          STRH     r1,[r0,#0x6c]
;;;729    }
000b3c  bd10              POP      {r4,pc}
;;;730    
                          ENDP

                  unet_drv PROC
;;;731    //-----------------------------------------------
;;;732    void unet_drv(void)
000b3e  b570              PUSH     {r4-r6,lr}
;;;733    {
;;;734    if(net_U<UMN)
000b40  4db3              LDR      r5,|L1.3600|
000b42  48b4              LDR      r0,|L1.3604|
;;;735    	{
;;;736    	if((unet_drv_cnt<10)&&(main_1Hz_cnt>15))
000b44  4ab4              LDR      r2,|L1.3608|
000b46  f9b51000          LDRSH    r1,[r5,#0]            ;734  ; net_U
000b4a  f9b03000          LDRSH    r3,[r0,#0]            ;734  ; UMN
000b4e  f9920000          LDRSB    r0,[r2,#0]
000b52  4299              CMP      r1,r3                 ;734
000b54  da1f              BGE      |L1.2966|
;;;737    		{
;;;738    		unet_drv_cnt++;
;;;739    		if(unet_drv_cnt>=10)
;;;740    			{
;;;741    			net_Ustore=net_U;
000b56  4cb1              LDR      r4,|L1.3612|
000b58  280a              CMP      r0,#0xa               ;736
000b5a  da0f              BGE      |L1.2940|
000b5c  4bb0              LDR      r3,|L1.3616|
000b5e  f9b33000          LDRSH    r3,[r3,#0]            ;736  ; main_1Hz_cnt
000b62  2b0f              CMP      r3,#0xf               ;736
000b64  dd0a              BLE      |L1.2940|
000b66  f1000001          ADD      r0,r0,#1              ;738
000b6a  b240              SXTB     r0,r0                 ;738
000b6c  7010              STRB     r0,[r2,#0]            ;738
000b6e  280a              CMP      r0,#0xa               ;739
000b70  db09              BLT      |L1.2950|
000b72  8021              STRH     r1,[r4,#0]
;;;742    		 	avar_unet_hndl(1);
000b74  2001              MOVS     r0,#1
000b76  f7fffffe          BL       avar_unet_hndl
000b7a  e004              B        |L1.2950|
                  |L1.2940|
;;;743    			
;;;744    			}
;;;745    		}
;;;746    	else if(unet_drv_cnt>=10)unet_drv_cnt=10;
000b7c  280a              CMP      r0,#0xa
000b7e  db02              BLT      |L1.2950|
000b80  f04f000a          MOV      r0,#0xa
000b84  7010              STRB     r0,[r2,#0]
                  |L1.2950|
;;;747    
;;;748    	if(net_U<net_Ustore) net_Ustore=net_U;	
000b86  f9b50000          LDRSH    r0,[r5,#0]  ; net_U
000b8a  f9b41000          LDRSH    r1,[r4,#0]  ; net_Ustore
000b8e  4288              CMP      r0,r1
000b90  da00              BGE      |L1.2964|
000b92  8020              STRH     r0,[r4,#0]
                  |L1.2964|
;;;749    	}
;;;750    
;;;751    else if(net_U>UMN)
;;;752    	{                 
;;;753    	if(unet_drv_cnt)
;;;754    		{
;;;755    		unet_drv_cnt--;
;;;756    		if(unet_drv_cnt<=0)
;;;757    			{
;;;758    			avar_unet_hndl(0);
;;;759    			}
;;;760    		}
;;;761    	else if(unet_drv_cnt<0)unet_drv_cnt=0;
;;;762    	
;;;763    	}
;;;764    
;;;765    }
000b94  bd70              POP      {r4-r6,pc}
                  |L1.2966|
000b96  ddfd              BLE      |L1.2964|
000b98  2800              CMP      r0,#0                 ;753
000b9a  d0fb              BEQ      |L1.2964|
000b9c  f1a00001          SUB      r0,r0,#1              ;755
000ba0  b240              SXTB     r0,r0                 ;755
000ba2  7010              STRB     r0,[r2,#0]            ;755
000ba4  2800              CMP      r0,#0                 ;756
000ba6  dcf5              BGT      |L1.2964|
000ba8  e8bd4070          POP      {r4-r6,lr}            ;758
000bac  2000              MOVS     r0,#0                 ;758
000bae  f7ffbffe          B.W      avar_unet_hndl
;;;766    
                          ENDP

                  matemat PROC
;;;767    //-----------------------------------------------
;;;768    void matemat(void)
000bb2  e92d5fff          PUSH     {r0-r12,lr}
;;;769    {
;;;770    //signed short temp_SS;
;;;771    signed long temp_SL/*,temp_SL_*/;
;;;772    char /*temp,*/i;
;;;773    signed short temp_SS;
;;;774    
;;;775    #ifdef UKU_MGTS
;;;776    // 
;;;777    temp_SL=(signed long)net_buff_;
;;;778    temp_SL*=Kunet;
;;;779    temp_SL/=110000L;
;;;780    net_U=(signed short)temp_SL;
;;;781    #endif
;;;782    
;;;783    #ifdef UKU_RSTKM
;;;784    // 
;;;785    temp_SL=(signed long)net_buff_;
;;;786    temp_SL*=Kunet;
;;;787    temp_SL/=110000L;
;;;788    net_U=(signed short)temp_SL;
;;;789    #endif
;;;790    
;;;791    #ifdef UKU_3U
;;;792    // 
;;;793    temp_SL=(signed long)net_buff_;
;;;794    temp_SL*=Kunet;
;;;795    temp_SL/=36000L;
;;;796    net_U=(signed short)temp_SL;
;;;797    #endif
;;;798    
;;;799    #ifdef UKU_6U
;;;800    // 
;;;801    
;;;802    if((AUSW_MAIN%10)||(AUSW_MAIN==2400)||(AUSW_MAIN==4800)||(AUSW_MAIN==6000))
;;;803    	{
;;;804    
;;;805    	if(bps[11]._device==dNET_METR)
;;;806    		{
;;;807    		net_metr_buff_[0]=((signed short)bps[11]._buff[0])+(((signed short)bps[11]._buff[1])<<8);
;;;808    		net_metr_buff_[1]=((signed short)bps[11]._buff[2])+(((signed short)bps[11]._buff[3])<<8);
;;;809    		net_metr_buff_[2]=((signed short)bps[11]._buff[4])+(((signed short)bps[11]._buff[5])<<8);
;;;810    
;;;811    		temp_SL=(signed long)net_metr_buff_[0];
;;;812    		temp_SL*=KunetA;
;;;813    		temp_SL/=6000L;
;;;814    		net_Ua=(signed short)temp_SL;
;;;815    	
;;;816    		temp_SL=(signed long)net_metr_buff_[1];
;;;817    		temp_SL*=KunetB;
;;;818    		temp_SL/=6000L;
;;;819    		net_Ub=(signed short)temp_SL;
;;;820    	
;;;821    		temp_SL=(signed long)net_metr_buff_[2];
;;;822    		temp_SL*=KunetC;
;;;823    		temp_SL/=6000L;
;;;824    		net_Uc=(signed short)temp_SL;
;;;825    		}
;;;826    	else
;;;827    		{
;;;828    		temp_SL=(signed long)net_buff_;
;;;829    		temp_SL*=KunetA;
;;;830    		temp_SL/=110000L;
;;;831    		net_Ua=(signed short)temp_SL;
;;;832    	
;;;833    		temp_SL=(signed long)adc_buff_[3];
;;;834    		temp_SL*=KunetB;
;;;835    		temp_SL/=6000L;
;;;836    		net_Ub=(signed short)temp_SL;
;;;837    	
;;;838    		temp_SL=(signed long)adc_buff_[10];
;;;839    		temp_SL*=KunetC;
;;;840    		temp_SL/=6000L;
;;;841    		net_Uc=(signed short)temp_SL;
;;;842    		}
;;;843    
;;;844    	net_U=net_Ua;
;;;845    	if(net_Ub<net_U)net_U=net_Ub;
;;;846    	if(net_Uc<net_U)net_U=net_Uc;
;;;847    	}
;;;848    else 
;;;849    	{
;;;850    	temp_SL=(signed long)net_buff_;
;;;851    	temp_SL*=Kunet;
;;;852    	temp_SL/=110000L;
;;;853    	net_U=(signed short)temp_SL;
;;;854    	}
;;;855    
;;;856    
;;;857    
;;;858    
;;;859    #endif
;;;860    
;;;861    #ifdef UKU_GLONASS
;;;862    // 
;;;863    temp_SL=(signed long)net_buff_;
;;;864    temp_SL*=Kunet;
;;;865    temp_SL/=110000L;
;;;866    net_U=(signed short)temp_SL;
;;;867    #endif
;;;868    
;;;869    #ifdef UKU_KONTUR
;;;870    // 
;;;871    temp_SL=(signed long)net_buff_;
;;;872    temp_SL*=Kunet;
;;;873    temp_SL/=110000L;
;;;874    net_U=(signed short)temp_SL;
;;;875    #endif
;;;876    
;;;877    
;;;878    #ifdef UKU_220_V2
;;;879    // 
;;;880    	temp_SL=(signed long)net_buff_;
;;;881    	temp_SL*=Kunet;
;;;882    	temp_SL/=5000L;
;;;883    	net_U=(signed short)temp_SL;
;;;884    
;;;885    #endif
;;;886    
;;;887    
;;;888    #ifdef UKU_220
;;;889    // 
;;;890    
;;;891    if(AUSW_MAIN==22035)
;;;892    	{
;;;893    	temp_SL=(signed long)net_buff_;
;;;894    	temp_SL*=KunetA;
;;;895    	temp_SL/=6000L;
;;;896    	net_Ua=(signed short)temp_SL;
;;;897    
;;;898    	temp_SL=(signed long)adc_buff_[3];
;;;899    	temp_SL*=KunetB;
;;;900    	temp_SL/=6000L;
;;;901    	net_Ub=(signed short)temp_SL;
;;;902    
;;;903    	temp_SL=(signed long)adc_buff_[10];
;;;904    	temp_SL*=KunetC;
;;;905    	temp_SL/=6000L;
;;;906    	net_Uc=(signed short)temp_SL;
;;;907    
;;;908    	net_U=net_Ua;
;;;909    	if(net_Ub<net_U)net_U=net_Ub;
;;;910    	if(net_Uc<net_U)net_U=net_Uc;
;;;911    	}
;;;912    else
;;;913    	{
;;;914    	temp_SL=(signed long)net_buff_;
;;;915    	temp_SL*=Kunet;
;;;916    	#ifdef _ACDC_
;;;917    	temp_SL/=500L;
;;;918    	#else
;;;919    	temp_SL/=5000L;
;;;920    	#endif
;;;921    	net_U=(signed short)temp_SL;
;;;922    	
;;;923    	}
;;;924    #endif
;;;925    
;;;926    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;927    // 
;;;928    
;;;929    
;;;930    	if(bps[11]._device==dNET_METR)
000bb6  489b              LDR      r0,|L1.3620|
;;;931    		{
;;;932    		net_metr_buff_[0]=((signed short)bps[11]._buff[0])+(((signed short)bps[11]._buff[1])<<8);
;;;933    		net_metr_buff_[1]=((signed short)bps[11]._buff[2])+(((signed short)bps[11]._buff[3])<<8);
;;;934    		net_metr_buff_[2]=((signed short)bps[11]._buff[4])+(((signed short)bps[11]._buff[5])<<8);
;;;935    
;;;936    		temp_SL=(signed long)net_metr_buff_[2];
;;;937    		temp_SL*=KunetA;
000bb8  4b9b              LDR      r3,|L1.3624|
;;;938    		temp_SL/=6000L;
;;;939    		net_Ua=(signed short)temp_SL;
;;;940    	
;;;941    		temp_SL=(signed long)net_metr_buff_[1];
;;;942    		temp_SL*=KunetB;
000bba  499d              LDR      r1,|L1.3632|
000bbc  f890039c          LDRB     r0,[r0,#0x39c]        ;930  ; bps
000bc0  9003              STR      r0,[sp,#0xc]          ;937
;;;943    		temp_SL/=6000L;
;;;944    		net_Ub=(signed short)temp_SL;
;;;945    	
;;;946    		temp_SL=(signed long)net_metr_buff_[0];
;;;947    		temp_SL*=KunetC;
000bc2  4a9c              LDR      r2,|L1.3636|
000bc4  f9b3b000          LDRSH    r11,[r3,#0]           ;937
000bc8  f9b11000          LDRSH    r1,[r1,#0]            ;942
000bcc  9102              STR      r1,[sp,#8]
000bce  f8dfc25c          LDR      r12,|L1.3628|
000bd2  f9b21000          LDRSH    r1,[r2,#0]
000bd6  4b98              LDR      r3,|L1.3640|
;;;948    		temp_SL/=6000L;
;;;949    		net_Uc=(signed short)temp_SL;
000bd8  f8df8260          LDR      r8,|L1.3644|
;;;950    
;;;951    		net_F3=((signed short)bps[11]._buff[6])+(((signed short)bps[11]._buff[7])<<8);
;;;952    
;;;953    		net_U=net_Ua;
;;;954    		if(net_Ub<net_U)net_U=net_Ub;
;;;955    		if(net_Uc<net_U)net_U=net_Uc;
;;;956    		}
;;;957    	  else if(AUSW_MAIN==22033)
;;;958    	{
;;;959    	temp_SL=(signed long)net_buff_;
000bdc  4f86              LDR      r7,|L1.3576|
000bde  f2456411          MOV      r4,#0x5611            ;957
;;;960    	temp_SL*=KunetA;
;;;961    	temp_SL/=4000L;
;;;962    	net_Ua=(signed short)temp_SL;
;;;963    
;;;964    	temp_SL=(signed long)adc_buff_[3];
;;;965    	temp_SL*=KunetB;
;;;966    	temp_SL/=6000L;
;;;967    	net_Ub=(signed short)temp_SL;
;;;968    
;;;969    	temp_SL=(signed long)adc_buff_[10];
;;;970    	temp_SL*=KunetC;
;;;971    	temp_SL/=6000L;
;;;972    	net_Uc=(signed short)temp_SL;
;;;973    
;;;974    	net_U=net_Ua;
;;;975    	if(net_Ub<net_U)net_U=net_Ub;
;;;976    	if(net_Uc<net_U)net_U=net_Uc;
;;;977    	}
;;;978    else if((AUSW_MAIN==22063)||(AUSW_MAIN==22023)||(AUSW_MAIN==22043))
;;;979    	{
;;;980    	temp_SL=(signed long)net_buff_;
;;;981    	temp_SL*=KunetA;
;;;982    	temp_SL/=40000L;
;;;983    	net_Ua=(signed short)temp_SL;
;;;984    
;;;985    	temp_SL=(signed long)adc_buff_[3];
;;;986    	temp_SL*=KunetB;
;;;987    	temp_SL/=6000L;
;;;988    	net_Ub=(signed short)temp_SL;
;;;989    
;;;990    	temp_SL=(signed long)adc_buff_[10];
;;;991    	temp_SL*=KunetC;
;;;992    	temp_SL/=6000L;
;;;993    	net_Uc=(signed short)temp_SL;
;;;994    
;;;995    	net_U=net_Ua;
;;;996    	if(net_Ub<net_U)net_U=net_Ub;
;;;997    	if(net_Uc<net_U)net_U=net_Uc;
;;;998    	}
;;;999    else	if((AUSW_MAIN==22010)||(AUSW_MAIN==22011) )
;;;1000   	{
;;;1001   	temp_SL=(signed long)net_buff_;
;;;1002   	temp_SL*=Kunet;
;;;1003   	temp_SL/=35000L;
;;;1004   	net_U=(signed short)temp_SL;
;;;1005   	
;;;1006   	}
;;;1007   else
;;;1008   	{
;;;1009   	temp_SL=(signed long)net_buff_;
;;;1010   	temp_SL*=Kunet;
;;;1011   	#ifdef _ACDC_
;;;1012   	temp_SL/=500L;
000be2  f44f76fa          MOV      r6,#0x1f4
000be6  f24555fa          MOV      r5,#0x55fa            ;999
000bea  9101              STR      r1,[sp,#4]            ;930
000bec  2807              CMP      r0,#7                 ;930
000bee  d03a              BEQ      |L1.3174|
000bf0  4639              MOV      r1,r7                 ;959
000bf2  f8df9250          LDR      r9,|L1.3652|
000bf6  8cca              LDRH     r2,[r1,#0x26]         ;959
000bf8  498b              LDR      r1,|L1.3624|
000bfa  f8dfa234          LDR      r10,|L1.3632|
000bfe  f2417b70          MOV      r11,#0x1770           ;938
000c02  f9b11000          LDRSH    r1,[r1,#0]            ;937
000c06  f9baa000          LDRSH    r10,[r10,#0]          ;942
000c0a  434a              MULS     r2,r1,r2              ;960
000c0c  f9b91006          LDRSH    r1,[r9,#6]            ;964
000c10  f9b99014          LDRSH    r9,[r9,#0x14]         ;969
000c14  fb01f10a          MUL      r1,r1,r10             ;965
000c18  f8dfa218          LDR      r10,|L1.3636|
000c1c  fb91f1fb          SDIV     r1,r1,r11             ;966
000c20  f9baa000          LDRSH    r10,[r10,#0]          ;947
000c24  4886              LDR      r0,|L1.3648|
000c26  fb09f90a          MUL      r9,r9,r10             ;970
000c2a  fb99f9fb          SDIV     r9,r9,r11             ;971
000c2e  8800              LDRH     r0,[r0,#0]            ;957  ; AUSW_MAIN
000c30  b209              SXTH     r1,r1                 ;967
000c32  fa0ff989          SXTH     r9,r9                 ;972
000c36  42a0              CMP      r0,r4                 ;957
000c38  d15c              BNE      |L1.3316|
000c3a  f44f607a          MOV      r0,#0xfa0             ;961
000c3e  fb92f0f0          SDIV     r0,r2,r0              ;961
000c42  b200              SXTH     r0,r0                 ;962
000c44  f8ac0000          STRH     r0,[r12,#0]           ;962
000c48  8019              STRH     r1,[r3,#0]            ;967
000c4a  f8a89000          STRH     r9,[r8,#0]            ;972
000c4e  4a70              LDR      r2,|L1.3600|
000c50  8010              STRH     r0,[r2,#0]            ;974
000c52  4281              CMP      r1,r0                 ;975
000c54  da00              BGE      |L1.3160|
000c56  8011              STRH     r1,[r2,#0]            ;975
                  |L1.3160|
000c58  f9b20000          LDRSH    r0,[r2,#0]            ;976  ; net_U
000c5c  4581              CMP      r9,r0                 ;976
000c5e  da01              BGE      |L1.3172|
000c60  f8a29000          STRH     r9,[r2,#0]            ;976
                  |L1.3172|
000c64  e07e              B        |L1.3428|
                  |L1.3174|
000c66  4878              LDR      r0,|L1.3656|
000c68  f8df918c          LDR      r9,|L1.3576|
000c6c  7801              LDRB     r1,[r0,#0]            ;932  ; bps
000c6e  7842              LDRB     r2,[r0,#1]            ;932  ; bps
000c70  f1090988          ADD      r9,r9,#0x88           ;932
000c74  eb012102          ADD      r1,r1,r2,LSL #8       ;932
000c78  fa1ffa81          UXTH     r10,r1                ;932
000c7c  f8a9a000          STRH     r10,[r9,#0]           ;932
000c80  7881              LDRB     r1,[r0,#2]            ;933  ; bps
000c82  78c2              LDRB     r2,[r0,#3]            ;933  ; bps
000c84  eb012102          ADD      r1,r1,r2,LSL #8       ;933
000c88  b289              UXTH     r1,r1                 ;933
000c8a  f8a91002          STRH     r1,[r9,#2]            ;933
000c8e  7902              LDRB     r2,[r0,#4]            ;934  ; bps
000c90  f890e005          LDRB     lr,[r0,#5]            ;934  ; bps
000c94  eb02220e          ADD      r2,r2,lr,LSL #8       ;934
000c98  b292              UXTH     r2,r2                 ;934
000c9a  f8a92004          STRH     r2,[r9,#4]            ;934
000c9e  fb02f20b          MUL      r2,r2,r11             ;937
000ca2  f2417970          MOV      r9,#0x1770            ;938
000ca6  fb92f2f9          SDIV     r2,r2,r9              ;938
000caa  fa0ffb82          SXTH     r11,r2                ;939
000cae  f8acb000          STRH     r11,[r12,#0]          ;939
000cb2  9a02              LDR      r2,[sp,#8]            ;942
000cb4  fb01f102          MUL      r1,r1,r2              ;942
000cb8  fb91f1f9          SDIV     r1,r1,r9              ;943
000cbc  b209              SXTH     r1,r1                 ;944
000cbe  8019              STRH     r1,[r3,#0]            ;944
000cc0  9a01              LDR      r2,[sp,#4]            ;947
000cc2  fb0afa02          MUL      r10,r10,r2            ;947
000cc6  fb9af2f9          SDIV     r2,r10,r9             ;948
000cca  b212              SXTH     r2,r2                 ;949
000ccc  f8a82000          STRH     r2,[r8,#0]            ;949
000cd0  7983              LDRB     r3,[r0,#6]            ;951  ; bps
000cd2  79c0              LDRB     r0,[r0,#7]            ;951  ; bps
000cd4  eb032300          ADD      r3,r3,r0,LSL #8       ;951
000cd8  485c              LDR      r0,|L1.3660|
000cda  8003              STRH     r3,[r0,#0]            ;951
000cdc  484c              LDR      r0,|L1.3600|
000cde  f8a0b000          STRH     r11,[r0,#0]           ;953
000ce2  4559              CMP      r1,r11                ;954
000ce4  da00              BGE      |L1.3304|
000ce6  8001              STRH     r1,[r0,#0]            ;954
                  |L1.3304|
000ce8  f9b01000          LDRSH    r1,[r0,#0]            ;955  ; net_U
000cec  428a              CMP      r2,r1                 ;955
000cee  da39              BGE      |L1.3428|
000cf0  8002              STRH     r2,[r0,#0]            ;955
000cf2  e037              B        |L1.3428|
                  |L1.3316|
000cf4  f5a04aac          SUB      r10,r0,#0x5600        ;978
000cf8  f1ba0a2f          SUBS     r10,r10,#0x2f         ;978
000cfc  d005              BEQ      |L1.3338|
000cfe  f11a0a28          ADDS     r10,r10,#0x28         ;978
000d02  d002              BEQ      |L1.3338|
000d04  f1ba0a14          SUBS     r10,r10,#0x14         ;978
000d08  d115              BNE      |L1.3382|
                  |L1.3338|
000d0a  f6494040          MOV      r0,#0x9c40            ;982
000d0e  fb92f0f0          SDIV     r0,r2,r0              ;982
000d12  b200              SXTH     r0,r0                 ;983
000d14  f8ac0000          STRH     r0,[r12,#0]           ;983
000d18  8019              STRH     r1,[r3,#0]            ;988
000d1a  f8a89000          STRH     r9,[r8,#0]            ;993
000d1e  4a3c              LDR      r2,|L1.3600|
000d20  8010              STRH     r0,[r2,#0]            ;995
000d22  4281              CMP      r1,r0                 ;996
000d24  da00              BGE      |L1.3368|
000d26  8011              STRH     r1,[r2,#0]            ;996
                  |L1.3368|
000d28  f9b20000          LDRSH    r0,[r2,#0]            ;997  ; net_U
000d2c  4581              CMP      r9,r0                 ;997
000d2e  da19              BGE      |L1.3428|
000d30  f8a29000          STRH     r9,[r2,#0]            ;997
000d34  e016              B        |L1.3428|
                  |L1.3382|
000d36  4946              LDR      r1,|L1.3664|
000d38  f9b12000          LDRSH    r2,[r1,#0]            ;1002
000d3c  492e              LDR      r1,|L1.3576|
000d3e  8cc9              LDRH     r1,[r1,#0x26]         ;959
000d40  4351              MULS     r1,r2,r1              ;1002
000d42  42a8              CMP      r0,r5                 ;999
000d44  d003              BEQ      |L1.3406|
000d46  f5a042aa          SUB      r2,r0,#0x5500         ;999
000d4a  3afb              SUBS     r2,r2,#0xfb           ;999
000d4c  d106              BNE      |L1.3420|
                  |L1.3406|
000d4e  f64800b8          MOV      r0,#0x88b8            ;1003
000d52  fb91f0f0          SDIV     r0,r1,r0              ;1003
000d56  492e              LDR      r1,|L1.3600|
000d58  8008              STRH     r0,[r1,#0]            ;1004
000d5a  e003              B        |L1.3428|
                  |L1.3420|
000d5c  fb91f0f6          SDIV     r0,r1,r6
;;;1013   	#else
;;;1014   	temp_SL/=5000L;
;;;1015   	#endif
;;;1016   	net_U=(signed short)temp_SL;
000d60  492b              LDR      r1,|L1.3600|
000d62  8008              STRH     r0,[r1,#0]
                  |L1.3428|
;;;1017   	
;;;1018   	}
;;;1019   if(bps[11]._device!=dNET_METR) net_F3=net_F;
000d64  9803              LDR      r0,[sp,#0xc]
000d66  2807              CMP      r0,#7
000d68  d003              BEQ      |L1.3442|
000d6a  483a              LDR      r0,|L1.3668|
000d6c  8801              LDRH     r1,[r0,#0]  ; net_F
000d6e  4837              LDR      r0,|L1.3660|
000d70  8001              STRH     r1,[r0,#0]
                  |L1.3442|
;;;1020   #endif
;;;1021   
;;;1022   #ifdef UKU_TELECORE2015
;;;1023   // 
;;;1024   temp_SL=(signed long)net_buff_;
;;;1025   temp_SL*=Kunet;
;;;1026   temp_SL/=110000L;
;;;1027   net_U=(signed short)temp_SL;
;;;1028   #endif
;;;1029   
;;;1030   // 
;;;1031   temp_SL=(signed long)adc_buff_[0];
000d72  4834              LDR      r0,|L1.3652|
000d74  f9b02000          LDRSH    r2,[r0,#0]  ; adc_buff_
;;;1032   temp_SL*=Kubat[0];
000d78  f8dfc0dc          LDR      r12,|L1.3672|
000d7c  f9bc1000          LDRSH    r1,[r12,#0]  ; Kubat
000d80  4351              MULS     r1,r2,r1
;;;1033   temp_SL/=2000L;
000d82  f44f69fa          MOV      r9,#0x7d0
000d86  fb91f1f9          SDIV     r1,r1,r9
;;;1034   bat[0]._Ub=(signed short)temp_SL;
000d8a  f8df8080          LDR      r8,|L1.3596|
000d8e  f8a81002          STRH     r1,[r8,#2]
;;;1035   
;;;1036   #ifdef UKU_220
;;;1037   // 
;;;1038   temp_SL=(signed long)adc_buff_[0];
;;;1039   temp_SL*=Kubat[0];
;;;1040   temp_SL/=400L;
;;;1041   bat[0]._Ub=(signed short)temp_SL;
;;;1042   #endif
;;;1043   
;;;1044   #ifdef UKU_220_V2
;;;1045   // 
;;;1046   temp_SL=(signed long)adc_buff_[0];
;;;1047   temp_SL*=Kubat[0];
;;;1048   temp_SL/=400L;
;;;1049   bat[0]._Ub=(signed short)temp_SL;
;;;1050   #endif
;;;1051   
;;;1052   temp_SL=(signed long)adc_buff_[4];
000d92  f9b03008          LDRSH    r3,[r0,#8]  ; adc_buff_
;;;1053   temp_SL*=Kubatm[0];
000d96  4a31              LDR      r2,|L1.3676|
000d98  f9b21000          LDRSH    r1,[r2,#0]  ; Kubatm
000d9c  fb01f103          MUL      r1,r1,r3
;;;1054   temp_SL/=700L;
000da0  f44f732f          MOV      r3,#0x2bc
000da4  fb91f1f3          SDIV     r1,r1,r3
;;;1055   bat[0]._Ubm=(signed short)temp_SL;
000da8  f8a81004          STRH     r1,[r8,#4]
;;;1056   
;;;1057   #ifdef UKU_KONTUR
;;;1058   temp_SL=(signed long)adc_buff_[4];
;;;1059   temp_SL*=Kubatm[0];
;;;1060   temp_SL/=2000L;
;;;1061   bat[0]._Ubm=(signed short)temp_SL;
;;;1062   #endif
;;;1063   
;;;1064   temp_SL=(signed long)adc_buff_[12];
000dac  f9b0a018          LDRSH    r10,[r0,#0x18]  ; adc_buff_
;;;1065   temp_SL*=Kubat[1];
000db0  f9bc1002          LDRSH    r1,[r12,#2]  ; Kubat
000db4  fb01f10a          MUL      r1,r1,r10
;;;1066   temp_SL/=2000L;
000db8  fb91f1f9          SDIV     r1,r1,r9
;;;1067   bat[1]._Ub=(signed short)temp_SL;
000dbc  f8a8104e          STRH     r1,[r8,#0x4e]
;;;1068   
;;;1069   #ifdef UKU_220
;;;1070   temp_SL=(signed long)adc_buff_[12];
;;;1071   temp_SL*=Kubat[1];
;;;1072   temp_SL/=400L;
;;;1073   bat[1]._Ub=(signed short)temp_SL;
;;;1074   #endif
;;;1075   
;;;1076   #ifdef UKU_220_V2
;;;1077   temp_SL=(signed long)adc_buff_[12];
;;;1078   temp_SL*=Kubat[1];
;;;1079   temp_SL/=400L;
;;;1080   bat[1]._Ub=(signed short)temp_SL;
;;;1081   #endif
;;;1082   
;;;1083   temp_SL=(signed long)adc_buff_[1];
000dc0  f9b01002          LDRSH    r1,[r0,#2]  ; adc_buff_
;;;1084   temp_SL*=Kubatm[1];
000dc4  f9b20002          LDRSH    r0,[r2,#2]  ; Kubatm
000dc8  fb00f001          MUL      r0,r0,r1
;;;1085   temp_SL/=700L;
000dcc  fb90f0f3          SDIV     r0,r0,r3
;;;1086   bat[1]._Ubm=(signed short)temp_SL;
000dd0  f8a80050          STRH     r0,[r8,#0x50]
;;;1087   #ifdef UKU_KONTUR
;;;1088   temp_SL=(signed long)adc_buff_[1];
;;;1089   temp_SL*=Kubatm[1];
;;;1090   temp_SL/=2000L;
;;;1091   bat[1]._Ubm=(signed short)temp_SL;
;;;1092   #endif
;;;1093   
;;;1094   #ifdef UKU_TELECORE2015
;;;1095   temp_SL=(signed long)adc_buff_[2];
;;;1096   temp_SL*=Kubat[0];
;;;1097   temp_SL/=2000L;
;;;1098   bat[0]._Ub=(signed short)temp_SL;
;;;1099   #endif
;;;1100   
;;;1101   /*
;;;1102   // 
;;;1103   if(!mess_find_unvol(MESS2MATEMAT))
;;;1104   	{
;;;1105   	temp_SL=(signed long)ad7705_buff_[0];
;;;1106   	temp_SL-=(signed long)Kibat0[0];
;;;1107   	temp_SL*=(signed long)Kibat1[0];
;;;1108   	if((AUSW_MAIN==24120)||(AUSW_MAIN==24210))temp_SL/=300L;
;;;1109   	else temp_SL/=1000L;
;;;1110   	bat[0]._Ib=(signed short)temp_SL;
;;;1111   
;;;1112   	temp_SL=(signed long)ad7705_buff_[1];
;;;1113   	temp_SL-=(signed long)Kibat0[1];
;;;1114   	temp_SL*=(signed long)Kibat1[1];
;;;1115   	if((AUSW_MAIN==24120)||(AUSW_MAIN==24210))temp_SL/=300L;
;;;1116   	else temp_SL/=1000L;
;;;1117   	bat[1]._Ib=(signed short)temp_SL;
;;;1118   	}
;;;1119   */
;;;1120   
;;;1121   
;;;1122   // 
;;;1123   if(!mess_find_unvol(MESS2MATEMAT))
000dd4  f04f00dc          MOV      r0,#0xdc
000dd8  f7fffffe          BL       mess_find_unvol
;;;1124   	{
;;;1125   	temp_SL=(signed long)ad7705_buff_[0];
;;;1126   	temp_SL-=(signed long)Kibat0[0];
;;;1127   	temp_SL*=(signed long)Kibat1[0];
;;;1128   	if((AUSW_MAIN==24120)||(AUSW_MAIN==24210))temp_SL/=300L;
;;;1129   	else if((AUSW_MAIN==22010)||(AUSW_MAIN==22035)||(AUSW_MAIN==22033))temp_SL/=2000L;
000ddc  f2456213          MOV      r2,#0x5613
000de0  e03e              B        |L1.3680|
000de2  0000              DCW      0x0000
                  |L1.3556|
                          DCD      mess_data
                  |L1.3560|
                          DCD      USIGN
                  |L1.3564|
                          DCD      load_U
                  |L1.3568|
                          DCD      load_I
                  |L1.3572|
                          DCD      bat_ips
                  |L1.3576|
                          DCD      ||area_number.21||
                  |L1.3580|
                          DCD      Kibat0
                  |L1.3584|
                          DCD      ad7705_buff_
                  |L1.3588|
                          DCD      ADR_KI0BAT
                  |L1.3592|
                          DCD      bat_u_old_cnt
                  |L1.3596|
                          DCD      bat
                  |L1.3600|
                          DCD      net_U
                  |L1.3604|
                          DCD      UMN
                  |L1.3608|
                          DCD      unet_drv_cnt
                  |L1.3612|
                          DCD      net_Ustore
                  |L1.3616|
                          DCD      main_1Hz_cnt
                  |L1.3620|
                          DCD      bps
                  |L1.3624|
                          DCD      KunetA
                  |L1.3628|
                          DCD      net_Ua
                  |L1.3632|
                          DCD      KunetB
                  |L1.3636|
                          DCD      KunetC
                  |L1.3640|
                          DCD      net_Ub
                  |L1.3644|
                          DCD      net_Uc
                  |L1.3648|
                          DCD      AUSW_MAIN
                  |L1.3652|
                          DCD      ||.bss||+0x400
                  |L1.3656|
                          DCD      bps+0x3a2
                  |L1.3660|
                          DCD      net_F3
                  |L1.3664|
                          DCD      Kunet
                  |L1.3668|
                          DCD      net_F
                  |L1.3672|
                          DCD      Kubat
                  |L1.3676|
                          DCD      Kubatm
                  |L1.3680|
000e60  bbf0              CBNZ     r0,|L1.3808|
000e62  f8dfa3fc          LDR      r10,|L1.4704|
000e66  f8ba0000          LDRH     r0,[r10,#0]           ;1125  ; ad7705_buff_
000e6a  f8dfb3f8          LDR      r11,|L1.4708|
000e6e  f8bb1000          LDRH     r1,[r11,#0]           ;1126  ; Kibat0
000e72  eba00001          SUB      r0,r0,r1              ;1126
000e76  4bfc              LDR      r3,|L1.4712|
000e78  f9b31000          LDRSH    r1,[r3,#0]            ;1127  ; Kibat1
000e7c  fb01f100          MUL      r1,r1,r0              ;1127
000e80  48fa              LDR      r0,|L1.4716|
000e82  f6456c38          MOV      r12,#0x5e38           ;1128
000e86  8800              LDRH     r0,[r0,#0]            ;1128  ; AUSW_MAIN
000e88  4560              CMP      r0,r12                ;1128
000e8a  d004              BEQ      |L1.3734|
000e8c  f5a04ebc          SUB      lr,r0,#0x5e00         ;1128
000e90  f1be0e92          SUBS     lr,lr,#0x92           ;1128
000e94  d104              BNE      |L1.3744|
                  |L1.3734|
000e96  f44f7e96          MOV      lr,#0x12c             ;1128
000e9a  fb91f1fe          SDIV     r1,r1,lr              ;1128
000e9e  e00c              B        |L1.3770|
                  |L1.3744|
000ea0  42a8              CMP      r0,r5
000ea2  d003              BEQ      |L1.3756|
000ea4  4290              CMP      r0,r2
000ea6  d001              BEQ      |L1.3756|
000ea8  42a0              CMP      r0,r4
000eaa  d102              BNE      |L1.3762|
                  |L1.3756|
000eac  fb91f1f9          SDIV     r1,r1,r9
000eb0  e003              B        |L1.3770|
                  |L1.3762|
;;;1130   	else temp_SL/=1000L;
000eb2  f44f7e7a          MOV      lr,#0x3e8
000eb6  fb91f1fe          SDIV     r1,r1,lr
                  |L1.3770|
;;;1131   	#ifdef UKU_TELECORE2015
;;;1132   	temp_SL/=2L;
;;;1133   	temp_SL=-temp_SL;
;;;1134   	#endif
;;;1135   	bat[0]._Ib=(signed short)temp_SL;
000eba  f8a81008          STRH     r1,[r8,#8]
;;;1136   
;;;1137   	temp_SL=(signed long)ad7705_buff_[1];
000ebe  f8ba1002          LDRH     r1,[r10,#2]  ; ad7705_buff_
;;;1138   	temp_SL-=(signed long)Kibat0[1];
000ec2  f8bba002          LDRH     r10,[r11,#2]  ; Kibat0
000ec6  eba10a0a          SUB      r10,r1,r10
;;;1139   	temp_SL*=(signed long)Kibat1[1];
000eca  f9b31002          LDRSH    r1,[r3,#2]  ; Kibat1
000ece  fb01f10a          MUL      r1,r1,r10
;;;1140   	if((AUSW_MAIN==24120)||(AUSW_MAIN==24210))temp_SL/=300L;
000ed2  4560              CMP      r0,r12
000ed4  d003              BEQ      |L1.3806|
000ed6  f5a043bc          SUB      r3,r0,#0x5e00
000eda  3b92              SUBS     r3,r3,#0x92
000edc  d106              BNE      |L1.3820|
                  |L1.3806|
000ede  e000              B        |L1.3810|
                  |L1.3808|
000ee0  e013              B        |L1.3850|
                  |L1.3810|
000ee2  f44f7096          MOV      r0,#0x12c
000ee6  fb91f0f0          SDIV     r0,r1,r0
000eea  e00c              B        |L1.3846|
                  |L1.3820|
;;;1141   	else if((AUSW_MAIN==22010)||(AUSW_MAIN==22035)||(AUSW_MAIN==22033))temp_SL/=2000L;
000eec  42a8              CMP      r0,r5
000eee  d003              BEQ      |L1.3832|
000ef0  4290              CMP      r0,r2
000ef2  d001              BEQ      |L1.3832|
000ef4  42a0              CMP      r0,r4
000ef6  d102              BNE      |L1.3838|
                  |L1.3832|
000ef8  fb91f0f9          SDIV     r0,r1,r9
000efc  e003              B        |L1.3846|
                  |L1.3838|
;;;1142   	else temp_SL/=1000L;
000efe  f44f707a          MOV      r0,#0x3e8
000f02  fb91f0f0          SDIV     r0,r1,r0
                  |L1.3846|
;;;1143   	bat[1]._Ib=(signed short)temp_SL;
000f06  f8a80054          STRH     r0,[r8,#0x54]
                  |L1.3850|
;;;1144   	}
;;;1145   
;;;1146   
;;;1147   
;;;1148   
;;;1149   
;;;1150   // 
;;;1151   
;;;1152   #ifdef UKU_KONTUR
;;;1153   if((adc_buff_[6]>800)&&(adc_buff_[6]<3800))bat[0]._nd=0;
;;;1154   else bat[0]._nd=1;
;;;1155   temp_SL=(signed long)adc_buff_[6];
;;;1156   temp_SL*=Ktbat[0];
;;;1157   temp_SL/=20000L;
;;;1158   temp_SL-=273L;
;;;1159   bat[0]._Tb=(signed short)temp_SL;
;;;1160   #else
;;;1161   if((adc_buff_[6]>800)&&(adc_buff_[6]<3800))bat[0]._nd=0;
000f0a  f8dfb364          LDR      r11,|L1.4720|
000f0e  f6403eb7          MOV      lr,#0xbb7
000f12  2100              MOVS     r1,#0
000f14  f9bb000c          LDRSH    r0,[r11,#0xc]  ; adc_buff_
;;;1162   else bat[0]._nd=1;
000f18  f04f0c01          MOV      r12,#1
000f1c  4603              MOV      r3,r0                 ;1161
000f1e  f2a03021          SUB      r0,r0,#0x321          ;1161
000f22  9000              STR      r0,[sp,#0]            ;1161
000f24  4570              CMP      r0,lr                 ;1161
000f26  d202              BCS      |L1.3886|
000f28  f888100c          STRB     r1,[r8,#0xc]          ;1161
000f2c  e001              B        |L1.3890|
                  |L1.3886|
000f2e  f888c00c          STRB     r12,[r8,#0xc]
                  |L1.3890|
;;;1163   temp_SL=(signed long)adc_buff_[6];
;;;1164   temp_SL*=Ktbat[0];
000f32  48d0              LDR      r0,|L1.4724|
000f34  f9b00000          LDRSH    r0,[r0,#0]  ; Ktbat
000f38  4358              MULS     r0,r3,r0
;;;1165   temp_SL/=20000L;
000f3a  f6446a20          MOV      r10,#0x4e20
000f3e  fb90f0fa          SDIV     r0,r0,r10
;;;1166   temp_SL-=273L;
000f42  f2a01011          SUB      r0,r0,#0x111
;;;1167   bat[0]._Tb=(signed short)temp_SL;
000f46  f8a8000a          STRH     r0,[r8,#0xa]
;;;1168   #endif
;;;1169   
;;;1170   #ifdef UKU_KONTUR
;;;1171   if((adc_buff_[7]>800)&&(adc_buff_[7]<3800))bat[1]._nd=0;
;;;1172   else bat[1]._nd=1;
;;;1173   temp_SL=(signed long)adc_buff_[7];
;;;1174   temp_SL*=Ktbat[1];
;;;1175   temp_SL/=20000L;
;;;1176   temp_SL-=273L;
;;;1177   bat[1]._Tb=(signed short)temp_SL;
;;;1178   #else
;;;1179   if((adc_buff_[7]>800)&&(adc_buff_[7]<3800))bat[1]._nd=0;
000f4a  f9bb000e          LDRSH    r0,[r11,#0xe]  ; adc_buff_
000f4e  f6403eb7          MOV      lr,#0xbb7
000f52  f2a03a21          SUB      r10,r0,#0x321
000f56  45f2              CMP      r10,lr
000f58  d202              BCS      |L1.3936|
000f5a  f8881058          STRB     r1,[r8,#0x58]
000f5e  e001              B        |L1.3940|
                  |L1.3936|
;;;1180   else bat[1]._nd=1;
000f60  f888c058          STRB     r12,[r8,#0x58]
                  |L1.3940|
;;;1181   temp_SL=(signed long)adc_buff_[7];
;;;1182   temp_SL*=Ktbat[1];
000f64  f8dfa30c          LDR      r10,|L1.4724|
000f68  f9baa002          LDRSH    r10,[r10,#2]  ; Ktbat
000f6c  fb0afa00          MUL      r10,r10,r0
;;;1183   temp_SL/=20000L;
000f70  f6446020          MOV      r0,#0x4e20
000f74  fb9af0f0          SDIV     r0,r10,r0
;;;1184   temp_SL-=273L;
000f78  f2a01011          SUB      r0,r0,#0x111
;;;1185   bat[1]._Tb=(signed short)temp_SL;
000f7c  f8df82f8          LDR      r8,|L1.4728|
000f80  f8a80056          STRH     r0,[r8,#0x56]
;;;1186   #endif
;;;1187   
;;;1188   #ifdef UKU_6U
;;;1189   
;;;1190   if(NUMMAKB==2)
;;;1191   	{
;;;1192   	if(makb[0]._cnt<5)
;;;1193   		{
;;;1194   		if(makb[0]._T_nd[0]==0)
;;;1195   			{
;;;1196   			bat[0]._Tb=makb[0]._T[0];
;;;1197   			bat[0]._nd=0;
;;;1198   			}
;;;1199   		}
;;;1200   
;;;1201   	if(makb[1]._cnt<5)
;;;1202   		{
;;;1203   		if(makb[1]._T_nd[0]==0)
;;;1204   			{
;;;1205   			bat[1]._Tb=makb[1]._T[0];
;;;1206   			bat[1]._nd=0;
;;;1207   			}
;;;1208   		}
;;;1209   
;;;1210   	}
;;;1211   else if(NUMMAKB==4)
;;;1212   	{
;;;1213   	signed short temp_t;
;;;1214   	temp_t=-20;
;;;1215   	if(makb[0]._cnt<5)
;;;1216   		{
;;;1217   		if(makb[0]._T_nd[0]==0)
;;;1218   			{
;;;1219   			temp_t=makb[0]._T[0];
;;;1220   			bat[0]._nd=0;
;;;1221   			}
;;;1222   		}
;;;1223   	if(makb[1]._cnt<5)
;;;1224   		{
;;;1225   		if(makb[1]._T_nd[0]==0)
;;;1226   			{
;;;1227   			if(temp_t<makb[1]._T[0])
;;;1228   				{
;;;1229   				bat[0]._nd=0;
;;;1230   				temp_t=makb[1]._T[0];
;;;1231   				}
;;;1232   			}
;;;1233   		}
;;;1234   	if(temp_t!=-20)bat[0]._Tb = temp_t;
;;;1235   
;;;1236    	temp_t=-20;
;;;1237   	if(makb[2]._cnt<5)
;;;1238   		{
;;;1239   		if(makb[2]._T_nd[0]==0)
;;;1240   			{
;;;1241   			temp_t=makb[2]._T[0];
;;;1242   			bat[1]._nd=0;
;;;1243   			}
;;;1244   		}
;;;1245   	if(makb[3]._cnt<5)
;;;1246   		{
;;;1247   		if(makb[3]._T_nd[0]==0)
;;;1248   			{
;;;1249   			if(temp_t<makb[3]._T[0])
;;;1250   				{
;;;1251   				bat[1]._nd=0;
;;;1252   				temp_t=makb[3]._T[0];
;;;1253   				}
;;;1254   			}
;;;1255   		}
;;;1256   	if(temp_t!=-20)bat[1]._Tb = temp_t;
;;;1257   	}
;;;1258   
;;;1259   #endif
;;;1260   
;;;1261   
;;;1262   // 
;;;1263   temp_SL=(signed long)adc_buff_[2];
000f84  f9bb0004          LDRSH    r0,[r11,#4]  ; adc_buff_
;;;1264   temp_SL*=Kuload;
000f88  f8df82f0          LDR      r8,|L1.4732|
000f8c  f9b88000          LDRSH    r8,[r8,#0]  ; Kuload
000f90  fb00f808          MUL      r8,r0,r8
;;;1265   temp_SL/=2000L;
000f94  f44f69fa          MOV      r9,#0x7d0
000f98  fb98f8f9          SDIV     r8,r8,r9
;;;1266   load_U=(signed short)temp_SL;
000f9c  f8df92e0          LDR      r9,|L1.4736|
000fa0  f8a98000          STRH     r8,[r9,#0]
;;;1267   
;;;1268   #ifdef UKU_220 
;;;1269   // 
;;;1270   temp_SL=(signed long)adc_buff_[2];
;;;1271   temp_SL*=Kuload;
;;;1272   temp_SL/=350L;
;;;1273   load_U=(signed short)temp_SL;
;;;1274   #endif
;;;1275   
;;;1276   #ifdef UKU_220_V2 
;;;1277   // 
;;;1278   temp_SL=(signed long)adc_buff_[2];
;;;1279   temp_SL*=Kuload;
;;;1280   temp_SL/=350L;
;;;1281   load_U=(signed short)temp_SL;
;;;1282   #endif
;;;1283   
;;;1284   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;1285   // 
;;;1286   temp_SL=(signed long)adc_buff_[1];
000fa4  f9bba002          LDRSH    r10,[r11,#2]  ; adc_buff_
;;;1287   temp_SL*=Kuout;
000fa8  f8df82d8          LDR      r8,|L1.4740|
000fac  f9b88000          LDRSH    r8,[r8,#0]  ; Kuout
000fb0  fb0afa08          MUL      r10,r10,r8
;;;1288   if(AUSW_MAIN==22010)temp_SL/=400L;
000fb4  f8df82b4          LDR      r8,|L1.4716|
000fb8  f8b88000          LDRH     r8,[r8,#0]  ; AUSW_MAIN
000fbc  45a8              CMP      r8,r5
000fbe  d104              BNE      |L1.4042|
000fc0  f44f7ec8          MOV      lr,#0x190
000fc4  fb9afafe          SDIV     r10,r10,lr
000fc8  e001              B        |L1.4046|
                  |L1.4042|
;;;1289   else temp_SL/=500L;
000fca  fb9afaf6          SDIV     r10,r10,r6
                  |L1.4046|
;;;1290   out_U=(signed short)temp_SL;
000fce  f8dfe2b8          LDR      lr,|L1.4744|
000fd2  fa0ffa8a          SXTH     r10,r10
000fd6  f8aea000          STRH     r10,[lr,#0]
;;;1291   load_U=out_U;
000fda  f8a9a000          STRH     r10,[r9,#0]
;;;1292   
;;;1293   // 
;;;1294   temp_SL=(signed long)adc_buff_[2];
000fde  46de              MOV      lr,r11
;;;1295   temp_SL*=Kubps;
000fe0  f8df92a8          LDR      r9,|L1.4748|
000fe4  f9b99000          LDRSH    r9,[r9,#0]  ; Kubps
000fe8  fb00f009          MUL      r0,r0,r9
;;;1296   if(AUSW_MAIN==22010)temp_SL/=400L;
000fec  d104              BNE      |L1.4088|
000fee  f44f75c8          MOV      r5,#0x190
000ff2  fb90f0f5          SDIV     r0,r0,r5
000ff6  e001              B        |L1.4092|
                  |L1.4088|
;;;1297   else temp_SL/=500L;
000ff8  fb90f0f6          SDIV     r0,r0,r6
                  |L1.4092|
;;;1298   bps_U=(signed short)temp_SL;
000ffc  4da4              LDR      r5,|L1.4752|
000ffe  8028              STRH     r0,[r5,#0]
;;;1299   
;;;1300   //  
;;;1301   temp_SL=0;
001000  f04f0900          MOV      r9,#0
;;;1302   for (i=0;i<NUMIST;i++)
001004  464e              MOV      r6,r9
001006  48a3              LDR      r0,|L1.4756|
001008  4da3              LDR      r5,|L1.4760|
00100a  f9b00000          LDRSH    r0,[r0,#0]
00100e  e00b              B        |L1.4136|
                  |L1.4112|
;;;1303   	{
;;;1304   	temp_SL+=((signed long)bps[i]._Ii);
001010  ebc60bc6          RSB      r11,r6,r6,LSL #3
001014  eb0b0b4b          ADD      r11,r11,r11,LSL #1
001018  eb050b8b          ADD      r11,r5,r11,LSL #2
00101c  f8dbb024          LDR      r11,[r11,#0x24]
001020  44d9              ADD      r9,r9,r11
001022  f1060601          ADD      r6,r6,#1              ;1302
001026  b2f6              UXTB     r6,r6                 ;1302
                  |L1.4136|
001028  4286              CMP      r6,r0                 ;1302
00102a  dbf1              BLT      |L1.4112|
;;;1305   	}
;;;1306   bps_I=(signed short)temp_SL;
00102c  4e9b              LDR      r6,|L1.4764|
00102e  f8a69000          STRH     r9,[r6,#0]
;;;1307   
;;;1308   
;;;1309   #endif
;;;1310   
;;;1311   
;;;1312   #ifdef UKU_KONTUR
;;;1313   //   1(  )
;;;1314   if((adc_buff_[5]>800)&&(adc_buff_[5]<3800))ND_EXT[0]=0;
;;;1315   else ND_EXT[0]=1;
;;;1316   temp_SL=(signed long)adc_buff_[5];
;;;1317   temp_SL*=Ktext[0];
;;;1318   temp_SL/=20000L;
;;;1319   temp_SL-=273L;
;;;1320   t_ext[0]=(signed short)temp_SL;
;;;1321   #else 
;;;1322   //   1(  )
;;;1323   if((adc_buff_[5]>800)&&(adc_buff_[5]<3800))ND_EXT[0]=0;
001032  f9beb00a          LDRSH    r11,[lr,#0xa]  ; adc_buff_
001036  f6403eb7          MOV      lr,#0xbb7
00103a  f2ab3921          SUB      r9,r11,#0x321
00103e  4e98              LDR      r6,|L1.4768|
001040  45f1              CMP      r9,lr
001042  d201              BCS      |L1.4168|
001044  6031              STR      r1,[r6,#0]  ; ND_EXT
001046  e001              B        |L1.4172|
                  |L1.4168|
;;;1324   else ND_EXT[0]=1;
001048  f8c6c000          STR      r12,[r6,#0]  ; ND_EXT
                  |L1.4172|
;;;1325   temp_SL=(signed long)adc_buff_[5];
;;;1326   temp_SL*=Ktext[0];
00104c  f8df9254          LDR      r9,|L1.4772|
001050  f9b99000          LDRSH    r9,[r9,#0]  ; Ktext
001054  fb09fb0b          MUL      r11,r9,r11
;;;1327   temp_SL/=20000L;
001058  f6446e20          MOV      lr,#0x4e20
00105c  fb9bfbfe          SDIV     r11,r11,lr
;;;1328   temp_SL-=273L;
001060  f2ab1b11          SUB      r11,r11,#0x111
;;;1329   t_ext[0]=(signed short)temp_SL;
001064  f8dfe240          LDR      lr,|L1.4776|
001068  f8aeb000          STRH     r11,[lr,#0]
;;;1330   #endif
;;;1331   
;;;1332   #ifdef UKU_220
;;;1333   
;;;1334   //   2(  )
;;;1335   if((adc_buff_[3]>800)&&(adc_buff_[3]<3800))ND_EXT[1]=0;
;;;1336   else ND_EXT[1]=1;
;;;1337   temp_SL=(signed long)adc_buff_[3];
;;;1338   temp_SL*=Ktext[1];
;;;1339   temp_SL/=20000L;
;;;1340   temp_SL-=273L;
;;;1341   t_ext[1]=(signed short)temp_SL;
;;;1342   
;;;1343   //   3(  MSAN)
;;;1344   if((adc_buff_[10]>800)&&(adc_buff_[10]<3800))ND_EXT[2]=0;
;;;1345   else ND_EXT[2]=1;
;;;1346   temp_SL=(signed long)adc_buff_[10];
;;;1347   temp_SL*=Ktext[2];
;;;1348   temp_SL/=20000L;
;;;1349   temp_SL-=273L;
;;;1350   t_ext[2]=(signed short)temp_SL;
;;;1351   
;;;1352   #else
;;;1353   
;;;1354   
;;;1355   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;1356   
;;;1357   //   
;;;1358   if((adc_buff_[6]>800)&&(adc_buff_[6]<3800))ND_EXT[0]=0;
00106c  f8ddb000          LDR      r11,[sp,#0]
001070  f6403eb7          MOV      lr,#0xbb7
001074  45f3              CMP      r11,lr
001076  d201              BCS      |L1.4220|
001078  6031              STR      r1,[r6,#0]  ; ND_EXT
00107a  e001              B        |L1.4224|
                  |L1.4220|
;;;1359   else ND_EXT[0]=1;
00107c  f8c6c000          STR      r12,[r6,#0]  ; ND_EXT
                  |L1.4224|
;;;1360   temp_SL=(signed long)adc_buff_[6];
;;;1361   temp_SL*=Ktext[0];
001080  fb09f903          MUL      r9,r9,r3
;;;1362   temp_SL/=20000L;
001084  f6446320          MOV      r3,#0x4e20
001088  fb99f3f3          SDIV     r3,r9,r3
;;;1363   temp_SL-=273L;
00108c  f2a31311          SUB      r3,r3,#0x111
;;;1364   t_ext[0]=(signed short)temp_SL;
001090  f8dfc214          LDR      r12,|L1.4776|
001094  f8ac3000          STRH     r3,[r12,#0]
;;;1365   
;;;1366   #else
;;;1367   
;;;1368   
;;;1369   
;;;1370   //   2(  )
;;;1371   if((adc_buff_[10]>800)&&(adc_buff_[10]<3800))ND_EXT[1]=0;
;;;1372   else ND_EXT[1]=1;
;;;1373   temp_SL=(signed long)adc_buff_[10];
;;;1374   temp_SL*=Ktext[1];
;;;1375   temp_SL/=20000L;
;;;1376   temp_SL-=273L;
;;;1377   t_ext[1]=(signed short)temp_SL;
;;;1378   
;;;1379   //   3(  MSAN)
;;;1380   if((adc_buff_[3]>800)&&(adc_buff_[3]<3800))ND_EXT[2]=0;
;;;1381   else ND_EXT[2]=1;
;;;1382   temp_SL=(signed long)adc_buff_[3];
;;;1383   temp_SL*=Ktext[2];
;;;1384   temp_SL/=20000L;
;;;1385   temp_SL-=273L;
;;;1386   t_ext[2]=(signed short)temp_SL;
;;;1387   
;;;1388   #endif
;;;1389   #endif
;;;1390   
;;;1391   #ifdef UKU_220_V2
;;;1392   
;;;1393   //   2(  )
;;;1394   if((adc_buff_[3]>800)&&(adc_buff_[3]<3800))ND_EXT[1]=0;
;;;1395   else ND_EXT[1]=1;
;;;1396   temp_SL=(signed long)adc_buff_[3];
;;;1397   temp_SL*=Ktext[1];
;;;1398   temp_SL/=20000L;
;;;1399   temp_SL-=273L;
;;;1400   t_ext[1]=(signed short)temp_SL;
;;;1401   
;;;1402   //   3(  MSAN)
;;;1403   if((adc_buff_[10]>800)&&(adc_buff_[10]<3800))ND_EXT[2]=0;
;;;1404   else ND_EXT[2]=1;
;;;1405   temp_SL=(signed long)adc_buff_[10];
;;;1406   temp_SL*=Ktext[2];
;;;1407   temp_SL/=20000L;
;;;1408   temp_SL-=273L;
;;;1409   t_ext[2]=(signed short)temp_SL;
;;;1410   
;;;1411   #else
;;;1412   
;;;1413   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;1414   // 
;;;1415   if(bps[8]._device==dIBAT_METR)
001098  f89532a0          LDRB     r3,[r5,#0x2a0]  ; bps
;;;1416   	{
;;;1417   	ibat_metr_buff_[0]=((signed long)bps[8]._buff[0])+(((signed long)bps[8]._buff[1])<<8);
;;;1418   	ibat_metr_buff_[1]=((signed long)bps[8]._buff[2])+(((signed long)bps[8]._buff[3])<<8);
;;;1419   	bIBAT_SMKLBR=((signed short)bps[8]._buff[4])+(((signed short)bps[8]._buff[5])<<8);
;;;1420   
;;;1421   	if(!bIBAT_SMKLBR)
;;;1422   		{
;;;1423   		signed long temp_SL;
;;;1424   		temp_SL=(signed long)ibat_metr_buff_[0];
;;;1425   		temp_SL-=(signed long)ibat_metr_buff_[1];
;;;1426   		temp_SL*=(signed long)Kibat1[0];
;;;1427   		if((AUSW_MAIN==22010)||(AUSW_MAIN==22011)||(AUSW_MAIN==22035)||(AUSW_MAIN==22033)||(AUSW_MAIN==22063)||(AUSW_MAIN==22023)||(AUSW_MAIN==22043))temp_SL/=2000L;
;;;1428   	
;;;1429   		Ib_ips_termokompensat =(signed short)temp_SL;
00109c  f8dfe20c          LDR      lr,|L1.4780|
0010a0  2b09              CMP      r3,#9                 ;1415
0010a2  d140              BNE      |L1.4390|
0010a4  f89532a6          LDRB     r3,[r5,#0x2a6]        ;1417  ; bps
0010a8  f895c2a7          LDRB     r12,[r5,#0x2a7]       ;1417  ; bps
0010ac  f8df9200          LDR      r9,|L1.4784|
0010b0  eb03230c          ADD      r3,r3,r12,LSL #8      ;1417
0010b4  f8c93000          STR      r3,[r9,#0]            ;1417  ; ibat_metr_buff_
0010b8  f895c2a8          LDRB     r12,[r5,#0x2a8]       ;1418  ; bps
0010bc  f895b2a9          LDRB     r11,[r5,#0x2a9]       ;1418  ; bps
0010c0  eb0c2c0b          ADD      r12,r12,r11,LSL #8    ;1418
0010c4  f8c9c004          STR      r12,[r9,#4]           ;1418  ; ibat_metr_buff_
0010c8  f89592aa          LDRB     r9,[r5,#0x2aa]        ;1419  ; bps
0010cc  f895b2ab          LDRB     r11,[r5,#0x2ab]       ;1419  ; bps
0010d0  eb09290b          ADD      r9,r9,r11,LSL #8      ;1419
0010d4  f8dfb1dc          LDR      r11,|L1.4788|
0010d8  fa0ff989          SXTH     r9,r9                 ;1419
0010dc  f8ab9000          STRH     r9,[r11,#0]           ;1419
0010e0  f1b90f00          CMP      r9,#0                 ;1421
0010e4  d11f              BNE      |L1.4390|
0010e6  eba30c0c          SUB      r12,r3,r12            ;1425
0010ea  4b5f              LDR      r3,|L1.4712|
0010ec  f9b33000          LDRSH    r3,[r3,#0]            ;1426  ; Kibat1
0010f0  fb03f30c          MUL      r3,r3,r12             ;1426
0010f4  f5a84ca8          SUB      r12,r8,#0x5400        ;1427
0010f8  f5bc7cfd          SUBS     r12,r12,#0x1fa        ;1427
0010fc  d00d              BEQ      |L1.4378|
0010fe  f1bc0c01          SUBS     r12,r12,#1            ;1427
001102  d00a              BEQ      |L1.4378|
001104  4590              CMP      r8,r2                 ;1427
001106  d008              BEQ      |L1.4378|
001108  45a0              CMP      r8,r4                 ;1427
00110a  d006              BEQ      |L1.4378|
00110c  f1bc0234          SUBS     r2,r12,#0x34          ;1427
001110  d003              BEQ      |L1.4378|
001112  3228              ADDS     r2,r2,#0x28           ;1427
001114  d001              BEQ      |L1.4378|
001116  3a14              SUBS     r2,r2,#0x14           ;1427
001118  d103              BNE      |L1.4386|
                  |L1.4378|
00111a  f44f62fa          MOV      r2,#0x7d0             ;1427
00111e  fb93f3f2          SDIV     r3,r3,r2              ;1427
                  |L1.4386|
001122  f8ae3000          STRH     r3,[lr,#0]
                  |L1.4390|
;;;1430   		}
;;;1431   	}
;;;1432   
;;;1433   bat[0]._Ub=load_U;
001126  f8dfc150          LDR      r12,|L1.4728|
00112a  f8aca002          STRH     r10,[r12,#2]
;;;1434   bat[0]._Ib=Ib_ips_termokompensat;
00112e  f9be2000          LDRSH    r2,[lr,#0]  ; Ib_ips_termokompensat
001132  f8ac2008          STRH     r2,[r12,#8]
;;;1435   
;;;1436   #endif
;;;1437   #endif
;;;1438   
;;;1439   
;;;1440   #ifdef UKU_TELECORE2015
;;;1441   
;;;1442   //   1
;;;1443   if((adc_buff_[7]>800)&&(adc_buff_[7]<3800))ND_EXT[0]=0;
;;;1444   else ND_EXT[0]=1;
;;;1445   temp_SL=(signed long)adc_buff_[7];
;;;1446   temp_SL*=Ktext[0];
;;;1447   temp_SL/=20000L;
;;;1448   temp_SL-=273L;
;;;1449   t_ext[0]=(signed short)temp_SL;
;;;1450   
;;;1451   
;;;1452   //   2
;;;1453   if((adc_buff_[6]>800)&&(adc_buff_[6]<3800))ND_EXT[1]=0;
;;;1454   else ND_EXT[1]=1;
;;;1455   temp_SL=(signed long)adc_buff_[6];
;;;1456   temp_SL*=Ktext[1];
;;;1457   temp_SL/=20000L;
;;;1458   temp_SL-=273L;
;;;1459   t_ext[1]=(signed short)temp_SL;
;;;1460   
;;;1461   #endif
;;;1462   
;;;1463   // 
;;;1464   temp_SL=(signed long)adc_buff_ext_[0];
001136  f8df8180          LDR      r8,|L1.4792|
00113a  f8b84000          LDRH     r4,[r8,#0]  ; adc_buff_ext_
;;;1465   temp_SL*=Kunet_ext[0];
00113e  f8df917c          LDR      r9,|L1.4796|
001142  f9b93000          LDRSH    r3,[r9,#0]  ; Kunet_ext
001146  4363              MULS     r3,r4,r3
;;;1466   temp_SL/=4000L;
001148  f44f6e7a          MOV      lr,#0xfa0
00114c  fb93f3fe          SDIV     r3,r3,lr
;;;1467   Uvv[0]=(signed short)temp_SL;
001150  4c5b              LDR      r4,|L1.4800|
001152  b29b              UXTH     r3,r3
001154  8023              STRH     r3,[r4,#0]
;;;1468   if(Uvv[0]<100) Uvv0=Uvv[0];
001156  f8dfb16c          LDR      r11,|L1.4804|
00115a  2b64              CMP      r3,#0x64
00115c  d202              BCS      |L1.4452|
00115e  f8ab3000          STRH     r3,[r11,#0]
001162  e003              B        |L1.4460|
                  |L1.4452|
;;;1469   else Uvv0=net_U;
001164  4b58              LDR      r3,|L1.4808|
001166  881b              LDRH     r3,[r3,#0]  ; net_U
001168  f8ab3000          STRH     r3,[r11,#0]
                  |L1.4460|
;;;1470   
;;;1471   // 
;;;1472   temp_SL=(signed long)adc_buff_ext_[1];
00116c  f8b88002          LDRH     r8,[r8,#2]  ; adc_buff_ext_
;;;1473   temp_SL*=Kunet_ext[1];
001170  f9b93002          LDRSH    r3,[r9,#2]  ; Kunet_ext
001174  fb03f308          MUL      r3,r3,r8
;;;1474   temp_SL/=4000L;
001178  fb93f3fe          SDIV     r3,r3,lr
;;;1475   Uvv[1]=(signed short)temp_SL;
00117c  8063              STRH     r3,[r4,#2]
;;;1476   
;;;1477   
;;;1478   //  
;;;1479   temp_SL=(signed long)eb2_data_short[0];
00117e  4c53              LDR      r4,|L1.4812|
001180  f9b43000          LDRSH    r3,[r4,#0]  ; eb2_data_short
;;;1480   temp_SL*=Kvv_eb2[0];
001184  f8df8148          LDR      r8,|L1.4816|
001188  f9b89000          LDRSH    r9,[r8,#0]  ; Kvv_eb2
00118c  fb09f903          MUL      r9,r9,r3
;;;1481   temp_SL/=6000L;
001190  f2417370          MOV      r3,#0x1770
001194  fb99fbf3          SDIV     r11,r9,r3
;;;1482   Uvv_eb2[0]=(signed short)temp_SL;
001198  f8df9138          LDR      r9,|L1.4820|
00119c  f8a9b000          STRH     r11,[r9,#0]
;;;1483   
;;;1484   temp_SL=(signed long)eb2_data_short[1];
0011a0  f9b4e002          LDRSH    lr,[r4,#2]  ; eb2_data_short
;;;1485   temp_SL*=Kvv_eb2[1];
0011a4  f9b8b002          LDRSH    r11,[r8,#2]  ; Kvv_eb2
0011a8  fb0bfb0e          MUL      r11,r11,lr
;;;1486   temp_SL/=6000L;
0011ac  fb9bfbf3          SDIV     r11,r11,r3
;;;1487   Uvv_eb2[1]=(signed short)temp_SL;
0011b0  f8a9b002          STRH     r11,[r9,#2]
;;;1488   
;;;1489   temp_SL=(signed long)eb2_data_short[2];
0011b4  f9b4b004          LDRSH    r11,[r4,#4]  ; eb2_data_short
;;;1490   temp_SL*=Kvv_eb2[2];
0011b8  f9b88004          LDRSH    r8,[r8,#4]  ; Kvv_eb2
0011bc  fb08f80b          MUL      r8,r8,r11
;;;1491   temp_SL/=6000L;
0011c0  fb98f8f3          SDIV     r8,r8,r3
;;;1492   Uvv_eb2[2]=(signed short)temp_SL;
0011c4  f8a98004          STRH     r8,[r9,#4]
;;;1493   
;;;1494   //  
;;;1495   temp_SL=(signed long)eb2_data_short[3];
0011c8  f9b4b006          LDRSH    r11,[r4,#6]  ; eb2_data_short
;;;1496   temp_SL*=Kpes_eb2[0];
0011cc  f8df8108          LDR      r8,|L1.4824|
0011d0  f9b89000          LDRSH    r9,[r8,#0]  ; Kpes_eb2
0011d4  fb09f90b          MUL      r9,r9,r11
;;;1497   temp_SL/=6000L;
0011d8  fb99fbf3          SDIV     r11,r9,r3
;;;1498   Upes_eb2[0]=(signed short)temp_SL;
0011dc  f8df90fc          LDR      r9,|L1.4828|
0011e0  f8a9b000          STRH     r11,[r9,#0]
;;;1499   
;;;1500   temp_SL=(signed long)eb2_data_short[4];
0011e4  f9b4e008          LDRSH    lr,[r4,#8]  ; eb2_data_short
;;;1501   temp_SL*=Kpes_eb2[1];
0011e8  f9b8b002          LDRSH    r11,[r8,#2]  ; Kpes_eb2
0011ec  fb0bfb0e          MUL      r11,r11,lr
;;;1502   temp_SL/=6000L;
0011f0  fb9bfbf3          SDIV     r11,r11,r3
;;;1503   Upes_eb2[1]=(signed short)temp_SL;
0011f4  f8a9b002          STRH     r11,[r9,#2]
;;;1504   
;;;1505   temp_SL=(signed long)eb2_data_short[5];
0011f8  f9b4b00a          LDRSH    r11,[r4,#0xa]  ; eb2_data_short
;;;1506   temp_SL*=Kpes_eb2[2];
0011fc  f9b84004          LDRSH    r4,[r8,#4]  ; Kpes_eb2
001200  fb04f40b          MUL      r4,r4,r11
;;;1507   temp_SL/=6000L;
001204  fb94f3f3          SDIV     r3,r4,r3
;;;1508   Upes_eb2[2]=(signed short)temp_SL;
001208  f8a93004          STRH     r3,[r9,#4]
;;;1509   
;;;1510   //  
;;;1511   
;;;1512   ibt._T[0]=t_ext[1]+273;
00120c  4c26              LDR      r4,|L1.4776|
00120e  f8dfb0d0          LDR      r11,|L1.4832|
001212  8863              LDRH     r3,[r4,#2]  ; t_ext
001214  f2031311          ADD      r3,r3,#0x111
001218  fa0ff883          SXTH     r8,r3
00121c  f8ab8000          STRH     r8,[r11,#0]
;;;1513   ibt._T[1]=t_ext[2]+273;
001220  88a3              LDRH     r3,[r4,#4]  ; t_ext
001222  f2031311          ADD      r3,r3,#0x111
001226  fa0ff983          SXTH     r9,r3
00122a  f8ab9002          STRH     r9,[r11,#2]
;;;1514   
;;;1515   ibt._nd[0]=ND_EXT[1];
00122e  6873              LDR      r3,[r6,#4]  ; ND_EXT
001230  b2dc              UXTB     r4,r3
001232  f88b4008          STRB     r4,[r11,#8]
;;;1516   ibt._nd[1]=ND_EXT[2];
001236  68b3              LDR      r3,[r6,#8]  ; ND_EXT
001238  b2db              UXTB     r3,r3
00123a  f88b3009          STRB     r3,[r11,#9]
;;;1517   
;;;1518   #ifndef UKU_TELECORE2015
;;;1519   if((ibt._nd[0]==0) &&  (ibt._nd[1]==0))
;;;1520   	{
;;;1521   	t_box=((ibt._T[0]+ibt._T[1])/2)-273;
00123e  4e29              LDR      r6,|L1.4836|
001240  b904              CBNZ     r4,|L1.4676|
001242  b113              CBZ      r3,|L1.4682|
                  |L1.4676|
;;;1522   	}
;;;1523   else if((ibt._nd[0]==1) &&  (ibt._nd[1]==0))
001244  2c01              CMP      r4,#1
001246  d04f              BEQ      |L1.4840|
001248  e04f              B        |L1.4842|
                  |L1.4682|
00124a  eb080309          ADD      r3,r8,r9              ;1521
00124e  eb0373d3          ADD      r3,r3,r3,LSR #31      ;1521
001252  f46f7488          MVN      r4,#0x110             ;1521
001256  eb040363          ADD      r3,r4,r3,ASR #1       ;1521
00125a  8033              STRH     r3,[r6,#0]            ;1521
00125c  e063              B        |L1.4902|
00125e  0000              DCW      0x0000
                  |L1.4704|
                          DCD      ad7705_buff_
                  |L1.4708|
                          DCD      Kibat0
                  |L1.4712|
                          DCD      Kibat1
                  |L1.4716|
                          DCD      AUSW_MAIN
                  |L1.4720|
                          DCD      ||.bss||+0x400
                  |L1.4724|
                          DCD      Ktbat
                  |L1.4728|
                          DCD      bat
                  |L1.4732|
                          DCD      Kuload
                  |L1.4736|
                          DCD      load_U
                  |L1.4740|
                          DCD      Kuout
                  |L1.4744|
                          DCD      out_U
                  |L1.4748|
                          DCD      Kubps
                  |L1.4752|
                          DCD      bps_U
                  |L1.4756|
                          DCD      NUMIST
                  |L1.4760|
                          DCD      bps
                  |L1.4764|
                          DCD      bps_I
                  |L1.4768|
                          DCD      ND_EXT
                  |L1.4772|
                          DCD      Ktext
                  |L1.4776|
                          DCD      t_ext
                  |L1.4780|
                          DCD      Ib_ips_termokompensat
                  |L1.4784|
                          DCD      ibat_metr_buff_
                  |L1.4788|
                          DCD      bIBAT_SMKLBR
                  |L1.4792|
                          DCD      adc_buff_ext_
                  |L1.4796|
                          DCD      Kunet_ext
                  |L1.4800|
                          DCD      Uvv
                  |L1.4804|
                          DCD      Uvv0
                  |L1.4808|
                          DCD      net_U
                  |L1.4812|
                          DCD      eb2_data_short
                  |L1.4816|
                          DCD      Kvv_eb2
                  |L1.4820|
                          DCD      Uvv_eb2
                  |L1.4824|
                          DCD      Kpes_eb2
                  |L1.4828|
                          DCD      Upes_eb2
                  |L1.4832|
                          DCD      ibt
                  |L1.4836|
                          DCD      t_box
                  |L1.4840|
0012e8  b10b              CBZ      r3,|L1.4846|
                  |L1.4842|
;;;1524   	{
;;;1525   	t_box=ibt._T[1]-273;
;;;1526   	}
;;;1527   else if((ibt._nd[0]==0) &&  (ibt._nd[1]==1))
0012ea  b12c              CBZ      r4,|L1.4856|
0012ec  e006              B        |L1.4860|
                  |L1.4846|
0012ee  f2a91911          SUB      r9,r9,#0x111          ;1525
0012f2  f8a69000          STRH     r9,[r6,#0]            ;1525
0012f6  e016              B        |L1.4902|
                  |L1.4856|
0012f8  2b01              CMP      r3,#1
0012fa  d002              BEQ      |L1.4866|
                  |L1.4860|
;;;1528   	{
;;;1529   	t_box=ibt._T[0]-273;
;;;1530   	}
;;;1531   else if((ibt._nd[0]==1) &&  (ibt._nd[1]==1))
0012fc  2c01              CMP      r4,#1
0012fe  d005              BEQ      |L1.4876|
001300  e011              B        |L1.4902|
                  |L1.4866|
001302  f2a81811          SUB      r8,r8,#0x111          ;1529
001306  f8a68000          STRH     r8,[r6,#0]            ;1529
00130a  e00c              B        |L1.4902|
                  |L1.4876|
00130c  2b01              CMP      r3,#1
00130e  d10a              BNE      |L1.4902|
;;;1532   	{
;;;1533   	if(t_ext_can_nd<5)t_box= t_ext_can;
001310  4bfb              LDR      r3,|L1.5888|
001312  781b              LDRB     r3,[r3,#0]  ; t_ext_can_nd
001314  2b05              CMP      r3,#5
001316  d203              BCS      |L1.4896|
001318  4bfa              LDR      r3,|L1.5892|
00131a  881b              LDRH     r3,[r3,#0]  ; t_ext_can
00131c  8033              STRH     r3,[r6,#0]
00131e  e002              B        |L1.4902|
                  |L1.4896|
;;;1534   	else t_box=20;
001320  f04f0314          MOV      r3,#0x14
001324  8033              STRH     r3,[r6,#0]
                  |L1.4902|
;;;1535   	}
;;;1536   #endif
;;;1537   /*
;;;1538   //  
;;;1539   
;;;1540   ibt._T[0]=bat[0]._Tb+273;
;;;1541   ibt._T[1]=bat[1]._Tb+273;
;;;1542   ibt._T[2]=t_ext[1]+273;
;;;1543   ibt._T[3]=t_ext[2]+273;
;;;1544   
;;;1545   ibt._nd[0]=bat[0]._nd;
;;;1546   ibt._nd[1]=bat[1]._nd;
;;;1547   ibt._nd[2]=ND_EXT[1];
;;;1548   ibt._nd[3]=ND_EXT[2];
;;;1549   
;;;1550   ibt._avg1=0;
;;;1551   ibt._avg_cnt=4;
;;;1552   
;;;1553   if(ibt._nd[0]==0)
;;;1554   	{
;;;1555   	ibt._avg1+=ibt._T[0];
;;;1556   	}
;;;1557   else 
;;;1558   	{
;;;1559   	ibt._avg_cnt--;
;;;1560   	}
;;;1561   
;;;1562   if(ibt._nd[1]==0)
;;;1563   	{
;;;1564   	ibt._avg1+=ibt._T[1];
;;;1565   	}
;;;1566   else 
;;;1567   	{
;;;1568   	ibt._avg_cnt--;
;;;1569   	}
;;;1570   
;;;1571   if(ibt._nd[2]==0)
;;;1572   	{
;;;1573   	ibt._avg1+=ibt._T[2];
;;;1574   	}
;;;1575   else 
;;;1576   	{
;;;1577   	ibt._avg_cnt--;
;;;1578   	}
;;;1579   
;;;1580   if(ibt._nd[3]==0)
;;;1581   	{
;;;1582   	ibt._avg1+=ibt._T[3];
;;;1583   	}
;;;1584   else 
;;;1585   	{
;;;1586   	ibt._avg_cnt--;
;;;1587   	}
;;;1588   
;;;1589   if(ibt._avg_cnt==0)
;;;1590   	{
;;;1591   	}
;;;1592   else
;;;1593   	{
;;;1594   	ibt._avg1/=ibt._avg_cnt;
;;;1595   	}
;;;1596   
;;;1597   
;;;1598   if(ibt._nd[0]!=0)
;;;1599   	{
;;;1600   	ibt._T_dispers[0]=0;
;;;1601   	}
;;;1602   else 
;;;1603   	{
;;;1604   	ibt._T_dispers[0]=abs(ibt._T[0]-ibt._avg1);
;;;1605   	}
;;;1606   
;;;1607   if(ibt._nd[1]!=0)
;;;1608   	{
;;;1609   	ibt._T_dispers[1]=0;
;;;1610   	}
;;;1611   else 
;;;1612   	{
;;;1613   	ibt._T_dispers[1]=abs(ibt._T[1]-ibt._avg1);
;;;1614   	}
;;;1615   
;;;1616   if(ibt._nd[2]!=0)
;;;1617   	{
;;;1618   	ibt._T_dispers[2]=0;
;;;1619   	}
;;;1620   else 
;;;1621   	{
;;;1622   	ibt._T_dispers[2]=abs(ibt._T[2]-ibt._avg1);
;;;1623   	}
;;;1624   
;;;1625   if(ibt._nd[3]!=0)
;;;1626   	{
;;;1627   	ibt._T_dispers[3]=0;
;;;1628   	}
;;;1629   else 
;;;1630   	{
;;;1631   	ibt._T_dispers[3]=abs(ibt._T[3]-ibt._avg1);
;;;1632   	}
;;;1633   
;;;1634   if(	ibt._nd[0]&&
;;;1635   	ibt._nd[1]&&
;;;1636   	ibt._nd[2]&&
;;;1637   	ibt._nd[3]
;;;1638   	)
;;;1639   	{
;;;1640   	t_box=(bps[0]._Ti);
;;;1641   	}
;;;1642   
;;;1643   else if(	ibt._nd[0]||
;;;1644   	ibt._nd[1]||
;;;1645   	ibt._nd[2]||
;;;1646   	ibt._nd[3]
;;;1647   	)
;;;1648   	{
;;;1649   	t_box=(ibt._avg1-273);
;;;1650   	}
;;;1651   else 
;;;1652   	{
;;;1653   	ibt._max_dispers_num=0;
;;;1654   	ibt._max_dispers=ibt._T_dispers[0];
;;;1655   
;;;1656   	if(ibt._T_dispers[1]>ibt._max_dispers)
;;;1657   		{
;;;1658   		ibt._max_dispers_num=1;
;;;1659   		ibt._max_dispers=ibt._T_dispers[1];
;;;1660   		}
;;;1661   	if(ibt._T_dispers[2]>ibt._max_dispers)
;;;1662   		{
;;;1663   		ibt._max_dispers_num=2;
;;;1664   		ibt._max_dispers=ibt._T_dispers[2];
;;;1665   		}
;;;1666   	if(ibt._T_dispers[3]>ibt._max_dispers)
;;;1667   		{
;;;1668   		ibt._max_dispers_num=3;
;;;1669   		ibt._max_dispers=ibt._T_dispers[3];
;;;1670   		}
;;;1671   
;;;1672   	ibt._avg2=0;
;;;1673   
;;;1674   	if(ibt._max_dispers_num!=0)
;;;1675   		{
;;;1676   		ibt._avg2+=ibt._T[0];
;;;1677   		}
;;;1678   	if(ibt._max_dispers_num!=1)
;;;1679   		{
;;;1680   		ibt._avg2+=ibt._T[1];
;;;1681   		}
;;;1682   	if(ibt._max_dispers_num!=2)
;;;1683   		{
;;;1684   		ibt._avg2+=ibt._T[2];
;;;1685   		}
;;;1686   	if(ibt._max_dispers_num!=3)
;;;1687   		{
;;;1688   		ibt._avg2+=ibt._T[3];
;;;1689   		}
;;;1690   
;;;1691   	t_box=(ibt._avg2/3)-273;
;;;1692   
;;;1693   	}*/
;;;1694   
;;;1695   
;;;1696   //*********************************************
;;;1697   
;;;1698   if((BAT_IS_ON[0]==bisON)&&(bat[0]._Ub>200)) Ibmax=bat[0]._Ib;
001326  4cf8              LDR      r4,|L1.5896|
001328  7823              LDRB     r3,[r4,#0]  ; BAT_IS_ON
00132a  2b55              CMP      r3,#0x55
00132c  d103              BNE      |L1.4918|
00132e  f1ba0fc8          CMP      r10,#0xc8
001332  dd00              BLE      |L1.4918|
001334  86fa              STRH     r2,[r7,#0x36]
                  |L1.4918|
;;;1699   if((BAT_IS_ON[1]==bisON)&&(bat[1]._Ub>200)&&(bat[1]._Ib>bat[0]._Ib)) Ibmax=bat[1]._Ib;
001336  7863              LDRB     r3,[r4,#1]  ; BAT_IS_ON
001338  2b55              CMP      r3,#0x55
00133a  d108              BNE      |L1.4942|
00133c  f9bc304e          LDRSH    r3,[r12,#0x4e]  ; bat
001340  2bc8              CMP      r3,#0xc8
001342  dd04              BLE      |L1.4942|
001344  f9bc3054          LDRSH    r3,[r12,#0x54]  ; bat
001348  4293              CMP      r3,r2
00134a  dd00              BLE      |L1.4942|
00134c  86fb              STRH     r3,[r7,#0x36]
                  |L1.4942|
;;;1700   
;;;1701   //if((AUSW_MAIN==22063)||(AUSW_MAIN==22023)||(AUSW_MAIN==22043))Ibmax=Ib_ips_termokompensat;
;;;1702   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;1703   Ibmax=Ib_ips_termokompensat;
00134e  86fa              STRH     r2,[r7,#0x36]
;;;1704   #endif
;;;1705   for(i=0;i<NUMIST;i++)
001350  f04f0400          MOV      r4,#0
001354  e02f              B        |L1.5046|
                  |L1.4950|
;;;1706   	{
;;;1707   	if(bps[i]._cnt<25)
001356  ebc403c4          RSB      r3,r4,r4,LSL #3
00135a  eb030343          ADD      r3,r3,r3,LSL #1
00135e  eb050383          ADD      r3,r5,r3,LSL #2
001362  78de              LDRB     r6,[r3,#3]
001364  2e19              CMP      r6,#0x19
001366  d21c              BCS      |L1.5026|
;;;1708        	{
;;;1709        	bps[i]._Ii=bps[i]._buff[0]+(bps[i]._buff[1]*256);
001368  799e              LDRB     r6,[r3,#6]
00136a  79df              LDRB     r7,[r3,#7]
00136c  eb062607          ADD      r6,r6,r7,LSL #8
001370  625e              STR      r6,[r3,#0x24]
;;;1710        	bps[i]._Uin=bps[i]._buff[2]+(bps[i]._buff[3]*256);
001372  7a1e              LDRB     r6,[r3,#8]
001374  7a5f              LDRB     r7,[r3,#9]
001376  eb062607          ADD      r6,r6,r7,LSL #8
00137a  621e              STR      r6,[r3,#0x20]
;;;1711        	bps[i]._Uii=bps[i]._buff[4]+(bps[i]._buff[5]*256);
00137c  7a9e              LDRB     r6,[r3,#0xa]
00137e  7adf              LDRB     r7,[r3,#0xb]
001380  eb062607          ADD      r6,r6,r7,LSL #8
001384  61de              STR      r6,[r3,#0x1c]
;;;1712        	bps[i]._Ti=(signed)(bps[i]._buff[6]);
001386  7b1e              LDRB     r6,[r3,#0xc]
001388  629e              STR      r6,[r3,#0x28]
;;;1713        	bps[i]._adr_ee=bps[i]._buff[7];
00138a  7b5e              LDRB     r6,[r3,#0xd]
00138c  f8836052          STRB     r6,[r3,#0x52]
;;;1714        	bps[i]._flags_tm=bps[i]._buff[8];
001390  7b9e              LDRB     r6,[r3,#0xe]
001392  f8836042          STRB     r6,[r3,#0x42]
;;;1715   	     bps[i]._rotor=bps[i]._buff[10]+(bps[i]._buff[11]*256);    
001396  7c1e              LDRB     r6,[r3,#0x10]
001398  7c5f              LDRB     r7,[r3,#0x11]
00139a  eb062607          ADD      r6,r6,r7,LSL #8
00139e  64de              STR      r6,[r3,#0x4c]
0013a0  e006              B        |L1.5040|
                  |L1.5026|
;;;1716        	} 
;;;1717   	else 
;;;1718        	{
;;;1719        	bps[i]._Uii=0; 
0013a2  61d9              STR      r1,[r3,#0x1c]
;;;1720        	bps[i]._Ii=0;
0013a4  6259              STR      r1,[r3,#0x24]
;;;1721        	bps[i]._Uin=0;
0013a6  6219              STR      r1,[r3,#0x20]
;;;1722        	bps[i]._Ti=0;
0013a8  6299              STR      r1,[r3,#0x28]
;;;1723        	bps[i]._flags_tm=0; 
0013aa  f8831042          STRB     r1,[r3,#0x42]
;;;1724   	     bps[i]._rotor=0;    
0013ae  64d9              STR      r1,[r3,#0x4c]
                  |L1.5040|
0013b0  f1040401          ADD      r4,r4,#1              ;1705
0013b4  b2e4              UXTB     r4,r4                 ;1705
                  |L1.5046|
0013b6  4284              CMP      r4,r0                 ;1705
0013b8  dbcd              BLT      |L1.4950|
;;;1725        	}
;;;1726        
;;;1727        }
;;;1728   
;;;1729   
;;;1730   
;;;1731   load_I=-(bat[0]._Ib/10)-(bat[1]._Ib/10);
0013ba  f04f030a          MOV      r3,#0xa
0013be  fb92f2f3          SDIV     r2,r2,r3
0013c2  f9bc4054          LDRSH    r4,[r12,#0x54]  ; bat
0013c6  4ed1              LDR      r6,|L1.5900|
0013c8  fb94f3f3          SDIV     r3,r4,r3
0013cc  441a              ADD      r2,r2,r3
0013ce  f1c20200          RSB      r2,r2,#0
0013d2  b217              SXTH     r7,r2
0013d4  8037              STRH     r7,[r6,#0]
;;;1732   
;;;1733   Isumm=0;
0013d6  4cce              LDR      r4,|L1.5904|
0013d8  8021              STRH     r1,[r4,#0]
;;;1734   
;;;1735   for(i=0;i<NUMIST;i++)
0013da  f04f0200          MOV      r2,#0
0013de  e012              B        |L1.5126|
                  |L1.5088|
;;;1736        {
;;;1737        if(bps[i]._cnt<5)Isumm+=bps[i]._Ii;
0013e0  ebc203c2          RSB      r3,r2,r2,LSL #3
0013e4  eb030343          ADD      r3,r3,r3,LSL #1
0013e8  eb050383          ADD      r3,r5,r3,LSL #2
0013ec  f893c003          LDRB     r12,[r3,#3]
0013f0  f1bc0f05          CMP      r12,#5
0013f4  d204              BCS      |L1.5120|
0013f6  6a5b              LDR      r3,[r3,#0x24]
0013f8  f8b4c000          LDRH     r12,[r4,#0]  ; Isumm
0013fc  4463              ADD      r3,r3,r12
0013fe  8023              STRH     r3,[r4,#0]
                  |L1.5120|
001400  f1020201          ADD      r2,r2,#1              ;1735
001404  b2d2              UXTB     r2,r2                 ;1735
                  |L1.5126|
001406  4282              CMP      r2,r0                 ;1735
001408  dbea              BLT      |L1.5088|
;;;1738        }  
;;;1739        
;;;1740   load_I=load_I+Isumm;
00140a  8822              LDRH     r2,[r4,#0]  ; Isumm
00140c  443a              ADD      r2,r2,r7
00140e  b212              SXTH     r2,r2
001410  8032              STRH     r2,[r6,#0]
;;;1741   if(load_I<0)load_I=0;
001412  2a00              CMP      r2,#0
001414  da00              BGE      |L1.5144|
001416  8031              STRH     r1,[r6,#0]
                  |L1.5144|
;;;1742   
;;;1743   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;1744   load_I=0;
001418  8031              STRH     r1,[r6,#0]
;;;1745   
;;;1746   Isumm=0;
00141a  8021              STRH     r1,[r4,#0]
;;;1747   
;;;1748   for(i=0;i<NUMIST;i++)
00141c  f04f0200          MOV      r2,#0
001420  e00f              B        |L1.5186|
                  |L1.5154|
;;;1749        {
;;;1750        if(bps[i]._cnt<5)Isumm+=bps[i]._Ii;
001422  ebc203c2          RSB      r3,r2,r2,LSL #3
001426  eb030343          ADD      r3,r3,r3,LSL #1
00142a  eb050383          ADD      r3,r5,r3,LSL #2
00142e  78df              LDRB     r7,[r3,#3]
001430  2f05              CMP      r7,#5
001432  d203              BCS      |L1.5180|
001434  6a5b              LDR      r3,[r3,#0x24]
001436  8827              LDRH     r7,[r4,#0]  ; Isumm
001438  443b              ADD      r3,r3,r7
00143a  8023              STRH     r3,[r4,#0]
                  |L1.5180|
00143c  f1020201          ADD      r2,r2,#1              ;1748
001440  b2d2              UXTB     r2,r2                 ;1748
                  |L1.5186|
001442  4282              CMP      r2,r0                 ;1748
001444  dbed              BLT      |L1.5154|
;;;1751        }  
;;;1752        
;;;1753   load_I=load_I+Isumm;
001446  8822              LDRH     r2,[r4,#0]  ; Isumm
001448  eb010002          ADD      r0,r1,r2
00144c  b200              SXTH     r0,r0
00144e  8030              STRH     r0,[r6,#0]
;;;1754   if(load_I<0)load_I=0;
001450  2800              CMP      r0,#0
001452  da00              BGE      |L1.5206|
001454  8031              STRH     r1,[r6,#0]
                  |L1.5206|
;;;1755   
;;;1756   #endif
;;;1757   
;;;1758   
;;;1759   
;;;1760   #ifdef UKU_GLONASS
;;;1761   inv[0]._Uio=6;
;;;1762   if (NUMINV)
;;;1763   	{
;;;1764   	for(i=0;i<NUMINV;i++)
;;;1765   		{
;;;1766   		if(bps[i+first_inv_slot]._cnt<25)
;;;1767        		{
;;;1768        		inv[i]._Ii=bps[i+first_inv_slot]._buff[0]+(bps[i+first_inv_slot]._buff[1]*256);
;;;1769        		inv[i]._Uin=bps[i+first_inv_slot]._buff[2]+(bps[i+first_inv_slot]._buff[3]*256);
;;;1770        		inv[i]._Uio=bps[i+first_inv_slot]._buff[4]+(bps[i+first_inv_slot]._buff[5]*256);
;;;1771        		inv[i]._Ti=(signed)(bps[i+first_inv_slot]._buff[6]);
;;;1772        		inv[i]._flags_tm=bps[i+first_inv_slot]._buff[8];
;;;1773   	    	//	inv[i]._rotor=bps[i+first_inv_slot]._buff[10]+(bps[i+first_inv_slot]._buff[11]*256);
;;;1774   			inv[i]._cnt=0;    
;;;1775        		} 
;;;1776   		else 
;;;1777        		{
;;;1778        		inv[i]._Uio=0; 
;;;1779        		inv[i]._Ii=0;
;;;1780        		inv[i]._Uin=0;
;;;1781        		inv[i]._Ti=0;
;;;1782        		inv[i]._flags_tm=0; 
;;;1783   //	     	inv[i]._rotor0;
;;;1784   			inv[i]._cnt=25;    
;;;1785        		}
;;;1786        	}
;;;1787      	}
;;;1788   #endif
;;;1789   
;;;1790   #ifndef UKU_GLONASS
;;;1791   if (NUMINV)
001456  48af              LDR      r0,|L1.5908|
001458  f9b04000          LDRSH    r4,[r0,#0]  ; NUMINV
00145c  2c00              CMP      r4,#0
00145e  d066              BEQ      |L1.5422|
;;;1792   	{
;;;1793   	for(i=0;i<NUMINV;i++)
001460  f04f0300          MOV      r3,#0
;;;1794   		{
;;;1795   		if(bps[i+20]._cnt<25)
;;;1796        		{
;;;1797        		inv[i]._Ii=bps[i+20]._buff[0]+(bps[i+20]._buff[1]*256);
001464  4eac              LDR      r6,|L1.5912|
001466  e060              B        |L1.5418|
                  |L1.5224|
001468  f1030014          ADD      r0,r3,#0x14           ;1795
00146c  ebc000c0          RSB      r0,r0,r0,LSL #3       ;1795
001470  eb000040          ADD      r0,r0,r0,LSL #1       ;1795
001474  eb050080          ADD      r0,r5,r0,LSL #2       ;1795
001478  78c2              LDRB     r2,[r0,#3]            ;1795
00147a  2a19              CMP      r2,#0x19              ;1795
00147c  d239              BCS      |L1.5362|
00147e  7982              LDRB     r2,[r0,#6]
001480  79c7              LDRB     r7,[r0,#7]
001482  eb022707          ADD      r7,r2,r7,LSL #8
001486  eb030243          ADD      r2,r3,r3,LSL #1
00148a  eb061242          ADD      r2,r6,r2,LSL #5
00148e  61d7              STR      r7,[r2,#0x1c]
;;;1798        		inv[i]._Pio=bps[i+20]._buff[2]+(bps[i+20]._buff[3]*256);
001490  7a07              LDRB     r7,[r0,#8]
001492  f890c009          LDRB     r12,[r0,#9]
001496  eb07270c          ADD      r7,r7,r12,LSL #8
00149a  62d7              STR      r7,[r2,#0x2c]
;;;1799        		inv[i]._Uio=bps[i+20]._buff[4]+(bps[i+20]._buff[5]*256);
00149c  7a87              LDRB     r7,[r0,#0xa]
00149e  f890c00b          LDRB     r12,[r0,#0xb]
0014a2  eb07270c          ADD      r7,r7,r12,LSL #8
0014a6  6197              STR      r7,[r2,#0x18]
;;;1800        		inv[i]._Ti=(signed)(bps[i+20]._buff[6]);
0014a8  7b07              LDRB     r7,[r0,#0xc]
0014aa  6217              STR      r7,[r2,#0x20]
;;;1801        		inv[i]._flags_tm=bps[i+20]._buff[7];
0014ac  7b47              LDRB     r7,[r0,#0xd]
0014ae  f8827046          STRB     r7,[r2,#0x46]
;;;1802        		inv[i]._Uin=bps[i+20]._buff[8]+(bps[i+20]._buff[9]*256);
0014b2  7b87              LDRB     r7,[r0,#0xe]
0014b4  f890c00f          LDRB     r12,[r0,#0xf]
0014b8  eb07270c          ADD      r7,r7,r12,LSL #8
0014bc  6297              STR      r7,[r2,#0x28]
;;;1803        		inv[i]._Uil=bps[i+20]._buff[10]+(bps[i+20]._buff[11]*256);
0014be  7c07              LDRB     r7,[r0,#0x10]
0014c0  f890c011          LDRB     r12,[r0,#0x11]
0014c4  eb07270c          ADD      r7,r7,r12,LSL #8
0014c8  6257              STR      r7,[r2,#0x24]
;;;1804   			inv[i]._cnt=0;
0014ca  7091              STRB     r1,[r2,#2]
;;;1805   			inv[i]._Uoutmin=bps[i+20]._buff[12]; 
0014cc  7c87              LDRB     r7,[r0,#0x12]
0014ce  f8827059          STRB     r7,[r2,#0x59]
;;;1806   			inv[i]._Uoutmax=bps[i+20]._buff[13]; 
0014d2  7cc7              LDRB     r7,[r0,#0x13]
0014d4  f882705a          STRB     r7,[r2,#0x5a]
;;;1807   			inv[i]._Pnom=bps[i+20]._buff[14]; 
0014d8  7d07              LDRB     r7,[r0,#0x14]
0014da  f8827058          STRB     r7,[r2,#0x58]
;;;1808   			inv[i]._net_contr_en=bps[i+20]._buff[15];
0014de  7d47              LDRB     r7,[r0,#0x15]
0014e0  f882705b          STRB     r7,[r2,#0x5b]
;;;1809   			inv[i]._pwm_en=bps[i+20]._buff[16];  
0014e4  7d87              LDRB     r7,[r0,#0x16]
0014e6  f882705c          STRB     r7,[r2,#0x5c]
;;;1810   			inv[i]._phase_mode=bps[i+20]._buff[17];  
0014ea  7dc0              LDRB     r0,[r0,#0x17]
0014ec  f882005d          STRB     r0,[r2,#0x5d]
0014f0  e018              B        |L1.5412|
                  |L1.5362|
;;;1811        		} 
;;;1812   		else 
;;;1813        		{
;;;1814         		inv[i]._Ii=0;
0014f2  eb030043          ADD      r0,r3,r3,LSL #1
0014f6  eb061040          ADD      r0,r6,r0,LSL #5
0014fa  61c1              STR      r1,[r0,#0x1c]
;;;1815   			inv[i]._Pio=0;
0014fc  62c1              STR      r1,[r0,#0x2c]
;;;1816   			inv[i]._Uio=0;
0014fe  6181              STR      r1,[r0,#0x18]
;;;1817        		inv[i]._Ti=0;
001500  6201              STR      r1,[r0,#0x20]
;;;1818        		inv[i]._flags_tm=0; 
001502  f8801046          STRB     r1,[r0,#0x46]
;;;1819        		inv[i]._Uil=0;
001506  6241              STR      r1,[r0,#0x24]
;;;1820        		inv[i]._Uin=0;
001508  6281              STR      r1,[r0,#0x28]
;;;1821   			inv[i]._cnt=25; 
00150a  f04f0219          MOV      r2,#0x19
00150e  7082              STRB     r2,[r0,#2]
;;;1822   			inv[i]._Uoutmin=0; 
001510  f8801059          STRB     r1,[r0,#0x59]
;;;1823   			inv[i]._Uoutmax=0; 
001514  f880105a          STRB     r1,[r0,#0x5a]
;;;1824   			inv[i]._Pnom=0; 
001518  f8801058          STRB     r1,[r0,#0x58]
;;;1825   			inv[i]._net_contr_en=0;
00151c  f880105b          STRB     r1,[r0,#0x5b]
;;;1826   			inv[i]._pwm_en=0;   
001520  f880105c          STRB     r1,[r0,#0x5c]
                  |L1.5412|
001524  f1030301          ADD      r3,r3,#1              ;1793
001528  b2db              UXTB     r3,r3                 ;1793
                  |L1.5418|
00152a  42a3              CMP      r3,r4                 ;1793
00152c  db9c              BLT      |L1.5224|
                  |L1.5422|
;;;1827   			   
;;;1828        		}
;;;1829        	}
;;;1830      	}
;;;1831   #endif
;;;1832   
;;;1833   #ifdef GLADKOV
;;;1834   inv[0]._Ii=bps[4]._buff[0]+(bps[4]._buff[1]*256);
;;;1835   inv[0]._Pio=bps[4]._buff[2]+(bps[4]._buff[3]*256);
;;;1836   inv[0]._Uio=bps[4]._buff[4]+(bps[4]._buff[5]*256);
;;;1837   inv[0]._Ti=(signed)(bps[4]._buff[6]);
;;;1838   inv[0]._flags_tm=bps[4]._buff[7];
;;;1839   inv[0]._Uin=bps[4]._buff[8]+(bps[4]._buff[9]*256);
;;;1840   inv[0]._Uil=bps[4]._buff[10]+(bps[4]._buff[11]*256);
;;;1841   inv[0]._cnt=0;    
;;;1842   
;;;1843   inv[1]._Ii=bps[21]._buff[0]+(bps[21]._buff[1]*256);
;;;1844   inv[1]._Pio=bps[21]._buff[2]+(bps[21]._buff[3]*256);
;;;1845   inv[1]._Uio=bps[21]._buff[4]+(bps[21]._buff[5]*256);
;;;1846   inv[1]._Ti=(signed)(bps[21]._buff[6]);
;;;1847   inv[1]._flags_tm=bps[21]._buff[7];
;;;1848   inv[1]._Uin=bps[21]._buff[8]+(bps[21]._buff[9]*256);
;;;1849   inv[1]._Uil=bps[21]._buff[10]+(bps[21]._buff[11]*256);
;;;1850   inv[1]._cnt=0;    
;;;1851   #endif
;;;1852   
;;;1853   /*
;;;1854   if((BAT_IS_ON[0]==bisON)&&(BAT_TYPE==1))
;;;1855   	{
;;;1856   	lakb[0]._battCommState=0;
;;;1857   	if(lakb[0]._cnt>10)lakb[0]._battCommState=2;
;;;1858   	else if(lakb[0]._bRS485ERR==1)lakb[0]._battCommState=1;
;;;1859   	
;;;1860   	if(lakb[0]._battCommState==0)
;;;1861   		{	
;;;1862   		bat[0]._Ub=(signed short)((lakb[0]._tot_bat_volt+5)/10);
;;;1863   		bat[0]._Ib=(signed short)lakb[0]._ch_curr;
;;;1864   		if(lakb[0]._dsch_curr) bat[0]._Ib=(signed short) (-lakb[0]._dsch_curr);
;;;1865   		bat[0]._Tb=(signed short)lakb[0]._max_cell_temp;
;;;1866   		}
;;;1867   	}
;;;1868   */
;;;1869   
;;;1870   #ifdef UKU_TELECORE2015
;;;1871   
;;;1872   	lakb[0]._ch_curr/*temp_SS*/=((ascii2halFhex(sacredSunBatteryInBuff[113]))<<12)+
;;;1873   						((ascii2halFhex(sacredSunBatteryInBuff[114]))<<8)+
;;;1874   						((ascii2halFhex(sacredSunBatteryInBuff[115]))<<4)+
;;;1875   						((ascii2halFhex(sacredSunBatteryInBuff[116])));
;;;1876   	
;;;1877   	/*if(temp_SS&0x8000)		lakb[0]._ch_curr=~temp_SS;
;;;1878   	else 				lakb[0]._ch_curr=temp_SS;*/
;;;1879   
;;;1880   	lakb[0]._tot_bat_volt=	(unsigned short)(((ascii2halFhex(sacredSunBatteryInBuff[117]))<<12)+
;;;1881   						((ascii2halFhex(sacredSunBatteryInBuff[118]))<<8)+
;;;1882   						((ascii2halFhex(sacredSunBatteryInBuff[119]))<<4)+
;;;1883   						((ascii2halFhex(sacredSunBatteryInBuff[120]))))/100;
;;;1884   
;;;1885   	lakb[0]._max_cell_temp= 	(((ascii2halFhex(sacredSunBatteryInBuff[93]))<<12)+
;;;1886   						((ascii2halFhex(sacredSunBatteryInBuff[94]))<<8)+
;;;1887   						((ascii2halFhex(sacredSunBatteryInBuff[95]))<<4)+
;;;1888   						((ascii2halFhex(sacredSunBatteryInBuff[96]))))/10-273;
;;;1889   
;;;1890   	lakb[0]._s_o_c_abs=		(unsigned short)((ascii2halFhex(sacredSunBatteryInBuff[121]))<<12)+
;;;1891   						((ascii2halFhex(sacredSunBatteryInBuff[122]))<<8)+
;;;1892   						((ascii2halFhex(sacredSunBatteryInBuff[123]))<<4)+
;;;1893   						((ascii2halFhex(sacredSunBatteryInBuff[124])));
;;;1894   
;;;1895   	lakb[0]._rat_cap=		(unsigned short)((ascii2halFhex(sacredSunBatteryInBuff[127]))<<12)+
;;;1896   						((ascii2halFhex(sacredSunBatteryInBuff[128]))<<8)+
;;;1897   						((ascii2halFhex(sacredSunBatteryInBuff[129]))<<4)+
;;;1898   						((ascii2halFhex(sacredSunBatteryInBuff[130])));
;;;1899   
;;;1900   	lakb[0]._s_o_c=		lakb[0]._s_o_c_abs/(lakb[0]._rat_cap/100);
;;;1901   
;;;1902   
;;;1903   /*	lakb[0]._rat_cap= (lakb_damp[i][13]*256)+ lakb_damp[i][14];
;;;1904   	lakb[0]._max_cell_volt= (lakb_damp[i][0]*256)+ lakb_damp[i][1];
;;;1905   	lakb[0]._min_cell_volt= (lakb_damp[i][2]*256)+ lakb_damp[i][3];
;;;1906   	lakb[0]._max_cell_temp= lakb_damp[i][4];
;;;1907   	lakb[0]._min_cell_temp= lakb_damp[i][5];
;;;1908   	lakb[0]._tot_bat_volt= (lakb_damp[i][6]*256)+ lakb_damp[i][7];
;;;1909   	lakb[0]._ch_curr= (lakb_damp[i][8]*256)+ lakb_damp[i][8];
;;;1910   	lakb[0]._dsch_curr= (lakb_damp[i][10]*256)+ lakb_damp[i][11];
;;;1911   	lakb[0]._s_o_c= lakb_damp[i][12];
;;;1912   	lakb[0]._r_b_t= lakb_damp[i][15];
;;;1913   	lakb[0]._c_c_l_v= (lakb_damp[i][16]*256)+ lakb_damp[i][17];
;;;1914   	lakb[0]._s_o_h= lakb_damp[i][18];
;;;1915   
;;;1916   	if(lakb[i]._rat_cap==0)
;;;1917   		{
;;;1918   		if(lakb[i]._isOnCnt)
;;;1919   			{
;;;1920   			lakb[i]._isOnCnt--;
;;;1921   			if(lakb[i]._isOnCnt==0)
;;;1922   				{
;;;1923   				if(lakb[i]._battIsOn!=0) bLAKB_KONF_CH=1;
;;;1924   				}
;;;1925   			}
;;;1926   		}
;;;1927   	else 
;;;1928   		{
;;;1929   		if(lakb[i]._isOnCnt<50)
;;;1930   			{
;;;1931   			lakb[i]._isOnCnt++;
;;;1932   			if(lakb[i]._isOnCnt==50)
;;;1933   				{
;;;1934   				if(lakb[i]._battIsOn!=1) bLAKB_KONF_CH=1;
;;;1935   				}
;;;1936   			}
;;;1937   		}
;;;1938   	gran(&lakb[i]._isOnCnt,0,50);*/
;;;1939   
;;;1940   	
;;;1941   if(sacredSunSilentCnt<3) 
;;;1942   	{
;;;1943       	bat[0]._Ub=lakb[0]._tot_bat_volt;
;;;1944       	bat[0]._Tb=lakb[0]._max_cell_temp;
;;;1945      	bat[0]._Ib=lakb[0]._ch_curr/10;
;;;1946   	}
;;;1947   else 
;;;1948   	{
;;;1949       	//bat[0]._Ub=0;
;;;1950       	//bat[0]._Tb=0;
;;;1951      	//bat[0]._Ib=0;
;;;1952   	}
;;;1953   
;;;1954   if(BAT_TYPE==1)
;;;1955   	{
;;;1956   	char i;
;;;1957   	for(i=0;i<1;i++)
;;;1958   		{
;;;1959   		lakb[i]._rat_cap= (lakb_damp[i][13]*256)+ lakb_damp[i][14];
;;;1960   		lakb[i]._max_cell_volt= (lakb_damp[i][0]*256)+ lakb_damp[i][1];
;;;1961   		lakb[i]._min_cell_volt= (lakb_damp[i][2]*256)+ lakb_damp[i][3];
;;;1962   		lakb[i]._max_cell_temp= lakb_damp[i][4];
;;;1963   		lakb[i]._min_cell_temp= lakb_damp[i][5];
;;;1964   		lakb[i]._tot_bat_volt= (lakb_damp[i][6]*256)+ lakb_damp[i][7];
;;;1965   		lakb[i]._ch_curr= (lakb_damp[i][8]*256)+ lakb_damp[i][9];
;;;1966   		lakb[i]._dsch_curr= (lakb_damp[i][10]*256)+ lakb_damp[i][11];
;;;1967   		lakb[i]._s_o_c= lakb_damp[i][12];
;;;1968   		lakb[i]._r_b_t= lakb_damp[i][15];
;;;1969   		lakb[i]._c_c_l_v= (lakb_damp[i][16]*256)+ lakb_damp[i][17];
;;;1970   		lakb[i]._s_o_h= lakb_damp[i][18];
;;;1971   		lakb[i]._flags1= lakb_damp[i][34];
;;;1972   		lakb[i]._flags2= lakb_damp[i][35];
;;;1973   		lakb[i]._b_p_ser_num= lakb_damp[i][36];
;;;1974   
;;;1975   /*		if(lakb[i]._rat_cap==0)
;;;1976   			{
;;;1977   			if(lakb[i]._isOnCnt)
;;;1978   				{
;;;1979   				lakb[i]._isOnCnt--;
;;;1980   				if(lakb[i]._isOnCnt==0)
;;;1981   					{
;;;1982   					if(lakb[i]._battIsOn!=0) bLAKB_KONF_CH=1;
;;;1983   					}
;;;1984   				}
;;;1985   			}
;;;1986   		else 
;;;1987   			{
;;;1988   			if(lakb[i]._isOnCnt<50)
;;;1989   				{
;;;1990   				lakb[i]._isOnCnt++;
;;;1991   				if(lakb[i]._isOnCnt==50)
;;;1992   					{
;;;1993   					if(lakb[i]._battIsOn!=1) bLAKB_KONF_CH=1;
;;;1994   					}
;;;1995   				}
;;;1996   			} */
;;;1997   		gran(&lakb[i]._isOnCnt,0,50);
;;;1998   	 	}
;;;1999   
;;;2000   	if(lakb_damp[0][41]==100)
;;;2001   		{
;;;2002   		li_bat._485Error=1;
;;;2003   		}
;;;2004   	if(lakb_damp[0][41]==0)
;;;2005   		{
;;;2006   		//if(bRS485ERR)bLAKB_KONF_CH=1;
;;;2007   		li_bat._485Error=0;
;;;2008   		}
;;;2009   	li_bat._485ErrorCnt=lakb_damp[0][41];
;;;2010   
;;;2011   
;;;2012   	}
;;;2013   
;;;2014   
;;;2015   #endif
;;;2016   
;;;2017   
;;;2018   #ifdef UKU_TELECORE2015
;;;2019   //   
;;;2020   //TODO          
;;;2021   li_bat._batStat=bsOK;
;;;2022   if(BAT_TYPE==1) //COSLIGHT
;;;2023   	{
;;;2024   	if(li_bat._batStat==bsOK)
;;;2025   		{
;;;2026   		li_bat._Ub=lakb[0]._tot_bat_volt/10;
;;;2027   
;;;2028   		if(lakb[0]._ch_curr)li_bat._Ib=lakb[0]._ch_curr/10;
;;;2029   		else if(lakb[0]._dsch_curr) li_bat._Ib=bat[0]._Ib/10;//lakb[0]._dsch_curr/10;
;;;2030   	
;;;2031   		li_bat._ratCap=lakb[0]._rat_cap/100;
;;;2032   		li_bat._soc=lakb[0]._s_o_c;
;;;2033   		li_bat._soh=lakb[0]._s_o_h;
;;;2034   		li_bat._cclv=lakb[0]._c_c_l_v/10;
;;;2035   		li_bat._Tb=lakb[0]._max_cell_temp;
;;;2036   		li_bat._rbt=lakb[0]._r_b_t;
;;;2037   		}
;;;2038   	else 
;;;2039   		{
;;;2040   		li_bat._Ub=bat[0]._Ub;
;;;2041   		li_bat._Ib=bat[0]._Ib/10;
;;;2042   		li_bat._Tb=bat[0]._Tb;
;;;2043   		}
;;;2044   
;;;2045   	if((li_bat._485Error)||(li_bat._canError))
;;;2046   		{
;;;2047   		li_bat._batStat=bsOFF;
;;;2048   		}
;;;2049   	else li_bat._batStat=bsOK;
;;;2050   	}
;;;2051   #endif
;;;2052   
;;;2053   
;;;2054   /*
;;;2055   if((BAT_IS_ON[0]==bisON)&&(BAT_TYPE[0]==1)&&(BAT_LINK==0))
;;;2056   	{
;;;2057   
;;;2058   
;;;2059   	if(bat_drv_rx_buff[13]<=0x39)bbb[0]=bat_drv_rx_buff[13]-0x30;
;;;2060   	else bbb[0]=bat_drv_rx_buff[13]-55;
;;;2061   	if(bat_drv_rx_buff[14]<=0x39)bbb[1]=bat_drv_rx_buff[14]-0x30;
;;;2062   	else bbb[1]=bat_drv_rx_buff[14]-55;
;;;2063   	if(bat_drv_rx_buff[15]<=0x39)bbb[2]=bat_drv_rx_buff[15]-0x30;
;;;2064   	else bbb[2]=bat_drv_rx_buff[15]-55;
;;;2065   	if(bat_drv_rx_buff[16]<=0x39)bbb[3]=bat_drv_rx_buff[16]-0x30;
;;;2066   	else bbb[3]=bat_drv_rx_buff[16]-55;
;;;2067   
;;;2068   	tempSS=0;
;;;2069   	tempSS=((bbb[0]*4096)+(bbb[1]*256)+(bbb[2]*16)+bbb[3]);
;;;2070   
;;;2071   	bat[0]._max_cell_volt=(tempSS+5)/10;
;;;2072   
;;;2073   	if(bat_drv_rx_buff[17]<=0x39)bbb[0]=bat_drv_rx_buff[17]-0x30;
;;;2074   	else bbb[0]=bat_drv_rx_buff[17]-55;
;;;2075   	if(bat_drv_rx_buff[18]<=0x39)bbb[1]=bat_drv_rx_buff[18]-0x30;
;;;2076   	else bbb[1]=bat_drv_rx_buff[18]-55;
;;;2077   	if(bat_drv_rx_buff[19]<=0x39)bbb[2]=bat_drv_rx_buff[19]-0x30;
;;;2078   	else bbb[2]=bat_drv_rx_buff[19]-55;
;;;2079   	if(bat_drv_rx_buff[20]<=0x39)bbb[3]=bat_drv_rx_buff[20]-0x30;
;;;2080   	else bbb[3]=bat_drv_rx_buff[20]-55;
;;;2081   
;;;2082   	tempSS=0;
;;;2083   	tempSS=((bbb[0]*4096)+(bbb[1]*256)+(bbb[2]*16)+bbb[3]);
;;;2084   
;;;2085   	bat[0]._min_cell_volt=(tempSS+5)/10;
;;;2086   
;;;2087   
;;;2088   	}*/
;;;2089   
;;;2090   
;;;2091   
;;;2092   }
00152e  e8bd9fff          POP      {r0-r12,pc}
;;;2093   
                          ENDP

                  mnemo_hndl PROC
;;;2094   //-----------------------------------------------
;;;2095   void mnemo_hndl(void)
001532  4a7a              LDR      r2,|L1.5916|
;;;2096   {
;;;2097   if(((ind==iMn_220)||(ind==iMn))&&(sub_ind==0)&&(MNEMO_ON==mnON))
;;;2098   	{
;;;2099   	if(mnemo_cnt)mnemo_cnt--;
001534  497a              LDR      r1,|L1.5920|
001536  7810              LDRB     r0,[r2,#0]            ;2097  ; a_ind
001538  2804              CMP      r0,#4                 ;2097
00153a  d001              BEQ      |L1.5440|
00153c  2801              CMP      r0,#1                 ;2097
00153e  d105              BNE      |L1.5452|
                  |L1.5440|
001540  7850              LDRB     r0,[r2,#1]            ;2097  ; a_ind
001542  b918              CBNZ     r0,|L1.5452|
001544  4877              LDR      r0,|L1.5924|
001546  7800              LDRB     r0,[r0,#0]            ;2097  ; MNEMO_ON
001548  2855              CMP      r0,#0x55              ;2097
00154a  d003              BEQ      |L1.5460|
                  |L1.5452|
;;;2100   	}
;;;2101   else mnemo_cnt=MNEMO_TIME;
00154c  4876              LDR      r0,|L1.5928|
00154e  8800              LDRH     r0,[r0,#0]  ; MNEMO_TIME
001550  7008              STRB     r0,[r1,#0]
                  |L1.5458|
;;;2102   }
001552  4770              BX       lr
                  |L1.5460|
001554  7808              LDRB     r0,[r1,#0]            ;2099  ; mnemo_cnt
001556  2800              CMP      r0,#0                 ;2099
001558  d0fb              BEQ      |L1.5458|
00155a  f1a00001          SUB      r0,r0,#1              ;2099
00155e  7008              STRB     r0,[r1,#0]            ;2099
001560  4770              BX       lr
;;;2103   
                          ENDP

                  adc_init PROC
;;;2104   //-----------------------------------------------
;;;2105   void adc_init(void)
001562  4872              LDR      r0,|L1.5932|
;;;2106   {
;;;2107   
;;;2108   SET_REG(LPC_PINCON->PINSEL1,1,(25-16)*2,2);
001564  6841              LDR      r1,[r0,#4]
001566  f4212140          BIC      r1,r1,#0xc0000
00156a  f4412180          ORR      r1,r1,#0x40000
00156e  6041              STR      r1,[r0,#4]
;;;2109   SET_REG(LPC_PINCON->PINSEL1,1,(24-16)*2,2);
001570  6841              LDR      r1,[r0,#4]
001572  f4213140          BIC      r1,r1,#0x30000
001576  f4413180          ORR      r1,r1,#0x10000
00157a  6041              STR      r1,[r0,#4]
;;;2110   SET_REG(LPC_PINCON->PINSEL1,1,(23-16)*2,2);
00157c  6841              LDR      r1,[r0,#4]
00157e  f4214140          BIC      r1,r1,#0xc000
001582  f4414180          ORR      r1,r1,#0x4000
001586  6041              STR      r1,[r0,#4]
;;;2111   
;;;2112   
;;;2113   SET_REG(LPC_PINCON->PINMODE1,2,(25-16)*2,2);
001588  6c41              LDR      r1,[r0,#0x44]
00158a  f4212140          BIC      r1,r1,#0xc0000
00158e  f4412100          ORR      r1,r1,#0x80000
001592  6441              STR      r1,[r0,#0x44]
;;;2114   SET_REG(LPC_PINCON->PINMODE1,2,(24-16)*2,2);
001594  6c41              LDR      r1,[r0,#0x44]
001596  f4213140          BIC      r1,r1,#0x30000
00159a  f4413100          ORR      r1,r1,#0x20000
00159e  6441              STR      r1,[r0,#0x44]
;;;2115   SET_REG(LPC_PINCON->PINMODE1,2,(23-16)*2,2);
0015a0  6c41              LDR      r1,[r0,#0x44]
0015a2  f4214140          BIC      r1,r1,#0xc000
0015a6  f4414100          ORR      r1,r1,#0x8000
0015aa  6441              STR      r1,[r0,#0x44]
;;;2116   
;;;2117   SET_REG(LPC_ADC->ADCR,0,24,3);
0015ac  4860              LDR      r0,|L1.5936|
0015ae  6801              LDR      r1,[r0,#0]
0015b0  f02161e0          BIC      r1,r1,#0x7000000
0015b4  6001              STR      r1,[r0,#0]
;;;2118   
;;;2119   SET_REG(LPC_ADC->ADCR,1,21,1);
0015b6  6801              LDR      r1,[r0,#0]
0015b8  f4411100          ORR      r1,r1,#0x200000
0015bc  6001              STR      r1,[r0,#0]
;;;2120   SET_REG(LPC_ADC->ADCR,0,16,1);
0015be  6801              LDR      r1,[r0,#0]
0015c0  f4213180          BIC      r1,r1,#0x10000
0015c4  6001              STR      r1,[r0,#0]
;;;2121   SET_REG(LPC_ADC->ADCR,1,8,8);
0015c6  6801              LDR      r1,[r0,#0]
0015c8  f421417f          BIC      r1,r1,#0xff00
0015cc  f4417180          ORR      r1,r1,#0x100
0015d0  6001              STR      r1,[r0,#0]
;;;2122   
;;;2123   //SET_REG(LPC_GPIO0->FIODIR,7,5,3);
;;;2124   //SET_REG(LPC_GPIO0->FIOPIN,4,5,3);
;;;2125   	
;;;2126   	/*if(adc_ch<=7)*///SET_REG(LPC_ADC->ADCR,1<<5,0,8);
;;;2127        /*else if(adc_ch==8) SET_REG(LPC_ADC->ADCR,1<<2,0,8);
;;;2128        else SET_REG(LPC_ADC->ADCR,1<<4,0,8);*/
;;;2129   
;;;2130   LPC_ADC->ADINTEN     =  (1<< 8);      /* global enable interrupt            */
0015d2  f44f7180          MOV      r1,#0x100
0015d6  60c1              STR      r1,[r0,#0xc]
0015d8  4856              LDR      r0,|L1.5940|
0015da  f44f0180          MOV      r1,#0x400000
0015de  6001              STR      r1,[r0,#0]
;;;2131   
;;;2132   NVIC_EnableIRQ(ADC_IRQn);             /* enable ADC Interrupt               */
;;;2133   
;;;2134   
;;;2135   }
0015e0  4770              BX       lr
;;;2136   
                          ENDP

                  adc_drv7 PROC
;;;2137   //-----------------------------------------------
;;;2138   void adc_drv7(void) //(U - )
0015e2  e92d41f0          PUSH     {r4-r8,lr}
;;;2139   {
;;;2140   //int temp_S;
;;;2141   //char i;
;;;2142   //signed short temp_SS;
;;;2143   
;;;2144   adc_self_ch_disp[0]=abs_pal(adc_self_ch_buff[1]-adc_self_ch_buff[0]);//adc_self_ch_buff[0]&0x0f80;
0015e6  4c54              LDR      r4,|L1.5944|
0015e8  8860              LDRH     r0,[r4,#2]  ; adc_self_ch_buff
0015ea  8821              LDRH     r1,[r4,#0]  ; adc_self_ch_buff
0015ec  1a40              SUBS     r0,r0,r1
0015ee  b200              SXTH     r0,r0
0015f0  f7fffffe          BL       abs_pal
0015f4  1da6              ADDS     r6,r4,#6
0015f6  8030              STRH     r0,[r6,#0]
;;;2145   adc_self_ch_disp[1]=abs_pal(adc_self_ch_buff[2]-adc_self_ch_buff[1]);//adc_self_ch_buff[1]&0x0f80;
0015f8  88a0              LDRH     r0,[r4,#4]  ; adc_self_ch_buff
0015fa  8861              LDRH     r1,[r4,#2]  ; adc_self_ch_buff
0015fc  1a40              SUBS     r0,r0,r1
0015fe  b200              SXTH     r0,r0
001600  f7fffffe          BL       abs_pal
001604  8070              STRH     r0,[r6,#2]
;;;2146   adc_self_ch_disp[2]=abs_pal(adc_self_ch_buff[2]-adc_self_ch_buff[0]);//adc_self_ch_buff[2]&0x0f80;
001606  88a0              LDRH     r0,[r4,#4]  ; adc_self_ch_buff
001608  8821              LDRH     r1,[r4,#0]  ; adc_self_ch_buff
00160a  1a40              SUBS     r0,r0,r1
00160c  b200              SXTH     r0,r0
00160e  f7fffffe          BL       abs_pal
001612  80b0              STRH     r0,[r6,#4]
;;;2147   
;;;2148   //adc_self_ch_disp[0]=adc_self_ch_buff[0]&0x0ff0;
;;;2149   //adc_self_ch_disp[1]=adc_self_ch_buff[1]&0x0ff0;
;;;2150   //adc_self_ch_disp[2]=adc_self_ch_buff[2]&0x0ff0;
;;;2151   
;;;2152   
;;;2153   if(adc_self_ch_disp[2]<300)//==adc_self_ch_disp[2])
001614  f44f7196          MOV      r1,#0x12c
;;;2154   	{
;;;2155   	adc_result=adc_self_ch_buff[2];
001618  f1a4058e          SUB      r5,r4,#0x8e
00161c  4288              CMP      r0,r1                 ;2153
00161e  da02              BGE      |L1.5670|
001620  88a0              LDRH     r0,[r4,#4]  ; adc_self_ch_buff
001622  8528              STRH     r0,[r5,#0x28]
001624  e00c              B        |L1.5696|
                  |L1.5670|
;;;2156   	} 
;;;2157   else if(adc_self_ch_disp[1]<300)//==adc_self_ch_disp[2])
001626  f9b60002          LDRSH    r0,[r6,#2]  ; adc_self_ch_disp
00162a  4288              CMP      r0,r1
00162c  da02              BGE      |L1.5684|
;;;2158   	{
;;;2159   	adc_result=adc_self_ch_buff[1];
00162e  8860              LDRH     r0,[r4,#2]  ; adc_self_ch_buff
001630  8528              STRH     r0,[r5,#0x28]
001632  e005              B        |L1.5696|
                  |L1.5684|
;;;2160   	}
;;;2161   else if(adc_self_ch_disp[0]<300)//==adc_self_ch_disp[1])
001634  f9b60000          LDRSH    r0,[r6,#0]  ; adc_self_ch_disp
001638  4288              CMP      r0,r1
00163a  da01              BGE      |L1.5696|
;;;2162   	{
;;;2163   	adc_result=adc_self_ch_buff[0];
00163c  8820              LDRH     r0,[r4,#0]  ; adc_self_ch_buff
00163e  8528              STRH     r0,[r5,#0x28]
                  |L1.5696|
;;;2164   	}
;;;2165       //adc_result=92;
;;;2166   
;;;2167   if(adc_ch_net)
001640  78af              LDRB     r7,[r5,#2]  ; adc_ch_net
001642  2600              MOVS     r6,#0
001644  b32f              CBZ      r7,|L1.5778|
;;;2168   	{
;;;2169   
;;;2170   	main_power_buffer[0]+=(long)(adc_result);
001646  483d              LDR      r0,|L1.5948|
001648  f9b51028          LDRSH    r1,[r5,#0x28]  ; adc_result
00164c  6802              LDR      r2,[r0,#0]  ; main_power_buffer
00164e  440a              ADD      r2,r2,r1
001650  6002              STR      r2,[r0,#0]  ; main_power_buffer
;;;2171   	main_power_buffer[1]+=(long)(adc_result);
001652  6842              LDR      r2,[r0,#4]  ; main_power_buffer
001654  440a              ADD      r2,r2,r1
001656  6042              STR      r2,[r0,#4]  ; main_power_buffer
;;;2172   	main_power_buffer[2]+=(long)(adc_result);
001658  6882              LDR      r2,[r0,#8]  ; main_power_buffer
00165a  440a              ADD      r2,r2,r1
00165c  6082              STR      r2,[r0,#8]  ; main_power_buffer
;;;2173   	main_power_buffer[3]+=(long)(adc_result);
00165e  68c2              LDR      r2,[r0,#0xc]  ; main_power_buffer
001660  4411              ADD      r1,r1,r2
001662  60c1              STR      r1,[r0,#0xc]  ; main_power_buffer
;;;2174   
;;;2175   	adc_net_buff_cnt++;
001664  8e29              LDRH     r1,[r5,#0x30]  ; adc_net_buff_cnt
001666  f1010101          ADD      r1,r1,#1
00166a  b209              SXTH     r1,r1
00166c  8629              STRH     r1,[r5,#0x30]
;;;2176   	if(adc_net_buff_cnt>=0x1000)
00166e  f5b15f80          CMP      r1,#0x1000
001672  db00              BLT      |L1.5750|
;;;2177   		{
;;;2178   		adc_net_buff_cnt=0;
001674  862e              STRH     r6,[r5,#0x30]
                  |L1.5750|
;;;2179   		}
;;;2180   	if((adc_net_buff_cnt&0x03ff)==0)
001676  f9b51030          LDRSH    r1,[r5,#0x30]  ; adc_net_buff_cnt
00167a  058a              LSLS     r2,r1,#22
00167c  d131              BNE      |L1.5858|
;;;2181   		{
;;;2182   		#ifdef UKU_220
;;;2183   		net_buff_=(short)((main_power_buffer[adc_net_buff_cnt>>10])>>11);
;;;2184   		#else
;;;2185   		#ifdef UKU_220_V2
;;;2186   		net_buff_=(short)((main_power_buffer[adc_net_buff_cnt>>10])>>11);
;;;2187   		#else
;;;2188   		net_buff_=(short)((main_power_buffer[adc_net_buff_cnt>>10])>>8);
00167e  ea4f21a1          ASR      r1,r1,#10
001682  f8502021          LDR      r2,[r0,r1,LSL #2]
001686  ea4f2222          ASR      r2,r2,#8
00168a  84ea              STRH     r2,[r5,#0x26]
;;;2189   		#endif
;;;2190   		#endif
;;;2191   		main_power_buffer[adc_net_buff_cnt>>10]=0;
00168c  f8406021          STR      r6,[r0,r1,LSL #2]
001690  e027              B        |L1.5858|
                  |L1.5778|
;;;2192   		}
;;;2193   
;;;2194   
;;;2195   	} 
;;;2196   else if(!adc_ch_net)
;;;2197   	{
;;;2198   	adc_buff[adc_ch][adc_ch_cnt]=(long)adc_result;
001692  482b              LDR      r0,|L1.5952|
001694  78ec              LDRB     r4,[r5,#3]  ; adc_ch
001696  792a              LDRB     r2,[r5,#4]  ; adc_ch_cnt
001698  eb001384          ADD      r3,r0,r4,LSL #6
00169c  f9b51028          LDRSH    r1,[r5,#0x28]  ; adc_result
0016a0  f8431022          STR      r1,[r3,r2,LSL #2]
;;;2199   	
;;;2200   	if((adc_ch_cnt&0x03)==0)
0016a4  0790              LSLS     r0,r2,#30
0016a6  d10f              BNE      |L1.5832|
;;;2201   		{
;;;2202   		long temp_L;
;;;2203   		char i;
;;;2204   		temp_L=0;
0016a8  4601              MOV      r1,r0
                  |L1.5802|
;;;2205   		for(i=0;i<16;i++)
;;;2206   			{
;;;2207   			temp_L+=adc_buff[adc_ch][i];
0016aa  f853c020          LDR      r12,[r3,r0,LSL #2]
0016ae  4461              ADD      r1,r1,r12
0016b0  f1000001          ADD      r0,r0,#1              ;2205
0016b4  b2c0              UXTB     r0,r0                 ;2205
0016b6  2810              CMP      r0,#0x10              ;2205
0016b8  d3f7              BCC      |L1.5802|
;;;2208   			}
;;;2209   		adc_buff_[adc_ch]= (short)(temp_L>>4);
0016ba  ea4f1021          ASR      r0,r1,#4
0016be  491f              LDR      r1,|L1.5948|
0016c0  f1a10120          SUB      r1,r1,#0x20
0016c4  f8210014          STRH     r0,[r1,r4,LSL #1]
                  |L1.5832|
;;;2210   
;;;2211   		//adc_buff_[3]=346;
;;;2212   		}
;;;2213   	if(++adc_ch>=16) 
0016c8  1c64              ADDS     r4,r4,#1
0016ca  b2e0              UXTB     r0,r4
0016cc  70e8              STRB     r0,[r5,#3]
0016ce  2810              CMP      r0,#0x10
0016d0  d307              BCC      |L1.5858|
;;;2214   		{
;;;2215   		adc_ch=0;
0016d2  70ee              STRB     r6,[r5,#3]
;;;2216   		adc_ch_cnt++;
0016d4  f1020201          ADD      r2,r2,#1
0016d8  b2d0              UXTB     r0,r2
0016da  7128              STRB     r0,[r5,#4]
;;;2217   		if(adc_ch_cnt>=16)adc_ch_cnt=0;
0016dc  2810              CMP      r0,#0x10
0016de  d300              BCC      |L1.5858|
0016e0  712e              STRB     r6,[r5,#4]
                  |L1.5858|
;;;2218   		}
;;;2219   	}
;;;2220   
;;;2221   //adc_buff[adc_ch][adc_cnt1]=(adc_self_ch_buff[2]+adc_self_ch_buff[1])/2;
;;;2222   
;;;2223   //if(adc_buff[adc_ch][adc_cnt1]<adc_buff_min[adc_ch])adc_buff_min[adc_ch]=adc_buff[adc_ch][adc_cnt1];
;;;2224   //if(adc_buff[adc_ch][adc_cnt1]>adc_buff_max[adc_ch])adc_buff_max[adc_ch]=adc_buff[adc_ch][adc_cnt1];
;;;2225   /*
;;;2226   	{
;;;2227   	if((adc_cnt1&0x03)==0)
;;;2228   		{
;;;2229   		temp_S=0;
;;;2230   		for(i=0;i<16;i++)
;;;2231   			{
;;;2232   			temp_S+=adc_buff[adc_ch][i];
;;;2233   			} 
;;;2234            	adc_buff_[adc_ch]=temp_S>>4;
;;;2235             }
;;;2236   	}*/
;;;2237   
;;;2238   
;;;2239   		  
;;;2240   
;;;2241   adc_self_ch_cnt=0;
0016e2  706e              STRB     r6,[r5,#1]
;;;2242   
;;;2243   adc_ch_net++;
0016e4  f1070701          ADD      r7,r7,#1
;;;2244   adc_ch_net&=1;
0016e8  f0070001          AND      r0,r7,#1
0016ec  70a8              STRB     r0,[r5,#2]
;;;2245   
;;;2246   //SET_REG(LPC_GPIO0->FIODIR,7,5,3);
;;;2247   //SET_REG(LPC_GPIO0->FIOPIN,adc_ch,5,3);
;;;2248   
;;;2249   if(adc_ch_net)
;;;2250   	{
;;;2251   	//LPC_GPIO2->FIODIR|=(1<<7);
;;;2252   	//LPC_GPIO2->FIOPIN|=(1<<7);
;;;2253   	SET_REG(LPC_ADC->ADCR,1<<2,0,8);
0016ee  4a10              LDR      r2,|L1.5936|
0016f0  b340              CBZ      r0,|L1.5956|
0016f2  6810              LDR      r0,[r2,#0]
0016f4  f02000ff          BIC      r0,r0,#0xff
0016f8  f1000004          ADD      r0,r0,#4
0016fc  6010              STR      r0,[r2,#0]
0016fe  e060              B        |L1.6082|
                  |L1.5888|
                          DCD      t_ext_can_nd
                  |L1.5892|
                          DCD      t_ext_can
                  |L1.5896|
                          DCD      BAT_IS_ON
                  |L1.5900|
                          DCD      load_I
                  |L1.5904|
                          DCD      Isumm
                  |L1.5908|
                          DCD      NUMINV
                  |L1.5912|
                          DCD      inv
                  |L1.5916|
                          DCD      a_ind
                  |L1.5920|
                          DCD      mnemo_cnt
                  |L1.5924|
                          DCD      MNEMO_ON
                  |L1.5928|
                          DCD      MNEMO_TIME
                  |L1.5932|
                          DCD      0x4002c000
                  |L1.5936|
                          DCD      0x40034000
                  |L1.5940|
                          DCD      0xe000e100
                  |L1.5944|
                          DCD      ||area_number.21||+0x8e
                  |L1.5948|
                          DCD      ||.bss||+0x420
                  |L1.5952|
                          DCD      ||.bss||
                  |L1.5956|
001744  e7ff              B        |L1.5958|
                  |L1.5958|
;;;2254   	}
;;;2255   else
;;;2256   	{
;;;2257   	//LPC_GPIO2->FIODIR|=(1<<7);
;;;2258   	//LPC_GPIO2->FIOPIN&=~(1<<7);
;;;2259   	if(!(adc_ch&(1<<3)))SET_REG(LPC_ADC->ADCR,1<<0,0,8);
001746  78e9              LDRB     r1,[r5,#3]  ; adc_ch
001748  0708              LSLS     r0,r1,#28
00174a  d406              BMI      |L1.5978|
00174c  6810              LDR      r0,[r2,#0]
00174e  f02000ff          BIC      r0,r0,#0xff
001752  f1000001          ADD      r0,r0,#1
001756  6010              STR      r0,[r2,#0]
001758  e005              B        |L1.5990|
                  |L1.5978|
;;;2260   	else 			SET_REG(LPC_ADC->ADCR,1<<1,0,8);
00175a  6810              LDR      r0,[r2,#0]
00175c  f02000ff          BIC      r0,r0,#0xff
001760  f1000002          ADD      r0,r0,#2
001764  6010              STR      r0,[r2,#0]
                  |L1.5990|
;;;2261   
;;;2262   
;;;2263   	SET_REG(LPC_GPIO0->FIODIR,1,28,1);
001766  48fb              LDR      r0,|L1.6996|
001768  6803              LDR      r3,[r0,#0]
00176a  f0435380          ORR      r3,r3,#0x10000000
00176e  6003              STR      r3,[r0,#0]
;;;2264   	SET_REG(LPC_GPIO1->FIODIR,1,30,1);
001770  6a03              LDR      r3,[r0,#0x20]
001772  f0434380          ORR      r3,r3,#0x40000000
001776  6203              STR      r3,[r0,#0x20]
;;;2265   	SET_REG(LPC_GPIO3->FIODIR,1,26,1);
001778  6e03              LDR      r3,[r0,#0x60]
00177a  f0436380          ORR      r3,r3,#0x4000000
00177e  6603              STR      r3,[r0,#0x60]
;;;2266   
;;;2267   	if(!(adc_ch&(1<<0)))SET_REG(LPC_GPIO0->FIOPIN,0,28,1);
001780  07cb              LSLS     r3,r1,#31
001782  d00a              BEQ      |L1.6042|
;;;2268   	else 			SET_REG(LPC_GPIO0->FIOPIN,1,28,1);
001784  6943              LDR      r3,[r0,#0x14]
001786  f0435380          ORR      r3,r3,#0x10000000
00178a  6143              STR      r3,[r0,#0x14]
                  |L1.6028|
;;;2269   
;;;2270   	if(!(adc_ch&(1<<1)))SET_REG(LPC_GPIO1->FIOPIN,0,30,1);
00178c  078b              LSLS     r3,r1,#30
00178e  d409              BMI      |L1.6052|
001790  6b43              LDR      r3,[r0,#0x34]
001792  f0234380          BIC      r3,r3,#0x40000000
001796  6343              STR      r3,[r0,#0x34]
001798  e008              B        |L1.6060|
                  |L1.6042|
00179a  6943              LDR      r3,[r0,#0x14]         ;2267
00179c  f0235380          BIC      r3,r3,#0x10000000     ;2267
0017a0  6143              STR      r3,[r0,#0x14]         ;2267
0017a2  e7f3              B        |L1.6028|
                  |L1.6052|
;;;2271   	else 			SET_REG(LPC_GPIO1->FIOPIN,1,30,1);
0017a4  6b43              LDR      r3,[r0,#0x34]
0017a6  f0434380          ORR      r3,r3,#0x40000000
0017aa  6343              STR      r3,[r0,#0x34]
                  |L1.6060|
;;;2272   
;;;2273   	if(!(adc_ch&(1<<2)))SET_REG(LPC_GPIO3->FIOPIN,0,26,1);
0017ac  0749              LSLS     r1,r1,#29
0017ae  d404              BMI      |L1.6074|
0017b0  6f41              LDR      r1,[r0,#0x74]
0017b2  f0216180          BIC      r1,r1,#0x4000000
0017b6  6741              STR      r1,[r0,#0x74]
0017b8  e003              B        |L1.6082|
                  |L1.6074|
;;;2274   	else 			SET_REG(LPC_GPIO3->FIOPIN,1,26,1);
0017ba  6f41              LDR      r1,[r0,#0x74]
0017bc  f0416180          ORR      r1,r1,#0x4000000
0017c0  6741              STR      r1,[r0,#0x74]
                  |L1.6082|
;;;2275   	}
;;;2276   	
;;;2277   
;;;2278   
;;;2279   
;;;2280   LPC_ADC->ADCR |=  (1<<24);
0017c2  6810              LDR      r0,[r2,#0]
0017c4  f0407080          ORR      r0,r0,#0x1000000
0017c8  6010              STR      r0,[r2,#0]
                  |L1.6090|
;;;2281   
;;;2282   }
0017ca  e8bd81f0          POP      {r4-r8,pc}
;;;2283   
                          ENDP

                  avg_hndl PROC
;;;2540   //-----------------------------------------------
;;;2541   void avg_hndl(void)
0017ce  b5f0              PUSH     {r4-r7,lr}
;;;2542   { 
;;;2543   char i;
;;;2544   
;;;2545   #define AVGCNTMAX	5
;;;2546   if(avg_main_cnt)
0017d0  4ce1              LDR      r4,|L1.7000|
0017d2  f9b4001e          LDRSH    r0,[r4,#0x1e]  ; avg_main_cnt
0017d6  b118              CBZ      r0,|L1.6112|
;;;2547   	{
;;;2548   	avg_main_cnt--;
0017d8  f1a00001          SUB      r0,r0,#1
0017dc  83e0              STRH     r0,[r4,#0x1e]
;;;2549   	goto avg_hndl_end;
0017de  e08d              B        |L1.6396|
                  |L1.6112|
;;;2550   	}                 
;;;2551   
;;;2552   avg_num=0;
0017e0  f04f0500          MOV      r5,#0
0017e4  72e5              STRB     r5,[r4,#0xb]
;;;2553   
;;;2554   for(i=0;i<NUMIST;i++)
0017e6  4628              MOV      r0,r5
0017e8  49dd              LDR      r1,|L1.7008|
;;;2555   	{
;;;2556   	if((bps[i]._state==bsWRK)&&(bps[i]._cnt<20))avg_num++;
0017ea  4bdc              LDR      r3,|L1.7004|
0017ec  f9b12000          LDRSH    r2,[r1,#0]            ;2554
0017f0  e012              B        |L1.6168|
                  |L1.6130|
0017f2  ebc001c0          RSB      r1,r0,r0,LSL #3
0017f6  eb010141          ADD      r1,r1,r1,LSL #1
0017fa  eb030181          ADD      r1,r3,r1,LSL #2
0017fe  788e              LDRB     r6,[r1,#2]
001800  2e01              CMP      r6,#1
001802  d106              BNE      |L1.6162|
001804  78c9              LDRB     r1,[r1,#3]
001806  2914              CMP      r1,#0x14
001808  d203              BCS      |L1.6162|
00180a  7ae1              LDRB     r1,[r4,#0xb]  ; avg_num
00180c  f1010101          ADD      r1,r1,#1
001810  72e1              STRB     r1,[r4,#0xb]
                  |L1.6162|
001812  f1000001          ADD      r0,r0,#1              ;2554
001816  b2c0              UXTB     r0,r0                 ;2554
                  |L1.6168|
001818  4290              CMP      r0,r2                 ;2554
00181a  dbea              BLT      |L1.6130|
;;;2557   	}
;;;2558   
;;;2559   /*if((K[NUMI]>=1)&&(bps_state[0]==ssWRK))	avg_num++;
;;;2560   if((K[NUMI]>=2)&&(bps_state[1]==ssWRK))	avg_num++;
;;;2561   if((K[NUMI]>=3)&&(bps_state[2]==ssWRK))	avg_num++;*/
;;;2562   
;;;2563   	
;;;2564   if(avg_num<2)
00181c  7ae6              LDRB     r6,[r4,#0xb]  ; avg_num
00181e  2e02              CMP      r6,#2
001820  d36c              BCC      |L1.6396|
;;;2565   	{
;;;2566   	goto avg_hndl_end;
;;;2567   	}
;;;2568   	
;;;2569   else
;;;2570   	{
;;;2571   	i_avg_min=5000;
001822  f2413088          MOV      r0,#0x1388
001826  66e0              STR      r0,[r4,#0x6c]  ; i_avg_min
;;;2572   	i_avg_max=0;
001828  66a5              STR      r5,[r4,#0x68]  ; i_avg_max
;;;2573   	i_avg_summ=0;
00182a  6725              STR      r5,[r4,#0x70]  ; i_avg_summ
;;;2574   	for(i=0;i<NUMIST;i++)
00182c  f04f0100          MOV      r1,#0
001830  e017              B        |L1.6242|
                  |L1.6194|
;;;2575   		{
;;;2576   		if(bps[i]._state==bsWRK)
001832  ebc100c1          RSB      r0,r1,r1,LSL #3
001836  eb000040          ADD      r0,r0,r0,LSL #1
00183a  eb030080          ADD      r0,r3,r0,LSL #2
00183e  7887              LDRB     r7,[r0,#2]
001840  2f01              CMP      r7,#1
001842  d10b              BNE      |L1.6236|
;;;2577   			{
;;;2578   			if(bps[i]._Ii>i_avg_max)i_avg_max=bps[i]._Ii;
001844  6a40              LDR      r0,[r0,#0x24]
001846  6ea7              LDR      r7,[r4,#0x68]  ; i_avg_max
001848  42b8              CMP      r0,r7
00184a  dd00              BLE      |L1.6222|
00184c  66a0              STR      r0,[r4,#0x68]  ; i_avg_max
                  |L1.6222|
;;;2579   			if(bps[i]._Ii<i_avg_min)i_avg_min=bps[i]._Ii;
00184e  6ee7              LDR      r7,[r4,#0x6c]  ; i_avg_min
001850  42b8              CMP      r0,r7
001852  da00              BGE      |L1.6230|
001854  66e0              STR      r0,[r4,#0x6c]  ; i_avg_min
                  |L1.6230|
;;;2580   			
;;;2581   			i_avg_summ+=bps[i]._Ii;
001856  6f27              LDR      r7,[r4,#0x70]  ; i_avg_summ
001858  4438              ADD      r0,r0,r7
00185a  6720              STR      r0,[r4,#0x70]  ; i_avg_summ
                  |L1.6236|
00185c  f1010101          ADD      r1,r1,#1              ;2574
001860  b2c9              UXTB     r1,r1                 ;2574
                  |L1.6242|
001862  4291              CMP      r1,r2                 ;2574
001864  dbe5              BLT      |L1.6194|
;;;2582   			}
;;;2583   		}
;;;2584   	i_avg=i_avg_summ/avg_num;	
001866  6f20              LDR      r0,[r4,#0x70]  ; i_avg_summ
001868  fb90f6f6          SDIV     r6,r0,r6
00186c  6766              STR      r6,[r4,#0x74]  ; i_avg
;;;2585   	
;;;2586   	if(i_avg_min==0)i_avg_min=1;
00186e  6ee0              LDR      r0,[r4,#0x6c]  ; i_avg_min
001870  2101              MOVS     r1,#1                 ;2556
001872  b900              CBNZ     r0,|L1.6262|
001874  66e1              STR      r1,[r4,#0x6c]  ; i_avg_min
                  |L1.6262|
;;;2587   
;;;2588   	avg=i_avg_max;
001876  6ea0              LDR      r0,[r4,#0x68]  ; i_avg_max
;;;2589   	avg*=100;
001878  f04f0764          MOV      r7,#0x64
00187c  fb00f007          MUL      r0,r0,r7
;;;2590   	avg/=i_avg_min;
001880  6ee7              LDR      r7,[r4,#0x6c]  ; i_avg_min
001882  fb90f0f7          SDIV     r0,r0,r7
001886  67a0              STR      r0,[r4,#0x78]  ; avg
;;;2591   
;;;2592   	if(avg>160) bAVG=1;
001888  28a0              CMP      r0,#0xa0
00188a  dd00              BLE      |L1.6286|
00188c  72a1              STRB     r1,[r4,#0xa]
                  |L1.6286|
;;;2593   	if(avg<120) bAVG=0;
00188e  2878              CMP      r0,#0x78
001890  da00              BGE      |L1.6292|
001892  72a5              STRB     r5,[r4,#0xa]
                  |L1.6292|
;;;2594   
;;;2595   	if(bAVG==1)
001894  7aa0              LDRB     r0,[r4,#0xa]  ; bAVG
001896  2801              CMP      r0,#1
001898  d130              BNE      |L1.6396|
;;;2596   		{
;;;2597   		for(i=0;i<NUMIST;i++)
00189a  f04f0100          MOV      r1,#0
;;;2598   			{
;;;2599   			if(bps[i]._state==bsWRK)
;;;2600   				{
;;;2601   				if(bps[i]._Ii>i_avg)bps[i]._x_--;
;;;2602   				if(bps[i]._Ii<i_avg)bps[i]._x_++;
;;;2603   			
;;;2604   				if(bps[i]._x_<-50)bps[i]._x_=-50;
00189e  f06f0431          MVN      r4,#0x31
0018a2  e029              B        |L1.6392|
                  |L1.6308|
0018a4  ebc100c1          RSB      r0,r1,r1,LSL #3       ;2599
0018a8  eb000040          ADD      r0,r0,r0,LSL #1       ;2599
0018ac  eb030080          ADD      r0,r3,r0,LSL #2       ;2599
0018b0  7885              LDRB     r5,[r0,#2]            ;2599
0018b2  2d01              CMP      r5,#1                 ;2599
0018b4  d11d              BNE      |L1.6386|
0018b6  6a45              LDR      r5,[r0,#0x24]         ;2601
0018b8  42b5              CMP      r5,r6                 ;2601
0018ba  dd05              BLE      |L1.6344|
0018bc  f8b05050          LDRH     r5,[r0,#0x50]         ;2601
0018c0  f1a50501          SUB      r5,r5,#1              ;2601
0018c4  f8a05050          STRH     r5,[r0,#0x50]         ;2601
                  |L1.6344|
0018c8  da05              BGE      |L1.6358|
0018ca  f8b05050          LDRH     r5,[r0,#0x50]         ;2602
0018ce  f1050501          ADD      r5,r5,#1              ;2602
0018d2  f8a05050          STRH     r5,[r0,#0x50]         ;2602
                  |L1.6358|
0018d6  f9b05050          LDRSH    r5,[r0,#0x50]
0018da  42a5              CMP      r5,r4
0018dc  da01              BGE      |L1.6370|
0018de  f8a04050          STRH     r4,[r0,#0x50]
                  |L1.6370|
;;;2605   				if(bps[i]._x_>50)bps[i]._x_=50;	
0018e2  f9b05050          LDRSH    r5,[r0,#0x50]
0018e6  2d32              CMP      r5,#0x32
0018e8  dd03              BLE      |L1.6386|
0018ea  f04f0532          MOV      r5,#0x32
0018ee  f8a05050          STRH     r5,[r0,#0x50]
                  |L1.6386|
0018f2  f1010101          ADD      r1,r1,#1              ;2597
0018f6  b2c9              UXTB     r1,r1                 ;2597
                  |L1.6392|
0018f8  4291              CMP      r1,r2                 ;2597
0018fa  dbd3              BLT      |L1.6308|
                  |L1.6396|
;;;2606   				}
;;;2607   			}		
;;;2608   		}			
;;;2609   	}   	 
;;;2610   
;;;2611   
;;;2612   avg_hndl_end:
;;;2613   __nop();  
0018fc  bf00              NOP      
;;;2614   }
0018fe  bdf0              POP      {r4-r7,pc}
;;;2615   
                          ENDP

                  rele_hndl PROC
;;;2628   //*************-----------------------------------------------
;;;2629   void rele_hndl(void)
001900  e92d41f0          PUSH     {r4-r8,lr}
;;;2630   {
;;;2631   //static char cnt_rel_sam;
;;;2632   //char temp;
;;;2633   
;;;2634   //temp=0;
;;;2635   
;;;2636   
;;;2637   SET_REG(LPC_PINCON->PINSEL0,0,4*2,6*2);
001904  4897              LDR      r0,|L1.7012|
001906  6801              LDR      r1,[r0,#0]
001908  4a97              LDR      r2,|L1.7016|
00190a  ea010102          AND      r1,r1,r2
00190e  6001              STR      r1,[r0,#0]
;;;2638   SET_REG(LPC_GPIO0->FIODIR,63,4,6);
001910  4c90              LDR      r4,|L1.6996|
001912  6821              LDR      r1,[r4,#0]
001914  f441717c          ORR      r1,r1,#0x3f0
001918  6021              STR      r1,[r4,#0]
;;;2639   SET_REG(LPC_PINCON->PINSEL7,0,(25-16)*2,2);
00191a  69c1              LDR      r1,[r0,#0x1c]
00191c  f4212140          BIC      r1,r1,#0xc0000
001920  61c1              STR      r1,[r0,#0x1c]
;;;2640   SET_REG(LPC_GPIO3->FIODIR,1,25,1);
001922  6e21              LDR      r1,[r4,#0x60]
001924  f0417100          ORR      r1,r1,#0x2000000
001928  6621              STR      r1,[r4,#0x60]
;;;2641   SET_REG(LPC_PINCON->PINSEL1,0,(29-16)*2,2);
00192a  6841              LDR      r1,[r0,#4]
00192c  f0216140          BIC      r1,r1,#0xc000000
001930  6041              STR      r1,[r0,#4]
;;;2642   SET_REG(LPC_GPIO0->FIODIR,1,29,1);
001932  6820              LDR      r0,[r4,#0]
001934  f0405000          ORR      r0,r0,#0x20000000
001938  6020              STR      r0,[r4,#0]
;;;2643   
;;;2644   
;;;2645   
;;;2646   
;;;2647   
;;;2648   
;;;2649   if((((bat[0]._rel_stat)  || (tbatdisable_stat!=tbdsON))&&(tbatdisable_cmnd))	&& (main_1Hz_cnt>5))
00193a  488d              LDR      r0,|L1.7024|
00193c  4d8b              LDR      r5,|L1.7020|
00193e  498e              LDR      r1,|L1.7032|
001940  7802              LDRB     r2,[r0,#0]  ; tbatdisable_stat
001942  488c              LDR      r0,|L1.7028|
001944  f895303c          LDRB     r3,[r5,#0x3c]  ; bat
001948  f9b11000          LDRSH    r1,[r1,#0]
00194c  7800              LDRB     r0,[r0,#0]
00194e  4313              ORRS     r3,r3,r2
001950  d007              BEQ      |L1.6498|
001952  b130              CBZ      r0,|L1.6498|
001954  2905              CMP      r1,#5
001956  dd04              BLE      |L1.6498|
;;;2650   	{
;;;2651   	SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_BAT1,1);
001958  69a3              LDR      r3,[r4,#0x18]
00195a  f4437380          ORR      r3,r3,#0x100
00195e  61a3              STR      r3,[r4,#0x18]
001960  e003              B        |L1.6506|
                  |L1.6498|
;;;2652   	}
;;;2653   else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_BAT1,1);	  	
001962  69e3              LDR      r3,[r4,#0x1c]
001964  f4437380          ORR      r3,r3,#0x100
001968  61e3              STR      r3,[r4,#0x1c]
                  |L1.6506|
;;;2654   
;;;2655   if((((bat[1]._rel_stat) || (tbatdisable_stat!=tbdsON))&&(tbatdisable_cmnd))	&& (main_1Hz_cnt>5))
00196a  f8953088          LDRB     r3,[r5,#0x88]  ; bat
00196e  4313              ORRS     r3,r3,r2
001970  d007              BEQ      |L1.6530|
001972  b130              CBZ      r0,|L1.6530|
001974  2905              CMP      r1,#5
001976  dd04              BLE      |L1.6530|
;;;2656   	{
;;;2657   	SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_BAT2,1);
001978  69a0              LDR      r0,[r4,#0x18]
00197a  f0400040          ORR      r0,r0,#0x40
00197e  61a0              STR      r0,[r4,#0x18]
001980  e003              B        |L1.6538|
                  |L1.6530|
;;;2658   	}
;;;2659   else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_BAT2,1);
001982  69e0              LDR      r0,[r4,#0x1c]
001984  f0400040          ORR      r0,r0,#0x40
001988  61e0              STR      r0,[r4,#0x1c]
                  |L1.6538|
;;;2660   
;;;2661   
;;;2662   if(mess_find_unvol((MESS2RELE_HNDL))&&(mess_data[0]==PARAM_RELE_SAMOKALIBR)) 
00198a  20d2              MOVS     r0,#0xd2
00198c  f7fffffe          BL       mess_find_unvol
001990  4d7a              LDR      r5,|L1.7036|
001992  b110              CBZ      r0,|L1.6554|
001994  6828              LDR      r0,[r5,#0]  ; mess_data
001996  2864              CMP      r0,#0x64
001998  d048              BEQ      |L1.6700|
                  |L1.6554|
;;;2663   	{
;;;2664   	if(mess_data[1]==1)SET_REG(LPC_GPIO0->FIOSET,1,29,1);
;;;2665   	else if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,29,1);
;;;2666   	}
;;;2667   else SET_REG(LPC_GPIO0->FIOCLR,1,29,1);
00199a  69e0              LDR      r0,[r4,#0x1c]
00199c  f0405000          ORR      r0,r0,#0x20000000
0019a0  61e0              STR      r0,[r4,#0x1c]
                  |L1.6562|
;;;2668   
;;;2669   
;;;2670   #ifndef UKU2071x
;;;2671   //  
;;;2672   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;2673   	{
;;;2674   	if(mess_data[1]==0) 			SET_REG(LPC_GPIO3->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;2675   	else 						SET_REG(LPC_GPIO3->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;2676   	}
;;;2677   else	if(!(avar_ind_stat&0x00000001)) 	SET_REG(LPC_GPIO3->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;2678   else 							SET_REG(LPC_GPIO3->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;2679   #endif
;;;2680   #ifdef UKU2071x
;;;2681   //  
;;;2682   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
0019a2  20d2              MOVS     r0,#0xd2
0019a4  f7fffffe          BL       mess_find_unvol
;;;2683   	{
;;;2684   	if(mess_data[1]==0)				SET_REG(LPC_GPIO3->FIOCLR,1,SHIFT_REL_AV_NET,1); 
;;;2685   	else 						SET_REG(LPC_GPIO3->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;2686   	}
;;;2687   else	if(!(avar_ind_stat&0x00000001))	SET_REG(LPC_GPIO3->FIOCLR,1,SHIFT_REL_AV_NET,1);
0019a8  4e75              LDR      r6,|L1.7040|
0019aa  b110              CBZ      r0,|L1.6578|
0019ac  6828              LDR      r0,[r5,#0]            ;2682  ; mess_data
0019ae  2866              CMP      r0,#0x66              ;2682
0019b0  d04b              BEQ      |L1.6730|
                  |L1.6578|
0019b2  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
0019b4  07c0              LSLS     r0,r0,#31
0019b6  d054              BEQ      |L1.6754|
;;;2688   else 					  		SET_REG(LPC_GPIO3->FIOSET,1,SHIFT_REL_AV_NET,1);
0019b8  6fa0              LDR      r0,[r4,#0x78]
0019ba  f0407000          ORR      r0,r0,#0x2000000
0019be  67a0              STR      r0,[r4,#0x78]
                  |L1.6592|
;;;2689   #endif
;;;2690   
;;;2691   #ifdef UKU_3U
;;;2692   //  
;;;2693   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT1))
;;;2694   	{
;;;2695   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT1,1);
;;;2696   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT1,1);
;;;2697        }
;;;2698   else 
;;;2699   	{
;;;2700   	if(!(avar_ind_stat&0x00000002)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT1,1);
;;;2701        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT1,1);
;;;2702   	} 
;;;2703   
;;;2704   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT2))
;;;2705   	{
;;;2706   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;2707   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT2,1);
;;;2708        }
;;;2709   else 
;;;2710   	{
;;;2711   	if(!(avar_ind_stat&0x00000004)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;2712        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT2,1);
;;;2713   	} 
;;;2714   
;;;2715   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
;;;2716   	{
;;;2717   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;2718   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;2719        }
;;;2720   else 
;;;2721   	{
;;;2722   	if(!(avar_ind_stat&0x000007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;2723        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;2724   	} 
;;;2725   
;;;2726   #endif
;;;2727   
;;;2728   
;;;2729   #ifdef UKU_GLONASS
;;;2730   //  
;;;2731   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT1))
;;;2732   	{
;;;2733   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT1,1);
;;;2734   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT1,1);
;;;2735        }
;;;2736   else 
;;;2737   	{
;;;2738   	if(!(avar_ind_stat&0x00000002)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT1,1);
;;;2739        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT1,1);
;;;2740   	} 
;;;2741   
;;;2742   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT2))
;;;2743   	{
;;;2744   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;2745   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT2,1);
;;;2746        }
;;;2747   else 
;;;2748   	{
;;;2749   	if(!(avar_ind_stat&0x00000004)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;2750        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT2,1);
;;;2751   	} 
;;;2752   
;;;2753   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
;;;2754   	{
;;;2755   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;2756   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;2757        }
;;;2758   else 
;;;2759   	{
;;;2760   	if(!(avar_ind_stat&0x000007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;2761        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;2762   	} 
;;;2763   
;;;2764   #endif
;;;2765   
;;;2766   #ifdef U /*
;;;2767   
;;;2768   
;;;2769   
;;;2770   /*
;;;2771   //  
;;;2772   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT))
;;;2773   	{
;;;2774   	if(mess_data[1]==0) temp&=~(1<<SHIFT_REL_AV_BAT);
;;;2775   	else if(mess_data[1]==1) temp|=(1<<SHIFT_REL_AV_BAT);
;;;2776        }
;;;2777   else 
;;;2778   	{
;;;2779   	if(!(avar_ind_stat&0x00000006)) temp&=~(1<<SHIFT_REL_AV_BAT);
;;;2780        else temp|=(1<<SHIFT_REL_AV_BAT);
;;;2781   	} 
;;;2782   */
;;;2783   
;;;2784   #endif
;;;2785   
;;;2786   #ifdef UKU_RSTKM
;;;2787   
;;;2788   //  
;;;2789   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_COMM))
;;;2790   	{
;;;2791   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_COMM,1);
;;;2792   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_COMM,1);
;;;2793   	}
;;;2794   else 
;;;2795   	{
;;;2796        if(  (!(avar_ind_stat&0x00007fff))/* &&
;;;2797             ((!SK_REL_EN[0]) || (sk_av_stat[0]!=sasON))  &&
;;;2798             ((!SK_REL_EN[1]) || (sk_av_stat[1]!=sasON))  &&
;;;2799             ((!SK_REL_EN[2]) || (sk_av_stat[2]!=sasON))  &&
;;;2800             ((!SK_REL_EN[3]) || (sk_av_stat[3]!=sasON))*/  )SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_COMM,1);
;;;2801        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_COMM,1);
;;;2802   	}
;;;2803   	
;;;2804   
;;;2805   // 
;;;2806   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LIGHT))
;;;2807   	{
;;;2808   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;2809   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;2810        }
;;;2811   else 
;;;2812   	{
;;;2813   	if(sk_av_stat[0]!=sasON) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;2814        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;2815   	}
;;;2816   
;;;2817   
;;;2818   //  
;;;2819   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LOAD_OFF))
;;;2820   	{
;;;2821   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;2822   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;2823        }
;;;2824   else if(tloaddisable_cmnd==0)
;;;2825   	{
;;;2826   	SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;2827   	}
;;;2828   else if((tloaddisable_cmnd)&&(tloaddisable_cmnd<=11))
;;;2829   	{
;;;2830   	SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;2831   	}
;;;2832   
;;;2833   else 
;;;2834   	{
;;;2835   	if(!(tloaddisable_stat==tldsON)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;2836        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;2837   	} 
;;;2838   
;;;2839   //  
;;;2840   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VENT))
;;;2841   	{
;;;2842   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;2843   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;2844   	}
;;;2845   else 
;;;2846   	{
;;;2847   	if(mixer_vent_stat==mvsOFF) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;2848        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;2849   	} 
;;;2850   
;;;2851   #endif
;;;2852   
;;;2853   #ifdef UKU_KONTUR
;;;2854   
;;;2855   //  
;;;2856   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_COMM))
;;;2857   	{
;;;2858   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_COMM,1);
;;;2859   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_COMM,1);
;;;2860   	}
;;;2861   else 
;;;2862   	{
;;;2863        if(  (!(avar_ind_stat&0x00007fff)) &&
;;;2864             ((!SK_REL_EN[0]) || (sk_av_stat[0]!=sasON))  &&
;;;2865             ((!SK_REL_EN[1]) || (sk_av_stat[1]!=sasON))  &&
;;;2866             ((!SK_REL_EN[2]) || (sk_av_stat[2]!=sasON))  /*&&
;;;2867             ((!SK_REL_EN[3]) || (sk_av_stat[3]!=sasON))*/  )SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_COMM,1);
;;;2868        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_COMM,1);
;;;2869   	}
;;;2870   
;;;2871   	
;;;2872   //rel_warm_plazma=0;
;;;2873   //    
;;;2874   /*
;;;2875   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_WARM))
;;;2876   	{
;;;2877   	if(mess_data[1]==0)
;;;2878   		{
;;;2879   		SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_WARM,1);
;;;2880   		rel_warm_plazma=1;
;;;2881   		}
;;;2882   	else if(mess_data[1]==1) 
;;;2883   		{
;;;2884   		SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_WARM,1);
;;;2885   		rel_warm_plazma=2;
;;;2886   		}
;;;2887        }
;;;2888   else 
;;;2889   	{
;;;2890   	if(warm_stat_k==wsOFF) 
;;;2891   		{
;;;2892   		SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_WARM,1);
;;;2893   		rel_warm_plazma=3;
;;;2894   		}
;;;2895        else 
;;;2896   		{
;;;2897   		SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_WARM,1);
;;;2898   		rel_warm_plazma=4;
;;;2899   		}
;;;2900   	}
;;;2901   */
;;;2902   // 
;;;2903   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LIGHT))
;;;2904   	{
;;;2905   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;2906   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;2907        }
;;;2908   else 
;;;2909   	{
;;;2910   	if(sk_av_stat[0]!=sasON) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;2911        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;2912   	}
;;;2913   
;;;2914   
;;;2915   
;;;2916   //  
;;;2917   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LOAD_OFF))
;;;2918   	{
;;;2919   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;2920   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;2921        }
;;;2922   else if(tloaddisable_cmnd==0)
;;;2923   	{
;;;2924   	SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;2925   	}
;;;2926   else if((tloaddisable_cmnd)&&(tloaddisable_cmnd<=11))
;;;2927   	{
;;;2928   	SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;2929   	}
;;;2930   
;;;2931   else 
;;;2932   	{
;;;2933   	if(!(tloaddisable_stat==tldsON)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;2934        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;2935   	} 
;;;2936   
;;;2937   //    
;;;2938   if(RELE_LOG)
;;;2939   	{
;;;2940   	if((mess_find_unvol(MESS2RELE_HNDL))&&(mess_data[0]==PARAM_RELE_VENT_WARM))
;;;2941   		{
;;;2942   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;2943   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;2944   		}
;;;2945   	else 
;;;2946   		{
;;;2947   		if(warm_stat_k==wsOFF) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;2948   	     else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;2949   		} 
;;;2950   
;;;2951   	}
;;;2952   else 
;;;2953   	{
;;;2954   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VENT_WARM))
;;;2955   		{
;;;2956   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;2957   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;2958   		}
;;;2959   	else 
;;;2960   		{
;;;2961   		if(vent_stat_k==vsOFF) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;2962   	     else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;2963   		} 
;;;2964   	}
;;;2965   #endif
;;;2966   
;;;2967   #ifdef UKU_6U
;;;2968   //  
;;;2969   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT1))
;;;2970   	{
;;;2971   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT1,1);
;;;2972   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT1,1);
;;;2973        }
;;;2974   else 
;;;2975   	{
;;;2976   	if(!(avar_ind_stat&0x00000002)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT1,1);
;;;2977        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT1,1);
;;;2978   	} 
;;;2979   
;;;2980   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT2))
;;;2981   	{
;;;2982   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;2983   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT2,1);
;;;2984       }
;;;2985   else if(NPN_OUT==npnoRELEAVBAT2)
;;;2986   	{
;;;2987   	if(npn_stat==npnsOFF)//&&(mess_find_unvol(MESS2RELE_HNDL))&&(mess_data[0]==PARAM_RELE_NPN))
;;;2988   		{
;;;2989   		/*if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;2990   		else if(mess_data[1]==1)*/ SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;2991        	}
;;;2992   	else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT2,1);
;;;2993   	}
;;;2994   else 
;;;2995   	{
;;;2996   	if(!(avar_ind_stat&0x00000004)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;2997       else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT2,1);
;;;2998   	} 
;;;2999   
;;;3000   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
;;;3001   	{
;;;3002   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;3003   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;3004        }
;;;3005   else 
;;;3006   	{
;;;3007   	if(!(avar_ind_stat&0x000007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;3008        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;3009   	} 
;;;3010   
;;;3011   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VENT))
;;;3012   	{
;;;3013   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;3014   	else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3015   	}
;;;3016   else if((NPN_OUT==npnoRELEVENT))
;;;3017   	{
;;;3018   	if(npn_stat==npnsOFF)//&&(mess_find_unvol(MESS2RELE_HNDL))&&(mess_data[0]==PARAM_RELE_NPN))
;;;3019   		{
;;;3020   		/*if(mess_data[1]==0)*/ SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3021   		//else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3022       	}
;;;3023   	else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;3024   	}
;;;3025   else 
;;;3026   	{
;;;3027   	if(!vent_stat) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;3028   	else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3029   	}
;;;3030   
;;;3031   #endif
;;;3032   
;;;3033   #ifdef UKU_220
;;;3034   //  
;;;3035   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT))
;;;3036   	{
;;;3037   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT,1);
;;;3038   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT,1);
;;;3039        }
;;;3040   else 
;;;3041   	{
;;;3042   	if(!(avar_ind_stat&0x00000002)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT,1);
;;;3043        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT,1);
;;;3044   	} 
;;;3045   
;;;3046   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
;;;3047   	{
;;;3048   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;3049   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;3050        }
;;;3051   else 
;;;3052   	{
;;;3053   	if(!(avar_ind_stat&0x000007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;3054        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;3055   	} 
;;;3056   
;;;3057   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VENT))
;;;3058   	{
;;;3059   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;3060   	else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3061   	}
;;;3062   else 
;;;3063   	{
;;;3064   	if((RELE_VENT_LOGIC==0)||(RELE_VENT_LOGIC==1))
;;;3065   		{
;;;3066   		if(vent_stat) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;3067   		else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3068   		}
;;;3069   	else 
;;;3070   		{
;;;3071   		if((avar_ind_stat&0x00000004)) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;3072        	else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3073   		}
;;;3074   	}
;;;3075   
;;;3076   #endif
;;;3077   
;;;3078   #ifdef UKU_220_V2
;;;3079   //  
;;;3080   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT))
;;;3081   	{
;;;3082   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT,1);
;;;3083   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT,1);
;;;3084        }
;;;3085   else 
;;;3086   	{
;;;3087   	if(!(avar_ind_stat&0x00000002)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT,1);
;;;3088        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT,1);
;;;3089   	} 
;;;3090   
;;;3091   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
;;;3092   	{
;;;3093   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;3094   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;3095        }
;;;3096   else 
;;;3097   	{
;;;3098   	if(!(avar_ind_stat&0x000007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;3099        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;3100   	} 
;;;3101   
;;;3102   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VENT))
;;;3103   	{
;;;3104   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;3105   	else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3106   	}
;;;3107   else 
;;;3108   	{
;;;3109   	if((RELE_VENT_LOGIC==0)||(RELE_VENT_LOGIC==1))
;;;3110   		{
;;;3111   		if(vent_stat) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;3112   		else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3113   		}
;;;3114   	else 
;;;3115   		{
;;;3116   		if((avar_ind_stat&0x00000004)) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;3117        	else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3118   		}
;;;3119   	}
;;;3120   
;;;3121   #endif
;;;3122   
;;;3123   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;3124   
;;;3125   if((AUSW_MAIN==22010)||(AUSW_MAIN==22011))
0019c0  4870              LDR      r0,|L1.7044|
;;;3126   	{
;;;3127   	#ifndef UKU2071x
;;;3128   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;3129   		{
;;;3130   		if(mess_data[1]==0) SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;3131   		else SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;3132   		}
;;;3133   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;3134   	else SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;3135   	#endif
;;;3136   	#ifdef UKU2071x
;;;3137   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;3138   		{
;;;3139   		if(mess_data[1]==0) SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;3140   		else SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;3141   		}
;;;3142   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;3143   	else SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;3144   	#endif
;;;3145   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
;;;3146   		{
;;;3147   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
;;;3148   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,7,1);
;;;3149   	     }
;;;3150   	else 
;;;3151   		{
;;;3152   		if(!(avar_ind_stat&0x100007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
;;;3153   	     else SET_REG(LPC_GPIO0->FIOSET,1,7,1);
;;;3154   		} 
;;;3155   
;;;3156   	//  
;;;3157   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT))
;;;3158   		{
;;;3159   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
;;;3160   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,4,1);
;;;3161        	}
;;;3162   	else 
;;;3163   		{
;;;3164   		if(!(ips_bat_av_stat)) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
0019c2  f8df81c4          LDR      r8,|L1.7048|
0019c6  4f71              LDR      r7,|L1.7052|
0019c8  8800              LDRH     r0,[r0,#0]            ;3125  ; AUSW_MAIN
0019ca  f5a041aa          SUB      r1,r0,#0x5500         ;3125
0019ce  39fa              SUBS     r1,r1,#0xfa           ;3125
0019d0  d001              BEQ      |L1.6614|
0019d2  1e49              SUBS     r1,r1,#1              ;3125
0019d4  d16f              BNE      |L1.6838|
                  |L1.6614|
0019d6  20d2              MOVS     r0,#0xd2              ;3137
0019d8  f7fffffe          BL       mess_find_unvol
0019dc  b110              CBZ      r0,|L1.6628|
0019de  6828              LDR      r0,[r5,#0]            ;3137  ; mess_data
0019e0  2866              CMP      r0,#0x66              ;3137
0019e2  d043              BEQ      |L1.6764|
                  |L1.6628|
0019e4  6830              LDR      r0,[r6,#0]            ;3142  ; avar_ind_stat
0019e6  07c0              LSLS     r0,r0,#31             ;3142
0019e8  d04d              BEQ      |L1.6790|
0019ea  6fa0              LDR      r0,[r4,#0x78]         ;3143
0019ec  f0407000          ORR      r0,r0,#0x2000000      ;3143
0019f0  67a0              STR      r0,[r4,#0x78]         ;3143
                  |L1.6642|
0019f2  20d2              MOVS     r0,#0xd2              ;3145
0019f4  f7fffffe          BL       mess_find_unvol
0019f8  b110              CBZ      r0,|L1.6656|
0019fa  6828              LDR      r0,[r5,#0]            ;3145  ; mess_data
0019fc  286a              CMP      r0,#0x6a              ;3145
0019fe  d047              BEQ      |L1.6800|
                  |L1.6656|
001a00  6830              LDR      r0,[r6,#0]            ;3152  ; avar_ind_stat
001a02  4238              TST      r0,r7                 ;3152
001a04  d052              BEQ      |L1.6828|
001a06  69a0              LDR      r0,[r4,#0x18]         ;3153
001a08  f0400080          ORR      r0,r0,#0x80           ;3153
001a0c  61a0              STR      r0,[r4,#0x18]         ;3153
                  |L1.6670|
001a0e  20d2              MOVS     r0,#0xd2              ;3157
001a10  f7fffffe          BL       mess_find_unvol
001a14  b110              CBZ      r0,|L1.6684|
001a16  6828              LDR      r0,[r5,#0]            ;3157  ; mess_data
001a18  2867              CMP      r0,#0x67              ;3157
001a1a  d04d              BEQ      |L1.6840|
                  |L1.6684|
001a1c  f8980000          LDRB     r0,[r8,#0]  ; ips_bat_av_stat
001a20  b380              CBZ      r0,|L1.6788|
;;;3165        	else SET_REG(LPC_GPIO0->FIOSET,1,4,1);
001a22  69a0              LDR      r0,[r4,#0x18]
001a24  f0400010          ORR      r0,r0,#0x10
001a28  61a0              STR      r0,[r4,#0x18]
001a2a  e1ef              B        |L1.7692|
                  |L1.6700|
001a2c  6868              LDR      r0,[r5,#4]            ;2664  ; mess_data
001a2e  2801              CMP      r0,#1                 ;2664
001a30  d006              BEQ      |L1.6720|
001a32  2800              CMP      r0,#0                 ;2665
001a34  d1b5              BNE      |L1.6562|
001a36  69e0              LDR      r0,[r4,#0x1c]         ;2665
001a38  f0405000          ORR      r0,r0,#0x20000000     ;2665
001a3c  61e0              STR      r0,[r4,#0x1c]         ;2665
001a3e  e7b0              B        |L1.6562|
                  |L1.6720|
001a40  69a0              LDR      r0,[r4,#0x18]         ;2664
001a42  f0405000          ORR      r0,r0,#0x20000000     ;2664
001a46  61a0              STR      r0,[r4,#0x18]         ;2664
001a48  e7ab              B        |L1.6562|
                  |L1.6730|
001a4a  6868              LDR      r0,[r5,#4]            ;2684  ; mess_data
001a4c  b120              CBZ      r0,|L1.6744|
001a4e  6fa0              LDR      r0,[r4,#0x78]         ;2685
001a50  f0407000          ORR      r0,r0,#0x2000000      ;2685
001a54  67a0              STR      r0,[r4,#0x78]         ;2685
001a56  e7b3              B        |L1.6592|
                  |L1.6744|
001a58  6fe0              LDR      r0,[r4,#0x7c]         ;2684
001a5a  f0407000          ORR      r0,r0,#0x2000000      ;2684
001a5e  67e0              STR      r0,[r4,#0x7c]         ;2684
001a60  e7ae              B        |L1.6592|
                  |L1.6754|
001a62  6fe0              LDR      r0,[r4,#0x7c]         ;2687
001a64  f0407000          ORR      r0,r0,#0x2000000      ;2687
001a68  67e0              STR      r0,[r4,#0x7c]         ;2687
001a6a  e7a9              B        |L1.6592|
                  |L1.6764|
001a6c  6868              LDR      r0,[r5,#4]            ;3139  ; mess_data
001a6e  b120              CBZ      r0,|L1.6778|
001a70  6fa0              LDR      r0,[r4,#0x78]         ;3140
001a72  f0407000          ORR      r0,r0,#0x2000000      ;3140
001a76  67a0              STR      r0,[r4,#0x78]         ;3140
001a78  e7bb              B        |L1.6642|
                  |L1.6778|
001a7a  6fe0              LDR      r0,[r4,#0x7c]         ;3139
001a7c  f0407000          ORR      r0,r0,#0x2000000      ;3139
001a80  67e0              STR      r0,[r4,#0x7c]         ;3139
001a82  e7b6              B        |L1.6642|
                  |L1.6788|
001a84  e027              B        |L1.6870|
                  |L1.6790|
001a86  6fe0              LDR      r0,[r4,#0x7c]         ;3142
001a88  f0407000          ORR      r0,r0,#0x2000000      ;3142
001a8c  67e0              STR      r0,[r4,#0x7c]         ;3142
001a8e  e7b0              B        |L1.6642|
                  |L1.6800|
001a90  6868              LDR      r0,[r5,#4]            ;3147  ; mess_data
001a92  b130              CBZ      r0,|L1.6818|
001a94  2801              CMP      r0,#1                 ;3148
001a96  d1ba              BNE      |L1.6670|
001a98  69a0              LDR      r0,[r4,#0x18]         ;3148
001a9a  f0400080          ORR      r0,r0,#0x80           ;3148
001a9e  61a0              STR      r0,[r4,#0x18]         ;3148
001aa0  e7b5              B        |L1.6670|
                  |L1.6818|
001aa2  69e0              LDR      r0,[r4,#0x1c]         ;3147
001aa4  f0400080          ORR      r0,r0,#0x80           ;3147
001aa8  61e0              STR      r0,[r4,#0x1c]         ;3147
001aaa  e7b0              B        |L1.6670|
                  |L1.6828|
001aac  69e0              LDR      r0,[r4,#0x1c]         ;3152
001aae  f0400080          ORR      r0,r0,#0x80           ;3152
001ab2  61e0              STR      r0,[r4,#0x1c]         ;3152
001ab4  e7ab              B        |L1.6670|
                  |L1.6838|
001ab6  e013              B        |L1.6880|
                  |L1.6840|
001ab8  6868              LDR      r0,[r5,#4]            ;3159  ; mess_data
001aba  b110              CBZ      r0,|L1.6850|
001abc  2801              CMP      r0,#1                 ;3160
001abe  d005              BEQ      |L1.6860|
001ac0  e1a4              B        |L1.7692|
                  |L1.6850|
001ac2  69e0              LDR      r0,[r4,#0x1c]         ;3159
001ac4  f0400010          ORR      r0,r0,#0x10           ;3159
001ac8  61e0              STR      r0,[r4,#0x1c]         ;3159
001aca  e19f              B        |L1.7692|
                  |L1.6860|
001acc  69a0              LDR      r0,[r4,#0x18]         ;3160
001ace  f0400010          ORR      r0,r0,#0x10           ;3160
001ad2  61a0              STR      r0,[r4,#0x18]         ;3160
001ad4  e19a              B        |L1.7692|
                  |L1.6870|
001ad6  69e0              LDR      r0,[r4,#0x1c]         ;3164
001ad8  f0400010          ORR      r0,r0,#0x10           ;3164
001adc  61e0              STR      r0,[r4,#0x1c]         ;3164
001ade  e195              B        |L1.7692|
                  |L1.6880|
;;;3166   		}
;;;3167   	}
;;;3168   
;;;3169   else	if(AUSW_MAIN==22023)
001ae0  f5a041ac          SUB      r1,r0,#0x5600
001ae4  3907              SUBS     r1,#7
001ae6  d173              BNE      |L1.7120|
;;;3170   	{
;;;3171   
;;;3172   	//  
;;;3173   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT))
001ae8  20d2              MOVS     r0,#0xd2
001aea  f7fffffe          BL       mess_find_unvol
001aee  b110              CBZ      r0,|L1.6902|
001af0  6828              LDR      r0,[r5,#0]  ; mess_data
001af2  2867              CMP      r0,#0x67
001af4  d023              BEQ      |L1.6974|
                  |L1.6902|
;;;3174   		{
;;;3175   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
;;;3176   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,4,1);
;;;3177        	}
;;;3178   	else 
;;;3179   		{
;;;3180   		if(!(ips_bat_av_stat)) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
001af6  f8980000          LDRB     r0,[r8,#0]  ; ips_bat_av_stat
001afa  b348              CBZ      r0,|L1.6992|
;;;3181        	else SET_REG(LPC_GPIO0->FIOSET,1,4,1);
001afc  69a0              LDR      r0,[r4,#0x18]
001afe  f0400010          ORR      r0,r0,#0x10
001b02  61a0              STR      r0,[r4,#0x18]
                  |L1.6916|
;;;3182   		} 
;;;3183   
;;;3184   
;;;3185   	//         .    
;;;3186   	#ifndef UKU2071x
;;;3187   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;3188   		{
;;;3189   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3190   		else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;3191   		}
;;;3192   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO1->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3193   	else SET_REG(LPC_GPIO3->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3194   	#endif
;;;3195   	#ifdef UKU2071x
;;;3196   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
001b04  20d2              MOVS     r0,#0xd2
001b06  f7fffffe          BL       mess_find_unvol
001b0a  b110              CBZ      r0,|L1.6930|
001b0c  6828              LDR      r0,[r5,#0]  ; mess_data
001b0e  2866              CMP      r0,#0x66
001b10  d048              BEQ      |L1.7076|
                  |L1.6930|
;;;3197   		{
;;;3198   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;3199   		else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3200   		}
;;;3201   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO1->FIOSET,1,SHIFT_REL_AV_NET,1);
001b12  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
001b14  07c0              LSLS     r0,r0,#31
001b16  d051              BEQ      |L1.7100|
;;;3202   	else SET_REG(LPC_GPIO3->FIOSET,1,SHIFT_REL_AV_NET,1);
001b18  6fa0              LDR      r0,[r4,#0x78]
001b1a  f0407000          ORR      r0,r0,#0x2000000
001b1e  67a0              STR      r0,[r4,#0x78]
                  |L1.6944|
;;;3203   	#endif
;;;3204   
;;;3205   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
001b20  20d2              MOVS     r0,#0xd2
001b22  f7fffffe          BL       mess_find_unvol
001b26  b110              CBZ      r0,|L1.6958|
001b28  6828              LDR      r0,[r5,#0]  ; mess_data
001b2a  286a              CMP      r0,#0x6a
001b2c  d04b              BEQ      |L1.7110|
                  |L1.6958|
;;;3206   		{
;;;3207   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
;;;3208   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,7,1);
;;;3209   	     }
;;;3210   	else 
;;;3211   		{
;;;3212   		if(!(avar_ind_stat&0x100007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
001b2e  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
001b30  4238              TST      r0,r7
001b32  d058              BEQ      |L1.7142|
;;;3213   	     else SET_REG(LPC_GPIO0->FIOSET,1,7,1);
001b34  69a0              LDR      r0,[r4,#0x18]
001b36  f0400080          ORR      r0,r0,#0x80
001b3a  61a0              STR      r0,[r4,#0x18]
001b3c  e166              B        |L1.7692|
                  |L1.6974|
001b3e  6868              LDR      r0,[r5,#4]            ;3175  ; mess_data
001b40  b138              CBZ      r0,|L1.6994|
001b42  2801              CMP      r0,#1                 ;3176
001b44  d1de              BNE      |L1.6916|
001b46  69a0              LDR      r0,[r4,#0x18]         ;3176
001b48  f0400010          ORR      r0,r0,#0x10           ;3176
001b4c  61a0              STR      r0,[r4,#0x18]         ;3176
001b4e  e7d9              B        |L1.6916|
                  |L1.6992|
001b50  e023              B        |L1.7066|
                  |L1.6994|
001b52  e01d              B        |L1.7056|
                  |L1.6996|
                          DCD      0x2009c000
                  |L1.7000|
                          DCD      ||area_number.21||
                  |L1.7004|
                          DCD      bps
                  |L1.7008|
                          DCD      NUMIST
                  |L1.7012|
                          DCD      0x4002c000
                  |L1.7016|
                          DCD      0xfff000ff
                  |L1.7020|
                          DCD      bat
                  |L1.7024|
                          DCD      tbatdisable_stat
                  |L1.7028|
                          DCD      tbatdisable_cmnd
                  |L1.7032|
                          DCD      main_1Hz_cnt
                  |L1.7036|
                          DCD      mess_data
                  |L1.7040|
                          DCD      avar_ind_stat
                  |L1.7044|
                          DCD      AUSW_MAIN
                  |L1.7048|
                          DCD      ips_bat_av_stat
                  |L1.7052|
                          DCD      0x100007f8
                  |L1.7056|
001b90  69e0              LDR      r0,[r4,#0x1c]         ;3175
001b92  f0400010          ORR      r0,r0,#0x10           ;3175
001b96  61e0              STR      r0,[r4,#0x1c]         ;3175
001b98  e7b4              B        |L1.6916|
                  |L1.7066|
001b9a  69e0              LDR      r0,[r4,#0x1c]         ;3180
001b9c  f0400010          ORR      r0,r0,#0x10           ;3180
001ba0  61e0              STR      r0,[r4,#0x1c]         ;3180
001ba2  e7af              B        |L1.6916|
                  |L1.7076|
001ba4  6868              LDR      r0,[r5,#4]            ;3198  ; mess_data
001ba6  b120              CBZ      r0,|L1.7090|
001ba8  69e0              LDR      r0,[r4,#0x1c]         ;3199
001baa  f0407000          ORR      r0,r0,#0x2000000      ;3199
001bae  61e0              STR      r0,[r4,#0x1c]         ;3199
001bb0  e7b6              B        |L1.6944|
                  |L1.7090|
001bb2  69a0              LDR      r0,[r4,#0x18]         ;3198
001bb4  f0407000          ORR      r0,r0,#0x2000000      ;3198
001bb8  61a0              STR      r0,[r4,#0x18]         ;3198
001bba  e7b1              B        |L1.6944|
                  |L1.7100|
001bbc  6ba0              LDR      r0,[r4,#0x38]         ;3201
001bbe  f0407000          ORR      r0,r0,#0x2000000      ;3201
001bc2  63a0              STR      r0,[r4,#0x38]         ;3201
001bc4  e7ac              B        |L1.6944|
                  |L1.7110|
001bc6  6868              LDR      r0,[r5,#4]            ;3207  ; mess_data
001bc8  b118              CBZ      r0,|L1.7122|
001bca  2801              CMP      r0,#1                 ;3208
001bcc  d006              BEQ      |L1.7132|
001bce  e11d              B        |L1.7692|
                  |L1.7120|
001bd0  e00e              B        |L1.7152|
                  |L1.7122|
001bd2  69e0              LDR      r0,[r4,#0x1c]         ;3207
001bd4  f0400080          ORR      r0,r0,#0x80           ;3207
001bd8  61e0              STR      r0,[r4,#0x1c]         ;3207
001bda  e117              B        |L1.7692|
                  |L1.7132|
001bdc  69a0              LDR      r0,[r4,#0x18]         ;3208
001bde  f0400080          ORR      r0,r0,#0x80           ;3208
001be2  61a0              STR      r0,[r4,#0x18]         ;3208
001be4  e112              B        |L1.7692|
                  |L1.7142|
001be6  69e0              LDR      r0,[r4,#0x1c]         ;3212
001be8  f0400080          ORR      r0,r0,#0x80           ;3212
001bec  61e0              STR      r0,[r4,#0x1c]         ;3212
001bee  e10d              B        |L1.7692|
                  |L1.7152|
;;;3214   		} 
;;;3215   	}
;;;3216   else	if(AUSW_MAIN==22043)
001bf0  f5a041ac          SUB      r1,r0,#0x5600
001bf4  391b              SUBS     r1,r1,#0x1b
001bf6  d170              BNE      |L1.7386|
;;;3217   	{
;;;3218   	//  
;;;3219   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT))
001bf8  20d2              MOVS     r0,#0xd2
001bfa  f7fffffe          BL       mess_find_unvol
001bfe  b110              CBZ      r0,|L1.7174|
001c00  6828              LDR      r0,[r5,#0]  ; mess_data
001c02  2867              CMP      r0,#0x67
001c04  d031              BEQ      |L1.7274|
                  |L1.7174|
;;;3220   		{
;;;3221   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
;;;3222   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,4,1);
;;;3223        	}
;;;3224   	else 
;;;3225   		{
;;;3226   		if(!(ips_bat_av_stat)) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
001c06  f8980000          LDRB     r0,[r8,#0]  ; ips_bat_av_stat
001c0a  b3b8              CBZ      r0,|L1.7292|
;;;3227        	else SET_REG(LPC_GPIO0->FIOSET,1,4,1);
001c0c  69a0              LDR      r0,[r4,#0x18]
001c0e  f0400010          ORR      r0,r0,#0x10
001c12  61a0              STR      r0,[r4,#0x18]
                  |L1.7188|
;;;3228   		} 
;;;3229   	//         .    
;;;3230   	#ifndef UKU2071x 
;;;3231   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;3232   		{
;;;3233   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3234   		else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;3235   		}
;;;3236   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO1->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3237   	else SET_REG(LPC_GPIO3->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3238   	#endif
;;;3239   	#ifdef UKU2071x 
;;;3240   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
001c14  20d2              MOVS     r0,#0xd2
001c16  f7fffffe          BL       mess_find_unvol
001c1a  b110              CBZ      r0,|L1.7202|
001c1c  6828              LDR      r0,[r5,#0]  ; mess_data
001c1e  2866              CMP      r0,#0x66
001c20  d037              BEQ      |L1.7314|
                  |L1.7202|
;;;3241   		{
;;;3242   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;3243   		else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3244   		}
;;;3245   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO1->FIOSET,1,SHIFT_REL_AV_NET,1);
001c22  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
001c24  07c0              LSLS     r0,r0,#31
001c26  d040              BEQ      |L1.7338|
;;;3246   	else SET_REG(LPC_GPIO3->FIOSET,1,SHIFT_REL_AV_NET,1);
001c28  6fa0              LDR      r0,[r4,#0x78]
001c2a  f0407000          ORR      r0,r0,#0x2000000
001c2e  67a0              STR      r0,[r4,#0x78]
                  |L1.7216|
;;;3247   	#endif
;;;3248   
;;;3249   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
001c30  20d2              MOVS     r0,#0xd2
001c32  f7fffffe          BL       mess_find_unvol
001c36  b110              CBZ      r0,|L1.7230|
001c38  6828              LDR      r0,[r5,#0]  ; mess_data
001c3a  286a              CMP      r0,#0x6a
001c3c  d03a              BEQ      |L1.7348|
                  |L1.7230|
;;;3250   		{
;;;3251   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
;;;3252   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,7,1);
;;;3253   	     }
;;;3254   	else 
;;;3255   		{
;;;3256   		if(!(avar_ind_stat&0x100007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
001c3e  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
001c40  4238              TST      r0,r7
001c42  d045              BEQ      |L1.7376|
;;;3257   	     else SET_REG(LPC_GPIO0->FIOSET,1,7,1);
001c44  69a0              LDR      r0,[r4,#0x18]
001c46  f0400080          ORR      r0,r0,#0x80
001c4a  61a0              STR      r0,[r4,#0x18]
                  |L1.7244|
;;;3258   		}
;;;3259   	//  
;;;3260   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
001c4c  20d2              MOVS     r0,#0xd2
001c4e  f7fffffe          BL       mess_find_unvol
001c52  b110              CBZ      r0,|L1.7258|
001c54  6828              LDR      r0,[r5,#0]  ; mess_data
001c56  286a              CMP      r0,#0x6a
001c58  d040              BEQ      |L1.7388|
                  |L1.7258|
;;;3261   		{
;;;3262   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;3263   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;3264        	}
;;;3265   	else 
;;;3266   		{
;;;3267   		if(!(avar_ind_stat&0x100007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
001c5a  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
001c5c  4238              TST      r0,r7
001c5e  d04c              BEQ      |L1.7418|
;;;3268        	else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
001c60  69a0              LDR      r0,[r4,#0x18]
001c62  f0400020          ORR      r0,r0,#0x20
001c66  61a0              STR      r0,[r4,#0x18]
001c68  e0d0              B        |L1.7692|
                  |L1.7274|
001c6a  6868              LDR      r0,[r5,#4]            ;3221  ; mess_data
001c6c  b138              CBZ      r0,|L1.7294|
001c6e  2801              CMP      r0,#1                 ;3222
001c70  d1d0              BNE      |L1.7188|
001c72  69a0              LDR      r0,[r4,#0x18]         ;3222
001c74  f0400010          ORR      r0,r0,#0x10           ;3222
001c78  61a0              STR      r0,[r4,#0x18]         ;3222
001c7a  e7cb              B        |L1.7188|
                  |L1.7292|
001c7c  e004              B        |L1.7304|
                  |L1.7294|
001c7e  69e0              LDR      r0,[r4,#0x1c]         ;3221
001c80  f0400010          ORR      r0,r0,#0x10           ;3221
001c84  61e0              STR      r0,[r4,#0x1c]         ;3221
001c86  e7c5              B        |L1.7188|
                  |L1.7304|
001c88  69e0              LDR      r0,[r4,#0x1c]         ;3226
001c8a  f0400010          ORR      r0,r0,#0x10           ;3226
001c8e  61e0              STR      r0,[r4,#0x1c]         ;3226
001c90  e7c0              B        |L1.7188|
                  |L1.7314|
001c92  6868              LDR      r0,[r5,#4]            ;3242  ; mess_data
001c94  b120              CBZ      r0,|L1.7328|
001c96  69e0              LDR      r0,[r4,#0x1c]         ;3243
001c98  f0407000          ORR      r0,r0,#0x2000000      ;3243
001c9c  61e0              STR      r0,[r4,#0x1c]         ;3243
001c9e  e7c7              B        |L1.7216|
                  |L1.7328|
001ca0  69a0              LDR      r0,[r4,#0x18]         ;3242
001ca2  f0407000          ORR      r0,r0,#0x2000000      ;3242
001ca6  61a0              STR      r0,[r4,#0x18]         ;3242
001ca8  e7c2              B        |L1.7216|
                  |L1.7338|
001caa  6ba0              LDR      r0,[r4,#0x38]         ;3245
001cac  f0407000          ORR      r0,r0,#0x2000000      ;3245
001cb0  63a0              STR      r0,[r4,#0x38]         ;3245
001cb2  e7bd              B        |L1.7216|
                  |L1.7348|
001cb4  6868              LDR      r0,[r5,#4]            ;3251  ; mess_data
001cb6  b130              CBZ      r0,|L1.7366|
001cb8  2801              CMP      r0,#1                 ;3252
001cba  d1c7              BNE      |L1.7244|
001cbc  69a0              LDR      r0,[r4,#0x18]         ;3252
001cbe  f0400080          ORR      r0,r0,#0x80           ;3252
001cc2  61a0              STR      r0,[r4,#0x18]         ;3252
001cc4  e7c2              B        |L1.7244|
                  |L1.7366|
001cc6  69e0              LDR      r0,[r4,#0x1c]         ;3251
001cc8  f0400080          ORR      r0,r0,#0x80           ;3251
001ccc  61e0              STR      r0,[r4,#0x1c]         ;3251
001cce  e7bd              B        |L1.7244|
                  |L1.7376|
001cd0  69e0              LDR      r0,[r4,#0x1c]         ;3256
001cd2  f0400080          ORR      r0,r0,#0x80           ;3256
001cd6  61e0              STR      r0,[r4,#0x1c]         ;3256
001cd8  e7b8              B        |L1.7244|
                  |L1.7386|
001cda  e013              B        |L1.7428|
                  |L1.7388|
001cdc  6868              LDR      r0,[r5,#4]            ;3262  ; mess_data
001cde  b110              CBZ      r0,|L1.7398|
001ce0  2801              CMP      r0,#1                 ;3263
001ce2  d005              BEQ      |L1.7408|
001ce4  e092              B        |L1.7692|
                  |L1.7398|
001ce6  69e0              LDR      r0,[r4,#0x1c]         ;3262
001ce8  f0400020          ORR      r0,r0,#0x20           ;3262
001cec  61e0              STR      r0,[r4,#0x1c]         ;3262
001cee  e08d              B        |L1.7692|
                  |L1.7408|
001cf0  69a0              LDR      r0,[r4,#0x18]         ;3263
001cf2  f0400020          ORR      r0,r0,#0x20           ;3263
001cf6  61a0              STR      r0,[r4,#0x18]         ;3263
001cf8  e088              B        |L1.7692|
                  |L1.7418|
001cfa  69e0              LDR      r0,[r4,#0x1c]         ;3267
001cfc  f0400020          ORR      r0,r0,#0x20           ;3267
001d00  61e0              STR      r0,[r4,#0x1c]         ;3267
001d02  e083              B        |L1.7692|
                  |L1.7428|
;;;3269   		} 
;;;3270   	}
;;;3271   else	if(AUSW_MAIN==22033)
001d04  f5a041ac          SUB      r1,r0,#0x5600
001d08  3911              SUBS     r1,r1,#0x11
001d0a  d163              BNE      |L1.7636|
;;;3272   	{
;;;3273   	#ifndef UKU2071x 
;;;3274   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;3275   		{
;;;3276   		if(mess_data[1]==0) SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;3277   		else SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;3278   		}
;;;3279   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;3280   	else SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;3281   	#endif
;;;3282   	#ifdef UKU2071x 
;;;3283   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
001d0c  20d2              MOVS     r0,#0xd2
001d0e  f7fffffe          BL       mess_find_unvol
001d12  b110              CBZ      r0,|L1.7450|
001d14  6828              LDR      r0,[r5,#0]  ; mess_data
001d16  2866              CMP      r0,#0x66
001d18  d023              BEQ      |L1.7522|
                  |L1.7450|
;;;3284   		{
;;;3285   		if(mess_data[1]==0) SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;3286   		else SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;3287   		}
;;;3288   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
001d1a  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
001d1c  07c0              LSLS     r0,r0,#31
001d1e  d02c              BEQ      |L1.7546|
;;;3289   	else SET_REG(LPC_GPIO3->FIOSET,1,25,1);
001d20  6fa0              LDR      r0,[r4,#0x78]
001d22  f0407000          ORR      r0,r0,#0x2000000
001d26  67a0              STR      r0,[r4,#0x78]
                  |L1.7464|
;;;3290   	#endif
;;;3291   	
;;;3292   	
;;;3293   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
001d28  20d2              MOVS     r0,#0xd2
001d2a  f7fffffe          BL       mess_find_unvol
001d2e  b110              CBZ      r0,|L1.7478|
001d30  6828              LDR      r0,[r5,#0]  ; mess_data
001d32  286a              CMP      r0,#0x6a
001d34  d026              BEQ      |L1.7556|
                  |L1.7478|
;;;3294   		{
;;;3295   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
;;;3296   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,7,1);
;;;3297   	     }
;;;3298   	else 
;;;3299   		{
;;;3300   		if(!(avar_ind_stat&0x100007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
001d36  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
001d38  4238              TST      r0,r7
001d3a  d031              BEQ      |L1.7584|
;;;3301   	     else SET_REG(LPC_GPIO0->FIOSET,1,7,1);
001d3c  69a0              LDR      r0,[r4,#0x18]
001d3e  f0400080          ORR      r0,r0,#0x80
001d42  61a0              STR      r0,[r4,#0x18]
                  |L1.7492|
;;;3302   		} 
;;;3303   
;;;3304   	//  
;;;3305   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT))
001d44  20d2              MOVS     r0,#0xd2
001d46  f7fffffe          BL       mess_find_unvol
001d4a  b110              CBZ      r0,|L1.7506|
001d4c  6828              LDR      r0,[r5,#0]  ; mess_data
001d4e  2867              CMP      r0,#0x67
001d50  d02b              BEQ      |L1.7594|
                  |L1.7506|
;;;3306   		{
;;;3307   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
;;;3308   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,4,1);
;;;3309        	}
;;;3310   	else 
;;;3311   		{
;;;3312   		if(!(ips_bat_av_stat)) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
001d52  f8980000          LDRB     r0,[r8,#0]  ; ips_bat_av_stat
001d56  b390              CBZ      r0,|L1.7614|
;;;3313        	else SET_REG(LPC_GPIO0->FIOSET,1,4,1);
001d58  69a0              LDR      r0,[r4,#0x18]
001d5a  f0400010          ORR      r0,r0,#0x10
001d5e  61a0              STR      r0,[r4,#0x18]
001d60  e054              B        |L1.7692|
                  |L1.7522|
001d62  6868              LDR      r0,[r5,#4]            ;3285  ; mess_data
001d64  b120              CBZ      r0,|L1.7536|
001d66  6fa0              LDR      r0,[r4,#0x78]         ;3286
001d68  f0407000          ORR      r0,r0,#0x2000000      ;3286
001d6c  67a0              STR      r0,[r4,#0x78]         ;3286
001d6e  e7db              B        |L1.7464|
                  |L1.7536|
001d70  6fe0              LDR      r0,[r4,#0x7c]         ;3285
001d72  f0407000          ORR      r0,r0,#0x2000000      ;3285
001d76  67e0              STR      r0,[r4,#0x7c]         ;3285
001d78  e7d6              B        |L1.7464|
                  |L1.7546|
001d7a  6fe0              LDR      r0,[r4,#0x7c]         ;3288
001d7c  f0407000          ORR      r0,r0,#0x2000000      ;3288
001d80  67e0              STR      r0,[r4,#0x7c]         ;3288
001d82  e7d1              B        |L1.7464|
                  |L1.7556|
001d84  6868              LDR      r0,[r5,#4]            ;3295  ; mess_data
001d86  b130              CBZ      r0,|L1.7574|
001d88  2801              CMP      r0,#1                 ;3296
001d8a  d1db              BNE      |L1.7492|
001d8c  69a0              LDR      r0,[r4,#0x18]         ;3296
001d8e  f0400080          ORR      r0,r0,#0x80           ;3296
001d92  61a0              STR      r0,[r4,#0x18]         ;3296
001d94  e7d6              B        |L1.7492|
                  |L1.7574|
001d96  69e0              LDR      r0,[r4,#0x1c]         ;3295
001d98  f0400080          ORR      r0,r0,#0x80           ;3295
001d9c  61e0              STR      r0,[r4,#0x1c]         ;3295
001d9e  e7d1              B        |L1.7492|
                  |L1.7584|
001da0  69e0              LDR      r0,[r4,#0x1c]         ;3300
001da2  f0400080          ORR      r0,r0,#0x80           ;3300
001da6  61e0              STR      r0,[r4,#0x1c]         ;3300
001da8  e7cc              B        |L1.7492|
                  |L1.7594|
001daa  6868              LDR      r0,[r5,#4]            ;3307  ; mess_data
001dac  b110              CBZ      r0,|L1.7604|
001dae  2801              CMP      r0,#1                 ;3308
001db0  d006              BEQ      |L1.7616|
001db2  e02b              B        |L1.7692|
                  |L1.7604|
001db4  69e0              LDR      r0,[r4,#0x1c]         ;3307
001db6  f0400010          ORR      r0,r0,#0x10           ;3307
001dba  61e0              STR      r0,[r4,#0x1c]         ;3307
001dbc  e026              B        |L1.7692|
                  |L1.7614|
001dbe  e004              B        |L1.7626|
                  |L1.7616|
001dc0  69a0              LDR      r0,[r4,#0x18]         ;3308
001dc2  f0400010          ORR      r0,r0,#0x10           ;3308
001dc6  61a0              STR      r0,[r4,#0x18]         ;3308
001dc8  e020              B        |L1.7692|
                  |L1.7626|
001dca  69e0              LDR      r0,[r4,#0x1c]         ;3312
001dcc  f0400010          ORR      r0,r0,#0x10           ;3312
001dd0  61e0              STR      r0,[r4,#0x1c]         ;3312
001dd2  e01b              B        |L1.7692|
                  |L1.7636|
;;;3314   		} 
;;;3315   	} 	 
;;;3316   else	
;;;3317   	{
;;;3318   	//         .    
;;;3319   	#ifndef UKU2071x 
;;;3320   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;3321   		{
;;;3322   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3323   		else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;3324   		}
;;;3325   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO1->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3326   	else SET_REG(LPC_GPIO3->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3327   	#endif
;;;3328   	#ifdef UKU2071x 
;;;3329   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
001dd4  20d2              MOVS     r0,#0xd2
001dd6  f7fffffe          BL       mess_find_unvol
001dda  b110              CBZ      r0,|L1.7650|
001ddc  6828              LDR      r0,[r5,#0]  ; mess_data
001dde  2866              CMP      r0,#0x66
001de0  d02d              BEQ      |L1.7742|
                  |L1.7650|
;;;3330   		{
;;;3331   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;3332   		else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3333   		}
;;;3334   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO1->FIOSET,1,SHIFT_REL_AV_NET,1);
001de2  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
001de4  07c0              LSLS     r0,r0,#31
001de6  d036              BEQ      |L1.7766|
;;;3335   	else SET_REG(LPC_GPIO3->FIOSET,1,SHIFT_REL_AV_NET,1);
001de8  6fa0              LDR      r0,[r4,#0x78]
001dea  f0407000          ORR      r0,r0,#0x2000000
001dee  67a0              STR      r0,[r4,#0x78]
                  |L1.7664|
;;;3336   	#endif
;;;3337   
;;;3338   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
001df0  20d2              MOVS     r0,#0xd2
001df2  f7fffffe          BL       mess_find_unvol
001df6  b110              CBZ      r0,|L1.7678|
001df8  6828              LDR      r0,[r5,#0]  ; mess_data
001dfa  286a              CMP      r0,#0x6a
001dfc  d030              BEQ      |L1.7776|
                  |L1.7678|
;;;3339   		{
;;;3340   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;3341   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;3342        	}
;;;3343   	else 
;;;3344   		{
;;;3345   		if(!(avar_ind_stat&0x100007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
001dfe  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
001e00  4238              TST      r0,r7
001e02  d03b              BEQ      |L1.7804|
;;;3346        	else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
001e04  69a0              LDR      r0,[r4,#0x18]
001e06  f0400020          ORR      r0,r0,#0x20
001e0a  61a0              STR      r0,[r4,#0x18]
                  |L1.7692|
;;;3347   		}
;;;3348   	}
;;;3349   //   
;;;3350   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_EXT))	 
001e0c  20d2              MOVS     r0,#0xd2
001e0e  f7fffffe          BL       mess_find_unvol
001e12  b110              CBZ      r0,|L1.7706|
001e14  6828              LDR      r0,[r5,#0]  ; mess_data
001e16  2871              CMP      r0,#0x71
001e18  d036              BEQ      |L1.7816|
                  |L1.7706|
;;;3351   	{
;;;3352   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,9,1);
;;;3353   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,9,1);
;;;3354   	}
;;;3355   else if(DOP_RELE_FUNC==0)	//     
001e1a  48ff              LDR      r0,|L1.8728|
001e1c  f9b00000          LDRSH    r0,[r0,#0]  ; DOP_RELE_FUNC
001e20  b388              CBZ      r0,|L1.7814|
;;;3356   	{
;;;3357   	if(!speedChIsOn) SET_REG(LPC_GPIO0->FIOCLR,1,9,1);
;;;3358   	else SET_REG(LPC_GPIO0->FIOSET,1,9,1);
;;;3359   	}
;;;3360   else if(DOP_RELE_FUNC==1)  //      
001e22  2801              CMP      r0,#1
001e24  d10a              BNE      |L1.7740|
;;;3361   	{
;;;3362   	if((mess_find_unvol(MESS2RELE_HNDL))&& (mess_data[0]==PARAM_RELE_BAT_IS_DISCHARGED)) SET_REG(LPC_GPIO0->FIOCLR,1,9,1);
001e26  20d2              MOVS     r0,#0xd2
001e28  f7fffffe          BL       mess_find_unvol
001e2c  b110              CBZ      r0,|L1.7732|
001e2e  6828              LDR      r0,[r5,#0]  ; mess_data
001e30  2872              CMP      r0,#0x72
001e32  d044              BEQ      |L1.7870|
                  |L1.7732|
;;;3363   	else SET_REG(LPC_GPIO0->FIOSET,1,9,1);
001e34  69a0              LDR      r0,[r4,#0x18]
001e36  f4407000          ORR      r0,r0,#0x200
001e3a  61a0              STR      r0,[r4,#0x18]
                  |L1.7740|
;;;3364   	}	 	
;;;3365   #endif
;;;3366   
;;;3367   #ifdef UKU_KONTUR
;;;3368   
;;;3369   //  
;;;3370   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_COMM))
;;;3371   	{
;;;3372   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_COMM,1);
;;;3373   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_COMM,1);
;;;3374   	}
;;;3375   else 
;;;3376   	{
;;;3377        if(  (!(avar_ind_stat&0x00007fff)) &&
;;;3378             ((!SK_REL_EN[0]) || (sk_av_stat[0]!=sasON))  &&
;;;3379             ((!SK_REL_EN[1]) || (sk_av_stat[1]!=sasON))  &&
;;;3380             ((!SK_REL_EN[2]) || (sk_av_stat[2]!=sasON))  /*&&
;;;3381             ((!SK_REL_EN[3]) || (sk_av_stat[3]!=sasON))*/  )SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_COMM,1);
;;;3382        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_COMM,1);
;;;3383   	}
;;;3384   
;;;3385   	
;;;3386   //rel_warm_plazma=0;
;;;3387   //    
;;;3388   /*
;;;3389   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_WARM))
;;;3390   	{
;;;3391   	if(mess_data[1]==0)
;;;3392   		{
;;;3393   		SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_WARM,1);
;;;3394   		rel_warm_plazma=1;
;;;3395   		}
;;;3396   	else if(mess_data[1]==1) 
;;;3397   		{
;;;3398   		SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_WARM,1);
;;;3399   		rel_warm_plazma=2;
;;;3400   		}
;;;3401        }
;;;3402   else 
;;;3403   	{
;;;3404   	if(warm_stat_k==wsOFF) 
;;;3405   		{
;;;3406   		SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_WARM,1);
;;;3407   		rel_warm_plazma=3;
;;;3408   		}
;;;3409        else 
;;;3410   		{
;;;3411   		SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_WARM,1);
;;;3412   		rel_warm_plazma=4;
;;;3413   		}
;;;3414   	}
;;;3415   */
;;;3416   // 
;;;3417   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LIGHT))
;;;3418   	{
;;;3419   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;3420   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;3421        }
;;;3422   else 
;;;3423   	{
;;;3424   	if(sk_av_stat[0]!=sasON) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;3425        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;3426   	}
;;;3427   
;;;3428   
;;;3429   
;;;3430   //  
;;;3431   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LOAD_OFF))
;;;3432   	{
;;;3433   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;3434   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;3435        }
;;;3436   else if(tloaddisable_cmnd==0)
;;;3437   	{
;;;3438   	SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;3439   	}
;;;3440   else if((tloaddisable_cmnd)&&(tloaddisable_cmnd<=11))
;;;3441   	{
;;;3442   	SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;3443   	}
;;;3444   
;;;3445   else 
;;;3446   	{
;;;3447   	if(!(tloaddisable_stat==tldsON)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;3448        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;3449   	} 
;;;3450   
;;;3451   //    
;;;3452   if(RELE_LOG)
;;;3453   	{
;;;3454   	if((mess_find_unvol(MESS2RELE_HNDL))&&(mess_data[0]==PARAM_RELE_VENT_WARM))
;;;3455   		{
;;;3456   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;3457   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;3458   		}
;;;3459   	else 
;;;3460   		{
;;;3461   		if(warm_stat_k==wsOFF) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;3462   	     else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;3463   		} 
;;;3464   
;;;3465   	}
;;;3466   else 
;;;3467   	{
;;;3468   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VENT_WARM))
;;;3469   		{
;;;3470   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;3471   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;3472   		}
;;;3473   	else 
;;;3474   		{
;;;3475   		if(vent_stat_k==vsOFF) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;3476   	     else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;3477   		} 
;;;3478   	}
;;;3479   #endif
;;;3480   
;;;3481   
;;;3482   #ifdef UKU_TELECORE2015
;;;3483   //  
;;;3484   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;3485   	{
;;;3486   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3487   	else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;3488   	}
;;;3489   else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3490   else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;3491   
;;;3492   
;;;3493   // 
;;;3494   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LIGHT))
;;;3495   	{
;;;3496   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;3497   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;3498        }
;;;3499   else 
;;;3500   	{
;;;3501   	if(sk_av_stat[0]!=sasON) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;3502        else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;3503   	}
;;;3504   
;;;3505   // 
;;;3506   if((mess_find_unvol(MESS2RELE_HNDL))&&(mess_data[0]==PARAM_RELE_WARM))
;;;3507   	{
;;;3508   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_WARM,1);
;;;3509   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_WARM,1);
;;;3510   	}
;;;3511   else 
;;;3512   	{
;;;3513   	if(warm_stat_k==wsOFF) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_WARM,1);
;;;3514        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_WARM,1);
;;;3515   	} 
;;;3516   // 
;;;3517   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VENT))
;;;3518   	{
;;;3519   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;3520   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3521   	}
;;;3522   else 
;;;3523   	{
;;;3524   	if(vent_stat_k==vsOFF) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;3525        else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3526   	} 
;;;3527   
;;;3528   //  
;;;3529   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VVENT))
;;;3530   	{
;;;3531   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VVENT,1);
;;;3532   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VVENT,1);
;;;3533   	}
;;;3534   else 
;;;3535   	{
;;;3536   	if(vvent_stat_k==vsOFF) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VVENT,1);
;;;3537        else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VVENT,1);
;;;3538   	} 
;;;3539   
;;;3540   #endif
;;;3541   
;;;3542   }
001e3c  e4c5              B        |L1.6090|
                  |L1.7742|
001e3e  6868              LDR      r0,[r5,#4]            ;3331  ; mess_data
001e40  b120              CBZ      r0,|L1.7756|
001e42  69e0              LDR      r0,[r4,#0x1c]         ;3332
001e44  f0407000          ORR      r0,r0,#0x2000000      ;3332
001e48  61e0              STR      r0,[r4,#0x1c]         ;3332
001e4a  e7d1              B        |L1.7664|
                  |L1.7756|
001e4c  69a0              LDR      r0,[r4,#0x18]         ;3331
001e4e  f0407000          ORR      r0,r0,#0x2000000      ;3331
001e52  61a0              STR      r0,[r4,#0x18]         ;3331
001e54  e7cc              B        |L1.7664|
                  |L1.7766|
001e56  6ba0              LDR      r0,[r4,#0x38]         ;3334
001e58  f0407000          ORR      r0,r0,#0x2000000      ;3334
001e5c  63a0              STR      r0,[r4,#0x38]         ;3334
001e5e  e7c7              B        |L1.7664|
                  |L1.7776|
001e60  6868              LDR      r0,[r5,#4]            ;3340  ; mess_data
001e62  b130              CBZ      r0,|L1.7794|
001e64  2801              CMP      r0,#1                 ;3341
001e66  d1d1              BNE      |L1.7692|
001e68  69a0              LDR      r0,[r4,#0x18]         ;3341
001e6a  f0400020          ORR      r0,r0,#0x20           ;3341
001e6e  61a0              STR      r0,[r4,#0x18]         ;3341
001e70  e7cc              B        |L1.7692|
                  |L1.7794|
001e72  69e0              LDR      r0,[r4,#0x1c]         ;3340
001e74  f0400020          ORR      r0,r0,#0x20           ;3340
001e78  61e0              STR      r0,[r4,#0x1c]         ;3340
001e7a  e7c7              B        |L1.7692|
                  |L1.7804|
001e7c  69e0              LDR      r0,[r4,#0x1c]         ;3345
001e7e  f0400020          ORR      r0,r0,#0x20           ;3345
001e82  61e0              STR      r0,[r4,#0x1c]         ;3345
001e84  e7c2              B        |L1.7692|
                  |L1.7814|
001e86  e00d              B        |L1.7844|
                  |L1.7816|
001e88  6868              LDR      r0,[r5,#4]            ;3352  ; mess_data
001e8a  b130              CBZ      r0,|L1.7834|
001e8c  2801              CMP      r0,#1                 ;3353
001e8e  d1d5              BNE      |L1.7740|
001e90  69a0              LDR      r0,[r4,#0x18]         ;3353
001e92  f4407000          ORR      r0,r0,#0x200          ;3353
001e96  61a0              STR      r0,[r4,#0x18]         ;3353
001e98  e497              B        |L1.6090|
                  |L1.7834|
001e9a  69e0              LDR      r0,[r4,#0x1c]         ;3352
001e9c  f4407000          ORR      r0,r0,#0x200          ;3352
001ea0  61e0              STR      r0,[r4,#0x1c]         ;3352
001ea2  e492              B        |L1.6090|
                  |L1.7844|
001ea4  48dd              LDR      r0,|L1.8732|
001ea6  8800              LDRH     r0,[r0,#0]            ;3357  ; speedChIsOn
001ea8  b120              CBZ      r0,|L1.7860|
001eaa  69a0              LDR      r0,[r4,#0x18]         ;3358
001eac  f4407000          ORR      r0,r0,#0x200          ;3358
001eb0  61a0              STR      r0,[r4,#0x18]         ;3358
001eb2  e48a              B        |L1.6090|
                  |L1.7860|
001eb4  69e0              LDR      r0,[r4,#0x1c]         ;3357
001eb6  f4407000          ORR      r0,r0,#0x200          ;3357
001eba  61e0              STR      r0,[r4,#0x1c]         ;3357
001ebc  e485              B        |L1.6090|
                  |L1.7870|
001ebe  69e0              LDR      r0,[r4,#0x1c]         ;3362
001ec0  f4407000          ORR      r0,r0,#0x200          ;3362
001ec4  61e0              STR      r0,[r4,#0x1c]         ;3362
001ec6  e480              B        |L1.6090|
;;;3543   
                          ENDP

                  bps_hndl PROC
;;;3544   //-----------------------------------------------
;;;3545   void bps_hndl(void)
001ec8  e92d5ff0          PUSH     {r4-r12,lr}
;;;3546   {
;;;3547   char ptr__,i;
;;;3548   
;;;3549   if(sh_cnt0<10)
001ecc  4ed4              LDR      r6,|L1.8736|
;;;3550   	{
;;;3551   	sh_cnt0++;
;;;3552   	if(sh_cnt0>=10)
;;;3553   		{
;;;3554   		sh_cnt0=0;
001ece  2700              MOVS     r7,#0
;;;3555   		b1Hz_sh=1;
001ed0  f04f0a01          MOV      r10,#1
001ed4  7c70              LDRB     r0,[r6,#0x11]         ;3549  ; sh_cnt0
001ed6  280a              CMP      r0,#0xa               ;3549
001ed8  d208              BCS      |L1.7916|
001eda  f1000001          ADD      r0,r0,#1              ;3551
001ede  b2c0              UXTB     r0,r0                 ;3551
001ee0  7470              STRB     r0,[r6,#0x11]         ;3551
001ee2  280a              CMP      r0,#0xa               ;3552
001ee4  d302              BCC      |L1.7916|
001ee6  7477              STRB     r7,[r6,#0x11]         ;3554
001ee8  f886a012          STRB     r10,[r6,#0x12]
                  |L1.7916|
;;;3556   		}
;;;3557   	}
;;;3558   
;;;3559   /*if(sh_cnt1<5)
;;;3560   	{
;;;3561   	sh_cnt1++;
;;;3562   	if(sh_cnt1==5)
;;;3563   		{
;;;3564   		sh_cnt1=0;
;;;3565   		b2Hz_sh=1;
;;;3566   		}
;;;3567   	} */
;;;3568   
;;;3569   
;;;3570   /*
;;;3571   if(mess_find(MESS_SRC_ON_OFF))
;;;3572   	{
;;;3573   	if(mess_data[0]==_MESS_SRC_MASK_BLOK_2SEC)
;;;3574   		{
;;;3575   		char i;
;;;3576   		for(i=0;i<NUMIST;i++)
;;;3577   			{
;;;3578   			if(mess_data[1]&(1<<i))src[i]._ist_blok_cnt=20;
;;;3579   			}
;;;3580   		
;;;3581   		}
;;;3582   	else if(mess_data[0]==_MESS_SRC_MASK_UNBLOK)
;;;3583   		{
;;;3584   		char i;
;;;3585   		for(i=0;i<NUMIST;i++)
;;;3586   			{
;;;3587   			if(mess_data[1]&(1<<i))src[i]._ist_blok_cnt=0;
;;;3588   			}
;;;3589   		
;;;3590   		}
;;;3591   	}
;;;3592   	
;;;3593   else if(mess_find(_MESS_SRC_MASK_ON))
;;;3594   	{				
;;;3595   	if(mess_data[0]==_MESS_SRC_MASK_ON)
;;;3596   		{
;;;3597   		char i;
;;;3598   		for(i=0;i<NUMIST;i++)
;;;3599   			{
;;;3600   			if(mess_data[1]&(1<<i))
;;;3601   				{
;;;3602   				src[i]._ist_blok_cnt=0;
;;;3603   				src[i]._flags_tu=2;
;;;3604   				}
;;;3605   			}
;;;3606   		
;;;3607   		}				
;;;3608   	}*/
;;;3609   
;;;3610   
;;;3611   
;;;3612   /*else*/ 
;;;3613   bps_on_mask=0;
001eec  f8a67044          STRH     r7,[r6,#0x44]
;;;3614   bps_off_mask=0;
001ef0  f8a67046          STRH     r7,[r6,#0x46]
;;;3615   
;;;3616   if(mess_find_unvol(MESS2BPS_HNDL))
001ef4  20cd              MOVS     r0,#0xcd
001ef6  f7fffffe          BL       mess_find_unvol
;;;3617   	{
;;;3618   	if(mess_data[0]==PARAM_BPS_ALL_OFF_AFTER_2SEC)
;;;3619   		{
;;;3620   		bps_off_mask=0xffff;
;;;3621   		}
;;;3622   
;;;3623   	if(mess_data[0]==PARAM_BPS_MASK_OFF_AFTER_2SEC)
;;;3624   		{
;;;3625   		bps_off_mask=mess_data[1];
;;;3626   		}
;;;3627   
;;;3628   	if(mess_data[0]==PARAM_BPS_MASK_ON)
;;;3629   		{
;;;3630   		bps_on_mask=mess_data[1];
;;;3631   		}
;;;3632   
;;;3633   	if(mess_data[0]==PARAM_BPS_ALL_ON)
;;;3634   		{
;;;3635   		bps_on_mask=0xffff;
;;;3636   		}
;;;3637   
;;;3638   	if(mess_data[0]==PARAM_BPS_MASK_ON_OFF_AFTER_2SEC)
;;;3639   		{
;;;3640   		bps_on_mask=mess_data[1];
;;;3641   		bps_off_mask=~(mess_data[1]);
;;;3642   		}
;;;3643   
;;;3644   
;;;3645   	for(i=0;i<=NUMIST;i++)
;;;3646   		{
;;;3647   		if(bps_off_mask&(1<<i)) bps[i]._blok_cnt++;
001efa  f8df8328          LDR      r8,|L1.8740|
001efe  f8dfb328          LDR      r11,|L1.8744|
001f02  b3a0              CBZ      r0,|L1.8046|
001f04  49c9              LDR      r1,|L1.8748|
001f06  f64f73ff          MOV      r3,#0xffff            ;3620
001f0a  6808              LDR      r0,[r1,#0]            ;3618  ; mess_data
001f0c  28ce              CMP      r0,#0xce              ;3618
001f0e  d101              BNE      |L1.7956|
001f10  f8a63046          STRH     r3,[r6,#0x46]         ;3620
                  |L1.7956|
001f14  28cf              CMP      r0,#0xcf              ;3623
001f16  d102              BNE      |L1.7966|
001f18  684a              LDR      r2,[r1,#4]            ;3625  ; mess_data
001f1a  f8a62046          STRH     r2,[r6,#0x46]         ;3625
                  |L1.7966|
001f1e  28d1              CMP      r0,#0xd1              ;3628
001f20  d102              BNE      |L1.7976|
001f22  684a              LDR      r2,[r1,#4]            ;3630  ; mess_data
001f24  f8a62044          STRH     r2,[r6,#0x44]         ;3630
                  |L1.7976|
001f28  28d2              CMP      r0,#0xd2              ;3633
001f2a  d101              BNE      |L1.7984|
001f2c  f8a63044          STRH     r3,[r6,#0x44]         ;3635
                  |L1.7984|
001f30  28d0              CMP      r0,#0xd0              ;3638
001f32  d106              BNE      |L1.8002|
001f34  6848              LDR      r0,[r1,#4]            ;3640  ; mess_data
001f36  f8a60044          STRH     r0,[r6,#0x44]         ;3640
001f3a  ea6f0000          MVN      r0,r0                 ;3641
001f3e  f8a60046          STRH     r0,[r6,#0x46]         ;3641
                  |L1.8002|
001f42  f04f0400          MOV      r4,#0                 ;3645
001f46  e037              B        |L1.8120|
                  |L1.8008|
001f48  f8b60046          LDRH     r0,[r6,#0x46]  ; bps_off_mask
001f4c  fa0af904          LSL      r9,r10,r4
001f50  ea190f00          TST      r9,r0
001f54  d00c              BEQ      |L1.8048|
001f56  ebc400c4          RSB      r0,r4,r4,LSL #3
001f5a  eb000040          ADD      r0,r0,r0,LSL #1
001f5e  eb080080          ADD      r0,r8,r0,LSL #2
001f62  f8301f40          LDRH     r1,[r0,#0x40]!
001f66  f1010101          ADD      r1,r1,#1
001f6a  8001              STRH     r1,[r0,#0]
001f6c  e008              B        |L1.8064|
                  |L1.8046|
001f6e  e028              B        |L1.8130|
                  |L1.8048|
;;;3648   		else bps[i]._blok_cnt=0;
001f70  ebc400c4          RSB      r0,r4,r4,LSL #3
001f74  eb000040          ADD      r0,r0,r0,LSL #1
001f78  eb080080          ADD      r0,r8,r0,LSL #2
001f7c  f8a07040          STRH     r7,[r0,#0x40]
                  |L1.8064|
;;;3649   		gran(&bps[i]._blok_cnt,0,50);
001f80  ebc400c4          RSB      r0,r4,r4,LSL #3
001f84  eb000040          ADD      r0,r0,r0,LSL #1
001f88  eb080580          ADD      r5,r8,r0,LSL #2
001f8c  f1050040          ADD      r0,r5,#0x40
001f90  2232              MOVS     r2,#0x32
001f92  2100              MOVS     r1,#0
001f94  f7fffffe          BL       gran
;;;3650   		if(bps[i]._blok_cnt>20) bps[i]._flags_tu=1;
001f98  f9b50040          LDRSH    r0,[r5,#0x40]
001f9c  2814              CMP      r0,#0x14
001f9e  dd01              BLE      |L1.8100|
001fa0  f885a02c          STRB     r10,[r5,#0x2c]
                  |L1.8100|
;;;3651   		if(bps_on_mask&(1<<i)) bps[i]._flags_tu=0;
001fa4  f8b60044          LDRH     r0,[r6,#0x44]  ; bps_on_mask
001fa8  ea190f00          TST      r9,r0
001fac  d001              BEQ      |L1.8114|
001fae  f885702c          STRB     r7,[r5,#0x2c]
                  |L1.8114|
001fb2  f1040401          ADD      r4,r4,#1              ;3645
001fb6  b2e4              UXTB     r4,r4                 ;3645
                  |L1.8120|
001fb8  f9bb0000          LDRSH    r0,[r11,#0]           ;3645  ; NUMIST
001fbc  4284              CMP      r4,r0                 ;3645
001fbe  ddc3              BLE      |L1.8008|
001fc0  e06b              B        |L1.8346|
                  |L1.8130|
;;;3652   	     }
;;;3653   
;;;3654   	
;;;3655   /*
;;;3656   
;;;3657   	if(bps_all_off_cnt>20)
;;;3658   		{
;;;3659   		for(i=0;i<=NUMIST;i++)
;;;3660   			{
;;;3661   	     	bps[i]._flags_tu=1;
;;;3662   	     	}
;;;3663   		}
;;;3664   	else if(bps_mask_off_cnt>20)
;;;3665   		{
;;;3666   		for(i=0;i<=NUMIST;i++)
;;;3667   			{
;;;3668   			if(mess_data[1]&(1<<i)) bps[i]._flags_tu=1;
;;;3669   	     	}
;;;3670   		}	
;;;3671   		
;;;3672   	else if(bps_mask_on_off_cnt>20)
;;;3673   		{
;;;3674   		for(i=0;i<=NUMIST;i++)
;;;3675   			{
;;;3676   			if(mess_data[1]&(1<<i)) bps[i]._flags_tu=1;
;;;3677   			else bps[i]._flags_tu=0;
;;;3678   	     	}
;;;3679   		}
;;;3680   		
;;;3681   	if(mess_data[0]==PARAM_BPS_MASK_ON)
;;;3682   		{
;;;3683   		for(i=0;i<=NUMIST;i++)
;;;3684   			{
;;;3685   			if(mess_data[1]&(1<<i)) bps[i]._flags_tu=0;
;;;3686   	     	}
;;;3687   		}
;;;3688   */										
;;;3689   	}
;;;3690   
;;;3691   
;;;3692   else if(b1Hz_sh)
001fc2  7cb0              LDRB     r0,[r6,#0x12]  ; b1Hz_sh
001fc4  b3f0              CBZ      r0,|L1.8260|
;;;3693   	{
;;;3694   	ptr__=0;
001fc6  f04f0400          MOV      r4,#0
;;;3695        for(i=0;i<=NUMIST;i++)
001fca  4621              MOV      r1,r4
001fcc  f9bb0000          LDRSH    r0,[r11,#0]           ;3645
001fd0  e00a              B        |L1.8168|
                  |L1.8146|
;;;3696   		{
;;;3697   	     bps[i]._flags_tu=1;
001fd2  ebc102c1          RSB      r2,r1,r1,LSL #3
001fd6  eb020242          ADD      r2,r2,r2,LSL #1
001fda  eb080282          ADD      r2,r8,r2,LSL #2
001fde  f882a02c          STRB     r10,[r2,#0x2c]
001fe2  f1010101          ADD      r1,r1,#1              ;3695
001fe6  b2c9              UXTB     r1,r1                 ;3695
                  |L1.8168|
001fe8  4281              CMP      r1,r0                 ;3695
001fea  ddf2              BLE      |L1.8146|
;;;3698   	     }	
;;;3699     	     
;;;3700     	for(i=0;(i<NUMIST)&&(ptr__<num_necc);i++)
001fec  f04f0100          MOV      r1,#0
001ff0  e022              B        |L1.8248|
                  |L1.8178|
;;;3701     		{
;;;3702   		char ii,iii;
;;;3703   
;;;3704   		ii=(char)NUMIST;
001ff2  b2c2              UXTB     r2,r0
;;;3705   		if(ii<0)ii=0;
;;;3706   		if(ii>32)ii=32;
001ff4  2a20              CMP      r2,#0x20
001ff6  d901              BLS      |L1.8188|
001ff8  f04f0220          MOV      r2,#0x20
                  |L1.8188|
;;;3707   		iii=numOfForvardBps;
001ffc  7e33              LDRB     r3,[r6,#0x18]  ; numOfForvardBps
;;;3708   		if(iii<0)iii=0;
;;;3709   		if(iii>=NUMIST)iii=0;
001ffe  4283              CMP      r3,r0
002000  db01              BLT      |L1.8198|
002002  f04f0300          MOV      r3,#0
                  |L1.8198|
;;;3710   		iii+=i;
002006  440b              ADD      r3,r3,r1
002008  b2db              UXTB     r3,r3
;;;3711   		iii=iii%ii;
00200a  fbb3f5f2          UDIV     r5,r3,r2
00200e  fb023215          MLS      r2,r2,r5,r3
;;;3712   		
;;;3713     	     if((bps[iii]._state==bsRDY)||(bps[iii]._state==bsWRK))
002012  ebc202c2          RSB      r2,r2,r2,LSL #3
002016  eb020242          ADD      r2,r2,r2,LSL #1
00201a  eb080282          ADD      r2,r8,r2,LSL #2
00201e  7893              LDRB     r3,[r2,#2]
002020  2b02              CMP      r3,#2
002022  d001              BEQ      |L1.8232|
002024  2b01              CMP      r3,#1
002026  d104              BNE      |L1.8242|
                  |L1.8232|
;;;3714     	         	{
;;;3715     	         	bps[iii]._flags_tu=0;
002028  f882702c          STRB     r7,[r2,#0x2c]
;;;3716     	         	ptr__++;
00202c  f1040401          ADD      r4,r4,#1
002030  b2e4              UXTB     r4,r4
                  |L1.8242|
002032  f1010101          ADD      r1,r1,#1              ;3700
002036  b2c9              UXTB     r1,r1                 ;3700
                  |L1.8248|
002038  4281              CMP      r1,r0                 ;3700
00203a  da06              BGE      |L1.8266|
00203c  4a7c              LDR      r2,|L1.8752|
00203e  f9b22000          LDRSH    r2,[r2,#0]            ;3700  ; num_necc
002042  e000              B        |L1.8262|
                  |L1.8260|
002044  e029              B        |L1.8346|
                  |L1.8262|
002046  4294              CMP      r4,r2                 ;3700
002048  dbd3              BLT      |L1.8178|
                  |L1.8266|
;;;3717     	         	}
;;;3718     	     }
;;;3719   	if(main_1Hz_cnt<60)
00204a  497a              LDR      r1,|L1.8756|
00204c  f9b11000          LDRSH    r1,[r1,#0]  ; main_1Hz_cnt
002050  293c              CMP      r1,#0x3c
002052  da0f              BGE      |L1.8308|
;;;3720   		{
;;;3721        	for(i=0;i<=NUMIST;i++)
002054  f04f0100          MOV      r1,#0
002058  e00a              B        |L1.8304|
                  |L1.8282|
;;;3722   			{
;;;3723   	     	bps[i]._flags_tu=0;
00205a  ebc102c1          RSB      r2,r1,r1,LSL #3
00205e  eb020242          ADD      r2,r2,r2,LSL #1
002062  eb080282          ADD      r2,r8,r2,LSL #2
002066  f882702c          STRB     r7,[r2,#0x2c]
00206a  f1010101          ADD      r1,r1,#1              ;3721
00206e  b2c9              UXTB     r1,r1                 ;3721
                  |L1.8304|
002070  4281              CMP      r1,r0                 ;3721
002072  ddf2              BLE      |L1.8282|
                  |L1.8308|
;;;3724   	     	}	
;;;3725   		}
;;;3726   	if(ipsBlckStat)
002074  4970              LDR      r1,|L1.8760|
002076  8809              LDRH     r1,[r1,#0]  ; ipsBlckStat
002078  b179              CBZ      r1,|L1.8346|
;;;3727   		{
;;;3728        	for(i=0;i<=NUMIST;i++)
00207a  f04f0100          MOV      r1,#0
00207e  e00a              B        |L1.8342|
                  |L1.8320|
;;;3729   			{
;;;3730   	     	bps[i]._flags_tu=1;
002080  ebc102c1          RSB      r2,r1,r1,LSL #3
002084  eb020242          ADD      r2,r2,r2,LSL #1
002088  eb080282          ADD      r2,r8,r2,LSL #2
00208c  f882a02c          STRB     r10,[r2,#0x2c]
002090  f1010101          ADD      r1,r1,#1              ;3728
002094  b2c9              UXTB     r1,r1                 ;3728
                  |L1.8342|
002096  4281              CMP      r1,r0                 ;3728
002098  ddf2              BLE      |L1.8320|
                  |L1.8346|
;;;3731   	     	}
;;;3732   		}
;;;3733   		 
;;;3734     	}
;;;3735   
;;;3736   
;;;3737   for(i=0;i<NUMIST;i++)
00209a  f04f0000          MOV      r0,#0
;;;3738        {
;;;3739        if(bps[i]._ist_blok_host_cnt!=0)
;;;3740             {
;;;3741             bps[i]._flags_tu=99;
00209e  f04f0463          MOV      r4,#0x63
0020a2  f9bb3000          LDRSH    r3,[r11,#0]           ;3645
0020a6  e00f              B        |L1.8392|
                  |L1.8360|
0020a8  ebc001c0          RSB      r1,r0,r0,LSL #3       ;3739
0020ac  eb010141          ADD      r1,r1,r1,LSL #1       ;3739
0020b0  eb080181          ADD      r1,r8,r1,LSL #2       ;3739
0020b4  6bca              LDR      r2,[r1,#0x3c]         ;3739
0020b6  b122              CBZ      r2,|L1.8386|
0020b8  f881402c          STRB     r4,[r1,#0x2c]
;;;3742   	     bps[i]._ist_blok_host_cnt--;
0020bc  f1a20201          SUB      r2,r2,#1
0020c0  63ca              STR      r2,[r1,#0x3c]
                  |L1.8386|
0020c2  f1000001          ADD      r0,r0,#1              ;3737
0020c6  b2c0              UXTB     r0,r0                 ;3737
                  |L1.8392|
0020c8  4298              CMP      r0,r3                 ;3737
0020ca  dbed              BLT      |L1.8360|
;;;3743             }
;;;3744        }
;;;3745   
;;;3746   
;;;3747   
;;;3748   
;;;3749   b1Hz_sh=0;
0020cc  74b7              STRB     r7,[r6,#0x12]
;;;3750   
;;;3751   
;;;3752   num_of_wrks_bps=0;
0020ce  73b7              STRB     r7,[r6,#0xe]
;;;3753   for(i=0;i<NUMIST;i++)
0020d0  f04f0000          MOV      r0,#0
0020d4  e00f              B        |L1.8438|
                  |L1.8406|
;;;3754   	{
;;;3755   	if(bps[i]._state==bsWRK)num_of_wrks_bps++;
0020d6  ebc001c0          RSB      r1,r0,r0,LSL #3
0020da  eb010141          ADD      r1,r1,r1,LSL #1
0020de  eb080181          ADD      r1,r8,r1,LSL #2
0020e2  7889              LDRB     r1,[r1,#2]
0020e4  2901              CMP      r1,#1
0020e6  d103              BNE      |L1.8432|
0020e8  7bb1              LDRB     r1,[r6,#0xe]  ; num_of_wrks_bps
0020ea  f1010101          ADD      r1,r1,#1
0020ee  73b1              STRB     r1,[r6,#0xe]
                  |L1.8432|
0020f0  f1000001          ADD      r0,r0,#1              ;3753
0020f4  b2c0              UXTB     r0,r0                 ;3753
                  |L1.8438|
0020f6  4298              CMP      r0,r3                 ;3753
0020f8  dbed              BLT      |L1.8406|
;;;3756   	}
;;;3757   
;;;3758   
;;;3759   }
0020fa  e8bd9ff0          POP      {r4-r12,pc}
;;;3760   
                          ENDP

                  powerAntiAliasingHndl PROC
;;;3767   //-----------------------------------------------
;;;3768   void powerAntiAliasingHndl(void)
0020fe  b570              PUSH     {r4-r6,lr}
;;;3769   {
;;;3770   if((power_summary_tempo/10UL)==(power_summary_tempo_old/10UL))
002100  230a              MOVS     r3,#0xa
002102  4c4f              LDR      r4,|L1.8768|
002104  484d              LDR      r0,|L1.8764|
;;;3771   	{
;;;3772   	if(powerSummaryCnt<15)powerSummaryCnt++;
;;;3773   	if(powerSummaryCnt>=10)
;;;3774   		{
;;;3775   		power_summary=power_summary_tempo;
;;;3776   		}
;;;3777   	}
;;;3778   else powerSummaryCnt=0;
002106  2500              MOVS     r5,#0
002108  6822              LDR      r2,[r4,#0]            ;3770  ; power_summary_tempo_old
00210a  6800              LDR      r0,[r0,#0]            ;3770  ; power_summary_tempo
00210c  fbb2f6f3          UDIV     r6,r2,r3              ;3770
002110  fbb0f1f3          UDIV     r1,r0,r3              ;3770
002114  4a4b              LDR      r2,|L1.8772|
002116  42b1              CMP      r1,r6                 ;3770
002118  d10b              BNE      |L1.8498|
00211a  7811              LDRB     r1,[r2,#0]            ;3772  ; powerSummaryCnt
00211c  290f              CMP      r1,#0xf               ;3772
00211e  d202              BCS      |L1.8486|
002120  f1010101          ADD      r1,r1,#1              ;3772
002124  7011              STRB     r1,[r2,#0]            ;3772
                  |L1.8486|
002126  7811              LDRB     r1,[r2,#0]            ;3773  ; powerSummaryCnt
002128  290a              CMP      r1,#0xa               ;3773
00212a  d303              BCC      |L1.8500|
00212c  4946              LDR      r1,|L1.8776|
00212e  6008              STR      r0,[r1,#0]            ;3775  ; power_summary
002130  e000              B        |L1.8500|
                  |L1.8498|
002132  7015              STRB     r5,[r2,#0]
                  |L1.8500|
;;;3779   power_summary_tempo_old=power_summary_tempo;
002134  6020              STR      r0,[r4,#0]  ; power_summary_tempo_old
;;;3780   
;;;3781   if((power_current_tempo/10UL)==(power_current_tempo_old/10UL))
002136  4845              LDR      r0,|L1.8780|
002138  4c45              LDR      r4,|L1.8784|
00213a  f9b00000          LDRSH    r0,[r0,#0]  ; power_current_tempo
00213e  f9b42000          LDRSH    r2,[r4,#0]  ; power_current_tempo_old
002142  fbb0f1f3          UDIV     r1,r0,r3
002146  fbb2f3f3          UDIV     r3,r2,r3
;;;3782   	{
;;;3783   	if(powerCurrentCnt<15)powerCurrentCnt++;
00214a  4a42              LDR      r2,|L1.8788|
00214c  4299              CMP      r1,r3                 ;3781
00214e  d10b              BNE      |L1.8552|
002150  7811              LDRB     r1,[r2,#0]  ; powerCurrentCnt
002152  290f              CMP      r1,#0xf
002154  d202              BCS      |L1.8540|
002156  f1010101          ADD      r1,r1,#1
00215a  7011              STRB     r1,[r2,#0]
                  |L1.8540|
;;;3784   	if(powerCurrentCnt>=10)
00215c  7811              LDRB     r1,[r2,#0]  ; powerCurrentCnt
00215e  290a              CMP      r1,#0xa
002160  d303              BCC      |L1.8554|
;;;3785   		{
;;;3786   		power_current=power_current_tempo;
002162  493d              LDR      r1,|L1.8792|
002164  8008              STRH     r0,[r1,#0]
002166  e000              B        |L1.8554|
                  |L1.8552|
;;;3787   		}
;;;3788   	}
;;;3789   else powerCurrentCnt=0;
002168  7015              STRB     r5,[r2,#0]
                  |L1.8554|
;;;3790   power_current_tempo_old=power_current_tempo;
00216a  8020              STRH     r0,[r4,#0]
;;;3791   }
00216c  bd70              POP      {r4-r6,pc}
;;;3792   
                          ENDP

                  ipsBlckHndl PROC
;;;3875   //-----------------------------------------------
;;;3876   void ipsBlckHndl(char in)
00216e  b510              PUSH     {r4,lr}
;;;3877   {
;;;3878   
;;;3879   ipsBlckStat=0;
002170  4b31              LDR      r3,|L1.8760|
002172  f04f0000          MOV      r0,#0
002176  8018              STRH     r0,[r3,#0]
;;;3880   if(ipsBlckSrc==1)
002178  4838              LDR      r0,|L1.8796|
00217a  f04f0401          MOV      r4,#1
;;;3881   	{
;;;3882   	if(((ipsBlckLog==0)&&(adc_buff_[11]>2000)) || ((ipsBlckLog==1)&&(adc_buff_[11]<2000))) ipsBlckStat=1;
00217e  f44f62fa          MOV      r2,#0x7d0
002182  f9b01000          LDRSH    r1,[r0,#0]            ;3880  ; ipsBlckSrc
002186  4836              LDR      r0,|L1.8800|
002188  2901              CMP      r1,#1                 ;3880
00218a  f9b00000          LDRSH    r0,[r0,#0]
00218e  d006              BEQ      |L1.8606|
;;;3883   	}
;;;3884   else if(ipsBlckSrc==2)
002190  2902              CMP      r1,#2
002192  d10f              BNE      |L1.8628|
002194  4933              LDR      r1,|L1.8804|
;;;3885   	{
;;;3886   	if(((ipsBlckLog==0)&&(adc_buff_[13]>2000)) || ((ipsBlckLog==1)&&(adc_buff_[13]<2000))) ipsBlckStat=1;
002196  f9b1101a          LDRSH    r1,[r1,#0x1a]
00219a  b160              CBZ      r0,|L1.8630|
00219c  e00d              B        |L1.8634|
                  |L1.8606|
00219e  4931              LDR      r1,|L1.8804|
0021a0  f9b11016          LDRSH    r1,[r1,#0x16]         ;3882
0021a4  b908              CBNZ     r0,|L1.8618|
0021a6  4291              CMP      r1,r2                 ;3882
0021a8  dc03              BGT      |L1.8626|
                  |L1.8618|
0021aa  2801              CMP      r0,#1                 ;3882
0021ac  d102              BNE      |L1.8628|
0021ae  4291              CMP      r1,r2                 ;3882
0021b0  da00              BGE      |L1.8628|
                  |L1.8626|
0021b2  801c              STRH     r4,[r3,#0]            ;3882
                  |L1.8628|
;;;3887   	}
;;;3888   }
0021b4  bd10              POP      {r4,pc}
                  |L1.8630|
0021b6  4291              CMP      r1,r2                 ;3886
0021b8  dc03              BGT      |L1.8642|
                  |L1.8634|
0021ba  2801              CMP      r0,#1                 ;3886
0021bc  d1fa              BNE      |L1.8628|
0021be  4291              CMP      r1,r2                 ;3886
0021c0  daf8              BGE      |L1.8628|
                  |L1.8642|
0021c2  801c              STRH     r4,[r3,#0]            ;3886
0021c4  bd10              POP      {r4,pc}
;;;3889   
                          ENDP

                  bps_drv PROC
;;;3890   //-----------------------------------------------
;;;3891   void bps_drv(char in)
0021c6  e92d41f0          PUSH     {r4-r8,lr}
;;;3892   {
0021ca  4606              MOV      r6,r0
;;;3893   char temp;
;;;3894   
;;;3895   if (bps[in]._device!=dSRC) return;
0021cc  ebc600c6          RSB      r0,r6,r6,LSL #3
0021d0  4914              LDR      r1,|L1.8740|
0021d2  eb000040          ADD      r0,r0,r0,LSL #1
0021d6  f8112020          LDRB     r2,[r1,r0,LSL #2]
0021da  2a03              CMP      r2,#3
0021dc  d174              BNE      |L1.8904|
;;;3896   temp=bps[in]._flags_tm;
0021de  eb010480          ADD      r4,r1,r0,LSL #2
0021e2  f8945042          LDRB     r5,[r4,#0x42]
;;;3897   if(temp&(1<<AV_T))
0021e6  07a8              LSLS     r0,r5,#30
0021e8  d541              BPL      |L1.8814|
;;;3898   	{
;;;3899   	if(bps[in]._temp_av_cnt<1200) 
0021ea  f9b41046          LDRSH    r1,[r4,#0x46]
0021ee  f44f6296          MOV      r2,#0x4b0
0021f2  4291              CMP      r1,r2
0021f4  da4c              BGE      |L1.8848|
;;;3900   		{
;;;3901   		bps[in]._temp_av_cnt++;
0021f6  f1010101          ADD      r1,r1,#1
0021fa  b208              SXTH     r0,r1
0021fc  f8a40046          STRH     r0,[r4,#0x46]
;;;3902   		if(bps[in]._temp_av_cnt>=1200)
002200  4290              CMP      r0,r2
002202  db45              BLT      |L1.8848|
;;;3903   			{
;;;3904   			bps[in]._temp_av_cnt=1200;
002204  f8a42046          STRH     r2,[r4,#0x46]
;;;3905   		   	if(!(bps[in]._av&(1<<0)))avar_bps_hndl(in,0,1);
002208  7860              LDRB     r0,[r4,#1]
00220a  07c0              LSLS     r0,r0,#31
00220c  d140              BNE      |L1.8848|
00220e  2201              MOVS     r2,#1
002210  2100              MOVS     r1,#0
002212  4630              MOV      r0,r6
002214  e028              B        |L1.8808|
002216  0000              DCW      0x0000
                  |L1.8728|
                          DCD      DOP_RELE_FUNC
                  |L1.8732|
                          DCD      speedChIsOn
                  |L1.8736|
                          DCD      ||area_number.21||
                  |L1.8740|
                          DCD      bps
                  |L1.8744|
                          DCD      NUMIST
                  |L1.8748|
                          DCD      mess_data
                  |L1.8752|
                          DCD      num_necc
                  |L1.8756|
                          DCD      main_1Hz_cnt
                  |L1.8760|
                          DCD      ipsBlckStat
                  |L1.8764|
                          DCD      power_summary_tempo
                  |L1.8768|
                          DCD      power_summary_tempo_old
                  |L1.8772|
                          DCD      powerSummaryCnt
                  |L1.8776|
                          DCD      power_summary
                  |L1.8780|
                          DCD      power_current_tempo
                  |L1.8784|
                          DCD      power_current_tempo_old
                  |L1.8788|
                          DCD      powerCurrentCnt
                  |L1.8792|
                          DCD      power_current
                  |L1.8796|
                          DCD      ipsBlckSrc
                  |L1.8800|
                          DCD      ipsBlckLog
                  |L1.8804|
                          DCD      ||.bss||+0x400
                  |L1.8808|
002268  f7fffffe          BL       avar_bps_hndl
00226c  e010              B        |L1.8848|
                  |L1.8814|
;;;3906   			}
;;;3907   		}
;;;3908   	}
;;;3909   
;;;3910   else if(!(temp&(1<<AV_T)))
;;;3911   	{
;;;3912   	if(bps[in]._temp_av_cnt) 
00226e  f9b41046          LDRSH    r1,[r4,#0x46]
002272  b169              CBZ      r1,|L1.8848|
;;;3913   		{
;;;3914   		bps[in]._temp_av_cnt--;
002274  f1a10101          SUB      r1,r1,#1
002278  b208              SXTH     r0,r1
00227a  f8a40046          STRH     r0,[r4,#0x46]
;;;3915   		if(!bps[in]._temp_av_cnt)
00227e  b938              CBNZ     r0,|L1.8848|
;;;3916   			{
;;;3917   			if(bps[in]._av&(1<<0))avar_bps_hndl(in,0,0);
002280  7860              LDRB     r0,[r4,#1]
002282  07c0              LSLS     r0,r0,#31
002284  d004              BEQ      |L1.8848|
002286  2200              MOVS     r2,#0
002288  4611              MOV      r1,r2
00228a  4630              MOV      r0,r6
00228c  f7fffffe          BL       avar_bps_hndl
                  |L1.8848|
;;;3918   			}
;;;3919   		} 	
;;;3920   
;;;3921   	}
;;;3922   
;;;3923   if((temp&(1<<AVUMAX)))
002290  0729              LSLS     r1,r5,#28
;;;3924   	{
;;;3925   	if(bps[in]._umax_av_cnt<10) 
;;;3926   		{
;;;3927   		bps[in]._umax_av_cnt++;
;;;3928   		if(bps[in]._umax_av_cnt>=10)
;;;3929   			{ 
;;;3930   			bps[in]._umax_av_cnt=10;
002292  f04f070a          MOV      r7,#0xa
002296  f04f0000          MOV      r0,#0                 ;3905
00229a  d516              BPL      |L1.8906|
00229c  f9b41048          LDRSH    r1,[r4,#0x48]         ;3925
0022a0  290a              CMP      r1,#0xa               ;3925
0022a2  da27              BGE      |L1.8948|
0022a4  f1010101          ADD      r1,r1,#1              ;3927
0022a8  b208              SXTH     r0,r1                 ;3927
0022aa  f8a40048          STRH     r0,[r4,#0x48]         ;3927
0022ae  280a              CMP      r0,#0xa               ;3928
0022b0  db20              BLT      |L1.8948|
0022b2  f8a47048          STRH     r7,[r4,#0x48]
;;;3931   			if(!(bps[in]._av&(1<<1)))avar_bps_hndl(in,1,1);
0022b6  7860              LDRB     r0,[r4,#1]
0022b8  0780              LSLS     r0,r0,#30
0022ba  d41b              BMI      |L1.8948|
0022bc  2201              MOVS     r2,#1
0022be  4611              MOV      r1,r2
0022c0  4630              MOV      r0,r6
0022c2  f7fffffe          BL       avar_bps_hndl
0022c6  e015              B        |L1.8948|
                  |L1.8904|
0022c8  e073              B        |L1.9138|
                  |L1.8906|
;;;3932   		  	/*if((K[APV]!=ON)||((apv_cnt[in,0]==0)&&(apv_cnt[in,1]==0)&&(apv_cnt[in,2]==0)&&(apv_flags[in]==afOFF)))avar_s_hndl(in,1,1);
;;;3933   			if((apv_cnt[in,0]==0)&&(apv_cnt[in,1]==0)&&(apv_cnt[in,2]==0)&&(apv_flags[in]==afON))
;;;3934   				{
;;;3935   				apv_cnt[in,0]=APV_INIT;
;;;3936   				apv_cnt[in,1]=APV_INIT;
;;;3937   				apv_cnt[in,2]=APV_INIT;
;;;3938   				apv_flags[in]=afOFF;
;;;3939   				}				*/
;;;3940   						
;;;3941   			}
;;;3942   		} 
;;;3943   	}		
;;;3944   else if(!(temp&(1<<AVUMAX)))
;;;3945   	{
;;;3946   	if(bps[in]._umax_av_cnt>0) 
0022ca  f9b41048          LDRSH    r1,[r4,#0x48]
0022ce  2900              CMP      r1,#0
0022d0  dd0d              BLE      |L1.8942|
;;;3947   		{
;;;3948   		bps[in]._umax_av_cnt--;
0022d2  f1a10101          SUB      r1,r1,#1
0022d6  b208              SXTH     r0,r1
0022d8  f8a40048          STRH     r0,[r4,#0x48]
;;;3949   		if(bps[in]._umax_av_cnt==0)
0022dc  b950              CBNZ     r0,|L1.8948|
;;;3950   			{
;;;3951   			bps[in]._umax_av_cnt=0;
;;;3952   			avar_bps_hndl(in,1,0);
0022de  f04f0200          MOV      r2,#0
0022e2  f04f0101          MOV      r1,#1
0022e6  4630              MOV      r0,r6
0022e8  f7fffffe          BL       avar_bps_hndl
0022ec  e002              B        |L1.8948|
                  |L1.8942|
;;;3953   	 //		apv_cnt[in,0]=0;
;;;3954   	//		apv_cnt[in,1]=0;
;;;3955   	 //		apv_cnt[in,2]=0;			
;;;3956   			}
;;;3957   		}
;;;3958   	else if(bps[in]._umax_av_cnt<0) bps[in]._umax_av_cnt=0;		 
0022ee  da01              BGE      |L1.8948|
0022f0  f8a40048          STRH     r0,[r4,#0x48]
                  |L1.8948|
;;;3959   	}
;;;3960   
;;;3961   if(temp&(1<<AVUMIN))
0022f4  06e8              LSLS     r0,r5,#27
0022f6  d515              BPL      |L1.8996|
;;;3962   	{
;;;3963   	if(bps[in]._umin_av_cnt<10) 
0022f8  f9b4104a          LDRSH    r1,[r4,#0x4a]
0022fc  290a              CMP      r1,#0xa
0022fe  da1f              BGE      |L1.9024|
;;;3964   		{
;;;3965   		bps[in]._umin_av_cnt++;
002300  f1010101          ADD      r1,r1,#1
002304  b208              SXTH     r0,r1
002306  f8a4004a          STRH     r0,[r4,#0x4a]
;;;3966   		if(bps[in]._umin_av_cnt>=10)
00230a  280a              CMP      r0,#0xa
00230c  db18              BLT      |L1.9024|
;;;3967   			{ 
;;;3968   			bps[in]._umin_av_cnt=10;
00230e  f8a4704a          STRH     r7,[r4,#0x4a]
;;;3969   			if(!(bps[in]._av&(1<<2)))avar_bps_hndl(in,2,1);
002312  7860              LDRB     r0,[r4,#1]
002314  0740              LSLS     r0,r0,#29
002316  d413              BMI      |L1.9024|
002318  2201              MOVS     r2,#1
00231a  2102              MOVS     r1,#2
00231c  4630              MOV      r0,r6
00231e  f7fffffe          BL       avar_bps_hndl
002322  e00d              B        |L1.9024|
                  |L1.8996|
;;;3970   		  	/*	if((K[APV]!=ON)||((apv_cnt[in,0]==0)&&(apv_cnt[in,1]==0)&&(apv_cnt[in,2]==0)&&(apv_flags[in]==afOFF)))avar_s_hndl(in,2,1);
;;;3971   			if((apv_cnt[in,0]==0)&&(apv_cnt[in,1]==0)&&(apv_cnt[in,2]==0)&&(apv_flags[in]==afON))
;;;3972   				{
;;;3973   				apv_cnt[in,0]=APV_INIT;
;;;3974   				apv_cnt[in,1]=APV_INIT;
;;;3975   				apv_cnt[in,2]=APV_INIT;
;;;3976   				apv_flags[in]=afOFF;
;;;3977   				}*/				
;;;3978   			}
;;;3979   		} 
;;;3980   	}	
;;;3981   	
;;;3982   else if(!(temp&(1<<AVUMIN)))
;;;3983   	{
;;;3984   	if(bps[in]._umin_av_cnt) 
002324  f9b4004a          LDRSH    r0,[r4,#0x4a]
002328  b150              CBZ      r0,|L1.9024|
;;;3985   		{
;;;3986   		bps[in]._umin_av_cnt--;
00232a  f1a00001          SUB      r0,r0,#1
00232e  b200              SXTH     r0,r0
002330  f8a4004a          STRH     r0,[r4,#0x4a]
;;;3987   		if(bps[in]._umin_av_cnt==0)
002334  b920              CBNZ     r0,|L1.9024|
;;;3988   			{
;;;3989   			bps[in]._umin_av_cnt=0;
;;;3990   			avar_bps_hndl(in,2,0);
002336  2200              MOVS     r2,#0
002338  2102              MOVS     r1,#2
00233a  4630              MOV      r0,r6
00233c  f7fffffe          BL       avar_bps_hndl
                  |L1.9024|
;;;3991   		//	apv_cnt[in,0]=0;
;;;3992   		//	apv_cnt[in,1]=0;
;;;3993   		//	apv_cnt[in,2]=0;
;;;3994   			}
;;;3995   		}
;;;3996   	else if(bps[in]._umin_av_cnt>10)bps[in]._umin_av_cnt--;	 
;;;3997   	}
;;;3998   
;;;3999   //bps[in]._state=bsOFF;
;;;4000   
;;;4001   if (bps[in]._av&0x0f)					bps[in]._state=bsAV;
002340  7860              LDRB     r0,[r4,#1]
002342  0700              LSLS     r0,r0,#28
002344  d003              BEQ      |L1.9038|
002346  f04f0004          MOV      r0,#4
00234a  70a0              STRB     r0,[r4,#2]
00234c  e017              B        |L1.9086|
                  |L1.9038|
;;;4002   else if ( (net_av) && (bps[in]._cnt>20)/*&& 
00234e  48fb              LDR      r0,|L1.10044|
002350  7800              LDRB     r0,[r0,#0]  ; net_av
002352  b130              CBZ      r0,|L1.9058|
002354  78e0              LDRB     r0,[r4,#3]
002356  2814              CMP      r0,#0x14
002358  d903              BLS      |L1.9058|
;;;4003   		(bps[in]._Uii<200)*/)				bps[in]._state=bsOFF_AV_NET;
00235a  f04f0005          MOV      r0,#5
00235e  70a0              STRB     r0,[r4,#2]
002360  e00d              B        |L1.9086|
                  |L1.9058|
;;;4004   else if (bps[in]._flags_tm&BIN8(100000))	bps[in]._state=bsRDY;
002362  f8940042          LDRB     r0,[r4,#0x42]
002366  0680              LSLS     r0,r0,#26
002368  d503              BPL      |L1.9074|
00236a  f04f0002          MOV      r0,#2
00236e  70a0              STRB     r0,[r4,#2]
002370  e005              B        |L1.9086|
                  |L1.9074|
;;;4005   else if (bps[in]._cnt<20)				bps[in]._state=bsWRK;
002372  78e0              LDRB     r0,[r4,#3]
002374  2814              CMP      r0,#0x14
002376  d202              BCS      |L1.9086|
002378  f04f0001          MOV      r0,#1
00237c  70a0              STRB     r0,[r4,#2]
                  |L1.9086|
;;;4006   
;;;4007   
;;;4008   
;;;4009   //else if(bps[in]._flags_tm&BIN8(100000)) bps[in]._state=ssBL;
;;;4010   //else if((!(bps[in]._flags_tm&BIN8(100000)))&&(net_U>100))bps[in]._state=ssWRK;
;;;4011   //else bps[0]._state=ssNOT;
;;;4012   
;;;4013   //bps[in]._is_ready=0;
;;;4014   //bps[in]._is_wrk=0;
;;;4015   //if(bps[in]._av_net) bps[in]._flags_bp='N';//  
;;;4016   //else if(bps[in]._av_u_max) bps[in]._flags_bp='P';//  (u_.av_.bAS1T)) bps_state[0]=ssAV;
;;;4017   //else if(bps[in]._av_u_min) bps[in]._flags_bp='M';//  
;;;4018   //else if(bps[in]._av_temper) bps[in]._flags_bp='T';// 
;;;4019   //else if(bps[in]._flags_tm&BIN8(100000)) 
;;;4020   //	{
;;;4021   //	bps[in]._flags_bp='B';// 
;;;4022   //	bps[in]._is_ready=1;
;;;4023   //	}
;;;4024   //else if((!(bps[in]._flags_tm&BIN8(100000)))&&(net_U>100))
;;;4025   //     {
;;;4026   //     bps[in]._flags_bp='W';// 
;;;4027   //     bps[in]._is_ready=1;
;;;4028   //     bps[in]._is_wrk=1;
;;;4029        
;;;4030   //     }
;;;4031   //else bps[in]._is_ready=1;     
;;;4032   
;;;4033   
;;;4034   
;;;4035   
;;;4036   
;;;4037   /*
;;;4038   bps[in]._flags_tu&=BIN8(11111110);
;;;4039   if(bps[in]._ist_blok_cnt)
;;;4040   	{
;;;4041   	bps[in]._ist_blok_cnt--;
;;;4042   	bps[in]._flags_tu|=BIN8(1);
;;;4043   	}
;;;4044   
;;;4045   	   */ 
;;;4046   
;;;4047   //    
;;;4048   if(bps[in]._cnt>=10) bps[in]._flags_tu|=BIN8(10000000);
00237e  78e0              LDRB     r0,[r4,#3]
002380  280a              CMP      r0,#0xa
002382  d306              BCC      |L1.9106|
002384  f894002c          LDRB     r0,[r4,#0x2c]
002388  f0400080          ORR      r0,r0,#0x80
00238c  f884002c          STRB     r0,[r4,#0x2c]
002390  e005              B        |L1.9118|
                  |L1.9106|
;;;4049   else bps[in]._flags_tu&=BIN8(1111111);
002392  f894002c          LDRB     r0,[r4,#0x2c]
002396  f000007f          AND      r0,r0,#0x7f
00239a  f884002c          STRB     r0,[r4,#0x2c]
                  |L1.9118|
;;;4050   	
;;;4051   bps[in]._vol_u=cntrl_stat+bps[in]._x_;	
00239e  49e8              LDR      r1,|L1.10048|
0023a0  f9b40050          LDRSH    r0,[r4,#0x50]
0023a4  f9b1101a          LDRSH    r1,[r1,#0x1a]  ; cntrl_stat
0023a8  4408              ADD      r0,r0,r1
0023aa  6320              STR      r0,[r4,#0x30]
;;;4052   bps[in]._vol_i=1000; 
0023ac  f44f707a          MOV      r0,#0x3e8
0023b0  6360              STR      r0,[r4,#0x34]
                  |L1.9138|
;;;4053   }
0023b2  e543              B        |L1.7740|
;;;4054   
                          ENDP

                  avt_hndl PROC
;;;4055   //-----------------------------------------------
;;;4056   void avt_hndl(void)
0023b4  b570              PUSH     {r4-r6,lr}
;;;4057   {
;;;4058   char i;
;;;4059   for(i=0;i<12;i++)
0023b6  f04f0000          MOV      r0,#0
;;;4060   	{
;;;4061   	if(eb2_data_short[6]&(1<<i))
0023ba  49e2              LDR      r1,|L1.10052|
;;;4062   		{
;;;4063   		avt_stat[i]=avtON;
0023bc  4de2              LDR      r5,|L1.10056|
0023be  f04f0401          MOV      r4,#1                 ;4061
0023c2  f9b1200c          LDRSH    r2,[r1,#0xc]          ;4061
0023c6  4603              MOV      r3,r0                 ;4059
                  |L1.9160|
0023c8  fa04f100          LSL      r1,r4,r0              ;4061
0023cc  420a              TST      r2,r1                 ;4061
0023ce  d001              BEQ      |L1.9172|
0023d0  542c              STRB     r4,[r5,r0]
0023d2  e000              B        |L1.9174|
                  |L1.9172|
;;;4064   		}
;;;4065   	else avt_stat[i]=avtOFF;
0023d4  542b              STRB     r3,[r5,r0]
                  |L1.9174|
0023d6  f1000001          ADD      r0,r0,#1              ;4059
0023da  b2c0              UXTB     r0,r0                 ;4059
0023dc  280c              CMP      r0,#0xc               ;4059
0023de  d3f3              BCC      |L1.9160|
;;;4066   	}
;;;4067   
;;;4068   if((avt_stat_old[0]!=avt_stat[0])&&(NUMAVT>=1))
0023e0  4eda              LDR      r6,|L1.10060|
0023e2  7828              LDRB     r0,[r5,#0]  ; avt_stat
0023e4  4cda              LDR      r4,|L1.10064|
0023e6  7831              LDRB     r1,[r6,#0]  ; avt_stat_old
0023e8  4281              CMP      r1,r0
0023ea  d00b              BEQ      |L1.9220|
0023ec  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
0023f0  2901              CMP      r1,#1
0023f2  db07              BLT      |L1.9220|
;;;4069   	{
;;;4070   	if(avt_stat[0]==avtON) 	snmp_trap_send("Avtomat #1 is ON ",11,1,1);
0023f4  2801              CMP      r0,#1
0023f6  d07e              BEQ      |L1.9462|
;;;4071   	else 				snmp_trap_send("Avtomat #1 is OFF",11,1,0);
0023f8  2300              MOVS     r3,#0
0023fa  2201              MOVS     r2,#1
0023fc  210b              MOVS     r1,#0xb
0023fe  a0d5              ADR      r0,|L1.10068|
002400  f7fffffe          BL       snmp_trap_send
                  |L1.9220|
;;;4072   	}
;;;4073   if((avt_stat_old[1]!=avt_stat[1])&&(NUMAVT>=2))
002404  7871              LDRB     r1,[r6,#1]  ; avt_stat_old
002406  7868              LDRB     r0,[r5,#1]  ; avt_stat
002408  4281              CMP      r1,r0
00240a  d00b              BEQ      |L1.9252|
00240c  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
002410  2902              CMP      r1,#2
002412  db07              BLT      |L1.9252|
;;;4074   	{
;;;4075   	if(avt_stat[1]==avtON) 	snmp_trap_send("Avtomat #2 is ON ",11,2,1);
002414  2801              CMP      r0,#1
002416  d06f              BEQ      |L1.9464|
;;;4076   	else 				snmp_trap_send("Avtomat #2 is OFF",11,2,0);
002418  2300              MOVS     r3,#0
00241a  2202              MOVS     r2,#2
00241c  210b              MOVS     r1,#0xb
00241e  a0d2              ADR      r0,|L1.10088|
002420  f7fffffe          BL       snmp_trap_send
                  |L1.9252|
;;;4077   	}
;;;4078   if((avt_stat_old[2]!=avt_stat[2])&&(NUMAVT>=3))
002424  78b1              LDRB     r1,[r6,#2]  ; avt_stat_old
002426  78a8              LDRB     r0,[r5,#2]  ; avt_stat
002428  4281              CMP      r1,r0
00242a  d00b              BEQ      |L1.9284|
00242c  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
002430  2903              CMP      r1,#3
002432  db07              BLT      |L1.9284|
;;;4079   	{
;;;4080   	if(avt_stat[2]==avtON) 	snmp_trap_send("Avtomat #3 is ON ",11,3,1);
002434  2801              CMP      r0,#1
002436  d072              BEQ      |L1.9502|
;;;4081   	else 				snmp_trap_send("Avtomat #3 is OFF",11,3,0);
002438  2300              MOVS     r3,#0
00243a  2203              MOVS     r2,#3
00243c  210b              MOVS     r1,#0xb
00243e  a0cf              ADR      r0,|L1.10108|
002440  f7fffffe          BL       snmp_trap_send
                  |L1.9284|
;;;4082   	}
;;;4083   if((avt_stat_old[3]!=avt_stat[3])&&(NUMAVT>=4))
002444  78f1              LDRB     r1,[r6,#3]  ; avt_stat_old
002446  78e8              LDRB     r0,[r5,#3]  ; avt_stat
002448  4281              CMP      r1,r0
00244a  d00b              BEQ      |L1.9316|
00244c  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
002450  2904              CMP      r1,#4
002452  db07              BLT      |L1.9316|
;;;4084   	{
;;;4085   	if(avt_stat[3]==avtON) 	snmp_trap_send("Avtomat #4 is ON ",11,4,1);
002454  2801              CMP      r0,#1
002456  d079              BEQ      |L1.9548|
;;;4086   	else 				snmp_trap_send("Avtomat #4 is OFF",11,4,0);
002458  2300              MOVS     r3,#0
00245a  2204              MOVS     r2,#4
00245c  210b              MOVS     r1,#0xb
00245e  a0cc              ADR      r0,|L1.10128|
002460  f7fffffe          BL       snmp_trap_send
                  |L1.9316|
;;;4087   	}
;;;4088   if((avt_stat_old[4]!=avt_stat[4])&&(NUMAVT>=5))
002464  7931              LDRB     r1,[r6,#4]  ; avt_stat_old
002466  7928              LDRB     r0,[r5,#4]  ; avt_stat
002468  4281              CMP      r1,r0
00246a  d00b              BEQ      |L1.9348|
00246c  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
002470  2905              CMP      r1,#5
002472  db07              BLT      |L1.9348|
;;;4089   	{
;;;4090   	if(avt_stat[4]==avtON) 	snmp_trap_send("Avtomat #5 is ON ",11,5,1);
002474  2801              CMP      r0,#1
002476  d071              BEQ      |L1.9564|
;;;4091   	else 				snmp_trap_send("Avtomat #5 is OFF",11,5,0);
002478  2300              MOVS     r3,#0
00247a  2205              MOVS     r2,#5
00247c  210b              MOVS     r1,#0xb
00247e  a0c9              ADR      r0,|L1.10148|
002480  f7fffffe          BL       snmp_trap_send
                  |L1.9348|
;;;4092   	}
;;;4093   if((avt_stat_old[5]!=avt_stat[5])&&(NUMAVT>=6))
002484  7971              LDRB     r1,[r6,#5]  ; avt_stat_old
002486  7968              LDRB     r0,[r5,#5]  ; avt_stat
002488  4281              CMP      r1,r0
00248a  d00b              BEQ      |L1.9380|
00248c  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
002490  2906              CMP      r1,#6
002492  db07              BLT      |L1.9380|
;;;4094   	{
;;;4095   	if(avt_stat[5]==avtON) 	snmp_trap_send("Avtomat #6 is ON ",11,6,1);
002494  2801              CMP      r0,#1
002496  d068              BEQ      |L1.9578|
;;;4096   	else 				snmp_trap_send("Avtomat #6 is OFF",11,6,0);
002498  2300              MOVS     r3,#0
00249a  2206              MOVS     r2,#6
00249c  210b              MOVS     r1,#0xb
00249e  a0c6              ADR      r0,|L1.10168|
0024a0  f7fffffe          BL       snmp_trap_send
                  |L1.9380|
;;;4097   	}
;;;4098   if((avt_stat_old[6]!=avt_stat[6])&&(NUMAVT>=7))
0024a4  79b1              LDRB     r1,[r6,#6]  ; avt_stat_old
0024a6  79a8              LDRB     r0,[r5,#6]  ; avt_stat
0024a8  4281              CMP      r1,r0
0024aa  d00b              BEQ      |L1.9412|
0024ac  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
0024b0  2907              CMP      r1,#7
0024b2  db07              BLT      |L1.9412|
;;;4099   	{
;;;4100   	if(avt_stat[6]==avtON) 	snmp_trap_send("Avtomat #7 is ON ",11,7,1);
0024b4  2801              CMP      r0,#1
0024b6  d05f              BEQ      |L1.9592|
;;;4101   	else 				snmp_trap_send("Avtomat #7 is OFF",11,7,0);
0024b8  2300              MOVS     r3,#0
0024ba  2207              MOVS     r2,#7
0024bc  210b              MOVS     r1,#0xb
0024be  a0c3              ADR      r0,|L1.10188|
0024c0  f7fffffe          BL       snmp_trap_send
                  |L1.9412|
;;;4102   	}
;;;4103   if((avt_stat_old[7]!=avt_stat[7])&&(NUMAVT>=8))
0024c4  79f1              LDRB     r1,[r6,#7]  ; avt_stat_old
0024c6  79e8              LDRB     r0,[r5,#7]  ; avt_stat
0024c8  4281              CMP      r1,r0
0024ca  d00b              BEQ      |L1.9444|
0024cc  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
0024d0  2908              CMP      r1,#8
0024d2  db07              BLT      |L1.9444|
;;;4104   	{
;;;4105   	if(avt_stat[7]==avtON) 	snmp_trap_send("Avtomat #8 is ON ",11,8,1);
0024d4  2801              CMP      r0,#1
0024d6  d056              BEQ      |L1.9606|
;;;4106   	else 				snmp_trap_send("Avtomat #8 is OFF",11,8,0);
0024d8  2300              MOVS     r3,#0
0024da  2208              MOVS     r2,#8
0024dc  210b              MOVS     r1,#0xb
0024de  a0c0              ADR      r0,|L1.10208|
0024e0  f7fffffe          BL       snmp_trap_send
                  |L1.9444|
;;;4107   	}
;;;4108   if((avt_stat_old[8]!=avt_stat[8])&&(NUMAVT>=9))
0024e4  7a31              LDRB     r1,[r6,#8]  ; avt_stat_old
0024e6  7a28              LDRB     r0,[r5,#8]  ; avt_stat
0024e8  4281              CMP      r1,r0
0024ea  d00e              BEQ      |L1.9482|
0024ec  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
0024f0  2909              CMP      r1,#9
0024f2  db0a              BLT      |L1.9482|
;;;4109   	{
;;;4110   	if(avt_stat[8]==avtON) 	snmp_trap_send("Avtomat #9 is ON ",11,9,1);
0024f4  e001              B        |L1.9466|
                  |L1.9462|
0024f6  e013              B        |L1.9504|
                  |L1.9464|
0024f8  e019              B        |L1.9518|
                  |L1.9466|
0024fa  2801              CMP      r0,#1
0024fc  d04a              BEQ      |L1.9620|
;;;4111   	else 				snmp_trap_send("Avtomat #9 is OFF",11,9,0);
0024fe  2300              MOVS     r3,#0
002500  2209              MOVS     r2,#9
002502  210b              MOVS     r1,#0xb
002504  a0bb              ADR      r0,|L1.10228|
002506  f7fffffe          BL       snmp_trap_send
                  |L1.9482|
;;;4112   	}
;;;4113   
;;;4114   for(i=0;i<12;i++)
00250a  f04f0000          MOV      r0,#0
                  |L1.9486|
;;;4115   	{
;;;4116   	avt_stat_old[i]=avt_stat[i];
00250e  5c29              LDRB     r1,[r5,r0]
002510  5431              STRB     r1,[r6,r0]
002512  f1000001          ADD      r0,r0,#1              ;4114
002516  b2c0              UXTB     r0,r0                 ;4114
002518  280c              CMP      r0,#0xc               ;4114
00251a  d3f8              BCC      |L1.9486|
                  |L1.9500|
;;;4117   	}
;;;4118   }
00251c  bd70              POP      {r4-r6,pc}
                  |L1.9502|
00251e  e00e              B        |L1.9534|
                  |L1.9504|
002520  2301              MOVS     r3,#1                 ;4070
002522  461a              MOV      r2,r3                 ;4070
002524  210b              MOVS     r1,#0xb               ;4070
002526  a0b8              ADR      r0,|L1.10248|
002528  f7fffffe          BL       snmp_trap_send
00252c  e76a              B        |L1.9220|
                  |L1.9518|
00252e  2301              MOVS     r3,#1                 ;4075
002530  2202              MOVS     r2,#2                 ;4075
002532  210b              MOVS     r1,#0xb               ;4075
002534  a0b9              ADR      r0,|L1.10268|
002536  f7fffffe          BL       snmp_trap_send
00253a  e773              B        |L1.9252|
00253c  e006              B        |L1.9548|
                  |L1.9534|
00253e  2301              MOVS     r3,#1                 ;4080
002540  2203              MOVS     r2,#3                 ;4080
002542  210b              MOVS     r1,#0xb               ;4080
002544  a0ba              ADR      r0,|L1.10288|
002546  f7fffffe          BL       snmp_trap_send
00254a  e77b              B        |L1.9284|
                  |L1.9548|
00254c  2301              MOVS     r3,#1                 ;4085
00254e  2204              MOVS     r2,#4                 ;4085
002550  210b              MOVS     r1,#0xb               ;4085
002552  a0bc              ADR      r0,|L1.10308|
002554  f7fffffe          BL       snmp_trap_send
002558  e784              B        |L1.9316|
00255a  e7ff              B        |L1.9564|
                  |L1.9564|
00255c  2301              MOVS     r3,#1                 ;4090
00255e  2205              MOVS     r2,#5                 ;4090
002560  210b              MOVS     r1,#0xb               ;4090
002562  a0bd              ADR      r0,|L1.10328|
002564  f7fffffe          BL       snmp_trap_send
002568  e78c              B        |L1.9348|
                  |L1.9578|
00256a  2301              MOVS     r3,#1                 ;4095
00256c  2206              MOVS     r2,#6                 ;4095
00256e  210b              MOVS     r1,#0xb               ;4095
002570  a0be              ADR      r0,|L1.10348|
002572  f7fffffe          BL       snmp_trap_send
002576  e795              B        |L1.9380|
                  |L1.9592|
002578  2301              MOVS     r3,#1                 ;4100
00257a  2207              MOVS     r2,#7                 ;4100
00257c  210b              MOVS     r1,#0xb               ;4100
00257e  a0c0              ADR      r0,|L1.10368|
002580  f7fffffe          BL       snmp_trap_send
002584  e79e              B        |L1.9412|
                  |L1.9606|
002586  2301              MOVS     r3,#1                 ;4105
002588  2208              MOVS     r2,#8                 ;4105
00258a  210b              MOVS     r1,#0xb               ;4105
00258c  a0c1              ADR      r0,|L1.10388|
00258e  f7fffffe          BL       snmp_trap_send
002592  e7a7              B        |L1.9444|
                  |L1.9620|
002594  2301              MOVS     r3,#1                 ;4110
002596  2209              MOVS     r2,#9                 ;4110
002598  210b              MOVS     r1,#0xb               ;4110
00259a  a0c3              ADR      r0,|L1.10408|
00259c  f7fffffe          BL       snmp_trap_send
0025a0  e7b3              B        |L1.9482|
;;;4119   
                          ENDP

                  bat_hndl PROC
;;;4120   //-----------------------------------------------
;;;4121   void bat_hndl(void)
0025a2  b570              PUSH     {r4-r6,lr}
;;;4122   {
;;;4123   /*if(mess_find(_MESS_BAT_MASK_ON))
;;;4124   	{
;;;4125   	if(mess_data[0]==_MESS_BAT_MASK_ON)
;;;4126   		{
;;;4127   		char i;
;;;4128   		for(i=0;i<2;i++)
;;;4129   			{
;;;4130   			if(mess_data[1]&(1<<i))
;;;4131   				{
;;;4132   				bat[i]._cnt_to_block=0;
;;;4133        			bat[i]._rel_stat=0;
;;;4134        			}
;;;4135   			}
;;;4136   		}
;;;4137   	}
;;;4138   if(mess_find(_MESS_BAT_MASK_OFF))
;;;4139   	{		
;;;4140   	if(mess_data[0]==_MESS_BAT_MASK_OFF)
;;;4141   		{
;;;4142   		char i;
;;;4143   		for(i=0;i<2;i++)
;;;4144   			{
;;;4145   			if((mess_data[1]&(1<<i)) && (bat[i]._cnt_to_block==0) && (bat[i]._rel_stat==0))
;;;4146   				{
;;;4147   				bat[i]._cnt_to_block=20;
;;;4148   				bat[i]._rel_stat=1;
;;;4149        			}
;;;4150   			}
;;;4151   		
;;;4152   		}		
;;;4153   	}*/
;;;4154   
;;;4155   if(mess_find_unvol(MESS2BAT_HNDL))
0025a4  20c8              MOVS     r0,#0xc8
0025a6  f7fffffe          BL       mess_find_unvol
;;;4156   	{ 
;;;4157   	char i;
;;;4158   	
;;;4159   	if(mess_data[0]==PARAM_BAT_ALL_OFF_AFTER_2SEC)
;;;4160   		{
;;;4161   		for(i=0;i<MAX_NUM_OF_BAT;i++)
;;;4162   			{
;;;4163   			if(bat[i]._cnt_to_block<50)bat[i]._cnt_to_block++;
0025aa  49c4              LDR      r1,|L1.10428|
0025ac  2200              MOVS     r2,#0                 ;4161
0025ae  b3a8              CBZ      r0,|L1.9756|
0025b0  4bc3              LDR      r3,|L1.10432|
;;;4164   			}
;;;4165   		}
;;;4166   
;;;4167   	else if(mess_data[0]==PARAM_BAT_MASK_OFF_AFTER_2SEC)
;;;4168   		{
;;;4169   		for(i=0;i<MAX_NUM_OF_BAT;i++)
;;;4170   			{
;;;4171   			if(mess_data[1]&(1<<i))
0025b2  2401              MOVS     r4,#1
0025b4  6818              LDR      r0,[r3,#0]            ;4159  ; mess_data
0025b6  28c9              CMP      r0,#0xc9              ;4159
0025b8  d01c              BEQ      |L1.9716|
0025ba  28ca              CMP      r0,#0xca              ;4167
0025bc  d02f              BEQ      |L1.9758|
;;;4172   				{
;;;4173   				if(bat[i]._cnt_to_block<50) bat[i]._cnt_to_block++;
;;;4174   				}
;;;4175   			else bat[i]._cnt_to_block=0;
;;;4176   			}
;;;4177   		}
;;;4178   	else 
;;;4179   	 	{
;;;4180   		for(i=0;i<MAX_NUM_OF_BAT;i++)
0025be  4610              MOV      r0,r2
                  |L1.9664|
;;;4181   			{
;;;4182   			bat[i]._cnt_to_block=0;
0025c0  eb000340          ADD      r3,r0,r0,LSL #1
0025c4  eb031300          ADD      r3,r3,r0,LSL #4
0025c8  f8012023          STRB     r2,[r1,r3,LSL #2]
0025cc  f1000001          ADD      r0,r0,#1              ;4180
0025d0  b2c0              UXTB     r0,r0                 ;4180
0025d2  2802              CMP      r0,#2                 ;4180
0025d4  d3f4              BCC      |L1.9664|
                  |L1.9686|
;;;4183   			}
;;;4184   
;;;4185   		}
;;;4186   	for(i=0;i<MAX_NUM_OF_BAT;i++)
0025d6  f04f0000          MOV      r0,#0
                  |L1.9690|
;;;4187   		{
;;;4188   		if(bat[i]._cnt_to_block>20)bat[i]._rel_stat=1;
0025da  eb000340          ADD      r3,r0,r0,LSL #1
0025de  eb031300          ADD      r3,r3,r0,LSL #4
0025e2  f8115023          LDRB     r5,[r1,r3,LSL #2]
0025e6  2d14              CMP      r5,#0x14
0025e8  d939              BLS      |L1.9822|
0025ea  eb010383          ADD      r3,r1,r3,LSL #2
0025ee  f883403c          STRB     r4,[r3,#0x3c]
0025f2  e038              B        |L1.9830|
                  |L1.9716|
0025f4  f04f0000          MOV      r0,#0                 ;4161
                  |L1.9720|
0025f8  eb000340          ADD      r3,r0,r0,LSL #1       ;4163
0025fc  eb031500          ADD      r5,r3,r0,LSL #4       ;4163
002600  f8113025          LDRB     r3,[r1,r5,LSL #2]     ;4163
002604  2b32              CMP      r3,#0x32              ;4163
002606  d203              BCS      |L1.9744|
002608  f1030301          ADD      r3,r3,#1              ;4163
00260c  f8013025          STRB     r3,[r1,r5,LSL #2]     ;4163
                  |L1.9744|
002610  f1000001          ADD      r0,r0,#1              ;4161
002614  b2c0              UXTB     r0,r0                 ;4161
002616  2802              CMP      r0,#2                 ;4161
002618  d3ee              BCC      |L1.9720|
00261a  e7dc              B        |L1.9686|
                  |L1.9756|
00261c  e029              B        |L1.9842|
                  |L1.9758|
00261e  f04f0000          MOV      r0,#0                 ;4169
002622  685e              LDR      r6,[r3,#4]            ;4171
                  |L1.9764|
002624  fa04f300          LSL      r3,r4,r0              ;4171
002628  421e              TST      r6,r3                 ;4171
00262a  d00c              BEQ      |L1.9798|
00262c  eb000340          ADD      r3,r0,r0,LSL #1       ;4173
002630  eb031500          ADD      r5,r3,r0,LSL #4       ;4173
002634  f8113025          LDRB     r3,[r1,r5,LSL #2]     ;4173
002638  2b32              CMP      r3,#0x32              ;4173
00263a  d20a              BCS      |L1.9810|
00263c  f1030301          ADD      r3,r3,#1              ;4173
002640  f8013025          STRB     r3,[r1,r5,LSL #2]     ;4173
002644  e005              B        |L1.9810|
                  |L1.9798|
002646  eb000340          ADD      r3,r0,r0,LSL #1       ;4175
00264a  eb031300          ADD      r3,r3,r0,LSL #4       ;4175
00264e  f8012023          STRB     r2,[r1,r3,LSL #2]     ;4175
                  |L1.9810|
002652  f1000001          ADD      r0,r0,#1              ;4169
002656  b2c0              UXTB     r0,r0                 ;4169
002658  2802              CMP      r0,#2                 ;4169
00265a  d3e3              BCC      |L1.9764|
00265c  e7bb              B        |L1.9686|
                  |L1.9822|
;;;4189   		else bat[i]._rel_stat=0;
00265e  eb010383          ADD      r3,r1,r3,LSL #2
002662  f883203c          STRB     r2,[r3,#0x3c]
                  |L1.9830|
002666  f1000001          ADD      r0,r0,#1              ;4186
00266a  b2c0              UXTB     r0,r0                 ;4186
00266c  2802              CMP      r0,#2                 ;4186
00266e  d3b4              BCC      |L1.9690|
;;;4190   		}
;;;4191   
;;;4192   	}
;;;4193   
;;;4194   else 
;;;4195   	{
;;;4196   	char i;
;;;4197   	for(i=0;i<MAX_NUM_OF_BAT;i++)
;;;4198   		{
;;;4199   		bat[i]._cnt_to_block=0;
;;;4200   		bat[i]._rel_stat=0;
;;;4201   		}
;;;4202   
;;;4203   	}
;;;4204   
;;;4205   /*if(mess_find_unvol(MESS2BAT_HNDL1))
;;;4206   	{
;;;4207   	if(PARAM_BAT_ON)
;;;4208   		{
;;;4209   		char i;
;;;4210   		for(i=0;i<MAX_NUM_OF_BAT;i++)
;;;4211   			{
;;;4212   			if(mess_data[1]&(1<<i))
;;;4213   				{
;;;4214   				bat[i]._cnt_to_block=0;
;;;4215   				bat[i]._rel_stat=0;
;;;4216   				}
;;;4217   			}
;;;4218   		}
;;;4219   	} */
;;;4220   }
002670  e754              B        |L1.9500|
                  |L1.9842|
002672  f04f0000          MOV      r0,#0                 ;4197
                  |L1.9846|
002676  eb000340          ADD      r3,r0,r0,LSL #1       ;4199
00267a  eb031300          ADD      r3,r3,r0,LSL #4       ;4199
00267e  f8012023          STRB     r2,[r1,r3,LSL #2]     ;4199
002682  eb010383          ADD      r3,r1,r3,LSL #2       ;4200
002686  f883203c          STRB     r2,[r3,#0x3c]         ;4200
00268a  f1000001          ADD      r0,r0,#1              ;4197
00268e  b2c0              UXTB     r0,r0                 ;4197
002690  2802              CMP      r0,#2                 ;4197
002692  d3f0              BCC      |L1.9846|
002694  e742              B        |L1.9500|
;;;4221   
                          ENDP

                  klimat_hndl PROC
;;;4289   //-----------------------------------------------
;;;4290   void klimat_hndl(void)
002696  e92d41f0          PUSH     {r4-r8,lr}
;;;4291   {
;;;4292   
;;;4293   
;;;4294   if(t_box>TBOXMAX)
00269a  4d8a              LDR      r5,|L1.10436|
00269c  488a              LDR      r0,|L1.10440|
;;;4295   	{
;;;4296   	av_tbox_cnt++;
00269e  4c8b              LDR      r4,|L1.10444|
0026a0  f9b51000          LDRSH    r1,[r5,#0]            ;4294  ; t_box
0026a4  f9b02000          LDRSH    r2,[r0,#0]            ;4294  ; TBOXMAX
0026a8  f9b40000          LDRSH    r0,[r4,#0]
0026ac  4291              CMP      r1,r2                 ;4294
0026ae  dd03              BLE      |L1.9912|
0026b0  f1000001          ADD      r0,r0,#1
0026b4  8020              STRH     r0,[r4,#0]
0026b6  e003              B        |L1.9920|
                  |L1.9912|
;;;4297   	} 
;;;4298   else if(t_box<TBOXMAX)
0026b8  da02              BGE      |L1.9920|
;;;4299   	{
;;;4300   	av_tbox_cnt--;
0026ba  f1a00001          SUB      r0,r0,#1
0026be  8020              STRH     r0,[r4,#0]
                  |L1.9920|
;;;4301   	}
;;;4302   gran(&av_tbox_cnt,0,6);
0026c0  2206              MOVS     r2,#6
0026c2  2100              MOVS     r1,#0
0026c4  4881              LDR      r0,|L1.10444|
0026c6  f7fffffe          BL       gran
;;;4303   
;;;4304   if(av_tbox_cnt>5)
0026ca  f9b40000          LDRSH    r0,[r4,#0]  ; av_tbox_cnt
;;;4305   	{
;;;4306   	av_tbox_stat=atsON;
0026ce  4980              LDR      r1,|L1.10448|
0026d0  2601              MOVS     r6,#1
0026d2  2805              CMP      r0,#5                 ;4304
0026d4  dd00              BLE      |L1.9944|
0026d6  700e              STRB     r6,[r1,#0]
                  |L1.9944|
0026d8  2400              MOVS     r4,#0                 ;4302
;;;4307   	}
;;;4308   if(av_tbox_cnt<1)
0026da  2801              CMP      r0,#1
0026dc  da00              BGE      |L1.9952|
;;;4309   	{
;;;4310   	av_tbox_stat=atsOFF;
0026de  700c              STRB     r4,[r1,#0]
                  |L1.9952|
;;;4311   	}
;;;4312   
;;;4313   if(t_box<(TBOXREG-2))
0026e0  497c              LDR      r1,|L1.10452|
0026e2  f9b50000          LDRSH    r0,[r5,#0]  ; t_box
;;;4314   	{
;;;4315   	if(t_box_cnt<30)
0026e6  4a7c              LDR      r2,|L1.10456|
0026e8  f9b11000          LDRSH    r1,[r1,#0]            ;4313  ; TBOXREG
;;;4316   		{
;;;4317   		t_box_cnt++;
;;;4318   		if(t_box_cnt>=30)
;;;4319   			{
;;;4320   			main_vent_pos--;
0026ec  4f7b              LDR      r7,|L1.10460|
0026ee  1e8b              SUBS     r3,r1,#2              ;4313
0026f0  4298              CMP      r0,r3                 ;4313
0026f2  da0f              BGE      |L1.10004|
0026f4  f9921000          LDRSB    r1,[r2,#0]            ;4315  ; t_box_cnt
0026f8  291e              CMP      r1,#0x1e              ;4315
0026fa  da0a              BGE      |L1.10002|
0026fc  f1010101          ADD      r1,r1,#1              ;4317
002700  b249              SXTB     r1,r1                 ;4317
002702  7011              STRB     r1,[r2,#0]            ;4317
002704  291e              CMP      r1,#0x1e              ;4318
002706  db04              BLT      |L1.10002|
002708  8839              LDRH     r1,[r7,#0]  ; main_vent_pos
00270a  f1a10101          SUB      r1,r1,#1
00270e  8039              STRH     r1,[r7,#0]
;;;4321   			t_box_cnt=0;
002710  7014              STRB     r4,[r2,#0]
                  |L1.10002|
002712  e0e6              B        |L1.10466|
                  |L1.10004|
;;;4322   			}
;;;4323   		}
;;;4324   	}
;;;4325   else if(t_box>(TBOXREG))
002714  4288              CMP      r0,r1
002716  dd0f              BLE      |L1.10040|
;;;4326   	{
;;;4327   	if(t_box_cnt<30)
002718  f9921000          LDRSB    r1,[r2,#0]  ; t_box_cnt
00271c  291e              CMP      r1,#0x1e
00271e  da0a              BGE      |L1.10038|
;;;4328   		{
;;;4329   		t_box_cnt++;
002720  f1010101          ADD      r1,r1,#1
002724  b249              SXTB     r1,r1
002726  7011              STRB     r1,[r2,#0]
;;;4330   		if(t_box_cnt>=30)
002728  291e              CMP      r1,#0x1e
00272a  db04              BLT      |L1.10038|
;;;4331   			{
;;;4332   			main_vent_pos++;
00272c  8839              LDRH     r1,[r7,#0]  ; main_vent_pos
00272e  f1010101          ADD      r1,r1,#1
002732  8039              STRH     r1,[r7,#0]
;;;4333   			t_box_cnt=0;
002734  7014              STRB     r4,[r2,#0]
                  |L1.10038|
002736  e0d4              B        |L1.10466|
                  |L1.10040|
002738  e0d2              B        |L1.10464|
00273a  0000              DCW      0x0000
                  |L1.10044|
                          DCD      net_av
                  |L1.10048|
                          DCD      ||area_number.21||
                  |L1.10052|
                          DCD      eb2_data_short
                  |L1.10056|
                          DCD      avt_stat
                  |L1.10060|
                          DCD      avt_stat_old
                  |L1.10064|
                          DCD      NUMAVT
                  |L1.10068|
002754  4176746f          DCB      "Avtomat #1 is OFF",0
002758  6d617420
00275c  23312069
002760  73204f46
002764  4600    
002766  00                DCB      0
002767  00                DCB      0
                  |L1.10088|
002768  4176746f          DCB      "Avtomat #2 is OFF",0
00276c  6d617420
002770  23322069
002774  73204f46
002778  4600    
00277a  00                DCB      0
00277b  00                DCB      0
                  |L1.10108|
00277c  4176746f          DCB      "Avtomat #3 is OFF",0
002780  6d617420
002784  23332069
002788  73204f46
00278c  4600    
00278e  00                DCB      0
00278f  00                DCB      0
                  |L1.10128|
002790  4176746f          DCB      "Avtomat #4 is OFF",0
002794  6d617420
002798  23342069
00279c  73204f46
0027a0  4600    
0027a2  00                DCB      0
0027a3  00                DCB      0
                  |L1.10148|
0027a4  4176746f          DCB      "Avtomat #5 is OFF",0
0027a8  6d617420
0027ac  23352069
0027b0  73204f46
0027b4  4600    
0027b6  00                DCB      0
0027b7  00                DCB      0
                  |L1.10168|
0027b8  4176746f          DCB      "Avtomat #6 is OFF",0
0027bc  6d617420
0027c0  23362069
0027c4  73204f46
0027c8  4600    
0027ca  00                DCB      0
0027cb  00                DCB      0
                  |L1.10188|
0027cc  4176746f          DCB      "Avtomat #7 is OFF",0
0027d0  6d617420
0027d4  23372069
0027d8  73204f46
0027dc  4600    
0027de  00                DCB      0
0027df  00                DCB      0
                  |L1.10208|
0027e0  4176746f          DCB      "Avtomat #8 is OFF",0
0027e4  6d617420
0027e8  23382069
0027ec  73204f46
0027f0  4600    
0027f2  00                DCB      0
0027f3  00                DCB      0
                  |L1.10228|
0027f4  4176746f          DCB      "Avtomat #9 is OFF",0
0027f8  6d617420
0027fc  23392069
002800  73204f46
002804  4600    
002806  00                DCB      0
002807  00                DCB      0
                  |L1.10248|
002808  4176746f          DCB      "Avtomat #1 is ON ",0
00280c  6d617420
002810  23312069
002814  73204f4e
002818  2000    
00281a  00                DCB      0
00281b  00                DCB      0
                  |L1.10268|
00281c  4176746f          DCB      "Avtomat #2 is ON ",0
002820  6d617420
002824  23322069
002828  73204f4e
00282c  2000    
00282e  00                DCB      0
00282f  00                DCB      0
                  |L1.10288|
002830  4176746f          DCB      "Avtomat #3 is ON ",0
002834  6d617420
002838  23332069
00283c  73204f4e
002840  2000    
002842  00                DCB      0
002843  00                DCB      0
                  |L1.10308|
002844  4176746f          DCB      "Avtomat #4 is ON ",0
002848  6d617420
00284c  23342069
002850  73204f4e
002854  2000    
002856  00                DCB      0
002857  00                DCB      0
                  |L1.10328|
002858  4176746f          DCB      "Avtomat #5 is ON ",0
00285c  6d617420
002860  23352069
002864  73204f4e
002868  2000    
00286a  00                DCB      0
00286b  00                DCB      0
                  |L1.10348|
00286c  4176746f          DCB      "Avtomat #6 is ON ",0
002870  6d617420
002874  23362069
002878  73204f4e
00287c  2000    
00287e  00                DCB      0
00287f  00                DCB      0
                  |L1.10368|
002880  4176746f          DCB      "Avtomat #7 is ON ",0
002884  6d617420
002888  23372069
00288c  73204f4e
002890  2000    
002892  00                DCB      0
002893  00                DCB      0
                  |L1.10388|
002894  4176746f          DCB      "Avtomat #8 is ON ",0
002898  6d617420
00289c  23382069
0028a0  73204f4e
0028a4  2000    
0028a6  00                DCB      0
0028a7  00                DCB      0
                  |L1.10408|
0028a8  4176746f          DCB      "Avtomat #9 is ON ",0
0028ac  6d617420
0028b0  23392069
0028b4  73204f4e
0028b8  2000    
0028ba  00                DCB      0
0028bb  00                DCB      0
                  |L1.10428|
                          DCD      bat
                  |L1.10432|
                          DCD      mess_data
                  |L1.10436|
                          DCD      t_box
                  |L1.10440|
                          DCD      TBOXMAX
                  |L1.10444|
                          DCD      av_tbox_cnt
                  |L1.10448|
                          DCD      av_tbox_stat
                  |L1.10452|
                          DCD      TBOXREG
                  |L1.10456|
                          DCD      t_box_cnt
                  |L1.10460|
                          DCD      main_vent_pos
                  |L1.10464|
;;;4334   			}
;;;4335   		}
;;;4336   	}
;;;4337   else
;;;4338   	{
;;;4339   	t_box_cnt=0;
0028e0  7014              STRB     r4,[r2,#0]
                  |L1.10466|
;;;4340   	}
;;;4341   
;;;4342   #ifndef UKU_KONTUR
;;;4343   if(t_box>TBOXVENTMAX)gran(&main_vent_pos,0,20); 
0028e2  49fe              LDR      r1,|L1.11484|
0028e4  f9b11000          LDRSH    r1,[r1,#0]  ; TBOXVENTMAX
0028e8  4288              CMP      r0,r1
0028ea  dd05              BLE      |L1.10488|
0028ec  2214              MOVS     r2,#0x14
0028ee  2100              MOVS     r1,#0
0028f0  48fb              LDR      r0,|L1.11488|
0028f2  f7fffffe          BL       gran
0028f6  e007              B        |L1.10504|
                  |L1.10488|
;;;4344   else gran(&main_vent_pos,0,pos_vent+9);
0028f8  48fa              LDR      r0,|L1.11492|
0028fa  2100              MOVS     r1,#0
0028fc  8800              LDRH     r0,[r0,#0]  ; pos_vent
0028fe  3009              ADDS     r0,r0,#9
002900  b202              SXTH     r2,r0
002902  48f7              LDR      r0,|L1.11488|
002904  f7fffffe          BL       gran
                  |L1.10504|
;;;4345   
;;;4346   if((mess_find_unvol(MESS2VENT_HNDL))&&(mess_data[0]==PARAM_VENT_CB))
002908  20f0              MOVS     r0,#0xf0
00290a  f7fffffe          BL       mess_find_unvol
00290e  b128              CBZ      r0,|L1.10524|
002910  48f5              LDR      r0,|L1.11496|
002912  6801              LDR      r1,[r0,#0]  ; mess_data
002914  29f1              CMP      r1,#0xf1
002916  d101              BNE      |L1.10524|
;;;4347   	{
;;;4348   	main_vent_pos=mess_data[1];
002918  6840              LDR      r0,[r0,#4]  ; mess_data
00291a  8038              STRH     r0,[r7,#0]
                  |L1.10524|
;;;4349   	}
;;;4350   
;;;4351   
;;;4352   if(main_vent_pos<=1)mixer_vent_stat=mvsON;
00291c  f9b71000          LDRSH    r1,[r7,#0]  ; main_vent_pos
002920  48f2              LDR      r0,|L1.11500|
002922  2901              CMP      r1,#1
002924  dc01              BGT      |L1.10538|
002926  7006              STRB     r6,[r0,#0]
002928  e000              B        |L1.10540|
                  |L1.10538|
;;;4353   else mixer_vent_stat=mvsOFF;
00292a  7004              STRB     r4,[r0,#0]
                  |L1.10540|
;;;4354   #endif
;;;4355   
;;;4356   #ifdef UKU_KONTUR
;;;4357   
;;;4358   if(t_box>TBOXVENTON) t_box_vent_on_cnt++;
;;;4359   else if(t_box<TBOXVENTOFF) t_box_vent_on_cnt--;
;;;4360   gran(&t_box_vent_on_cnt,0,10);
;;;4361   
;;;4362   if(t_box_vent_on_cnt>9) vent_stat_k=vsON;
;;;4363   else if(t_box_vent_on_cnt<1) vent_stat_k=vsOFF;
;;;4364   
;;;4365   if(t_box<TBOXWARMON) t_box_warm_on_cnt++;
;;;4366   else if(t_box>TBOXWARMOFF) t_box_warm_on_cnt--;
;;;4367   gran(&t_box_warm_on_cnt,0,10);
;;;4368   
;;;4369   if(t_box_warm_on_cnt>9) warm_stat_k=wsON;
;;;4370   else if(t_box_warm_on_cnt<1) warm_stat_k=wsOFF;
;;;4371   
;;;4372   #endif
;;;4373   
;;;4374   if((TBATDISABLE>=50) && (TBATDISABLE<=90))
00292c  48f0              LDR      r0,|L1.11504|
;;;4375   	{
;;;4376   	if(t_box>TBATDISABLE)
;;;4377   		{
;;;4378   		tbatdisable_cnt++;
;;;4379   		}
;;;4380   	if(t_box<TBATENABLE)
;;;4381   		{
;;;4382   		tbatdisable_cnt--;
;;;4383   		}
;;;4384   	gran(&tbatdisable_cnt,0,6);
;;;4385   
;;;4386   	if(tbatdisable_cnt>5)
;;;4387   		{
;;;4388   		tbatdisable_stat=tbdsOFF;
00292e  f8df83c4          LDR      r8,|L1.11508|
002932  f9b00000          LDRSH    r0,[r0,#0]            ;4374  ; TBATDISABLE
002936  f1a00132          SUB      r1,r0,#0x32           ;4374
00293a  2928              CMP      r1,#0x28              ;4374
00293c  d821              BHI      |L1.10626|
00293e  f9b51000          LDRSH    r1,[r5,#0]            ;4376  ; t_box
002942  4fed              LDR      r7,|L1.11512|
002944  4281              CMP      r1,r0                 ;4376
002946  dd03              BLE      |L1.10576|
002948  8838              LDRH     r0,[r7,#0]            ;4378  ; tbatdisable_cnt
00294a  f1000001          ADD      r0,r0,#1              ;4378
00294e  8038              STRH     r0,[r7,#0]            ;4378
                  |L1.10576|
002950  48ea              LDR      r0,|L1.11516|
002952  f9b00000          LDRSH    r0,[r0,#0]            ;4380  ; TBATENABLE
002956  4281              CMP      r1,r0                 ;4380
002958  da03              BGE      |L1.10594|
00295a  8838              LDRH     r0,[r7,#0]            ;4382  ; tbatdisable_cnt
00295c  f1a00001          SUB      r0,r0,#1              ;4382
002960  8038              STRH     r0,[r7,#0]            ;4382
                  |L1.10594|
002962  2206              MOVS     r2,#6                 ;4384
002964  2100              MOVS     r1,#0                 ;4384
002966  48e4              LDR      r0,|L1.11512|
002968  f7fffffe          BL       gran
00296c  f9b70000          LDRSH    r0,[r7,#0]            ;4386  ; tbatdisable_cnt
002970  2805              CMP      r0,#5                 ;4386
002972  dd01              BLE      |L1.10616|
002974  f8886000          STRB     r6,[r8,#0]
                  |L1.10616|
;;;4389   		}
;;;4390   	if(tbatdisable_cnt<1)
002978  2801              CMP      r0,#1
00297a  da04              BGE      |L1.10630|
;;;4391   		{
;;;4392   		tbatdisable_stat=tbdsON;
00297c  f8884000          STRB     r4,[r8,#0]
002980  e001              B        |L1.10630|
                  |L1.10626|
;;;4393   		}
;;;4394   	}
;;;4395   else 
;;;4396   	{
;;;4397   	tbatdisable_stat=tbdsON;
002982  f8884000          STRB     r4,[r8,#0]
                  |L1.10630|
;;;4398   	}
;;;4399   
;;;4400   if((TLOADDISABLE>=50) && (TLOADDISABLE<=80))
002986  48de              LDR      r0,|L1.11520|
;;;4401   	{
;;;4402   	if(t_box>TLOADDISABLE)
;;;4403   		{
;;;4404   		tloaddisable_cnt++;
;;;4405   		}
;;;4406   	if(t_box<TLOADENABLE)
;;;4407   		{
;;;4408   		tloaddisable_cnt--;
;;;4409   		}
;;;4410   	gran(&tloaddisable_cnt,0,6);
;;;4411   
;;;4412   	if(tloaddisable_cnt>5)
;;;4413   		{
;;;4414   		tloaddisable_stat=tldsOFF;
002988  4fde              LDR      r7,|L1.11524|
00298a  f9b00000          LDRSH    r0,[r0,#0]            ;4400  ; TLOADDISABLE
00298e  f1a00132          SUB      r1,r0,#0x32           ;4400
002992  291e              CMP      r1,#0x1e              ;4400
002994  d81f              BHI      |L1.10710|
002996  f9b51000          LDRSH    r1,[r5,#0]            ;4402  ; t_box
00299a  4ddb              LDR      r5,|L1.11528|
00299c  4281              CMP      r1,r0                 ;4402
00299e  dd03              BLE      |L1.10664|
0029a0  8828              LDRH     r0,[r5,#0]            ;4404  ; tloaddisable_cnt
0029a2  f1000001          ADD      r0,r0,#1              ;4404
0029a6  8028              STRH     r0,[r5,#0]            ;4404
                  |L1.10664|
0029a8  48d8              LDR      r0,|L1.11532|
0029aa  f9b00000          LDRSH    r0,[r0,#0]            ;4406  ; TLOADENABLE
0029ae  4281              CMP      r1,r0                 ;4406
0029b0  da03              BGE      |L1.10682|
0029b2  8828              LDRH     r0,[r5,#0]            ;4408  ; tloaddisable_cnt
0029b4  f1a00001          SUB      r0,r0,#1              ;4408
0029b8  8028              STRH     r0,[r5,#0]            ;4408
                  |L1.10682|
0029ba  2206              MOVS     r2,#6                 ;4410
0029bc  2100              MOVS     r1,#0                 ;4410
0029be  48d2              LDR      r0,|L1.11528|
0029c0  f7fffffe          BL       gran
0029c4  f9b50000          LDRSH    r0,[r5,#0]            ;4412  ; tloaddisable_cnt
0029c8  2805              CMP      r0,#5                 ;4412
0029ca  dd00              BLE      |L1.10702|
0029cc  703e              STRB     r6,[r7,#0]
                  |L1.10702|
;;;4415   		}
;;;4416   	if(tloaddisable_cnt<1)
0029ce  2801              CMP      r0,#1
0029d0  da00              BGE      |L1.10708|
;;;4417   		{
;;;4418   		tloaddisable_stat=tldsON;
0029d2  703c              STRB     r4,[r7,#0]
                  |L1.10708|
;;;4419   		}
;;;4420   	}
;;;4421   else 
;;;4422   	{
;;;4423   	tloaddisable_stat=tldsON;
;;;4424   	}
;;;4425   
;;;4426   }
0029d4  e4ed              B        |L1.9138|
                  |L1.10710|
0029d6  703c              STRB     r4,[r7,#0]            ;4423
0029d8  e4eb              B        |L1.9138|
;;;4427   #endif
                          ENDP

                  bat_drv PROC
;;;4563   //-----------------------------------------------
;;;4564   void bat_drv(char in)
0029da  e92d5ffc          PUSH     {r2-r12,lr}
;;;4565   {
0029de  4605              MOV      r5,r0
;;;4566   unsigned short /*tempUS,*/tempUS_;
;;;4567   unsigned long tempUL,tempUL_;
;;;4568   unsigned short b_zar;
;;;4569   //static unsigned short time_cnt[2];
;;;4570   
;;;4571   
;;;4572   
;;;4573   if(cntrl_stat_blok_cnt_plus[in])cntrl_stat_blok_cnt_plus[in]--;
0029e0  49cb              LDR      r1,|L1.11536|
0029e2  f9310015          LDRSH    r0,[r1,r5,LSL #1]
0029e6  b118              CBZ      r0,|L1.10736|
0029e8  f1a00001          SUB      r0,r0,#1
0029ec  f8210015          STRH     r0,[r1,r5,LSL #1]
                  |L1.10736|
;;;4574   if(cntrl_stat_blok_cnt_minus[in])cntrl_stat_blok_cnt_minus[in]--;
0029f0  4ac7              LDR      r2,|L1.11536|
0029f2  1d12              ADDS     r2,r2,#4
0029f4  f9320015          LDRSH    r0,[r2,r5,LSL #1]
0029f8  b118              CBZ      r0,|L1.10754|
0029fa  f1a00001          SUB      r0,r0,#1
0029fe  f8220015          STRH     r0,[r2,r5,LSL #1]
                  |L1.10754|
;;;4575   
;;;4576   
;;;4577   if(bat[in]._Ib>IZMAX) cntrl_stat_blok_cnt_plus[in]=100;
002a02  eb050045          ADD      r0,r5,r5,LSL #1
002a06  eb001305          ADD      r3,r0,r5,LSL #4
002a0a  48c2              LDR      r0,|L1.11540|
002a0c  f04f0b64          MOV      r11,#0x64
002a10  eb000483          ADD      r4,r0,r3,LSL #2
002a14  4bc0              LDR      r3,|L1.11544|
002a16  f9b40008          LDRSH    r0,[r4,#8]
002a1a  f9b33000          LDRSH    r3,[r3,#0]  ; IZMAX
002a1e  4298              CMP      r0,r3
002a20  dd01              BLE      |L1.10790|
002a22  f821b015          STRH     r11,[r1,r5,LSL #1]
                  |L1.10790|
;;;4578   if(bat[in]._Ib<0)     cntrl_stat_blok_cnt_minus[in]=100;
002a26  2800              CMP      r0,#0
002a28  da01              BGE      |L1.10798|
002a2a  f822b015          STRH     r11,[r2,r5,LSL #1]
                  |L1.10798|
;;;4579   
;;;4580   if(cntrl_stat_blok_cnt_plus[in] && cntrl_stat_blok_cnt_minus[in])
;;;4581        {
;;;4582        if(!cntrl_stat_blok_cnt_)
002a2e  48b8              LDR      r0,|L1.11536|
002a30  f8313015          LDRH     r3,[r1,r5,LSL #1]     ;4580
002a34  387c              SUBS     r0,r0,#0x7c
002a36  2700              MOVS     r7,#0
002a38  b14b              CBZ      r3,|L1.10830|
002a3a  f8323015          LDRH     r3,[r2,r5,LSL #1]     ;4580
002a3e  b133              CBZ      r3,|L1.10830|
002a40  f8b0305c          LDRH     r3,[r0,#0x5c]  ; cntrl_stat_blok_cnt_
002a44  b1a3              CBZ      r3,|L1.10864|
;;;4583             {
;;;4584             cntrl_stat_blok_cnt_=600; 
;;;4585             cntrl_stat_blok_cnt_plus[in]=0;
;;;4586             cntrl_stat_blok_cnt_minus[in]=0;
;;;4587             }
;;;4588        else cntrl_stat_blok_cnt=3000;
002a46  f64031b8          MOV      r1,#0xbb8
002a4a  f8a0105a          STRH     r1,[r0,#0x5a]
                  |L1.10830|
;;;4589        }
;;;4590   cntrl_stat_blok_cnt=0;
002a4e  f8a0705a          STRH     r7,[r0,#0x5a]
;;;4591   
;;;4592   if(++(bat[in]._time_cnt)>=10)
002a52  f894003e          LDRB     r0,[r4,#0x3e]
002a56  1c40              ADDS     r0,r0,#1
002a58  b2c0              UXTB     r0,r0
002a5a  f884003e          STRB     r0,[r4,#0x3e]
002a5e  280a              CMP      r0,#0xa
002a60  d301              BCC      |L1.10854|
;;;4593   	{
;;;4594   	bat[in]._time_cnt=0;
002a62  f884703e          STRB     r7,[r4,#0x3e]
                  |L1.10854|
;;;4595   	//bat[in]._zar_cnt++;
;;;4596   	}
;;;4597   
;;;4598   if(main_10Hz_cnt==50)
002a66  4ead              LDR      r6,|L1.11548|
002a68  8830              LDRH     r0,[r6,#0]  ; main_10Hz_cnt
002a6a  2832              CMP      r0,#0x32
002a6c  d009              BEQ      |L1.10882|
002a6e  e017              B        |L1.10912|
                  |L1.10864|
002a70  f44f7316          MOV      r3,#0x258             ;4584
002a74  f8a0305c          STRH     r3,[r0,#0x5c]         ;4584
002a78  f8217015          STRH     r7,[r1,r5,LSL #1]     ;4585
002a7c  f8227015          STRH     r7,[r2,r5,LSL #1]     ;4586
002a80  e7e5              B        |L1.10830|
                  |L1.10882|
;;;4599   	{
;;;4600   	if(!bat[in]._rel_stat)
002a82  f894003c          LDRB     r0,[r4,#0x3c]
002a86  b958              CBNZ     r0,|L1.10912|
;;;4601   		{
;;;4602   		
;;;4603   		if(bat[in]._Ub<80) 
002a88  f9b40002          LDRSH    r0,[r4,#2]
002a8c  2850              CMP      r0,#0x50
002a8e  da07              BGE      |L1.10912|
;;;4604   			{
;;;4605   			
;;;4606   			if(!(bat[in]._av&1))
002a90  f894003d          LDRB     r0,[r4,#0x3d]
002a94  07c0              LSLS     r0,r0,#31
002a96  d103              BNE      |L1.10912|
;;;4607   				{
;;;4608   				avar_bat_hndl(in,1);
002a98  2101              MOVS     r1,#1
002a9a  4628              MOV      r0,r5
002a9c  f7fffffe          BL       avar_bat_hndl
                  |L1.10912|
;;;4609   				//if(in==0)plazma_bat++;
;;;4610   				}
;;;4611   			}				
;;;4612   
;;;4613   		}
;;;4614   	}
;;;4615   
;;;4616   if(main_10Hz_cnt>200)
002aa0  f9b60000          LDRSH    r0,[r6,#0]  ; main_10Hz_cnt
;;;4617   	{
;;;4618   	if(abs(bat[in]._Ib)>IKB) 
002aa4  4e9e              LDR      r6,|L1.11552|
002aa6  28c8              CMP      r0,#0xc8              ;4616
002aa8  dd0f              BLE      |L1.10954|
002aaa  f9b40008          LDRSH    r0,[r4,#8]
002aae  f7fffffe          BL       abs
002ab2  f9b61000          LDRSH    r1,[r6,#0]  ; IKB
002ab6  4288              CMP      r0,r1
002ab8  dd07              BLE      |L1.10954|
;;;4619   		{
;;;4620   		if((bat[in]._av&1))avar_bat_hndl(in,0);
002aba  f894003d          LDRB     r0,[r4,#0x3d]
002abe  07c0              LSLS     r0,r0,#31
002ac0  d003              BEQ      |L1.10954|
002ac2  2100              MOVS     r1,#0
002ac4  4628              MOV      r0,r5
002ac6  f7fffffe          BL       avar_bat_hndl
                  |L1.10954|
;;;4621   		}
;;;4622   	}
;;;4623   
;;;4624   
;;;4625   
;;;4626   if(bat[in]._Ib>(-IKB))
002aca  4895              LDR      r0,|L1.11552|
002acc  f9b41008          LDRSH    r1,[r4,#8]
002ad0  f9b00000          LDRSH    r0,[r0,#0]  ; IKB
002ad4  4240              RSBS     r0,r0,#0
002ad6  4281              CMP      r1,r0
002ad8  dd14              BLE      |L1.11012|
;;;4627   	{
;;;4628   	if(bat[in]._cnt_wrk<10)
002ada  7b60              LDRB     r0,[r4,#0xd]
002adc  280a              CMP      r0,#0xa
002ade  d20d              BCS      |L1.11004|
;;;4629   		{
;;;4630   		bat[in]._cnt_wrk++;
002ae0  f1000001          ADD      r0,r0,#1
002ae4  b2c0              UXTB     r0,r0
002ae6  7360              STRB     r0,[r4,#0xd]
;;;4631   		if((bat[in]._cnt_wrk>=10)&&(bat[in]._wrk)) 
002ae8  280a              CMP      r0,#0xa
002aea  d371              BCC      |L1.11216|
002aec  7ba0              LDRB     r0,[r4,#0xe]
002aee  2800              CMP      r0,#0
002af0  d06e              BEQ      |L1.11216|
;;;4632   			{
;;;4633   			bat[in]._wrk=0;
002af2  73a7              STRB     r7,[r4,#0xe]
;;;4634   			//beep_init(0x7L,'O');
;;;4635   			//wrk_mem_hndl(0);
;;;4636   			wrk_mem_hndl(in);
002af4  4628              MOV      r0,r5
002af6  f7fffffe          BL       wrk_mem_hndl
002afa  e069              B        |L1.11216|
                  |L1.11004|
;;;4637   			//plazma++;
;;;4638   			}
;;;4639   		}
;;;4640   	else bat[in]._cnt_wrk=10;	
002afc  f04f000a          MOV      r0,#0xa
002b00  7360              STRB     r0,[r4,#0xd]
002b02  e065              B        |L1.11216|
                  |L1.11012|
;;;4641   	}	
;;;4642   
;;;4643   else if(bat[in]._Ib<(-IKB))
002b04  da64              BGE      |L1.11216|
;;;4644   	{
;;;4645   	if(bat[in]._cnt_wrk)
002b06  7b60              LDRB     r0,[r4,#0xd]
002b08  b3f0              CBZ      r0,|L1.11144|
;;;4646   		{
;;;4647   		bat[in]._cnt_wrk--;
002b0a  f1a00001          SUB      r0,r0,#1
002b0e  b2c0              UXTB     r0,r0
002b10  7360              STRB     r0,[r4,#0xd]
;;;4648   		if((bat[in]._cnt_wrk==0)&&(bat[in]._wrk==0)) 
002b12  bbc8              CBNZ     r0,|L1.11144|
002b14  7ba0              LDRB     r0,[r4,#0xe]
002b16  bbb8              CBNZ     r0,|L1.11144|
;;;4649   			{
;;;4650   			bat[in]._wrk=1;
002b18  f04f0001          MOV      r0,#1
002b1c  73a0              STRB     r0,[r4,#0xe]
;;;4651   
;;;4652   				{
;;;4653   				char temp;
;;;4654   				signed short temp_temp;
;;;4655   				temp_temp=bat[in]._u_old[((bat_u_old_cnt+1)&0x07)];
002b1e  4881              LDR      r0,|L1.11556|
002b20  8800              LDRH     r0,[r0,#0]  ; bat_u_old_cnt
002b22  f1000001          ADD      r0,r0,#1
002b26  f0000007          AND      r0,r0,#7
002b2a  eb040040          ADD      r0,r4,r0,LSL #1
002b2e  8c00              LDRH     r0,[r0,#0x20]
002b30  9000              STR      r0,[sp,#0]
;;;4656   			 
;;;4657   				temp=LPC_RTC->YEAR;
002b32  4e7d              LDR      r6,|L1.11560|
002b34  8bb0              LDRH     r0,[r6,#0x1c]
002b36  9001              STR      r0,[sp,#4]
;;;4658   				gran_char((signed char*)&temp,1,99);
002b38  f04f0263          MOV      r2,#0x63
002b3c  f04f0101          MOV      r1,#1
002b40  a801              ADD      r0,sp,#4
002b42  f7fffffe          BL       gran_char
;;;4659   				*((char*)(&(bat[in]._wrk_date[0])))=temp;
002b46  f104041c          ADD      r4,r4,#0x1c
002b4a  f89d0004          LDRB     r0,[sp,#4]
002b4e  7620              STRB     r0,[r4,#0x18]
;;;4660   			
;;;4661   				temp=LPC_RTC->MONTH;
002b50  7e30              LDRB     r0,[r6,#0x18]
002b52  9001              STR      r0,[sp,#4]
;;;4662   				gran_char((signed char*)&temp,1,12);
002b54  f04f020c          MOV      r2,#0xc
002b58  f04f0101          MOV      r1,#1
002b5c  a801              ADD      r0,sp,#4
002b5e  f7fffffe          BL       gran_char
;;;4663   				*(((char*)(&(bat[in]._wrk_date[0])))+1)=temp;
002b62  f89d0004          LDRB     r0,[sp,#4]
002b66  7660              STRB     r0,[r4,#0x19]
;;;4664   			
;;;4665   				temp=LPC_RTC->DOM;
002b68  7b30              LDRB     r0,[r6,#0xc]
002b6a  9001              STR      r0,[sp,#4]
;;;4666   				gran_char((signed char*)&temp,1,31);
002b6c  221f              MOVS     r2,#0x1f
002b6e  2101              MOVS     r1,#1
002b70  a801              ADD      r0,sp,#4
002b72  f7fffffe          BL       gran_char
;;;4667   				*(((char*)(&(bat[in]._wrk_date[0])))+2)=temp;			
002b76  f89d0004          LDRB     r0,[sp,#4]
002b7a  76a0              STRB     r0,[r4,#0x1a]
;;;4668   				
;;;4669   				*(((char*)(&(bat[in]._wrk_date[0])))+3)=*((char*)&temp_temp);
002b7c  f89d0000          LDRB     r0,[sp,#0]
002b80  76e0              STRB     r0,[r4,#0x1b]
;;;4670   
;;;4671   				temp=LPC_RTC->HOUR;
002b82  7a30              LDRB     r0,[r6,#8]
002b84  9001              STR      r0,[sp,#4]
;;;4672   				gran_char((signed char*)&temp,0,23);
002b86  e000              B        |L1.11146|
                  |L1.11144|
002b88  e022              B        |L1.11216|
                  |L1.11146|
002b8a  2217              MOVS     r2,#0x17
002b8c  2100              MOVS     r1,#0
002b8e  a801              ADD      r0,sp,#4
002b90  f7fffffe          BL       gran_char
;;;4673   				*((char*)(&(bat[in]._wrk_date[1])))=temp;
002b94  f89d0004          LDRB     r0,[sp,#4]
002b98  7720              STRB     r0,[r4,#0x1c]
;;;4674                  	
;;;4675   				temp=LPC_RTC->MIN;
002b9a  7930              LDRB     r0,[r6,#4]
002b9c  9001              STR      r0,[sp,#4]
;;;4676   				gran_char((signed char*)&temp,0,59);
002b9e  223b              MOVS     r2,#0x3b
002ba0  2100              MOVS     r1,#0
002ba2  a801              ADD      r0,sp,#4
002ba4  f7fffffe          BL       gran_char
;;;4677   				*(((char*)(&(bat[in]._wrk_date[1])))+1)=temp;
002ba8  f89d0004          LDRB     r0,[sp,#4]
002bac  7760              STRB     r0,[r4,#0x1d]
;;;4678   	          
;;;4679   				temp=LPC_RTC->SEC;
002bae  7830              LDRB     r0,[r6,#0]
002bb0  9001              STR      r0,[sp,#4]
;;;4680   				gran_char((signed char*)&temp,0,59);
002bb2  223b              MOVS     r2,#0x3b
002bb4  2100              MOVS     r1,#0
002bb6  a801              ADD      r0,sp,#4
002bb8  f7fffffe          BL       gran_char
;;;4681   				*(((char*)(&(bat[in]._wrk_date[1])))+2)=temp;
002bbc  f89d0004          LDRB     r0,[sp,#4]
002bc0  77a0              STRB     r0,[r4,#0x1e]
;;;4682   			
;;;4683   				*(((char*)(&(bat[in]._wrk_date[1])))+3)=*(((char*)&temp_temp)+1);
002bc2  f89d0001          LDRB     r0,[sp,#1]
002bc6  77e0              STRB     r0,[r4,#0x1f]
;;;4684   				bat[in]._Iintegr=0;		//  
002bc8  8027              STRH     r7,[r4,#0]
;;;4685   				bat[in]._Iintegr_=0;	//  
002bca  8067              STRH     r7,[r4,#2]
002bcc  f1a4041c          SUB      r4,r4,#0x1c
                  |L1.11216|
;;;4686   				}
;;;4687   	
;;;4688   			}
;;;4689   
;;;4690   		}
;;;4691   	else bat[in]._cnt_wrk=0;	 
;;;4692   	
;;;4693   	}					
;;;4694   
;;;4695   /*
;;;4696   if(Ibat>=(-IKB))
;;;4697   	{
;;;4698   	if(cnt_wrk<10)
;;;4699   		{
;;;4700   		cnt_wrk++;
;;;4701   		if((cnt_wrk>=10)&&(wrk!=wrkOFF)) 
;;;4702   			{
;;;4703   			wrk=wrkOFF;
;;;4704   			//beep_init(0x7L,'O');
;;;4705   			wrk_mem_hndl(ibat_integr);
;;;4706   			}
;;;4707   		}
;;;4708   	else cnt_wrk=10;	
;;;4709   	}	
;;;4710   
;;;4711   else if((Ibat<(-IKB))&&(spc_stat!=spc_KE))
;;;4712   	{
;;;4713   	if(cnt_wrk)
;;;4714   		{
;;;4715   		cnt_wrk--;
;;;4716   		if((cnt_wrk==0)&&(wrk!=wrkON)) 
;;;4717   			{
;;;4718   			char temp;
;;;4719   			signed short temp_temp;
;;;4720   			temp_temp=ubat_old[((ubat_old_cnt+1)&0x07)];
;;;4721   			 
;;;4722   			wrk=wrkON;
;;;4723   			
;;;4724   			temp=_year;
;;;4725   			gran_char(&temp,1,99);
;;;4726   			*((char*)(&(wrk_date[0])))=temp;
;;;4727   			
;;;4728   			temp=_month;
;;;4729   			gran_char(&temp,1,12);
;;;4730   			*(((char*)(&(wrk_date[0])))+1)=temp;
;;;4731   			
;;;4732   			temp=_date;
;;;4733   			gran_char(&temp,1,31);
;;;4734   			*(((char*)(&(wrk_date[0])))+2)=temp;			
;;;4735   				
;;;4736   			*(((char*)(&(wrk_date[0])))+3)=*((char*)&temp_temp);
;;;4737   
;;;4738   			temp=_hour;
;;;4739   			gran_char(&temp,0,23);
;;;4740   			*((char*)(&(wrk_date[1])))=temp;
;;;4741                  
;;;4742   			temp=_min;
;;;4743   			gran_char(&temp,0,59);
;;;4744   			*(((char*)(&(wrk_date[1])))+1)=temp;
;;;4745   	          
;;;4746   			temp=_sec;
;;;4747   			gran_char(&temp,0,59);
;;;4748   			*(((char*)(&(wrk_date[1])))+2)=temp;
;;;4749   			
;;;4750   			*(((char*)(&(wrk_date[1])))+3)=*(((char*)&temp_temp)+1);
;;;4751   
;;;4752   			
;;;4753   			//beep_init(0xFL,'O'); 
;;;4754   			ibat_integr=0;
;;;4755   			ibat_integr_=0;
;;;4756   			}
;;;4757   		}
;;;4758   	else cnt_wrk=0;	 
;;;4759   	
;;;4760   	}
;;;4761   if(wrk==wrkON)
;;;4762   	{
;;;4763   	ibat_integr_+=-Ibat;
;;;4764   	if(ibat_integr_>=SEC_IN_HOUR*10L)
;;;4765   		{
;;;4766   		ibat_integr_-=SEC_IN_HOUR*10L;
;;;4767   		ibat_integr++;
;;;4768   		}
;;;4769   	}
;;;4770   
;;;4771   */
;;;4772   
;;;4773   
;;;4774   /*if(bat[in]._cnt_to_block)
;;;4775   	{
;;;4776   	bat[in]._cnt_to_block--;
;;;4777   	if(!(bat[in]._cnt_to_block))
;;;4778   		{
;;;4779   		//bat[in]._rel_stat=1;
;;;4780   		}
;;;4781   	}
;;;4782   */
;;;4783   
;;;4784   
;;;4785   
;;;4786   
;;;4787   //unsigned int tempUI,tempUI_;
;;;4788   //unsigned int b_zar; 
;;;4789   //char i;
;;;4790   //Ibat[0]=5000;                     
;;;4791   
;;;4792   
;;;4793                               
;;;4794   if(bat[in]._time_cnt==0)
;;;4795   	{
;;;4796   	bat[in]._zar_cnt+=(signed long)bat[in]._Ib;
;;;4797   	
;;;4798   	if(bat[in]._zar_cnt>=AH_CONSTANT)
002bd0  f64848a0          MOV      r8,#0x8ca0
002bd4  f894003e          LDRB     r0,[r4,#0x3e]         ;4794
002bd8  2800              CMP      r0,#0                 ;4794
002bda  d17e              BNE      |L1.11482|
002bdc  f9b41008          LDRSH    r1,[r4,#8]            ;4796
002be0  6960              LDR      r0,[r4,#0x14]         ;4796
002be2  4408              ADD      r0,r0,r1              ;4796
002be4  6160              STR      r0,[r4,#0x14]         ;4796
;;;4799   		{
;;;4800   		if(BAT_C_REAL[in]==0x5555) tempUS_=BAT_C_NOM[in];
;;;4801   		else tempUS_=BAT_C_REAL[in];
;;;4802   		
;;;4803   		b_zar=lc640_read_int(ADR_EE_BAT_ZAR_CNT[in]);
002be6  f8df9144          LDR      r9,|L1.11564|
002bea  f8dfa144          LDR      r10,|L1.11568|
002bee  4540              CMP      r0,r8                 ;4798
002bf0  db2a              BLT      |L1.11336|
002bf2  f93a1015          LDRSH    r1,[r10,r5,LSL #1]    ;4800
002bf6  f5a140aa          SUB      r0,r1,#0x5500         ;4800
002bfa  3855              SUBS     r0,r0,#0x55           ;4800
002bfc  d103              BNE      |L1.11270|
002bfe  484d              LDR      r0,|L1.11572|
002c00  f8306015          LDRH     r6,[r0,r5,LSL #1]     ;4800
002c04  e001              B        |L1.11274|
                  |L1.11270|
002c06  f83a6015          LDRH     r6,[r10,r5,LSL #1]    ;4801
                  |L1.11274|
002c0a  f8390015          LDRH     r0,[r9,r5,LSL #1]
002c0e  f7fffffe          BL       lc640_read_int
002c12  b280              UXTH     r0,r0
;;;4804   
;;;4805   		if(b_zar<(tempUS_/**10*/))
002c14  42b0              CMP      r0,r6
002c16  d20e              BCS      |L1.11318|
;;;4806   			{
;;;4807   			bat[in]._zar_cnt-=AH_CONSTANT;
002c18  6961              LDR      r1,[r4,#0x14]
002c1a  f5a14100          SUB      r1,r1,#0x8000
002c1e  f5a1614a          SUB      r1,r1,#0xca0
002c22  6161              STR      r1,[r4,#0x14]
;;;4808   
;;;4809   			lc640_write_int(ADR_EE_BAT_ZAR_CNT[in],b_zar+1);
002c24  f9392015          LDRSH    r2,[r9,r5,LSL #1]
002c28  f1000001          ADD      r0,r0,#1
002c2c  b201              SXTH     r1,r0
002c2e  4610              MOV      r0,r2
002c30  f7fffffe          BL       lc640_write_int
002c34  e033              B        |L1.11422|
                  |L1.11318|
;;;4810   			}
;;;4811   		else if(b_zar>(tempUS_/**10*/))  
002c36  d932              BLS      |L1.11422|
;;;4812   			{
;;;4813   			lc640_write_int(ADR_EE_BAT_ZAR_CNT[in],tempUS_);
002c38  f9390015          LDRSH    r0,[r9,r5,LSL #1]
002c3c  b231              SXTH     r1,r6
002c3e  f7fffffe          BL       lc640_write_int
;;;4814   			bat[in]._zar_cnt=AH_CONSTANT;
002c42  f8c48014          STR      r8,[r4,#0x14]
002c46  e02a              B        |L1.11422|
                  |L1.11336|
;;;4815   
;;;4816   			}
;;;4817   
;;;4818   		}
;;;4819   
;;;4820   	else if(bat[in]._zar_cnt<=-AH_CONSTANT)
002c48  493b              LDR      r1,|L1.11576|
002c4a  4288              CMP      r0,r1
002c4c  dc27              BGT      |L1.11422|
;;;4821   		{
;;;4822   		if(BAT_C_REAL[in]==0x5555) tempUS_=BAT_C_NOM[in];
002c4e  f93a1015          LDRSH    r1,[r10,r5,LSL #1]
002c52  f5a140aa          SUB      r0,r1,#0x5500
002c56  3855              SUBS     r0,r0,#0x55
002c58  d103              BNE      |L1.11362|
002c5a  4836              LDR      r0,|L1.11572|
002c5c  f8306015          LDRH     r6,[r0,r5,LSL #1]
002c60  e001              B        |L1.11366|
                  |L1.11362|
;;;4823   		else tempUS_=BAT_C_REAL[in];
002c62  f83a6015          LDRH     r6,[r10,r5,LSL #1]
                  |L1.11366|
;;;4824   		
;;;4825   		b_zar=lc640_read_int(ADR_EE_BAT_ZAR_CNT[in]);
002c66  f8390015          LDRH     r0,[r9,r5,LSL #1]
002c6a  f7fffffe          BL       lc640_read_int
002c6e  b280              UXTH     r0,r0
;;;4826   
;;;4827   		if(b_zar>tempUS_)
002c70  42b0              CMP      r0,r6
002c72  d905              BLS      |L1.11392|
;;;4828   			{
;;;4829   			lc640_write_int(ADR_EE_BAT_ZAR_CNT[in],tempUS_);
002c74  f9390015          LDRSH    r0,[r9,r5,LSL #1]
002c78  b231              SXTH     r1,r6
002c7a  f7fffffe          BL       lc640_write_int
;;;4830   			b_zar=tempUS_;
002c7e  4630              MOV      r0,r6
                  |L1.11392|
;;;4831   			}
;;;4832   		if(b_zar)
002c80  b158              CBZ      r0,|L1.11418|
;;;4833   			{
;;;4834   			bat[in]._zar_cnt+=AH_CONSTANT;
002c82  6961              LDR      r1,[r4,#0x14]
002c84  4441              ADD      r1,r1,r8
002c86  6161              STR      r1,[r4,#0x14]
;;;4835   
;;;4836   			lc640_write_int(ADR_EE_BAT_ZAR_CNT[in],b_zar-1);
002c88  f9392015          LDRSH    r2,[r9,r5,LSL #1]
002c8c  f1a00001          SUB      r0,r0,#1
002c90  b201              SXTH     r1,r0
002c92  4610              MOV      r0,r2
002c94  f7fffffe          BL       lc640_write_int
002c98  e001              B        |L1.11422|
                  |L1.11418|
;;;4837   			}
;;;4838   		else 
;;;4839   			{
;;;4840   			bat[in]._zar_cnt=-AH_CONSTANT;
002c9a  4827              LDR      r0,|L1.11576|
002c9c  6160              STR      r0,[r4,#0x14]
                  |L1.11422|
;;;4841   			}
;;;4842   
;;;4843   		}
;;;4844   
;;;4845   			
;;;4846   	tempUL=(unsigned long)lc640_read_int(ADR_EE_BAT_ZAR_CNT[in]);
002c9e  f8390015          LDRH     r0,[r9,r5,LSL #1]
002ca2  f7fffffe          BL       lc640_read_int
002ca6  4601              MOV      r1,r0
;;;4847   	
;;;4848   	if(BAT_C_REAL[in]==0x5555) tempUL_=(unsigned long)BAT_C_NOM[in];
002ca8  f93a0015          LDRSH    r0,[r10,r5,LSL #1]
002cac  f5a042aa          SUB      r2,r0,#0x5500
002cb0  3a55              SUBS     r2,r2,#0x55
002cb2  d102              BNE      |L1.11450|
002cb4  481f              LDR      r0,|L1.11572|
002cb6  f9300015          LDRSH    r0,[r0,r5,LSL #1]
                  |L1.11450|
;;;4849   	else tempUL_=(unsigned long)BAT_C_REAL[in];
;;;4850   		           	
;;;4851   	tempUL*=1000L;
002cba  f44f727a          MOV      r2,#0x3e8
002cbe  fb01f102          MUL      r1,r1,r2
;;;4852   
;;;4853   
;;;4854   	if(tempUL_==0) tempUL=0;
002cc2  b3e8              CBZ      r0,|L1.11584|
;;;4855   	else tempUL/=tempUL_;
002cc4  fbb1f0f0          UDIV     r0,r1,r0
                  |L1.11464|
;;;4856   
;;;4857   	tempUL/=10L;
002cc8  f04f010a          MOV      r1,#0xa
002ccc  fbb0f0f1          UDIV     r0,r0,r1
;;;4858   
;;;4859   	bat[in]._zar=(unsigned short)tempUL;
002cd0  8220              STRH     r0,[r4,#0x10]
;;;4860   
;;;4861   	if(BAT_TYPE==1)
002cd2  481a              LDR      r0,|L1.11580|
002cd4  8800              LDRH     r0,[r0,#0]  ; BAT_TYPE
002cd6  2801              CMP      r0,#1
002cd8  e033              B        |L1.11586|
                  |L1.11482|
002cda  e046              B        |L1.11626|
                  |L1.11484|
                          DCD      TBOXVENTMAX
                  |L1.11488|
                          DCD      main_vent_pos
                  |L1.11492|
                          DCD      pos_vent
                  |L1.11496|
                          DCD      mess_data
                  |L1.11500|
                          DCD      mixer_vent_stat
                  |L1.11504|
                          DCD      TBATDISABLE
                  |L1.11508|
                          DCD      tbatdisable_stat
                  |L1.11512|
                          DCD      tbatdisable_cnt
                  |L1.11516|
                          DCD      TBATENABLE
                  |L1.11520|
                          DCD      TLOADDISABLE
                  |L1.11524|
                          DCD      tloaddisable_stat
                  |L1.11528|
                          DCD      tloaddisable_cnt
                  |L1.11532|
                          DCD      TLOADENABLE
                  |L1.11536|
                          DCD      ||area_number.21||+0x7c
                  |L1.11540|
                          DCD      bat
                  |L1.11544|
                          DCD      IZMAX
                  |L1.11548|
                          DCD      main_10Hz_cnt
                  |L1.11552|
                          DCD      IKB
                  |L1.11556|
                          DCD      bat_u_old_cnt
                  |L1.11560|
                          DCD      0x40024020
                  |L1.11564|
                          DCD      ADR_EE_BAT_ZAR_CNT
                  |L1.11568|
                          DCD      BAT_C_REAL
                  |L1.11572|
                          DCD      BAT_C_NOM
                  |L1.11576|
                          DCD      0xffff7360
                  |L1.11580|
                          DCD      BAT_TYPE
                  |L1.11584|
002d40  e001              B        |L1.11590|
                  |L1.11586|
002d42  d003              BEQ      |L1.11596|
002d44  e00b              B        |L1.11614|
                  |L1.11590|
002d46  f04f0000          MOV      r0,#0                 ;4854
002d4a  e7bd              B        |L1.11464|
                  |L1.11596|
;;;4862   		{
;;;4863   		bat[in]._zar=lakb[in]._s_o_c;
002d4c  eb050085          ADD      r0,r5,r5,LSL #2
002d50  eb0000c5          ADD      r0,r0,r5,LSL #3
002d54  49ff              LDR      r1,|L1.12628|
002d56  eb010080          ADD      r0,r1,r0,LSL #2
002d5a  8a40              LDRH     r0,[r0,#0x12]
002d5c  8220              STRH     r0,[r4,#0x10]
                  |L1.11614|
;;;4864   		}
;;;4865   	
;;;4866   	gran((signed short*)&bat[in]._zar,0,100);
002d5e  f1040010          ADD      r0,r4,#0x10
002d62  2264              MOVS     r2,#0x64
002d64  2100              MOVS     r1,#0
002d66  f7fffffe          BL       gran
                  |L1.11626|
;;;4867        }
;;;4868   
;;;4869   
;;;4870   //         
;;;4871   if(bat[in]._wrk==1)
002d6a  7ba0              LDRB     r0,[r4,#0xe]
002d6c  2801              CMP      r0,#1
002d6e  d113              BNE      |L1.11672|
;;;4872   	{
;;;4873   	if(bat[in]._Iintegr<36000)
002d70  8ba0              LDRH     r0,[r4,#0x1c]
002d72  4540              CMP      r0,r8
002d74  d20f              BCS      |L1.11670|
;;;4874   		{          
;;;4875   		bat[in]._Iintegr+=abs(bat[in]._Ib);
002d76  f9b40008          LDRSH    r0,[r4,#8]
002d7a  f7fffffe          BL       abs
002d7e  8ba1              LDRH     r1,[r4,#0x1c]
002d80  4408              ADD      r0,r0,r1
002d82  b280              UXTH     r0,r0
002d84  83a0              STRH     r0,[r4,#0x1c]
;;;4876   		if(bat[in]._Iintegr>=36000)
002d86  4540              CMP      r0,r8
002d88  d306              BCC      |L1.11672|
;;;4877   			{
;;;4878   			bat[in]._Iintegr=0;		//  
002d8a  83a7              STRH     r7,[r4,#0x1c]
;;;4879   			bat[in]._Iintegr_++;	//  
002d8c  8be0              LDRH     r0,[r4,#0x1e]
002d8e  f1000001          ADD      r0,r0,#1
002d92  83e0              STRH     r0,[r4,#0x1e]
002d94  e000              B        |L1.11672|
                  |L1.11670|
;;;4880   			}
;;;4881   		}
;;;4882   	else 
;;;4883   		{
;;;4884   		bat[in]._Iintegr=0;
002d96  83a7              STRH     r7,[r4,#0x1c]
                  |L1.11672|
;;;4885   		}	
;;;4886   	} 
;;;4887   	    
;;;4888   //
;;;4889   if((bat[in]._Tb>TBATSIGN)&&(!bat[in]._nd))	
002d98  49ef              LDR      r1,|L1.12632|
002d9a  f9b4000a          LDRSH    r0,[r4,#0xa]
002d9e  f9b11000          LDRSH    r1,[r1,#0]  ; TBATSIGN
002da2  4288              CMP      r0,r1
002da4  dd01              BLE      |L1.11690|
002da6  7b20              LDRB     r0,[r4,#0xc]
002da8  b3e8              CBZ      r0,|L1.11814|
                  |L1.11690|
;;;4890   	{
;;;4891   	bat[in]._sign_temper_cnt++;
;;;4892   	}
;;;4893   else 
;;;4894   	{
;;;4895   	bat[in]._sign_temper_cnt--;
002daa  f8b40040          LDRH     r0,[r4,#0x40]
002dae  f1a00001          SUB      r0,r0,#1
002db2  f8a40040          STRH     r0,[r4,#0x40]
                  |L1.11702|
;;;4896   	}
;;;4897   
;;;4898   gran(&bat[in]._sign_temper_cnt,0,600);
002db6  f44f7916          MOV      r9,#0x258
002dba  f1040040          ADD      r0,r4,#0x40
002dbe  464a              MOV      r2,r9
002dc0  2100              MOVS     r1,#0
002dc2  f7fffffe          BL       gran
;;;4899   if(bat[in]._sign_temper_cnt>=590)	bat[in]._temper_stat|=(1<<0);
002dc6  f9b40040          LDRSH    r0,[r4,#0x40]
002dca  f240264e          MOV      r6,#0x24e
002dce  42b0              CMP      r0,r6
002dd0  db05              BLT      |L1.11742|
002dd2  f894103f          LDRB     r1,[r4,#0x3f]
002dd6  f0410101          ORR      r1,r1,#1
002dda  f884103f          STRB     r1,[r4,#0x3f]
                  |L1.11742|
;;;4900   if(bat[in]._sign_temper_cnt<=10)	bat[in]._temper_stat&=~(1<<0);
002dde  280a              CMP      r0,#0xa
002de0  dc05              BGT      |L1.11758|
002de2  f894003f          LDRB     r0,[r4,#0x3f]
002de6  f0200001          BIC      r0,r0,#1
002dea  f884003f          STRB     r0,[r4,#0x3f]
                  |L1.11758|
;;;4901   
;;;4902   
;;;4903   if((bat[in]._Tb>TBATMAX)&&(!bat[in]._nd))	
002dee  49db              LDR      r1,|L1.12636|
002df0  f9b4000a          LDRSH    r0,[r4,#0xa]
002df4  f9b11000          LDRSH    r1,[r1,#0]  ; TBATMAX
002df8  4288              CMP      r0,r1
002dfa  dd01              BLE      |L1.11776|
002dfc  7b20              LDRB     r0,[r4,#0xc]
002dfe  b3a0              CBZ      r0,|L1.11882|
                  |L1.11776|
;;;4904   	{
;;;4905   	bat[in]._max_temper_cnt++;
;;;4906   	}
;;;4907   else 
;;;4908   	{
;;;4909   	bat[in]._max_temper_cnt--;
002e00  f8b40042          LDRH     r0,[r4,#0x42]
002e04  f1a00001          SUB      r0,r0,#1
002e08  f8a40042          STRH     r0,[r4,#0x42]
                  |L1.11788|
;;;4910   	}
;;;4911   
;;;4912   gran(&bat[in]._max_temper_cnt,0,600);
002e0c  f1040042          ADD      r0,r4,#0x42
002e10  464a              MOV      r2,r9
002e12  2100              MOVS     r1,#0
002e14  f7fffffe          BL       gran
;;;4913   if(bat[in]._max_temper_cnt>=590)	bat[in]._temper_stat|=(1<<1);
002e18  f9b40042          LDRSH    r0,[r4,#0x42]
002e1c  42b0              CMP      r0,r6
002e1e  db07              BLT      |L1.11824|
002e20  f894103f          LDRB     r1,[r4,#0x3f]
002e24  e000              B        |L1.11816|
                  |L1.11814|
002e26  e021              B        |L1.11884|
                  |L1.11816|
002e28  f0410102          ORR      r1,r1,#2
002e2c  f884103f          STRB     r1,[r4,#0x3f]
                  |L1.11824|
;;;4914   if(bat[in]._max_temper_cnt<=10)	bat[in]._temper_stat&=~(1<<1);
002e30  280a              CMP      r0,#0xa
002e32  dc05              BGT      |L1.11840|
002e34  f894003f          LDRB     r0,[r4,#0x3f]
002e38  f0200002          BIC      r0,r0,#2
002e3c  f884003f          STRB     r0,[r4,#0x3f]
                  |L1.11840|
;;;4915   
;;;4916   
;;;4917   
;;;4918   //  
;;;4919   if(bat[in]._resurs_cnt<36000)
002e40  6c60              LDR      r0,[r4,#0x44]
002e42  4540              CMP      r0,r8
002e44  da20              BGE      |L1.11912|
;;;4920   	{               
;;;4921   	bat[in]._resurs_cnt++;
002e46  f1000001          ADD      r0,r0,#1
002e4a  6460              STR      r0,[r4,#0x44]
;;;4922   	if(bat[in]._resurs_cnt>=36000)
002e4c  4540              CMP      r0,r8
002e4e  db1c              BLT      |L1.11914|
;;;4923   		{
;;;4924   		bat[in]._resurs_cnt=0;
002e50  6467              STR      r7,[r4,#0x44]
;;;4925   		lc640_write_int(ADR_EE_BAT_RESURS[in],lc640_read_int(ADR_EE_BAT_RESURS[in])+1);
002e52  4ec3              LDR      r6,|L1.12640|
002e54  f8360015          LDRH     r0,[r6,r5,LSL #1]
002e58  f7fffffe          BL       lc640_read_int
002e5c  1c40              ADDS     r0,r0,#1
002e5e  b201              SXTH     r1,r0
002e60  f9360015          LDRSH    r0,[r6,r5,LSL #1]
002e64  f7fffffe          BL       lc640_write_int
002e68  e00f              B        |L1.11914|
                  |L1.11882|
002e6a  e006              B        |L1.11898|
                  |L1.11884|
002e6c  f8b40040          LDRH     r0,[r4,#0x40]         ;4891
002e70  f1000001          ADD      r0,r0,#1              ;4891
002e74  f8a40040          STRH     r0,[r4,#0x40]         ;4891
002e78  e79d              B        |L1.11702|
                  |L1.11898|
002e7a  f8b40042          LDRH     r0,[r4,#0x42]         ;4905
002e7e  f1000001          ADD      r0,r0,#1              ;4905
002e82  f8a40042          STRH     r0,[r4,#0x42]         ;4905
002e86  e7c1              B        |L1.11788|
                  |L1.11912|
;;;4926   		}
;;;4927   	}
;;;4928   else bat[in]._resurs_cnt=0;
002e88  6467              STR      r7,[r4,#0x44]
                  |L1.11914|
;;;4929   
;;;4930   
;;;4931   #ifndef UKU_220_V2
;;;4932   #ifndef UKU_GLONASS
;;;4933   #ifndef UKU_6U
;;;4934   //#ifndef UKU_220
;;;4935   if(UBM_AV)
002e8a  4eb6              LDR      r6,|L1.12644|
002e8c  8830              LDRH     r0,[r6,#0]  ; UBM_AV
002e8e  2800              CMP      r0,#0
002e90  d05e              BEQ      |L1.12112|
;;;4936        {
;;;4937        signed short temp_SS;
;;;4938   #ifdef UKU_220
;;;4939   temp_SS=bat[in]._Ub/2;
;;;4940   #else
;;;4941        if(U0B<600)
002e92  48b5              LDR      r0,|L1.12648|
002e94  f9b00000          LDRSH    r0,[r0,#0]  ; U0B
002e98  4548              CMP      r0,r9
002e9a  da08              BGE      |L1.11950|
;;;4942             {
;;;4943             temp_SS=bat[in]._Ub/4;
002e9c  f9b40002          LDRSH    r0,[r4,#2]
002ea0  ea4f71e0          ASR      r1,r0,#31
002ea4  eb007091          ADD      r0,r0,r1,LSR #30
002ea8  ea4f00a0          ASR      r0,r0,#2
002eac  e006              B        |L1.11964|
                  |L1.11950|
;;;4944             }
;;;4945        else temp_SS=bat[in]._Ub/5;
002eae  f9b40002          LDRSH    r0,[r4,#2]
002eb2  f04f0105          MOV      r1,#5
002eb6  fb90f0f1          SDIV     r0,r0,r1
002eba  b200              SXTH     r0,r0
                  |L1.11964|
;;;4946   	
;;;4947   	temp_SS+=temp_SS;     
002ebc  ea4f0040          LSL      r0,r0,#1
;;;4948   #endif
;;;4949        temp_SS-=(bat[in]._Ubm);
002ec0  88a1              LDRH     r1,[r4,#4]
002ec2  eba00001          SUB      r0,r0,r1
002ec6  b200              SXTH     r0,r0
;;;4950   
;;;4951        temp_SS=abs(temp_SS);
002ec8  f7fffffe          BL       abs
;;;4952   
;;;4953        temp_SS*=10;
002ecc  eb000080          ADD      r0,r0,r0,LSL #2
002ed0  ea4f0040          LSL      r0,r0,#1
002ed4  b200              SXTH     r0,r0
;;;4954   
;;;4955        temp_SS/=12;
002ed6  f04f010c          MOV      r1,#0xc
002eda  fb90f0f1          SDIV     r0,r0,r1
002ede  b200              SXTH     r0,r0
;;;4956   
;;;4957        bat[in]._dUbm=temp_SS;
002ee0  80e0              STRH     r0,[r4,#6]
;;;4958   
;;;4959   
;;;4960        if(	(bat[in]._dUbm>UBM_AV) &&
002ee2  f9b61000          LDRSH    r1,[r6,#0]  ; UBM_AV
002ee6  4288              CMP      r0,r1
002ee8  dd34              BLE      |L1.12116|
;;;4961   		(abs(bat[in]._Ib)<(5*IKB)) &&
002eea  f9b40008          LDRSH    r0,[r4,#8]
002eee  f7fffffe          BL       abs
002ef2  4601              MOV      r1,r0
002ef4  489d              LDR      r0,|L1.12652|
002ef6  f9b00000          LDRSH    r0,[r0,#0]  ; IKB
002efa  eb000080          ADD      r0,r0,r0,LSL #2
002efe  4281              CMP      r1,r0
002f00  da28              BGE      |L1.12116|
;;;4962   		(bat[in]._Ub>((short)(((long)USIGN*115)/100))) &&
002f02  489b              LDR      r0,|L1.12656|
002f04  2173              MOVS     r1,#0x73
002f06  f9b00000          LDRSH    r0,[r0,#0]  ; USIGN
002f0a  4348              MULS     r0,r1,r0
002f0c  fb90f0fb          SDIV     r0,r0,r11
002f10  f9b41002          LDRSH    r1,[r4,#2]
002f14  b200              SXTH     r0,r0
002f16  4288              CMP      r0,r1
002f18  da1c              BGE      |L1.12116|
;;;4963   		(!(bat[in]._av & 2))  )
002f1a  f894003d          LDRB     r0,[r4,#0x3d]
002f1e  0780              LSLS     r0,r0,#30
002f20  d418              BMI      |L1.12116|
;;;4964   		{
;;;4965   		bat[in]._cnt_as++;
002f22  f8b40048          LDRH     r0,[r4,#0x48]
002f26  f1000001          ADD      r0,r0,#1
002f2a  b200              SXTH     r0,r0
002f2c  f8a40048          STRH     r0,[r4,#0x48]
;;;4966   		if(bat[in]._cnt_as==3000)
002f30  f5a06130          SUB      r1,r0,#0xb00
002f34  39b8              SUBS     r1,r1,#0xb8
002f36  d103              BNE      |L1.12096|
;;;4967   			{
;;;4968   			avar_bat_as_hndl(in,1);
002f38  2101              MOVS     r1,#1
002f3a  4628              MOV      r0,r5
002f3c  f7fffffe          BL       avar_bat_as_hndl
                  |L1.12096|
;;;4969   			}
;;;4970   		if(bat[in]._cnt_as>=3005) bat[in]._cnt_as=3005;
002f40  f9b41048          LDRSH    r1,[r4,#0x48]
002f44  f64030bd          MOV      r0,#0xbbd
002f48  4281              CMP      r1,r0
002f4a  db01              BLT      |L1.12112|
002f4c  f8a40048          STRH     r0,[r4,#0x48]
                  |L1.12112|
;;;4971   		}
;;;4972   	else 
;;;4973   		{
;;;4974   		bat[in]._cnt_as=0;
;;;4975   		}
;;;4976        
;;;4977        }
;;;4978   #endif 
;;;4979   #endif 
;;;4980   #endif
;;;4981   
;;;4982   }
002f50  e8bd9ffc          POP      {r2-r12,pc}
                  |L1.12116|
002f54  f8a47048          STRH     r7,[r4,#0x48]         ;4974
002f58  e7fa              B        |L1.12112|
;;;4983   
                          ENDP

                  u_necc_hndl PROC
;;;4990   //-----------------------------------------------
;;;4991   void u_necc_hndl(void)
002f5a  b538              PUSH     {r3-r5,lr}
;;;4992   {
;;;4993   signed long temp_L;
;;;4994   signed long temp_SL;
;;;4995   //signed short temp_SS;
;;;4996   signed short t[2];
;;;4997   char i;
;;;4998   
;;;4999   //temp_SS=0;
;;;5000   
;;;5001   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;5002   
;;;5003   if(!TERMOKOMPENS)
002f5c  4885              LDR      r0,|L1.12660|
;;;5004   	{
;;;5005   	//u_necc=U0B;
;;;5006   	u_necc=UB20;
002f5e  4c87              LDR      r4,|L1.12668|
002f60  8801              LDRH     r1,[r0,#0]            ;5003  ; TERMOKOMPENS
002f62  4885              LDR      r0,|L1.12664|
002f64  f9b02000          LDRSH    r2,[r0,#0]
002f68  b139              CBZ      r1,|L1.12154|
;;;5007   	}
;;;5008   else
;;;5009   	{
;;;5010   	if(ND_EXT[0])t[0]=20;
002f6a  4885              LDR      r0,|L1.12672|
002f6c  6800              LDR      r0,[r0,#0]  ; ND_EXT
002f6e  b130              CBZ      r0,|L1.12158|
002f70  f04f0014          MOV      r0,#0x14
002f74  f8ad0000          STRH     r0,[sp,#0]
002f78  e005              B        |L1.12166|
                  |L1.12154|
002f7a  8022              STRH     r2,[r4,#0]            ;5006
002f7c  e027              B        |L1.12238|
                  |L1.12158|
;;;5011   	else t[0]=t_ext[0];
002f7e  4881              LDR      r0,|L1.12676|
002f80  8800              LDRH     r0,[r0,#0]  ; t_ext
002f82  f8ad0000          STRH     r0,[sp,#0]
                  |L1.12166|
;;;5012   
;;;5013   	mat_temper=t[0];
002f86  4b80              LDR      r3,|L1.12680|
002f88  f9bd1000          LDRSH    r1,[sp,#0]
002f8c  6019              STR      r1,[r3,#0]  ; mat_temper
;;;5014   			
;;;5015   	if(mat_temper<0)temp_SL=UB0; 
002f8e  487f              LDR      r0,|L1.12684|
002f90  2900              CMP      r1,#0
002f92  f9b00000          LDRSH    r0,[r0,#0]
002f96  db12              BLT      |L1.12222|
;;;5016   	else 
;;;5017   		{
;;;5018   		if(mat_temper>40)mat_temper=40; 
002f98  2928              CMP      r1,#0x28
002f9a  dd02              BLE      |L1.12194|
002f9c  f04f0128          MOV      r1,#0x28
002fa0  6019              STR      r1,[r3,#0]  ; mat_temper
                  |L1.12194|
;;;5019   		temp_SL=(UB20-UB0)*10;
002fa2  eba20100          SUB      r1,r2,r0
002fa6  eb010181          ADD      r1,r1,r1,LSL #2
002faa  ea4f0141          LSL      r1,r1,#1
;;;5020   		temp_SL*=mat_temper;
002fae  681a              LDR      r2,[r3,#0]  ; mat_temper
002fb0  fb01f102          MUL      r1,r1,r2
;;;5021   		temp_SL/=200;
002fb4  f04f02c8          MOV      r2,#0xc8
002fb8  fb91f1f2          SDIV     r1,r1,r2
;;;5022   		temp_SL+=UB0;
002fbc  4408              ADD      r0,r0,r1
                  |L1.12222|
;;;5023   		}
;;;5024   	if(spc_stat==spcVZ)
002fbe  4974              LDR      r1,|L1.12688|
002fc0  7cc9              LDRB     r1,[r1,#0x13]  ; spc_stat
002fc2  2902              CMP      r1,#2
002fc4  d102              BNE      |L1.12236|
;;;5025   		{
;;;5026   		temp_SL=UVZ;
002fc6  4873              LDR      r0,|L1.12692|
002fc8  f9b00000          LDRSH    r0,[r0,#0]  ; UVZ
                  |L1.12236|
;;;5027   		}
;;;5028   	u_necc=(unsigned int)temp_SL;
002fcc  8020              STRH     r0,[r4,#0]
                  |L1.12238|
;;;5029   	///u_necc=3456;
;;;5030   	}  
;;;5031   
;;;5032   //u_necc=2355;
;;;5033   
;;;5034   if(speedChIsOn)
002fce  4872              LDR      r0,|L1.12696|
002fd0  8800              LDRH     r0,[r0,#0]  ; speedChIsOn
002fd2  b110              CBZ      r0,|L1.12250|
;;;5035   	{
;;;5036   	u_necc=speedChrgVolt;
002fd4  4871              LDR      r0,|L1.12700|
002fd6  8800              LDRH     r0,[r0,#0]  ; speedChrgVolt
002fd8  8020              STRH     r0,[r4,#0]
                  |L1.12250|
;;;5037   	}
;;;5038   
;;;5039   if(mess_find_unvol(MESS2UNECC_HNDL))
002fda  20be              MOVS     r0,#0xbe
002fdc  f7fffffe          BL       mess_find_unvol
002fe0  b128              CBZ      r0,|L1.12270|
;;;5040   	{		
;;;5041   	if(mess_data[0]==PARAM_UNECC_SET)
002fe2  486f              LDR      r0,|L1.12704|
002fe4  6801              LDR      r1,[r0,#0]  ; mess_data
002fe6  29bf              CMP      r1,#0xbf
002fe8  d101              BNE      |L1.12270|
;;;5042   		{
;;;5043   		u_necc=mess_data[1];
002fea  6840              LDR      r0,[r0,#4]  ; mess_data
002fec  8020              STRH     r0,[r4,#0]
                  |L1.12270|
;;;5044   		}		
;;;5045   	}
;;;5046   #endif
;;;5047   
;;;5048   
;;;5049   #ifndef UKU_220_IPS_TERMOKOMPENSAT
;;;5050   
;;;5051   #ifndef UKU_TELECORE2015
;;;5052   if(unh_cnt0<10)
;;;5053   	{
;;;5054   	unh_cnt0++;
;;;5055   	if(unh_cnt0>=10)
;;;5056   		{
;;;5057   		unh_cnt0=0;
;;;5058   		b1Hz_unh=1;
;;;5059   		}
;;;5060   	}
;;;5061   
;;;5062   if(unh_cnt1<5)
;;;5063   	{
;;;5064   	unh_cnt1++;
;;;5065   	if(unh_cnt1==5)
;;;5066   		{
;;;5067   		unh_cnt1=0;
;;;5068   //		b2Hz_unh=1;
;;;5069   		}
;;;5070   	} 
;;;5071   
;;;5072   
;;;5073   
;;;5074   if(mess_find_unvol(MESS2UNECC_HNDL))
;;;5075   	{		
;;;5076   	if(mess_data[0]==PARAM_UNECC_SET)
;;;5077   		{
;;;5078   		u_necc=mess_data[1];
;;;5079   		}		
;;;5080   	}
;;;5081   
;;;5082   
;;;5083   else if(b1Hz_unh)
;;;5084   	{
;;;5085   	
;;;5086   	if((BAT_IS_ON[0]!=bisON) && (BAT_IS_ON[1]!=bisON))
;;;5087   		{
;;;5088   		
;;;5089   		u_necc=U0B;
;;;5090   		}
;;;5091   	else 
;;;5092   		{
;;;5093   		if(BAT_TYPE==0) //  
;;;5094   			{
;;;5095   			for(i=0;i<2;i++)
;;;5096   				{
;;;5097   				if(BAT_IS_ON[i]==bisON)
;;;5098   					{
;;;5099   					if(bat[i]._nd)t[i]=20;
;;;5100   					else t[i]=bat[i]._Tb;
;;;5101   					}
;;;5102   				else
;;;5103   					{
;;;5104   					t[i]=-20;
;;;5105   					}
;;;5106   				}
;;;5107   			if(t[0]>t[1])mat_temper=t[0];
;;;5108   			else mat_temper=t[1];
;;;5109   			
;;;5110   		
;;;5111   			if(mat_temper<0)temp_SL=UB0; 
;;;5112   			else 
;;;5113   				{
;;;5114   				if(mat_temper>40)mat_temper=40; 
;;;5115   				temp_SL=(UB20-UB0)*10;
;;;5116   				temp_SL*=mat_temper;
;;;5117   				temp_SL/=200;
;;;5118   				temp_SL+=UB0;
;;;5119   				}
;;;5120   			if(spc_stat==spcVZ)
;;;5121   				{
;;;5122   				temp_SL=UVZ;
;;;5123   				}
;;;5124   			u_necc=(unsigned int)temp_SL;
;;;5125   			}
;;;5126   		else if(BAT_TYPE==1) //  
;;;5127   			{
;;;5128   			u_necc=U0B;
;;;5129   					
;;;5130   			u_necc=bat[0]._Ub+10;
;;;5131   
;;;5132   			
;;;5133   			if(spc_stat==spcVZ)
;;;5134   				{
;;;5135   				u_necc=UVZ;
;;;5136   				}
;;;5137   			if(u_necc>=UB0) u_necc=UB0;
;;;5138   			if(u_necc>=UB20) u_necc=UB20;
;;;5139   			}
;;;5140   		}  
;;;5141   	}
;;;5142   #endif
;;;5143   #ifdef UKU_TELECORE2015
;;;5144   
;;;5145   if(unh_cnt0<10)
;;;5146   	{
;;;5147   	unh_cnt0++;
;;;5148   	if(unh_cnt0>=10)
;;;5149   		{
;;;5150   		unh_cnt0=0;
;;;5151   		b1Hz_unh=1;
;;;5152   		}
;;;5153   	}
;;;5154   
;;;5155   if(unh_cnt1<5)
;;;5156   	{
;;;5157   	unh_cnt1++;
;;;5158   	if(unh_cnt1==5)
;;;5159   		{
;;;5160   		unh_cnt1=0;
;;;5161   //		b2Hz_unh=1;
;;;5162   		}
;;;5163   	} 
;;;5164   
;;;5165   
;;;5166   
;;;5167   if(mess_find_unvol(MESS2UNECC_HNDL))
;;;5168   	{		
;;;5169   	if(mess_data[0]==PARAM_UNECC_SET)
;;;5170   		{
;;;5171   		u_necc=mess_data[1];
;;;5172   		}		
;;;5173   	}
;;;5174   
;;;5175   
;;;5176   else if(b1Hz_unh)
;;;5177   	{
;;;5178   	b1Hz_unh=0;
;;;5179   
;;;5180   	if(BAT_TYPE==0)
;;;5181   		{
;;;5182   		if(bat[0]._nd)mat_temper=20;
;;;5183   		else mat_temper=bat[0]._Tb;
;;;5184   
;;;5185   			
;;;5186   		if(mat_temper<0)temp_SL=UB0; 
;;;5187   		else 
;;;5188   			{
;;;5189   			if(mat_temper>40)mat_temper=40; 
;;;5190   			temp_SL=(UB20-UB0)*10;
;;;5191   			temp_SL*=mat_temper;
;;;5192   			temp_SL/=200;
;;;5193   			temp_SL+=UB0;
;;;5194   			}
;;;5195   		if(spc_stat==spcVZ)
;;;5196   			{
;;;5197   			temp_SL=UVZ;
;;;5198   			}
;;;5199   		u_necc=(unsigned int)temp_SL;
;;;5200   	///u_necc=3456;
;;;5201   		}
;;;5202   	else if(BAT_TYPE==1)
;;;5203   		{
;;;5204   		
;;;5205   		gran(&DU_LI_BAT,1,30);
;;;5206   		u_necc=li_bat._Ub+DU_LI_BAT;
;;;5207   		gran(&u_necc,0,UB0);
;;;5208   		gran(&u_necc,0,UB20);
;;;5209   		gran(&u_necc,0,540);		
;;;5210   
;;;5211   
;;;5212   		if(li_bat._batStat!=bsOK)
;;;5213   			{
;;;5214   			u_necc=U0B;
;;;5215   			}
;;;5216   		if(spc_stat==spcVZ)
;;;5217   			{
;;;5218   			u_necc=UVZ;
;;;5219   			}
;;;5220   		/* 
;;;5221   		u_necc=U0B;
;;;5222   		
;;;5223   
;;;5224   	
;;;5225   		u_necc=UB0;
;;;5226   		u_necc=li_bat._Ub+10;
;;;5227   		if((li_bat._Ub<450)||(li_bat._Ub>550))
;;;5228   			{
;;;5229   			lakb_error_cnt++;
;;;5230   			if(lakb_error_cnt>=30)
;;;5231   				{
;;;5232   				lakb_error_cnt=30;
;;;5233   				u_necc=U0B;
;;;5234   				}
;;;5235   			}
;;;5236   		else lakb_error_cnt=0;*/
;;;5237   		}
;;;5238   	else if(BAT_TYPE==2)
;;;5239   		{
;;;5240   		u_necc=U0B;
;;;5241   		
;;;5242   		if(spc_stat==spcVZ)
;;;5243   			{
;;;5244   			u_necc=UVZ;
;;;5245   			}
;;;5246   	
;;;5247   		u_necc=UB0;
;;;5248   		}
;;;5249   
;;;5250   
;;;5251   	
;;;5252   		 
;;;5253   	}
;;;5254   
;;;5255   #endif 
;;;5256   
;;;5257   //u_necc=2356;
;;;5258   #endif//gran(&u_necc,400,UMAX);
;;;5259   
;;;5260   temp_L=(signed long) u_necc;
002fee  f9b40000          LDRSH    r0,[r4,#0]  ; u_necc
;;;5261   temp_L*=98L;
002ff2  f04f0162          MOV      r1,#0x62
002ff6  fb00f101          MUL      r1,r0,r1
;;;5262   temp_L/=100L;
002ffa  f04f0264          MOV      r2,#0x64
002ffe  fb91f1f2          SDIV     r1,r1,r2
;;;5263   u_necc_dn=(signed short)temp_L;
003002  4b68              LDR      r3,|L1.12708|
003004  8019              STRH     r1,[r3,#0]
;;;5264   
;;;5265   temp_L=(signed long) u_necc;
;;;5266   temp_L*=102L;
003006  f04f0166          MOV      r1,#0x66
00300a  fb00f001          MUL      r0,r0,r1
;;;5267   temp_L/=100L;
00300e  fb90f0f2          SDIV     r0,r0,r2
;;;5268   u_necc_up=(signed short)temp_L;
003012  4965              LDR      r1,|L1.12712|
003014  8008              STRH     r0,[r1,#0]
;;;5269   
;;;5270   
;;;5271   }
003016  bd38              POP      {r3-r5,pc}
;;;5272   
                          ENDP

                  num_necc_hndl PROC
;;;5274   //-----------------------------------------------
;;;5275   void num_necc_hndl(void)
003018  e92d41f0          PUSH     {r4-r8,lr}
;;;5276   {
;;;5277   
;;;5278   static short num_necc_block_cnt;
;;;5279   if(num_necc_block_cnt) num_necc_block_cnt--;
00301c  4c5c              LDR      r4,|L1.12688|
00301e  f9b40024          LDRSH    r0,[r4,#0x24]  ; num_necc_block_cnt
003022  b110              CBZ      r0,|L1.12330|
003024  f1a00001          SUB      r0,r0,#1
003028  84a0              STRH     r0,[r4,#0x24]
                  |L1.12330|
;;;5280   
;;;5281   Isumm_=Isumm;
00302a  4860              LDR      r0,|L1.12716|
00302c  4d60              LDR      r5,|L1.12720|
00302e  8800              LDRH     r0,[r0,#0]  ; Isumm
003030  8028              STRH     r0,[r5,#0]
;;;5282   
;;;5283   if(bat[0]._Ib<0) Isumm_+=(abs(bat[0]._Ib))/10;
003032  4f60              LDR      r7,|L1.12724|
003034  260a              MOVS     r6,#0xa
003036  f9b70008          LDRSH    r0,[r7,#8]  ; bat
00303a  2800              CMP      r0,#0
00303c  da06              BGE      |L1.12364|
00303e  f7fffffe          BL       abs
003042  fb90f0f6          SDIV     r0,r0,r6
003046  8829              LDRH     r1,[r5,#0]  ; Isumm_
003048  4408              ADD      r0,r0,r1
00304a  8028              STRH     r0,[r5,#0]
                  |L1.12364|
;;;5284   if(bat[1]._Ib<0) Isumm_+=(abs(bat[1]._Ib))/10;
00304c  f9b70054          LDRSH    r0,[r7,#0x54]  ; bat
003050  2800              CMP      r0,#0
003052  da06              BGE      |L1.12386|
003054  f7fffffe          BL       abs
003058  fb90f0f6          SDIV     r0,r0,r6
00305c  8829              LDRH     r1,[r5,#0]  ; Isumm_
00305e  4408              ADD      r0,r0,r1
003060  8028              STRH     r0,[r5,#0]
                  |L1.12386|
;;;5285   
;;;5286   num_necc_up=(Isumm_/((signed short)IMAX))+1;
003062  4855              LDR      r0,|L1.12728|
003064  f9b51000          LDRSH    r1,[r5,#0]  ; Isumm_
003068  f9b00000          LDRSH    r0,[r0,#0]  ; IMAX
00306c  fb91f0f0          SDIV     r0,r1,r0
003070  f1000001          ADD      r0,r0,#1
003074  b2c0              UXTB     r0,r0
003076  73e0              STRB     r0,[r4,#0xf]
;;;5287   ////Isumm_+=(signed short)((IMAX*(10-KIMAX))/10);
;;;5288   ////Isumm_+=(signed short)(IMAX-IMIN);
;;;5289   
;;;5290   num_necc_down=(Isumm_/((signed short)IMIN))+1;
003078  4a50              LDR      r2,|L1.12732|
00307a  f9b22000          LDRSH    r2,[r2,#0]  ; IMIN
00307e  fb91f1f2          SDIV     r1,r1,r2
003082  f1010101          ADD      r1,r1,#1
003086  b2c9              UXTB     r1,r1
003088  7421              STRB     r1,[r4,#0x10]
;;;5291   
;;;5292   if(num_necc_up>num_necc)
00308a  4b4d              LDR      r3,|L1.12736|
;;;5293   	{
;;;5294   	num_necc=num_necc_up;
;;;5295   	num_necc_block_cnt=60;
00308c  f04f053c          MOV      r5,#0x3c
003090  f9b32000          LDRSH    r2,[r3,#0]            ;5292  ; num_necc
003094  4290              CMP      r0,r2                 ;5292
003096  dd02              BLE      |L1.12446|
003098  8018              STRH     r0,[r3,#0]            ;5294
00309a  84a5              STRH     r5,[r4,#0x24]
00309c  e005              B        |L1.12458|
                  |L1.12446|
;;;5296   	}
;;;5297   else if(num_necc_down<num_necc)
00309e  4291              CMP      r1,r2
0030a0  da03              BGE      |L1.12458|
;;;5298   	{
;;;5299   	if(!num_necc_block_cnt)
0030a2  8ca0              LDRH     r0,[r4,#0x24]  ; num_necc_block_cnt
0030a4  b908              CBNZ     r0,|L1.12458|
;;;5300   		{
;;;5301   		num_necc=num_necc_down;
0030a6  8019              STRH     r1,[r3,#0]
;;;5302   		num_necc_block_cnt=60;
0030a8  84a5              STRH     r5,[r4,#0x24]
                  |L1.12458|
;;;5303   		}
;;;5304   	}
;;;5305   
;;;5306   if(PAR) num_necc=NUMIST;
0030aa  4846              LDR      r0,|L1.12740|
0030ac  8801              LDRH     r1,[r0,#0]  ; PAR
0030ae  4846              LDR      r0,|L1.12744|
0030b0  b109              CBZ      r1,|L1.12470|
0030b2  8801              LDRH     r1,[r0,#0]  ; NUMIST
0030b4  8019              STRH     r1,[r3,#0]
                  |L1.12470|
;;;5307   
;;;5308   gran(&num_necc,1,NUMIST);
0030b6  f9b02000          LDRSH    r2,[r0,#0]  ; NUMIST
0030ba  e8bd41f0          POP      {r4-r8,lr}
0030be  2101              MOVS     r1,#1
0030c0  483f              LDR      r0,|L1.12736|
0030c2  f7ffbffe          B.W      gran
;;;5309   
;;;5310   }
;;;5311   
                          ENDP

                  cntrl_hndl PROC
;;;5312   //-----------------------------------------------
;;;5313   void cntrl_hndl(void)
0030c6  e92d5ff0          PUSH     {r4-r12,lr}
;;;5314   {
;;;5315   
;;;5316   IZMAX_=IZMAX;
0030ca  4840              LDR      r0,|L1.12748|
0030cc  4c30              LDR      r4,|L1.12688|
0030ce  f9b01000          LDRSH    r1,[r0,#0]  ; IZMAX
0030d2  8721              STRH     r1,[r4,#0x38]
;;;5317   
;;;5318   if(speedChIsOn)IZMAX_=speedChrgCurr;
0030d4  4830              LDR      r0,|L1.12696|
0030d6  8800              LDRH     r0,[r0,#0]  ; speedChIsOn
0030d8  b110              CBZ      r0,|L1.12512|
0030da  483d              LDR      r0,|L1.12752|
0030dc  8800              LDRH     r0,[r0,#0]  ; speedChrgCurr
0030de  8720              STRH     r0,[r4,#0x38]
                  |L1.12512|
;;;5319   
;;;5320   if(cntrl_stat_blok_cnt)cntrl_stat_blok_cnt--;
0030e0  f9b4005a          LDRSH    r0,[r4,#0x5a]  ; cntrl_stat_blok_cnt
0030e4  b118              CBZ      r0,|L1.12526|
0030e6  f1a00001          SUB      r0,r0,#1
0030ea  f8a4005a          STRH     r0,[r4,#0x5a]
                  |L1.12526|
;;;5321   if(cntrl_stat_blok_cnt_)cntrl_stat_blok_cnt_--;
0030ee  f9b4005c          LDRSH    r0,[r4,#0x5c]  ; cntrl_stat_blok_cnt_
0030f2  b118              CBZ      r0,|L1.12540|
0030f4  f1a00001          SUB      r0,r0,#1
0030f8  f8a4005c          STRH     r0,[r4,#0x5c]
                  |L1.12540|
;;;5322   
;;;5323   if((bat[0]._temper_stat&0x03)||(bat[1]._temper_stat&0x03))IZMAX_=IZMAX/10;
0030fc  482d              LDR      r0,|L1.12724|
0030fe  f04f050a          MOV      r5,#0xa
003102  f890203f          LDRB     r2,[r0,#0x3f]  ; bat
003106  0792              LSLS     r2,r2,#30
003108  d103              BNE      |L1.12562|
00310a  f890008b          LDRB     r0,[r0,#0x8b]  ; bat
00310e  0780              LSLS     r0,r0,#30
003110  d002              BEQ      |L1.12568|
                  |L1.12562|
003112  fb91f0f5          SDIV     r0,r1,r5
003116  8720              STRH     r0,[r4,#0x38]
                  |L1.12568|
;;;5324   
;;;5325   
;;;5326   if(ch_cnt0<10)
003118  79a0              LDRB     r0,[r4,#6]  ; ch_cnt0
00311a  2600              MOVS     r6,#0                 ;5318
;;;5327   	{
;;;5328   	ch_cnt0++;
;;;5329   	if(ch_cnt0>=10)
;;;5330   		{
;;;5331   		ch_cnt0=0;
;;;5332   		b1Hz_ch=1;
00311c  2701              MOVS     r7,#1
00311e  280a              CMP      r0,#0xa               ;5326
003120  d207              BCS      |L1.12594|
003122  f1000001          ADD      r0,r0,#1              ;5328
003126  b2c0              UXTB     r0,r0                 ;5328
003128  71a0              STRB     r0,[r4,#6]            ;5328
00312a  280a              CMP      r0,#0xa               ;5329
00312c  d301              BCC      |L1.12594|
00312e  71a6              STRB     r6,[r4,#6]            ;5331
003130  71e7              STRB     r7,[r4,#7]
                  |L1.12594|
;;;5333   		}
;;;5334   	}
;;;5335   
;;;5336   
;;;5337   
;;;5338   
;;;5339   if(mess_find_unvol(MESS2CNTRL_HNDL))
003132  20e1              MOVS     r0,#0xe1
003134  f7fffffe          BL       mess_find_unvol
;;;5340   	{
;;;5341   	if(mess_data[0]==PARAM_CNTRL_STAT_PLUS)
;;;5342   		{
;;;5343   		cntrl_stat=cntrl_stat_old+mess_data[1];
;;;5344   		}
;;;5345   	else if(mess_data[0]==PARAM_CNTRL_STAT_MINUS)
;;;5346   		{
;;;5347   		cntrl_stat=cntrl_stat_old-mess_data[1];
;;;5348   		}
;;;5349   	else if(mess_data[0]==PARAM_CNTRL_STAT_STEP_DOWN)
;;;5350   		{
;;;5351   		cntrl_stat--;
;;;5352   
;;;5353   		if((cntrl_stat<=30)||(load_U<USIGN)) mess_send(MESS2KB_HNDL,PARAM_CNTRL_IS_DOWN,0,10);
003138  f8dfc098          LDR      r12,|L1.12756|
;;;5354   
;;;5355   		}
;;;5356   	else if(mess_data[0]==PARAM_CNTRL_STAT_SET)
;;;5357   		{
;;;5358   		cntrl_stat=mess_data[1];
;;;5359   		}
;;;5360   
;;;5361   	else if(mess_data[0]==PARAM_CNTRL_STAT_FAST_REG)
;;;5362   		{
;;;5363   		#ifdef UKU_220
;;;5364   		if(load_U>u_necc)
;;;5365   			{
;;;5366   			if(((load_U-u_necc)>40)&&(cntrl_stat>0))cntrl_stat-=5;
;;;5367   			else if((cntrl_stat)&&b1Hz_ch)cntrl_stat--;
;;;5368   			}
;;;5369   		else if(load_U<u_necc)
;;;5370   			{	
;;;5371   			if(((u_necc-load_U)>40)&&(cntrl_stat<1015))cntrl_stat+=5;
;;;5372   			else	if((cntrl_stat<1020)&&b1Hz_ch)cntrl_stat++;
;;;5373   			}
;;;5374   		#endif	
;;;5375   
;;;5376   		#ifndef UKU_220
;;;5377   
;;;5378   		#ifdef UKU_220_V2
;;;5379   		if(load_U>u_necc)
;;;5380   			{
;;;5381   			if(((load_U-u_necc)>40)&&(cntrl_stat>0))cntrl_stat-=5;
;;;5382   			else if((cntrl_stat)&&b1Hz_ch)cntrl_stat--;
;;;5383   			}
;;;5384   		else if(load_U<u_necc)
;;;5385   			{	
;;;5386   			if(((u_necc-load_U)>40)&&(cntrl_stat<1015))cntrl_stat+=5;
;;;5387   			else	if((cntrl_stat<1020)&&b1Hz_ch)cntrl_stat++;
;;;5388   			}
;;;5389   		#else
;;;5390   
;;;5391   		if(load_U>u_necc)
00313c  4b0f              LDR      r3,|L1.12668|
;;;5392   			{
;;;5393   			if(((load_U-u_necc)>10)&&(cntrl_stat>0))cntrl_stat-=5;
;;;5394   			else if((cntrl_stat)&&b1Hz_ch)cntrl_stat--;
;;;5395   			}
;;;5396   		else if(load_U<u_necc)
;;;5397   			{	
;;;5398   			if(((u_necc-load_U)>10)&&(cntrl_stat<1015))cntrl_stat+=5;
;;;5399   			else	if((cntrl_stat<1020)&&b1Hz_ch)cntrl_stat++;
;;;5400   			}
;;;5401   		#endif	
;;;5402   		#endif
;;;5403   		 }
;;;5404   
;;;5405   	}
;;;5406   
;;;5407   else if((b1Hz_ch)&&((!bIBAT_SMKLBR)||(bps[8]._cnt>40)))
00313e  f8df8098          LDR      r8,|L1.12760|
;;;5408   	{
;;;5409   	cntrl_stat_new=cntrl_stat_old;
;;;5410   	
;;;5411   	if((Ibmax/10)>(2*IZMAX_))
;;;5412   		{
;;;5413             if(cntrl_stat_blok_cnt)cntrl_stat_new--;
;;;5414   		else	cntrl_stat_new-=10;
;;;5415   		}		
;;;5416   	else if(((Ibmax/10)<(IZMAX_*2))&&(Ibmax>(IZMAX_*15)))
;;;5417   		{
;;;5418             if(cntrl_stat_blok_cnt)cntrl_stat_new--;
;;;5419             else	cntrl_stat_new-=3;
;;;5420   		}   
;;;5421   	else if((Ibmax<(IZMAX_*15))&&((Ibmax/10)>IZMAX_))
;;;5422   		{
;;;5423   		cntrl_stat_new--;
;;;5424   		}
;;;5425   		
;;;5426   	else if(load_U<u_necc)
;;;5427   		{
;;;5428   		if(load_U<(u_necc-(UB0-UB20)))
;;;5429   			{
;;;5430   			if(Ibmax<0)
;;;5431   				{
;;;5432                       if(cntrl_stat_blok_cnt)cntrl_stat_new++;
;;;5433   				else cntrl_stat_new+=10;
;;;5434   				}
;;;5435   			else if(Ibmax<(IZMAX_*5))
;;;5436   				{
;;;5437                       if(cntrl_stat_blok_cnt)cntrl_stat_new++;
;;;5438   				else	cntrl_stat_new+=2;
;;;5439   				}
;;;5440   			else if(Ibmax<((IZMAX_*95)/10))
;;;5441   				{
;;;5442   				cntrl_stat_new++;
;;;5443   				}					
;;;5444   			}
;;;5445   		else if(load_U<(u_necc-((UB0-UB20)/4)))
;;;5446   			{
;;;5447   			if(Ibmax<(IZMAX_*5))
;;;5448   				{
;;;5449                       if(cntrl_stat_blok_cnt)cntrl_stat_new++;
;;;5450   				else	cntrl_stat_new+=2;
;;;5451   				}
;;;5452   			else if(Ibmax<((IZMAX_*95)/10))
;;;5453   				{
;;;5454   				cntrl_stat_new++;
;;;5455   				}					
;;;5456   			}	
;;;5457   		else if(load_U<(u_necc-1))
;;;5458   			{
;;;5459   			if(Ibmax<((IZMAX_*95)/10))
;;;5460   				{
;;;5461   				cntrl_stat_new++;
;;;5462   				}					
;;;5463   			}					
;;;5464   		}	
;;;5465   	else if((load_U>u_necc)/*&&(!cntrl_blok)*/)
;;;5466   		{
;;;5467   		if(load_U>(u_necc+(UB0-UB20)))
;;;5468   			{
;;;5469                  if(cntrl_stat_blok_cnt)cntrl_stat_new--;
;;;5470   			else	cntrl_stat_new-=10;
;;;5471   			}
;;;5472   		else if(load_U>(u_necc+((UB0-UB20)/4)))
;;;5473   			{
;;;5474                  if(cntrl_stat_blok_cnt)cntrl_stat_new--;
;;;5475   			else cntrl_stat_new-=2;
;;;5476   			}	
;;;5477   		else if(load_U>(u_necc+1))
;;;5478   			{
;;;5479   			cntrl_stat_new--;
;;;5480   			}					
;;;5481   		}
;;;5482   
;;;5483   	gran(&cntrl_stat_new,10,1010);			
003142  f2403bf2          MOV      r11,#0x3f2
003146  b120              CBZ      r0,|L1.12626|
003148  4915              LDR      r1,|L1.12704|
00314a  6808              LDR      r0,[r1,#0]            ;5341  ; mess_data
00314c  2864              CMP      r0,#0x64              ;5341
00314e  d04e              BEQ      |L1.12782|
003150  e044              B        |L1.12764|
                  |L1.12626|
003152  e0a6              B        |L1.12962|
                  |L1.12628|
                          DCD      lakb
                  |L1.12632|
                          DCD      TBATSIGN
                  |L1.12636|
                          DCD      TBATMAX
                  |L1.12640|
                          DCD      ADR_EE_BAT_RESURS
                  |L1.12644|
                          DCD      UBM_AV
                  |L1.12648|
                          DCD      U0B
                  |L1.12652|
                          DCD      IKB
                  |L1.12656|
                          DCD      USIGN
                  |L1.12660|
                          DCD      TERMOKOMPENS
                  |L1.12664|
                          DCD      UB20
                  |L1.12668|
                          DCD      u_necc
                  |L1.12672|
                          DCD      ND_EXT
                  |L1.12676|
                          DCD      t_ext
                  |L1.12680|
                          DCD      mat_temper
                  |L1.12684|
                          DCD      UB0
                  |L1.12688|
                          DCD      ||area_number.21||
                  |L1.12692|
                          DCD      UVZ
                  |L1.12696|
                          DCD      speedChIsOn
                  |L1.12700|
                          DCD      speedChrgVolt
                  |L1.12704|
                          DCD      mess_data
                  |L1.12708|
                          DCD      u_necc_dn
                  |L1.12712|
                          DCD      u_necc_up
                  |L1.12716|
                          DCD      Isumm
                  |L1.12720|
                          DCD      Isumm_
                  |L1.12724|
                          DCD      bat
                  |L1.12728|
                          DCD      IMAX
                  |L1.12732|
                          DCD      IMIN
                  |L1.12736|
                          DCD      num_necc
                  |L1.12740|
                          DCD      PAR
                  |L1.12744|
                          DCD      NUMIST
                  |L1.12748|
                          DCD      IZMAX
                  |L1.12752|
                          DCD      speedChrgCurr
                  |L1.12756|
                          DCD      load_U
                  |L1.12760|
                          DCD      bps
                  |L1.12764|
0031dc  2869              CMP      r0,#0x69              ;5345
0031de  d00b              BEQ      |L1.12792|
0031e0  286e              CMP      r0,#0x6e              ;5349
0031e2  d00f              BEQ      |L1.12804|
0031e4  28e5              CMP      r0,#0xe5              ;5356
0031e6  d022              BEQ      |L1.12846|
0031e8  28e6              CMP      r0,#0xe6              ;5361
0031ea  d023              BEQ      |L1.12852|
                  |L1.12780|
0031ec  e136              B        |L1.13404|
                  |L1.12782|
0031ee  6848              LDR      r0,[r1,#4]            ;5343  ; mess_data
0031f0  8ba1              LDRH     r1,[r4,#0x1c]         ;5343  ; cntrl_stat_old
0031f2  4408              ADD      r0,r0,r1              ;5343
0031f4  8360              STRH     r0,[r4,#0x1a]         ;5343
0031f6  e131              B        |L1.13404|
                  |L1.12792|
0031f8  6848              LDR      r0,[r1,#4]            ;5347  ; mess_data
0031fa  8ba1              LDRH     r1,[r4,#0x1c]         ;5347  ; cntrl_stat_old
0031fc  eba10000          SUB      r0,r1,r0              ;5347
003200  8360              STRH     r0,[r4,#0x1a]         ;5347
003202  e12b              B        |L1.13404|
                  |L1.12804|
003204  8b60              LDRH     r0,[r4,#0x1a]         ;5351  ; cntrl_stat
003206  f1a00001          SUB      r0,r0,#1              ;5351
00320a  b200              SXTH     r0,r0                 ;5351
00320c  8360              STRH     r0,[r4,#0x1a]         ;5351
00320e  281e              CMP      r0,#0x1e              ;5353
003210  dd06              BLE      |L1.12832|
003212  49fa              LDR      r1,|L1.13820|
003214  f9bc0000          LDRSH    r0,[r12,#0]           ;5353  ; load_U
003218  f9b11000          LDRSH    r1,[r1,#0]            ;5353  ; USIGN
00321c  4288              CMP      r0,r1                 ;5353
00321e  dae5              BGE      |L1.12780|
                  |L1.12832|
003220  230a              MOVS     r3,#0xa               ;5353
003222  2200              MOVS     r2,#0                 ;5353
003224  21e7              MOVS     r1,#0xe7              ;5353
003226  20e6              MOVS     r0,#0xe6              ;5353
003228  f7fffffe          BL       mess_send
00322c  e116              B        |L1.13404|
                  |L1.12846|
00322e  6848              LDR      r0,[r1,#4]            ;5358  ; mess_data
003230  8360              STRH     r0,[r4,#0x1a]         ;5358
003232  e113              B        |L1.13404|
                  |L1.12852|
003234  f9bc0000          LDRSH    r0,[r12,#0]           ;5391  ; load_U
003238  f9b31000          LDRSH    r1,[r3,#0]            ;5391  ; u_necc
00323c  4288              CMP      r0,r1                 ;5391
00323e  dd16              BLE      |L1.12910|
003240  eba00001          SUB      r0,r0,r1              ;5393
003244  280a              CMP      r0,#0xa               ;5393
003246  dd07              BLE      |L1.12888|
003248  f9b4001a          LDRSH    r0,[r4,#0x1a]         ;5393  ; cntrl_stat
00324c  2800              CMP      r0,#0                 ;5393
00324e  dd03              BLE      |L1.12888|
003250  f1a00005          SUB      r0,r0,#5              ;5393
003254  8360              STRH     r0,[r4,#0x1a]         ;5393
003256  e101              B        |L1.13404|
                  |L1.12888|
003258  f9b4001a          LDRSH    r0,[r4,#0x1a]         ;5394  ; cntrl_stat
00325c  2800              CMP      r0,#0                 ;5394
00325e  d005              BEQ      |L1.12908|
003260  79e1              LDRB     r1,[r4,#7]            ;5394  ; b1Hz_ch
003262  2900              CMP      r1,#0                 ;5394
003264  d002              BEQ      |L1.12908|
003266  f1a00001          SUB      r0,r0,#1              ;5394
00326a  8360              STRH     r0,[r4,#0x1a]         ;5394
                  |L1.12908|
00326c  e0f6              B        |L1.13404|
                  |L1.12910|
00326e  da0b              BGE      |L1.12936|
003270  1a08              SUBS     r0,r1,r0              ;5398
003272  280a              CMP      r0,#0xa               ;5398
003274  dd09              BLE      |L1.12938|
003276  f9b4001a          LDRSH    r0,[r4,#0x1a]         ;5398  ; cntrl_stat
00327a  f24031f7          MOV      r1,#0x3f7             ;5398
00327e  4288              CMP      r0,r1                 ;5398
003280  da03              BGE      |L1.12938|
003282  f1000005          ADD      r0,r0,#5              ;5398
003286  8360              STRH     r0,[r4,#0x1a]         ;5398
                  |L1.12936|
003288  e0e8              B        |L1.13404|
                  |L1.12938|
00328a  f9b4001a          LDRSH    r0,[r4,#0x1a]         ;5399  ; cntrl_stat
00328e  f5b07f7f          CMP      r0,#0x3fc             ;5399
003292  da05              BGE      |L1.12960|
003294  79e1              LDRB     r1,[r4,#7]            ;5399  ; b1Hz_ch
003296  2900              CMP      r1,#0                 ;5399
003298  d002              BEQ      |L1.12960|
00329a  f1000001          ADD      r0,r0,#1              ;5399
00329e  8360              STRH     r0,[r4,#0x1a]         ;5399
                  |L1.12960|
0032a0  e0dc              B        |L1.13404|
                  |L1.12962|
0032a2  79e0              LDRB     r0,[r4,#7]            ;5407  ; b1Hz_ch
0032a4  2800              CMP      r0,#0                 ;5407
0032a6  d072              BEQ      |L1.13198|
0032a8  48d5              LDR      r0,|L1.13824|
0032aa  8800              LDRH     r0,[r0,#0]            ;5407  ; bIBAT_SMKLBR
0032ac  b118              CBZ      r0,|L1.12982|
0032ae  f89802a3          LDRB     r0,[r8,#0x2a3]        ;5407  ; bps
0032b2  2828              CMP      r0,#0x28              ;5407
0032b4  d96b              BLS      |L1.13198|
                  |L1.12982|
0032b6  f9b4001c          LDRSH    r0,[r4,#0x1c]         ;5409  ; cntrl_stat_old
0032ba  86a0              STRH     r0,[r4,#0x34]         ;5409
0032bc  f9b41036          LDRSH    r1,[r4,#0x36]         ;5411  ; Ibmax
0032c0  8f22              LDRH     r2,[r4,#0x38]         ;5411  ; IZMAX_
0032c2  fb91f9f5          SDIV     r9,r1,r5              ;5411
0032c6  ebb90f42          CMP      r9,r2,LSL #1          ;5411
0032ca  dd0a              BLE      |L1.13026|
0032cc  f8b4105a          LDRH     r1,[r4,#0x5a]         ;5413  ; cntrl_stat_blok_cnt
0032d0  b119              CBZ      r1,|L1.13018|
0032d2  f1a00001          SUB      r0,r0,#1              ;5413
0032d6  86a0              STRH     r0,[r4,#0x34]         ;5413
0032d8  e0b8              B        |L1.13388|
                  |L1.13018|
0032da  f1a0000a          SUB      r0,r0,#0xa            ;5414
0032de  86a0              STRH     r0,[r4,#0x34]         ;5414
0032e0  e0b4              B        |L1.13388|
                  |L1.13026|
0032e2  da0e              BGE      |L1.13058|
0032e4  ebc21a02          RSB      r10,r2,r2,LSL #4      ;5416
0032e8  458a              CMP      r10,r1                ;5416
0032ea  da0a              BGE      |L1.13058|
0032ec  f8b4105a          LDRH     r1,[r4,#0x5a]         ;5418  ; cntrl_stat_blok_cnt
0032f0  b119              CBZ      r1,|L1.13050|
0032f2  f1a00001          SUB      r0,r0,#1              ;5418
0032f6  86a0              STRH     r0,[r4,#0x34]         ;5418
0032f8  e0a8              B        |L1.13388|
                  |L1.13050|
0032fa  f1a00003          SUB      r0,r0,#3              ;5419
0032fe  86a0              STRH     r0,[r4,#0x34]         ;5419
003300  e0a4              B        |L1.13388|
                  |L1.13058|
003302  ebc21a02          RSB      r10,r2,r2,LSL #4      ;5421
003306  458a              CMP      r10,r1                ;5421
003308  dd05              BLE      |L1.13078|
00330a  4591              CMP      r9,r2                 ;5421
00330c  dd03              BLE      |L1.13078|
00330e  f1a00001          SUB      r0,r0,#1              ;5423
003312  86a0              STRH     r0,[r4,#0x34]         ;5423
003314  e09a              B        |L1.13388|
                  |L1.13078|
003316  f9bcc000          LDRSH    r12,[r12,#0]          ;5426  ; load_U
00331a  f9b33000          LDRSH    r3,[r3,#0]            ;5426  ; u_necc
00331e  f8df92e4          LDR      r9,|L1.13828|
003322  f8dfa2e4          LDR      r10,|L1.13832|
003326  459c              CMP      r12,r3                ;5426
003328  da64              BGE      |L1.13300|
00332a  f9b99000          LDRSH    r9,[r9,#0]            ;5428  ; UB0
00332e  f9baa000          LDRSH    r10,[r10,#0]          ;5428  ; UB20
003332  eba9090a          SUB      r9,r9,r10             ;5428
003336  eba30a09          SUB      r10,r3,r9             ;5428
00333a  45e2              CMP      r10,r12               ;5428
00333c  dd28              BLE      |L1.13200|
00333e  2900              CMP      r1,#0                 ;5430
003340  da0a              BGE      |L1.13144|
003342  f8b4105a          LDRH     r1,[r4,#0x5a]         ;5432  ; cntrl_stat_blok_cnt
003346  b119              CBZ      r1,|L1.13136|
003348  f1000001          ADD      r0,r0,#1              ;5432
00334c  86a0              STRH     r0,[r4,#0x34]         ;5432
00334e  e07d              B        |L1.13388|
                  |L1.13136|
003350  f100000a          ADD      r0,r0,#0xa            ;5433
003354  86a0              STRH     r0,[r4,#0x34]         ;5433
003356  e079              B        |L1.13388|
                  |L1.13144|
003358  eb020382          ADD      r3,r2,r2,LSL #2       ;5435
00335c  428b              CMP      r3,r1                 ;5435
00335e  dd0a              BLE      |L1.13174|
003360  f8b4105a          LDRH     r1,[r4,#0x5a]         ;5437  ; cntrl_stat_blok_cnt
003364  b119              CBZ      r1,|L1.13166|
003366  f1000001          ADD      r0,r0,#1              ;5437
00336a  86a0              STRH     r0,[r4,#0x34]         ;5437
00336c  e06e              B        |L1.13388|
                  |L1.13166|
00336e  f1000002          ADD      r0,r0,#2              ;5438
003372  86a0              STRH     r0,[r4,#0x34]         ;5438
003374  e06a              B        |L1.13388|
                  |L1.13174|
003376  ebc21342          RSB      r3,r2,r2,LSL #5       ;5440
00337a  eb031282          ADD      r2,r3,r2,LSL #6       ;5440
00337e  fbb2f2f5          UDIV     r2,r2,r5              ;5440
003382  428a              CMP      r2,r1                 ;5440
003384  dd62              BLE      |L1.13388|
003386  f1000001          ADD      r0,r0,#1              ;5442
00338a  86a0              STRH     r0,[r4,#0x34]         ;5442
00338c  e05e              B        |L1.13388|
                  |L1.13198|
00338e  e065              B        |L1.13404|
                  |L1.13200|
003390  ea4f7ae9          ASR      r10,r9,#31            ;5445
003394  eb09799a          ADD      r9,r9,r10,LSR #30     ;5445
003398  eba309a9          SUB      r9,r3,r9,ASR #2       ;5445
00339c  45e1              CMP      r9,r12                ;5445
00339e  dd1a              BLE      |L1.13270|
0033a0  eb020382          ADD      r3,r2,r2,LSL #2       ;5447
0033a4  428b              CMP      r3,r1                 ;5447
0033a6  dd0a              BLE      |L1.13246|
0033a8  f8b4105a          LDRH     r1,[r4,#0x5a]         ;5449  ; cntrl_stat_blok_cnt
0033ac  b119              CBZ      r1,|L1.13238|
0033ae  f1000001          ADD      r0,r0,#1              ;5449
0033b2  86a0              STRH     r0,[r4,#0x34]         ;5449
0033b4  e04a              B        |L1.13388|
                  |L1.13238|
0033b6  f1000002          ADD      r0,r0,#2              ;5450
0033ba  86a0              STRH     r0,[r4,#0x34]         ;5450
0033bc  e046              B        |L1.13388|
                  |L1.13246|
0033be  ebc21342          RSB      r3,r2,r2,LSL #5       ;5452
0033c2  eb031282          ADD      r2,r3,r2,LSL #6       ;5452
0033c6  fbb2f2f5          UDIV     r2,r2,r5              ;5452
0033ca  428a              CMP      r2,r1                 ;5452
0033cc  dd3e              BLE      |L1.13388|
0033ce  f1000001          ADD      r0,r0,#1              ;5454
0033d2  86a0              STRH     r0,[r4,#0x34]         ;5454
0033d4  e03a              B        |L1.13388|
                  |L1.13270|
0033d6  1e5b              SUBS     r3,r3,#1              ;5457
0033d8  459c              CMP      r12,r3                ;5457
0033da  da37              BGE      |L1.13388|
0033dc  ebc21342          RSB      r3,r2,r2,LSL #5       ;5459
0033e0  eb031282          ADD      r2,r3,r2,LSL #6       ;5459
0033e4  fbb2f2f5          UDIV     r2,r2,r5              ;5459
0033e8  428a              CMP      r2,r1                 ;5459
0033ea  dd2f              BLE      |L1.13388|
0033ec  f1000001          ADD      r0,r0,#1              ;5461
0033f0  86a0              STRH     r0,[r4,#0x34]         ;5461
0033f2  e02b              B        |L1.13388|
                  |L1.13300|
0033f4  dd2a              BLE      |L1.13388|
0033f6  f9b91000          LDRSH    r1,[r9,#0]            ;5467  ; UB0
0033fa  f9ba2000          LDRSH    r2,[r10,#0]           ;5467  ; UB20
0033fe  1a89              SUBS     r1,r1,r2              ;5467
003400  18ca              ADDS     r2,r1,r3              ;5467
003402  4562              CMP      r2,r12                ;5467
003404  da0a              BGE      |L1.13340|
003406  f8b4105a          LDRH     r1,[r4,#0x5a]         ;5469  ; cntrl_stat_blok_cnt
00340a  b119              CBZ      r1,|L1.13332|
00340c  f1a00001          SUB      r0,r0,#1              ;5469
003410  86a0              STRH     r0,[r4,#0x34]         ;5469
003412  e01b              B        |L1.13388|
                  |L1.13332|
003414  f1a0000a          SUB      r0,r0,#0xa            ;5470
003418  86a0              STRH     r0,[r4,#0x34]         ;5470
00341a  e017              B        |L1.13388|
                  |L1.13340|
00341c  17ca              ASRS     r2,r1,#31             ;5472
00341e  eb017192          ADD      r1,r1,r2,LSR #30      ;5472
003422  eb0301a1          ADD      r1,r3,r1,ASR #2       ;5472
003426  4561              CMP      r1,r12                ;5472
003428  da0a              BGE      |L1.13376|
00342a  f8b4105a          LDRH     r1,[r4,#0x5a]         ;5474  ; cntrl_stat_blok_cnt
00342e  b119              CBZ      r1,|L1.13368|
003430  f1a00001          SUB      r0,r0,#1              ;5474
003434  86a0              STRH     r0,[r4,#0x34]         ;5474
003436  e009              B        |L1.13388|
                  |L1.13368|
003438  f1a00002          SUB      r0,r0,#2              ;5475
00343c  86a0              STRH     r0,[r4,#0x34]         ;5475
00343e  e005              B        |L1.13388|
                  |L1.13376|
003440  1c5b              ADDS     r3,r3,#1              ;5477
003442  459c              CMP      r12,r3                ;5477
003444  dd02              BLE      |L1.13388|
003446  f1a00001          SUB      r0,r0,#1              ;5479
00344a  86a0              STRH     r0,[r4,#0x34]         ;5479
                  |L1.13388|
00344c  465a              MOV      r2,r11
00344e  210a              MOVS     r1,#0xa
003450  486e              LDR      r0,|L1.13836|
003452  f7fffffe          BL       gran
;;;5484   	cntrl_stat_old=cntrl_stat_new;
003456  8ea0              LDRH     r0,[r4,#0x34]  ; cntrl_stat_new
003458  83a0              STRH     r0,[r4,#0x1c]
;;;5485   	cntrl_stat=cntrl_stat_new;	
00345a  8360              STRH     r0,[r4,#0x1a]
                  |L1.13404|
;;;5486   	}
;;;5487   
;;;5488   
;;;5489   iiii=0;
00345c  7266              STRB     r6,[r4,#9]
;;;5490   for(i=0;i<NUMIST;i++)
00345e  7226              STRB     r6,[r4,#8]
003460  486b              LDR      r0,|L1.13840|
003462  f9b02000          LDRSH    r2,[r0,#0]
003466  e00c              B        |L1.13442|
                  |L1.13416|
;;;5491        {
;;;5492        if(bps[i]._cnt<30)iiii=1;
003468  ebc001c0          RSB      r1,r0,r0,LSL #3
00346c  eb010141          ADD      r1,r1,r1,LSL #1
003470  eb080181          ADD      r1,r8,r1,LSL #2
003474  78c9              LDRB     r1,[r1,#3]
003476  291e              CMP      r1,#0x1e
003478  d200              BCS      |L1.13436|
00347a  7267              STRB     r7,[r4,#9]
                  |L1.13436|
00347c  f1000001          ADD      r0,r0,#1              ;5490
003480  7220              STRB     r0,[r4,#8]            ;5490
                  |L1.13442|
003482  7a20              LDRB     r0,[r4,#8]            ;5490  ; i
003484  4290              CMP      r0,r2                 ;5490
003486  dbef              BLT      |L1.13416|
;;;5493        }
;;;5494   
;;;5495   if(iiii==0)
003488  7a60              LDRB     r0,[r4,#9]  ; iiii
00348a  b920              CBNZ     r0,|L1.13462|
;;;5496        {
;;;5497        cntrl_stat=600;	
00348c  f44f7016          MOV      r0,#0x258
003490  8360              STRH     r0,[r4,#0x1a]
;;;5498        cntrl_stat_old=600;
003492  83a0              STRH     r0,[r4,#0x1c]
;;;5499        cntrl_stat_new=600;
003494  86a0              STRH     r0,[r4,#0x34]
                  |L1.13462|
;;;5500   	#ifdef UKU_TELECORE2015
;;;5501   	cntrl_stat=0;
;;;5502   	cntrl_stat_old=0;
;;;5503   	cntrl_stat_new=0;
;;;5504   	#endif
;;;5505        }
;;;5506   gran(&cntrl_stat,10,1010); 
003496  485d              LDR      r0,|L1.13836|
003498  465a              MOV      r2,r11
00349a  210a              MOVS     r1,#0xa
00349c  381a              SUBS     r0,r0,#0x1a
00349e  f7fffffe          BL       gran
;;;5507   b1Hz_ch=0;
0034a2  71e6              STRB     r6,[r4,#7]
                  |L1.13476|
;;;5508   }
0034a4  e8bd9ff0          POP      {r4-r12,pc}
;;;5509   
                          ENDP

                  ext_drv PROC
;;;5510   //-----------------------------------------------
;;;5511   void ext_drv(void)
0034a8  e92d5ff0          PUSH     {r4-r12,lr}
;;;5512   {
;;;5513   char i;
;;;5514   
;;;5515   
;;;5516   for(i=0;i<NUMSK;i++)
0034ac  f04f0000          MOV      r0,#0
0034b0  4a5a              LDR      r2,|L1.13852|
;;;5517   	{
;;;5518   	#ifdef UKU_MGTS
;;;5519   	if(adc_buff_[sk_buff_RSTKM[i]]<2000)
;;;5520   	#endif
;;;5521   	#ifdef UKU_RSTKM
;;;5522   	if(adc_buff_[sk_buff_RSTKM[i]]<2000)
;;;5523   	#endif
;;;5524   	#ifdef UKU_3U
;;;5525   	if(adc_buff_[sk_buff_3U[i]]<2000)
;;;5526   	#endif
;;;5527   	#ifdef UKU_GLONASS
;;;5528   	if(adc_buff_[sk_buff_GLONASS[i]]<2000)
;;;5529   	#endif
;;;5530   	#ifdef UKU_KONTUR
;;;5531   	if(adc_buff_[sk_buff_KONTUR[i]]<2000)
;;;5532   	#endif
;;;5533   	#ifdef UKU_6U
;;;5534   	if(adc_buff_[sk_buff_6U[i]]<2000)
;;;5535   	#endif
;;;5536   	#ifdef UKU_220
;;;5537   	if(adc_buff_[sk_buff_220[i]]<2000)
;;;5538   	#endif
;;;5539   	#ifdef UKU_220_V2
;;;5540   	if(adc_buff_[sk_buff_220[i]]<2000)
;;;5541   	#endif
;;;5542   	#ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;5543   	if(adc_buff_[sk_buff_220[i]]<2000)
;;;5544   	#endif
;;;5545   	#ifdef UKU_TELECORE2015
;;;5546   	if(adc_buff_[sk_buff_TELECORE2015[i]]<2000)	 //TODO
;;;5547   	#endif
;;;5548   
;;;5549   		{
;;;5550   		if(sk_cnt[i]<10)
0034b2  4b58              LDR      r3,|L1.13844|
;;;5551   			{
;;;5552   			sk_cnt[i]++;
;;;5553   			if(sk_cnt[i]>=10)
;;;5554   				{
;;;5555   				sk_stat[i]=ssON;
0034b4  4d58              LDR      r5,|L1.13848|
0034b6  f04f0a01          MOV      r10,#1
;;;5556   				}
;;;5557   			}
;;;5558   		else 
;;;5559   			{
;;;5560   			sk_cnt[i]=10;
0034ba  f04f0b0a          MOV      r11,#0xa
0034be  4606              MOV      r6,r0                 ;5516
0034c0  f9b24000          LDRSH    r4,[r2,#0]            ;5516
0034c4  e025              B        |L1.13586|
                  |L1.13510|
0034c6  4956              LDR      r1,|L1.13856|
0034c8  4f56              LDR      r7,|L1.13860|
0034ca  5c09              LDRB     r1,[r1,r0]            ;5543
0034cc  f9371011          LDRSH    r1,[r7,r1,LSL #1]     ;5543
0034d0  f5b16ffa          CMP      r1,#0x7d0             ;5543
0034d4  da0e              BGE      |L1.13556|
0034d6  5619              LDRSB    r1,[r3,r0]            ;5550
0034d8  290a              CMP      r1,#0xa               ;5550
0034da  da08              BGE      |L1.13550|
0034dc  f1010101          ADD      r1,r1,#1              ;5552
0034e0  b249              SXTB     r1,r1                 ;5552
0034e2  5419              STRB     r1,[r3,r0]            ;5552
0034e4  290a              CMP      r1,#0xa               ;5553
0034e6  db11              BLT      |L1.13580|
0034e8  f805a000          STRB     r10,[r5,r0]           ;5555
0034ec  e00e              B        |L1.13580|
                  |L1.13550|
0034ee  f803b000          STRB     r11,[r3,r0]
0034f2  e00b              B        |L1.13580|
                  |L1.13556|
;;;5561   			}
;;;5562                  
;;;5563   		}
;;;5564   	else
;;;5565   		{
;;;5566   		if(sk_cnt[i]>=0)
0034f4  5619              LDRSB    r1,[r3,r0]
0034f6  2900              CMP      r1,#0
0034f8  db07              BLT      |L1.13578|
;;;5567   			{
;;;5568   			sk_cnt[i]--;
0034fa  f1a10101          SUB      r1,r1,#1
0034fe  b249              SXTB     r1,r1
003500  5419              STRB     r1,[r3,r0]
;;;5569   			if(sk_cnt[i]<=0)
003502  2900              CMP      r1,#0
003504  dc02              BGT      |L1.13580|
;;;5570   				{
;;;5571   				sk_stat[i]=ssOFF;
003506  542e              STRB     r6,[r5,r0]
003508  e000              B        |L1.13580|
                  |L1.13578|
;;;5572   				}
;;;5573   			}
;;;5574   		else 
;;;5575   			{
;;;5576   			sk_cnt[i]=0;
00350a  541e              STRB     r6,[r3,r0]
                  |L1.13580|
00350c  f1000001          ADD      r0,r0,#1              ;5516
003510  b2c0              UXTB     r0,r0                 ;5516
                  |L1.13586|
003512  42a0              CMP      r0,r4                 ;5516
003514  dbd7              BLT      |L1.13510|
;;;5577   			}
;;;5578   		}
;;;5579   	}
;;;5580   
;;;5581   for(i=0;i<NUMSK;i++)
003516  f04f0400          MOV      r4,#0
;;;5582   	{
;;;5583   	if(((SK_SIGN[i]==0)&&(sk_stat[i]==ssON))||((SK_SIGN[i])&&(sk_stat[i]==ssOFF)) )
;;;5584   		{
;;;5585   		if(sk_av_cnt[i]<10)
00351a  f8df910c          LDR      r9,|L1.13864|
;;;5586   			{
;;;5587   			sk_av_cnt[i]++;
;;;5588   			if(sk_av_cnt[i]>=10)
;;;5589   				{
;;;5590   				sk_av_stat[i]=sasON;
00351e  4f43              LDR      r7,|L1.13868|
;;;5591   				}
;;;5592   			}
;;;5593   		else 
;;;5594   			{
;;;5595   			sk_av_cnt[i]=10;
;;;5596   			}
;;;5597   		}
;;;5598   	else
;;;5599   		{
;;;5600   		if(sk_av_cnt[i]>=0)
;;;5601   			{
;;;5602   			sk_av_cnt[i]--;
;;;5603   			if(sk_av_cnt[i]<=0)
;;;5604   				{
;;;5605   				sk_av_stat[i]=sasOFF;
;;;5606   				}
;;;5607   			}
;;;5608   		else 
;;;5609   			{
;;;5610   			sk_av_cnt[i]=0;
;;;5611   			}
;;;5612   		}
;;;5613   
;;;5614   #ifndef UKU_KONTUR
;;;5615   	if(sk_av_stat_old[i]!=sk_av_stat[i])
003520  f8df810c          LDR      r8,|L1.13872|
003524  e0c6              B        |L1.14004|
                  |L1.13606|
003526  4843              LDR      r0,|L1.13876|
003528  f9300014          LDRSH    r0,[r0,r4,LSL #1]     ;5583
00352c  b910              CBNZ     r0,|L1.13620|
00352e  5d29              LDRB     r1,[r5,r4]            ;5583
003530  2901              CMP      r1,#1                 ;5583
003532  d00f              BEQ      |L1.13652|
                  |L1.13620|
003534  b108              CBZ      r0,|L1.13626|
003536  5d28              LDRB     r0,[r5,r4]            ;5583
003538  b160              CBZ      r0,|L1.13652|
                  |L1.13626|
00353a  f9190004          LDRSB    r0,[r9,r4]            ;5600
00353e  2800              CMP      r0,#0                 ;5600
003540  db19              BLT      |L1.13686|
003542  f1a00001          SUB      r0,r0,#1              ;5602
003546  b240              SXTB     r0,r0                 ;5602
003548  f8090004          STRB     r0,[r9,r4]            ;5602
00354c  2800              CMP      r0,#0                 ;5603
00354e  dc14              BGT      |L1.13690|
003550  553e              STRB     r6,[r7,r4]            ;5605
003552  e012              B        |L1.13690|
                  |L1.13652|
003554  f9190004          LDRSB    r0,[r9,r4]            ;5585
003558  280a              CMP      r0,#0xa               ;5585
00355a  da09              BGE      |L1.13680|
00355c  f1000001          ADD      r0,r0,#1              ;5587
003560  b240              SXTB     r0,r0                 ;5587
003562  f8090004          STRB     r0,[r9,r4]            ;5587
003566  280a              CMP      r0,#0xa               ;5588
003568  db07              BLT      |L1.13690|
00356a  f807a004          STRB     r10,[r7,r4]           ;5590
00356e  e004              B        |L1.13690|
                  |L1.13680|
003570  f809b004          STRB     r11,[r9,r4]           ;5595
003574  e001              B        |L1.13690|
                  |L1.13686|
003576  f8096004          STRB     r6,[r9,r4]            ;5610
                  |L1.13690|
00357a  f8181004          LDRB     r1,[r8,r4]
00357e  5d38              LDRB     r0,[r7,r4]
003580  4281              CMP      r1,r0
003582  d00e              BEQ      |L1.13730|
;;;5616   		{
;;;5617   		plazma_sk++;
003584  4a21              LDR      r2,|L1.13836|
003586  3a34              SUBS     r2,r2,#0x34
003588  8e51              LDRH     r1,[r2,#0x32]  ; plazma_sk
00358a  f1010101          ADD      r1,r1,#1
00358e  8651              STRH     r1,[r2,#0x32]
;;;5618   		if(sk_av_stat[i]==sasON)
003590  2801              CMP      r0,#1
003592  d007              BEQ      |L1.13732|
;;;5619   			{
;;;5620   			if(i==0)snmp_trap_send("SK #1 Alarm",15,1,1);
;;;5621   			else if(i==1)snmp_trap_send("SK #2 Alarm",15,2,1);
;;;5622   			else if(i==2)snmp_trap_send("SK #3 Alarm",15,3,1);
;;;5623   			else if(i==3)snmp_trap_send("SK #4 Alarm",15,4,1);
;;;5624   			}
;;;5625   		else 
;;;5626   			{
;;;5627   			if(i==0)snmp_trap_send("SK #1 Alarm is off",15,1,0);
003594  b354              CBZ      r4,|L1.13804|
;;;5628   			else if(i==1)snmp_trap_send("SK #2 Alarm is off",15,2,0);
003596  2c01              CMP      r4,#1
003598  d072              BEQ      |L1.13952|
;;;5629   			else if(i==2)snmp_trap_send("SK #3 Alarm is off",15,3,0);
00359a  2c02              CMP      r4,#2
00359c  d077              BEQ      |L1.13966|
;;;5630   			else if(i==3)snmp_trap_send("SK #4 Alarm is off",15,4,0);
00359e  2c03              CMP      r4,#3
0035a0  d07c              BEQ      |L1.13980|
                  |L1.13730|
0035a2  e081              B        |L1.13992|
                  |L1.13732|
0035a4  b134              CBZ      r4,|L1.13748|
0035a6  2c01              CMP      r4,#1                 ;5621
0035a8  d00b              BEQ      |L1.13762|
0035aa  2c02              CMP      r4,#2                 ;5622
0035ac  d010              BEQ      |L1.13776|
0035ae  2c03              CMP      r4,#3                 ;5623
0035b0  d015              BEQ      |L1.13790|
0035b2  e079              B        |L1.13992|
                  |L1.13748|
0035b4  2301              MOVS     r3,#1                 ;5620
0035b6  461a              MOV      r2,r3                 ;5620
0035b8  210f              MOVS     r1,#0xf               ;5620
0035ba  a01f              ADR      r0,|L1.13880|
0035bc  f7fffffe          BL       snmp_trap_send
0035c0  e072              B        |L1.13992|
                  |L1.13762|
0035c2  2301              MOVS     r3,#1                 ;5621
0035c4  2202              MOVS     r2,#2                 ;5621
0035c6  210f              MOVS     r1,#0xf               ;5621
0035c8  a01e              ADR      r0,|L1.13892|
0035ca  f7fffffe          BL       snmp_trap_send
0035ce  e06b              B        |L1.13992|
                  |L1.13776|
0035d0  2301              MOVS     r3,#1                 ;5622
0035d2  2203              MOVS     r2,#3                 ;5622
0035d4  210f              MOVS     r1,#0xf               ;5622
0035d6  a01e              ADR      r0,|L1.13904|
0035d8  f7fffffe          BL       snmp_trap_send
0035dc  e064              B        |L1.13992|
                  |L1.13790|
0035de  2301              MOVS     r3,#1                 ;5623
0035e0  2204              MOVS     r2,#4                 ;5623
0035e2  210f              MOVS     r1,#0xf               ;5623
0035e4  a01d              ADR      r0,|L1.13916|
0035e6  f7fffffe          BL       snmp_trap_send
0035ea  e05d              B        |L1.13992|
                  |L1.13804|
0035ec  2300              MOVS     r3,#0                 ;5627
0035ee  2201              MOVS     r2,#1                 ;5627
0035f0  210f              MOVS     r1,#0xf               ;5627
0035f2  a01d              ADR      r0,|L1.13928|
0035f4  f7fffffe          BL       snmp_trap_send
0035f8  e056              B        |L1.13992|
0035fa  e041              B        |L1.13952|
                  |L1.13820|
                          DCD      USIGN
                  |L1.13824|
                          DCD      bIBAT_SMKLBR
                  |L1.13828|
                          DCD      UB0
                  |L1.13832|
                          DCD      UB20
                  |L1.13836|
                          DCD      ||area_number.21||+0x34
                  |L1.13840|
                          DCD      NUMIST
                  |L1.13844|
                          DCD      sk_cnt
                  |L1.13848|
                          DCD      sk_stat
                  |L1.13852|
                          DCD      NUMSK
                  |L1.13856|
                          DCD      ||area_number.15||
                  |L1.13860|
                          DCD      ||.bss||+0x400
                  |L1.13864|
                          DCD      sk_av_cnt
                  |L1.13868|
                          DCD      sk_av_stat
                  |L1.13872|
                          DCD      sk_av_stat_old
                  |L1.13876|
                          DCD      SK_SIGN
                  |L1.13880|
003638  534b2023          DCB      "SK #1 Alarm",0
00363c  3120416c
003640  61726d00
                  |L1.13892|
003644  534b2023          DCB      "SK #2 Alarm",0
003648  3220416c
00364c  61726d00
                  |L1.13904|
003650  534b2023          DCB      "SK #3 Alarm",0
003654  3320416c
003658  61726d00
                  |L1.13916|
00365c  534b2023          DCB      "SK #4 Alarm",0
003660  3420416c
003664  61726d00
                  |L1.13928|
003668  534b2023          DCB      "SK #1 Alarm is off",0
00366c  3120416c
003670  61726d20
003674  6973206f
003678  666600  
00367b  00                DCB      0
00367c  e007              B        |L1.13966|
00367e  e00d              B        |L1.13980|
                  |L1.13952|
003680  2300              MOVS     r3,#0                 ;5628
003682  2202              MOVS     r2,#2                 ;5628
003684  210f              MOVS     r1,#0xf               ;5628
003686  a0f7              ADR      r0,|L1.14948|
003688  f7fffffe          BL       snmp_trap_send
00368c  e00c              B        |L1.13992|
                  |L1.13966|
00368e  2300              MOVS     r3,#0                 ;5629
003690  2203              MOVS     r2,#3                 ;5629
003692  210f              MOVS     r1,#0xf               ;5629
003694  a0f8              ADR      r0,|L1.14968|
003696  f7fffffe          BL       snmp_trap_send
00369a  e005              B        |L1.13992|
                  |L1.13980|
00369c  2300              MOVS     r3,#0
00369e  2204              MOVS     r2,#4
0036a0  210f              MOVS     r1,#0xf
0036a2  a0fa              ADR      r0,|L1.14988|
0036a4  f7fffffe          BL       snmp_trap_send
                  |L1.13992|
;;;5631   			}
;;;5632   	 	}
;;;5633   #endif
;;;5634   
;;;5635   #ifdef UKU_KONTUR
;;;5636   	if(sk_av_stat_old[i]!=sk_av_stat[i])
;;;5637   		{
;;;5638   		plazma_sk++;
;;;5639   		if(sk_av_stat[i]==sasON)
;;;5640   			{
;;;5641   			if(i==0)snmp_trap_send("Door is opened",15,1,1);
;;;5642   			else if(i==1)snmp_trap_send("Smoke Alarm",15,2,1);
;;;5643   			else if(i==2)snmp_trap_send("Shock Sensor Alarm",15,3,1);
;;;5644   			else if(i==3)snmp_trap_send("SK #4 Alarm",15,4,1);
;;;5645   			}
;;;5646   		else 
;;;5647   			{
;;;5648   			if(i==0)snmp_trap_send("Door is closed",15,1,0);
;;;5649   			else if(i==1)snmp_trap_send("Smoke Alarm is off",15,2,0);
;;;5650   			else if(i==2)snmp_trap_send("Shock Sensor Alarm is off",15,3,0);
;;;5651   			else if(i==3)snmp_trap_send("SK #4 Alarm is off",15,4,0);
;;;5652   			}
;;;5653   	 	}
;;;5654   #endif
;;;5655   	sk_av_stat_old[i]=sk_av_stat[i];
0036a8  5d38              LDRB     r0,[r7,r4]
0036aa  f8080004          STRB     r0,[r8,r4]
0036ae  f1040401          ADD      r4,r4,#1              ;5581
0036b2  b2e4              UXTB     r4,r4                 ;5581
                  |L1.14004|
0036b4  48fa              LDR      r0,|L1.15008|
0036b6  f9b00000          LDRSH    r0,[r0,#0]            ;5581  ; NUMSK
0036ba  4284              CMP      r4,r0                 ;5581
0036bc  f6ffaf33          BLT      |L1.13606|
;;;5656   	}
;;;5657   }
0036c0  e6f0              B        |L1.13476|
;;;5658   
                          ENDP

                  zar_superviser_start PROC
;;;5695   //-----------------------------------------------
;;;5696   void zar_superviser_start(void)
0036c2  4af8              LDR      r2,|L1.15012|
;;;5697   {
;;;5698   sign_U[0]=1;
0036c4  f04f0001          MOV      r0,#1
0036c8  7010              STRB     r0,[r2,#0]
;;;5699   sign_I[0]=1;
0036ca  49f7              LDR      r1,|L1.15016|
0036cc  7008              STRB     r0,[r1,#0]
;;;5700   sign_U[1]=1;
0036ce  7050              STRB     r0,[r2,#1]
;;;5701   sign_I[1]=1;
0036d0  7048              STRB     r0,[r1,#1]
;;;5702   
;;;5703   }
0036d2  4770              BX       lr
;;;5704   
                          ENDP

                  zar_superviser_drv PROC
;;;5660   //-----------------------------------------------
;;;5661   void zar_superviser_drv(void)
0036d4  e92d5ff0          PUSH     {r4-r12,lr}
;;;5662   {
;;;5663   
;;;5664   if(((bat[0]._Ub>u_necc_up) || (bat[0]._Ub<u_necc_dn))&&(main_kb_cnt<((TBAT*60)-30))&&(main_kb_cnt>((TBAT*60)-150))) sign_U[0]=0;
0036d8  48f5              LDR      r0,|L1.15024|
0036da  f8df93d8          LDR      r9,|L1.15028|
0036de  f8df83cc          LDR      r8,|L1.15020|
0036e2  f9b0c000          LDRSH    r12,[r0,#0]  ; u_necc_up
0036e6  f9b90000          LDRSH    r0,[r9,#0]
0036ea  4cf3              LDR      r4,|L1.15032|
0036ec  ebc01100          RSB      r1,r0,r0,LSL #4
0036f0  f9b87002          LDRSH    r7,[r8,#2]  ; bat
0036f4  f06f0a1d          MVN      r10,#0x1d
0036f8  f06f0b95          MVN      r11,#0x95
0036fc  2500              MOVS     r5,#0
0036fe  4ee9              LDR      r6,|L1.15012|
003700  f9b4003c          LDRSH    r0,[r4,#0x3c]
003704  eb0a0281          ADD      r2,r10,r1,LSL #2
003708  eb0b0381          ADD      r3,r11,r1,LSL #2
00370c  4567              CMP      r7,r12
00370e  dc05              BGT      |L1.14108|
003710  f8dfc3a8          LDR      r12,|L1.15036|
003714  f9bcc000          LDRSH    r12,[r12,#0]  ; u_necc_dn
003718  4567              CMP      r7,r12
00371a  da04              BGE      |L1.14118|
                  |L1.14108|
00371c  4282              CMP      r2,r0
00371e  dd02              BLE      |L1.14118|
003720  4283              CMP      r3,r0
003722  da00              BGE      |L1.14118|
003724  7035              STRB     r5,[r6,#0]
                  |L1.14118|
;;;5665   
;;;5666   if(((bat[0]._Ib>(2*IKB)) || (bat[0]._Ib<(-IKB*2))) &&(main_kb_cnt<((TBAT*60)-30))&&(main_kb_cnt>((TBAT*60)-150))) sign_I[0]=0;
003726  4fe6              LDR      r7,|L1.15040|
003728  f9b8c008          LDRSH    r12,[r8,#8]  ; bat
00372c  f9b7e000          LDRSH    lr,[r7,#0]  ; IKB
003730  4fdd              LDR      r7,|L1.15016|
003732  ebbc0f4e          CMP      r12,lr,LSL #1
003736  dc04              BGT      |L1.14146|
003738  f1ce0e00          RSB      lr,lr,#0
00373c  ebbc0f4e          CMP      r12,lr,LSL #1
003740  da04              BGE      |L1.14156|
                  |L1.14146|
003742  4282              CMP      r2,r0
003744  dd02              BLE      |L1.14156|
003746  4283              CMP      r3,r0
003748  da00              BGE      |L1.14156|
00374a  703d              STRB     r5,[r7,#0]
                  |L1.14156|
;;;5667   																 
;;;5668   if((main_kb_cnt==((TBAT*60)-10)) &&(spc_stat==spcOFF))
00374c  f06f0209          MVN      r2,#9
003750  eb020181          ADD      r1,r2,r1,LSL #2
003754  4281              CMP      r1,r0
003756  d120              BNE      |L1.14234|
003758  7ce0              LDRB     r0,[r4,#0x13]  ; spc_stat
00375a  b9f0              CBNZ     r0,|L1.14234|
;;;5669   	{
;;;5670   	if((sign_U[0]==1) && (sign_I[0]==1) && (lc640_read_int(EE_BAT1_ZAR_CNT)!=BAT_C_REAL[0]) && (NUMBAT) && (!(bat[0]._av&1)))
00375c  7830              LDRB     r0,[r6,#0]  ; sign_U
00375e  2801              CMP      r0,#1
003760  d11b              BNE      |L1.14234|
003762  7838              LDRB     r0,[r7,#0]  ; sign_I
003764  2801              CMP      r0,#1
003766  d118              BNE      |L1.14234|
003768  f44f70d6          MOV      r0,#0x1ac
00376c  f7fffffe          BL       lc640_read_int
003770  49d4              LDR      r1,|L1.15044|
003772  f9b11000          LDRSH    r1,[r1,#0]  ; BAT_C_REAL
003776  4288              CMP      r0,r1
003778  d00f              BEQ      |L1.14234|
00377a  48d3              LDR      r0,|L1.15048|
00377c  8800              LDRH     r0,[r0,#0]  ; NUMBAT
00377e  b160              CBZ      r0,|L1.14234|
003780  f898003d          LDRB     r0,[r8,#0x3d]  ; bat
003784  07c0              LSLS     r0,r0,#31
003786  d108              BNE      |L1.14234|
;;;5671   		{
;;;5672   		lc640_write_int(EE_BAT1_ZAR_CNT,BAT_C_REAL[0]);
003788  f44f70d6          MOV      r0,#0x1ac
00378c  f7fffffe          BL       lc640_write_int
;;;5673   		superviser_cnt++;
003790  48ce              LDR      r0,|L1.15052|
003792  7801              LDRB     r1,[r0,#0]  ; superviser_cnt
003794  f1010101          ADD      r1,r1,#1
003798  7001              STRB     r1,[r0,#0]
                  |L1.14234|
;;;5674   		}
;;;5675   	
;;;5676   	}
;;;5677   
;;;5678   if(((bat[0]._Ub>u_necc_up) || (bat[1]._Ub<u_necc_dn))&&(main_kb_cnt<((TBAT*60)-30))&&(main_kb_cnt>((TBAT*60)-150))) sign_U[1]=0;
00379a  48c5              LDR      r0,|L1.15024|
00379c  f9b81002          LDRSH    r1,[r8,#2]  ; bat
0037a0  f9b00000          LDRSH    r0,[r0,#0]  ; u_necc_up
0037a4  4281              CMP      r1,r0
0037a6  dc06              BGT      |L1.14262|
0037a8  48c4              LDR      r0,|L1.15036|
0037aa  f9b8104e          LDRSH    r1,[r8,#0x4e]  ; bat
0037ae  f9b00000          LDRSH    r0,[r0,#0]  ; u_necc_dn
0037b2  4281              CMP      r1,r0
0037b4  da0e              BGE      |L1.14292|
                  |L1.14262|
0037b6  f9b90000          LDRSH    r0,[r9,#0]  ; TBAT
0037ba  f9b4103c          LDRSH    r1,[r4,#0x3c]  ; main_kb_cnt
0037be  ebc01000          RSB      r0,r0,r0,LSL #4
0037c2  eb0a0280          ADD      r2,r10,r0,LSL #2
0037c6  428a              CMP      r2,r1
0037c8  dd04              BLE      |L1.14292|
0037ca  eb0b0080          ADD      r0,r11,r0,LSL #2
0037ce  4288              CMP      r0,r1
0037d0  da00              BGE      |L1.14292|
0037d2  7075              STRB     r5,[r6,#1]
                  |L1.14292|
;;;5679   
;;;5680   if(((bat[1]._Ib>(2*IKB)) || (bat[1]._Ib<(-IKB*2))) &&(main_kb_cnt<((TBAT*60)-30))&&(main_kb_cnt>((TBAT*60)-150))) sign_I[1]=0;
0037d4  49ba              LDR      r1,|L1.15040|
0037d6  f9b80054          LDRSH    r0,[r8,#0x54]  ; bat
0037da  f9b11000          LDRSH    r1,[r1,#0]  ; IKB
0037de  ebb00f41          CMP      r0,r1,LSL #1
0037e2  dc03              BGT      |L1.14316|
0037e4  4249              RSBS     r1,r1,#0
0037e6  ebb00f41          CMP      r0,r1,LSL #1
0037ea  da0e              BGE      |L1.14346|
                  |L1.14316|
0037ec  f9b90000          LDRSH    r0,[r9,#0]  ; TBAT
0037f0  f9b4103c          LDRSH    r1,[r4,#0x3c]  ; main_kb_cnt
0037f4  ebc01000          RSB      r0,r0,r0,LSL #4
0037f8  eb0a0280          ADD      r2,r10,r0,LSL #2
0037fc  428a              CMP      r2,r1
0037fe  dd04              BLE      |L1.14346|
003800  eb0b0080          ADD      r0,r11,r0,LSL #2
003804  4288              CMP      r0,r1
003806  da00              BGE      |L1.14346|
003808  707d              STRB     r5,[r7,#1]
                  |L1.14346|
;;;5681   																 
;;;5682   if((main_kb_cnt==((TBAT*60)-10)) &&(spc_stat==spcOFF))
00380a  f9b90000          LDRSH    r0,[r9,#0]  ; TBAT
00380e  ebc01100          RSB      r1,r0,r0,LSL #4
003812  f06f0009          MVN      r0,#9
003816  eb000081          ADD      r0,r0,r1,LSL #2
00381a  f9b4103c          LDRSH    r1,[r4,#0x3c]  ; main_kb_cnt
00381e  4288              CMP      r0,r1
003820  d121              BNE      |L1.14438|
003822  7ce0              LDRB     r0,[r4,#0x13]  ; spc_stat
003824  b9f8              CBNZ     r0,|L1.14438|
;;;5683   	{
;;;5684   	if((sign_U[1]==1) && (sign_I[1]==1) && (lc640_read_int(EE_BAT2_ZAR_CNT)!=BAT_C_REAL[1]) && (NUMBAT==2) && (!(bat[1]._av&1)))
003826  7870              LDRB     r0,[r6,#1]  ; sign_U
003828  2801              CMP      r0,#1
00382a  d11c              BNE      |L1.14438|
00382c  7878              LDRB     r0,[r7,#1]  ; sign_I
00382e  2801              CMP      r0,#1
003830  d119              BNE      |L1.14438|
003832  f44f75e5          MOV      r5,#0x1ca
003836  4628              MOV      r0,r5
003838  f7fffffe          BL       lc640_read_int
00383c  49a1              LDR      r1,|L1.15044|
00383e  f9b11002          LDRSH    r1,[r1,#2]  ; BAT_C_REAL
003842  4288              CMP      r0,r1
003844  d00f              BEQ      |L1.14438|
003846  48a0              LDR      r0,|L1.15048|
003848  8800              LDRH     r0,[r0,#0]  ; NUMBAT
00384a  2802              CMP      r0,#2
00384c  d10b              BNE      |L1.14438|
00384e  f8980089          LDRB     r0,[r8,#0x89]  ; bat
003852  07c0              LSLS     r0,r0,#31
003854  d107              BNE      |L1.14438|
;;;5685   		{
;;;5686   		lc640_write_int(EE_BAT2_ZAR_CNT,BAT_C_REAL[1]);
003856  4628              MOV      r0,r5
003858  f7fffffe          BL       lc640_write_int
;;;5687   		superviser_cnt++;
00385c  489b              LDR      r0,|L1.15052|
00385e  7801              LDRB     r1,[r0,#0]  ; superviser_cnt
003860  f1010101          ADD      r1,r1,#1
003864  7001              STRB     r1,[r0,#0]
                  |L1.14438|
;;;5688   		}
;;;5689   	
;;;5690   	}
;;;5691   
;;;5692   if(main_kb_cnt==((TBAT*60)-2)) zar_superviser_start();
003866  f9b90000          LDRSH    r0,[r9,#0]  ; TBAT
00386a  f06f0101          MVN      r1,#1
00386e  ebc01000          RSB      r0,r0,r0,LSL #4
003872  eb010080          ADD      r0,r1,r0,LSL #2
003876  f9b4103c          LDRSH    r1,[r4,#0x3c]  ; main_kb_cnt
00387a  4288              CMP      r0,r1
00387c  d102              BNE      |L1.14468|
00387e  e8bd5ff0          POP      {r4-r12,lr}
003882  e7fe              B        zar_superviser_start
                  |L1.14468|
;;;5693   }
003884  e60e              B        |L1.13476|
;;;5694   
                          ENDP

                  npn_hndl PROC
;;;5705   //-----------------------------------------------
;;;5706   void npn_hndl(void)
003886  e92d03f0          PUSH     {r4-r9}
;;;5707   {
;;;5708   if(NPN_OUT!=npnoOFF)
00388a  4891              LDR      r0,|L1.15056|
;;;5709   	{
;;;5710   /*	if(NPN_SIGN==npnsAVNET)
;;;5711   		{
;;;5712   		if(net_av==1)
;;;5713   			{
;;;5714   			if(npn_tz_cnt<TZNPN)
;;;5715   				{
;;;5716   				npn_tz_cnt++;
;;;5717   				if(npn_tz_cnt==TZNPN)
;;;5718   					{
;;;5719   					npn_stat=npnsOFF;
;;;5720   					}
;;;5721   				}
;;;5722   			}
;;;5723   		else
;;;5724   			{
;;;5725   			if(npn_tz_cnt)
;;;5726   				{
;;;5727   				npn_tz_cnt--;
;;;5728   				if(npn_tz_cnt==0)
;;;5729   					{
;;;5730   					npn_stat=npnsON;
;;;5731   					}
;;;5732   				}
;;;5733   			}
;;;5734   		}*/
;;;5735   /*	if(NPN_SIGN==npnsULOAD)
;;;5736   		{
;;;5737   		if(load_U<UONPN)
;;;5738   			{
;;;5739   			if(npn_tz_cnt<TZNPN)
;;;5740   				{
;;;5741   				npn_tz_cnt++;
;;;5742   				if(npn_tz_cnt==TZNPN)
;;;5743   					{
;;;5744   					npn_stat=npnsOFF;
;;;5745   					}
;;;5746   				}
;;;5747   			}
;;;5748   		else if(load_U>UVNPN)
;;;5749   			{
;;;5750   			if(npn_tz_cnt)
;;;5751   				{
;;;5752   				npn_tz_cnt--;
;;;5753   				if(npn_tz_cnt==0)
;;;5754   					{
;;;5755   					npn_stat=npnsON;
;;;5756   					}
;;;5757   				}
;;;5758   			}
;;;5759   		}*/
;;;5760   
;;;5761   	if((load_U<UONPN)&&((net_Ua<UMN)||(net_Ub<UMN)||(net_Uc<UMN)))
;;;5762   		{
;;;5763   		if(npn_tz_cnt<TZNPN)
00388c  4f91              LDR      r7,|L1.15060|
;;;5764   			{
;;;5765   			npn_tz_cnt++;
;;;5766   			if(npn_tz_cnt==TZNPN)
;;;5767   				{
;;;5768   				npn_stat=npnsOFF;
00388e  4e92              LDR      r6,|L1.15064|
003890  7800              LDRB     r0,[r0,#0]            ;5708  ; NPN_OUT
003892  f04f0c00          MOV      r12,#0                ;5708
;;;5769   				}
;;;5770   			}
;;;5771   		}
;;;5772   	else if((load_U>UVNPN)&&(net_Ua>UMN)&&(net_Ub>UMN)&&(net_Uc>UMN))
;;;5773   		{
;;;5774   		if(npn_tz_cnt)
;;;5775   			{
;;;5776   			npn_tz_cnt--;
;;;5777   			if(npn_tz_cnt==0)
;;;5778   				{
;;;5779   				npn_stat=npnsON;
003896  f04f0801          MOV      r8,#1
00389a  b3e8              CBZ      r0,|L1.14616|
00389c  488f              LDR      r0,|L1.15068|
00389e  4639              MOV      r1,r7                 ;5763
0038a0  f9b05000          LDRSH    r5,[r0,#0]            ;5761  ; load_U
0038a4  488e              LDR      r0,|L1.15072|
0038a6  f9b11000          LDRSH    r1,[r1,#0]            ;5763
0038aa  f9b09000          LDRSH    r9,[r0,#0]            ;5761  ; UONPN
0038ae  488d              LDR      r0,|L1.15076|
0038b0  454d              CMP      r5,r9                 ;5761
0038b2  f9b02000          LDRSH    r2,[r0,#0]            ;5761
0038b6  488c              LDR      r0,|L1.15080|
0038b8  f9b03000          LDRSH    r3,[r0,#0]            ;5761
0038bc  488b              LDR      r0,|L1.15084|
0038be  f9b04000          LDRSH    r4,[r0,#0]            ;5761
0038c2  488b              LDR      r0,|L1.15088|
0038c4  f9b00000          LDRSH    r0,[r0,#0]            ;5761
0038c8  da13              BGE      |L1.14578|
0038ca  4282              CMP      r2,r0                 ;5761
0038cc  db03              BLT      |L1.14550|
0038ce  4283              CMP      r3,r0                 ;5761
0038d0  db01              BLT      |L1.14550|
0038d2  4284              CMP      r4,r0                 ;5761
0038d4  da0d              BGE      |L1.14578|
                  |L1.14550|
0038d6  4887              LDR      r0,|L1.15092|
0038d8  f9b02000          LDRSH    r2,[r0,#0]            ;5763  ; TZNPN
0038dc  4291              CMP      r1,r2                 ;5763
0038de  da23              BGE      |L1.14632|
0038e0  f1010101          ADD      r1,r1,#1              ;5765
0038e4  b208              SXTH     r0,r1                 ;5765
0038e6  8038              STRH     r0,[r7,#0]            ;5765
0038e8  4290              CMP      r0,r2                 ;5766
0038ea  d11d              BNE      |L1.14632|
0038ec  f886c000          STRB     r12,[r6,#0]           ;5768
0038f0  e01a              B        |L1.14632|
                  |L1.14578|
0038f2  f8dfc204          LDR      r12,|L1.15096|
0038f6  f9bcc000          LDRSH    r12,[r12,#0]          ;5772  ; UVNPN
0038fa  4565              CMP      r5,r12                ;5772
0038fc  dd14              BLE      |L1.14632|
0038fe  4282              CMP      r2,r0                 ;5772
003900  dd12              BLE      |L1.14632|
003902  4283              CMP      r3,r0                 ;5772
003904  dd10              BLE      |L1.14632|
003906  4284              CMP      r4,r0                 ;5772
003908  dd0e              BLE      |L1.14632|
00390a  b169              CBZ      r1,|L1.14632|
00390c  f1a10101          SUB      r1,r1,#1              ;5776
003910  b208              SXTH     r0,r1                 ;5776
003912  8038              STRH     r0,[r7,#0]            ;5776
003914  b940              CBNZ     r0,|L1.14632|
003916  e000              B        |L1.14618|
                  |L1.14616|
003918  e002              B        |L1.14624|
                  |L1.14618|
00391a  f8868000          STRB     r8,[r6,#0]
00391e  e003              B        |L1.14632|
                  |L1.14624|
;;;5780   				}
;;;5781   			}
;;;5782   		}
;;;5783   	}
;;;5784   else
;;;5785   	{
;;;5786   	npn_tz_cnt=0;
003920  f8a7c000          STRH     r12,[r7,#0]
;;;5787   	npn_stat=npnsON;
003924  f8868000          STRB     r8,[r6,#0]
                  |L1.14632|
;;;5788   	}
;;;5789   
;;;5790   if(npn_stat==npnsOFF) mess_send(MESS2RELE_HNDL,PARAM_RELE_NPN,1,15);
003928  7830              LDRB     r0,[r6,#0]  ; npn_stat
00392a  2800              CMP      r0,#0
00392c  d107              BNE      |L1.14654|
00392e  e8bd03f0          POP      {r4-r9}
003932  230f              MOVS     r3,#0xf
003934  2201              MOVS     r2,#1
003936  216e              MOVS     r1,#0x6e
003938  20d2              MOVS     r0,#0xd2
00393a  f7ffbffe          B.W      mess_send
                  |L1.14654|
;;;5791   
;;;5792   
;;;5793   }
00393e  e8bd03f0          POP      {r4-r9}
003942  4770              BX       lr
;;;5794   
                          ENDP

                  speedChargeHndl PROC
;;;5795   //-----------------------------------------------
;;;5796   void speedChargeHndl(void)
003944  b5f8              PUSH     {r3-r7,lr}
;;;5797   {
;;;5798   if(speedChIsOn)
003946  4f6d              LDR      r7,|L1.15100|
;;;5799   	{
;;;5800   	speedChTimeCnt++;
;;;5801   	if(speedChTimeCnt>=((signed long)speedChrgTimeInHour*3600L))
;;;5802   		{
;;;5803   		speedChIsOn=0;
;;;5804   		}
;;;5805   	if(speedChrgBlckStat)
003948  4d6d              LDR      r5,|L1.15104|
00394a  2400              MOVS     r4,#0                 ;5798
00394c  8838              LDRH     r0,[r7,#0]            ;5798  ; speedChIsOn
00394e  b198              CBZ      r0,|L1.14712|
003950  4a6c              LDR      r2,|L1.15108|
003952  6811              LDR      r1,[r2,#0]            ;5800  ; speedChTimeCnt
003954  f1010101          ADD      r1,r1,#1              ;5800
003958  6011              STR      r1,[r2,#0]            ;5800  ; speedChTimeCnt
00395a  486b              LDR      r0,|L1.15112|
00395c  f9b00000          LDRSH    r0,[r0,#0]            ;5801  ; speedChrgTimeInHour
003960  ebc01340          RSB      r3,r0,r0,LSL #5       ;5801
003964  ebc32000          RSB      r0,r3,r0,LSL #8       ;5801
003968  ebb11f00          CMP      r1,r0,LSL #4          ;5801
00396c  db00              BLT      |L1.14704|
00396e  803c              STRH     r4,[r7,#0]            ;5803
                  |L1.14704|
003970  8828              LDRH     r0,[r5,#0]  ; speedChrgBlckStat
003972  b108              CBZ      r0,|L1.14712|
;;;5806   		{
;;;5807   		speedChIsOn=0;
003974  803c              STRH     r4,[r7,#0]
;;;5808   		speedChTimeCnt=0;
003976  6014              STR      r4,[r2,#0]  ; speedChTimeCnt
                  |L1.14712|
;;;5809   		}
;;;5810   	}
;;;5811   
;;;5812   
;;;5813   
;;;5814   if(speedChrgAvtEn)
003978  4864              LDR      r0,|L1.15116|
;;;5815   	{
;;;5816   	if(!speedChIsOn)
;;;5817   		{
;;;5818   		if((load_U<u_necc)&&((u_necc-load_U)>speedChrgDU)&&(abs(Ib_ips_termokompensat/10-IZMAX)<5)&&(!speedChrgBlckStat))
;;;5819   			{
;;;5820   			speedChIsOn=1;
00397a  2601              MOVS     r6,#1
00397c  8800              LDRH     r0,[r0,#0]            ;5814  ; speedChrgAvtEn
00397e  b300              CBZ      r0,|L1.14786|
003980  8838              LDRH     r0,[r7,#0]            ;5816  ; speedChIsOn
003982  b9f0              CBNZ     r0,|L1.14786|
003984  4855              LDR      r0,|L1.15068|
003986  4962              LDR      r1,|L1.15120|
003988  f9b00000          LDRSH    r0,[r0,#0]            ;5818  ; load_U
00398c  f9b11000          LDRSH    r1,[r1,#0]            ;5818  ; u_necc
003990  4288              CMP      r0,r1                 ;5818
003992  da16              BGE      |L1.14786|
003994  1a08              SUBS     r0,r1,r0              ;5818
003996  495f              LDR      r1,|L1.15124|
003998  f9b11000          LDRSH    r1,[r1,#0]            ;5818  ; speedChrgDU
00399c  4288              CMP      r0,r1                 ;5818
00399e  dd10              BLE      |L1.14786|
0039a0  485d              LDR      r0,|L1.15128|
0039a2  210a              MOVS     r1,#0xa               ;5818
0039a4  f9b00000          LDRSH    r0,[r0,#0]            ;5818  ; Ib_ips_termokompensat
0039a8  fb90f0f1          SDIV     r0,r0,r1              ;5818
0039ac  495b              LDR      r1,|L1.15132|
0039ae  8809              LDRH     r1,[r1,#0]            ;5818  ; IZMAX
0039b0  1a40              SUBS     r0,r0,r1              ;5818
0039b2  b200              SXTH     r0,r0                 ;5818
0039b4  f7fffffe          BL       abs
0039b8  2805              CMP      r0,#5                 ;5818
0039ba  da02              BGE      |L1.14786|
0039bc  8828              LDRH     r0,[r5,#0]            ;5818  ; speedChrgBlckStat
0039be  b900              CBNZ     r0,|L1.14786|
0039c0  803e              STRH     r6,[r7,#0]
                  |L1.14786|
;;;5821   			}
;;;5822   		}
;;;5823   	}
;;;5824   
;;;5825   
;;;5826   
;;;5827   if((speedChrgBlckSrc!=1)&&(speedChrgBlckSrc!=2)) speedChrgBlckStat=0;
0039c2  4857              LDR      r0,|L1.15136|
0039c4  f9b00000          LDRSH    r0,[r0,#0]  ; speedChrgBlckSrc
0039c8  2801              CMP      r0,#1
0039ca  d003              BEQ      |L1.14804|
0039cc  2802              CMP      r0,#2
0039ce  d001              BEQ      |L1.14804|
0039d0  802c              STRH     r4,[r5,#0]
0039d2  e026              B        |L1.14882|
                  |L1.14804|
;;;5828   else
;;;5829   	{
;;;5830   	speedChrgBlckStat=0;
0039d4  802c              STRH     r4,[r5,#0]
;;;5831   	if(speedChrgBlckSrc==1)
;;;5832   		{
;;;5833   		if(((speedChrgBlckLog==0)&&(adc_buff_[11]>2000)) || ((speedChrgBlckLog==1)&&(adc_buff_[11]<2000))) speedChrgBlckStat=1;
0039d6  4b53              LDR      r3,|L1.15140|
0039d8  4953              LDR      r1,|L1.15144|
0039da  f44f62fa          MOV      r2,#0x7d0
0039de  2801              CMP      r0,#1                 ;5831
0039e0  d002              BEQ      |L1.14824|
;;;5834   		}
;;;5835   	else if(speedChrgBlckSrc==2)
0039e2  2802              CMP      r0,#2
0039e4  d00f              BEQ      |L1.14854|
0039e6  e01c              B        |L1.14882|
                  |L1.14824|
0039e8  f9b30000          LDRSH    r0,[r3,#0]            ;5833  ; speedChrgBlckLog
0039ec  b918              CBNZ     r0,|L1.14838|
0039ee  f9b13016          LDRSH    r3,[r1,#0x16]         ;5833  ; adc_buff_
0039f2  4293              CMP      r3,r2                 ;5833
0039f4  dc05              BGT      |L1.14850|
                  |L1.14838|
0039f6  2801              CMP      r0,#1                 ;5833
0039f8  d113              BNE      |L1.14882|
0039fa  f9b10016          LDRSH    r0,[r1,#0x16]         ;5833  ; adc_buff_
0039fe  4290              CMP      r0,r2                 ;5833
003a00  da0f              BGE      |L1.14882|
                  |L1.14850|
003a02  802e              STRH     r6,[r5,#0]            ;5833
003a04  e00d              B        |L1.14882|
                  |L1.14854|
;;;5836   		{
;;;5837   		if(((speedChrgBlckLog==0)&&(adc_buff_[13]>2000)) || ((speedChrgBlckLog==1)&&(adc_buff_[13]<2000))) speedChrgBlckStat=1;
003a06  f9b30000          LDRSH    r0,[r3,#0]  ; speedChrgBlckLog
003a0a  b918              CBNZ     r0,|L1.14868|
003a0c  f9b1301a          LDRSH    r3,[r1,#0x1a]  ; adc_buff_
003a10  4293              CMP      r3,r2
003a12  dc05              BGT      |L1.14880|
                  |L1.14868|
003a14  2801              CMP      r0,#1
003a16  d104              BNE      |L1.14882|
003a18  f9b1001a          LDRSH    r0,[r1,#0x1a]  ; adc_buff_
003a1c  4290              CMP      r0,r2
003a1e  da00              BGE      |L1.14882|
                  |L1.14880|
003a20  802e              STRH     r6,[r5,#0]
                  |L1.14882|
;;;5838   		}
;;;5839   	}
;;;5840   
;;;5841   
;;;5842   if(speedChrgBlckStat==1)
003a22  8828              LDRH     r0,[r5,#0]  ; speedChrgBlckStat
;;;5843   	{
;;;5844   
;;;5845   	//speedChargeStartStop();
;;;5846   
;;;5847   	speedChrgShowCnt++;
003a24  4941              LDR      r1,|L1.15148|
003a26  2801              CMP      r0,#1                 ;5842
003a28  d001              BEQ      |L1.14894|
;;;5848   	if(speedChrgShowCnt>=30)	
;;;5849   		{
;;;5850   		speedChrgShowCnt=0;
;;;5851   		show_mess(	"          ",
;;;5852   					"               ",
;;;5853   					"     !!!    ",
;;;5854   					"                    ",
;;;5855   					5000);
;;;5856   		}
;;;5857   	}
;;;5858   else speedChrgShowCnt=0;
003a2a  700c              STRB     r4,[r1,#0]
                  |L1.14892|
;;;5859   
;;;5860   
;;;5861   }
003a2c  bdf8              POP      {r3-r7,pc}
                  |L1.14894|
003a2e  7808              LDRB     r0,[r1,#0]            ;5847  ; speedChrgShowCnt
003a30  f1000001          ADD      r0,r0,#1              ;5847
003a34  b2c0              UXTB     r0,r0                 ;5847
003a36  7008              STRB     r0,[r1,#0]            ;5847
003a38  281e              CMP      r0,#0x1e              ;5848
003a3a  d3f7              BCC      |L1.14892|
003a3c  700c              STRB     r4,[r1,#0]            ;5850
003a3e  f2413088          MOV      r0,#0x1388            ;5851
003a42  9000              STR      r0,[sp,#0]            ;5851
003a44  a33a              ADR      r3,|L1.15152|
003a46  a240              ADR      r2,|L1.15176|
003a48  a145              ADR      r1,|L1.15200|
003a4a  a04b              ADR      r0,|L1.15224|
003a4c  f7fffffe          BL       show_mess
003a50  bdf8              POP      {r3-r7,pc}
;;;5862   
                          ENDP

                  speedChargeStartStop PROC
;;;5863   //-----------------------------------------------
;;;5864   void speedChargeStartStop(void)
003a52  b508              PUSH     {r3,lr}
;;;5865   {
;;;5866   if(speedChIsOn)
003a54  4829              LDR      r0,|L1.15100|
003a56  2100              MOVS     r1,#0
003a58  8802              LDRH     r2,[r0,#0]  ; speedChIsOn
003a5a  b10a              CBZ      r2,|L1.14944|
;;;5867   	{
;;;5868   	speedChIsOn=0;
003a5c  8001              STRH     r1,[r0,#0]
                  |L1.14942|
;;;5869   	}
;;;5870   
;;;5871   else
;;;5872   	{
;;;5873   	if(speedChrgBlckStat==0)
;;;5874   		{
;;;5875   		speedChIsOn=1;
;;;5876   		speedChTimeCnt=0;
;;;5877   		}
;;;5878   	else
;;;5879   		{
;;;5880   		show_mess(	"          ",
;;;5881   	          		"               ",
;;;5882   	          		"    !   ",
;;;5883   	          		"                    ",2000);	 
;;;5884   		}
;;;5885   	}
;;;5886   }
003a5e  bd08              POP      {r3,pc}
                  |L1.14944|
003a60  e096              B        |L1.15248|
003a62  0000              DCW      0x0000
                  |L1.14948|
003a64  534b2023          DCB      "SK #2 Alarm is off",0
003a68  3220416c
003a6c  61726d20
003a70  6973206f
003a74  666600  
003a77  00                DCB      0
                  |L1.14968|
003a78  534b2023          DCB      "SK #3 Alarm is off",0
003a7c  3320416c
003a80  61726d20
003a84  6973206f
003a88  666600  
003a8b  00                DCB      0
                  |L1.14988|
003a8c  534b2023          DCB      "SK #4 Alarm is off",0
003a90  3420416c
003a94  61726d20
003a98  6973206f
003a9c  666600  
003a9f  00                DCB      0
                  |L1.15008|
                          DCD      NUMSK
                  |L1.15012|
                          DCD      sign_U
                  |L1.15016|
                          DCD      sign_I
                  |L1.15020|
                          DCD      bat
                  |L1.15024|
                          DCD      u_necc_up
                  |L1.15028|
                          DCD      TBAT
                  |L1.15032|
                          DCD      ||area_number.21||
                  |L1.15036|
                          DCD      u_necc_dn
                  |L1.15040|
                          DCD      IKB
                  |L1.15044|
                          DCD      BAT_C_REAL
                  |L1.15048|
                          DCD      NUMBAT
                  |L1.15052|
                          DCD      superviser_cnt
                  |L1.15056|
                          DCD      NPN_OUT
                  |L1.15060|
                          DCD      npn_tz_cnt
                  |L1.15064|
                          DCD      npn_stat
                  |L1.15068|
                          DCD      load_U
                  |L1.15072|
                          DCD      UONPN
                  |L1.15076|
                          DCD      net_Ua
                  |L1.15080|
                          DCD      net_Ub
                  |L1.15084|
                          DCD      net_Uc
                  |L1.15088|
                          DCD      UMN
                  |L1.15092|
                          DCD      TZNPN
                  |L1.15096|
                          DCD      UVNPN
                  |L1.15100|
                          DCD      speedChIsOn
                  |L1.15104|
                          DCD      speedChrgBlckStat
                  |L1.15108|
                          DCD      speedChTimeCnt
                  |L1.15112|
                          DCD      speedChrgTimeInHour
                  |L1.15116|
                          DCD      speedChrgAvtEn
                  |L1.15120|
                          DCD      u_necc
                  |L1.15124|
                          DCD      speedChrgDU
                  |L1.15128|
                          DCD      Ib_ips_termokompensat
                  |L1.15132|
                          DCD      IZMAX
                  |L1.15136|
                          DCD      speedChrgBlckSrc
                  |L1.15140|
                          DCD      speedChrgBlckLog
                  |L1.15144|
                          DCD      ||.bss||+0x400
                  |L1.15148|
                          DCD      speedChrgShowCnt
                  |L1.15152|
003b30  20202020          DCB      "                    ",0
003b34  20202020
003b38  20202020
003b3c  20202020
003b40  20202020
003b44  00      
003b45  00                DCB      0
003b46  00                DCB      0
003b47  00                DCB      0
                  |L1.15176|
003b48  20202020          DCB      "     ",199,192,207,208,197,217,197,205,"!!!    ",0
003b4c  20c7c0cf
003b50  d0c5d9c5
003b54  cd212121
003b58  20202020
003b5c  00      
003b5d  00                DCB      0
003b5e  00                DCB      0
003b5f  00                DCB      0
                  |L1.15200|
003b60  20202020          DCB      "       ",199,192,208,223,196,"        ",0
003b64  202020c7
003b68  c0d0dfc4
003b6c  20202020
003b70  20202020
003b74  00      
003b75  00                DCB      0
003b76  00                DCB      0
003b77  00                DCB      0
                  |L1.15224|
003b78  20202020          DCB      "     ",211,209,202,206,208,197,205,205,219,201,"     ",0
003b7c  20d3d1ca
003b80  ced0c5cd
003b84  cddbc920
003b88  20202020
003b8c  00      
003b8d  00                DCB      0
003b8e  00                DCB      0
003b8f  00                DCB      0
                  |L1.15248|
003b90  4af3              LDR      r2,|L1.16224|
003b92  8812              LDRH     r2,[r2,#0]            ;5873  ; speedChrgBlckStat
003b94  b152              CBZ      r2,|L1.15276|
003b96  f44f60fa          MOV      r0,#0x7d0             ;5880
003b9a  f2af036c          ADR      r3,|L1.15152|
003b9e  9000              STR      r0,[sp,#0]            ;5880
003ba0  a2f0              ADR      r2,|L1.16228|
003ba2  a1f6              ADR      r1,|L1.16252|
003ba4  a0fb              ADR      r0,|L1.16276|
003ba6  f7fffffe          BL       show_mess
003baa  e758              B        |L1.14942|
                  |L1.15276|
003bac  f04f0201          MOV      r2,#1                 ;5875
003bb0  8002              STRH     r2,[r0,#0]            ;5875
003bb2  48fe              LDR      r0,|L1.16300|
003bb4  6001              STR      r1,[r0,#0]            ;5876  ; speedChTimeCnt
003bb6  e752              B        |L1.14942|
;;;5887   
                          ENDP

                  numOfForvardBps_hndl PROC
;;;5888   //-----------------------------------------------
;;;5889   void	numOfForvardBps_hndl(void)			//       
003bb8  e92d41f0          PUSH     {r4-r8,lr}
;;;5890   {
;;;5891   numOfForvardBps=0;
003bbc  4cfc              LDR      r4,|L1.16304|
003bbe  f04f0500          MOV      r5,#0
003bc2  7625              STRB     r5,[r4,#0x18]
;;;5892   
;;;5893   //FORVARDBPSCHHOUR=10;
;;;5894   
;;;5895   if((FORVARDBPSCHHOUR<=0)||(FORVARDBPSCHHOUR>500))
003bc4  4efb              LDR      r6,|L1.16308|
003bc6  f9b60000          LDRSH    r0,[r6,#0]  ; FORVARDBPSCHHOUR
003bca  2800              CMP      r0,#0
003bcc  dd02              BLE      |L1.15316|
003bce  f5b07ffa          CMP      r0,#0x1f4
003bd2  dd02              BLE      |L1.15322|
                  |L1.15316|
;;;5896   	{
;;;5897   	FORVARDBPSCHHOUR=0;
003bd4  8035              STRH     r5,[r6,#0]
                  |L1.15318|
;;;5898   	return;
;;;5899   	}
;;;5900   
;;;5901   numOfForvardBps_minCnt++;
;;;5902   
;;;5903   
;;;5904   if(numOfForvardBps_minCnt>=60)
;;;5905   	{
;;;5906   	numOfForvardBps_minCnt=0;
;;;5907   	numOfForvardBps_hourCnt=lc640_read_int(EE_FORVBPSHOURCNT);
;;;5908   	numOfForvardBps_hourCnt++;
;;;5909   	if(numOfForvardBps_hourCnt>=(FORVARDBPSCHHOUR*NUMIST))
;;;5910   		{
;;;5911   		numOfForvardBps_hourCnt=0;
;;;5912   		}
;;;5913   	lc640_write_int(EE_FORVBPSHOURCNT,numOfForvardBps_hourCnt);
;;;5914   	}
;;;5915   
;;;5916   numOfForvardBps=numOfForvardBps_hourCnt/FORVARDBPSCHHOUR; 
;;;5917   }
003bd6  e8bd81f0          POP      {r4-r8,pc}
                  |L1.15322|
003bda  7e60              LDRB     r0,[r4,#0x19]         ;5901  ; numOfForvardBps_minCnt
003bdc  f1000001          ADD      r0,r0,#1              ;5901
003be0  b2c0              UXTB     r0,r0                 ;5901
003be2  7660              STRB     r0,[r4,#0x19]         ;5901
003be4  283c              CMP      r0,#0x3c              ;5904
003be6  d31a              BCC      |L1.15390|
003be8  7665              STRB     r5,[r4,#0x19]         ;5906
003bea  f44f7794          MOV      r7,#0x128             ;5907
003bee  4638              MOV      r0,r7                 ;5907
003bf0  f7fffffe          BL       lc640_read_int
003bf4  f1000001          ADD      r0,r0,#1              ;5908
003bf8  b200              SXTH     r0,r0                 ;5908
003bfa  f8a4005e          STRH     r0,[r4,#0x5e]         ;5908
003bfe  4aee              LDR      r2,|L1.16312|
003c00  f9b61000          LDRSH    r1,[r6,#0]            ;5909  ; FORVARDBPSCHHOUR
003c04  f9b22000          LDRSH    r2,[r2,#0]            ;5909  ; NUMIST
003c08  fb01f102          MUL      r1,r1,r2              ;5909
003c0c  4281              CMP      r1,r0                 ;5909
003c0e  dc01              BGT      |L1.15380|
003c10  f8a4505e          STRH     r5,[r4,#0x5e]         ;5911
                  |L1.15380|
003c14  f9b4105e          LDRSH    r1,[r4,#0x5e]         ;5913  ; numOfForvardBps_hourCnt
003c18  4638              MOV      r0,r7                 ;5913
003c1a  f7fffffe          BL       lc640_write_int
                  |L1.15390|
003c1e  f9b4005e          LDRSH    r0,[r4,#0x5e]         ;5916  ; numOfForvardBps_hourCnt
003c22  f9b61000          LDRSH    r1,[r6,#0]            ;5916  ; FORVARDBPSCHHOUR
003c26  fb90f0f1          SDIV     r0,r0,r1              ;5916
003c2a  7620              STRB     r0,[r4,#0x18]         ;5916
003c2c  e7d3              B        |L1.15318|
;;;5918   
                          ENDP

                  numOfForvardBps_init PROC
;;;5919   //-----------------------------------------------
;;;5920   void	numOfForvardBps_init(void)			//         
003c2e  b510              PUSH     {r4,lr}
;;;5921   {									//    -   
;;;5922   lc640_write_int(EE_FORVBPSHOURCNT,0);
003c30  2100              MOVS     r1,#0
003c32  f44f7094          MOV      r0,#0x128
003c36  f7fffffe          BL       lc640_write_int
;;;5923   numOfForvardBps_minCnt=0;
003c3a  49dd              LDR      r1,|L1.16304|
003c3c  f04f0000          MOV      r0,#0
003c40  7648              STRB     r0,[r1,#0x19]
;;;5924   }
003c42  bd10              POP      {r4,pc}
;;;5925   
                          ENDP

                  outVoltContrHndl PROC
;;;5926   //-----------------------------------------------
;;;5927   void outVoltContrHndl(void)
003c44  b570              PUSH     {r4-r6,lr}
;;;5928   { 
;;;5929   if((load_U>U_OUT_KONTR_MAX)||(load_U<U_OUT_KONTR_MIN))
003c46  4cdd              LDR      r4,|L1.16316|
003c48  48dd              LDR      r0,|L1.16320|
;;;5930   	{
;;;5931   	outVoltContrHndlCnt_=0;
;;;5932   	if(outVoltContrHndlCnt<U_OUT_KONTR_DELAY)
003c4a  4ade              LDR      r2,|L1.16324|
003c4c  f9b41000          LDRSH    r1,[r4,#0]            ;5929  ; load_U
003c50  f9b06000          LDRSH    r6,[r0,#0]            ;5929  ; U_OUT_KONTR_MAX
003c54  2500              MOVS     r5,#0                 ;5931
003c56  f9b20000          LDRSH    r0,[r2,#0]
003c5a  4bdb              LDR      r3,|L1.16328|
003c5c  42b1              CMP      r1,r6                 ;5929
003c5e  dc04              BGT      |L1.15466|
003c60  4eda              LDR      r6,|L1.16332|
003c62  f9b66000          LDRSH    r6,[r6,#0]            ;5929  ; U_OUT_KONTR_MIN
003c66  42b1              CMP      r1,r6                 ;5929
003c68  da0f              BGE      |L1.15498|
                  |L1.15466|
003c6a  801d              STRH     r5,[r3,#0]            ;5931
003c6c  49d8              LDR      r1,|L1.16336|
003c6e  f9b11000          LDRSH    r1,[r1,#0]  ; U_OUT_KONTR_DELAY
003c72  4288              CMP      r0,r1
003c74  da1b              BGE      |L1.15534|
;;;5933   		{
;;;5934   		outVoltContrHndlCnt++;
003c76  f1000001          ADD      r0,r0,#1
003c7a  b200              SXTH     r0,r0
003c7c  8010              STRH     r0,[r2,#0]
;;;5935   		if(outVoltContrHndlCnt==U_OUT_KONTR_DELAY)
003c7e  4288              CMP      r0,r1
003c80  d115              BNE      |L1.15534|
;;;5936   			{
;;;5937   			avar_uout_hndl(1);
003c82  2001              MOVS     r0,#1
003c84  f7fffffe          BL       avar_uout_hndl
003c88  e011              B        |L1.15534|
                  |L1.15498|
;;;5938   			}
;;;5939   		}
;;;5940   	}
;;;5941   else
;;;5942   	{
;;;5943   	if(outVoltContrHndlCnt)
003c8a  b180              CBZ      r0,|L1.15534|
;;;5944   		{
;;;5945   		if(outVoltContrHndlCnt_<5)
003c8c  f9b30000          LDRSH    r0,[r3,#0]  ; outVoltContrHndlCnt_
003c90  2805              CMP      r0,#5
003c92  da0c              BGE      |L1.15534|
;;;5946   			{
;;;5947   			outVoltContrHndlCnt_++;
003c94  f1000001          ADD      r0,r0,#1
003c98  b200              SXTH     r0,r0
003c9a  8018              STRH     r0,[r3,#0]
;;;5948   			if(outVoltContrHndlCnt_>=5)
003c9c  2805              CMP      r0,#5
003c9e  db06              BLT      |L1.15534|
;;;5949   				{
;;;5950   				outVoltContrHndlCnt=0;
003ca0  8015              STRH     r5,[r2,#0]
;;;5951   				if(uout_av)avar_uout_hndl(0);
003ca2  48cc              LDR      r0,|L1.16340|
003ca4  7800              LDRB     r0,[r0,#0]  ; uout_av
003ca6  b110              CBZ      r0,|L1.15534|
003ca8  2000              MOVS     r0,#0
003caa  f7fffffe          BL       avar_uout_hndl
                  |L1.15534|
;;;5952   				}
;;;5953   			}
;;;5954   		}
;;;5955   	}
;;;5956   
;;;5957   if (load_U<(USIGN*10)) 
003cae  48ca              LDR      r0,|L1.16344|
003cb0  f9b41000          LDRSH    r1,[r4,#0]  ; load_U
003cb4  f9b00000          LDRSH    r0,[r0,#0]  ; USIGN
003cb8  eb000080          ADD      r0,r0,r0,LSL #2
003cbc  ebb10f40          CMP      r1,r0,LSL #1
003cc0  da0b              BGE      |L1.15578|
;;;5958   	{
;;;5959   	if(!bSILENT)
003cc2  48c6              LDR      r0,|L1.16348|
003cc4  6800              LDR      r0,[r0,#0]  ; bSILENT
003cc6  2800              CMP      r0,#0
003cc8  d107              BNE      |L1.15578|
;;;5960   		{
;;;5961   		mess_send(MESS2RELE_HNDL,PARAM_RELE_BAT_IS_DISCHARGED,1,20);
003cca  e8bd4070          POP      {r4-r6,lr}
003cce  2314              MOVS     r3,#0x14
003cd0  2201              MOVS     r2,#1
003cd2  2172              MOVS     r1,#0x72
003cd4  20d2              MOVS     r0,#0xd2
003cd6  f7ffbffe          B.W      mess_send
                  |L1.15578|
;;;5962   		}
;;;5963   
;;;5964   	//bU_BAT2REL_AV_BAT=1;
;;;5965   	}
;;;5966   
;;;5967   
;;;5968   }
003cda  bd70              POP      {r4-r6,pc}
;;;5969   
                          ENDP

                  vent_hndl PROC
;;;5970   //-----------------------------------------------
;;;5971   void vent_hndl(void)
003cdc  e92d4ff0          PUSH     {r4-r11,lr}
;;;5972   {
003ce0  b087              SUB      sp,sp,#0x1c
;;;5973   if(RELEVENTSIGN==rvsAKB)
003ce2  48bf              LDR      r0,|L1.16352|
;;;5974   	{
;;;5975   	if(vent_stat==0)
003ce4  4cb2              LDR      r4,|L1.16304|
;;;5976   		{
;;;5977   		if	(
;;;5978   			(BAT_IS_ON[0]==bisON)&&((bat[0]._Tb>TVENTON)||(bat[0]._nd))
003ce6  49bf              LDR      r1,|L1.16356|
;;;5979   			||
;;;5980   			(BAT_IS_ON[1]==bisON)&&((bat[1]._Tb>TVENTON)||(bat[1]._nd))
;;;5981   			)
;;;5982   			{
;;;5983   			vent_stat=1;
;;;5984   			}
;;;5985   		}
;;;5986   	else if(vent_stat==1)
;;;5987   		{
;;;5988   		if	(
;;;5989   			((BAT_IS_ON[0]!=bisON)||((BAT_IS_ON[0]==bisON)&&(bat[0]._Tb<TVENTOFF)&&(!bat[0]._nd)))
003ce8  4abf              LDR      r2,|L1.16360|
003cea  7800              LDRB     r0,[r0,#0]            ;5973  ; RELEVENTSIGN
003cec  f9943000          LDRSB    r3,[r4,#0]            ;5975
003cf0  f9b11000          LDRSH    r1,[r1,#0]            ;5978
003cf4  f9b22000          LDRSH    r2,[r2,#0]
003cf8  b148              CBZ      r0,|L1.15630|
;;;5990   			&&
;;;5991   			((BAT_IS_ON[1]!=bisON)||((BAT_IS_ON[1]==bisON)&&(bat[1]._Tb<TVENTOFF)&&(!bat[1]._nd)))
;;;5992   			)
;;;5993   			{
;;;5994   			vent_stat=0;
;;;5995   			}
;;;5996   		}
;;;5997   	}
;;;5998   else if(RELEVENTSIGN==rvsBPS)
003cfa  2802              CMP      r0,#2
003cfc  d03c              BEQ      |L1.15736|
;;;5999   	{
;;;6000   /*	if	(
;;;6001   		(((bps[0]._flags_tm&0x06)||(bps[0]._cnt>=30)))||
;;;6002   		(((bps[1]._flags_tm&0x06)||(bps[1]._cnt>=30))&&(NUMIST>1))||
;;;6003   		(((bps[2]._flags_tm&0x06)||(bps[2]._cnt>=30))&&(NUMIST>2))||
;;;6004   		(((bps[3]._flags_tm&0x06)||(bps[3]._cnt>=30))&&(NUMIST>3))||
;;;6005   		(((bps[4]._flags_tm&0x06)||(bps[4]._cnt>=30))&&(NUMIST>4))||
;;;6006   		(((bps[5]._flags_tm&0x06)||(bps[5]._cnt>=30))&&(NUMIST>5))||
;;;6007   		(((bps[6]._flags_tm&0x06)||(bps[6]._cnt>=30))&&(NUMIST>6))
;;;6008   		)
;;;6009   		{
;;;6010   		vent_stat=1;
;;;6011   		}
;;;6012   	else vent_stat=0;
;;;6013   	*/
;;;6014   
;;;6015   	if	(
;;;6016   		((NUMIST)&&((bps[0]._Ti>TVENTON)||(bps[0]._cnt>=30)))
;;;6017   		||
;;;6018   		((NUMIST>1)&&((bps[1]._Ti>TVENTON)||(bps[1]._cnt>=30)))
;;;6019   		||
;;;6020   		((NUMIST>2)&&((bps[2]._Ti>TVENTON)||(bps[2]._cnt>=30)))
;;;6021   		||
;;;6022   		((NUMIST>3)&&((bps[3]._Ti>TVENTON)||(bps[3]._cnt>=30)))
;;;6023   		||
;;;6024   		((NUMIST>4)&&((bps[4]._Ti>TVENTON)||(bps[4]._cnt>=30)))
;;;6025   		||
;;;6026   		((NUMIST>5)&&((bps[5]._Ti>TVENTON)||(bps[5]._cnt>=30)))
;;;6027   		||
;;;6028   		((NUMIST>6)&&((bps[6]._Ti>TVENTON)||(bps[6]._cnt>=30)))
;;;6029   		||
;;;6030   		((NUMIST>7)&&((bps[7]._Ti>TVENTON)||(bps[7]._cnt>=30)))
;;;6031   		)
;;;6032   		{
;;;6033   		vent_stat=1;
;;;6034   		}
;;;6035   	else if(vent_stat==1)
;;;6036   		{
;;;6037   		if	(
;;;6038   			((!NUMIST)||((NUMIST)&&(bps[0]._Ti<TVENTOFF)&&(bps[0]._cnt<10)))
;;;6039   			&&
;;;6040   			((NUMIST<2)||((NUMIST>=2)&&(bps[1]._Ti<TVENTOFF)&&(bps[1]._cnt<10)))
;;;6041   			&&
;;;6042   			((NUMIST<3)||((NUMIST>=3)&&(bps[2]._Ti<TVENTOFF)&&(bps[2]._cnt<10)))
;;;6043   			&&
;;;6044   			((NUMIST<4)||((NUMIST>=4)&&(bps[3]._Ti<TVENTOFF)&&(bps[3]._cnt<10)))
;;;6045   			&&
;;;6046   			((NUMIST<5)||((NUMIST>=5)&&(bps[4]._Ti<TVENTOFF)&&(bps[4]._cnt<10)))
;;;6047   			&&
;;;6048   			((NUMIST<6)||((NUMIST>=6)&&(bps[5]._Ti<TVENTOFF)&&(bps[5]._cnt<10)))
;;;6049   			&&
;;;6050   			((NUMIST<7)||((NUMIST>=7)&&(bps[6]._Ti<TVENTOFF)&&(bps[6]._cnt<10)))
;;;6051   			&&
;;;6052   			((NUMIST<8)||((NUMIST>=8)&&(bps[7]._Ti<TVENTOFF)&&(bps[7]._cnt<10)))
;;;6053   			)
;;;6054   			{
;;;6055   			vent_stat=0;
;;;6056   			}
;;;6057   		}
;;;6058   	}
;;;6059   else if(RELEVENTSIGN==rvsEXT)
003cfe  2801              CMP      r0,#1
003d00  d07e              BEQ      |L1.15872|
;;;6060   	{
;;;6061   	if	(
;;;6062   		((NUMDT)&&((t_ext[0]>TVENTON)||(ND_EXT[0])))
;;;6063   		||
;;;6064   		((NUMDT>1)&&((t_ext[1]>TVENTON)||(ND_EXT[1])))
;;;6065   		||
;;;6066   		((NUMDT>2)&&((t_ext[2]>TVENTON)||(ND_EXT[2])))
;;;6067   		)
;;;6068   		{
;;;6069   		vent_stat=1;
;;;6070   		}
;;;6071   	else if(vent_stat==1)
;;;6072   		{
;;;6073   		if	(
;;;6074   			((!NUMDT)||((NUMDT)&&(t_ext[0]<TVENTOFF)&&(!ND_EXT[0])))
;;;6075   			&&
;;;6076   			((NUMDT<2)||((NUMDT>=2)&&(t_ext[1]<TVENTOFF)&&(!ND_EXT[1])))
;;;6077   			&&
;;;6078   			((NUMDT<3)||((NUMDT>=3)&&(t_ext[2]<TVENTOFF)&&(!ND_EXT[2])))
;;;6079   			)
;;;6080   			{
;;;6081   			vent_stat=0;
;;;6082   			}
;;;6083   		}
;;;6084   	}
;;;6085   else vent_stat=1;
003d02  f04f0001          MOV      r0,#1
003d06  7020              STRB     r0,[r4,#0]
                  |L1.15624|
;;;6086   }
003d08  b007              ADD      sp,sp,#0x1c
003d0a  e8bd8ff0          POP      {r4-r11,pc}
                  |L1.15630|
003d0e  4fb7              LDR      r7,|L1.16364|
003d10  f8df82dc          LDR      r8,|L1.16368|
003d14  f9b7000a          LDRSH    r0,[r7,#0xa]          ;5978
003d18  7b3d              LDRB     r5,[r7,#0xc]          ;5978
003d1a  f9b76056          LDRSH    r6,[r7,#0x56]         ;5980
003d1e  f898c000          LDRB     r12,[r8,#0]           ;5977
003d22  f8977058          LDRB     r7,[r7,#0x58]         ;5980
003d26  f8988001          LDRB     r8,[r8,#1]            ;5980
003d2a  b12b              CBZ      r3,|L1.15672|
003d2c  2b01              CMP      r3,#1                 ;5986
003d2e  d1eb              BNE      |L1.15624|
003d30  f1bc0f55          CMP      r12,#0x55             ;5988
003d34  d115              BNE      |L1.15714|
003d36  e010              B        |L1.15706|
                  |L1.15672|
003d38  f1bc0f55          CMP      r12,#0x55             ;5977
003d3c  d102              BNE      |L1.15684|
003d3e  4288              CMP      r0,r1                 ;5978
003d40  dc07              BGT      |L1.15698|
003d42  b935              CBNZ     r5,|L1.15698|
                  |L1.15684|
003d44  f1b80f55          CMP      r8,#0x55              ;5980
003d48  d1de              BNE      |L1.15624|
003d4a  428e              CMP      r6,r1                 ;5980
003d4c  dc01              BGT      |L1.15698|
003d4e  2f00              CMP      r7,#0                 ;5980
003d50  d0da              BEQ      |L1.15624|
                  |L1.15698|
003d52  f04f0001          MOV      r0,#1                 ;5983
003d56  7020              STRB     r0,[r4,#0]            ;5983
003d58  e7d6              B        |L1.15624|
                  |L1.15706|
003d5a  4290              CMP      r0,r2                 ;5989
003d5c  dad4              BGE      |L1.15624|
003d5e  2d00              CMP      r5,#0                 ;5989
003d60  d1d2              BNE      |L1.15624|
                  |L1.15714|
003d62  f1b80f55          CMP      r8,#0x55              ;5991
003d66  d103              BNE      |L1.15728|
003d68  4296              CMP      r6,r2                 ;5991
003d6a  dacd              BGE      |L1.15624|
003d6c  2f00              CMP      r7,#0                 ;5991
003d6e  d1cb              BNE      |L1.15624|
                  |L1.15728|
003d70  f04f0000          MOV      r0,#0                 ;5994
003d74  7020              STRB     r0,[r4,#0]            ;5994
003d76  e7c7              B        |L1.15624|
                  |L1.15736|
003d78  4e9e              LDR      r6,|L1.16372|
003d7a  488f              LDR      r0,|L1.16312|
003d7c  6ab5              LDR      r5,[r6,#0x28]         ;6016
003d7e  f9b00000          LDRSH    r0,[r0,#0]            ;6015  ; NUMIST
003d82  78f6              LDRB     r6,[r6,#3]            ;6016
003d84  b118              CBZ      r0,|L1.15758|
003d86  428d              CMP      r5,r1                 ;6016
003d88  dc7a              BGT      |L1.16000|
003d8a  2e1e              CMP      r6,#0x1e              ;6016
003d8c  d278              BCS      |L1.16000|
                  |L1.15758|
003d8e  f8dfc264          LDR      r12,|L1.16372|
003d92  2801              CMP      r0,#1                 ;6018
003d94  f8dc707c          LDR      r7,[r12,#0x7c]        ;6018
003d98  f89cc057          LDRB     r12,[r12,#0x57]       ;6018
003d9c  f8cdc018          STR      r12,[sp,#0x18]        ;6018
003da0  dd06              BLE      |L1.15792|
003da2  428f              CMP      r7,r1                 ;6018
003da4  dc6c              BGT      |L1.16000|
003da6  f8ddc018          LDR      r12,[sp,#0x18]        ;6018
003daa  f1bc0f1e          CMP      r12,#0x1e             ;6018
003dae  d267              BCS      |L1.16000|
                  |L1.15792|
003db0  f8dfc240          LDR      r12,|L1.16372|
003db4  2802              CMP      r0,#2                 ;6020
003db6  f8dc80d0          LDR      r8,[r12,#0xd0]        ;6020
003dba  f8cd8014          STR      r8,[sp,#0x14]         ;6020
003dbe  f89cc0ab          LDRB     r12,[r12,#0xab]       ;6020
003dc2  f8cdc010          STR      r12,[sp,#0x10]        ;6020
003dc6  dd08              BLE      |L1.15834|
003dc8  f8ddc014          LDR      r12,[sp,#0x14]        ;6020
003dcc  458c              CMP      r12,r1                ;6020
003dce  dc57              BGT      |L1.16000|
003dd0  f8ddc010          LDR      r12,[sp,#0x10]        ;6020
003dd4  f1bc0f1e          CMP      r12,#0x1e             ;6020
003dd8  d252              BCS      |L1.16000|
                  |L1.15834|
003dda  f8dfc218          LDR      r12,|L1.16372|
003dde  2803              CMP      r0,#3                 ;6022
003de0  f8dc8124          LDR      r8,[r12,#0x124]       ;6022
003de4  f8cd800c          STR      r8,[sp,#0xc]          ;6022
003de8  f89cc0ff          LDRB     r12,[r12,#0xff]       ;6022
003dec  f8cdc008          STR      r12,[sp,#8]           ;6022
003df0  dd0a              BLE      |L1.15880|
003df2  f8ddc00c          LDR      r12,[sp,#0xc]         ;6022
003df6  458c              CMP      r12,r1                ;6022
003df8  dc42              BGT      |L1.16000|
003dfa  f8ddc008          LDR      r12,[sp,#8]           ;6022
003dfe  e000              B        |L1.15874|
                  |L1.15872|
003e00  e080              B        |L1.16132|
                  |L1.15874|
003e02  f1bc0f1e          CMP      r12,#0x1e             ;6022
003e06  d23b              BCS      |L1.16000|
                  |L1.15880|
003e08  f8df81e8          LDR      r8,|L1.16372|
003e0c  2804              CMP      r0,#4                 ;6024
003e0e  f8d8c178          LDR      r12,[r8,#0x178]       ;6024
003e12  f8988153          LDRB     r8,[r8,#0x153]        ;6024
003e16  f8cd8004          STR      r8,[sp,#4]            ;6024
003e1a  dd06              BLE      |L1.15914|
003e1c  458c              CMP      r12,r1                ;6024
003e1e  dc2f              BGT      |L1.16000|
003e20  f8dd8004          LDR      r8,[sp,#4]            ;6024
003e24  f1b80f1e          CMP      r8,#0x1e              ;6024
003e28  d22a              BCS      |L1.16000|
                  |L1.15914|
003e2a  f8df91c8          LDR      r9,|L1.16372|
003e2e  2805              CMP      r0,#5                 ;6026
003e30  f8d981cc          LDR      r8,[r9,#0x1cc]        ;6026
003e34  f89991a7          LDRB     r9,[r9,#0x1a7]        ;6026
003e38  f8cd9000          STR      r9,[sp,#0]            ;6026
003e3c  dd06              BLE      |L1.15948|
003e3e  4588              CMP      r8,r1                 ;6026
003e40  dc1e              BGT      |L1.16000|
003e42  f8dd9000          LDR      r9,[sp,#0]            ;6026
003e46  f1b90f1e          CMP      r9,#0x1e              ;6026
003e4a  d219              BCS      |L1.16000|
                  |L1.15948|
003e4c  f8dfa1a4          LDR      r10,|L1.16372|
003e50  2806              CMP      r0,#6                 ;6028
003e52  f89ae1fb          LDRB     lr,[r10,#0x1fb]       ;6028
003e56  f8da9220          LDR      r9,[r10,#0x220]       ;6028
003e5a  dd04              BLE      |L1.15974|
003e5c  4589              CMP      r9,r1                 ;6028
003e5e  dc0f              BGT      |L1.16000|
003e60  f1be0f1e          CMP      lr,#0x1e              ;6028
003e64  d20c              BCS      |L1.16000|
                  |L1.15974|
003e66  f8dfb18c          LDR      r11,|L1.16372|
003e6a  2807              CMP      r0,#7                 ;6030
003e6c  f8dba274          LDR      r10,[r11,#0x274]      ;6030
003e70  f89bb24f          LDRB     r11,[r11,#0x24f]      ;6030
003e74  dd08              BLE      |L1.16008|
003e76  458a              CMP      r10,r1                ;6030
003e78  dc02              BGT      |L1.16000|
003e7a  f1bb0f1e          CMP      r11,#0x1e             ;6030
003e7e  d303              BCC      |L1.16008|
                  |L1.16000|
003e80  f04f0001          MOV      r0,#1                 ;6033
003e84  7020              STRB     r0,[r4,#0]            ;6033
                  |L1.16006|
003e86  e73f              B        |L1.15624|
                  |L1.16008|
003e88  2b01              CMP      r3,#1                 ;6035
003e8a  d1fc              BNE      |L1.16006|
003e8c  b118              CBZ      r0,|L1.16022|
003e8e  4295              CMP      r5,r2                 ;6038
003e90  daf9              BGE      |L1.16006|
003e92  2e0a              CMP      r6,#0xa               ;6038
003e94  d2f7              BCS      |L1.16006|
                  |L1.16022|
003e96  2802              CMP      r0,#2                 ;6040
003e98  db04              BLT      |L1.16036|
003e9a  4297              CMP      r7,r2                 ;6040
003e9c  daf3              BGE      |L1.16006|
003e9e  9906              LDR      r1,[sp,#0x18]         ;6040
003ea0  290a              CMP      r1,#0xa               ;6040
003ea2  d2f0              BCS      |L1.16006|
                  |L1.16036|
003ea4  2803              CMP      r0,#3                 ;6042
003ea6  db05              BLT      |L1.16052|
003ea8  9905              LDR      r1,[sp,#0x14]         ;6042
003eaa  4291              CMP      r1,r2                 ;6042
003eac  daeb              BGE      |L1.16006|
003eae  9904              LDR      r1,[sp,#0x10]         ;6042
003eb0  290a              CMP      r1,#0xa               ;6042
003eb2  d2e8              BCS      |L1.16006|
                  |L1.16052|
003eb4  2804              CMP      r0,#4                 ;6044
003eb6  db05              BLT      |L1.16068|
003eb8  9903              LDR      r1,[sp,#0xc]          ;6044
003eba  4291              CMP      r1,r2                 ;6044
003ebc  dae3              BGE      |L1.16006|
003ebe  9902              LDR      r1,[sp,#8]            ;6044
003ec0  290a              CMP      r1,#0xa               ;6044
003ec2  d2e0              BCS      |L1.16006|
                  |L1.16068|
003ec4  2805              CMP      r0,#5                 ;6046
003ec6  db04              BLT      |L1.16082|
003ec8  4594              CMP      r12,r2                ;6046
003eca  dadc              BGE      |L1.16006|
003ecc  9901              LDR      r1,[sp,#4]            ;6046
003ece  290a              CMP      r1,#0xa               ;6046
003ed0  d2d9              BCS      |L1.16006|
                  |L1.16082|
003ed2  2806              CMP      r0,#6                 ;6048
003ed4  db04              BLT      |L1.16096|
003ed6  4590              CMP      r8,r2                 ;6048
003ed8  dad5              BGE      |L1.16006|
003eda  9900              LDR      r1,[sp,#0]            ;6048
003edc  290a              CMP      r1,#0xa               ;6048
003ede  d2d2              BCS      |L1.16006|
                  |L1.16096|
003ee0  2807              CMP      r0,#7                 ;6050
003ee2  db04              BLT      |L1.16110|
003ee4  4591              CMP      r9,r2                 ;6050
003ee6  dace              BGE      |L1.16006|
003ee8  f1be0f0a          CMP      lr,#0xa               ;6050
003eec  d2cb              BCS      |L1.16006|
                  |L1.16110|
003eee  2808              CMP      r0,#8                 ;6052
003ef0  db04              BLT      |L1.16124|
003ef2  4592              CMP      r10,r2                ;6052
003ef4  dac7              BGE      |L1.16006|
003ef6  f1bb0f0a          CMP      r11,#0xa              ;6052
003efa  d2c4              BCS      |L1.16006|
                  |L1.16124|
003efc  f04f0000          MOV      r0,#0                 ;6055
003f00  7020              STRB     r0,[r4,#0]            ;6055
003f02  e701              B        |L1.15624|
                  |L1.16132|
003f04  483c              LDR      r0,|L1.16376|
003f06  4d3d              LDR      r5,|L1.16380|
003f08  4e3d              LDR      r6,|L1.16384|
003f0a  f9b00000          LDRSH    r0,[r0,#0]            ;6061  ; NUMDT
003f0e  f9b55000          LDRSH    r5,[r5,#0]            ;6062
003f12  6836              LDR      r6,[r6,#0]            ;6062
003f14  b110              CBZ      r0,|L1.16156|
003f16  428d              CMP      r5,r1                 ;6062
003f18  dc1d              BGT      |L1.16214|
003f1a  b9e6              CBNZ     r6,|L1.16214|
                  |L1.16156|
003f1c  4f37              LDR      r7,|L1.16380|
003f1e  f8dfc0e0          LDR      r12,|L1.16384|
003f22  2801              CMP      r0,#1                 ;6064
003f24  f9b77002          LDRSH    r7,[r7,#2]            ;6064
003f28  f8dcc004          LDR      r12,[r12,#4]          ;6064
003f2c  dd04              BLE      |L1.16184|
003f2e  428f              CMP      r7,r1                 ;6064
003f30  dc11              BGT      |L1.16214|
003f32  f1bc0f00          CMP      r12,#0                ;6064
003f36  d10e              BNE      |L1.16214|
                  |L1.16184|
003f38  f8df80c0          LDR      r8,|L1.16380|
003f3c  f8df90c0          LDR      r9,|L1.16384|
003f40  2802              CMP      r0,#2                 ;6066
003f42  f9b88004          LDRSH    r8,[r8,#4]            ;6066
003f46  f8d99008          LDR      r9,[r9,#8]            ;6066
003f4a  dd5b              BLE      |L1.16388|
003f4c  4588              CMP      r8,r1                 ;6066
003f4e  dc02              BGT      |L1.16214|
003f50  f1b90f00          CMP      r9,#0                 ;6066
003f54  d056              BEQ      |L1.16388|
                  |L1.16214|
003f56  f04f0001          MOV      r0,#1                 ;6069
003f5a  7020              STRB     r0,[r4,#0]            ;6069
                  |L1.16220|
003f5c  e6d4              B        |L1.15624|
003f5e  0000              DCW      0x0000
                  |L1.16224|
                          DCD      speedChrgBlckStat
                  |L1.16228|
003f64  20202020          DCB      "    ",231,224,225,235,238,234,232,240,238,226,224,237,"!"
003f68  e7e0e1eb
003f6c  eeeae8f0
003f70  eee2e0ed
003f74  21      
003f75  20202000          DCB      "   ",0
003f79  00                DCB      0
003f7a  00                DCB      0
003f7b  00                DCB      0
                  |L1.16252|
003f7c  20202020          DCB      "       ",231,224,240,255,228,"        ",0
003f80  202020e7
003f84  e0f0ffe4
003f88  20202020
003f8c  20202020
003f90  00      
003f91  00                DCB      0
003f92  00                DCB      0
003f93  00                DCB      0
                  |L1.16276|
003f94  20202020          DCB      "     ",211,241,234,238,240,229,237,237,251,233,"     ",0
003f98  20d3f1ea
003f9c  eef0e5ed
003fa0  edfbe920
003fa4  20202020
003fa8  00      
003fa9  00                DCB      0
003faa  00                DCB      0
003fab  00                DCB      0
                  |L1.16300|
                          DCD      speedChTimeCnt
                  |L1.16304|
                          DCD      ||area_number.21||
                  |L1.16308|
                          DCD      FORVARDBPSCHHOUR
                  |L1.16312|
                          DCD      NUMIST
                  |L1.16316|
                          DCD      load_U
                  |L1.16320|
                          DCD      U_OUT_KONTR_MAX
                  |L1.16324|
                          DCD      outVoltContrHndlCnt
                  |L1.16328|
                          DCD      outVoltContrHndlCnt_
                  |L1.16332|
                          DCD      U_OUT_KONTR_MIN
                  |L1.16336|
                          DCD      U_OUT_KONTR_DELAY
                  |L1.16340|
                          DCD      uout_av
                  |L1.16344|
                          DCD      USIGN
                  |L1.16348|
                          DCD      bSILENT
                  |L1.16352|
                          DCD      RELEVENTSIGN
                  |L1.16356|
                          DCD      TVENTON
                  |L1.16360|
                          DCD      TVENTOFF
                  |L1.16364|
                          DCD      bat
                  |L1.16368|
                          DCD      BAT_IS_ON
                  |L1.16372|
                          DCD      bps
                  |L1.16376|
                          DCD      NUMDT
                  |L1.16380|
                          DCD      t_ext
                  |L1.16384|
                          DCD      ND_EXT
                  |L1.16388|
004004  2b01              CMP      r3,#1                 ;6071
004006  d1a9              BNE      |L1.16220|
004008  b118              CBZ      r0,|L1.16402|
00400a  4295              CMP      r5,r2                 ;6074
00400c  daa6              BGE      |L1.16220|
00400e  2e00              CMP      r6,#0                 ;6074
004010  d1a4              BNE      |L1.16220|
                  |L1.16402|
004012  2802              CMP      r0,#2                 ;6076
004014  db04              BLT      |L1.16416|
004016  4297              CMP      r7,r2                 ;6076
004018  daa0              BGE      |L1.16220|
00401a  f1bc0f00          CMP      r12,#0                ;6076
00401e  d19d              BNE      |L1.16220|
                  |L1.16416|
004020  2803              CMP      r0,#3                 ;6078
004022  db04              BLT      |L1.16430|
004024  4590              CMP      r8,r2                 ;6078
004026  da99              BGE      |L1.16220|
004028  f1b90f00          CMP      r9,#0                 ;6078
00402c  d196              BNE      |L1.16220|
                  |L1.16430|
00402e  f04f0000          MOV      r0,#0                 ;6081
004032  7020              STRB     r0,[r4,#0]            ;6081
004034  e668              B        |L1.15624|
;;;6087   
                          ENDP


                          AREA ||area_number.2||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.2||, ||.text||
                  samokalibr_init PROC
;;;214    //-----------------------------------------------
;;;215    void ke_start(char in)
000000  4902              LDR      r1,|L2.12|
;;;216    {          
000002  f24060f9          MOV      r0,#0x6f9
;;;217    ke_start_stat=(enum_ke_start_stat)0;		 
000006  8748              STRH     r0,[r1,#0x3a]
000008  4770              BX       lr
;;;218    
;;;219    if(spc_stat==spcVZ)ke_start_stat=kssNOT_VZ;
;;;220    else if(BAT_IS_ON[in]!=bisON)ke_start_stat=kssNOT_BAT;
;;;221    else if(bat[in]._av&(1<<0))ke_start_stat=kssNOT_BAT_AV;
;;;222    else if(bat[in]._temper_stat&(1<<1))ke_start_stat=kssNOT_BAT_AV_T;
;;;223    else if(bat[in]._av&(1<<1))ke_start_stat=kssNOT_BAT_AV_ASS;
;;;224    else if(bat[in]._Ib>IKB)ke_start_stat=kssNOT_BAT_ZAR;
;;;225    else if(bat[in]._Ib<-IKB)ke_start_stat=kssNOT_BAT_RAZR;
;;;226    else if((spc_stat==spcKE)&&(spc_bat==0))ke_start_stat=kssNOT_KE1;
;;;227    else if((spc_stat==spcKE)&&(spc_bat==1))ke_start_stat=kssNOT_KE2;
;;;228    else 
;;;229    	{
;;;230    
;;;231    	ke_start_stat=kssYES;
;;;232    
;;;233    	spc_stat=spcKE;
;;;234    	__ee_spc_stat=spcKE;
;;;235    	lc640_write_int(EE_SPC_STAT,__ee_spc_stat);
;;;236    	
;;;237    	spc_bat=in;
;;;238    	__ee_spc_bat=in;
;;;239    	lc640_write_int(EE_SPC_BAT,__ee_spc_bat);
;;;240    
;;;241    	bat[in]._zar_cnt_ke=0;
;;;242    	lc640_write_int(ADR_EE_BAT_ZAR_CNT_KE[in],0);
;;;243    	
;;;244    	spc_phase=0;
;;;245    	__ee_spc_phase=0;
;;;246    	lc640_write_int(EE_SPC_PHASE,__ee_spc_phase);
;;;247    
;;;248    	//ke_mem_hndl(in,lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat]));
;;;249    
;;;250    		{					
;;;251    		signed short temp_temp;
;;;252    		signed char temp;
;;;253    		temp_temp=bat[in]._u_old[((bat_u_old_cnt+1)&0x07)]; 
;;;254    		    
;;;255    		temp=LPC_RTC->YEAR;
;;;256    		gran_char(&temp,1,99);
;;;257    		*((char*)(&(ke_date[0])))=temp;
;;;258    			
;;;259    		temp=LPC_RTC->MONTH;
;;;260    		gran_char(&temp,1,12);
;;;261    		*(((char*)(&(ke_date[0])))+1)=temp;
;;;262    		
;;;263    		temp=LPC_RTC->DOM;
;;;264    		gran_char(&temp,1,31);
;;;265    		*(((char*)(&(ke_date[0])))+2)=temp;			
;;;266    				
;;;267    		*(((char*)(&(ke_date[0])))+3)=*((char*)&temp_temp);
;;;268    		lc640_write_long(EE_SPC_KE_DATE0,ke_date[0]);
;;;269    
;;;270    		temp=LPC_RTC->HOUR;
;;;271    		gran_char(&temp,0,23);
;;;272    		*((char*)(&(ke_date[1])))=temp;
;;;273                   
;;;274    		temp=LPC_RTC->MIN;
;;;275    		gran_char(&temp,0,59);
;;;276    		*(((char*)(&(ke_date[1])))+1)=temp;
;;;277    	          
;;;278    		temp=LPC_RTC->SEC;
;;;279    		gran_char(&temp,0,59);
;;;280    		*(((char*)(&(ke_date[1])))+2)=temp;
;;;281    			
;;;282    		*(((char*)(&(ke_date[1])))+3)=*(((char*)&temp_temp)+1);
;;;283    		lc640_write_long(EE_SPC_KE_DATE1,ke_date[1]);
;;;284    		}
;;;285    
;;;286    	}
;;;287    }
;;;288    
                          ENDP

00000a  0000              DCW      0x0000
                  |L2.12|
                          DCD      ||area_number.21||

                          AREA ||area_number.3||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.3||, ||.text||
                  adc_drv6 PROC
;;;214    //-----------------------------------------------
;;;215    void ke_start(char in)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;216    {          
000004  4c80              LDR      r4,|L3.520|
;;;217    ke_start_stat=(enum_ke_start_stat)0;		 
000006  8860              LDRH     r0,[r4,#2]  ; adc_self_ch_buff
000008  8821              LDRH     r1,[r4,#0]  ; adc_self_ch_buff
00000a  1a40              SUBS     r0,r0,r1
00000c  b200              SXTH     r0,r0
;;;218    
;;;219    if(spc_stat==spcVZ)ke_start_stat=kssNOT_VZ;
00000e  f7fffffe          BL       abs_pal
000012  1da5              ADDS     r5,r4,#6
000014  8028              STRH     r0,[r5,#0]
000016  88a0              LDRH     r0,[r4,#4]  ; adc_self_ch_buff
;;;220    else if(BAT_IS_ON[in]!=bisON)ke_start_stat=kssNOT_BAT;
000018  8861              LDRH     r1,[r4,#2]  ; adc_self_ch_buff
00001a  1a40              SUBS     r0,r0,r1
00001c  b200              SXTH     r0,r0
00001e  f7fffffe          BL       abs_pal
000022  8068              STRH     r0,[r5,#2]
000024  88a0              LDRH     r0,[r4,#4]  ; adc_self_ch_buff
;;;221    else if(bat[in]._av&(1<<0))ke_start_stat=kssNOT_BAT_AV;
;;;222    else if(bat[in]._temper_stat&(1<<1))ke_start_stat=kssNOT_BAT_AV_T;
;;;223    else if(bat[in]._av&(1<<1))ke_start_stat=kssNOT_BAT_AV_ASS;
;;;224    else if(bat[in]._Ib>IKB)ke_start_stat=kssNOT_BAT_ZAR;
;;;225    else if(bat[in]._Ib<-IKB)ke_start_stat=kssNOT_BAT_RAZR;
;;;226    else if((spc_stat==spcKE)&&(spc_bat==0))ke_start_stat=kssNOT_KE1;
;;;227    else if((spc_stat==spcKE)&&(spc_bat==1))ke_start_stat=kssNOT_KE2;
;;;228    else 
;;;229    	{
;;;230    
;;;231    	ke_start_stat=kssYES;
;;;232    
;;;233    	spc_stat=spcKE;
;;;234    	__ee_spc_stat=spcKE;
;;;235    	lc640_write_int(EE_SPC_STAT,__ee_spc_stat);
;;;236    	
;;;237    	spc_bat=in;
;;;238    	__ee_spc_bat=in;
;;;239    	lc640_write_int(EE_SPC_BAT,__ee_spc_bat);
;;;240    
;;;241    	bat[in]._zar_cnt_ke=0;
;;;242    	lc640_write_int(ADR_EE_BAT_ZAR_CNT_KE[in],0);
;;;243    	
;;;244    	spc_phase=0;
;;;245    	__ee_spc_phase=0;
;;;246    	lc640_write_int(EE_SPC_PHASE,__ee_spc_phase);
;;;247    
;;;248    	//ke_mem_hndl(in,lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat]));
;;;249    
;;;250    		{					
;;;251    		signed short temp_temp;
;;;252    		signed char temp;
;;;253    		temp_temp=bat[in]._u_old[((bat_u_old_cnt+1)&0x07)]; 
;;;254    		    
;;;255    		temp=LPC_RTC->YEAR;
;;;256    		gran_char(&temp,1,99);
;;;257    		*((char*)(&(ke_date[0])))=temp;
;;;258    			
;;;259    		temp=LPC_RTC->MONTH;
;;;260    		gran_char(&temp,1,12);
;;;261    		*(((char*)(&(ke_date[0])))+1)=temp;
;;;262    		
;;;263    		temp=LPC_RTC->DOM;
;;;264    		gran_char(&temp,1,31);
;;;265    		*(((char*)(&(ke_date[0])))+2)=temp;			
;;;266    				
;;;267    		*(((char*)(&(ke_date[0])))+3)=*((char*)&temp_temp);
;;;268    		lc640_write_long(EE_SPC_KE_DATE0,ke_date[0]);
;;;269    
;;;270    		temp=LPC_RTC->HOUR;
;;;271    		gran_char(&temp,0,23);
;;;272    		*((char*)(&(ke_date[1])))=temp;
;;;273                   
;;;274    		temp=LPC_RTC->MIN;
;;;275    		gran_char(&temp,0,59);
;;;276    		*(((char*)(&(ke_date[1])))+1)=temp;
;;;277    	          
;;;278    		temp=LPC_RTC->SEC;
;;;279    		gran_char(&temp,0,59);
;;;280    		*(((char*)(&(ke_date[1])))+2)=temp;
;;;281    			
;;;282    		*(((char*)(&(ke_date[1])))+3)=*(((char*)&temp_temp)+1);
;;;283    		lc640_write_long(EE_SPC_KE_DATE1,ke_date[1]);
;;;284    		}
;;;285    
;;;286    	}
;;;287    }
000026  8821              LDRH     r1,[r4,#0]  ; adc_self_ch_buff
000028  1a40              SUBS     r0,r0,r1
00002a  b200              SXTH     r0,r0                 ;219
00002c  f7fffffe          BL       abs_pal
000030  80a8              STRH     r0,[r5,#4]            ;221
000032  f44f7196          MOV      r1,#0x12c             ;221
000036  f1a4068e          SUB      r6,r4,#0x8e           ;221
00003a  4288              CMP      r0,r1                 ;221
00003c  da02              BGE      |L3.68|
00003e  88a0              LDRH     r0,[r4,#4]            ;221  ; adc_self_ch_buff
000040  8530              STRH     r0,[r6,#0x28]         ;221
000042  e00c              B        |L3.94|
                  |L3.68|
000044  f9b50002          LDRSH    r0,[r5,#2]            ;221  ; adc_self_ch_disp
000048  4288              CMP      r0,r1                 ;221
00004a  da02              BGE      |L3.82|
00004c  8860              LDRH     r0,[r4,#2]            ;222  ; adc_self_ch_buff
00004e  8530              STRH     r0,[r6,#0x28]         ;222
000050  e005              B        |L3.94|
                  |L3.82|
000052  f9b50000          LDRSH    r0,[r5,#0]            ;222  ; adc_self_ch_disp
000056  4288              CMP      r0,r1                 ;222
000058  da01              BGE      |L3.94|
00005a  8820              LDRH     r0,[r4,#0]  ; adc_self_ch_buff
00005c  8530              STRH     r0,[r6,#0x28]         ;223
                  |L3.94|
00005e  78b7              LDRB     r7,[r6,#2]            ;223  ; adc_ch_net
000060  2200              MOVS     r2,#0                 ;223
000062  b3f7              CBZ      r7,|L3.226|
000064  7973              LDRB     r3,[r6,#5]            ;223  ; adc_window_flag
000066  4869              LDR      r0,|L3.524|
000068  b18b              CBZ      r3,|L3.142|
00006a  f9b61028          LDRSH    r1,[r6,#0x28]         ;224  ; adc_result
00006e  6804              LDR      r4,[r0,#0]            ;224  ; main_power_buffer
000070  eb0404a1          ADD      r4,r4,r1,ASR #2       ;224
000074  6004              STR      r4,[r0,#0]            ;224  ; main_power_buffer
000076  6844              LDR      r4,[r0,#4]            ;224  ; main_power_buffer
000078  eb0404a1          ADD      r4,r4,r1,ASR #2       ;224
00007c  6044              STR      r4,[r0,#4]  ; main_power_buffer
00007e  6884              LDR      r4,[r0,#8]            ;225  ; main_power_buffer
000080  eb0404a1          ADD      r4,r4,r1,ASR #2       ;225
000084  6084              STR      r4,[r0,#8]            ;225  ; main_power_buffer
000086  68c4              LDR      r4,[r0,#0xc]          ;225  ; main_power_buffer
000088  eb0401a1          ADD      r1,r4,r1,ASR #2       ;225
00008c  60c1              STR      r1,[r0,#0xc]          ;217  ; main_power_buffer
                  |L3.142|
00008e  f9b61028          LDRSH    r1,[r6,#0x28]         ;226  ; adc_result
000092  2964              CMP      r1,#0x64              ;226
000094  da04              BGE      |L3.160|
000096  8db1              LDRH     r1,[r6,#0x2c]         ;227  ; adc_zero_cnt
000098  f1010101          ADD      r1,r1,#1              ;227
00009c  85b1              STRH     r1,[r6,#0x2c]         ;226
00009e  e000              B        |L3.162|
                  |L3.160|
0000a0  85b2              STRH     r2,[r6,#0x2c]         ;226
                  |L3.162|
0000a2  f9b6402c          LDRSH    r4,[r6,#0x2c]  ; adc_zero_cnt
0000a6  f44f61fa          MOV      r1,#0x7d0             ;227
0000aa  428c              CMP      r4,r1                 ;231
0000ac  db05              BLT      |L3.186|
0000ae  85b1              STRH     r1,[r6,#0x2c]         ;233
0000b0  6002              STR      r2,[r0,#0]            ;234  ; main_power_buffer
0000b2  6042              STR      r2,[r0,#4]            ;234  ; main_power_buffer
0000b4  6082              STR      r2,[r0,#8]            ;235  ; main_power_buffer
0000b6  60c2              STR      r2,[r0,#0xc]          ;235  ; main_power_buffer
0000b8  84f2              STRH     r2,[r6,#0x26]         ;235
                  |L3.186|
0000ba  8db1              LDRH     r1,[r6,#0x2c]         ;235  ; adc_zero_cnt
0000bc  2905              CMP      r1,#5                 ;235
0000be  d14f              BNE      |L3.352|
0000c0  b1bb              CBZ      r3,|L3.242|
0000c2  8d71              LDRH     r1,[r6,#0x2a]         ;238  ; adc_gorb_cnt
0000c4  f1010101          ADD      r1,r1,#1              ;239
0000c8  b209              SXTH     r1,r1                 ;239
0000ca  8571              STRH     r1,[r6,#0x2a]         ;239
0000cc  f5b17f00          CMP      r1,#0x200             ;239
0000d0  db00              BLT      |L3.212|
0000d2  8572              STRH     r2,[r6,#0x2a]         ;242
                  |L3.212|
0000d4  f9b6102a          LDRSH    r1,[r6,#0x2a]         ;242  ; adc_gorb_cnt
0000d8  064c              LSLS     r4,r1,#25             ;242
0000da  d10a              BNE      |L3.242|
0000dc  ea4f11e1          ASR      r1,r1,#7              ;244
0000e0  e000              B        |L3.228|
                  |L3.226|
0000e2  e015              B        |L3.272|
                  |L3.228|
0000e4  f8504021          LDR      r4,[r0,r1,LSL #2]     ;246
0000e8  ea4f2424          ASR      r4,r4,#8              ;246
0000ec  84f4              STRH     r4,[r6,#0x26]         ;253
0000ee  f8402021          STR      r2,[r0,r1,LSL #2]     ;253
                  |L3.242|
0000f2  f9b6002e          LDRSH    r0,[r6,#0x2e]         ;253  ; adc_window_cnt
0000f6  2896              CMP      r0,#0x96              ;253
0000f8  dd01              BLE      |L3.254|
0000fa  b103              CBZ      r3,|L3.254|
0000fc  7172              STRB     r2,[r6,#5]            ;253
                  |L3.254|
0000fe  381f              SUBS     r0,r0,#0x1f           ;253
000100  2827              CMP      r0,#0x27              ;255
000102  d22d              BCS      |L3.352|
000104  7970              LDRB     r0,[r6,#5]            ;255  ; adc_window_flag
000106  bb58              CBNZ     r0,|L3.352|
000108  f04f0001          MOV      r0,#1                 ;256
00010c  7170              STRB     r0,[r6,#5]            ;256
00010e  e027              B        |L3.352|
                  |L3.272|
000110  483f              LDR      r0,|L3.528|
000112  78f5              LDRB     r5,[r6,#3]            ;256  ; adc_ch
000114  7933              LDRB     r3,[r6,#4]            ;257  ; adc_ch_cnt
000116  eb001485          ADD      r4,r0,r5,LSL #6       ;257
00011a  f9b61028          LDRSH    r1,[r6,#0x28]         ;257  ; adc_result
00011e  f8441023          STR      r1,[r4,r3,LSL #2]     ;259
000122  0798              LSLS     r0,r3,#30             ;260
000124  d10f              BNE      |L3.326|
000126  4601              MOV      r1,r0                 ;260
                  |L3.296|
000128  f854c020          LDR      r12,[r4,r0,LSL #2]    ;260
00012c  4461              ADD      r1,r1,r12             ;261
00012e  f1000001          ADD      r0,r0,#1              ;261
000132  b2c0              UXTB     r0,r0                 ;263
000134  2810              CMP      r0,#0x10              ;263
000136  d3f7              BCC      |L3.296|
000138  ea4f1021          ASR      r0,r1,#4              ;264
00013c  4933              LDR      r1,|L3.524|
00013e  f1a10120          SUB      r1,r1,#0x20           ;264
000142  f8210015          STRH     r0,[r1,r5,LSL #1]     ;265
                  |L3.326|
000146  1c6d              ADDS     r5,r5,#1              ;267
000148  b2e8              UXTB     r0,r5                 ;267
00014a  70f0              STRB     r0,[r6,#3]            ;267
00014c  2810              CMP      r0,#0x10              ;268
00014e  d307              BCC      |L3.352|
000150  70f2              STRB     r2,[r6,#3]            ;268
000152  f1030301          ADD      r3,r3,#1              ;268
000156  b2d8              UXTB     r0,r3                 ;270
000158  7130              STRB     r0,[r6,#4]            ;270
00015a  2810              CMP      r0,#0x10              ;271
00015c  d300              BCC      |L3.352|
00015e  7132              STRB     r2,[r6,#4]            ;271
                  |L3.352|
000160  7072              STRB     r2,[r6,#1]            ;271
000162  f1070701          ADD      r7,r7,#1              ;271
000166  f0070001          AND      r0,r7,#1              ;272
00016a  70b0              STRB     r0,[r6,#2]            ;274
00016c  4a29              LDR      r2,|L3.532|
00016e  b130              CBZ      r0,|L3.382|
000170  6810              LDR      r0,[r2,#0]            ;275
000172  f02000ff          BIC      r0,r0,#0xff           ;275
000176  f1000004          ADD      r0,r0,#4              ;275
00017a  6010              STR      r0,[r2,#0]            ;276
00017c  e03d              B        |L3.506|
                  |L3.382|
00017e  78f1              LDRB     r1,[r6,#3]            ;278  ; adc_ch
000180  0708              LSLS     r0,r1,#28             ;278
000182  d406              BMI      |L3.402|
000184  6810              LDR      r0,[r2,#0]            ;279
000186  f02000ff          BIC      r0,r0,#0xff           ;279
00018a  f1000001          ADD      r0,r0,#1              ;279
00018e  6010              STR      r0,[r2,#0]            ;280
000190  e005              B        |L3.414|
                  |L3.402|
000192  6810              LDR      r0,[r2,#0]            ;282
000194  f02000ff          BIC      r0,r0,#0xff           ;282
000198  f1000002          ADD      r0,r0,#2              ;283
00019c  6010              STR      r0,[r2,#0]            ;283
                  |L3.414|
00019e  481e              LDR      r0,|L3.536|
0001a0  6803              LDR      r3,[r0,#0]            ;283
0001a2  f0435380          ORR      r3,r3,#0x10000000
0001a6  6003              STR      r3,[r0,#0]            ;227
0001a8  6a03              LDR      r3,[r0,#0x20]         ;227
0001aa  f0434380          ORR      r3,r3,#0x40000000     ;227
0001ae  6203              STR      r3,[r0,#0x20]
0001b0  6e03              LDR      r3,[r0,#0x60]
0001b2  f0436380          ORR      r3,r3,#0x4000000
0001b6  6603              STR      r3,[r0,#0x60]
0001b8  07cb              LSLS     r3,r1,#31
0001ba  d00a              BEQ      |L3.466|
0001bc  6943              LDR      r3,[r0,#0x14]
0001be  f0435380          ORR      r3,r3,#0x10000000
0001c2  6143              STR      r3,[r0,#0x14]
                  |L3.452|
0001c4  078b              LSLS     r3,r1,#30
0001c6  d409              BMI      |L3.476|
0001c8  6b43              LDR      r3,[r0,#0x34]
0001ca  f0234380          BIC      r3,r3,#0x40000000
0001ce  6343              STR      r3,[r0,#0x34]
0001d0  e008              B        |L3.484|
                  |L3.466|
0001d2  6943              LDR      r3,[r0,#0x14]
0001d4  f0235380          BIC      r3,r3,#0x10000000
0001d8  6143              STR      r3,[r0,#0x14]
0001da  e7f3              B        |L3.452|
                  |L3.476|
0001dc  6b43              LDR      r3,[r0,#0x34]
0001de  f0434380          ORR      r3,r3,#0x40000000
0001e2  6343              STR      r3,[r0,#0x34]
                  |L3.484|
0001e4  0749              LSLS     r1,r1,#29
0001e6  d404              BMI      |L3.498|
0001e8  6f41              LDR      r1,[r0,#0x74]
0001ea  f0216180          BIC      r1,r1,#0x4000000
0001ee  6741              STR      r1,[r0,#0x74]
0001f0  e003              B        |L3.506|
                  |L3.498|
0001f2  6f41              LDR      r1,[r0,#0x74]
0001f4  f0416180          ORR      r1,r1,#0x4000000
0001f8  6741              STR      r1,[r0,#0x74]
                  |L3.506|
0001fa  6810              LDR      r0,[r2,#0]
0001fc  f0407080          ORR      r0,r0,#0x1000000
000200  6010              STR      r0,[r2,#0]
000202  e8bd81f0          POP      {r4-r8,pc}
;;;288    
                          ENDP

000206  0000              DCW      0x0000
                  |L3.520|
                          DCD      ||area_number.21||+0x8e
                  |L3.524|
                          DCD      ||.bss||+0x420
                  |L3.528|
                          DCD      ||.bss||
                  |L3.532|
                          DCD      0x40034000
                  |L3.536|
                          DCD      0x2009c000

                          AREA ||area_number.4||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.4||, ||.text||
                  inv_drv PROC
;;;214    //-----------------------------------------------
;;;215    void ke_start(char in)
000000  b570              PUSH     {r4-r6,lr}
;;;216    {          
000002  4604              MOV      r4,r0
000004  f04f0207          MOV      r2,#7
;;;217    ke_start_stat=(enum_ke_start_stat)0;		 
000008  f04f0101          MOV      r1,#1
00000c  48a4              LDR      r0,|L4.672|
;;;218    
;;;219    if(spc_stat==spcVZ)ke_start_stat=kssNOT_VZ;
00000e  f7fffffe          BL       gran_char
000012  48a4              LDR      r0,|L4.676|
000014  eb040144          ADD      r1,r4,r4,LSL #1
;;;220    else if(BAT_IS_ON[in]!=bisON)ke_start_stat=kssNOT_BAT;
000018  eb001541          ADD      r5,r0,r1,LSL #5
00001c  f8950047          LDRB     r0,[r5,#0x47]
000020  f8951046          LDRB     r1,[r5,#0x46]
000024  ea800001          EOR      r0,r0,r1
;;;221    else if(bat[in]._av&(1<<0))ke_start_stat=kssNOT_BAT_AV;
;;;222    else if(bat[in]._temper_stat&(1<<1))ke_start_stat=kssNOT_BAT_AV_T;
;;;223    else if(bat[in]._av&(1<<1))ke_start_stat=kssNOT_BAT_AV_ASS;
;;;224    else if(bat[in]._Ib>IKB)ke_start_stat=kssNOT_BAT_ZAR;
;;;225    else if(bat[in]._Ib<-IKB)ke_start_stat=kssNOT_BAT_RAZR;
;;;226    else if((spc_stat==spcKE)&&(spc_bat==0))ke_start_stat=kssNOT_KE1;
;;;227    else if((spc_stat==spcKE)&&(spc_bat==1))ke_start_stat=kssNOT_KE2;
;;;228    else 
;;;229    	{
;;;230    
;;;231    	ke_start_stat=kssYES;
;;;232    
;;;233    	spc_stat=spcKE;
;;;234    	__ee_spc_stat=spcKE;
;;;235    	lc640_write_int(EE_SPC_STAT,__ee_spc_stat);
;;;236    	
;;;237    	spc_bat=in;
;;;238    	__ee_spc_bat=in;
;;;239    	lc640_write_int(EE_SPC_BAT,__ee_spc_bat);
;;;240    
;;;241    	bat[in]._zar_cnt_ke=0;
;;;242    	lc640_write_int(ADR_EE_BAT_ZAR_CNT_KE[in],0);
;;;243    	
;;;244    	spc_phase=0;
;;;245    	__ee_spc_phase=0;
;;;246    	lc640_write_int(EE_SPC_PHASE,__ee_spc_phase);
;;;247    
;;;248    	//ke_mem_hndl(in,lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat]));
;;;249    
;;;250    		{					
;;;251    		signed short temp_temp;
;;;252    		signed char temp;
;;;253    		temp_temp=bat[in]._u_old[((bat_u_old_cnt+1)&0x07)]; 
;;;254    		    
;;;255    		temp=LPC_RTC->YEAR;
;;;256    		gran_char(&temp,1,99);
;;;257    		*((char*)(&(ke_date[0])))=temp;
;;;258    			
;;;259    		temp=LPC_RTC->MONTH;
;;;260    		gran_char(&temp,1,12);
;;;261    		*(((char*)(&(ke_date[0])))+1)=temp;
;;;262    		
;;;263    		temp=LPC_RTC->DOM;
;;;264    		gran_char(&temp,1,31);
;;;265    		*(((char*)(&(ke_date[0])))+2)=temp;			
;;;266    				
;;;267    		*(((char*)(&(ke_date[0])))+3)=*((char*)&temp_temp);
;;;268    		lc640_write_long(EE_SPC_KE_DATE0,ke_date[0]);
;;;269    
;;;270    		temp=LPC_RTC->HOUR;
;;;271    		gran_char(&temp,0,23);
;;;272    		*((char*)(&(ke_date[1])))=temp;
;;;273                   
;;;274    		temp=LPC_RTC->MIN;
;;;275    		gran_char(&temp,0,59);
;;;276    		*(((char*)(&(ke_date[1])))+1)=temp;
;;;277    	          
;;;278    		temp=LPC_RTC->SEC;
;;;279    		gran_char(&temp,0,59);
;;;280    		*(((char*)(&(ke_date[1])))+2)=temp;
;;;281    			
;;;282    		*(((char*)(&(ke_date[1])))+3)=*(((char*)&temp_temp)+1);
;;;283    		lc640_write_long(EE_SPC_KE_DATE1,ke_date[1]);
;;;284    		}
;;;285    
;;;286    	}
;;;287    }
000028  4a9f              LDR      r2,|L4.680|
00002a  b100              CBZ      r0,|L4.46|
00002c  7050              STRB     r0,[r2,#1]
                  |L4.46|
00002e  ea010100          AND      r1,r1,r0              ;221
000032  b101              CBZ      r1,|L4.54|
000034  7091              STRB     r1,[r2,#2]            ;221
                  |L4.54|
000036  ea000301          AND      r3,r0,r1              ;221
00003a  07db              LSLS     r3,r3,#31             ;221
00003c  d027              BEQ      |L4.142|
00003e  78d0              LDRB     r0,[r2,#3]            ;221  ; plazma_inv
000040  f1000001          ADD      r0,r0,#1              ;221
000044  70d0              STRB     r0,[r2,#3]            ;221
000046  b134              CBZ      r4,|L4.86|
000048  2c01              CMP      r4,#1                 ;221
00004a  d00b              BEQ      |L4.100|
00004c  2c02              CMP      r4,#2                 ;222
00004e  d010              BEQ      |L4.114|
000050  2c03              CMP      r4,#3                 ;222
000052  d015              BEQ      |L4.128|
000054  e120              B        |L4.664|
                  |L4.86|
000056  2301              MOVS     r3,#1                 ;222
000058  461a              MOV      r2,r3                 ;222
00005a  210e              MOVS     r1,#0xe
00005c  a093              ADR      r0,|L4.684|
00005e  f7fffffe          BL       snmp_trap_send
000062  e119              B        |L4.664|
                  |L4.100|
000064  2301              MOVS     r3,#1                 ;223
000066  2202              MOVS     r2,#2
000068  210e              MOVS     r1,#0xe               ;224
00006a  a097              ADR      r0,|L4.712|
00006c  f7fffffe          BL       snmp_trap_send
000070  e112              B        |L4.664|
                  |L4.114|
000072  2301              MOVS     r3,#1                 ;224
000074  2203              MOVS     r2,#3                 ;224
000076  210e              MOVS     r1,#0xe               ;224
000078  a09a              ADR      r0,|L4.740|
00007a  f7fffffe          BL       snmp_trap_send
00007e  e10b              B        |L4.664|
                  |L4.128|
000080  2301              MOVS     r3,#1                 ;225
000082  2204              MOVS     r2,#4                 ;225
000084  210e              MOVS     r1,#0xe               ;225
000086  a09e              ADR      r0,|L4.768|
000088  f7fffffe          BL       snmp_trap_send
00008c  e104              B        |L4.664|
                  |L4.142|
00008e  0783              LSLS     r3,r0,#30             ;226
000090  d529              BPL      |L4.230|
000092  078b              LSLS     r3,r1,#30             ;226
000094  d527              BPL      |L4.230|
000096  78d0              LDRB     r0,[r2,#3]            ;227  ; plazma_inv
000098  f1000001          ADD      r0,r0,#1              ;227
00009c  70d0              STRB     r0,[r2,#3]            ;226
00009e  b134              CBZ      r4,|L4.174|
0000a0  2c01              CMP      r4,#1                 ;226
0000a2  d00b              BEQ      |L4.188|
0000a4  2c02              CMP      r4,#2                 ;227
0000a6  d010              BEQ      |L4.202|
0000a8  2c03              CMP      r4,#3                 ;231
0000aa  d015              BEQ      |L4.216|
0000ac  e0f4              B        |L4.664|
                  |L4.174|
0000ae  2302              MOVS     r3,#2                 ;233
0000b0  2201              MOVS     r2,#1                 ;234
0000b2  210e              MOVS     r1,#0xe               ;234
0000b4  a099              ADR      r0,|L4.796|
0000b6  f7fffffe          BL       snmp_trap_send
0000ba  e0ed              B        |L4.664|
                  |L4.188|
0000bc  2302              MOVS     r3,#2                 ;235
0000be  461a              MOV      r2,r3                 ;237
0000c0  210e              MOVS     r1,#0xe               ;238
0000c2  a09d              ADR      r0,|L4.824|
0000c4  f7fffffe          BL       snmp_trap_send
0000c8  e0e6              B        |L4.664|
                  |L4.202|
0000ca  2302              MOVS     r3,#2                 ;239
0000cc  2203              MOVS     r2,#3                 ;239
0000ce  210e              MOVS     r1,#0xe               ;241
0000d0  a0a0              ADR      r0,|L4.852|
0000d2  f7fffffe          BL       snmp_trap_send
0000d6  e0df              B        |L4.664|
                  |L4.216|
0000d8  2302              MOVS     r3,#2                 ;242
0000da  2204              MOVS     r2,#4                 ;242
0000dc  210e              MOVS     r1,#0xe               ;244
0000de  a0a4              ADR      r0,|L4.880|
0000e0  f7fffffe          BL       snmp_trap_send
0000e4  e0d8              B        |L4.664|
                  |L4.230|
0000e6  0743              LSLS     r3,r0,#29             ;246
0000e8  d529              BPL      |L4.318|
0000ea  074b              LSLS     r3,r1,#29             ;246
0000ec  d527              BPL      |L4.318|
0000ee  78d0              LDRB     r0,[r2,#3]            ;253  ; plazma_inv
0000f0  f1000001          ADD      r0,r0,#1              ;253
0000f4  70d0              STRB     r0,[r2,#3]            ;253
0000f6  b134              CBZ      r4,|L4.262|
0000f8  2c01              CMP      r4,#1                 ;253
0000fa  d00b              BEQ      |L4.276|
0000fc  2c02              CMP      r4,#2                 ;253
0000fe  d010              BEQ      |L4.290|
000100  2c03              CMP      r4,#3                 ;255
000102  d015              BEQ      |L4.304|
000104  e0c8              B        |L4.664|
                  |L4.262|
000106  2303              MOVS     r3,#3                 ;256
000108  2201              MOVS     r2,#1                 ;256
00010a  210e              MOVS     r1,#0xe               ;256
00010c  a09f              ADR      r0,|L4.908|
00010e  f7fffffe          BL       snmp_trap_send
000112  e0c1              B        |L4.664|
                  |L4.276|
000114  2303              MOVS     r3,#3                 ;257
000116  2202              MOVS     r2,#2                 ;257
000118  210e              MOVS     r1,#0xe               ;257
00011a  a0a3              ADR      r0,|L4.936|
00011c  f7fffffe          BL       snmp_trap_send
000120  e0ba              B        |L4.664|
                  |L4.290|
000122  2303              MOVS     r3,#3                 ;260
000124  461a              MOV      r2,r3                 ;260
000126  210e              MOVS     r1,#0xe               ;260
000128  a0a6              ADR      r0,|L4.964|
00012a  f7fffffe          BL       snmp_trap_send
00012e  e0b3              B        |L4.664|
                  |L4.304|
000130  2303              MOVS     r3,#3                 ;261
000132  2204              MOVS     r2,#4                 ;263
000134  210e              MOVS     r1,#0xe               ;263
000136  a0aa              ADR      r0,|L4.992|
000138  f7fffffe          BL       snmp_trap_send
00013c  e0ac              B        |L4.664|
                  |L4.318|
00013e  0703              LSLS     r3,r0,#28             ;264
000140  d529              BPL      |L4.406|
000142  070b              LSLS     r3,r1,#28             ;265
000144  d527              BPL      |L4.406|
000146  78d0              LDRB     r0,[r2,#3]            ;267  ; plazma_inv
000148  f1000001          ADD      r0,r0,#1              ;267
00014c  70d0              STRB     r0,[r2,#3]            ;268
00014e  b134              CBZ      r4,|L4.350|
000150  2c01              CMP      r4,#1                 ;268
000152  d00b              BEQ      |L4.364|
000154  2c02              CMP      r4,#2                 ;268
000156  d010              BEQ      |L4.378|
000158  2c03              CMP      r4,#3                 ;270
00015a  d015              BEQ      |L4.392|
00015c  e09c              B        |L4.664|
                  |L4.350|
00015e  2304              MOVS     r3,#4                 ;271
000160  2201              MOVS     r2,#1                 ;271
000162  210e              MOVS     r1,#0xe               ;271
000164  a0a5              ADR      r0,|L4.1020|
000166  f7fffffe          BL       snmp_trap_send
00016a  e095              B        |L4.664|
                  |L4.364|
00016c  2304              MOVS     r3,#4                 ;274
00016e  2202              MOVS     r2,#2                 ;275
000170  210e              MOVS     r1,#0xe               ;275
000172  a0ab              ADR      r0,|L4.1056|
000174  f7fffffe          BL       snmp_trap_send
000178  e08e              B        |L4.664|
                  |L4.378|
00017a  2304              MOVS     r3,#4                 ;276
00017c  2203              MOVS     r2,#3                 ;276
00017e  210e              MOVS     r1,#0xe               ;278
000180  a0b0              ADR      r0,|L4.1092|
000182  f7fffffe          BL       snmp_trap_send
000186  e087              B        |L4.664|
                  |L4.392|
000188  2304              MOVS     r3,#4                 ;279
00018a  461a              MOV      r2,r3                 ;279
00018c  210e              MOVS     r1,#0xe               ;280
00018e  a0b6              ADR      r0,|L4.1128|
000190  f7fffffe          BL       snmp_trap_send
000194  e080              B        |L4.664|
                  |L4.406|
000196  06c3              LSLS     r3,r0,#27             ;282
000198  d529              BPL      |L4.494|
00019a  06cb              LSLS     r3,r1,#27             ;283
00019c  d527              BPL      |L4.494|
00019e  78d0              LDRB     r0,[r2,#3]            ;283  ; plazma_inv
0001a0  f1000001          ADD      r0,r0,#1              ;283
0001a4  70d0              STRB     r0,[r2,#3]
0001a6  b134              CBZ      r4,|L4.438|
0001a8  2c01              CMP      r4,#1                 ;227
0001aa  d00b              BEQ      |L4.452|
0001ac  2c02              CMP      r4,#2
0001ae  d010              BEQ      |L4.466|
0001b0  2c03              CMP      r4,#3
0001b2  d015              BEQ      |L4.480|
0001b4  e070              B        |L4.664|
                  |L4.438|
0001b6  2305              MOVS     r3,#5
0001b8  2201              MOVS     r2,#1
0001ba  210e              MOVS     r1,#0xe
0001bc  a0b3              ADR      r0,|L4.1164|
0001be  f7fffffe          BL       snmp_trap_send
0001c2  e069              B        |L4.664|
                  |L4.452|
0001c4  2305              MOVS     r3,#5
0001c6  2202              MOVS     r2,#2
0001c8  210e              MOVS     r1,#0xe
0001ca  a0b9              ADR      r0,|L4.1200|
0001cc  f7fffffe          BL       snmp_trap_send
0001d0  e062              B        |L4.664|
                  |L4.466|
0001d2  2305              MOVS     r3,#5
0001d4  2203              MOVS     r2,#3
0001d6  210e              MOVS     r1,#0xe
0001d8  a0be              ADR      r0,|L4.1236|
0001da  f7fffffe          BL       snmp_trap_send
0001de  e05b              B        |L4.664|
                  |L4.480|
0001e0  2305              MOVS     r3,#5
0001e2  2204              MOVS     r2,#4
0001e4  210e              MOVS     r1,#0xe
0001e6  a0c4              ADR      r0,|L4.1272|
0001e8  f7fffffe          BL       snmp_trap_send
0001ec  e054              B        |L4.664|
                  |L4.494|
0001ee  0683              LSLS     r3,r0,#26
0001f0  d529              BPL      |L4.582|
0001f2  068b              LSLS     r3,r1,#26
0001f4  d527              BPL      |L4.582|
0001f6  78d0              LDRB     r0,[r2,#3]  ; plazma_inv
0001f8  f1000001          ADD      r0,r0,#1
0001fc  70d0              STRB     r0,[r2,#3]
0001fe  b134              CBZ      r4,|L4.526|
000200  2c01              CMP      r4,#1
000202  d00b              BEQ      |L4.540|
000204  2c02              CMP      r4,#2
000206  d010              BEQ      |L4.554|
000208  2c03              CMP      r4,#3
00020a  d015              BEQ      |L4.568|
00020c  e044              B        |L4.664|
                  |L4.526|
00020e  2306              MOVS     r3,#6
000210  2201              MOVS     r2,#1
000212  210e              MOVS     r1,#0xe
000214  a0c1              ADR      r0,|L4.1308|
000216  f7fffffe          BL       snmp_trap_send
00021a  e03d              B        |L4.664|
                  |L4.540|
00021c  2306              MOVS     r3,#6
00021e  2202              MOVS     r2,#2
000220  210e              MOVS     r1,#0xe
000222  a0c7              ADR      r0,|L4.1344|
000224  f7fffffe          BL       snmp_trap_send
000228  e036              B        |L4.664|
                  |L4.554|
00022a  2306              MOVS     r3,#6
00022c  2203              MOVS     r2,#3
00022e  210e              MOVS     r1,#0xe
000230  a0cc              ADR      r0,|L4.1380|
000232  f7fffffe          BL       snmp_trap_send
000236  e02f              B        |L4.664|
                  |L4.568|
000238  2306              MOVS     r3,#6
00023a  2204              MOVS     r2,#4
00023c  210e              MOVS     r1,#0xe
00023e  a0d2              ADR      r0,|L4.1416|
000240  f7fffffe          BL       snmp_trap_send
000244  e028              B        |L4.664|
                  |L4.582|
000246  b300              CBZ      r0,|L4.650|
000248  b9f9              CBNZ     r1,|L4.650|
00024a  78d0              LDRB     r0,[r2,#3]  ; plazma_inv
00024c  f1000001          ADD      r0,r0,#1
000250  70d0              STRB     r0,[r2,#3]
000252  b134              CBZ      r4,|L4.610|
000254  2c01              CMP      r4,#1
000256  d00b              BEQ      |L4.624|
000258  2c02              CMP      r4,#2
00025a  d010              BEQ      |L4.638|
00025c  2c03              CMP      r4,#3
00025e  d015              BEQ      |L4.652|
000260  e01a              B        |L4.664|
                  |L4.610|
000262  2300              MOVS     r3,#0
000264  2201              MOVS     r2,#1
000266  210e              MOVS     r1,#0xe
000268  a0d0              ADR      r0,|L4.1452|
00026a  f7fffffe          BL       snmp_trap_send
00026e  e013              B        |L4.664|
                  |L4.624|
000270  2300              MOVS     r3,#0
000272  2202              MOVS     r2,#2
000274  210e              MOVS     r1,#0xe
000276  a0d2              ADR      r0,|L4.1472|
000278  f7fffffe          BL       snmp_trap_send
00027c  e00c              B        |L4.664|
                  |L4.638|
00027e  2300              MOVS     r3,#0
000280  2203              MOVS     r2,#3
000282  210e              MOVS     r1,#0xe
000284  a0d3              ADR      r0,|L4.1492|
000286  f7fffffe          BL       snmp_trap_send
                  |L4.650|
00028a  e005              B        |L4.664|
                  |L4.652|
00028c  2300              MOVS     r3,#0
00028e  2204              MOVS     r2,#4
000290  210e              MOVS     r1,#0xe
000292  a0d5              ADR      r0,|L4.1512|
000294  f7fffffe          BL       snmp_trap_send
                  |L4.664|
000298  f8150f46          LDRB     r0,[r5,#0x46]!
00029c  7068              STRB     r0,[r5,#1]
00029e  bd70              POP      {r4-r6,pc}
;;;288    
                          ENDP

                  |L4.672|
                          DCD      first_inv_slot
                  |L4.676|
                          DCD      inv
                  |L4.680|
                          DCD      ||area_number.21||+0x84
                  |L4.684|
0002ac  496e7665          DCB      "Invertor #1 Alarm, overload",0
0002b0  72746f72
0002b4  20233120
0002b8  416c6172
0002bc  6d2c206f
0002c0  7665726c
0002c4  6f616400
                  |L4.712|
0002c8  496e7665          DCB      "Invertor #2 Alarm, overload",0
0002cc  72746f72
0002d0  20233220
0002d4  416c6172
0002d8  6d2c206f
0002dc  7665726c
0002e0  6f616400
                  |L4.740|
0002e4  496e7665          DCB      "Invertor #3 Alarm, overload",0
0002e8  72746f72
0002ec  20233320
0002f0  416c6172
0002f4  6d2c206f
0002f8  7665726c
0002fc  6f616400
                  |L4.768|
000300  496e7665          DCB      "Invertor #4 Alarm, overload",0
000304  72746f72
000308  20233420
00030c  416c6172
000310  6d2c206f
000314  7665726c
000318  6f616400
                  |L4.796|
00031c  496e7665          DCB      "Invertor #1 Alarm, overheat",0
000320  72746f72
000324  20233120
000328  416c6172
00032c  6d2c206f
000330  76657268
000334  65617400
                  |L4.824|
000338  496e7665          DCB      "Invertor #2 Alarm, overheat",0
00033c  72746f72
000340  20233220
000344  416c6172
000348  6d2c206f
00034c  76657268
000350  65617400
                  |L4.852|
000354  496e7665          DCB      "Invertor #3 Alarm, overheat",0
000358  72746f72
00035c  20233320
000360  416c6172
000364  6d2c206f
000368  76657268
00036c  65617400
                  |L4.880|
000370  496e7665          DCB      "Invertor #4 Alarm, overheat",0
000374  72746f72
000378  20233420
00037c  416c6172
000380  6d2c206f
000384  76657268
000388  65617400
                  |L4.908|
00038c  496e7665          DCB      "Invertor #1 Alarm, is warm",0
000390  72746f72
000394  20233120
000398  416c6172
00039c  6d2c2069
0003a0  73207761
0003a4  726d00  
0003a7  00                DCB      0
                  |L4.936|
0003a8  496e7665          DCB      "Invertor #2 Alarm, is warm",0
0003ac  72746f72
0003b0  20233220
0003b4  416c6172
0003b8  6d2c2069
0003bc  73207761
0003c0  726d00  
0003c3  00                DCB      0
                  |L4.964|
0003c4  496e7665          DCB      "Invertor #3 Alarm, is warm",0
0003c8  72746f72
0003cc  20233320
0003d0  416c6172
0003d4  6d2c2069
0003d8  73207761
0003dc  726d00  
0003df  00                DCB      0
                  |L4.992|
0003e0  496e7665          DCB      "Invertor #4 Alarm, is warm",0
0003e4  72746f72
0003e8  20233420
0003ec  416c6172
0003f0  6d2c2069
0003f4  73207761
0003f8  726d00  
0003fb  00                DCB      0
                  |L4.1020|
0003fc  496e7665          DCB      "Invertor #1 Alarm, voltage is up",0
000400  72746f72
000404  20233120
000408  416c6172
00040c  6d2c2076
000410  6f6c7461
000414  67652069
000418  73207570
00041c  00      
00041d  00                DCB      0
00041e  00                DCB      0
00041f  00                DCB      0
                  |L4.1056|
000420  496e7665          DCB      "Invertor #2 Alarm, voltage is up",0
000424  72746f72
000428  20233220
00042c  416c6172
000430  6d2c2076
000434  6f6c7461
000438  67652069
00043c  73207570
000440  00      
000441  00                DCB      0
000442  00                DCB      0
000443  00                DCB      0
                  |L4.1092|
000444  496e7665          DCB      "Invertor #3 Alarm, voltage is up",0
000448  72746f72
00044c  20233320
000450  416c6172
000454  6d2c2076
000458  6f6c7461
00045c  67652069
000460  73207570
000464  00      
000465  00                DCB      0
000466  00                DCB      0
000467  00                DCB      0
                  |L4.1128|
000468  496e7665          DCB      "Invertor #4 Alarm, voltage is up",0
00046c  72746f72
000470  20233420
000474  416c6172
000478  6d2c2076
00047c  6f6c7461
000480  67652069
000484  73207570
000488  00      
000489  00                DCB      0
00048a  00                DCB      0
00048b  00                DCB      0
                  |L4.1164|
00048c  496e7665          DCB      "Invertor #1 Alarm, voltage is down",0
000490  72746f72
000494  20233120
000498  416c6172
00049c  6d2c2076
0004a0  6f6c7461
0004a4  67652069
0004a8  7320646f
0004ac  776e00  
0004af  00                DCB      0
                  |L4.1200|
0004b0  496e7665          DCB      "Invertor #2 Alarm, voltage is down",0
0004b4  72746f72
0004b8  20233220
0004bc  416c6172
0004c0  6d2c2076
0004c4  6f6c7461
0004c8  67652069
0004cc  7320646f
0004d0  776e00  
0004d3  00                DCB      0
                  |L4.1236|
0004d4  496e7665          DCB      "Invertor #3 Alarm, voltage is down",0
0004d8  72746f72
0004dc  20233320
0004e0  416c6172
0004e4  6d2c2076
0004e8  6f6c7461
0004ec  67652069
0004f0  7320646f
0004f4  776e00  
0004f7  00                DCB      0
                  |L4.1272|
0004f8  496e7665          DCB      "Invertor #4 Alarm, voltage is down",0
0004fc  72746f72
000500  20233420
000504  416c6172
000508  6d2c2076
00050c  6f6c7461
000510  67652069
000514  7320646f
000518  776e00  
00051b  00                DCB      0
                  |L4.1308|
00051c  496e7665          DCB      "Invertor #1 Alarm, output is offed",0
000520  72746f72
000524  20233120
000528  416c6172
00052c  6d2c206f
000530  75747075
000534  74206973
000538  206f6666
00053c  656400  
00053f  00                DCB      0
                  |L4.1344|
000540  496e7665          DCB      "Invertor #2 Alarm, output is offed",0
000544  72746f72
000548  20233220
00054c  416c6172
000550  6d2c206f
000554  75747075
000558  74206973
00055c  206f6666
000560  656400  
000563  00                DCB      0
                  |L4.1380|
000564  496e7665          DCB      "Invertor #3 Alarm, output is offed",0
000568  72746f72
00056c  20233320
000570  416c6172
000574  6d2c206f
000578  75747075
00057c  74206973
000580  206f6666
000584  656400  
000587  00                DCB      0
                  |L4.1416|
000588  496e7665          DCB      "Invertor #4 Alarm, output is offed",0
00058c  72746f72
000590  20233420
000594  416c6172
000598  6d2c206f
00059c  75747075
0005a0  74206973
0005a4  206f6666
0005a8  656400  
0005ab  00                DCB      0
                  |L4.1452|
0005ac  496e7665          DCB      "Invertor #1 is norm",0
0005b0  72746f72
0005b4  20233120
0005b8  6973206e
0005bc  6f726d00
                  |L4.1472|
0005c0  496e7665          DCB      "Invertor #2 is norm",0
0005c4  72746f72
0005c8  20233220
0005cc  6973206e
0005d0  6f726d00
                  |L4.1492|
0005d4  496e7665          DCB      "Invertor #3 is norm",0
0005d8  72746f72
0005dc  20233320
0005e0  6973206e
0005e4  6f726d00
                  |L4.1512|
0005e8  496e7665          DCB      "Invertor #4 is norm",0
0005ec  72746f72
0005f0  20233420
0005f4  6973206e
0005f8  6f726d00

                          AREA ||.bss||, DATA, NOINIT, ALIGN=2

                  adc_buff
                          %        1024
                  adc_buff_
                          %        32
                  main_power_buffer
                          %        32

                          AREA ||area_number.7||, DATA, NOINIT, ALIGN=1

                          EXPORTAS ||area_number.7||, ||.bss||
                  adc_buff_max
                          %        24

                          AREA ||area_number.8||, DATA, NOINIT, ALIGN=1

                          EXPORTAS ||area_number.8||, ||.bss||
                  net_buff
                          %        64

                          AREA ||.constdata||, DATA, READONLY, ALIGN=0

                  sk_buff_KONTUR
000000  0d0b0f0e          DCB      0x0d,0x0b,0x0f,0x0e

                          AREA ||area_number.11||, DATA, READONLY, ALIGN=0

                          EXPORTAS ||area_number.11||, ||.constdata||
                  sk_buff_RSTKM
000000  0d0b0f0e          DCB      0x0d,0x0b,0x0f,0x0e

                          AREA ||area_number.12||, DATA, READONLY, ALIGN=0

                          EXPORTAS ||area_number.12||, ||.constdata||
                  sk_buff_GLONASS
000000  0b0d0f0e          DCB      0x0b,0x0d,0x0f,0x0e

                          AREA ||area_number.13||, DATA, READONLY, ALIGN=0

                          EXPORTAS ||area_number.13||, ||.constdata||
                  sk_buff_3U
000000  0b0d0f0e          DCB      0x0b,0x0d,0x0f,0x0e

                          AREA ||area_number.14||, DATA, READONLY, ALIGN=0

                          EXPORTAS ||area_number.14||, ||.constdata||
                  sk_buff_6U
000000  0b0d0f0e          DCB      0x0b,0x0d,0x0f,0x0e

                          AREA ||area_number.15||, DATA, READONLY, ALIGN=0

                          EXPORTAS ||area_number.15||, ||.constdata||
                  sk_buff_220
000000  0b0d0f0e          DCB      0x0b,0x0d,0x0f,0x0e

                          AREA ||area_number.16||, DATA, READONLY, ALIGN=0

                          EXPORTAS ||area_number.16||, ||.constdata||
                  sk_buff_TELECORE2015
000000  0b0d0f0e          DCB      0x0b,0x0d,0x0f,0x0e

                          AREA ||.data||, DATA, ALIGN=1

                  adc_buff_min
000000  13881388          DCW      0x1388,0x1388
000004  13881388          DCW      0x1388,0x1388
000008  13881388          DCW      0x1388,0x1388
00000c  13881388          DCW      0x1388,0x1388
000010  13881388          DCW      0x1388,0x1388
                          DCDU     0x00000000

                          AREA ||area_number.18||, DATA, ALIGN=1

                          EXPORTAS ||area_number.18||, ||.data||
                  unet_buff_min
000000  1388              DCW      0x1388

                          AREA ||area_number.19||, DATA, ALIGN=0

                          EXPORTAS ||area_number.19||, ||.data||
                  adc_stat
000000  01                DCB      0x01

                          AREA ||area_number.20||, DATA, ALIGN=1

                          EXPORTAS ||area_number.20||, ||.data||
                  bat_ver_cnt
000000  0096              DCW      0x0096

                          AREA ||area_number.21||, DATA, ALIGN=2

                          EXPORTAS ||area_number.21||, ||.data||
                  vent_stat
000000  00                DCB      0x00
                  adc_self_ch_cnt
000001  00                DCB      0x00
                  adc_ch_net
000002  00                DCB      0x00
                  adc_ch
000003  00                DCB      0x00
                  adc_ch_cnt
000004  00                DCB      0x00
                  adc_window_flag
000005  00                DCB      0x00
                  ch_cnt0
000006  00                DCB      0x00
                  b1Hz_ch
000007  00                DCB      0x00
                  i
000008  00                DCB      0x00
                  iiii
000009  00                DCB      0x00
                  bAVG
00000a  00                DCB      0x00
                  avg_num
00000b  00                DCB      0x00
                  kb_full_ver
00000c  00                DCB      0x00
                  kb_start_ips
00000d  00                DCB      0x00
                  num_of_wrks_bps
00000e  00                DCB      0x00
                  num_necc_up
00000f  00                DCB      0x00
                  num_necc_down
000010  00                DCB      0x00
                  sh_cnt0
000011  00                DCB      0x00
                  b1Hz_sh
000012  00                DCB      0x00
                  spc_stat
000013  00                DCB      0x00
                  spc_bat
000014  00                DCB      0x00
                  spc_phase
000015  00                DCB      0x00
                  bAVZ
000016  00                DCB      0x00
                  ke_start_stat
000017  00                DCB      0x00
                  numOfForvardBps
000018  00                DCB      0x00
                  numOfForvardBps_minCnt
000019  00                DCB      0x00
                  cntrl_stat
00001a  0258              DCW      0x0258
                  cntrl_stat_old
00001c  0258              DCW      0x0258
                  avg_main_cnt
00001e  0014              DCW      0x0014
                  ibat_ips
000020  0000              DCB      0x00,0x00
                  ibat_ips_
000022  0000              DCB      0x00,0x00
                  num_necc_block_cnt
000024  0000              DCB      0x00,0x00
                  net_buff_
000026  0000              DCB      0x00,0x00
                  adc_result
000028  0000              DCB      0x00,0x00
                  adc_gorb_cnt
00002a  0000              DCB      0x00,0x00
                  adc_zero_cnt
00002c  0000              DCB      0x00,0x00
                  adc_window_cnt
00002e  0000              DCB      0x00,0x00
                  adc_net_buff_cnt
000030  0000              DCB      0x00,0x00
                  plazma_sk
000032  0000              DCB      0x00,0x00
                  cntrl_stat_new
000034  0000              DCB      0x00,0x00
                  Ibmax
000036  0000              DCB      0x00,0x00
                  IZMAX_
000038  0000              DCB      0x00,0x00
                  samokalibr_cnt
00003a  0000              DCB      0x00,0x00
                  main_kb_cnt
00003c  0000              DCB      0x00,0x00
                  kb_cnt_1lev
00003e  0000              DCB      0x00,0x00
                  kb_cnt_2lev
000040  0000              DCB      0x00,0x00
                  kb_start
000042  0000              DCB      0x00,0x00
                  bps_on_mask
000044  0000              DCB      0x00,0x00
                  bps_off_mask
000046  0000              DCB      0x00,0x00
                  vz_cnt_s
000048  0000              DCB      0x00,0x00
                  vz_cnt_s_
00004a  0000              DCB      0x00,0x00
                  vz_cnt_h
00004c  0000              DCB      0x00,0x00
                  vz_cnt_h_
00004e  0000              DCB      0x00,0x00
                  cnt_end_ke
000050  0000              DCB      0x00,0x00
                  __ee_vz_cnt
000052  0000              DCB      0x00,0x00
                  __ee_spc_stat
000054  0000              DCB      0x00,0x00
                  __ee_spc_bat
000056  0000              DCB      0x00,0x00
                  __ee_spc_phase
000058  0000              DCB      0x00,0x00
                  cntrl_stat_blok_cnt
00005a  0000              DCB      0x00,0x00
                  cntrl_stat_blok_cnt_
00005c  0000              DCB      0x00,0x00
                  numOfForvardBps_hourCnt
00005e  0000              DCB      0x00,0x00
                  ibat
                          DCD      0x00000000
                  ibat_
                          DCD      0x00000000
                  i_avg_max
                          DCD      0x00000000
                  i_avg_min
                          DCD      0x00000000
                  i_avg_summ
                          DCD      0x00000000
                  i_avg
                          DCD      0x00000000
                  avg
                          DCD      0x00000000
                  cntrl_stat_blok_cnt_plus
                          DCD      0x00000000
                  cntrl_stat_blok_cnt_minus
                          DCD      0x00000000
                  plazma_inv
                          DCD      0x00000000
                  net_metr_buff_
                          DCD      0x00000000
00008c  0000              DCB      0x00,0x00
                  adc_self_ch_buff
00008e  0000              DCB      0x00,0x00
                          DCD      0x00000000
                  adc_self_ch_disp
                          DCD      0x00000000
000098  00000000          DCB      0x00,0x00,0x00,0x00
                  ke_date
                          %        8

                          AREA ||area_number.22||, DATA, ALIGN=1

                          EXPORTAS ||area_number.22||, ||.data||
                  unet_buff_max
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.23||, DATA, ALIGN=0

                          EXPORTAS ||area_number.23||, ||.data||
                  adc_cnt
000000  00                DCB      0x00

                          AREA ||area_number.24||, DATA, ALIGN=0

                          EXPORTAS ||area_number.24||, ||.data||
                  adc_cnt1
000000  00                DCB      0x00

                          AREA ||area_number.25||, DATA, ALIGN=1

                          EXPORTAS ||area_number.25||, ||.data||
                  zero_cnt
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.26||, DATA, ALIGN=0

                          EXPORTAS ||area_number.26||, ||.data||
                  net_buff_cnt
000000  00                DCB      0x00

                          AREA ||area_number.27||, DATA, ALIGN=1

                          EXPORTAS ||area_number.27||, ||.data||
                  ADWR
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.28||, DATA, ALIGN=1

                          EXPORTAS ||area_number.28||, ||.data||
                  period_cnt
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.29||, DATA, ALIGN=1

                          EXPORTAS ||area_number.29||, ||.data||
                  non_zero_cnt
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.30||, DATA, ALIGN=0

                          EXPORTAS ||area_number.30||, ||.data||
                  rele_stat
000000  00                DCB      0x00

                          AREA ||area_number.31||, DATA, ALIGN=0

                          EXPORTAS ||area_number.31||, ||.data||
                  bRELE_OUT
000000  00                DCB      0x00

                          AREA ||area_number.32||, DATA, ALIGN=2

                          EXPORTAS ||area_number.32||, ||.data||
                  main_power_buffer_
                          DCD      0x00000000

                          AREA ||area_number.33||, DATA, ALIGN=1

                          EXPORTAS ||area_number.33||, ||.data||
                  main_power_buffer_cnt
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.34||, DATA, ALIGN=1

                          EXPORTAS ||area_number.34||, ||.data||
                  adc_buff_out_
                          DCDU     0x00000000
000004  0000              DCB      0x00,0x00

                          AREA ||area_number.35||, DATA, ALIGN=1

                          EXPORTAS ||area_number.35||, ||.data||
                  plazma_adc_cnt
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.36||, DATA, ALIGN=0

                          EXPORTAS ||area_number.36||, ||.data||
                  unh_cnt0
000000  00                DCB      0x00

                          AREA ||area_number.37||, DATA, ALIGN=0

                          EXPORTAS ||area_number.37||, ||.data||
                  unh_cnt1
000000  00                DCB      0x00

                          AREA ||area_number.38||, DATA, ALIGN=0

                          EXPORTAS ||area_number.38||, ||.data||
                  b1Hz_unh
000000  00                DCB      0x00

                          AREA ||area_number.39||, DATA, ALIGN=0

                          EXPORTAS ||area_number.39||, ||.data||
                  avg_cnt
000000  00                DCB      0x00

                          AREA ||area_number.40||, DATA, ALIGN=0

                          EXPORTAS ||area_number.40||, ||.data||
                  bps_all_off_cnt
000000  00                DCB      0x00

                          AREA ||area_number.41||, DATA, ALIGN=0

                          EXPORTAS ||area_number.41||, ||.data||
                  bps_mask_off_cnt
000000  00                DCB      0x00

                          AREA ||area_number.42||, DATA, ALIGN=0

                          EXPORTAS ||area_number.42||, ||.data||
                  bps_mask_on_off_cnt
000000  00                DCB      0x00

                          AREA ||area_number.43||, DATA, ALIGN=0

                          EXPORTAS ||area_number.43||, ||.data||
                  bps_hndl_2sec_cnt
000000  00                DCB      0x00

                          AREA ||area_number.44||, DATA, ALIGN=0

                          EXPORTAS ||area_number.44||, ||.data||
                  plazma_bat
000000  00                DCB      0x00
