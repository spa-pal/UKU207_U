; generated by ARM C/C++ Compiler, 4.1 [Build 644]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\EXE\control.o --asm_dir=.\ --list_dir=.\ --depend=.\EXE\control.d --feedback=.\EXE\UKU_220_IPS_TERMOKOMPENSAT.fed --cpu=Cortex-M3 --apcs=interwork -O1 -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\INC\NXP\LPC17xx -D__MICROLIB -DUKU_220_IPS_TERMOKOMPENSAT -DUKU2071x --omf_browse=.\EXE\control.crf control.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  ke_start PROC
;;;206    //-----------------------------------------------
;;;207    void ke_start(char in)
000000  e92d41fc          PUSH     {r2-r8,lr}
;;;208    {          
000004  4604              MOV      r4,r0
;;;209    ke_start_stat=(enum_ke_start_stat)0;		 
000006  4efe              LDR      r6,|L1.1024|
000008  f04f0700          MOV      r7,#0
00000c  75f7              STRB     r7,[r6,#0x17]
;;;210    
;;;211    if(spc_stat==spcVZ)ke_start_stat=kssNOT_VZ;
00000e  7cf0              LDRB     r0,[r6,#0x13]  ; spc_stat
000010  f04f0301          MOV      r3,#1
000014  2802              CMP      r0,#2
000016  d008              BEQ      |L1.42|
;;;212    else if(BAT_IS_ON[in]!=bisON)ke_start_stat=kssNOT_BAT;
000018  49fa              LDR      r1,|L1.1028|
00001a  5d09              LDRB     r1,[r1,r4]
00001c  2955              CMP      r1,#0x55
00001e  d006              BEQ      |L1.46|
000020  f04f0065          MOV      r0,#0x65
000024  75f0              STRB     r0,[r6,#0x17]
                  |L1.38|
;;;213    else if(bat[in]._av&(1<<0))ke_start_stat=kssNOT_BAT_AV;
;;;214    else if(bat[in]._temper_stat&(1<<1))ke_start_stat=kssNOT_BAT_AV_T;
;;;215    else if(bat[in]._av&(1<<1))ke_start_stat=kssNOT_BAT_AV_ASS;
;;;216    else if(bat[in]._Ib>IKB)ke_start_stat=kssNOT_BAT_ZAR;
;;;217    else if(bat[in]._Ib<-IKB)ke_start_stat=kssNOT_BAT_RAZR;
;;;218    else if((spc_stat==spcKE)&&(spc_bat==0))ke_start_stat=kssNOT_KE1;
;;;219    else if((spc_stat==spcKE)&&(spc_bat==1))ke_start_stat=kssNOT_KE2;
;;;220    else 
;;;221    	{
;;;222    
;;;223    	ke_start_stat=kssYES;
;;;224    
;;;225    	spc_stat=spcKE;
;;;226    	__ee_spc_stat=spcKE;
;;;227    	lc640_write_int(EE_SPC_STAT,__ee_spc_stat);
;;;228    	
;;;229    	spc_bat=in;
;;;230    	__ee_spc_bat=in;
;;;231    	lc640_write_int(EE_SPC_BAT,__ee_spc_bat);
;;;232    
;;;233    	bat[in]._zar_cnt_ke=0;
;;;234    	lc640_write_int(ADR_EE_BAT_ZAR_CNT_KE[in],0);
;;;235    	
;;;236    	spc_phase=0;
;;;237    	__ee_spc_phase=0;
;;;238    	lc640_write_int(EE_SPC_PHASE,__ee_spc_phase);
;;;239    
;;;240    	//ke_mem_hndl(in,lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat]));
;;;241    
;;;242    		{					
;;;243    		signed short temp_temp;
;;;244    		signed char temp;
;;;245    		temp_temp=bat[in]._u_old[((bat_u_old_cnt+1)&0x07)]; 
;;;246    		    
;;;247    		temp=LPC_RTC->YEAR;
;;;248    		gran_char(&temp,1,99);
;;;249    		*((char*)(&(ke_date[0])))=temp;
;;;250    			
;;;251    		temp=LPC_RTC->MONTH;
;;;252    		gran_char(&temp,1,12);
;;;253    		*(((char*)(&(ke_date[0])))+1)=temp;
;;;254    		
;;;255    		temp=LPC_RTC->DOM;
;;;256    		gran_char(&temp,1,31);
;;;257    		*(((char*)(&(ke_date[0])))+2)=temp;			
;;;258    				
;;;259    		*(((char*)(&(ke_date[0])))+3)=*((char*)&temp_temp);
;;;260    		lc640_write_long(EE_SPC_KE_DATE0,ke_date[0]);
;;;261    
;;;262    		temp=LPC_RTC->HOUR;
;;;263    		gran_char(&temp,0,23);
;;;264    		*((char*)(&(ke_date[1])))=temp;
;;;265                   
;;;266    		temp=LPC_RTC->MIN;
;;;267    		gran_char(&temp,0,59);
;;;268    		*(((char*)(&(ke_date[1])))+1)=temp;
;;;269    	          
;;;270    		temp=LPC_RTC->SEC;
;;;271    		gran_char(&temp,0,59);
;;;272    		*(((char*)(&(ke_date[1])))+2)=temp;
;;;273    			
;;;274    		*(((char*)(&(ke_date[1])))+3)=*(((char*)&temp_temp)+1);
;;;275    		lc640_write_long(EE_SPC_KE_DATE1,ke_date[1]);
;;;276    		}
;;;277    
;;;278    	}
;;;279    }
000026  e8bd81fc          POP      {r2-r8,pc}
                  |L1.42|
00002a  75f3              STRB     r3,[r6,#0x17]         ;211
00002c  e7fb              B        |L1.38|
                  |L1.46|
00002e  eb040144          ADD      r1,r4,r4,LSL #1       ;213
000032  eb011204          ADD      r2,r1,r4,LSL #4       ;213
000036  49f4              LDR      r1,|L1.1032|
000038  eb010582          ADD      r5,r1,r2,LSL #2       ;213
00003c  f895103d          LDRB     r1,[r5,#0x3d]         ;213
000040  07ca              LSLS     r2,r1,#31             ;213
000042  d003              BEQ      |L1.76|
000044  f04f0066          MOV      r0,#0x66              ;213
000048  75f0              STRB     r0,[r6,#0x17]         ;213
00004a  e7ec              B        |L1.38|
                  |L1.76|
00004c  f895203f          LDRB     r2,[r5,#0x3f]         ;214
000050  0792              LSLS     r2,r2,#30             ;214
000052  d503              BPL      |L1.92|
000054  f04f0067          MOV      r0,#0x67              ;214
000058  75f0              STRB     r0,[r6,#0x17]         ;214
00005a  e7e4              B        |L1.38|
                  |L1.92|
00005c  0789              LSLS     r1,r1,#30             ;215
00005e  d503              BPL      |L1.104|
000060  f04f0068          MOV      r0,#0x68              ;215
000064  75f0              STRB     r0,[r6,#0x17]         ;215
000066  e7de              B        |L1.38|
                  |L1.104|
000068  4ae8              LDR      r2,|L1.1036|
00006a  f9b51008          LDRSH    r1,[r5,#8]            ;216
00006e  f9b22000          LDRSH    r2,[r2,#0]            ;216  ; IKB
000072  4291              CMP      r1,r2                 ;216
000074  dd03              BLE      |L1.126|
000076  f04f0069          MOV      r0,#0x69              ;216
00007a  75f0              STRB     r0,[r6,#0x17]         ;216
00007c  e7d3              B        |L1.38|
                  |L1.126|
00007e  4252              RSBS     r2,r2,#0              ;217
000080  4291              CMP      r1,r2                 ;217
000082  da03              BGE      |L1.140|
000084  f04f006a          MOV      r0,#0x6a              ;217
000088  75f0              STRB     r0,[r6,#0x17]         ;217
00008a  e7cc              B        |L1.38|
                  |L1.140|
00008c  49dc              LDR      r1,|L1.1024|
00008e  2801              CMP      r0,#1                 ;218
000090  7d09              LDRB     r1,[r1,#0x14]         ;218
000092  d100              BNE      |L1.150|
000094  b111              CBZ      r1,|L1.156|
                  |L1.150|
000096  2801              CMP      r0,#1                 ;219
000098  d004              BEQ      |L1.164|
00009a  e005              B        |L1.168|
                  |L1.156|
00009c  f04f006b          MOV      r0,#0x6b              ;218
0000a0  75f0              STRB     r0,[r6,#0x17]         ;218
0000a2  e7c0              B        |L1.38|
                  |L1.164|
0000a4  2901              CMP      r1,#1                 ;219
0000a6  d07e              BEQ      |L1.422|
                  |L1.168|
0000a8  f04f0064          MOV      r0,#0x64              ;223
0000ac  75f0              STRB     r0,[r6,#0x17]         ;223
0000ae  74f3              STRB     r3,[r6,#0x13]         ;225
0000b0  f8a63052          STRH     r3,[r6,#0x52]         ;226
0000b4  4619              MOV      r1,r3                 ;227
0000b6  f44f70f8          MOV      r0,#0x1f0             ;227
0000ba  f7fffffe          BL       lc640_write_int
0000be  7534              STRB     r4,[r6,#0x14]         ;229
0000c0  f8a64054          STRH     r4,[r6,#0x54]         ;230
0000c4  4621              MOV      r1,r4                 ;231
0000c6  f44f70fa          MOV      r0,#0x1f4             ;231
0000ca  f7fffffe          BL       lc640_write_int
0000ce  61af              STR      r7,[r5,#0x18]         ;233
0000d0  48cf              LDR      r0,|L1.1040|
0000d2  2100              MOVS     r1,#0                 ;234
0000d4  f9300014          LDRSH    r0,[r0,r4,LSL #1]     ;234
0000d8  f7fffffe          BL       lc640_write_int
0000dc  7577              STRB     r7,[r6,#0x15]         ;236
0000de  f8a67056          STRH     r7,[r6,#0x56]         ;237
0000e2  4639              MOV      r1,r7                 ;238
0000e4  f44f70fb          MOV      r0,#0x1f6             ;238
0000e8  f7fffffe          BL       lc640_write_int
0000ec  48c9              LDR      r0,|L1.1044|
0000ee  8800              LDRH     r0,[r0,#0]            ;245  ; bat_u_old_cnt
0000f0  f1000001          ADD      r0,r0,#1              ;245
0000f4  f0000007          AND      r0,r0,#7              ;245
0000f8  eb050040          ADD      r0,r5,r0,LSL #1       ;245
0000fc  8c00              LDRH     r0,[r0,#0x20]         ;245
0000fe  9001              STR      r0,[sp,#4]            ;245
000100  4dc5              LDR      r5,|L1.1048|
000102  8ba8              LDRH     r0,[r5,#0x1c]         ;247
000104  9000              STR      r0,[sp,#0]            ;247
000106  f04f0263          MOV      r2,#0x63              ;248
00010a  f04f0101          MOV      r1,#1                 ;248
00010e  4668              MOV      r0,sp                 ;248
000110  f7fffffe          BL       gran_char
000114  4cba              LDR      r4,|L1.1024|
000116  f89d0000          LDRB     r0,[sp,#0]            ;249
00011a  3498              ADDS     r4,r4,#0x98           ;249
00011c  7020              STRB     r0,[r4,#0]            ;249
00011e  7e28              LDRB     r0,[r5,#0x18]         ;251
000120  9000              STR      r0,[sp,#0]            ;251
000122  220c              MOVS     r2,#0xc               ;252
000124  2101              MOVS     r1,#1                 ;252
000126  4668              MOV      r0,sp                 ;252
000128  f7fffffe          BL       gran_char
00012c  f89d0000          LDRB     r0,[sp,#0]            ;253
000130  7060              STRB     r0,[r4,#1]            ;253
000132  7b28              LDRB     r0,[r5,#0xc]          ;255
000134  9000              STR      r0,[sp,#0]            ;255
000136  221f              MOVS     r2,#0x1f              ;256
000138  2101              MOVS     r1,#1                 ;256
00013a  4668              MOV      r0,sp                 ;256
00013c  f7fffffe          BL       gran_char
000140  f89d0000          LDRB     r0,[sp,#0]            ;257
000144  70a0              STRB     r0,[r4,#2]            ;257
000146  f89d0004          LDRB     r0,[sp,#4]            ;259
00014a  70e0              STRB     r0,[r4,#3]            ;259
00014c  f44f70fc          MOV      r0,#0x1f8             ;260
000150  6821              LDR      r1,[r4,#0]            ;260  ; ke_date
000152  f7fffffe          BL       lc640_write_long
000156  7a28              LDRB     r0,[r5,#8]            ;262
000158  9000              STR      r0,[sp,#0]            ;262
00015a  2217              MOVS     r2,#0x17              ;263
00015c  2100              MOVS     r1,#0                 ;263
00015e  4668              MOV      r0,sp                 ;263
000160  f7fffffe          BL       gran_char
000164  f89d0000          LDRB     r0,[sp,#0]            ;264
000168  7120              STRB     r0,[r4,#4]            ;264
00016a  7928              LDRB     r0,[r5,#4]            ;266
00016c  9000              STR      r0,[sp,#0]            ;266
00016e  223b              MOVS     r2,#0x3b              ;267
000170  2100              MOVS     r1,#0                 ;267
000172  4668              MOV      r0,sp                 ;267
000174  f7fffffe          BL       gran_char
000178  f89d0000          LDRB     r0,[sp,#0]            ;268
00017c  7160              STRB     r0,[r4,#5]            ;268
00017e  7828              LDRB     r0,[r5,#0]            ;270
000180  9000              STR      r0,[sp,#0]            ;270
000182  223b              MOVS     r2,#0x3b              ;271
000184  2100              MOVS     r1,#0                 ;271
000186  4668              MOV      r0,sp                 ;271
000188  f7fffffe          BL       gran_char
00018c  f89d0000          LDRB     r0,[sp,#0]            ;272
000190  71a0              STRB     r0,[r4,#6]            ;272
000192  f89d0005          LDRB     r0,[sp,#5]            ;274
000196  71e0              STRB     r0,[r4,#7]            ;274
000198  f44f70fe          MOV      r0,#0x1fc             ;275
00019c  6861              LDR      r1,[r4,#4]            ;275  ; ke_date
00019e  f7fffffe          BL       lc640_write_long
0001a2  e740              B        |L1.38|
0001a4  e7ff              B        |L1.422|
                  |L1.422|
0001a6  f04f006c          MOV      r0,#0x6c              ;219
0001aa  75f0              STRB     r0,[r6,#0x17]         ;219
0001ac  e73b              B        |L1.38|
;;;280    
                          ENDP

                  ke_drv PROC
;;;281    //-----------------------------------------------
;;;282    void ke_drv(void)
0001ae  e92d47f0          PUSH     {r4-r10,lr}
;;;283    {
;;;284    
;;;285    if(spc_stat==spcKE)
0001b2  4c93              LDR      r4,|L1.1024|
0001b4  7ce0              LDRB     r0,[r4,#0x13]  ; spc_stat
0001b6  2801              CMP      r0,#1
0001b8  d17d              BNE      |L1.694|
0001ba  4621              MOV      r1,r4
0001bc  2601              MOVS     r6,#1
;;;286    	{
;;;287    	if(spc_phase==0)
;;;288    		{
;;;289    		mess_send(MESS2BAT_HNDL,PARAM_BAT_MASK_OFF_AFTER_2SEC,(1<<(1-spc_bat)),20);
0001be  7d09              LDRB     r1,[r1,#0x14]
0001c0  7d60              LDRB     r0,[r4,#0x15]         ;287  ; spc_phase
0001c2  f1c10201          RSB      r2,r1,#1
0001c6  fa06f102          LSL      r1,r6,r2
;;;290    		mess_send(MESS2BPS_HNDL,PARAM_BPS_ALL_OFF_AFTER_2SEC,0xffff,20);
;;;291    
;;;292    		bat[spc_bat]._zar_cnt_ke+=abs(bat[spc_bat]._Ib);
;;;293    	    	
;;;294    		if(bat[spc_bat]._zar_cnt_ke>=AH_CONSTANT)
;;;295    			{
;;;296    			bat[spc_bat]._zar_cnt_ke-=AH_CONSTANT;
;;;297    			lc640_write_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat],lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat])+1);
0001ca  4f91              LDR      r7,|L1.1040|
0001cc  4d8e              LDR      r5,|L1.1032|
0001ce  b20a              SXTH     r2,r1                 ;289
0001d0  b110              CBZ      r0,|L1.472|
;;;298    			}
;;;299    		}
;;;300    
;;;301    	else if(spc_phase==1)
0001d2  2801              CMP      r0,#1
0001d4  d034              BEQ      |L1.576|
0001d6  e038              B        |L1.586|
                  |L1.472|
0001d8  2314              MOVS     r3,#0x14              ;289
0001da  21ca              MOVS     r1,#0xca              ;289
0001dc  20c8              MOVS     r0,#0xc8              ;289
0001de  f7fffffe          BL       mess_send
0001e2  2314              MOVS     r3,#0x14              ;290
0001e4  f04f32ff          MOV      r2,#0xffffffff        ;290
0001e8  21ce              MOVS     r1,#0xce              ;290
0001ea  20cd              MOVS     r0,#0xcd              ;290
0001ec  f7fffffe          BL       mess_send
0001f0  7d20              LDRB     r0,[r4,#0x14]         ;292  ; spc_bat
0001f2  eb000140          ADD      r1,r0,r0,LSL #1       ;292
0001f6  eb011000          ADD      r0,r1,r0,LSL #4       ;292
0001fa  eb050080          ADD      r0,r5,r0,LSL #2       ;292
0001fe  f9b00008          LDRSH    r0,[r0,#8]            ;292
000202  f7fffffe          BL       abs
000206  7d21              LDRB     r1,[r4,#0x14]         ;292  ; spc_bat
000208  eb010241          ADD      r2,r1,r1,LSL #1       ;292
00020c  eb021201          ADD      r2,r2,r1,LSL #4       ;292
000210  eb050282          ADD      r2,r5,r2,LSL #2       ;292
000214  6993              LDR      r3,[r2,#0x18]         ;292
000216  4418              ADD      r0,r0,r3              ;292
000218  6190              STR      r0,[r2,#0x18]         ;292
00021a  f64843a0          MOV      r3,#0x8ca0            ;294
00021e  4298              CMP      r0,r3                 ;294
000220  db13              BLT      |L1.586|
000222  eba00003          SUB      r0,r0,r3              ;296
000226  6190              STR      r0,[r2,#0x18]         ;296
000228  f8370011          LDRH     r0,[r7,r1,LSL #1]     ;297
00022c  f7fffffe          BL       lc640_read_int
000230  1c40              ADDS     r0,r0,#1              ;297
000232  b201              SXTH     r1,r0                 ;297
000234  7d20              LDRB     r0,[r4,#0x14]         ;297  ; spc_bat
000236  f9370010          LDRSH    r0,[r7,r0,LSL #1]     ;297
00023a  f7fffffe          BL       lc640_write_int
00023e  e004              B        |L1.586|
                  |L1.576|
;;;302    		{
;;;303    		mess_send(MESS2BAT_HNDL,PARAM_BAT_MASK_OFF_AFTER_2SEC,(1<<(1-spc_bat)),20);
000240  2314              MOVS     r3,#0x14
000242  21ca              MOVS     r1,#0xca
000244  20c8              MOVS     r0,#0xc8
000246  f7fffffe          BL       mess_send
                  |L1.586|
;;;304    		}
;;;305    
;;;306    	if(bat[spc_bat]._Ub<(USIGN*10))
00024a  7d21              LDRB     r1,[r4,#0x14]  ; spc_bat
;;;307    		{
;;;308    		cnt_end_ke++;
;;;309    		if(cnt_end_ke>=30)
;;;310    			{
;;;311    			
;;;312    			if((spc_stat==spcKE)&&(spc_phase==0))
;;;313    				{
;;;314    				lc640_write_int(ADR_EE_BAT_C_REAL[spc_bat],lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat]));
;;;315    				ke_mem_hndl(spc_bat,lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat]));
;;;316    				lc640_write_int(ADR_EE_BAT_ZAR_CNT[spc_bat],0);
;;;317    				cntrl_stat=50;
;;;318    				cntrl_stat_old=50;
;;;319    				}
;;;320    
;;;321    			if((BAT_IS_ON[1-spc_bat]) == bisON)
;;;322    				{
;;;323    				spc_phase=1;
;;;324    				__ee_spc_phase=1;
;;;325    				lc640_write_int(EE_SPC_PHASE,1);
;;;326    				}			
;;;327    			else
;;;328    				{
;;;329    				spc_stat=spcOFF;
;;;330    				__ee_spc_stat=spcOFF;
;;;331    				lc640_write_int(EE_SPC_STAT,spcOFF);
00024c  f44f79f8          MOV      r9,#0x1f0
000250  eb010041          ADD      r0,r1,r1,LSL #1       ;306
000254  eb001001          ADD      r0,r0,r1,LSL #4       ;306
000258  eb050080          ADD      r0,r5,r0,LSL #2       ;306
00025c  f04f0800          MOV      r8,#0                 ;287
000260  f9b02002          LDRSH    r2,[r0,#2]            ;306
000264  486d              LDR      r0,|L1.1052|
000266  f9b00000          LDRSH    r0,[r0,#0]            ;306  ; USIGN
00026a  eb000080          ADD      r0,r0,r0,LSL #2       ;306
00026e  ebb20f40          CMP      r2,r0,LSL #1          ;306
000272  da47              BGE      |L1.772|
000274  f8b4004e          LDRH     r0,[r4,#0x4e]         ;308  ; cnt_end_ke
000278  f1000001          ADD      r0,r0,#1              ;308
00027c  b200              SXTH     r0,r0                 ;308
00027e  f8a4004e          STRH     r0,[r4,#0x4e]         ;308
000282  281e              CMP      r0,#0x1e              ;309
000284  db40              BLT      |L1.776|
000286  7ce0              LDRB     r0,[r4,#0x13]         ;312  ; spc_stat
000288  2801              CMP      r0,#1                 ;312
00028a  d122              BNE      |L1.722|
00028c  7d60              LDRB     r0,[r4,#0x15]         ;312  ; spc_phase
00028e  bb00              CBNZ     r0,|L1.722|
000290  f8370011          LDRH     r0,[r7,r1,LSL #1]     ;314
000294  f7fffffe          BL       lc640_read_int
000298  b201              SXTH     r1,r0                 ;314
00029a  4861              LDR      r0,|L1.1056|
00029c  7d22              LDRB     r2,[r4,#0x14]         ;314  ; spc_bat
00029e  f9300012          LDRSH    r0,[r0,r2,LSL #1]     ;314
0002a2  f7fffffe          BL       lc640_write_int
0002a6  7d20              LDRB     r0,[r4,#0x14]         ;315  ; spc_bat
0002a8  f8370010          LDRH     r0,[r7,r0,LSL #1]     ;315
0002ac  f7fffffe          BL       lc640_read_int
0002b0  b281              UXTH     r1,r0                 ;315
0002b2  7d20              LDRB     r0,[r4,#0x14]         ;315  ; spc_bat
0002b4  e000              B        |L1.696|
                  |L1.694|
0002b6  e049              B        |L1.844|
                  |L1.696|
0002b8  f7fffffe          BL       ke_mem_hndl
0002bc  4859              LDR      r0,|L1.1060|
0002be  7d21              LDRB     r1,[r4,#0x14]         ;316  ; spc_bat
0002c0  f9300011          LDRSH    r0,[r0,r1,LSL #1]     ;316
0002c4  2100              MOVS     r1,#0                 ;316
0002c6  f7fffffe          BL       lc640_write_int
0002ca  f04f0032          MOV      r0,#0x32              ;317
0002ce  8320              STRH     r0,[r4,#0x18]         ;317
0002d0  8360              STRH     r0,[r4,#0x1a]         ;318
                  |L1.722|
0002d2  7d20              LDRB     r0,[r4,#0x14]         ;321  ; spc_bat
0002d4  494b              LDR      r1,|L1.1028|
0002d6  f1c00001          RSB      r0,r0,#1              ;321
0002da  5c08              LDRB     r0,[r1,r0]            ;321
0002dc  2855              CMP      r0,#0x55              ;321
0002de  d008              BEQ      |L1.754|
0002e0  f8848013          STRB     r8,[r4,#0x13]         ;329
0002e4  f8a48052          STRH     r8,[r4,#0x52]         ;330
0002e8  2100              MOVS     r1,#0
0002ea  4648              MOV      r0,r9
0002ec  f7fffffe          BL       lc640_write_int
0002f0  e00a              B        |L1.776|
                  |L1.754|
0002f2  7566              STRB     r6,[r4,#0x15]         ;323
0002f4  f8a46056          STRH     r6,[r4,#0x56]         ;324
0002f8  2101              MOVS     r1,#1                 ;325
0002fa  f44f70fb          MOV      r0,#0x1f6             ;325
0002fe  f7fffffe          BL       lc640_write_int
000302  e001              B        |L1.776|
                  |L1.772|
;;;332    				}
;;;333    			}
;;;334    		}
;;;335    	else cnt_end_ke=0;
000304  f8a4804e          STRH     r8,[r4,#0x4e]
                  |L1.776|
;;;336    
;;;337    	if((bat[spc_bat]._Ub>=bat[1-spc_bat]._Ub)&&(spc_phase==1))
000308  7d21              LDRB     r1,[r4,#0x14]  ; spc_bat
00030a  eb010041          ADD      r0,r1,r1,LSL #1
00030e  eb001001          ADD      r0,r0,r1,LSL #4
000312  eb050080          ADD      r0,r5,r0,LSL #2
000316  f9b02002          LDRSH    r2,[r0,#2]
00031a  f1c10001          RSB      r0,r1,#1
00031e  eb000140          ADD      r1,r0,r0,LSL #1
000322  eb011000          ADD      r0,r1,r0,LSL #4
000326  eb050080          ADD      r0,r5,r0,LSL #2
00032a  f9b00002          LDRSH    r0,[r0,#2]
00032e  4282              CMP      r2,r0
000330  db0c              BLT      |L1.844|
000332  7d60              LDRB     r0,[r4,#0x15]  ; spc_phase
000334  2801              CMP      r0,#1
000336  d109              BNE      |L1.844|
;;;338    		{
;;;339    		spc_stat=spcOFF;
000338  f8848013          STRB     r8,[r4,#0x13]
;;;340    		__ee_spc_stat=spcOFF;
00033c  f8a48052          STRH     r8,[r4,#0x52]
;;;341    		lc640_write_int(EE_SPC_STAT,spcOFF);
000340  4648              MOV      r0,r9
000342  e8bd47f0          POP      {r4-r10,lr}
000346  2100              MOVS     r1,#0
000348  f7ffbffe          B.W      lc640_write_int
                  |L1.844|
;;;342    		}
;;;343    	}
;;;344    			
;;;345    }
00034c  e8bd87f0          POP      {r4-r10,pc}
;;;346    
                          ENDP

                  vz_start PROC
;;;347    //-----------------------------------------------
;;;348    char vz_start(char hour)
000350  b570              PUSH     {r4-r6,lr}
;;;349    {          
000352  4605              MOV      r5,r0
;;;350    char out;
;;;351    out=0;
000354  f04f0600          MOV      r6,#0
;;;352    if(spc_stat==spcOFF)
000358  4c29              LDR      r4,|L1.1024|
00035a  7ce0              LDRB     r0,[r4,#0x13]  ; spc_stat
00035c  bb18              CBNZ     r0,|L1.934|
;;;353    	{
;;;354    	spc_stat=spcVZ;
00035e  f1040412          ADD      r4,r4,#0x12
000362  f04f0102          MOV      r1,#2
000366  7061              STRB     r1,[r4,#1]
;;;355    	__ee_spc_stat=spcVZ; 
000368  f8a41040          STRH     r1,[r4,#0x40]
;;;356    	lc640_write_int(EE_SPC_STAT,__ee_spc_stat);   
00036c  f44f70f8          MOV      r0,#0x1f0
000370  f7fffffe          BL       lc640_write_int
;;;357    	vz_cnt_h=hour;
000374  8725              STRH     r5,[r4,#0x38]
;;;358    	__ee_vz_cnt=hour*60;
000376  ebc51005          RSB      r0,r5,r5,LSL #4
00037a  ea4f0180          LSL      r1,r0,#2
00037e  460d              MOV      r5,r1
000380  87e1              STRH     r1,[r4,#0x3e]
;;;359    	lc640_write_int(EE_VZ_CNT,__ee_vz_cnt);
000382  f44f70f9          MOV      r0,#0x1f2
000386  f7fffffe          BL       lc640_write_int
;;;360    	lc640_write_int(EE_SPC_VZ_LENGT,hour*60);	
00038a  4629              MOV      r1,r5
00038c  f44f70ff          MOV      r0,#0x1fe
000390  f7fffffe          BL       lc640_write_int
;;;361    	vz_cnt_h_=0;
000394  4630              MOV      r0,r6
000396  8760              STRH     r0,[r4,#0x3a]
;;;362    	vz_cnt_s=0;
000398  86a0              STRH     r0,[r4,#0x34]
;;;363    	out=1;
00039a  f04f0601          MOV      r6,#1
;;;364    	vz_mem_hndl(1);
00039e  f04f0001          MOV      r0,#1
0003a2  f7fffffe          BL       vz_mem_hndl
                  |L1.934|
;;;365    	}
;;;366    //else if((spc_stat==spc_KE1p1)||(spc_stat==spc_KE1p2)) out=22; 
;;;367    //else if((spc_stat==spc_KE2p1)||(spc_stat==spc_KE2p2)) out=33;
;;;368    //plazma=out;	
;;;369    return out;
0003a6  4630              MOV      r0,r6
;;;370    }
0003a8  bd70              POP      {r4-r6,pc}
;;;371    
                          ENDP

                  vz_stop PROC
;;;372    //-----------------------------------------------
;;;373    void vz_stop(void)
0003aa  b510              PUSH     {r4,lr}
;;;374    {
;;;375    if(spc_stat==spcVZ)
0003ac  4c14              LDR      r4,|L1.1024|
0003ae  7ce0              LDRB     r0,[r4,#0x13]  ; spc_stat
0003b0  2802              CMP      r0,#2
0003b2  d113              BNE      |L1.988|
;;;376         {
;;;377    vz_mem_hndl(vz_cnt_h);          
0003b4  f1040412          ADD      r4,r4,#0x12
0003b8  8f20              LDRH     r0,[r4,#0x38]  ; vz_cnt_h
0003ba  f7fffffe          BL       vz_mem_hndl
;;;378    vz_cnt_s=0;
0003be  f04f0000          MOV      r0,#0
0003c2  86a0              STRH     r0,[r4,#0x34]
;;;379    vz_cnt_h=0;
0003c4  8720              STRH     r0,[r4,#0x38]
;;;380    vz_cnt_h_=0;
0003c6  8760              STRH     r0,[r4,#0x3a]
;;;381    spc_stat=spcOFF;
0003c8  7060              STRB     r0,[r4,#1]
;;;382    
;;;383    		__ee_spc_stat=spcOFF;
0003ca  f8a40040          STRH     r0,[r4,#0x40]
;;;384    		lc640_write_int(EE_SPC_STAT,spcOFF);
0003ce  4601              MOV      r1,r0
0003d0  e8bd4010          POP      {r4,lr}
0003d4  f44f70f8          MOV      r0,#0x1f0
0003d8  f7ffbffe          B.W      lc640_write_int
                  |L1.988|
;;;385         }
;;;386    
;;;387    }
0003dc  bd10              POP      {r4,pc}
;;;388    
                          ENDP

                  avz_next_date_hndl PROC
;;;389    //-----------------------------------------------
;;;390    void avz_next_date_hndl(void)
0003de  b570              PUSH     {r4-r6,lr}
;;;391    {
;;;392    if((LPC_RTC->MONTH+AVZ)>12)lc640_write_int(EE_YEAR_AVZ,LPC_RTC->YEAR+1);
0003e0  4c0d              LDR      r4,|L1.1048|
0003e2  3c20              SUBS     r4,r4,#0x20
0003e4  f8940038          LDRB     r0,[r4,#0x38]
0003e8  4d0f              LDR      r5,|L1.1064|
0003ea  7829              LDRB     r1,[r5,#0]  ; AVZ
0003ec  4408              ADD      r0,r0,r1
0003ee  280c              CMP      r0,#0xc
0003f0  d91c              BLS      |L1.1068|
0003f2  8fa0              LDRH     r0,[r4,#0x3c]
0003f4  1c40              ADDS     r0,r0,#1
0003f6  b201              SXTH     r1,r0
0003f8  20b8              MOVS     r0,#0xb8
0003fa  f7fffffe          BL       lc640_write_int
0003fe  e01a              B        |L1.1078|
                  |L1.1024|
                          DCD      ||area_number.21||
                  |L1.1028|
                          DCD      BAT_IS_ON
                  |L1.1032|
                          DCD      bat
                  |L1.1036|
                          DCD      IKB
                  |L1.1040|
                          DCD      ADR_EE_BAT_ZAR_CNT_KE
                  |L1.1044|
                          DCD      bat_u_old_cnt
                  |L1.1048|
                          DCD      0x40024020
                  |L1.1052|
                          DCD      USIGN
                  |L1.1056|
                          DCD      ADR_EE_BAT_C_REAL
                  |L1.1060|
                          DCD      ADR_EE_BAT_ZAR_CNT
                  |L1.1064|
                          DCD      AVZ
                  |L1.1068|
;;;393    else lc640_write_int(EE_YEAR_AVZ,LPC_RTC->YEAR);
00042c  f9b4103c          LDRSH    r1,[r4,#0x3c]
000430  20b8              MOVS     r0,#0xb8
000432  f7fffffe          BL       lc640_write_int
                  |L1.1078|
;;;394    
;;;395    //lc640_write_int(EE_YEAR_AVZ,6);
;;;396    
;;;397    if((LPC_RTC->MONTH+AVZ)>12)lc640_write_int(EE_MONTH_AVZ,(LPC_RTC->MONTH+AVZ)-12);
000436  f8941038          LDRB     r1,[r4,#0x38]
00043a  7828              LDRB     r0,[r5,#0]  ; AVZ
00043c  4401              ADD      r1,r1,r0
00043e  290c              CMP      r1,#0xc
000440  d907              BLS      |L1.1106|
000442  f8941038          LDRB     r1,[r4,#0x38]
000446  380c              SUBS     r0,r0,#0xc
000448  4401              ADD      r1,r1,r0
00044a  20b6              MOVS     r0,#0xb6
00044c  f7fffffe          BL       lc640_write_int
000450  e005              B        |L1.1118|
                  |L1.1106|
;;;398    else lc640_write_int(EE_MONTH_AVZ,LPC_RTC->MONTH+AVZ);                                                 
000452  f8941038          LDRB     r1,[r4,#0x38]
000456  4401              ADD      r1,r1,r0
000458  20b6              MOVS     r0,#0xb6
00045a  f7fffffe          BL       lc640_write_int
                  |L1.1118|
;;;399    
;;;400    //lc640_write_int(EE_MONTH_AVZ,5);
;;;401    
;;;402    if(LPC_RTC->DOM>28) lc640_write_int(EE_DATE_AVZ,28);
00045e  f894002c          LDRB     r0,[r4,#0x2c]
000462  281c              CMP      r0,#0x1c
000464  d904              BLS      |L1.1136|
000466  211c              MOVS     r1,#0x1c
000468  20b4              MOVS     r0,#0xb4
00046a  f7fffffe          BL       lc640_write_int
00046e  e004              B        |L1.1146|
                  |L1.1136|
;;;403    else lc640_write_int(EE_DATE_AVZ,LPC_RTC->DOM);
000470  f894102c          LDRB     r1,[r4,#0x2c]
000474  20b4              MOVS     r0,#0xb4
000476  f7fffffe          BL       lc640_write_int
                  |L1.1146|
;;;404    
;;;405    //lc640_write_int(EE_DATE_AVZ,4);
;;;406    
;;;407    lc640_write_int(EE_HOUR_AVZ,LPC_RTC->HOUR);
00047a  f1040420          ADD      r4,r4,#0x20
00047e  7a21              LDRB     r1,[r4,#8]
000480  f04f00ae          MOV      r0,#0xae
000484  f7fffffe          BL       lc640_write_int
;;;408    lc640_write_int(EE_MIN_AVZ,LPC_RTC->MIN);
000488  7921              LDRB     r1,[r4,#4]
00048a  20b0              MOVS     r0,#0xb0
00048c  f7fffffe          BL       lc640_write_int
;;;409    lc640_write_int(EE_SEC_AVZ,LPC_RTC->SEC);
000490  7821              LDRB     r1,[r4,#0]
000492  e8bd4070          POP      {r4-r6,lr}
000496  20b2              MOVS     r0,#0xb2
000498  f7ffbffe          B.W      lc640_write_int
;;;410    
;;;411    }
;;;412    
                          ENDP

                  avz_drv PROC
;;;413    //-----------------------------------------------
;;;414    void avz_drv(void)                               
00049c  b510              PUSH     {r4,lr}
;;;415    {                
;;;416    if(AVZ!=AVZ_OFF)
00049e  48ff              LDR      r0,|L1.2204|
;;;417    	{
;;;418    	if((LPC_RTC->YEAR==YEAR_AVZ)&&(LPC_RTC->MONTH==MONTH_AVZ)&&(LPC_RTC->DOM==DATE_AVZ)&&(LPC_RTC->HOUR==HOUR_AVZ)&&(LPC_RTC->MIN==MIN_AVZ)&&(LPC_RTC->SEC==SEC_AVZ))
;;;419    		{
;;;420    		bAVZ=1;
0004a0  4cff              LDR      r4,|L1.2208|
0004a2  7800              LDRB     r0,[r0,#0]            ;416  ; AVZ
0004a4  b330              CBZ      r0,|L1.1268|
0004a6  48ff              LDR      r0,|L1.2212|
0004a8  8f82              LDRH     r2,[r0,#0x3c]         ;418
0004aa  49ff              LDR      r1,|L1.2216|
0004ac  8809              LDRH     r1,[r1,#0]            ;418  ; YEAR_AVZ
0004ae  428a              CMP      r2,r1                 ;418
0004b0  d120              BNE      |L1.1268|
0004b2  f8902038          LDRB     r2,[r0,#0x38]         ;418
0004b6  49fd              LDR      r1,|L1.2220|
0004b8  8809              LDRH     r1,[r1,#0]            ;418  ; MONTH_AVZ
0004ba  428a              CMP      r2,r1                 ;418
0004bc  d11a              BNE      |L1.1268|
0004be  f890102c          LDRB     r1,[r0,#0x2c]         ;418
0004c2  4afb              LDR      r2,|L1.2224|
0004c4  8812              LDRH     r2,[r2,#0]            ;418  ; DATE_AVZ
0004c6  4291              CMP      r1,r2                 ;418
0004c8  d114              BNE      |L1.1268|
0004ca  f8901028          LDRB     r1,[r0,#0x28]         ;418
0004ce  4af9              LDR      r2,|L1.2228|
0004d0  8812              LDRH     r2,[r2,#0]            ;418  ; HOUR_AVZ
0004d2  4291              CMP      r1,r2                 ;418
0004d4  d10e              BNE      |L1.1268|
0004d6  f8901024          LDRB     r1,[r0,#0x24]         ;418
0004da  4af7              LDR      r2,|L1.2232|
0004dc  8812              LDRH     r2,[r2,#0]            ;418  ; MIN_AVZ
0004de  4291              CMP      r1,r2                 ;418
0004e0  d108              BNE      |L1.1268|
0004e2  f8900020          LDRB     r0,[r0,#0x20]         ;418
0004e6  49f5              LDR      r1,|L1.2236|
0004e8  8809              LDRH     r1,[r1,#0]            ;418  ; SEC_AVZ
0004ea  4288              CMP      r0,r1                 ;418
0004ec  d102              BNE      |L1.1268|
0004ee  f04f0001          MOV      r0,#1
0004f2  75a0              STRB     r0,[r4,#0x16]
                  |L1.1268|
;;;421    		}
;;;422    	}
;;;423    if(bAVZ)
0004f4  7da0              LDRB     r0,[r4,#0x16]  ; bAVZ
0004f6  2800              CMP      r0,#0
0004f8  d00c              BEQ      |L1.1300|
;;;424    	{
;;;425    	if(vz_start(AVZ_TIME))
0004fa  48f1              LDR      r0,|L1.2240|
0004fc  8800              LDRH     r0,[r0,#0]  ; AVZ_TIME
0004fe  b2c0              UXTB     r0,r0
000500  f7fffffe          BL       vz_start
000504  2800              CMP      r0,#0
000506  d005              BEQ      |L1.1300|
;;;426    		{
;;;427    		bAVZ=0;
000508  f04f0000          MOV      r0,#0
00050c  75a0              STRB     r0,[r4,#0x16]
;;;428    		avz_next_date_hndl();
00050e  e8bd4010          POP      {r4,lr}
000512  e7fe              B        avz_next_date_hndl
                  |L1.1300|
;;;429    		}
;;;430    	}	
;;;431    
;;;432    }
000514  bd10              POP      {r4,pc}
;;;433    
                          ENDP

                  vz_drv PROC
;;;434    //-----------------------------------------------
;;;435    void vz_drv(void)
000516  b570              PUSH     {r4-r6,lr}
;;;436    { 
;;;437    if(spc_stat==spcVZ)
000518  4ce1              LDR      r4,|L1.2208|
00051a  7ce0              LDRB     r0,[r4,#0x13]  ; spc_stat
00051c  2802              CMP      r0,#2
00051e  d144              BNE      |L1.1450|
;;;438    	{
;;;439    	if(vz_cnt_s_<3600)
000520  f8b40048          LDRH     r0,[r4,#0x48]  ; vz_cnt_s_
000524  f44f6161          MOV      r1,#0xe10
;;;440    		{
;;;441    		vz_cnt_s_++;
;;;442    		if(vz_cnt_s_>=3600)
;;;443    			{
;;;444    			vz_cnt_s_=0;
000528  2500              MOVS     r5,#0
00052a  4288              CMP      r0,r1                 ;439
00052c  d215              BCS      |L1.1370|
00052e  f1000001          ADD      r0,r0,#1              ;441
000532  b280              UXTH     r0,r0                 ;441
000534  f8a40048          STRH     r0,[r4,#0x48]         ;441
000538  4288              CMP      r0,r1                 ;442
00053a  d30e              BCC      |L1.1370|
00053c  f8a45048          STRH     r5,[r4,#0x48]
;;;445    			if(vz_cnt_h)
000540  f8b4004a          LDRH     r0,[r4,#0x4a]  ; vz_cnt_h
000544  b148              CBZ      r0,|L1.1370|
;;;446    				{
;;;447    				vz_cnt_h--;
000546  f1a00001          SUB      r0,r0,#1
00054a  f8240f4a          STRH     r0,[r4,#0x4a]!
;;;448    				vz_cnt_h_++;
00054e  8860              LDRH     r0,[r4,#2]  ; vz_cnt_h_
000550  f1000001          ADD      r0,r0,#1
000554  8060              STRH     r0,[r4,#2]
000556  f1a4044a          SUB      r4,r4,#0x4a
                  |L1.1370|
;;;449    				}
;;;450    			}
;;;451    		}
;;;452    
;;;453    
;;;454    	if(vz_cnt_s<60)
00055a  f8b40046          LDRH     r0,[r4,#0x46]  ; vz_cnt_s
00055e  283c              CMP      r0,#0x3c
000560  d223              BCS      |L1.1450|
;;;455    		{
;;;456    		vz_cnt_s++;
000562  f1000001          ADD      r0,r0,#1
000566  b280              UXTH     r0,r0
000568  f8a40046          STRH     r0,[r4,#0x46]
;;;457    		if(vz_cnt_s>=60)
00056c  283c              CMP      r0,#0x3c
00056e  d31c              BCC      |L1.1450|
;;;458    			{
;;;459    			vz_cnt_s=0;
000570  f8245f46          STRH     r5,[r4,#0x46]!
;;;460    			
;;;461    			__ee_vz_cnt--;
000574  8960              LDRH     r0,[r4,#0xa]  ; __ee_vz_cnt
000576  f1a00001          SUB      r0,r0,#1
00057a  b201              SXTH     r1,r0
00057c  8161              STRH     r1,[r4,#0xa]
;;;462    			lc640_write_int(EE_VZ_CNT,__ee_vz_cnt);
00057e  f44f70f9          MOV      r0,#0x1f2
000582  f7fffffe          BL       lc640_write_int
;;;463    			if(!__ee_vz_cnt)
000586  8960              LDRH     r0,[r4,#0xa]  ; __ee_vz_cnt
000588  f1a40446          SUB      r4,r4,#0x46
00058c  2800              CMP      r0,#0
00058e  d10c              BNE      |L1.1450|
;;;464    				{
;;;465    				spc_stat=spcOFF;
000590  74e5              STRB     r5,[r4,#0x13]
;;;466    						__ee_spc_stat=spcOFF;
000592  f8a45052          STRH     r5,[r4,#0x52]
;;;467    		lc640_write_int(EE_SPC_STAT,spcOFF);
000596  4601              MOV      r1,r0
000598  f44f70f8          MOV      r0,#0x1f0
00059c  f7fffffe          BL       lc640_write_int
;;;468    				vz_mem_hndl(0);
0005a0  e8bd4070          POP      {r4-r6,lr}
0005a4  2000              MOVS     r0,#0
0005a6  f7ffbffe          B.W      vz_mem_hndl
                  |L1.1450|
;;;469    				}
;;;470    			}
;;;471    		}
;;;472    
;;;473    	}
;;;474    
;;;475    
;;;476    } 
0005aa  bd70              POP      {r4-r6,pc}
;;;477    
                          ENDP

                  kb_init PROC
;;;481    //-----------------------------------------------
;;;482    void kb_init(void)
0005ac  48c5              LDR      r0,|L1.2244|
;;;483    {
;;;484    main_kb_cnt=(TBAT*60)-60/*120*/;
0005ae  f06f013b          MVN      r1,#0x3b
0005b2  8800              LDRH     r0,[r0,#0]  ; TBAT
0005b4  ebc01000          RSB      r0,r0,r0,LSL #4
0005b8  eb010080          ADD      r0,r1,r0,LSL #2
0005bc  49b8              LDR      r1,|L1.2208|
0005be  8748              STRH     r0,[r1,#0x3a]
;;;485    }
0005c0  4770              BX       lr
;;;486    
                          ENDP

                  kb_hndl PROC
;;;487    //-----------------------------------------------
;;;488    void kb_hndl(void)
0005c2  e92d5ff0          PUSH     {r4-r12,lr}
;;;489    {
;;;490    
;;;491    static signed short ibat[2],ibat_[2],ibat_ips,ibat_ips_;
;;;492    #ifdef UKU_TELECORE2015
;;;493    if(((++main_kb_cnt>=TBAT*60)&&(TBAT))&&(BAT_TYPE==0))
;;;494    #else 
;;;495    if(((++main_kb_cnt>=TBAT*60)&&(TBAT)))
0005c6  f8df82d8          LDR      r8,|L1.2208|
;;;496    #endif
;;;497    	{
;;;498    	main_kb_cnt=0;
;;;499    	
;;;500    	kb_start[0]=0;
;;;501    	kb_start[1]=0;
;;;502    	kb_start_ips=0;
;;;503    
;;;504    	if( (BAT_IS_ON[0]==bisON) && (bat[0]._Ub>80) && ( (abs(bat[0]._Ib)<IKB) || (bat[0]._av&1) ) ) kb_start[0]=1;
;;;505    	if( (BAT_IS_ON[1]==bisON) && (bat[1]._Ub>80) && ( (abs(bat[1]._Ib)<IKB) || (bat[1]._av&1) ) ) kb_start[1]=1;
;;;506    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;507    	if( (!ips_bat_av_vzvod)                      && ((abs(Ib_ips_termokompensat)<IKB) || (bat_ips._av&1) ) ) kb_start_ips=1;
0005ca  f8dfa2fc          LDR      r10,|L1.2248|
0005ce  2500              MOVS     r5,#0                 ;495
0005d0  f8b8003a          LDRH     r0,[r8,#0x3a]         ;495  ; main_kb_cnt
0005d4  4ebd              LDR      r6,|L1.2252|
0005d6  1c40              ADDS     r0,r0,#1              ;495
0005d8  b201              SXTH     r1,r0                 ;495
0005da  48ba              LDR      r0,|L1.2244|
0005dc  f8a8103a          STRH     r1,[r8,#0x3a]         ;495
0005e0  f8df92ec          LDR      r9,|L1.2256|
0005e4  f9b00000          LDRSH    r0,[r0,#0]            ;495  ; TBAT
;;;508    #endif	
;;;509    	if( (net_av) || (num_of_wrks_bps==0) || ( (spc_stat!=spcOFF) && (spc_stat!=spcVZ) ) ) 
;;;510    		{
;;;511    		kb_start[0]=0;
;;;512    		kb_start[1]=0;
;;;513    		kb_start_ips=0;
;;;514    		}
;;;515    
;;;516    	if((kb_start[0]==1)||(kb_start[1]==1)||(kb_start_ips==1))
;;;517    		{
;;;518    		kb_cnt_1lev=10;
0005e8  270a              MOVS     r7,#0xa
0005ea  ebc01200          RSB      r2,r0,r0,LSL #4       ;495
0005ee  f04f0b01          MOV      r11,#1                ;504
0005f2  f1080440          ADD      r4,r8,#0x40           ;500
0005f6  ebb10f82          CMP      r1,r2,LSL #2          ;495
0005fa  db61              BLT      |L1.1728|
0005fc  b3f0              CBZ      r0,|L1.1660|
0005fe  f8a8503a          STRH     r5,[r8,#0x3a]         ;498
000602  7025              STRB     r5,[r4,#0]            ;500
000604  7065              STRB     r5,[r4,#1]            ;501
000606  f888500d          STRB     r5,[r8,#0xd]          ;502
00060a  48b2              LDR      r0,|L1.2260|
00060c  7800              LDRB     r0,[r0,#0]            ;504  ; BAT_IS_ON
00060e  2855              CMP      r0,#0x55              ;504
000610  d111              BNE      |L1.1590|
000612  f9b60002          LDRSH    r0,[r6,#2]            ;504  ; bat
000616  2850              CMP      r0,#0x50              ;504
000618  dd0d              BLE      |L1.1590|
00061a  f9b60008          LDRSH    r0,[r6,#8]            ;504  ; bat
00061e  f7fffffe          BL       abs
000622  f9b91000          LDRSH    r1,[r9,#0]            ;504  ; IKB
000626  4288              CMP      r0,r1                 ;504
000628  db03              BLT      |L1.1586|
00062a  f896003d          LDRB     r0,[r6,#0x3d]         ;504  ; bat
00062e  07c0              LSLS     r0,r0,#31             ;504
000630  d001              BEQ      |L1.1590|
                  |L1.1586|
000632  f884b000          STRB     r11,[r4,#0]           ;504
                  |L1.1590|
000636  48a7              LDR      r0,|L1.2260|
000638  7840              LDRB     r0,[r0,#1]            ;505  ; BAT_IS_ON
00063a  2855              CMP      r0,#0x55              ;505
00063c  d111              BNE      |L1.1634|
00063e  f9b6004e          LDRSH    r0,[r6,#0x4e]         ;505  ; bat
000642  2850              CMP      r0,#0x50              ;505
000644  dd0d              BLE      |L1.1634|
000646  f9b60054          LDRSH    r0,[r6,#0x54]         ;505  ; bat
00064a  f7fffffe          BL       abs
00064e  f9b91000          LDRSH    r1,[r9,#0]            ;505  ; IKB
000652  4288              CMP      r0,r1                 ;505
000654  db03              BLT      |L1.1630|
000656  f8960089          LDRB     r0,[r6,#0x89]         ;505  ; bat
00065a  07c0              LSLS     r0,r0,#31             ;505
00065c  d001              BEQ      |L1.1634|
                  |L1.1630|
00065e  f884b001          STRB     r11,[r4,#1]           ;505
                  |L1.1634|
000662  489d              LDR      r0,|L1.2264|
000664  7800              LDRB     r0,[r0,#0]            ;507  ; ips_bat_av_vzvod
000666  b980              CBNZ     r0,|L1.1674|
000668  f9ba0000          LDRSH    r0,[r10,#0]           ;507  ; Ib_ips_termokompensat
00066c  f7fffffe          BL       abs
000670  f9b91000          LDRSH    r1,[r9,#0]            ;507  ; IKB
000674  4288              CMP      r0,r1                 ;507
000676  db06              BLT      |L1.1670|
000678  4898              LDR      r0,|L1.2268|
00067a  e000              B        |L1.1662|
                  |L1.1660|
00067c  e020              B        |L1.1728|
                  |L1.1662|
00067e  f890003d          LDRB     r0,[r0,#0x3d]         ;507  ; bat_ips
000682  07c0              LSLS     r0,r0,#31             ;507
000684  d001              BEQ      |L1.1674|
                  |L1.1670|
000686  f888b00d          STRB     r11,[r8,#0xd]         ;507
                  |L1.1674|
00068a  4895              LDR      r0,|L1.2272|
00068c  7800              LDRB     r0,[r0,#0]            ;509  ; net_av
00068e  b938              CBNZ     r0,|L1.1696|
000690  f898000e          LDRB     r0,[r8,#0xe]          ;509  ; num_of_wrks_bps
000694  b120              CBZ      r0,|L1.1696|
000696  f8980013          LDRB     r0,[r8,#0x13]         ;509  ; spc_stat
00069a  b128              CBZ      r0,|L1.1704|
00069c  2802              CMP      r0,#2                 ;509
00069e  d003              BEQ      |L1.1704|
                  |L1.1696|
0006a0  7025              STRB     r5,[r4,#0]            ;511
0006a2  7065              STRB     r5,[r4,#1]            ;512
0006a4  f888500d          STRB     r5,[r8,#0xd]          ;513
                  |L1.1704|
0006a8  7820              LDRB     r0,[r4,#0]            ;516  ; kb_start
0006aa  2801              CMP      r0,#1                 ;516
0006ac  d01f              BEQ      |L1.1774|
0006ae  7860              LDRB     r0,[r4,#1]            ;516  ; kb_start
0006b0  2801              CMP      r0,#1                 ;516
0006b2  d01c              BEQ      |L1.1774|
0006b4  f898000d          LDRB     r0,[r8,#0xd]          ;516  ; kb_start_ips
0006b8  2801              CMP      r0,#1                 ;516
0006ba  d018              BEQ      |L1.1774|
;;;519    		}
;;;520    	else kb_cnt_1lev=0;
0006bc  f8a8503c          STRH     r5,[r8,#0x3c]
                  |L1.1728|
;;;521    	}
;;;522    
;;;523    if(kb_cnt_1lev)
0006c0  4641              MOV      r1,r8
0006c2  f9b8003c          LDRSH    r0,[r8,#0x3c]  ; kb_cnt_1lev
;;;524    	{
;;;525    	kb_cnt_1lev--;
;;;526    
;;;527    	if(kb_cnt_1lev>5)mess_send(MESS2CNTRL_HNDL,PARAM_CNTRL_STAT_PLUS,30,15);
;;;528    	else if(kb_cnt_1lev>0) mess_send(MESS2CNTRL_HNDL,PARAM_CNTRL_STAT_MINUS,30,15);
;;;529    
;;;530    
;;;531    	if(kb_cnt_1lev==5)
;;;532    		{
;;;533    		ibat[0]=abs(bat[0]._Ib);
0006c6  f8df81d8          LDR      r8,|L1.2208|
0006ca  2800              CMP      r0,#0                 ;523
0006cc  f108085c          ADD      r8,r8,#0x5c
0006d0  d07e              BEQ      |L1.2000|
0006d2  f1a00001          SUB      r0,r0,#1              ;525
0006d6  b200              SXTH     r0,r0                 ;525
0006d8  468b              MOV      r11,r1                ;525
0006da  8788              STRH     r0,[r1,#0x3c]         ;525
0006dc  2805              CMP      r0,#5                 ;527
0006de  dd09              BLE      |L1.1780|
0006e0  230f              MOVS     r3,#0xf               ;527
0006e2  221e              MOVS     r2,#0x1e              ;527
0006e4  2164              MOVS     r1,#0x64              ;527
0006e6  20e1              MOVS     r0,#0xe1              ;527
0006e8  f7fffffe          BL       mess_send
0006ec  e00a              B        |L1.1796|
                  |L1.1774|
0006ee  f8a8703c          STRH     r7,[r8,#0x3c]         ;518
0006f2  e7e5              B        |L1.1728|
                  |L1.1780|
0006f4  2800              CMP      r0,#0                 ;528
0006f6  dd05              BLE      |L1.1796|
0006f8  230f              MOVS     r3,#0xf               ;528
0006fa  221e              MOVS     r2,#0x1e              ;528
0006fc  2169              MOVS     r1,#0x69              ;528
0006fe  20e1              MOVS     r0,#0xe1              ;528
000700  f7fffffe          BL       mess_send
                  |L1.1796|
000704  f8bb003c          LDRH     r0,[r11,#0x3c]        ;531  ; kb_cnt_1lev
000708  2805              CMP      r0,#5                 ;531
00070a  d111              BNE      |L1.1840|
00070c  f9b60008          LDRSH    r0,[r6,#8]  ; bat
000710  f7fffffe          BL       abs
000714  f8a80000          STRH     r0,[r8,#0]
;;;534    		ibat[1]=abs(bat[1]._Ib);
000718  f9b60054          LDRSH    r0,[r6,#0x54]  ; bat
00071c  f7fffffe          BL       abs
000720  f8a80002          STRH     r0,[r8,#2]
;;;535    		ibat_ips=abs(Ib_ips_termokompensat);
000724  f9ba0000          LDRSH    r0,[r10,#0]  ; Ib_ips_termokompensat
000728  f7fffffe          BL       abs
00072c  f8ab001e          STRH     r0,[r11,#0x1e]
                  |L1.1840|
;;;536    		}
;;;537    	
;;;538    	if(kb_cnt_1lev==0)
000730  485b              LDR      r0,|L1.2208|
000732  8f80              LDRH     r0,[r0,#0x3c]  ; kb_cnt_1lev
000734  2800              CMP      r0,#0
000736  d154              BNE      |L1.2018|
;;;539    		{
;;;540    		ibat_[0]=abs(bat[0]._Ib);
000738  f9b60008          LDRSH    r0,[r6,#8]  ; bat
00073c  f7fffffe          BL       abs
000740  f8dfb15c          LDR      r11,|L1.2208|
000744  f10b0b60          ADD      r11,r11,#0x60
000748  f8ab0000          STRH     r0,[r11,#0]
;;;541    		ibat_[1]=abs(bat[1]._Ib);
00074c  f9b60054          LDRSH    r0,[r6,#0x54]  ; bat
000750  f7fffffe          BL       abs
000754  f8ab0002          STRH     r0,[r11,#2]
;;;542    		ibat_ips_=abs(Ib_ips_termokompensat);
000758  f9ba0000          LDRSH    r0,[r10,#0]  ; Ib_ips_termokompensat
00075c  f7fffffe          BL       abs
000760  f8dfa13c          LDR      r10,|L1.2208|
000764  f8aa0020          STRH     r0,[r10,#0x20]
;;;543    
;;;544    		kb_cnt_2lev=0;
000768  f8aa503e          STRH     r5,[r10,#0x3e]
;;;545    
;;;546    
;;;547    		if(( (ibat[0]+ibat_[0]) < IKB )&& (kb_start[0]==1))
00076c  f9b80000          LDRSH    r0,[r8,#0]  ; ibat
000770  f9bb1000          LDRSH    r1,[r11,#0]  ; ibat_
000774  4408              ADD      r0,r0,r1
000776  f9b91000          LDRSH    r1,[r9,#0]  ; IKB
00077a  4288              CMP      r0,r1
00077c  da02              BGE      |L1.1924|
00077e  7820              LDRB     r0,[r4,#0]  ; kb_start
000780  2801              CMP      r0,#1
000782  d030              BEQ      |L1.2022|
                  |L1.1924|
;;;548    			{
;;;549    			kb_cnt_2lev=10;  
;;;550    			}
;;;551    		else if(bat[0]._Ub>200)
000784  f9b60002          LDRSH    r0,[r6,#2]  ; bat
000788  28c8              CMP      r0,#0xc8
00078a  dd04              BLE      |L1.1942|
;;;552    			{
;;;553    			kb_start[0]=0;
00078c  7025              STRB     r5,[r4,#0]
;;;554    			avar_bat_hndl(0,0);
00078e  2100              MOVS     r1,#0
000790  4608              MOV      r0,r1
000792  f7fffffe          BL       avar_bat_hndl
                  |L1.1942|
;;;555    			}
;;;556    		
;;;557    		if(( (ibat[1]+ibat_[1]) < IKB ) && (kb_start[1]==1))
000796  f9b80002          LDRSH    r0,[r8,#2]  ; ibat
00079a  f9bb1002          LDRSH    r1,[r11,#2]  ; ibat_
00079e  4408              ADD      r0,r0,r1
0007a0  f9b91000          LDRSH    r1,[r9,#0]  ; IKB
0007a4  4288              CMP      r0,r1
0007a6  da02              BGE      |L1.1966|
0007a8  7860              LDRB     r0,[r4,#1]  ; kb_start
0007aa  2801              CMP      r0,#1
0007ac  d01e              BEQ      |L1.2028|
                  |L1.1966|
;;;558    			{
;;;559    			kb_cnt_2lev=10;     
;;;560    			}
;;;561    		else  if(bat[1]._Ub>200)
0007ae  f9b6004e          LDRSH    r0,[r6,#0x4e]  ; bat
0007b2  28c8              CMP      r0,#0xc8
0007b4  dd04              BLE      |L1.1984|
;;;562    			{
;;;563    			kb_start[1]=0;
0007b6  7065              STRB     r5,[r4,#1]
;;;564    			avar_bat_hndl(1,0);
0007b8  2100              MOVS     r1,#0
0007ba  2001              MOVS     r0,#1
0007bc  f7fffffe          BL       avar_bat_hndl
                  |L1.1984|
;;;565    			}
;;;566    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;567    		if(( (ibat_ips+ibat_ips_) < IKB ) && (kb_start_ips==1))
0007c0  f9ba001e          LDRSH    r0,[r10,#0x1e]  ; ibat_ips
0007c4  f9ba1020          LDRSH    r1,[r10,#0x20]  ; ibat_ips_
0007c8  4408              ADD      r0,r0,r1
0007ca  f9b91000          LDRSH    r1,[r9,#0]  ; IKB
0007ce  e000              B        |L1.2002|
                  |L1.2000|
0007d0  e00f              B        |L1.2034|
                  |L1.2002|
0007d2  4288              CMP      r0,r1
0007d4  da05              BGE      |L1.2018|
0007d6  f89a000d          LDRB     r0,[r10,#0xd]  ; kb_start_ips
0007da  2801              CMP      r0,#1
0007dc  d101              BNE      |L1.2018|
;;;568    			{
;;;569    			kb_cnt_2lev=10;     
0007de  f8aa703e          STRH     r7,[r10,#0x3e]
                  |L1.2018|
;;;570    			}
;;;571    /*		else  if(bat[1]._Ub>200)
;;;572    			{
;;;573    			kb_start[1]=0;
;;;574    			avar_bat_hndl(1,0);
;;;575    			} */
;;;576    #endif
;;;577    		}	
;;;578    
;;;579    
;;;580    	}
;;;581    else if(kb_cnt_2lev)
;;;582    	{
;;;583    	kb_cnt_2lev--;
;;;584    
;;;585    	if(kb_cnt_2lev>5)mess_send(MESS2CNTRL_HNDL,PARAM_CNTRL_STAT_PLUS,200,15);
;;;586    	else if(kb_cnt_2lev>0) mess_send(MESS2CNTRL_HNDL,PARAM_CNTRL_STAT_MINUS,200,15);
;;;587    
;;;588    
;;;589    	if(kb_cnt_2lev==5)
;;;590    		{
;;;591    		ibat[0]=abs(bat[0]._Ib);
;;;592    		ibat[1]=abs(bat[1]._Ib);
;;;593    		ibat_ips=abs(Ib_ips_termokompensat);
;;;594    		}
;;;595    	
;;;596    	if(kb_cnt_2lev==0)
;;;597    		{
;;;598    		ibat_[0]=abs(bat[0]._Ib);
;;;599    		ibat_[1]=abs(bat[1]._Ib);
;;;600    		ibat_ips_=abs(Ib_ips_termokompensat);
;;;601    
;;;602    		kb_full_ver=0;
;;;603    
;;;604    		if(( (ibat[0]+ibat_[0]) < IKB ) && (kb_start[0]==1))
;;;605    			{
;;;606    			kb_full_ver=1;  
;;;607    			}
;;;608    		else if(bat[0]._Ub>200)			
;;;609    			{
;;;610    			kb_start[0]=0;
;;;611    			avar_bat_hndl(0,0);
;;;612    			}
;;;613    
;;;614    		if(( (ibat[1]+ibat_[1]) < IKB ) && (kb_start[1]==1))
;;;615    			{
;;;616    			kb_full_ver=1;     
;;;617    			}
;;;618    		else	if(bat[1]._Ub>200)		
;;;619    			{
;;;620    			kb_start[1]=0;
;;;621    			avar_bat_hndl(1,0);
;;;622    			}
;;;623    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;624    		if(( (ibat_ips+ibat_ips_) < IKB )  && (kb_start_ips==1))
;;;625    			{
;;;626    			kb_full_ver=1;     
;;;627    			}
;;;628    #endif
;;;629    		}	
;;;630    	}
;;;631    
;;;632    else if(kb_full_ver)
;;;633    	{
;;;634    	
;;;635    	mess_send(MESS2CNTRL_HNDL,PARAM_CNTRL_STAT_STEP_DOWN,0,15);
;;;636    
;;;637    	if( abs(bat[0]._Ib) > IKB ) 
;;;638    		{
;;;639    		if(kb_start[0]==1)
;;;640    			{
;;;641    			kb_start[0]=0;
;;;642    			avar_bat_hndl(0,0);
;;;643    			}
;;;644    		}
;;;645    
;;;646    	if( abs(bat[1]._Ib) > IKB ) 
;;;647    		{
;;;648    		if(kb_start[1]==1)
;;;649    			{
;;;650    			kb_start[1]=0;
;;;651    			avar_bat_hndl(1,0);
;;;652    			}
;;;653    		}
;;;654    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;655    	if( abs(Ib_ips_termokompensat) > IKB ) 
;;;656    		{
;;;657    		if(kb_start_ips==1)
;;;658    			{
;;;659    			kb_start_ips=0;
;;;660    			avar_bat_ips_hndl(0);
;;;661    			}
;;;662    		}
;;;663    #endif
;;;664    
;;;665    	if ((kb_start[0]==0) && (kb_start[1]==0) && (kb_start_ips==0)) 
;;;666    		{
;;;667    		kb_full_ver=0;
;;;668    		}
;;;669    
;;;670    	if(( (mess_find(MESS2KB_HNDL))	&& (mess_data[0]==PARAM_CNTRL_IS_DOWN) ) || (load_U<(USIGN*10)) )
;;;671    		{
;;;672    		kb_full_ver=0;
;;;673    		if((kb_start[0]==1)&&((load_I>(2*IKB)/10))&&(!(bat[0]._av&0x01))) avar_bat_hndl(0,1);
;;;674    		if((kb_start[1]==1)&&((load_I>(2*IKB)/10))&&(!(bat[1]._av&0x01))) avar_bat_hndl(1,1);
;;;675    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;676    		if((kb_start_ips==1)&&((load_I>(2*IKB)/10))&&(!(bat_ips._av&0x01))) avar_bat_ips_hndl(1);
;;;677    #endif
;;;678    		}
;;;679    	}
;;;680    
;;;681    }
0007e2  e8bd9ff0          POP      {r4-r12,pc}
                  |L1.2022|
0007e6  f8aa703e          STRH     r7,[r10,#0x3e]        ;549
0007ea  e7d4              B        |L1.1942|
                  |L1.2028|
0007ec  f8aa703e          STRH     r7,[r10,#0x3e]        ;559
0007f0  e7e6              B        |L1.1984|
                  |L1.2034|
0007f2  f9b1003e          LDRSH    r0,[r1,#0x3e]         ;581  ; kb_cnt_2lev
0007f6  b3f0              CBZ      r0,|L1.2166|
0007f8  f1a00001          SUB      r0,r0,#1              ;583
0007fc  b200              SXTH     r0,r0                 ;583
0007fe  460f              MOV      r7,r1                 ;583
000800  87c8              STRH     r0,[r1,#0x3e]         ;583
000802  2805              CMP      r0,#5                 ;585
000804  dd06              BLE      |L1.2068|
000806  230f              MOVS     r3,#0xf               ;585
000808  22c8              MOVS     r2,#0xc8              ;585
00080a  2164              MOVS     r1,#0x64              ;585
00080c  20e1              MOVS     r0,#0xe1              ;585
00080e  f7fffffe          BL       mess_send
000812  e007              B        |L1.2084|
                  |L1.2068|
000814  2800              CMP      r0,#0                 ;586
000816  dd05              BLE      |L1.2084|
000818  230f              MOVS     r3,#0xf               ;586
00081a  22c8              MOVS     r2,#0xc8              ;586
00081c  2169              MOVS     r1,#0x69              ;586
00081e  20e1              MOVS     r0,#0xe1              ;586
000820  f7fffffe          BL       mess_send
                  |L1.2084|
000824  8ff8              LDRH     r0,[r7,#0x3e]         ;589  ; kb_cnt_2lev
000826  2805              CMP      r0,#5                 ;589
000828  d110              BNE      |L1.2124|
00082a  f9b60008          LDRSH    r0,[r6,#8]            ;591  ; bat
00082e  f7fffffe          BL       abs
000832  f8a80000          STRH     r0,[r8,#0]            ;591
000836  f9b60054          LDRSH    r0,[r6,#0x54]         ;592  ; bat
00083a  f7fffffe          BL       abs
00083e  f8a80002          STRH     r0,[r8,#2]            ;592
000842  f9ba0000          LDRSH    r0,[r10,#0]           ;593  ; Ib_ips_termokompensat
000846  f7fffffe          BL       abs
00084a  83f8              STRH     r0,[r7,#0x1e]         ;593
                  |L1.2124|
00084c  4814              LDR      r0,|L1.2208|
00084e  8fc0              LDRH     r0,[r0,#0x3e]         ;596  ; kb_cnt_2lev
000850  2800              CMP      r0,#0                 ;596
                  |L1.2130|
000852  d1c6              BNE      |L1.2018|
000854  f9b60008          LDRSH    r0,[r6,#8]            ;598  ; bat
000858  f7fffffe          BL       abs
00085c  4f10              LDR      r7,|L1.2208|
00085e  3760              ADDS     r7,r7,#0x60           ;598
000860  8038              STRH     r0,[r7,#0]            ;598
000862  f9b60054          LDRSH    r0,[r6,#0x54]         ;599  ; bat
000866  f7fffffe          BL       abs
00086a  8078              STRH     r0,[r7,#2]            ;599
00086c  f9ba0000          LDRSH    r0,[r10,#0]           ;600  ; Ib_ips_termokompensat
000870  f7fffffe          BL       abs
000874  e000              B        |L1.2168|
                  |L1.2166|
000876  e06b              B        |L1.2384|
                  |L1.2168|
000878  f8dfa024          LDR      r10,|L1.2208|
00087c  f8aa0020          STRH     r0,[r10,#0x20]        ;600
000880  f88a500c          STRB     r5,[r10,#0xc]         ;602
000884  f9b80000          LDRSH    r0,[r8,#0]            ;604  ; ibat
000888  f9b71000          LDRSH    r1,[r7,#0]            ;604  ; ibat_
00088c  4408              ADD      r0,r0,r1              ;604
00088e  f9b91000          LDRSH    r1,[r9,#0]            ;604  ; IKB
000892  4288              CMP      r0,r1                 ;604
000894  da27              BGE      |L1.2278|
000896  7820              LDRB     r0,[r4,#0]            ;604  ; kb_start
000898  2801              CMP      r0,#1                 ;604
00089a  e023              B        |L1.2276|
                  |L1.2204|
                          DCD      AVZ
                  |L1.2208|
                          DCD      ||area_number.21||
                  |L1.2212|
                          DCD      0x40024000
                  |L1.2216|
                          DCD      YEAR_AVZ
                  |L1.2220|
                          DCD      MONTH_AVZ
                  |L1.2224|
                          DCD      DATE_AVZ
                  |L1.2228|
                          DCD      HOUR_AVZ
                  |L1.2232|
                          DCD      MIN_AVZ
                  |L1.2236|
                          DCD      SEC_AVZ
                  |L1.2240|
                          DCD      AVZ_TIME
                  |L1.2244|
                          DCD      TBAT
                  |L1.2248|
                          DCD      Ib_ips_termokompensat
                  |L1.2252|
                          DCD      bat
                  |L1.2256|
                          DCD      IKB
                  |L1.2260|
                          DCD      BAT_IS_ON
                  |L1.2264|
                          DCD      ips_bat_av_vzvod
                  |L1.2268|
                          DCD      bat_ips
                  |L1.2272|
                          DCD      net_av
                  |L1.2276|
0008e4  d02e              BEQ      |L1.2372|
                  |L1.2278|
0008e6  f9b60002          LDRSH    r0,[r6,#2]            ;608  ; bat
0008ea  28c8              CMP      r0,#0xc8              ;608
0008ec  dd04              BLE      |L1.2296|
0008ee  7025              STRB     r5,[r4,#0]            ;610
0008f0  2100              MOVS     r1,#0                 ;611
0008f2  4608              MOV      r0,r1                 ;611
0008f4  f7fffffe          BL       avar_bat_hndl
                  |L1.2296|
0008f8  f9b80002          LDRSH    r0,[r8,#2]            ;614  ; ibat
0008fc  f9b71002          LDRSH    r1,[r7,#2]            ;614  ; ibat_
000900  4408              ADD      r0,r0,r1              ;614
000902  f9b91000          LDRSH    r1,[r9,#0]            ;614  ; IKB
000906  4288              CMP      r0,r1                 ;614
000908  da02              BGE      |L1.2320|
00090a  7860              LDRB     r0,[r4,#1]            ;614  ; kb_start
00090c  2801              CMP      r0,#1                 ;614
00090e  d01c              BEQ      |L1.2378|
                  |L1.2320|
000910  f9b6004e          LDRSH    r0,[r6,#0x4e]         ;618  ; bat
000914  28c8              CMP      r0,#0xc8              ;618
000916  dd04              BLE      |L1.2338|
000918  7065              STRB     r5,[r4,#1]            ;620
00091a  2100              MOVS     r1,#0                 ;621
00091c  2001              MOVS     r0,#1                 ;621
00091e  f7fffffe          BL       avar_bat_hndl
                  |L1.2338|
000922  f9ba001e          LDRSH    r0,[r10,#0x1e]        ;624  ; ibat_ips
000926  f9ba1020          LDRSH    r1,[r10,#0x20]        ;624  ; ibat_ips_
00092a  4408              ADD      r0,r0,r1              ;624
00092c  f9b91000          LDRSH    r1,[r9,#0]            ;624  ; IKB
000930  4288              CMP      r0,r1                 ;624
000932  f6bfaf56          BGE      |L1.2018|
000936  f89a000d          LDRB     r0,[r10,#0xd]         ;624  ; kb_start_ips
00093a  2801              CMP      r0,#1                 ;624
00093c  d189              BNE      |L1.2130|
00093e  f88ab00c          STRB     r11,[r10,#0xc]        ;626
                  |L1.2370|
000942  e74e              B        |L1.2018|
                  |L1.2372|
000944  f88ab00c          STRB     r11,[r10,#0xc]        ;606
000948  e7d6              B        |L1.2296|
                  |L1.2378|
00094a  f88ab00c          STRB     r11,[r10,#0xc]        ;616
00094e  e7e8              B        |L1.2338|
                  |L1.2384|
000950  7b08              LDRB     r0,[r1,#0xc]          ;632  ; kb_full_ver
000952  4688              MOV      r8,r1                 ;632
000954  2800              CMP      r0,#0                 ;632
000956  d0f4              BEQ      |L1.2370|
000958  230f              MOVS     r3,#0xf               ;635
00095a  2200              MOVS     r2,#0                 ;635
00095c  216e              MOVS     r1,#0x6e              ;635
00095e  20e1              MOVS     r0,#0xe1              ;635
000960  f7fffffe          BL       mess_send
000964  f9b60008          LDRSH    r0,[r6,#8]            ;637  ; bat
000968  f7fffffe          BL       abs
00096c  f9b91000          LDRSH    r1,[r9,#0]            ;637  ; IKB
000970  4288              CMP      r0,r1                 ;637
000972  dd07              BLE      |L1.2436|
000974  7820              LDRB     r0,[r4,#0]            ;639  ; kb_start
000976  2801              CMP      r0,#1                 ;639
000978  d104              BNE      |L1.2436|
00097a  7025              STRB     r5,[r4,#0]            ;641
00097c  2100              MOVS     r1,#0                 ;642
00097e  4608              MOV      r0,r1                 ;642
000980  f7fffffe          BL       avar_bat_hndl
                  |L1.2436|
000984  f9b60054          LDRSH    r0,[r6,#0x54]         ;646  ; bat
000988  f7fffffe          BL       abs
00098c  f9b91000          LDRSH    r1,[r9,#0]            ;646  ; IKB
000990  4288              CMP      r0,r1                 ;646
000992  dd06              BLE      |L1.2466|
000994  7860              LDRB     r0,[r4,#1]            ;648  ; kb_start
000996  2801              CMP      r0,#1                 ;648
000998  d103              BNE      |L1.2466|
00099a  7065              STRB     r5,[r4,#1]            ;650
00099c  2100              MOVS     r1,#0                 ;651
00099e  f7fffffe          BL       avar_bat_hndl
                  |L1.2466|
0009a2  f9ba0000          LDRSH    r0,[r10,#0]           ;655  ; Ib_ips_termokompensat
0009a6  f7fffffe          BL       abs
0009aa  f9b91000          LDRSH    r1,[r9,#0]            ;655  ; IKB
0009ae  4288              CMP      r0,r1                 ;655
0009b0  dd08              BLE      |L1.2500|
0009b2  f898000d          LDRB     r0,[r8,#0xd]          ;657  ; kb_start_ips
0009b6  2801              CMP      r0,#1                 ;657
0009b8  d104              BNE      |L1.2500|
0009ba  f888500d          STRB     r5,[r8,#0xd]          ;659
0009be  2000              MOVS     r0,#0                 ;660
0009c0  f7fffffe          BL       avar_bat_ips_hndl
                  |L1.2500|
0009c4  7820              LDRB     r0,[r4,#0]            ;665  ; kb_start
0009c6  b930              CBNZ     r0,|L1.2518|
0009c8  7860              LDRB     r0,[r4,#1]            ;665  ; kb_start
0009ca  b920              CBNZ     r0,|L1.2518|
0009cc  f898000d          LDRB     r0,[r8,#0xd]          ;665  ; kb_start_ips
0009d0  b908              CBNZ     r0,|L1.2518|
0009d2  f888500c          STRB     r5,[r8,#0xc]          ;667
                  |L1.2518|
0009d6  20e6              MOVS     r0,#0xe6              ;670
0009d8  f7fffffe          BL       mess_find
0009dc  b118              CBZ      r0,|L1.2534|
0009de  48ff              LDR      r0,|L1.3548|
0009e0  6800              LDR      r0,[r0,#0]            ;670  ; mess_data
0009e2  28e7              CMP      r0,#0xe7              ;670
0009e4  d00a              BEQ      |L1.2556|
                  |L1.2534|
0009e6  48fe              LDR      r0,|L1.3552|
0009e8  49fe              LDR      r1,|L1.3556|
0009ea  f9b00000          LDRSH    r0,[r0,#0]            ;670  ; USIGN
0009ee  f9b11000          LDRSH    r1,[r1,#0]            ;670  ; load_U
0009f2  eb000080          ADD      r0,r0,r0,LSL #2       ;670
0009f6  ebb10f40          CMP      r1,r0,LSL #1          ;670
                  |L1.2554|
0009fa  daa2              BGE      |L1.2370|
                  |L1.2556|
0009fc  f888500c          STRB     r5,[r8,#0xc]          ;672
000a00  7820              LDRB     r0,[r4,#0]            ;673  ; kb_start
000a02  4df9              LDR      r5,|L1.3560|
000a04  2801              CMP      r0,#1                 ;673
000a06  d10f              BNE      |L1.2600|
000a08  f9b90000          LDRSH    r0,[r9,#0]            ;673  ; IKB
000a0c  f9b51000          LDRSH    r1,[r5,#0]            ;673  ; load_I
000a10  0040              LSLS     r0,r0,#1              ;673
000a12  fb90f0f7          SDIV     r0,r0,r7              ;673
000a16  4288              CMP      r0,r1                 ;673
000a18  da06              BGE      |L1.2600|
000a1a  f896003d          LDRB     r0,[r6,#0x3d]         ;673  ; bat
000a1e  07c0              LSLS     r0,r0,#31             ;673
000a20  d102              BNE      |L1.2600|
000a22  2101              MOVS     r1,#1                 ;673
000a24  f7fffffe          BL       avar_bat_hndl
                  |L1.2600|
000a28  7860              LDRB     r0,[r4,#1]            ;674  ; kb_start
000a2a  2801              CMP      r0,#1                 ;674
000a2c  d110              BNE      |L1.2640|
000a2e  f9b90000          LDRSH    r0,[r9,#0]            ;674  ; IKB
000a32  f9b51000          LDRSH    r1,[r5,#0]            ;674  ; load_I
000a36  0040              LSLS     r0,r0,#1              ;674
000a38  fb90f0f7          SDIV     r0,r0,r7              ;674
000a3c  4288              CMP      r0,r1                 ;674
000a3e  da07              BGE      |L1.2640|
000a40  f8960089          LDRB     r0,[r6,#0x89]         ;674  ; bat
000a44  07c0              LSLS     r0,r0,#31             ;674
000a46  d103              BNE      |L1.2640|
000a48  2101              MOVS     r1,#1                 ;674
000a4a  4608              MOV      r0,r1                 ;674
000a4c  f7fffffe          BL       avar_bat_hndl
                  |L1.2640|
000a50  f898000d          LDRB     r0,[r8,#0xd]          ;676  ; kb_start_ips
000a54  2801              CMP      r0,#1                 ;676
                  |L1.2646|
000a56  f47faf74          BNE      |L1.2370|
000a5a  f9b90000          LDRSH    r0,[r9,#0]            ;676  ; IKB
000a5e  f9b51000          LDRSH    r1,[r5,#0]            ;676  ; load_I
000a62  0040              LSLS     r0,r0,#1              ;676
000a64  fb90f0f7          SDIV     r0,r0,r7              ;676
000a68  4288              CMP      r0,r1                 ;676
000a6a  dac6              BGE      |L1.2554|
000a6c  48df              LDR      r0,|L1.3564|
000a6e  f890003d          LDRB     r0,[r0,#0x3d]         ;676  ; bat_ips
000a72  07c0              LSLS     r0,r0,#31             ;676
000a74  d1ef              BNE      |L1.2646|
000a76  e8bd5ff0          POP      {r4-r12,lr}           ;676
000a7a  2001              MOVS     r0,#1                 ;676
000a7c  f7ffbffe          B.W      avar_bat_ips_hndl
;;;682    
                          ENDP

                  samokalibr_hndl PROC
;;;691    //-----------------------------------------------
;;;692    void samokalibr_hndl(void)
000a80  b570              PUSH     {r4-r6,lr}
;;;693    {
;;;694    if(++samokalibr_cnt>=1800)samokalibr_cnt=0;
000a82  4cdb              LDR      r4,|L1.3568|
000a84  8f20              LDRH     r0,[r4,#0x38]  ; samokalibr_cnt
000a86  1c40              ADDS     r0,r0,#1
000a88  b200              SXTH     r0,r0
000a8a  8720              STRH     r0,[r4,#0x38]
000a8c  f5b06fe1          CMP      r0,#0x708
000a90  db02              BLT      |L1.2712|
000a92  f04f0000          MOV      r0,#0
000a96  8720              STRH     r0,[r4,#0x38]
                  |L1.2712|
;;;695    
;;;696    if(samokalibr_cnt>=1785U)
000a98  f9b40038          LDRSH    r0,[r4,#0x38]  ; samokalibr_cnt
000a9c  f5b06fdf          CMP      r0,#0x6f8
000aa0  d911              BLS      |L1.2758|
;;;697    	{
;;;698    	mess_send(MESS2RELE_HNDL,PARAM_RELE_SAMOKALIBR,1,15);
000aa2  230f              MOVS     r3,#0xf
000aa4  2201              MOVS     r2,#1
000aa6  2164              MOVS     r1,#0x64
000aa8  20d2              MOVS     r0,#0xd2
000aaa  f7fffffe          BL       mess_send
;;;699    	mess_send(MESS2IND_HNDL,PARAM_SAMOKALIBR,0,15);
000aae  230f              MOVS     r3,#0xf
000ab0  2200              MOVS     r2,#0
000ab2  21d8              MOVS     r1,#0xd8
000ab4  20d7              MOVS     r0,#0xd7
000ab6  f7fffffe          BL       mess_send
;;;700    	mess_send(MESS2MATEMAT,PARAM_SAMOKALIBR,0,15);
000aba  230f              MOVS     r3,#0xf
000abc  2200              MOVS     r2,#0
000abe  21d8              MOVS     r1,#0xd8
000ac0  20dc              MOVS     r0,#0xdc
000ac2  f7fffffe          BL       mess_send
                  |L1.2758|
;;;701    	} 
;;;702    
;;;703    if(samokalibr_cnt==1799U)
000ac6  f9b40038          LDRSH    r0,[r4,#0x38]  ; samokalibr_cnt
000aca  f5a061e0          SUB      r1,r0,#0x700
000ace  3907              SUBS     r1,#7
000ad0  d118              BNE      |L1.2820|
;;;704    	{
;;;705    	if(Kibat0[0]!=ad7705_buff_[0]) lc640_write_int(ADR_KI0BAT[0],ad7705_buff_[0]);
000ad2  4ec8              LDR      r6,|L1.3572|
000ad4  4cc8              LDR      r4,|L1.3576|
000ad6  4dc9              LDR      r5,|L1.3580|
000ad8  8830              LDRH     r0,[r6,#0]  ; Kibat0
000ada  8821              LDRH     r1,[r4,#0]  ; ad7705_buff_
000adc  4288              CMP      r0,r1
000ade  d005              BEQ      |L1.2796|
000ae0  f9b41000          LDRSH    r1,[r4,#0]  ; ad7705_buff_
000ae4  f9b50000          LDRSH    r0,[r5,#0]  ; ADR_KI0BAT
000ae8  f7fffffe          BL       lc640_write_int
                  |L1.2796|
;;;706    	if(Kibat0[1]!=ad7705_buff_[1]) lc640_write_int(ADR_KI0BAT[1],ad7705_buff_[1]);
000aec  8870              LDRH     r0,[r6,#2]  ; Kibat0
000aee  8861              LDRH     r1,[r4,#2]  ; ad7705_buff_
000af0  4288              CMP      r0,r1
000af2  d007              BEQ      |L1.2820|
000af4  f9b41002          LDRSH    r1,[r4,#2]  ; ad7705_buff_
000af8  f9b50002          LDRSH    r0,[r5,#2]  ; ADR_KI0BAT
000afc  e8bd4070          POP      {r4-r6,lr}
000b00  f7ffbffe          B.W      lc640_write_int
                  |L1.2820|
;;;707    	
;;;708    	}	 	
;;;709    }
000b04  bd70              POP      {r4-r6,pc}
;;;710    
                          ENDP

                  ubat_old_drv PROC
;;;713    //-----------------------------------------------
;;;714    void ubat_old_drv(void)
000b06  b510              PUSH     {r4,lr}
;;;715    {        
;;;716    bat_u_old_cnt++;
000b08  4cbd              LDR      r4,|L1.3584|
000b0a  8820              LDRH     r0,[r4,#0]  ; bat_u_old_cnt
000b0c  f1000001          ADD      r0,r0,#1
000b10  8020              STRH     r0,[r4,#0]
;;;717    gran_ring(&bat_u_old_cnt,0,8);
000b12  f04f0208          MOV      r2,#8
000b16  f04f0100          MOV      r1,#0
000b1a  4620              MOV      r0,r4
000b1c  f7fffffe          BL       gran_ring
;;;718    
;;;719    bat[0]._u_old[bat_u_old_cnt]=bat[0]._Ub;
000b20  49b8              LDR      r1,|L1.3588|
000b22  f9b40000          LDRSH    r0,[r4,#0]  ; bat_u_old_cnt
000b26  eb010040          ADD      r0,r1,r0,LSL #1
000b2a  884a              LDRH     r2,[r1,#2]  ; bat
000b2c  8402              STRH     r2,[r0,#0x20]
;;;720    bat[1]._u_old[bat_u_old_cnt]=bat[1]._Ub;
000b2e  f8b1104e          LDRH     r1,[r1,#0x4e]  ; bat
000b32  f8a0106c          STRH     r1,[r0,#0x6c]
;;;721    }
000b36  bd10              POP      {r4,pc}
;;;722    
                          ENDP

                  unet_drv PROC
;;;723    //-----------------------------------------------
;;;724    void unet_drv(void)
000b38  b570              PUSH     {r4-r6,lr}
;;;725    {
;;;726    if(net_U<UMN)
000b3a  4db3              LDR      r5,|L1.3592|
000b3c  48b3              LDR      r0,|L1.3596|
;;;727    	{
;;;728    	if((unet_drv_cnt<10)&&(main_1Hz_cnt>15))
000b3e  4ab4              LDR      r2,|L1.3600|
000b40  f9b51000          LDRSH    r1,[r5,#0]            ;726  ; net_U
000b44  f9b03000          LDRSH    r3,[r0,#0]            ;726  ; UMN
000b48  f9920000          LDRSB    r0,[r2,#0]
000b4c  4299              CMP      r1,r3                 ;726
000b4e  da1f              BGE      |L1.2960|
;;;729    		{
;;;730    		unet_drv_cnt++;
;;;731    		if(unet_drv_cnt>=10)
;;;732    			{
;;;733    			net_Ustore=net_U;
000b50  4cb0              LDR      r4,|L1.3604|
000b52  280a              CMP      r0,#0xa               ;728
000b54  da0f              BGE      |L1.2934|
000b56  4bb0              LDR      r3,|L1.3608|
000b58  f9b33000          LDRSH    r3,[r3,#0]            ;728  ; main_1Hz_cnt
000b5c  2b0f              CMP      r3,#0xf               ;728
000b5e  dd0a              BLE      |L1.2934|
000b60  f1000001          ADD      r0,r0,#1              ;730
000b64  b240              SXTB     r0,r0                 ;730
000b66  7010              STRB     r0,[r2,#0]            ;730
000b68  280a              CMP      r0,#0xa               ;731
000b6a  db09              BLT      |L1.2944|
000b6c  8021              STRH     r1,[r4,#0]
;;;734    		 	avar_unet_hndl(1);
000b6e  2001              MOVS     r0,#1
000b70  f7fffffe          BL       avar_unet_hndl
000b74  e004              B        |L1.2944|
                  |L1.2934|
;;;735    			
;;;736    			}
;;;737    		}
;;;738    	else if(unet_drv_cnt>=10)unet_drv_cnt=10;
000b76  280a              CMP      r0,#0xa
000b78  db02              BLT      |L1.2944|
000b7a  f04f000a          MOV      r0,#0xa
000b7e  7010              STRB     r0,[r2,#0]
                  |L1.2944|
;;;739    
;;;740    	if(net_U<net_Ustore) net_Ustore=net_U;	
000b80  f9b50000          LDRSH    r0,[r5,#0]  ; net_U
000b84  f9b41000          LDRSH    r1,[r4,#0]  ; net_Ustore
000b88  4288              CMP      r0,r1
000b8a  da00              BGE      |L1.2958|
000b8c  8020              STRH     r0,[r4,#0]
                  |L1.2958|
;;;741    	}
;;;742    
;;;743    else if(net_U>UMN)
;;;744    	{                 
;;;745    	if(unet_drv_cnt)
;;;746    		{
;;;747    		unet_drv_cnt--;
;;;748    		if(unet_drv_cnt<=0)
;;;749    			{
;;;750    			avar_unet_hndl(0);
;;;751    			}
;;;752    		}
;;;753    	else if(unet_drv_cnt<0)unet_drv_cnt=0;
;;;754    	
;;;755    	}
;;;756    
;;;757    }
000b8e  bd70              POP      {r4-r6,pc}
                  |L1.2960|
000b90  ddfd              BLE      |L1.2958|
000b92  2800              CMP      r0,#0                 ;745
000b94  d0fb              BEQ      |L1.2958|
000b96  f1a00001          SUB      r0,r0,#1              ;747
000b9a  b240              SXTB     r0,r0                 ;747
000b9c  7010              STRB     r0,[r2,#0]            ;747
000b9e  2800              CMP      r0,#0                 ;748
000ba0  dcf5              BGT      |L1.2958|
000ba2  e8bd4070          POP      {r4-r6,lr}            ;750
000ba6  2000              MOVS     r0,#0                 ;750
000ba8  f7ffbffe          B.W      avar_unet_hndl
;;;758    
                          ENDP

                  matemat PROC
;;;759    //-----------------------------------------------
;;;760    void matemat(void)
000bac  e92d5ffc          PUSH     {r2-r12,lr}
;;;761    {
;;;762    //signed short temp_SS;
;;;763    signed long temp_SL/*,temp_SL_*/;
;;;764    char /*temp,*/i;
;;;765    signed short temp_SS;
;;;766    
;;;767    #ifdef UKU_MGTS
;;;768    // 
;;;769    temp_SL=(signed long)net_buff_;
;;;770    temp_SL*=Kunet;
;;;771    temp_SL/=110000L;
;;;772    net_U=(signed short)temp_SL;
;;;773    #endif
;;;774    
;;;775    #ifdef UKU_RSTKM
;;;776    // 
;;;777    temp_SL=(signed long)net_buff_;
;;;778    temp_SL*=Kunet;
;;;779    temp_SL/=110000L;
;;;780    net_U=(signed short)temp_SL;
;;;781    #endif
;;;782    
;;;783    #ifdef UKU_3U
;;;784    // 
;;;785    temp_SL=(signed long)net_buff_;
;;;786    temp_SL*=Kunet;
;;;787    temp_SL/=36000L;
;;;788    net_U=(signed short)temp_SL;
;;;789    #endif
;;;790    
;;;791    #ifdef UKU_6U
;;;792    // 
;;;793    
;;;794    if((AUSW_MAIN%10)||(AUSW_MAIN==2400)||(AUSW_MAIN==4800)||(AUSW_MAIN==6000))
;;;795    	{
;;;796    
;;;797    	if(bps[11]._device==dNET_METR)
;;;798    		{
;;;799    		net_metr_buff_[0]=((signed short)bps[11]._buff[0])+(((signed short)bps[11]._buff[1])<<8);
;;;800    		net_metr_buff_[1]=((signed short)bps[11]._buff[2])+(((signed short)bps[11]._buff[3])<<8);
;;;801    		net_metr_buff_[2]=((signed short)bps[11]._buff[4])+(((signed short)bps[11]._buff[5])<<8);
;;;802    
;;;803    		temp_SL=(signed long)net_metr_buff_[0];
;;;804    		temp_SL*=KunetA;
;;;805    		temp_SL/=6000L;
;;;806    		net_Ua=(signed short)temp_SL;
;;;807    	
;;;808    		temp_SL=(signed long)net_metr_buff_[1];
;;;809    		temp_SL*=KunetB;
;;;810    		temp_SL/=6000L;
;;;811    		net_Ub=(signed short)temp_SL;
;;;812    	
;;;813    		temp_SL=(signed long)net_metr_buff_[2];
;;;814    		temp_SL*=KunetC;
;;;815    		temp_SL/=6000L;
;;;816    		net_Uc=(signed short)temp_SL;
;;;817    		}
;;;818    	else
;;;819    		{
;;;820    		temp_SL=(signed long)net_buff_;
;;;821    		temp_SL*=KunetA;
;;;822    		temp_SL/=110000L;
;;;823    		net_Ua=(signed short)temp_SL;
;;;824    	
;;;825    		temp_SL=(signed long)adc_buff_[3];
;;;826    		temp_SL*=KunetB;
;;;827    		temp_SL/=6000L;
;;;828    		net_Ub=(signed short)temp_SL;
;;;829    	
;;;830    		temp_SL=(signed long)adc_buff_[10];
;;;831    		temp_SL*=KunetC;
;;;832    		temp_SL/=6000L;
;;;833    		net_Uc=(signed short)temp_SL;
;;;834    		}
;;;835    
;;;836    	net_U=net_Ua;
;;;837    	if(net_Ub<net_U)net_U=net_Ub;
;;;838    	if(net_Uc<net_U)net_U=net_Uc;
;;;839    	}
;;;840    else 
;;;841    	{
;;;842    	temp_SL=(signed long)net_buff_;
;;;843    	temp_SL*=Kunet;
;;;844    	temp_SL/=110000L;
;;;845    	net_U=(signed short)temp_SL;
;;;846    	}
;;;847    
;;;848    
;;;849    
;;;850    
;;;851    #endif
;;;852    
;;;853    #ifdef UKU_GLONASS
;;;854    // 
;;;855    temp_SL=(signed long)net_buff_;
;;;856    temp_SL*=Kunet;
;;;857    temp_SL/=110000L;
;;;858    net_U=(signed short)temp_SL;
;;;859    #endif
;;;860    
;;;861    #ifdef UKU_KONTUR
;;;862    // 
;;;863    temp_SL=(signed long)net_buff_;
;;;864    temp_SL*=Kunet;
;;;865    temp_SL/=110000L;
;;;866    net_U=(signed short)temp_SL;
;;;867    #endif
;;;868    
;;;869    
;;;870    #ifdef UKU_220_V2
;;;871    // 
;;;872    	temp_SL=(signed long)net_buff_;
;;;873    	temp_SL*=Kunet;
;;;874    	temp_SL/=5000L;
;;;875    	net_U=(signed short)temp_SL;
;;;876    
;;;877    #endif
;;;878    
;;;879    
;;;880    #ifdef UKU_220
;;;881    // 
;;;882    
;;;883    if(AUSW_MAIN==22035)
;;;884    	{
;;;885    	temp_SL=(signed long)net_buff_;
;;;886    	temp_SL*=KunetA;
;;;887    	temp_SL/=6000L;
;;;888    	net_Ua=(signed short)temp_SL;
;;;889    
;;;890    	temp_SL=(signed long)adc_buff_[3];
;;;891    	temp_SL*=KunetB;
;;;892    	temp_SL/=6000L;
;;;893    	net_Ub=(signed short)temp_SL;
;;;894    
;;;895    	temp_SL=(signed long)adc_buff_[10];
;;;896    	temp_SL*=KunetC;
;;;897    	temp_SL/=6000L;
;;;898    	net_Uc=(signed short)temp_SL;
;;;899    
;;;900    	net_U=net_Ua;
;;;901    	if(net_Ub<net_U)net_U=net_Ub;
;;;902    	if(net_Uc<net_U)net_U=net_Uc;
;;;903    	}
;;;904    else
;;;905    	{
;;;906    	temp_SL=(signed long)net_buff_;
;;;907    	temp_SL*=Kunet;
;;;908    	#ifdef _ACDC_
;;;909    	temp_SL/=500L;
;;;910    	#else
;;;911    	temp_SL/=5000L;
;;;912    	#endif
;;;913    	net_U=(signed short)temp_SL;
;;;914    	
;;;915    	}
;;;916    #endif
;;;917    
;;;918    #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;919    // 
;;;920    
;;;921    
;;;922    	if(bps[11]._device==dNET_METR)
000bb0  489a              LDR      r0,|L1.3612|
;;;923    		{
;;;924    		net_metr_buff_[0]=((signed short)bps[11]._buff[0])+(((signed short)bps[11]._buff[1])<<8);
;;;925    		net_metr_buff_[1]=((signed short)bps[11]._buff[2])+(((signed short)bps[11]._buff[3])<<8);
;;;926    		net_metr_buff_[2]=((signed short)bps[11]._buff[4])+(((signed short)bps[11]._buff[5])<<8);
;;;927    
;;;928    		temp_SL=(signed long)net_metr_buff_[2];
;;;929    		temp_SL*=KunetA;
000bb2  4a9b              LDR      r2,|L1.3616|
;;;930    		temp_SL/=6000L;
;;;931    		net_Ua=(signed short)temp_SL;
;;;932    	
;;;933    		temp_SL=(signed long)net_metr_buff_[1];
;;;934    		temp_SL*=KunetB;
000bb4  499c              LDR      r1,|L1.3624|
000bb6  f890c39c          LDRB     r12,[r0,#0x39c]       ;922  ; bps
;;;935    		temp_SL/=6000L;
;;;936    		net_Ub=(signed short)temp_SL;
;;;937    	
;;;938    		temp_SL=(signed long)net_metr_buff_[0];
;;;939    		temp_SL*=KunetC;
000bba  489c              LDR      r0,|L1.3628|
000bbc  f9b2b000          LDRSH    r11,[r2,#0]           ;929
000bc0  f9b11000          LDRSH    r1,[r1,#0]            ;934
000bc4  9101              STR      r1,[sp,#4]
000bc6  4c97              LDR      r4,|L1.3620|
000bc8  f9b00000          LDRSH    r0,[r0,#0]
000bcc  4b98              LDR      r3,|L1.3632|
;;;940    		temp_SL/=6000L;
;;;941    		net_Uc=(signed short)temp_SL;
000bce  4d99              LDR      r5,|L1.3636|
;;;942    
;;;943    		net_F3=((signed short)bps[11]._buff[6])+(((signed short)bps[11]._buff[7])<<8);
;;;944    
;;;945    		net_U=net_Ua;
;;;946    		if(net_Ub<net_U)net_U=net_Ub;
;;;947    		if(net_Uc<net_U)net_U=net_Uc;
;;;948    		}
;;;949    	  else if(AUSW_MAIN==22033)
;;;950    	{
;;;951    	temp_SL=(signed long)net_buff_;
000bd0  4f87              LDR      r7,|L1.3568|
000bd2  f2456611          MOV      r6,#0x5611            ;949
;;;952    	temp_SL*=KunetA;
;;;953    	temp_SL/=4000L;
;;;954    	net_Ua=(signed short)temp_SL;
;;;955    
;;;956    	temp_SL=(signed long)adc_buff_[3];
;;;957    	temp_SL*=KunetB;
;;;958    	temp_SL/=6000L;
;;;959    	net_Ub=(signed short)temp_SL;
;;;960    
;;;961    	temp_SL=(signed long)adc_buff_[10];
;;;962    	temp_SL*=KunetC;
;;;963    	temp_SL/=6000L;
;;;964    	net_Uc=(signed short)temp_SL;
;;;965    
;;;966    	net_U=net_Ua;
;;;967    	if(net_Ub<net_U)net_U=net_Ub;
;;;968    	if(net_Uc<net_U)net_U=net_Uc;
;;;969    	}
;;;970    else if((AUSW_MAIN==22063)||(AUSW_MAIN==22023)||(AUSW_MAIN==22043))
;;;971    	{
;;;972    	temp_SL=(signed long)net_buff_;
;;;973    	temp_SL*=KunetA;
;;;974    	temp_SL/=40000L;
;;;975    	net_Ua=(signed short)temp_SL;
;;;976    
;;;977    	temp_SL=(signed long)adc_buff_[3];
;;;978    	temp_SL*=KunetB;
;;;979    	temp_SL/=6000L;
;;;980    	net_Ub=(signed short)temp_SL;
;;;981    
;;;982    	temp_SL=(signed long)adc_buff_[10];
;;;983    	temp_SL*=KunetC;
;;;984    	temp_SL/=6000L;
;;;985    	net_Uc=(signed short)temp_SL;
;;;986    
;;;987    	net_U=net_Ua;
;;;988    	if(net_Ub<net_U)net_U=net_Ub;
;;;989    	if(net_Uc<net_U)net_U=net_Uc;
;;;990    	}
;;;991    else	if((AUSW_MAIN==22010)||(AUSW_MAIN==22011) )
000bd6  f24558fa          MOV      r8,#0x55fa
000bda  9000              STR      r0,[sp,#0]            ;922
000bdc  f1bc0f07          CMP      r12,#7                ;922
000be0  d039              BEQ      |L1.3158|
000be2  4639              MOV      r1,r7                 ;951
000be4  f8df9254          LDR      r9,|L1.3644|
000be8  8c8a              LDRH     r2,[r1,#0x24]         ;951
000bea  498d              LDR      r1,|L1.3616|
000bec  f8dfa238          LDR      r10,|L1.3624|
000bf0  f2417b70          MOV      r11,#0x1770           ;930
000bf4  f9b11000          LDRSH    r1,[r1,#0]            ;929
000bf8  f9baa000          LDRSH    r10,[r10,#0]          ;934
000bfc  434a              MULS     r2,r1,r2              ;952
000bfe  f9b91006          LDRSH    r1,[r9,#6]            ;956
000c02  f9b99014          LDRSH    r9,[r9,#0x14]         ;961
000c06  fb01f10a          MUL      r1,r1,r10             ;957
000c0a  f8dfa220          LDR      r10,|L1.3628|
000c0e  fb91f1fb          SDIV     r1,r1,r11             ;958
000c12  f9baa000          LDRSH    r10,[r10,#0]          ;939
000c16  4888              LDR      r0,|L1.3640|
000c18  fb09f90a          MUL      r9,r9,r10             ;962
000c1c  fb99f9fb          SDIV     r9,r9,r11             ;963
000c20  8800              LDRH     r0,[r0,#0]            ;949  ; AUSW_MAIN
000c22  b209              SXTH     r1,r1                 ;959
000c24  fa0ff989          SXTH     r9,r9                 ;964
000c28  42b0              CMP      r0,r6                 ;949
000c2a  d15a              BNE      |L1.3298|
000c2c  f44f607a          MOV      r0,#0xfa0             ;953
000c30  fb92f0f0          SDIV     r0,r2,r0              ;953
000c34  b200              SXTH     r0,r0                 ;954
000c36  8020              STRH     r0,[r4,#0]            ;954
000c38  8019              STRH     r1,[r3,#0]            ;959
000c3a  f8a59000          STRH     r9,[r5,#0]            ;964
000c3e  4a72              LDR      r2,|L1.3592|
000c40  8010              STRH     r0,[r2,#0]            ;966
000c42  4281              CMP      r1,r0                 ;967
000c44  da00              BGE      |L1.3144|
000c46  8011              STRH     r1,[r2,#0]            ;967
                  |L1.3144|
000c48  f9b20000          LDRSH    r0,[r2,#0]            ;968  ; net_U
000c4c  4581              CMP      r9,r0                 ;968
000c4e  da01              BGE      |L1.3156|
000c50  f8a29000          STRH     r9,[r2,#0]            ;968
                  |L1.3156|
000c54  e07e              B        |L1.3412|
                  |L1.3158|
000c56  487a              LDR      r0,|L1.3648|
000c58  f8df9194          LDR      r9,|L1.3568|
000c5c  7801              LDRB     r1,[r0,#0]            ;924  ; bps
000c5e  7842              LDRB     r2,[r0,#1]            ;924  ; bps
000c60  f1090984          ADD      r9,r9,#0x84           ;924
000c64  eb012102          ADD      r1,r1,r2,LSL #8       ;924
000c68  fa1ffa81          UXTH     r10,r1                ;924
000c6c  f8a9a000          STRH     r10,[r9,#0]           ;924
000c70  7881              LDRB     r1,[r0,#2]            ;925  ; bps
000c72  78c2              LDRB     r2,[r0,#3]            ;925  ; bps
000c74  eb012102          ADD      r1,r1,r2,LSL #8       ;925
000c78  b289              UXTH     r1,r1                 ;925
000c7a  f8a91002          STRH     r1,[r9,#2]            ;925
000c7e  7902              LDRB     r2,[r0,#4]            ;926  ; bps
000c80  f890e005          LDRB     lr,[r0,#5]            ;926  ; bps
000c84  eb02220e          ADD      r2,r2,lr,LSL #8       ;926
000c88  b292              UXTH     r2,r2                 ;926
000c8a  f8a92004          STRH     r2,[r9,#4]            ;926
000c8e  fb02f20b          MUL      r2,r2,r11             ;929
000c92  f2417970          MOV      r9,#0x1770            ;930
000c96  fb92f2f9          SDIV     r2,r2,r9              ;930
000c9a  fa0ffb82          SXTH     r11,r2                ;931
000c9e  f8a4b000          STRH     r11,[r4,#0]           ;931
000ca2  9a01              LDR      r2,[sp,#4]            ;934
000ca4  fb01f102          MUL      r1,r1,r2              ;934
000ca8  fb91f1f9          SDIV     r1,r1,r9              ;935
000cac  b209              SXTH     r1,r1                 ;936
000cae  8019              STRH     r1,[r3,#0]            ;936
000cb0  9a00              LDR      r2,[sp,#0]            ;939
000cb2  fb0afa02          MUL      r10,r10,r2            ;939
000cb6  fb9af2f9          SDIV     r2,r10,r9             ;940
000cba  b212              SXTH     r2,r2                 ;941
000cbc  802a              STRH     r2,[r5,#0]            ;941
000cbe  7983              LDRB     r3,[r0,#6]            ;943  ; bps
000cc0  79c0              LDRB     r0,[r0,#7]            ;943  ; bps
000cc2  eb032300          ADD      r3,r3,r0,LSL #8       ;943
000cc6  485f              LDR      r0,|L1.3652|
000cc8  8003              STRH     r3,[r0,#0]            ;943
000cca  484f              LDR      r0,|L1.3592|
000ccc  f8a0b000          STRH     r11,[r0,#0]           ;945
000cd0  4559              CMP      r1,r11                ;946
000cd2  da00              BGE      |L1.3286|
000cd4  8001              STRH     r1,[r0,#0]            ;946
                  |L1.3286|
000cd6  f9b01000          LDRSH    r1,[r0,#0]            ;947  ; net_U
000cda  428a              CMP      r2,r1                 ;947
000cdc  da3a              BGE      |L1.3412|
000cde  8002              STRH     r2,[r0,#0]            ;947
000ce0  e038              B        |L1.3412|
                  |L1.3298|
000ce2  f5a04aac          SUB      r10,r0,#0x5600        ;970
000ce6  f1ba0a2f          SUBS     r10,r10,#0x2f         ;970
000cea  d005              BEQ      |L1.3320|
000cec  f11a0a28          ADDS     r10,r10,#0x28         ;970
000cf0  d002              BEQ      |L1.3320|
000cf2  f1ba0a14          SUBS     r10,r10,#0x14         ;970
000cf6  d114              BNE      |L1.3362|
                  |L1.3320|
000cf8  f6494040          MOV      r0,#0x9c40            ;974
000cfc  fb92f0f0          SDIV     r0,r2,r0              ;974
000d00  b200              SXTH     r0,r0                 ;975
000d02  8020              STRH     r0,[r4,#0]            ;975
000d04  8019              STRH     r1,[r3,#0]            ;980
000d06  f8a59000          STRH     r9,[r5,#0]            ;985
000d0a  4a3f              LDR      r2,|L1.3592|
000d0c  8010              STRH     r0,[r2,#0]            ;987
000d0e  4281              CMP      r1,r0                 ;988
000d10  da00              BGE      |L1.3348|
000d12  8011              STRH     r1,[r2,#0]            ;988
                  |L1.3348|
000d14  f9b20000          LDRSH    r0,[r2,#0]            ;989  ; net_U
000d18  4581              CMP      r9,r0                 ;989
000d1a  da1b              BGE      |L1.3412|
000d1c  f8a29000          STRH     r9,[r2,#0]            ;989
000d20  e018              B        |L1.3412|
                  |L1.3362|
;;;992    	{
;;;993    	temp_SL=(signed long)net_buff_;
;;;994    	temp_SL*=Kunet;
000d22  4949              LDR      r1,|L1.3656|
000d24  f9b12000          LDRSH    r2,[r1,#0]
000d28  4931              LDR      r1,|L1.3568|
000d2a  8c89              LDRH     r1,[r1,#0x24]         ;951
000d2c  4351              MULS     r1,r2,r1
000d2e  4540              CMP      r0,r8                 ;991
000d30  d003              BEQ      |L1.3386|
000d32  f5a042aa          SUB      r2,r0,#0x5500         ;991
000d36  3afb              SUBS     r2,r2,#0xfb           ;991
000d38  d106              BNE      |L1.3400|
                  |L1.3386|
;;;995    	temp_SL/=35000L;
000d3a  f64800b8          MOV      r0,#0x88b8
000d3e  fb91f0f0          SDIV     r0,r1,r0
;;;996    	net_U=(signed short)temp_SL;
000d42  4931              LDR      r1,|L1.3592|
000d44  8008              STRH     r0,[r1,#0]
000d46  e005              B        |L1.3412|
                  |L1.3400|
;;;997    	
;;;998    	}
;;;999    else
;;;1000   	{
;;;1001   	temp_SL=(signed long)net_buff_;
;;;1002   	temp_SL*=Kunet;
;;;1003   	#ifdef _ACDC_
;;;1004   	temp_SL/=500L;
000d48  f44f70fa          MOV      r0,#0x1f4
000d4c  fb91f0f0          SDIV     r0,r1,r0
;;;1005   	#else
;;;1006   	temp_SL/=5000L;
;;;1007   	#endif
;;;1008   	net_U=(signed short)temp_SL;
000d50  492d              LDR      r1,|L1.3592|
000d52  8008              STRH     r0,[r1,#0]
                  |L1.3412|
;;;1009   	
;;;1010   	}
;;;1011   if(bps[11]._device!=dNET_METR) net_F3=net_F;
000d54  f1bc0f07          CMP      r12,#7
000d58  d003              BEQ      |L1.3426|
000d5a  483c              LDR      r0,|L1.3660|
000d5c  8801              LDRH     r1,[r0,#0]  ; net_F
000d5e  4839              LDR      r0,|L1.3652|
000d60  8001              STRH     r1,[r0,#0]
                  |L1.3426|
;;;1012   #endif
;;;1013   
;;;1014   #ifdef UKU_TELECORE2015
;;;1015   // 
;;;1016   temp_SL=(signed long)net_buff_;
;;;1017   temp_SL*=Kunet;
;;;1018   temp_SL/=110000L;
;;;1019   net_U=(signed short)temp_SL;
;;;1020   #endif
;;;1021   
;;;1022   // 
;;;1023   temp_SL=(signed long)adc_buff_[0];
000d62  f8dfb0d8          LDR      r11,|L1.3644|
000d66  f9bb1000          LDRSH    r1,[r11,#0]  ; adc_buff_
;;;1024   temp_SL*=Kubat[0];
000d6a  f8dfc0e4          LDR      r12,|L1.3664|
000d6e  f9bc0000          LDRSH    r0,[r12,#0]  ; Kubat
000d72  4348              MULS     r0,r1,r0
;;;1025   temp_SL/=2000L;
000d74  f44f65fa          MOV      r5,#0x7d0
000d78  fb90f0f5          SDIV     r0,r0,r5
;;;1026   bat[0]._Ub=(signed short)temp_SL;
000d7c  4c21              LDR      r4,|L1.3588|
000d7e  8060              STRH     r0,[r4,#2]
;;;1027   
;;;1028   #ifdef UKU_220
;;;1029   // 
;;;1030   temp_SL=(signed long)adc_buff_[0];
;;;1031   temp_SL*=Kubat[0];
;;;1032   temp_SL/=400L;
;;;1033   bat[0]._Ub=(signed short)temp_SL;
;;;1034   #endif
;;;1035   
;;;1036   #ifdef UKU_220_V2
;;;1037   // 
;;;1038   temp_SL=(signed long)adc_buff_[0];
;;;1039   temp_SL*=Kubat[0];
;;;1040   temp_SL/=400L;
;;;1041   bat[0]._Ub=(signed short)temp_SL;
;;;1042   #endif
;;;1043   
;;;1044   temp_SL=(signed long)adc_buff_[4];
000d80  f9bb1008          LDRSH    r1,[r11,#8]  ; adc_buff_
;;;1045   temp_SL*=Kubatm[0];
000d84  4a33              LDR      r2,|L1.3668|
000d86  f9b20000          LDRSH    r0,[r2,#0]  ; Kubatm
000d8a  fb00f001          MUL      r0,r0,r1
;;;1046   temp_SL/=700L;
000d8e  f44f732f          MOV      r3,#0x2bc
000d92  fb90f0f3          SDIV     r0,r0,r3
;;;1047   bat[0]._Ubm=(signed short)temp_SL;
000d96  80a0              STRH     r0,[r4,#4]
;;;1048   
;;;1049   #ifdef UKU_KONTUR
;;;1050   temp_SL=(signed long)adc_buff_[4];
;;;1051   temp_SL*=Kubatm[0];
;;;1052   temp_SL/=2000L;
;;;1053   bat[0]._Ubm=(signed short)temp_SL;
;;;1054   #endif
;;;1055   
;;;1056   temp_SL=(signed long)adc_buff_[12];
000d98  f9bb1018          LDRSH    r1,[r11,#0x18]  ; adc_buff_
;;;1057   temp_SL*=Kubat[1];
000d9c  f9bc0002          LDRSH    r0,[r12,#2]  ; Kubat
000da0  fb00f001          MUL      r0,r0,r1
;;;1058   temp_SL/=2000L;
000da4  fb90f0f5          SDIV     r0,r0,r5
;;;1059   bat[1]._Ub=(signed short)temp_SL;
000da8  f8a4004e          STRH     r0,[r4,#0x4e]
;;;1060   
;;;1061   #ifdef UKU_220
;;;1062   temp_SL=(signed long)adc_buff_[12];
;;;1063   temp_SL*=Kubat[1];
;;;1064   temp_SL/=400L;
;;;1065   bat[1]._Ub=(signed short)temp_SL;
;;;1066   #endif
;;;1067   
;;;1068   #ifdef UKU_220_V2
;;;1069   temp_SL=(signed long)adc_buff_[12];
;;;1070   temp_SL*=Kubat[1];
;;;1071   temp_SL/=400L;
;;;1072   bat[1]._Ub=(signed short)temp_SL;
;;;1073   #endif
;;;1074   
;;;1075   temp_SL=(signed long)adc_buff_[1];
000dac  f9bb1002          LDRSH    r1,[r11,#2]  ; adc_buff_
;;;1076   temp_SL*=Kubatm[1];
000db0  f9b20002          LDRSH    r0,[r2,#2]  ; Kubatm
000db4  fb00f001          MUL      r0,r0,r1
;;;1077   temp_SL/=700L;
000db8  fb90f0f3          SDIV     r0,r0,r3
;;;1078   bat[1]._Ubm=(signed short)temp_SL;
000dbc  f8a40050          STRH     r0,[r4,#0x50]
;;;1079   #ifdef UKU_KONTUR
;;;1080   temp_SL=(signed long)adc_buff_[1];
;;;1081   temp_SL*=Kubatm[1];
;;;1082   temp_SL/=2000L;
;;;1083   bat[1]._Ubm=(signed short)temp_SL;
;;;1084   #endif
;;;1085   
;;;1086   #ifdef UKU_TELECORE2015
;;;1087   temp_SL=(signed long)adc_buff_[2];
;;;1088   temp_SL*=Kubat[0];
;;;1089   temp_SL/=2000L;
;;;1090   bat[0]._Ub=(signed short)temp_SL;
;;;1091   #endif
;;;1092   
;;;1093   /*
;;;1094   // 
;;;1095   if(!mess_find_unvol(MESS2MATEMAT))
;;;1096   	{
;;;1097   	temp_SL=(signed long)ad7705_buff_[0];
;;;1098   	temp_SL-=(signed long)Kibat0[0];
;;;1099   	temp_SL*=(signed long)Kibat1[0];
;;;1100   	if((AUSW_MAIN==24120)||(AUSW_MAIN==24210))temp_SL/=300L;
;;;1101   	else temp_SL/=1000L;
;;;1102   	bat[0]._Ib=(signed short)temp_SL;
;;;1103   
;;;1104   	temp_SL=(signed long)ad7705_buff_[1];
;;;1105   	temp_SL-=(signed long)Kibat0[1];
;;;1106   	temp_SL*=(signed long)Kibat1[1];
;;;1107   	if((AUSW_MAIN==24120)||(AUSW_MAIN==24210))temp_SL/=300L;
;;;1108   	else temp_SL/=1000L;
;;;1109   	bat[1]._Ib=(signed short)temp_SL;
;;;1110   	}
;;;1111   */
;;;1112   
;;;1113   
;;;1114   // 
;;;1115   if(!mess_find_unvol(MESS2MATEMAT))
000dc0  f04f00dc          MOV      r0,#0xdc
000dc4  f7fffffe          BL       mess_find_unvol
;;;1116   	{
;;;1117   	temp_SL=(signed long)ad7705_buff_[0];
;;;1118   	temp_SL-=(signed long)Kibat0[0];
;;;1119   	temp_SL*=(signed long)Kibat1[0];
;;;1120   	if((AUSW_MAIN==24120)||(AUSW_MAIN==24210))temp_SL/=300L;
;;;1121   	else if((AUSW_MAIN==22010)||(AUSW_MAIN==22035)||(AUSW_MAIN==22033))temp_SL/=2000L;
000dc8  f2456313          MOV      r3,#0x5613
000dcc  b920              CBNZ     r0,|L1.3544|
000dce  f8df9028          LDR      r9,|L1.3576|
000dd2  f8b90000          LDRH     r0,[r9,#0]            ;1117  ; ad7705_buff_
000dd6  e03f              B        |L1.3672|
                  |L1.3544|
000dd8  e08b              B        |L1.3826|
000dda  0000              DCW      0x0000
                  |L1.3548|
                          DCD      mess_data
                  |L1.3552|
                          DCD      USIGN
                  |L1.3556|
                          DCD      load_U
                  |L1.3560|
                          DCD      load_I
                  |L1.3564|
                          DCD      bat_ips
                  |L1.3568|
                          DCD      ||area_number.21||
                  |L1.3572|
                          DCD      Kibat0
                  |L1.3576|
                          DCD      ad7705_buff_
                  |L1.3580|
                          DCD      ADR_KI0BAT
                  |L1.3584|
                          DCD      bat_u_old_cnt
                  |L1.3588|
                          DCD      bat
                  |L1.3592|
                          DCD      net_U
                  |L1.3596|
                          DCD      UMN
                  |L1.3600|
                          DCD      unet_drv_cnt
                  |L1.3604|
                          DCD      net_Ustore
                  |L1.3608|
                          DCD      main_1Hz_cnt
                  |L1.3612|
                          DCD      bps
                  |L1.3616|
                          DCD      KunetA
                  |L1.3620|
                          DCD      net_Ua
                  |L1.3624|
                          DCD      KunetB
                  |L1.3628|
                          DCD      KunetC
                  |L1.3632|
                          DCD      net_Ub
                  |L1.3636|
                          DCD      net_Uc
                  |L1.3640|
                          DCD      AUSW_MAIN
                  |L1.3644|
                          DCD      ||.bss||+0x400
                  |L1.3648|
                          DCD      bps+0x3a2
                  |L1.3652|
                          DCD      net_F3
                  |L1.3656|
                          DCD      Kunet
                  |L1.3660|
                          DCD      net_F
                  |L1.3664|
                          DCD      Kubat
                  |L1.3668|
                          DCD      Kubatm
                  |L1.3672|
000e58  f8dfa404          LDR      r10,|L1.4704|
000e5c  f8ba1000          LDRH     r1,[r10,#0]           ;1118  ; Kibat0
000e60  eba00001          SUB      r0,r0,r1              ;1118
000e64  4aff              LDR      r2,|L1.4708|
000e66  f9b21000          LDRSH    r1,[r2,#0]            ;1119  ; Kibat1
000e6a  fb01f100          MUL      r1,r1,r0              ;1119
000e6e  48fe              LDR      r0,|L1.4712|
000e70  f6456c38          MOV      r12,#0x5e38           ;1120
000e74  8800              LDRH     r0,[r0,#0]            ;1120  ; AUSW_MAIN
000e76  4560              CMP      r0,r12                ;1120
000e78  d004              BEQ      |L1.3716|
000e7a  f5a04ebc          SUB      lr,r0,#0x5e00         ;1120
000e7e  f1be0e92          SUBS     lr,lr,#0x92           ;1120
000e82  d104              BNE      |L1.3726|
                  |L1.3716|
000e84  f44f7e96          MOV      lr,#0x12c             ;1120
000e88  fb91f1fe          SDIV     r1,r1,lr              ;1120
000e8c  e00c              B        |L1.3752|
                  |L1.3726|
000e8e  4540              CMP      r0,r8
000e90  d003              BEQ      |L1.3738|
000e92  4298              CMP      r0,r3
000e94  d001              BEQ      |L1.3738|
000e96  42b0              CMP      r0,r6
000e98  d102              BNE      |L1.3744|
                  |L1.3738|
000e9a  fb91f1f5          SDIV     r1,r1,r5
000e9e  e003              B        |L1.3752|
                  |L1.3744|
;;;1122   	else temp_SL/=1000L;
000ea0  f44f7e7a          MOV      lr,#0x3e8
000ea4  fb91f1fe          SDIV     r1,r1,lr
                  |L1.3752|
;;;1123   	#ifdef UKU_TELECORE2015
;;;1124   	temp_SL/=2L;
;;;1125   	temp_SL=-temp_SL;
;;;1126   	#endif
;;;1127   	bat[0]._Ib=(signed short)temp_SL;
000ea8  8121              STRH     r1,[r4,#8]
;;;1128   
;;;1129   	temp_SL=(signed long)ad7705_buff_[1];
000eaa  f8b91002          LDRH     r1,[r9,#2]  ; ad7705_buff_
;;;1130   	temp_SL-=(signed long)Kibat0[1];
000eae  f8ba9002          LDRH     r9,[r10,#2]  ; Kibat0
000eb2  eba10909          SUB      r9,r1,r9
;;;1131   	temp_SL*=(signed long)Kibat1[1];
000eb6  f9b21002          LDRSH    r1,[r2,#2]  ; Kibat1
000eba  fb01f109          MUL      r1,r1,r9
;;;1132   	if((AUSW_MAIN==24120)||(AUSW_MAIN==24210))temp_SL/=300L;
000ebe  4560              CMP      r0,r12
000ec0  d003              BEQ      |L1.3786|
000ec2  f5a042bc          SUB      r2,r0,#0x5e00
000ec6  3a92              SUBS     r2,r2,#0x92
000ec8  d104              BNE      |L1.3796|
                  |L1.3786|
000eca  f44f7096          MOV      r0,#0x12c
000ece  fb91f0f0          SDIV     r0,r1,r0
000ed2  e00c              B        |L1.3822|
                  |L1.3796|
;;;1133   	else if((AUSW_MAIN==22010)||(AUSW_MAIN==22035)||(AUSW_MAIN==22033))temp_SL/=2000L;
000ed4  4540              CMP      r0,r8
000ed6  d003              BEQ      |L1.3808|
000ed8  4298              CMP      r0,r3
000eda  d001              BEQ      |L1.3808|
000edc  42b0              CMP      r0,r6
000ede  d102              BNE      |L1.3814|
                  |L1.3808|
000ee0  fb91f0f5          SDIV     r0,r1,r5
000ee4  e003              B        |L1.3822|
                  |L1.3814|
;;;1134   	else temp_SL/=1000L;
000ee6  f44f707a          MOV      r0,#0x3e8
000eea  fb91f0f0          SDIV     r0,r1,r0
                  |L1.3822|
;;;1135   	bat[1]._Ib=(signed short)temp_SL;
000eee  f8a40054          STRH     r0,[r4,#0x54]
                  |L1.3826|
;;;1136   	}
;;;1137   
;;;1138   
;;;1139   
;;;1140   
;;;1141   
;;;1142   // 
;;;1143   
;;;1144   #ifdef UKU_KONTUR
;;;1145   if((adc_buff_[6]>800)&&(adc_buff_[6]<3800))bat[0]._nd=0;
;;;1146   else bat[0]._nd=1;
;;;1147   temp_SL=(signed long)adc_buff_[6];
;;;1148   temp_SL*=Ktbat[0];
;;;1149   temp_SL/=20000L;
;;;1150   temp_SL-=273L;
;;;1151   bat[0]._Tb=(signed short)temp_SL;
;;;1152   #else
;;;1153   if((adc_buff_[6]>800)&&(adc_buff_[6]<3800))bat[0]._nd=0;
000ef2  f9bb200c          LDRSH    r2,[r11,#0xc]  ; adc_buff_
000ef6  f64031b7          MOV      r1,#0xbb7
000efa  f2a23a21          SUB      r10,r2,#0x321
000efe  2000              MOVS     r0,#0
;;;1154   else bat[0]._nd=1;
000f00  f04f0c01          MOV      r12,#1
000f04  458a              CMP      r10,r1                ;1153
000f06  d201              BCS      |L1.3852|
000f08  7320              STRB     r0,[r4,#0xc]          ;1153
000f0a  e001              B        |L1.3856|
                  |L1.3852|
000f0c  f884c00c          STRB     r12,[r4,#0xc]
                  |L1.3856|
;;;1155   temp_SL=(signed long)adc_buff_[6];
;;;1156   temp_SL*=Ktbat[0];
000f10  f8df9358          LDR      r9,|L1.4716|
000f14  f9b99000          LDRSH    r9,[r9,#0]  ; Ktbat
000f18  fb09f902          MUL      r9,r9,r2
;;;1157   temp_SL/=20000L;
000f1c  f6446e20          MOV      lr,#0x4e20
000f20  fb99f9fe          SDIV     r9,r9,lr
;;;1158   temp_SL-=273L;
000f24  f2a91911          SUB      r9,r9,#0x111
;;;1159   bat[0]._Tb=(signed short)temp_SL;
000f28  f8a4900a          STRH     r9,[r4,#0xa]
;;;1160   #endif
;;;1161   
;;;1162   #ifdef UKU_KONTUR
;;;1163   if((adc_buff_[7]>800)&&(adc_buff_[7]<3800))bat[1]._nd=0;
;;;1164   else bat[1]._nd=1;
;;;1165   temp_SL=(signed long)adc_buff_[7];
;;;1166   temp_SL*=Ktbat[1];
;;;1167   temp_SL/=20000L;
;;;1168   temp_SL-=273L;
;;;1169   bat[1]._Tb=(signed short)temp_SL;
;;;1170   #else
;;;1171   if((adc_buff_[7]>800)&&(adc_buff_[7]<3800))bat[1]._nd=0;
000f2c  f9bb900e          LDRSH    r9,[r11,#0xe]  ; adc_buff_
000f30  f64031b7          MOV      r1,#0xbb7
000f34  f2a93e21          SUB      lr,r9,#0x321
000f38  458e              CMP      lr,r1
000f3a  d202              BCS      |L1.3906|
000f3c  f8840058          STRB     r0,[r4,#0x58]
000f40  e001              B        |L1.3910|
                  |L1.3906|
;;;1172   else bat[1]._nd=1;
000f42  f884c058          STRB     r12,[r4,#0x58]
                  |L1.3910|
;;;1173   temp_SL=(signed long)adc_buff_[7];
;;;1174   temp_SL*=Ktbat[1];
000f46  49c9              LDR      r1,|L1.4716|
000f48  f9b11002          LDRSH    r1,[r1,#2]  ; Ktbat
000f4c  fb01f109          MUL      r1,r1,r9
;;;1175   temp_SL/=20000L;
000f50  f6446e20          MOV      lr,#0x4e20
000f54  fb91f1fe          SDIV     r1,r1,lr
;;;1176   temp_SL-=273L;
000f58  f2a11111          SUB      r1,r1,#0x111
;;;1177   bat[1]._Tb=(signed short)temp_SL;
000f5c  4cc4              LDR      r4,|L1.4720|
000f5e  f8a41056          STRH     r1,[r4,#0x56]
;;;1178   #endif
;;;1179   
;;;1180   #ifdef UKU_6U
;;;1181   
;;;1182   if(NUMMAKB==2)
;;;1183   	{
;;;1184   	if(makb[0]._cnt<5)
;;;1185   		{
;;;1186   		if(makb[0]._T_nd[0]==0)
;;;1187   			{
;;;1188   			bat[0]._Tb=makb[0]._T[0];
;;;1189   			bat[0]._nd=0;
;;;1190   			}
;;;1191   		}
;;;1192   
;;;1193   	if(makb[1]._cnt<5)
;;;1194   		{
;;;1195   		if(makb[1]._T_nd[0]==0)
;;;1196   			{
;;;1197   			bat[1]._Tb=makb[1]._T[0];
;;;1198   			bat[1]._nd=0;
;;;1199   			}
;;;1200   		}
;;;1201   
;;;1202   	}
;;;1203   else if(NUMMAKB==4)
;;;1204   	{
;;;1205   	signed short temp_t;
;;;1206   	temp_t=-20;
;;;1207   	if(makb[0]._cnt<5)
;;;1208   		{
;;;1209   		if(makb[0]._T_nd[0]==0)
;;;1210   			{
;;;1211   			temp_t=makb[0]._T[0];
;;;1212   			bat[0]._nd=0;
;;;1213   			}
;;;1214   		}
;;;1215   	if(makb[1]._cnt<5)
;;;1216   		{
;;;1217   		if(makb[1]._T_nd[0]==0)
;;;1218   			{
;;;1219   			if(temp_t<makb[1]._T[0])
;;;1220   				{
;;;1221   				bat[0]._nd=0;
;;;1222   				temp_t=makb[1]._T[0];
;;;1223   				}
;;;1224   			}
;;;1225   		}
;;;1226   	if(temp_t!=-20)bat[0]._Tb = temp_t;
;;;1227   
;;;1228    	temp_t=-20;
;;;1229   	if(makb[2]._cnt<5)
;;;1230   		{
;;;1231   		if(makb[2]._T_nd[0]==0)
;;;1232   			{
;;;1233   			temp_t=makb[2]._T[0];
;;;1234   			bat[1]._nd=0;
;;;1235   			}
;;;1236   		}
;;;1237   	if(makb[3]._cnt<5)
;;;1238   		{
;;;1239   		if(makb[3]._T_nd[0]==0)
;;;1240   			{
;;;1241   			if(temp_t<makb[3]._T[0])
;;;1242   				{
;;;1243   				bat[1]._nd=0;
;;;1244   				temp_t=makb[3]._T[0];
;;;1245   				}
;;;1246   			}
;;;1247   		}
;;;1248   	if(temp_t!=-20)bat[1]._Tb = temp_t;
;;;1249   	}
;;;1250   
;;;1251   #endif
;;;1252   
;;;1253   
;;;1254   // 
;;;1255   temp_SL=(signed long)adc_buff_[2];
000f62  f9bb4004          LDRSH    r4,[r11,#4]  ; adc_buff_
;;;1256   temp_SL*=Kuload;
000f66  49c3              LDR      r1,|L1.4724|
000f68  f9b11000          LDRSH    r1,[r1,#0]  ; Kuload
000f6c  fb04f401          MUL      r4,r4,r1
;;;1257   temp_SL/=2000L;
000f70  f44f61fa          MOV      r1,#0x7d0
000f74  fb94f1f1          SDIV     r1,r4,r1
;;;1258   load_U=(signed short)temp_SL;
000f78  4dbf              LDR      r5,|L1.4728|
000f7a  8029              STRH     r1,[r5,#0]
;;;1259   
;;;1260   #ifdef UKU_220 
;;;1261   // 
;;;1262   temp_SL=(signed long)adc_buff_[2];
;;;1263   temp_SL*=Kuload;
;;;1264   temp_SL/=350L;
;;;1265   load_U=(signed short)temp_SL;
;;;1266   #endif
;;;1267   
;;;1268   #ifdef UKU_220_V2 
;;;1269   // 
;;;1270   temp_SL=(signed long)adc_buff_[2];
;;;1271   temp_SL*=Kuload;
;;;1272   temp_SL/=350L;
;;;1273   load_U=(signed short)temp_SL;
;;;1274   #endif
;;;1275   
;;;1276   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;1277   // 
;;;1278   temp_SL=(signed long)adc_buff_[2];
;;;1279   temp_SL*=Kuload;
;;;1280   if(AUSW_MAIN==22010)temp_SL/=400L;
000f7c  49ba              LDR      r1,|L1.4712|
000f7e  8809              LDRH     r1,[r1,#0]  ; AUSW_MAIN
000f80  f5a148a8          SUB      r8,r1,#0x5400
000f84  f5b878fd          SUBS     r8,r8,#0x1fa
000f88  d104              BNE      |L1.3988|
000f8a  f44f78c8          MOV      r8,#0x190
000f8e  fb94f4f8          SDIV     r4,r4,r8
000f92  e003              B        |L1.3996|
                  |L1.3988|
;;;1281   else temp_SL/=500L;
000f94  f44f78fa          MOV      r8,#0x1f4
000f98  fb94f4f8          SDIV     r4,r4,r8
                  |L1.3996|
;;;1282   load_U=(signed short)temp_SL;
000f9c  fa0ff984          SXTH     r9,r4
000fa0  f8a59000          STRH     r9,[r5,#0]
;;;1283   #endif
;;;1284   
;;;1285   
;;;1286   #ifdef UKU_KONTUR
;;;1287   //   1(  )
;;;1288   if((adc_buff_[5]>800)&&(adc_buff_[5]<3800))ND_EXT[0]=0;
;;;1289   else ND_EXT[0]=1;
;;;1290   temp_SL=(signed long)adc_buff_[5];
;;;1291   temp_SL*=Ktext[0];
;;;1292   temp_SL/=20000L;
;;;1293   temp_SL-=273L;
;;;1294   t_ext[0]=(signed short)temp_SL;
;;;1295   #else 
;;;1296   //   1(  )
;;;1297   if((adc_buff_[5]>800)&&(adc_buff_[5]<3800))ND_EXT[0]=0;
000fa4  f9bb800a          LDRSH    r8,[r11,#0xa]  ; adc_buff_
000fa8  f6403bb7          MOV      r11,#0xbb7
000fac  f2a83421          SUB      r4,r8,#0x321
000fb0  4db2              LDR      r5,|L1.4732|
000fb2  455c              CMP      r4,r11
000fb4  d201              BCS      |L1.4026|
000fb6  6028              STR      r0,[r5,#0]  ; ND_EXT
000fb8  e001              B        |L1.4030|
                  |L1.4026|
;;;1298   else ND_EXT[0]=1;
000fba  f8c5c000          STR      r12,[r5,#0]  ; ND_EXT
                  |L1.4030|
;;;1299   temp_SL=(signed long)adc_buff_[5];
;;;1300   temp_SL*=Ktext[0];
000fbe  4cb0              LDR      r4,|L1.4736|
000fc0  f9b44000          LDRSH    r4,[r4,#0]  ; Ktext
000fc4  fb04f808          MUL      r8,r4,r8
;;;1301   temp_SL/=20000L;
000fc8  f6446e20          MOV      lr,#0x4e20
000fcc  fb98f8fe          SDIV     r8,r8,lr
;;;1302   temp_SL-=273L;
000fd0  f2a81811          SUB      r8,r8,#0x111
;;;1303   t_ext[0]=(signed short)temp_SL;
000fd4  f8dfe2ac          LDR      lr,|L1.4740|
000fd8  f8ae8000          STRH     r8,[lr,#0]
;;;1304   #endif
;;;1305   
;;;1306   #ifdef UKU_220
;;;1307   
;;;1308   //   2(  )
;;;1309   if((adc_buff_[3]>800)&&(adc_buff_[3]<3800))ND_EXT[1]=0;
;;;1310   else ND_EXT[1]=1;
;;;1311   temp_SL=(signed long)adc_buff_[3];
;;;1312   temp_SL*=Ktext[1];
;;;1313   temp_SL/=20000L;
;;;1314   temp_SL-=273L;
;;;1315   t_ext[1]=(signed short)temp_SL;
;;;1316   
;;;1317   //   3(  MSAN)
;;;1318   if((adc_buff_[10]>800)&&(adc_buff_[10]<3800))ND_EXT[2]=0;
;;;1319   else ND_EXT[2]=1;
;;;1320   temp_SL=(signed long)adc_buff_[10];
;;;1321   temp_SL*=Ktext[2];
;;;1322   temp_SL/=20000L;
;;;1323   temp_SL-=273L;
;;;1324   t_ext[2]=(signed short)temp_SL;
;;;1325   
;;;1326   #else
;;;1327   
;;;1328   
;;;1329   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;1330   
;;;1331   //   
;;;1332   if((adc_buff_[6]>800)&&(adc_buff_[6]<3800))ND_EXT[0]=0;
000fdc  45da              CMP      r10,r11
000fde  d201              BCS      |L1.4068|
000fe0  6028              STR      r0,[r5,#0]  ; ND_EXT
000fe2  e001              B        |L1.4072|
                  |L1.4068|
;;;1333   else ND_EXT[0]=1;
000fe4  f8c5c000          STR      r12,[r5,#0]  ; ND_EXT
                  |L1.4072|
;;;1334   temp_SL=(signed long)adc_buff_[6];
;;;1335   temp_SL*=Ktext[0];
000fe8  4354              MULS     r4,r2,r4
;;;1336   temp_SL/=20000L;
000fea  f6446220          MOV      r2,#0x4e20
000fee  fb94f2f2          SDIV     r2,r4,r2
;;;1337   temp_SL-=273L;
000ff2  f2a21211          SUB      r2,r2,#0x111
;;;1338   t_ext[0]=(signed short)temp_SL;
000ff6  f8ae2000          STRH     r2,[lr,#0]
;;;1339   
;;;1340   #else
;;;1341   
;;;1342   
;;;1343   
;;;1344   //   2(  )
;;;1345   if((adc_buff_[10]>800)&&(adc_buff_[10]<3800))ND_EXT[1]=0;
;;;1346   else ND_EXT[1]=1;
;;;1347   temp_SL=(signed long)adc_buff_[10];
;;;1348   temp_SL*=Ktext[1];
;;;1349   temp_SL/=20000L;
;;;1350   temp_SL-=273L;
;;;1351   t_ext[1]=(signed short)temp_SL;
;;;1352   
;;;1353   //   3(  MSAN)
;;;1354   if((adc_buff_[3]>800)&&(adc_buff_[3]<3800))ND_EXT[2]=0;
;;;1355   else ND_EXT[2]=1;
;;;1356   temp_SL=(signed long)adc_buff_[3];
;;;1357   temp_SL*=Ktext[2];
;;;1358   temp_SL/=20000L;
;;;1359   temp_SL-=273L;
;;;1360   t_ext[2]=(signed short)temp_SL;
;;;1361   
;;;1362   #endif
;;;1363   #endif
;;;1364   
;;;1365   #ifdef UKU_220_V2
;;;1366   
;;;1367   //   2(  )
;;;1368   if((adc_buff_[3]>800)&&(adc_buff_[3]<3800))ND_EXT[1]=0;
;;;1369   else ND_EXT[1]=1;
;;;1370   temp_SL=(signed long)adc_buff_[3];
;;;1371   temp_SL*=Ktext[1];
;;;1372   temp_SL/=20000L;
;;;1373   temp_SL-=273L;
;;;1374   t_ext[1]=(signed short)temp_SL;
;;;1375   
;;;1376   //   3(  MSAN)
;;;1377   if((adc_buff_[10]>800)&&(adc_buff_[10]<3800))ND_EXT[2]=0;
;;;1378   else ND_EXT[2]=1;
;;;1379   temp_SL=(signed long)adc_buff_[10];
;;;1380   temp_SL*=Ktext[2];
;;;1381   temp_SL/=20000L;
;;;1382   temp_SL-=273L;
;;;1383   t_ext[2]=(signed short)temp_SL;
;;;1384   
;;;1385   #else
;;;1386   
;;;1387   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;1388   // 
;;;1389   if(bps[8]._device==dIBAT_METR)
000ffa  4ca3              LDR      r4,|L1.4744|
;;;1390   	{
;;;1391   	ibat_metr_buff_[0]=((signed long)bps[8]._buff[0])+(((signed long)bps[8]._buff[1])<<8);
;;;1392   	ibat_metr_buff_[1]=((signed long)bps[8]._buff[2])+(((signed long)bps[8]._buff[3])<<8);
;;;1393   	bIBAT_SMKLBR=((signed short)bps[8]._buff[4])+(((signed short)bps[8]._buff[5])<<8);
;;;1394   
;;;1395   	if(!bIBAT_SMKLBR)
;;;1396   		{
;;;1397   		signed long temp_SL;
;;;1398   		temp_SL=(signed long)ibat_metr_buff_[0];
;;;1399   		temp_SL-=(signed long)ibat_metr_buff_[1];
;;;1400   		temp_SL*=(signed long)Kibat1[0];
;;;1401   		if((AUSW_MAIN==22010)||(AUSW_MAIN==22011)||(AUSW_MAIN==22035)||(AUSW_MAIN==22033)||(AUSW_MAIN==22063)||(AUSW_MAIN==22023)||(AUSW_MAIN==22043))temp_SL/=2000L;
;;;1402   	
;;;1403   		Ib_ips_termokompensat =(signed short)temp_SL;
000ffc  f8dfc28c          LDR      r12,|L1.4748|
001000  f89422a0          LDRB     r2,[r4,#0x2a0]        ;1389  ; bps
001004  2a09              CMP      r2,#9                 ;1389
001006  d140              BNE      |L1.4234|
001008  f89422a6          LDRB     r2,[r4,#0x2a6]        ;1391  ; bps
00100c  f89482a7          LDRB     r8,[r4,#0x2a7]        ;1391  ; bps
001010  f8dfb27c          LDR      r11,|L1.4752|
001014  eb022208          ADD      r2,r2,r8,LSL #8       ;1391
001018  f8cb2000          STR      r2,[r11,#0]           ;1391  ; ibat_metr_buff_
00101c  f89482a8          LDRB     r8,[r4,#0x2a8]        ;1392  ; bps
001020  f894a2a9          LDRB     r10,[r4,#0x2a9]       ;1392  ; bps
001024  eb08280a          ADD      r8,r8,r10,LSL #8      ;1392
001028  f8cb8004          STR      r8,[r11,#4]           ;1392  ; ibat_metr_buff_
00102c  f894a2aa          LDRB     r10,[r4,#0x2aa]       ;1393  ; bps
001030  f894b2ab          LDRB     r11,[r4,#0x2ab]       ;1393  ; bps
001034  eb0a2a0b          ADD      r10,r10,r11,LSL #8    ;1393
001038  f8dfb258          LDR      r11,|L1.4756|
00103c  fa0ffa8a          SXTH     r10,r10               ;1393
001040  f8aba000          STRH     r10,[r11,#0]          ;1393
001044  f1ba0f00          CMP      r10,#0                ;1395
001048  d11f              BNE      |L1.4234|
00104a  eba20808          SUB      r8,r2,r8              ;1399
00104e  4a85              LDR      r2,|L1.4708|
001050  f9b22000          LDRSH    r2,[r2,#0]            ;1400  ; Kibat1
001054  fb02f208          MUL      r2,r2,r8              ;1400
001058  f5a148a8          SUB      r8,r1,#0x5400         ;1401
00105c  f5b878fd          SUBS     r8,r8,#0x1fa          ;1401
001060  d00d              BEQ      |L1.4222|
001062  f1b80801          SUBS     r8,r8,#1              ;1401
001066  d00a              BEQ      |L1.4222|
001068  4299              CMP      r1,r3                 ;1401
00106a  d008              BEQ      |L1.4222|
00106c  42b1              CMP      r1,r6                 ;1401
00106e  d006              BEQ      |L1.4222|
001070  f1b80334          SUBS     r3,r8,#0x34           ;1401
001074  d003              BEQ      |L1.4222|
001076  3328              ADDS     r3,r3,#0x28           ;1401
001078  d001              BEQ      |L1.4222|
00107a  3b14              SUBS     r3,r3,#0x14           ;1401
00107c  d103              BNE      |L1.4230|
                  |L1.4222|
00107e  f44f61fa          MOV      r1,#0x7d0             ;1401
001082  fb92f2f1          SDIV     r2,r2,r1              ;1401
                  |L1.4230|
001086  f8ac2000          STRH     r2,[r12,#0]
                  |L1.4234|
;;;1404   		}
;;;1405   	}
;;;1406   
;;;1407   bat[0]._Ub=load_U;
00108a  4e79              LDR      r6,|L1.4720|
00108c  f8a69002          STRH     r9,[r6,#2]
;;;1408   bat[0]._Ib=Ib_ips_termokompensat;
001090  f9bc1000          LDRSH    r1,[r12,#0]  ; Ib_ips_termokompensat
001094  8131              STRH     r1,[r6,#8]
;;;1409   
;;;1410   #endif
;;;1411   #endif
;;;1412   
;;;1413   
;;;1414   #ifdef UKU_TELECORE2015
;;;1415   
;;;1416   //   1
;;;1417   if((adc_buff_[7]>800)&&(adc_buff_[7]<3800))ND_EXT[0]=0;
;;;1418   else ND_EXT[0]=1;
;;;1419   temp_SL=(signed long)adc_buff_[7];
;;;1420   temp_SL*=Ktext[0];
;;;1421   temp_SL/=20000L;
;;;1422   temp_SL-=273L;
;;;1423   t_ext[0]=(signed short)temp_SL;
;;;1424   
;;;1425   
;;;1426   //   2
;;;1427   if((adc_buff_[6]>800)&&(adc_buff_[6]<3800))ND_EXT[1]=0;
;;;1428   else ND_EXT[1]=1;
;;;1429   temp_SL=(signed long)adc_buff_[6];
;;;1430   temp_SL*=Ktext[1];
;;;1431   temp_SL/=20000L;
;;;1432   temp_SL-=273L;
;;;1433   t_ext[1]=(signed short)temp_SL;
;;;1434   
;;;1435   #endif
;;;1436   
;;;1437   // 
;;;1438   temp_SL=(signed long)adc_buff_ext_[0];
001096  f8dfc200          LDR      r12,|L1.4760|
00109a  f8bc3000          LDRH     r3,[r12,#0]  ; adc_buff_ext_
;;;1439   temp_SL*=Kunet_ext[0];
00109e  f8df81fc          LDR      r8,|L1.4764|
0010a2  f9b82000          LDRSH    r2,[r8,#0]  ; Kunet_ext
0010a6  435a              MULS     r2,r3,r2
;;;1440   temp_SL/=4000L;
0010a8  f44f6b7a          MOV      r11,#0xfa0
0010ac  fb92f2fb          SDIV     r2,r2,r11
;;;1441   Uvv[0]=(signed short)temp_SL;
0010b0  4b7b              LDR      r3,|L1.4768|
0010b2  b292              UXTH     r2,r2
0010b4  801a              STRH     r2,[r3,#0]
;;;1442   if(Uvv[0]<100) Uvv0=Uvv[0];
0010b6  f8dfa1ec          LDR      r10,|L1.4772|
0010ba  2a64              CMP      r2,#0x64
0010bc  d202              BCS      |L1.4292|
0010be  f8aa2000          STRH     r2,[r10,#0]
0010c2  e003              B        |L1.4300|
                  |L1.4292|
;;;1443   else Uvv0=net_U;
0010c4  4a78              LDR      r2,|L1.4776|
0010c6  8812              LDRH     r2,[r2,#0]  ; net_U
0010c8  f8aa2000          STRH     r2,[r10,#0]
                  |L1.4300|
;;;1444   
;;;1445   // 
;;;1446   temp_SL=(signed long)adc_buff_ext_[1];
0010cc  f8bcc002          LDRH     r12,[r12,#2]  ; adc_buff_ext_
;;;1447   temp_SL*=Kunet_ext[1];
0010d0  f9b82002          LDRSH    r2,[r8,#2]  ; Kunet_ext
0010d4  fb02f20c          MUL      r2,r2,r12
;;;1448   temp_SL/=4000L;
0010d8  fb92f2fb          SDIV     r2,r2,r11
;;;1449   Uvv[1]=(signed short)temp_SL;
0010dc  805a              STRH     r2,[r3,#2]
;;;1450   
;;;1451   
;;;1452   //  
;;;1453   temp_SL=(signed long)eb2_data_short[0];
0010de  4b73              LDR      r3,|L1.4780|
0010e0  f9b32000          LDRSH    r2,[r3,#0]  ; eb2_data_short
;;;1454   temp_SL*=Kvv_eb2[0];
0010e4  f8dfc1c8          LDR      r12,|L1.4784|
0010e8  f9bc8000          LDRSH    r8,[r12,#0]  ; Kvv_eb2
0010ec  fb08f802          MUL      r8,r8,r2
;;;1455   temp_SL/=6000L;
0010f0  f2417270          MOV      r2,#0x1770
0010f4  fb98faf2          SDIV     r10,r8,r2
;;;1456   Uvv_eb2[0]=(signed short)temp_SL;
0010f8  f8df81b8          LDR      r8,|L1.4788|
0010fc  f8a8a000          STRH     r10,[r8,#0]
;;;1457   
;;;1458   temp_SL=(signed long)eb2_data_short[1];
001100  f9b3a002          LDRSH    r10,[r3,#2]  ; eb2_data_short
;;;1459   temp_SL*=Kvv_eb2[1];
001104  f9bcb002          LDRSH    r11,[r12,#2]  ; Kvv_eb2
001108  fb0bfb0a          MUL      r11,r11,r10
;;;1460   temp_SL/=6000L;
00110c  fb9bfaf2          SDIV     r10,r11,r2
;;;1461   Uvv_eb2[1]=(signed short)temp_SL;
001110  f8a8a002          STRH     r10,[r8,#2]
;;;1462   
;;;1463   temp_SL=(signed long)eb2_data_short[2];
001114  f9b3a004          LDRSH    r10,[r3,#4]  ; eb2_data_short
;;;1464   temp_SL*=Kvv_eb2[2];
001118  f9bcc004          LDRSH    r12,[r12,#4]  ; Kvv_eb2
00111c  fb0cfc0a          MUL      r12,r12,r10
;;;1465   temp_SL/=6000L;
001120  fb9cfcf2          SDIV     r12,r12,r2
;;;1466   Uvv_eb2[2]=(signed short)temp_SL;
001124  f8a8c004          STRH     r12,[r8,#4]
;;;1467   
;;;1468   //  
;;;1469   temp_SL=(signed long)eb2_data_short[3];
001128  f9b3a006          LDRSH    r10,[r3,#6]  ; eb2_data_short
;;;1470   temp_SL*=Kpes_eb2[0];
00112c  f8dfc188          LDR      r12,|L1.4792|
001130  f9bc8000          LDRSH    r8,[r12,#0]  ; Kpes_eb2
001134  fb08f80a          MUL      r8,r8,r10
;;;1471   temp_SL/=6000L;
001138  fb98faf2          SDIV     r10,r8,r2
;;;1472   Upes_eb2[0]=(signed short)temp_SL;
00113c  f8df817c          LDR      r8,|L1.4796|
001140  f8a8a000          STRH     r10,[r8,#0]
;;;1473   
;;;1474   temp_SL=(signed long)eb2_data_short[4];
001144  f9b3a008          LDRSH    r10,[r3,#8]  ; eb2_data_short
;;;1475   temp_SL*=Kpes_eb2[1];
001148  f9bcb002          LDRSH    r11,[r12,#2]  ; Kpes_eb2
00114c  fb0bfb0a          MUL      r11,r11,r10
;;;1476   temp_SL/=6000L;
001150  fb9bfaf2          SDIV     r10,r11,r2
;;;1477   Upes_eb2[1]=(signed short)temp_SL;
001154  f8a8a002          STRH     r10,[r8,#2]
;;;1478   
;;;1479   temp_SL=(signed long)eb2_data_short[5];
001158  f9b3a00a          LDRSH    r10,[r3,#0xa]  ; eb2_data_short
;;;1480   temp_SL*=Kpes_eb2[2];
00115c  f9bc3004          LDRSH    r3,[r12,#4]  ; Kpes_eb2
001160  fb03f30a          MUL      r3,r3,r10
;;;1481   temp_SL/=6000L;
001164  fb93f2f2          SDIV     r2,r3,r2
;;;1482   Upes_eb2[2]=(signed short)temp_SL;
001168  f8a82004          STRH     r2,[r8,#4]
;;;1483   
;;;1484   //  
;;;1485   
;;;1486   ibt._T[0]=t_ext[1]+273;
00116c  f8be2002          LDRH     r2,[lr,#2]  ; t_ext
001170  f8df814c          LDR      r8,|L1.4800|
001174  f2021211          ADD      r2,r2,#0x111
001178  fa0ffc82          SXTH     r12,r2
00117c  f8a8c000          STRH     r12,[r8,#0]
;;;1487   ibt._T[1]=t_ext[2]+273;
001180  f8be2004          LDRH     r2,[lr,#4]  ; t_ext
001184  f2021211          ADD      r2,r2,#0x111
001188  fa0ffa82          SXTH     r10,r2
00118c  f8a8a002          STRH     r10,[r8,#2]
;;;1488   
;;;1489   ibt._nd[0]=ND_EXT[1];
001190  686a              LDR      r2,[r5,#4]  ; ND_EXT
001192  b2d3              UXTB     r3,r2
001194  f8883008          STRB     r3,[r8,#8]
;;;1490   ibt._nd[1]=ND_EXT[2];
001198  68aa              LDR      r2,[r5,#8]  ; ND_EXT
00119a  b2d2              UXTB     r2,r2
00119c  f8882009          STRB     r2,[r8,#9]
;;;1491   
;;;1492   #ifndef UKU_TELECORE2015
;;;1493   if((ibt._nd[0]==0) &&  (ibt._nd[1]==0))
;;;1494   	{
;;;1495   	t_box=((ibt._T[0]+ibt._T[1])/2)-273;
0011a0  4d48              LDR      r5,|L1.4804|
0011a2  b903              CBNZ     r3,|L1.4518|
0011a4  b112              CBZ      r2,|L1.4524|
                  |L1.4518|
;;;1496   	}
;;;1497   else if((ibt._nd[0]==1) &&  (ibt._nd[1]==0))
0011a6  2b01              CMP      r3,#1
0011a8  d00a              BEQ      |L1.4544|
0011aa  e00a              B        |L1.4546|
                  |L1.4524|
0011ac  eb0c020a          ADD      r2,r12,r10            ;1495
0011b0  eb0272d2          ADD      r2,r2,r2,LSR #31      ;1495
0011b4  f46f7388          MVN      r3,#0x110             ;1495
0011b8  eb030262          ADD      r2,r3,r2,ASR #1       ;1495
0011bc  802a              STRH     r2,[r5,#0]            ;1495
0011be  e01e              B        |L1.4606|
                  |L1.4544|
0011c0  b10a              CBZ      r2,|L1.4550|
                  |L1.4546|
;;;1498   	{
;;;1499   	t_box=ibt._T[1]-273;
;;;1500   	}
;;;1501   else if((ibt._nd[0]==0) &&  (ibt._nd[1]==1))
0011c2  b12b              CBZ      r3,|L1.4560|
0011c4  e006              B        |L1.4564|
                  |L1.4550|
0011c6  f2aa1a11          SUB      r10,r10,#0x111        ;1499
0011ca  f8a5a000          STRH     r10,[r5,#0]           ;1499
0011ce  e016              B        |L1.4606|
                  |L1.4560|
0011d0  2a01              CMP      r2,#1
0011d2  d002              BEQ      |L1.4570|
                  |L1.4564|
;;;1502   	{
;;;1503   	t_box=ibt._T[0]-273;
;;;1504   	}
;;;1505   else if((ibt._nd[0]==1) &&  (ibt._nd[1]==1))
0011d4  2b01              CMP      r3,#1
0011d6  d005              BEQ      |L1.4580|
0011d8  e011              B        |L1.4606|
                  |L1.4570|
0011da  f2ac1c11          SUB      r12,r12,#0x111        ;1503
0011de  f8a5c000          STRH     r12,[r5,#0]           ;1503
0011e2  e00c              B        |L1.4606|
                  |L1.4580|
0011e4  2a01              CMP      r2,#1
0011e6  d10a              BNE      |L1.4606|
;;;1506   	{
;;;1507   	if(t_ext_can_nd<5)t_box= t_ext_can;
0011e8  4a37              LDR      r2,|L1.4808|
0011ea  7812              LDRB     r2,[r2,#0]  ; t_ext_can_nd
0011ec  2a05              CMP      r2,#5
0011ee  d203              BCS      |L1.4600|
0011f0  4a36              LDR      r2,|L1.4812|
0011f2  8812              LDRH     r2,[r2,#0]  ; t_ext_can
0011f4  802a              STRH     r2,[r5,#0]
0011f6  e002              B        |L1.4606|
                  |L1.4600|
;;;1508   	else t_box=20;
0011f8  f04f0214          MOV      r2,#0x14
0011fc  802a              STRH     r2,[r5,#0]
                  |L1.4606|
;;;1509   	}
;;;1510   #endif
;;;1511   /*
;;;1512   //  
;;;1513   
;;;1514   ibt._T[0]=bat[0]._Tb+273;
;;;1515   ibt._T[1]=bat[1]._Tb+273;
;;;1516   ibt._T[2]=t_ext[1]+273;
;;;1517   ibt._T[3]=t_ext[2]+273;
;;;1518   
;;;1519   ibt._nd[0]=bat[0]._nd;
;;;1520   ibt._nd[1]=bat[1]._nd;
;;;1521   ibt._nd[2]=ND_EXT[1];
;;;1522   ibt._nd[3]=ND_EXT[2];
;;;1523   
;;;1524   ibt._avg1=0;
;;;1525   ibt._avg_cnt=4;
;;;1526   
;;;1527   if(ibt._nd[0]==0)
;;;1528   	{
;;;1529   	ibt._avg1+=ibt._T[0];
;;;1530   	}
;;;1531   else 
;;;1532   	{
;;;1533   	ibt._avg_cnt--;
;;;1534   	}
;;;1535   
;;;1536   if(ibt._nd[1]==0)
;;;1537   	{
;;;1538   	ibt._avg1+=ibt._T[1];
;;;1539   	}
;;;1540   else 
;;;1541   	{
;;;1542   	ibt._avg_cnt--;
;;;1543   	}
;;;1544   
;;;1545   if(ibt._nd[2]==0)
;;;1546   	{
;;;1547   	ibt._avg1+=ibt._T[2];
;;;1548   	}
;;;1549   else 
;;;1550   	{
;;;1551   	ibt._avg_cnt--;
;;;1552   	}
;;;1553   
;;;1554   if(ibt._nd[3]==0)
;;;1555   	{
;;;1556   	ibt._avg1+=ibt._T[3];
;;;1557   	}
;;;1558   else 
;;;1559   	{
;;;1560   	ibt._avg_cnt--;
;;;1561   	}
;;;1562   
;;;1563   if(ibt._avg_cnt==0)
;;;1564   	{
;;;1565   	}
;;;1566   else
;;;1567   	{
;;;1568   	ibt._avg1/=ibt._avg_cnt;
;;;1569   	}
;;;1570   
;;;1571   
;;;1572   if(ibt._nd[0]!=0)
;;;1573   	{
;;;1574   	ibt._T_dispers[0]=0;
;;;1575   	}
;;;1576   else 
;;;1577   	{
;;;1578   	ibt._T_dispers[0]=abs(ibt._T[0]-ibt._avg1);
;;;1579   	}
;;;1580   
;;;1581   if(ibt._nd[1]!=0)
;;;1582   	{
;;;1583   	ibt._T_dispers[1]=0;
;;;1584   	}
;;;1585   else 
;;;1586   	{
;;;1587   	ibt._T_dispers[1]=abs(ibt._T[1]-ibt._avg1);
;;;1588   	}
;;;1589   
;;;1590   if(ibt._nd[2]!=0)
;;;1591   	{
;;;1592   	ibt._T_dispers[2]=0;
;;;1593   	}
;;;1594   else 
;;;1595   	{
;;;1596   	ibt._T_dispers[2]=abs(ibt._T[2]-ibt._avg1);
;;;1597   	}
;;;1598   
;;;1599   if(ibt._nd[3]!=0)
;;;1600   	{
;;;1601   	ibt._T_dispers[3]=0;
;;;1602   	}
;;;1603   else 
;;;1604   	{
;;;1605   	ibt._T_dispers[3]=abs(ibt._T[3]-ibt._avg1);
;;;1606   	}
;;;1607   
;;;1608   if(	ibt._nd[0]&&
;;;1609   	ibt._nd[1]&&
;;;1610   	ibt._nd[2]&&
;;;1611   	ibt._nd[3]
;;;1612   	)
;;;1613   	{
;;;1614   	t_box=(bps[0]._Ti);
;;;1615   	}
;;;1616   
;;;1617   else if(	ibt._nd[0]||
;;;1618   	ibt._nd[1]||
;;;1619   	ibt._nd[2]||
;;;1620   	ibt._nd[3]
;;;1621   	)
;;;1622   	{
;;;1623   	t_box=(ibt._avg1-273);
;;;1624   	}
;;;1625   else 
;;;1626   	{
;;;1627   	ibt._max_dispers_num=0;
;;;1628   	ibt._max_dispers=ibt._T_dispers[0];
;;;1629   
;;;1630   	if(ibt._T_dispers[1]>ibt._max_dispers)
;;;1631   		{
;;;1632   		ibt._max_dispers_num=1;
;;;1633   		ibt._max_dispers=ibt._T_dispers[1];
;;;1634   		}
;;;1635   	if(ibt._T_dispers[2]>ibt._max_dispers)
;;;1636   		{
;;;1637   		ibt._max_dispers_num=2;
;;;1638   		ibt._max_dispers=ibt._T_dispers[2];
;;;1639   		}
;;;1640   	if(ibt._T_dispers[3]>ibt._max_dispers)
;;;1641   		{
;;;1642   		ibt._max_dispers_num=3;
;;;1643   		ibt._max_dispers=ibt._T_dispers[3];
;;;1644   		}
;;;1645   
;;;1646   	ibt._avg2=0;
;;;1647   
;;;1648   	if(ibt._max_dispers_num!=0)
;;;1649   		{
;;;1650   		ibt._avg2+=ibt._T[0];
;;;1651   		}
;;;1652   	if(ibt._max_dispers_num!=1)
;;;1653   		{
;;;1654   		ibt._avg2+=ibt._T[1];
;;;1655   		}
;;;1656   	if(ibt._max_dispers_num!=2)
;;;1657   		{
;;;1658   		ibt._avg2+=ibt._T[2];
;;;1659   		}
;;;1660   	if(ibt._max_dispers_num!=3)
;;;1661   		{
;;;1662   		ibt._avg2+=ibt._T[3];
;;;1663   		}
;;;1664   
;;;1665   	t_box=(ibt._avg2/3)-273;
;;;1666   
;;;1667   	}*/
;;;1668   
;;;1669   
;;;1670   //*********************************************
;;;1671   
;;;1672   if((BAT_IS_ON[0]==bisON)&&(bat[0]._Ub>200)) Ibmax=bat[0]._Ib;
0011fe  4a34              LDR      r2,|L1.4816|
001200  7813              LDRB     r3,[r2,#0]  ; BAT_IS_ON
001202  2b55              CMP      r3,#0x55
001204  d103              BNE      |L1.4622|
001206  f1b90fc8          CMP      r9,#0xc8
00120a  dd00              BLE      |L1.4622|
00120c  86b9              STRH     r1,[r7,#0x34]
                  |L1.4622|
;;;1673   if((BAT_IS_ON[1]==bisON)&&(bat[1]._Ub>200)&&(bat[1]._Ib>bat[0]._Ib)) Ibmax=bat[1]._Ib;
00120e  7852              LDRB     r2,[r2,#1]  ; BAT_IS_ON
001210  2a55              CMP      r2,#0x55
001212  d108              BNE      |L1.4646|
001214  f9b6204e          LDRSH    r2,[r6,#0x4e]  ; bat
001218  2ac8              CMP      r2,#0xc8
00121a  dd04              BLE      |L1.4646|
00121c  f9b62054          LDRSH    r2,[r6,#0x54]  ; bat
001220  428a              CMP      r2,r1
001222  dd00              BLE      |L1.4646|
001224  86ba              STRH     r2,[r7,#0x34]
                  |L1.4646|
;;;1674   
;;;1675   //if((AUSW_MAIN==22063)||(AUSW_MAIN==22023)||(AUSW_MAIN==22043))Ibmax=Ib_ips_termokompensat;
;;;1676   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;1677   Ibmax=Ib_ips_termokompensat;
001226  86b9              STRH     r1,[r7,#0x34]
;;;1678   #endif
;;;1679   for(i=0;i<NUMIST;i++)
001228  f04f0300          MOV      r3,#0
00122c  4a29              LDR      r2,|L1.4820|
00122e  f9b25000          LDRSH    r5,[r2,#0]
001232  e070              B        |L1.4886|
                  |L1.4660|
;;;1680   	{
;;;1681   	if(bps[i]._cnt<25)
001234  ebc302c3          RSB      r2,r3,r3,LSL #3
001238  eb020242          ADD      r2,r2,r2,LSL #1
00123c  eb040282          ADD      r2,r4,r2,LSL #2
001240  78d7              LDRB     r7,[r2,#3]
001242  2f19              CMP      r7,#0x19
001244  d25d              BCS      |L1.4866|
;;;1682        	{
;;;1683        	bps[i]._Ii=bps[i]._buff[0]+(bps[i]._buff[1]*256);
001246  7997              LDRB     r7,[r2,#6]
001248  f892c007          LDRB     r12,[r2,#7]
00124c  eb07270c          ADD      r7,r7,r12,LSL #8
001250  6257              STR      r7,[r2,#0x24]
;;;1684        	bps[i]._Uin=bps[i]._buff[2]+(bps[i]._buff[3]*256);
001252  7a17              LDRB     r7,[r2,#8]
001254  f892c009          LDRB     r12,[r2,#9]
001258  eb07270c          ADD      r7,r7,r12,LSL #8
00125c  6217              STR      r7,[r2,#0x20]
;;;1685        	bps[i]._Uii=bps[i]._buff[4]+(bps[i]._buff[5]*256);
00125e  e03b              B        |L1.4824|
                  |L1.4704|
                          DCD      Kibat0
                  |L1.4708|
                          DCD      Kibat1
                  |L1.4712|
                          DCD      AUSW_MAIN
                  |L1.4716|
                          DCD      Ktbat
                  |L1.4720|
                          DCD      bat
                  |L1.4724|
                          DCD      Kuload
                  |L1.4728|
                          DCD      load_U
                  |L1.4732|
                          DCD      ND_EXT
                  |L1.4736|
                          DCD      Ktext
                  |L1.4740|
                          DCD      t_ext
                  |L1.4744|
                          DCD      bps
                  |L1.4748|
                          DCD      Ib_ips_termokompensat
                  |L1.4752|
                          DCD      ibat_metr_buff_
                  |L1.4756|
                          DCD      bIBAT_SMKLBR
                  |L1.4760|
                          DCD      adc_buff_ext_
                  |L1.4764|
                          DCD      Kunet_ext
                  |L1.4768|
                          DCD      Uvv
                  |L1.4772|
                          DCD      Uvv0
                  |L1.4776|
                          DCD      net_U
                  |L1.4780|
                          DCD      eb2_data_short
                  |L1.4784|
                          DCD      Kvv_eb2
                  |L1.4788|
                          DCD      Uvv_eb2
                  |L1.4792|
                          DCD      Kpes_eb2
                  |L1.4796|
                          DCD      Upes_eb2
                  |L1.4800|
                          DCD      ibt
                  |L1.4804|
                          DCD      t_box
                  |L1.4808|
                          DCD      t_ext_can_nd
                  |L1.4812|
                          DCD      t_ext_can
                  |L1.4816|
                          DCD      BAT_IS_ON
                  |L1.4820|
                          DCD      NUMIST
                  |L1.4824|
0012d8  7a97              LDRB     r7,[r2,#0xa]
0012da  f892c00b          LDRB     r12,[r2,#0xb]
0012de  eb07270c          ADD      r7,r7,r12,LSL #8
0012e2  61d7              STR      r7,[r2,#0x1c]
;;;1686        	bps[i]._Ti=(signed)(bps[i]._buff[6]);
0012e4  7b17              LDRB     r7,[r2,#0xc]
0012e6  6297              STR      r7,[r2,#0x28]
;;;1687        	bps[i]._adr_ee=bps[i]._buff[7];
0012e8  7b57              LDRB     r7,[r2,#0xd]
0012ea  f8827052          STRB     r7,[r2,#0x52]
;;;1688        	bps[i]._flags_tm=bps[i]._buff[8];
0012ee  7b97              LDRB     r7,[r2,#0xe]
0012f0  f8827042          STRB     r7,[r2,#0x42]
;;;1689   	     bps[i]._rotor=bps[i]._buff[10]+(bps[i]._buff[11]*256);    
0012f4  7c17              LDRB     r7,[r2,#0x10]
0012f6  f892c011          LDRB     r12,[r2,#0x11]
0012fa  eb07270c          ADD      r7,r7,r12,LSL #8
0012fe  64d7              STR      r7,[r2,#0x4c]
001300  e006              B        |L1.4880|
                  |L1.4866|
;;;1690        	} 
;;;1691   	else 
;;;1692        	{
;;;1693        	bps[i]._Uii=0; 
001302  61d0              STR      r0,[r2,#0x1c]
;;;1694        	bps[i]._Ii=0;
001304  6250              STR      r0,[r2,#0x24]
;;;1695        	bps[i]._Uin=0;
001306  6210              STR      r0,[r2,#0x20]
;;;1696        	bps[i]._Ti=0;
001308  6290              STR      r0,[r2,#0x28]
;;;1697        	bps[i]._flags_tm=0; 
00130a  f8820042          STRB     r0,[r2,#0x42]
;;;1698   	     bps[i]._rotor=0;    
00130e  64d0              STR      r0,[r2,#0x4c]
                  |L1.4880|
001310  f1030301          ADD      r3,r3,#1              ;1679
001314  b2db              UXTB     r3,r3                 ;1679
                  |L1.4886|
001316  42ab              CMP      r3,r5                 ;1679
001318  db8c              BLT      |L1.4660|
;;;1699        	}
;;;1700        
;;;1701        }
;;;1702   
;;;1703   
;;;1704   
;;;1705   load_I=-(bat[0]._Ib/10)-(bat[1]._Ib/10);
00131a  f04f020a          MOV      r2,#0xa
00131e  fb91f1f2          SDIV     r1,r1,r2
001322  f9b63054          LDRSH    r3,[r6,#0x54]  ; bat
001326  fb93f2f2          SDIV     r2,r3,r2
00132a  4411              ADD      r1,r1,r2
00132c  f1c10100          RSB      r1,r1,#0
001330  b20f              SXTH     r7,r1
001332  4eff              LDR      r6,|L1.5936|
001334  8037              STRH     r7,[r6,#0]
;;;1706   
;;;1707   Isumm=0;
001336  4bff              LDR      r3,|L1.5940|
001338  8018              STRH     r0,[r3,#0]
;;;1708   
;;;1709   for(i=0;i<NUMIST;i++)
00133a  f04f0100          MOV      r1,#0
00133e  e012              B        |L1.4966|
                  |L1.4928|
;;;1710        {
;;;1711        if(bps[i]._cnt<5)Isumm+=bps[i]._Ii;
001340  ebc102c1          RSB      r2,r1,r1,LSL #3
001344  eb020242          ADD      r2,r2,r2,LSL #1
001348  eb040282          ADD      r2,r4,r2,LSL #2
00134c  f892c003          LDRB     r12,[r2,#3]
001350  f1bc0f05          CMP      r12,#5
001354  d204              BCS      |L1.4960|
001356  6a52              LDR      r2,[r2,#0x24]
001358  f8b3c000          LDRH     r12,[r3,#0]  ; Isumm
00135c  4462              ADD      r2,r2,r12
00135e  801a              STRH     r2,[r3,#0]
                  |L1.4960|
001360  f1010101          ADD      r1,r1,#1              ;1709
001364  b2c9              UXTB     r1,r1                 ;1709
                  |L1.4966|
001366  42a9              CMP      r1,r5                 ;1709
001368  dbea              BLT      |L1.4928|
;;;1712        }  
;;;1713        
;;;1714   load_I=load_I+Isumm;
00136a  8819              LDRH     r1,[r3,#0]  ; Isumm
00136c  4439              ADD      r1,r1,r7
00136e  b209              SXTH     r1,r1
001370  8031              STRH     r1,[r6,#0]
;;;1715   if(load_I<0)load_I=0;
001372  2900              CMP      r1,#0
001374  da00              BGE      |L1.4984|
001376  8030              STRH     r0,[r6,#0]
                  |L1.4984|
;;;1716   
;;;1717   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;1718   load_I=0;
001378  8030              STRH     r0,[r6,#0]
;;;1719   
;;;1720   Isumm=0;
00137a  8018              STRH     r0,[r3,#0]
;;;1721   
;;;1722   for(i=0;i<NUMIST;i++)
00137c  f04f0100          MOV      r1,#0
001380  e00f              B        |L1.5026|
                  |L1.4994|
;;;1723        {
;;;1724        if(bps[i]._cnt<5)Isumm+=bps[i]._Ii;
001382  ebc102c1          RSB      r2,r1,r1,LSL #3
001386  eb020242          ADD      r2,r2,r2,LSL #1
00138a  eb040282          ADD      r2,r4,r2,LSL #2
00138e  78d7              LDRB     r7,[r2,#3]
001390  2f05              CMP      r7,#5
001392  d203              BCS      |L1.5020|
001394  6a52              LDR      r2,[r2,#0x24]
001396  881f              LDRH     r7,[r3,#0]  ; Isumm
001398  443a              ADD      r2,r2,r7
00139a  801a              STRH     r2,[r3,#0]
                  |L1.5020|
00139c  f1010101          ADD      r1,r1,#1              ;1722
0013a0  b2c9              UXTB     r1,r1                 ;1722
                  |L1.5026|
0013a2  42a9              CMP      r1,r5                 ;1722
0013a4  dbed              BLT      |L1.4994|
;;;1725        }  
;;;1726        
;;;1727   load_I=load_I+Isumm;
0013a6  881a              LDRH     r2,[r3,#0]  ; Isumm
0013a8  eb000102          ADD      r1,r0,r2
0013ac  b209              SXTH     r1,r1
0013ae  8031              STRH     r1,[r6,#0]
;;;1728   if(load_I<0)load_I=0;
0013b0  2900              CMP      r1,#0
0013b2  da00              BGE      |L1.5046|
0013b4  8030              STRH     r0,[r6,#0]
                  |L1.5046|
;;;1729   
;;;1730   #endif
;;;1731   
;;;1732   
;;;1733   
;;;1734   #ifdef UKU_GLONASS
;;;1735   inv[0]._Uio=6;
;;;1736   if (NUMINV)
;;;1737   	{
;;;1738   	for(i=0;i<NUMINV;i++)
;;;1739   		{
;;;1740   		if(bps[i+first_inv_slot]._cnt<25)
;;;1741        		{
;;;1742        		inv[i]._Ii=bps[i+first_inv_slot]._buff[0]+(bps[i+first_inv_slot]._buff[1]*256);
;;;1743        		inv[i]._Uin=bps[i+first_inv_slot]._buff[2]+(bps[i+first_inv_slot]._buff[3]*256);
;;;1744        		inv[i]._Uio=bps[i+first_inv_slot]._buff[4]+(bps[i+first_inv_slot]._buff[5]*256);
;;;1745        		inv[i]._Ti=(signed)(bps[i+first_inv_slot]._buff[6]);
;;;1746        		inv[i]._flags_tm=bps[i+first_inv_slot]._buff[8];
;;;1747   	    	//	inv[i]._rotor=bps[i+first_inv_slot]._buff[10]+(bps[i+first_inv_slot]._buff[11]*256);
;;;1748   			inv[i]._cnt=0;    
;;;1749        		} 
;;;1750   		else 
;;;1751        		{
;;;1752        		inv[i]._Uio=0; 
;;;1753        		inv[i]._Ii=0;
;;;1754        		inv[i]._Uin=0;
;;;1755        		inv[i]._Ti=0;
;;;1756        		inv[i]._flags_tm=0; 
;;;1757   //	     	inv[i]._rotor0;
;;;1758   			inv[i]._cnt=25;    
;;;1759        		}
;;;1760        	}
;;;1761      	}
;;;1762   #endif
;;;1763   
;;;1764   #ifndef UKU_GLONASS
;;;1765   if (NUMINV)
0013b6  49e0              LDR      r1,|L1.5944|
0013b8  f9b15000          LDRSH    r5,[r1,#0]  ; NUMINV
0013bc  2d00              CMP      r5,#0
0013be  d066              BEQ      |L1.5262|
;;;1766   	{
;;;1767   	for(i=0;i<NUMINV;i++)
0013c0  f04f0300          MOV      r3,#0
;;;1768   		{
;;;1769   		if(bps[i+20]._cnt<25)
;;;1770        		{
;;;1771        		inv[i]._Ii=bps[i+20]._buff[0]+(bps[i+20]._buff[1]*256);
0013c4  4edd              LDR      r6,|L1.5948|
0013c6  e060              B        |L1.5258|
                  |L1.5064|
0013c8  f1030114          ADD      r1,r3,#0x14           ;1769
0013cc  ebc101c1          RSB      r1,r1,r1,LSL #3       ;1769
0013d0  eb010141          ADD      r1,r1,r1,LSL #1       ;1769
0013d4  eb040181          ADD      r1,r4,r1,LSL #2       ;1769
0013d8  78ca              LDRB     r2,[r1,#3]            ;1769
0013da  2a19              CMP      r2,#0x19              ;1769
0013dc  d239              BCS      |L1.5202|
0013de  798a              LDRB     r2,[r1,#6]
0013e0  79cf              LDRB     r7,[r1,#7]
0013e2  eb022707          ADD      r7,r2,r7,LSL #8
0013e6  eb030243          ADD      r2,r3,r3,LSL #1
0013ea  eb061242          ADD      r2,r6,r2,LSL #5
0013ee  61d7              STR      r7,[r2,#0x1c]
;;;1772        		inv[i]._Pio=bps[i+20]._buff[2]+(bps[i+20]._buff[3]*256);
0013f0  7a0f              LDRB     r7,[r1,#8]
0013f2  f891c009          LDRB     r12,[r1,#9]
0013f6  eb07270c          ADD      r7,r7,r12,LSL #8
0013fa  62d7              STR      r7,[r2,#0x2c]
;;;1773        		inv[i]._Uio=bps[i+20]._buff[4]+(bps[i+20]._buff[5]*256);
0013fc  7a8f              LDRB     r7,[r1,#0xa]
0013fe  f891c00b          LDRB     r12,[r1,#0xb]
001402  eb07270c          ADD      r7,r7,r12,LSL #8
001406  6197              STR      r7,[r2,#0x18]
;;;1774        		inv[i]._Ti=(signed)(bps[i+20]._buff[6]);
001408  7b0f              LDRB     r7,[r1,#0xc]
00140a  6217              STR      r7,[r2,#0x20]
;;;1775        		inv[i]._flags_tm=bps[i+20]._buff[7];
00140c  7b4f              LDRB     r7,[r1,#0xd]
00140e  f8827046          STRB     r7,[r2,#0x46]
;;;1776        		inv[i]._Uin=bps[i+20]._buff[8]+(bps[i+20]._buff[9]*256);
001412  7b8f              LDRB     r7,[r1,#0xe]
001414  f891c00f          LDRB     r12,[r1,#0xf]
001418  eb07270c          ADD      r7,r7,r12,LSL #8
00141c  6297              STR      r7,[r2,#0x28]
;;;1777        		inv[i]._Uil=bps[i+20]._buff[10]+(bps[i+20]._buff[11]*256);
00141e  7c0f              LDRB     r7,[r1,#0x10]
001420  f891c011          LDRB     r12,[r1,#0x11]
001424  eb07270c          ADD      r7,r7,r12,LSL #8
001428  6257              STR      r7,[r2,#0x24]
;;;1778   			inv[i]._cnt=0;
00142a  7090              STRB     r0,[r2,#2]
;;;1779   			inv[i]._Uoutmin=bps[i+20]._buff[12]; 
00142c  7c8f              LDRB     r7,[r1,#0x12]
00142e  f8827059          STRB     r7,[r2,#0x59]
;;;1780   			inv[i]._Uoutmax=bps[i+20]._buff[13]; 
001432  7ccf              LDRB     r7,[r1,#0x13]
001434  f882705a          STRB     r7,[r2,#0x5a]
;;;1781   			inv[i]._Pnom=bps[i+20]._buff[14]; 
001438  7d0f              LDRB     r7,[r1,#0x14]
00143a  f8827058          STRB     r7,[r2,#0x58]
;;;1782   			inv[i]._net_contr_en=bps[i+20]._buff[15];
00143e  7d4f              LDRB     r7,[r1,#0x15]
001440  f882705b          STRB     r7,[r2,#0x5b]
;;;1783   			inv[i]._pwm_en=bps[i+20]._buff[16];  
001444  7d8f              LDRB     r7,[r1,#0x16]
001446  f882705c          STRB     r7,[r2,#0x5c]
;;;1784   			inv[i]._phase_mode=bps[i+20]._buff[17];  
00144a  7dc9              LDRB     r1,[r1,#0x17]
00144c  f882105d          STRB     r1,[r2,#0x5d]
001450  e018              B        |L1.5252|
                  |L1.5202|
;;;1785        		} 
;;;1786   		else 
;;;1787        		{
;;;1788         		inv[i]._Ii=0;
001452  eb030143          ADD      r1,r3,r3,LSL #1
001456  eb061141          ADD      r1,r6,r1,LSL #5
00145a  61c8              STR      r0,[r1,#0x1c]
;;;1789   			inv[i]._Pio=0;
00145c  62c8              STR      r0,[r1,#0x2c]
;;;1790   			inv[i]._Uio=0;
00145e  6188              STR      r0,[r1,#0x18]
;;;1791        		inv[i]._Ti=0;
001460  6208              STR      r0,[r1,#0x20]
;;;1792        		inv[i]._flags_tm=0; 
001462  f8810046          STRB     r0,[r1,#0x46]
;;;1793        		inv[i]._Uil=0;
001466  6248              STR      r0,[r1,#0x24]
;;;1794        		inv[i]._Uin=0;
001468  6288              STR      r0,[r1,#0x28]
;;;1795   			inv[i]._cnt=25; 
00146a  f04f0219          MOV      r2,#0x19
00146e  708a              STRB     r2,[r1,#2]
;;;1796   			inv[i]._Uoutmin=0; 
001470  f8810059          STRB     r0,[r1,#0x59]
;;;1797   			inv[i]._Uoutmax=0; 
001474  f881005a          STRB     r0,[r1,#0x5a]
;;;1798   			inv[i]._Pnom=0; 
001478  f8810058          STRB     r0,[r1,#0x58]
;;;1799   			inv[i]._net_contr_en=0;
00147c  f881005b          STRB     r0,[r1,#0x5b]
;;;1800   			inv[i]._pwm_en=0;   
001480  f881005c          STRB     r0,[r1,#0x5c]
                  |L1.5252|
001484  f1030301          ADD      r3,r3,#1              ;1767
001488  b2db              UXTB     r3,r3                 ;1767
                  |L1.5258|
00148a  42ab              CMP      r3,r5                 ;1767
00148c  db9c              BLT      |L1.5064|
                  |L1.5262|
;;;1801   			   
;;;1802        		}
;;;1803        	}
;;;1804      	}
;;;1805   #endif
;;;1806   
;;;1807   #ifdef GLADKOV
;;;1808   inv[0]._Ii=bps[4]._buff[0]+(bps[4]._buff[1]*256);
;;;1809   inv[0]._Pio=bps[4]._buff[2]+(bps[4]._buff[3]*256);
;;;1810   inv[0]._Uio=bps[4]._buff[4]+(bps[4]._buff[5]*256);
;;;1811   inv[0]._Ti=(signed)(bps[4]._buff[6]);
;;;1812   inv[0]._flags_tm=bps[4]._buff[7];
;;;1813   inv[0]._Uin=bps[4]._buff[8]+(bps[4]._buff[9]*256);
;;;1814   inv[0]._Uil=bps[4]._buff[10]+(bps[4]._buff[11]*256);
;;;1815   inv[0]._cnt=0;    
;;;1816   
;;;1817   inv[1]._Ii=bps[21]._buff[0]+(bps[21]._buff[1]*256);
;;;1818   inv[1]._Pio=bps[21]._buff[2]+(bps[21]._buff[3]*256);
;;;1819   inv[1]._Uio=bps[21]._buff[4]+(bps[21]._buff[5]*256);
;;;1820   inv[1]._Ti=(signed)(bps[21]._buff[6]);
;;;1821   inv[1]._flags_tm=bps[21]._buff[7];
;;;1822   inv[1]._Uin=bps[21]._buff[8]+(bps[21]._buff[9]*256);
;;;1823   inv[1]._Uil=bps[21]._buff[10]+(bps[21]._buff[11]*256);
;;;1824   inv[1]._cnt=0;    
;;;1825   #endif
;;;1826   
;;;1827   /*
;;;1828   if((BAT_IS_ON[0]==bisON)&&(BAT_TYPE==1))
;;;1829   	{
;;;1830   	lakb[0]._battCommState=0;
;;;1831   	if(lakb[0]._cnt>10)lakb[0]._battCommState=2;
;;;1832   	else if(lakb[0]._bRS485ERR==1)lakb[0]._battCommState=1;
;;;1833   	
;;;1834   	if(lakb[0]._battCommState==0)
;;;1835   		{	
;;;1836   		bat[0]._Ub=(signed short)((lakb[0]._tot_bat_volt+5)/10);
;;;1837   		bat[0]._Ib=(signed short)lakb[0]._ch_curr;
;;;1838   		if(lakb[0]._dsch_curr) bat[0]._Ib=(signed short) (-lakb[0]._dsch_curr);
;;;1839   		bat[0]._Tb=(signed short)lakb[0]._max_cell_temp;
;;;1840   		}
;;;1841   	}
;;;1842   */
;;;1843   
;;;1844   #ifdef UKU_TELECORE2015
;;;1845   
;;;1846   	lakb[0]._ch_curr/*temp_SS*/=((ascii2halFhex(sacredSunBatteryInBuff[113]))<<12)+
;;;1847   						((ascii2halFhex(sacredSunBatteryInBuff[114]))<<8)+
;;;1848   						((ascii2halFhex(sacredSunBatteryInBuff[115]))<<4)+
;;;1849   						((ascii2halFhex(sacredSunBatteryInBuff[116])));
;;;1850   	
;;;1851   	/*if(temp_SS&0x8000)		lakb[0]._ch_curr=~temp_SS;
;;;1852   	else 				lakb[0]._ch_curr=temp_SS;*/
;;;1853   
;;;1854   	lakb[0]._tot_bat_volt=	(unsigned short)(((ascii2halFhex(sacredSunBatteryInBuff[117]))<<12)+
;;;1855   						((ascii2halFhex(sacredSunBatteryInBuff[118]))<<8)+
;;;1856   						((ascii2halFhex(sacredSunBatteryInBuff[119]))<<4)+
;;;1857   						((ascii2halFhex(sacredSunBatteryInBuff[120]))))/100;
;;;1858   
;;;1859   	lakb[0]._max_cell_temp= 	(((ascii2halFhex(sacredSunBatteryInBuff[93]))<<12)+
;;;1860   						((ascii2halFhex(sacredSunBatteryInBuff[94]))<<8)+
;;;1861   						((ascii2halFhex(sacredSunBatteryInBuff[95]))<<4)+
;;;1862   						((ascii2halFhex(sacredSunBatteryInBuff[96]))))/10-273;
;;;1863   
;;;1864   	lakb[0]._s_o_c_abs=		(unsigned short)((ascii2halFhex(sacredSunBatteryInBuff[121]))<<12)+
;;;1865   						((ascii2halFhex(sacredSunBatteryInBuff[122]))<<8)+
;;;1866   						((ascii2halFhex(sacredSunBatteryInBuff[123]))<<4)+
;;;1867   						((ascii2halFhex(sacredSunBatteryInBuff[124])));
;;;1868   
;;;1869   	lakb[0]._rat_cap=		(unsigned short)((ascii2halFhex(sacredSunBatteryInBuff[127]))<<12)+
;;;1870   						((ascii2halFhex(sacredSunBatteryInBuff[128]))<<8)+
;;;1871   						((ascii2halFhex(sacredSunBatteryInBuff[129]))<<4)+
;;;1872   						((ascii2halFhex(sacredSunBatteryInBuff[130])));
;;;1873   
;;;1874   	lakb[0]._s_o_c=		lakb[0]._s_o_c_abs/(lakb[0]._rat_cap/100);
;;;1875   
;;;1876   
;;;1877   /*	lakb[0]._rat_cap= (lakb_damp[i][13]*256)+ lakb_damp[i][14];
;;;1878   	lakb[0]._max_cell_volt= (lakb_damp[i][0]*256)+ lakb_damp[i][1];
;;;1879   	lakb[0]._min_cell_volt= (lakb_damp[i][2]*256)+ lakb_damp[i][3];
;;;1880   	lakb[0]._max_cell_temp= lakb_damp[i][4];
;;;1881   	lakb[0]._min_cell_temp= lakb_damp[i][5];
;;;1882   	lakb[0]._tot_bat_volt= (lakb_damp[i][6]*256)+ lakb_damp[i][7];
;;;1883   	lakb[0]._ch_curr= (lakb_damp[i][8]*256)+ lakb_damp[i][8];
;;;1884   	lakb[0]._dsch_curr= (lakb_damp[i][10]*256)+ lakb_damp[i][11];
;;;1885   	lakb[0]._s_o_c= lakb_damp[i][12];
;;;1886   	lakb[0]._r_b_t= lakb_damp[i][15];
;;;1887   	lakb[0]._c_c_l_v= (lakb_damp[i][16]*256)+ lakb_damp[i][17];
;;;1888   	lakb[0]._s_o_h= lakb_damp[i][18];
;;;1889   
;;;1890   	if(lakb[i]._rat_cap==0)
;;;1891   		{
;;;1892   		if(lakb[i]._isOnCnt)
;;;1893   			{
;;;1894   			lakb[i]._isOnCnt--;
;;;1895   			if(lakb[i]._isOnCnt==0)
;;;1896   				{
;;;1897   				if(lakb[i]._battIsOn!=0) bLAKB_KONF_CH=1;
;;;1898   				}
;;;1899   			}
;;;1900   		}
;;;1901   	else 
;;;1902   		{
;;;1903   		if(lakb[i]._isOnCnt<50)
;;;1904   			{
;;;1905   			lakb[i]._isOnCnt++;
;;;1906   			if(lakb[i]._isOnCnt==50)
;;;1907   				{
;;;1908   				if(lakb[i]._battIsOn!=1) bLAKB_KONF_CH=1;
;;;1909   				}
;;;1910   			}
;;;1911   		}
;;;1912   	gran(&lakb[i]._isOnCnt,0,50);*/
;;;1913   
;;;1914   	
;;;1915   if(sacredSunSilentCnt<3) 
;;;1916   	{
;;;1917       	bat[0]._Ub=lakb[0]._tot_bat_volt;
;;;1918       	bat[0]._Tb=lakb[0]._max_cell_temp;
;;;1919      	bat[0]._Ib=lakb[0]._ch_curr/10;
;;;1920   	}
;;;1921   else 
;;;1922   	{
;;;1923       	//bat[0]._Ub=0;
;;;1924       	//bat[0]._Tb=0;
;;;1925      	//bat[0]._Ib=0;
;;;1926   	}
;;;1927   
;;;1928   if(BAT_TYPE==1)
;;;1929   	{
;;;1930   	char i;
;;;1931   	for(i=0;i<1;i++)
;;;1932   		{
;;;1933   		lakb[i]._rat_cap= (lakb_damp[i][13]*256)+ lakb_damp[i][14];
;;;1934   		lakb[i]._max_cell_volt= (lakb_damp[i][0]*256)+ lakb_damp[i][1];
;;;1935   		lakb[i]._min_cell_volt= (lakb_damp[i][2]*256)+ lakb_damp[i][3];
;;;1936   		lakb[i]._max_cell_temp= lakb_damp[i][4];
;;;1937   		lakb[i]._min_cell_temp= lakb_damp[i][5];
;;;1938   		lakb[i]._tot_bat_volt= (lakb_damp[i][6]*256)+ lakb_damp[i][7];
;;;1939   		lakb[i]._ch_curr= (lakb_damp[i][8]*256)+ lakb_damp[i][9];
;;;1940   		lakb[i]._dsch_curr= (lakb_damp[i][10]*256)+ lakb_damp[i][11];
;;;1941   		lakb[i]._s_o_c= lakb_damp[i][12];
;;;1942   		lakb[i]._r_b_t= lakb_damp[i][15];
;;;1943   		lakb[i]._c_c_l_v= (lakb_damp[i][16]*256)+ lakb_damp[i][17];
;;;1944   		lakb[i]._s_o_h= lakb_damp[i][18];
;;;1945   		lakb[i]._flags1= lakb_damp[i][34];
;;;1946   		lakb[i]._flags2= lakb_damp[i][35];
;;;1947   		lakb[i]._b_p_ser_num= lakb_damp[i][36];
;;;1948   
;;;1949   /*		if(lakb[i]._rat_cap==0)
;;;1950   			{
;;;1951   			if(lakb[i]._isOnCnt)
;;;1952   				{
;;;1953   				lakb[i]._isOnCnt--;
;;;1954   				if(lakb[i]._isOnCnt==0)
;;;1955   					{
;;;1956   					if(lakb[i]._battIsOn!=0) bLAKB_KONF_CH=1;
;;;1957   					}
;;;1958   				}
;;;1959   			}
;;;1960   		else 
;;;1961   			{
;;;1962   			if(lakb[i]._isOnCnt<50)
;;;1963   				{
;;;1964   				lakb[i]._isOnCnt++;
;;;1965   				if(lakb[i]._isOnCnt==50)
;;;1966   					{
;;;1967   					if(lakb[i]._battIsOn!=1) bLAKB_KONF_CH=1;
;;;1968   					}
;;;1969   				}
;;;1970   			} */
;;;1971   		gran(&lakb[i]._isOnCnt,0,50);
;;;1972   	 	}
;;;1973   
;;;1974   	if(lakb_damp[0][41]==100)
;;;1975   		{
;;;1976   		li_bat._485Error=1;
;;;1977   		}
;;;1978   	if(lakb_damp[0][41]==0)
;;;1979   		{
;;;1980   		//if(bRS485ERR)bLAKB_KONF_CH=1;
;;;1981   		li_bat._485Error=0;
;;;1982   		}
;;;1983   	li_bat._485ErrorCnt=lakb_damp[0][41];
;;;1984   
;;;1985   
;;;1986   	}
;;;1987   
;;;1988   
;;;1989   #endif
;;;1990   
;;;1991   
;;;1992   #ifdef UKU_TELECORE2015
;;;1993   //   
;;;1994   //TODO          
;;;1995   li_bat._batStat=bsOK;
;;;1996   if(BAT_TYPE==1) //COSLIGHT
;;;1997   	{
;;;1998   	if(li_bat._batStat==bsOK)
;;;1999   		{
;;;2000   		li_bat._Ub=lakb[0]._tot_bat_volt/10;
;;;2001   
;;;2002   		if(lakb[0]._ch_curr)li_bat._Ib=lakb[0]._ch_curr/10;
;;;2003   		else if(lakb[0]._dsch_curr) li_bat._Ib=bat[0]._Ib/10;//lakb[0]._dsch_curr/10;
;;;2004   	
;;;2005   		li_bat._ratCap=lakb[0]._rat_cap/100;
;;;2006   		li_bat._soc=lakb[0]._s_o_c;
;;;2007   		li_bat._soh=lakb[0]._s_o_h;
;;;2008   		li_bat._cclv=lakb[0]._c_c_l_v/10;
;;;2009   		li_bat._Tb=lakb[0]._max_cell_temp;
;;;2010   		li_bat._rbt=lakb[0]._r_b_t;
;;;2011   		}
;;;2012   	else 
;;;2013   		{
;;;2014   		li_bat._Ub=bat[0]._Ub;
;;;2015   		li_bat._Ib=bat[0]._Ib/10;
;;;2016   		li_bat._Tb=bat[0]._Tb;
;;;2017   		}
;;;2018   
;;;2019   	if((li_bat._485Error)||(li_bat._canError))
;;;2020   		{
;;;2021   		li_bat._batStat=bsOFF;
;;;2022   		}
;;;2023   	else li_bat._batStat=bsOK;
;;;2024   	}
;;;2025   #endif
;;;2026   
;;;2027   
;;;2028   /*
;;;2029   if((BAT_IS_ON[0]==bisON)&&(BAT_TYPE[0]==1)&&(BAT_LINK==0))
;;;2030   	{
;;;2031   
;;;2032   
;;;2033   	if(bat_drv_rx_buff[13]<=0x39)bbb[0]=bat_drv_rx_buff[13]-0x30;
;;;2034   	else bbb[0]=bat_drv_rx_buff[13]-55;
;;;2035   	if(bat_drv_rx_buff[14]<=0x39)bbb[1]=bat_drv_rx_buff[14]-0x30;
;;;2036   	else bbb[1]=bat_drv_rx_buff[14]-55;
;;;2037   	if(bat_drv_rx_buff[15]<=0x39)bbb[2]=bat_drv_rx_buff[15]-0x30;
;;;2038   	else bbb[2]=bat_drv_rx_buff[15]-55;
;;;2039   	if(bat_drv_rx_buff[16]<=0x39)bbb[3]=bat_drv_rx_buff[16]-0x30;
;;;2040   	else bbb[3]=bat_drv_rx_buff[16]-55;
;;;2041   
;;;2042   	tempSS=0;
;;;2043   	tempSS=((bbb[0]*4096)+(bbb[1]*256)+(bbb[2]*16)+bbb[3]);
;;;2044   
;;;2045   	bat[0]._max_cell_volt=(tempSS+5)/10;
;;;2046   
;;;2047   	if(bat_drv_rx_buff[17]<=0x39)bbb[0]=bat_drv_rx_buff[17]-0x30;
;;;2048   	else bbb[0]=bat_drv_rx_buff[17]-55;
;;;2049   	if(bat_drv_rx_buff[18]<=0x39)bbb[1]=bat_drv_rx_buff[18]-0x30;
;;;2050   	else bbb[1]=bat_drv_rx_buff[18]-55;
;;;2051   	if(bat_drv_rx_buff[19]<=0x39)bbb[2]=bat_drv_rx_buff[19]-0x30;
;;;2052   	else bbb[2]=bat_drv_rx_buff[19]-55;
;;;2053   	if(bat_drv_rx_buff[20]<=0x39)bbb[3]=bat_drv_rx_buff[20]-0x30;
;;;2054   	else bbb[3]=bat_drv_rx_buff[20]-55;
;;;2055   
;;;2056   	tempSS=0;
;;;2057   	tempSS=((bbb[0]*4096)+(bbb[1]*256)+(bbb[2]*16)+bbb[3]);
;;;2058   
;;;2059   	bat[0]._min_cell_volt=(tempSS+5)/10;
;;;2060   
;;;2061   
;;;2062   	}*/
;;;2063   
;;;2064   
;;;2065   
;;;2066   }
00148e  e8bd9ffc          POP      {r2-r12,pc}
;;;2067   
                          ENDP

                  mnemo_hndl PROC
;;;2068   //-----------------------------------------------
;;;2069   void mnemo_hndl(void)
001492  4aab              LDR      r2,|L1.5952|
;;;2070   {
;;;2071   if(((ind==iMn_220)||(ind==iMn))&&(sub_ind==0)&&(MNEMO_ON==mnON))
;;;2072   	{
;;;2073   	if(mnemo_cnt)mnemo_cnt--;
001494  49ab              LDR      r1,|L1.5956|
001496  7810              LDRB     r0,[r2,#0]            ;2071  ; a_ind
001498  2804              CMP      r0,#4                 ;2071
00149a  d001              BEQ      |L1.5280|
00149c  2801              CMP      r0,#1                 ;2071
00149e  d105              BNE      |L1.5292|
                  |L1.5280|
0014a0  7850              LDRB     r0,[r2,#1]            ;2071  ; a_ind
0014a2  b918              CBNZ     r0,|L1.5292|
0014a4  48a8              LDR      r0,|L1.5960|
0014a6  7800              LDRB     r0,[r0,#0]            ;2071  ; MNEMO_ON
0014a8  2855              CMP      r0,#0x55              ;2071
0014aa  d003              BEQ      |L1.5300|
                  |L1.5292|
;;;2074   	}
;;;2075   else mnemo_cnt=MNEMO_TIME;
0014ac  48a7              LDR      r0,|L1.5964|
0014ae  8800              LDRH     r0,[r0,#0]  ; MNEMO_TIME
0014b0  7008              STRB     r0,[r1,#0]
                  |L1.5298|
;;;2076   }
0014b2  4770              BX       lr
                  |L1.5300|
0014b4  7808              LDRB     r0,[r1,#0]            ;2073  ; mnemo_cnt
0014b6  2800              CMP      r0,#0                 ;2073
0014b8  d0fb              BEQ      |L1.5298|
0014ba  f1a00001          SUB      r0,r0,#1              ;2073
0014be  7008              STRB     r0,[r1,#0]            ;2073
0014c0  4770              BX       lr
;;;2077   
                          ENDP

                  adc_init PROC
;;;2078   //-----------------------------------------------
;;;2079   void adc_init(void)
0014c2  48a3              LDR      r0,|L1.5968|
;;;2080   {
;;;2081   
;;;2082   SET_REG(LPC_PINCON->PINSEL1,1,(25-16)*2,2);
0014c4  6841              LDR      r1,[r0,#4]
0014c6  f4212140          BIC      r1,r1,#0xc0000
0014ca  f4412180          ORR      r1,r1,#0x40000
0014ce  6041              STR      r1,[r0,#4]
;;;2083   SET_REG(LPC_PINCON->PINSEL1,1,(24-16)*2,2);
0014d0  6841              LDR      r1,[r0,#4]
0014d2  f4213140          BIC      r1,r1,#0x30000
0014d6  f4413180          ORR      r1,r1,#0x10000
0014da  6041              STR      r1,[r0,#4]
;;;2084   SET_REG(LPC_PINCON->PINSEL1,1,(23-16)*2,2);
0014dc  6841              LDR      r1,[r0,#4]
0014de  f4214140          BIC      r1,r1,#0xc000
0014e2  f4414180          ORR      r1,r1,#0x4000
0014e6  6041              STR      r1,[r0,#4]
;;;2085   
;;;2086   
;;;2087   SET_REG(LPC_PINCON->PINMODE1,2,(25-16)*2,2);
0014e8  6c41              LDR      r1,[r0,#0x44]
0014ea  f4212140          BIC      r1,r1,#0xc0000
0014ee  f4412100          ORR      r1,r1,#0x80000
0014f2  6441              STR      r1,[r0,#0x44]
;;;2088   SET_REG(LPC_PINCON->PINMODE1,2,(24-16)*2,2);
0014f4  6c41              LDR      r1,[r0,#0x44]
0014f6  f4213140          BIC      r1,r1,#0x30000
0014fa  f4413100          ORR      r1,r1,#0x20000
0014fe  6441              STR      r1,[r0,#0x44]
;;;2089   SET_REG(LPC_PINCON->PINMODE1,2,(23-16)*2,2);
001500  6c41              LDR      r1,[r0,#0x44]
001502  f4214140          BIC      r1,r1,#0xc000
001506  f4414100          ORR      r1,r1,#0x8000
00150a  6441              STR      r1,[r0,#0x44]
;;;2090   
;;;2091   SET_REG(LPC_ADC->ADCR,0,24,3);
00150c  4891              LDR      r0,|L1.5972|
00150e  6801              LDR      r1,[r0,#0]
001510  f02161e0          BIC      r1,r1,#0x7000000
001514  6001              STR      r1,[r0,#0]
;;;2092   
;;;2093   SET_REG(LPC_ADC->ADCR,1,21,1);
001516  6801              LDR      r1,[r0,#0]
001518  f4411100          ORR      r1,r1,#0x200000
00151c  6001              STR      r1,[r0,#0]
;;;2094   SET_REG(LPC_ADC->ADCR,0,16,1);
00151e  6801              LDR      r1,[r0,#0]
001520  f4213180          BIC      r1,r1,#0x10000
001524  6001              STR      r1,[r0,#0]
;;;2095   SET_REG(LPC_ADC->ADCR,1,8,8);
001526  6801              LDR      r1,[r0,#0]
001528  f421417f          BIC      r1,r1,#0xff00
00152c  f4417180          ORR      r1,r1,#0x100
001530  6001              STR      r1,[r0,#0]
;;;2096   
;;;2097   //SET_REG(LPC_GPIO0->FIODIR,7,5,3);
;;;2098   //SET_REG(LPC_GPIO0->FIOPIN,4,5,3);
;;;2099   	
;;;2100   	/*if(adc_ch<=7)*///SET_REG(LPC_ADC->ADCR,1<<5,0,8);
;;;2101        /*else if(adc_ch==8) SET_REG(LPC_ADC->ADCR,1<<2,0,8);
;;;2102        else SET_REG(LPC_ADC->ADCR,1<<4,0,8);*/
;;;2103   
;;;2104   LPC_ADC->ADINTEN     =  (1<< 8);      /* global enable interrupt            */
001532  f44f7180          MOV      r1,#0x100
001536  60c1              STR      r1,[r0,#0xc]
001538  4887              LDR      r0,|L1.5976|
00153a  f44f0180          MOV      r1,#0x400000
00153e  6001              STR      r1,[r0,#0]
;;;2105   
;;;2106   NVIC_EnableIRQ(ADC_IRQn);             /* enable ADC Interrupt               */
;;;2107   
;;;2108   
;;;2109   }
001540  4770              BX       lr
;;;2110   
                          ENDP

                  adc_drv7 PROC
;;;2111   //-----------------------------------------------
;;;2112   void adc_drv7(void) //(U - )
001542  e92d41f0          PUSH     {r4-r8,lr}
;;;2113   {
;;;2114   //int temp_S;
;;;2115   //char i;
;;;2116   //signed short temp_SS;
;;;2117   
;;;2118   adc_self_ch_disp[0]=abs_pal(adc_self_ch_buff[1]-adc_self_ch_buff[0]);//adc_self_ch_buff[0]&0x0f80;
001546  4c85              LDR      r4,|L1.5980|
001548  8860              LDRH     r0,[r4,#2]  ; adc_self_ch_buff
00154a  8821              LDRH     r1,[r4,#0]  ; adc_self_ch_buff
00154c  1a40              SUBS     r0,r0,r1
00154e  b200              SXTH     r0,r0
001550  f7fffffe          BL       abs_pal
001554  1da6              ADDS     r6,r4,#6
001556  8030              STRH     r0,[r6,#0]
;;;2119   adc_self_ch_disp[1]=abs_pal(adc_self_ch_buff[2]-adc_self_ch_buff[1]);//adc_self_ch_buff[1]&0x0f80;
001558  88a0              LDRH     r0,[r4,#4]  ; adc_self_ch_buff
00155a  8861              LDRH     r1,[r4,#2]  ; adc_self_ch_buff
00155c  1a40              SUBS     r0,r0,r1
00155e  b200              SXTH     r0,r0
001560  f7fffffe          BL       abs_pal
001564  8070              STRH     r0,[r6,#2]
;;;2120   adc_self_ch_disp[2]=abs_pal(adc_self_ch_buff[2]-adc_self_ch_buff[0]);//adc_self_ch_buff[2]&0x0f80;
001566  88a0              LDRH     r0,[r4,#4]  ; adc_self_ch_buff
001568  8821              LDRH     r1,[r4,#0]  ; adc_self_ch_buff
00156a  1a40              SUBS     r0,r0,r1
00156c  b200              SXTH     r0,r0
00156e  f7fffffe          BL       abs_pal
001572  80b0              STRH     r0,[r6,#4]
;;;2121   
;;;2122   //adc_self_ch_disp[0]=adc_self_ch_buff[0]&0x0ff0;
;;;2123   //adc_self_ch_disp[1]=adc_self_ch_buff[1]&0x0ff0;
;;;2124   //adc_self_ch_disp[2]=adc_self_ch_buff[2]&0x0ff0;
;;;2125   
;;;2126   
;;;2127   if(adc_self_ch_disp[2]<300)//==adc_self_ch_disp[2])
001574  f44f7196          MOV      r1,#0x12c
;;;2128   	{
;;;2129   	adc_result=adc_self_ch_buff[2];
001578  f1a4058a          SUB      r5,r4,#0x8a
00157c  4288              CMP      r0,r1                 ;2127
00157e  da02              BGE      |L1.5510|
001580  88a0              LDRH     r0,[r4,#4]  ; adc_self_ch_buff
001582  84e8              STRH     r0,[r5,#0x26]
001584  e00c              B        |L1.5536|
                  |L1.5510|
;;;2130   	} 
;;;2131   else if(adc_self_ch_disp[1]<300)//==adc_self_ch_disp[2])
001586  f9b60002          LDRSH    r0,[r6,#2]  ; adc_self_ch_disp
00158a  4288              CMP      r0,r1
00158c  da02              BGE      |L1.5524|
;;;2132   	{
;;;2133   	adc_result=adc_self_ch_buff[1];
00158e  8860              LDRH     r0,[r4,#2]  ; adc_self_ch_buff
001590  84e8              STRH     r0,[r5,#0x26]
001592  e005              B        |L1.5536|
                  |L1.5524|
;;;2134   	}
;;;2135   else if(adc_self_ch_disp[0]<300)//==adc_self_ch_disp[1])
001594  f9b60000          LDRSH    r0,[r6,#0]  ; adc_self_ch_disp
001598  4288              CMP      r0,r1
00159a  da01              BGE      |L1.5536|
;;;2136   	{
;;;2137   	adc_result=adc_self_ch_buff[0];
00159c  8820              LDRH     r0,[r4,#0]  ; adc_self_ch_buff
00159e  84e8              STRH     r0,[r5,#0x26]
                  |L1.5536|
;;;2138   	}
;;;2139       //adc_result=92;
;;;2140   
;;;2141   if(adc_ch_net)
0015a0  78af              LDRB     r7,[r5,#2]  ; adc_ch_net
0015a2  2600              MOVS     r6,#0
0015a4  b32f              CBZ      r7,|L1.5618|
;;;2142   	{
;;;2143   
;;;2144   	main_power_buffer[0]+=(long)(adc_result);
0015a6  486e              LDR      r0,|L1.5984|
0015a8  f9b51026          LDRSH    r1,[r5,#0x26]  ; adc_result
0015ac  6802              LDR      r2,[r0,#0]  ; main_power_buffer
0015ae  440a              ADD      r2,r2,r1
0015b0  6002              STR      r2,[r0,#0]  ; main_power_buffer
;;;2145   	main_power_buffer[1]+=(long)(adc_result);
0015b2  6842              LDR      r2,[r0,#4]  ; main_power_buffer
0015b4  440a              ADD      r2,r2,r1
0015b6  6042              STR      r2,[r0,#4]  ; main_power_buffer
;;;2146   	main_power_buffer[2]+=(long)(adc_result);
0015b8  6882              LDR      r2,[r0,#8]  ; main_power_buffer
0015ba  440a              ADD      r2,r2,r1
0015bc  6082              STR      r2,[r0,#8]  ; main_power_buffer
;;;2147   	main_power_buffer[3]+=(long)(adc_result);
0015be  68c2              LDR      r2,[r0,#0xc]  ; main_power_buffer
0015c0  4411              ADD      r1,r1,r2
0015c2  60c1              STR      r1,[r0,#0xc]  ; main_power_buffer
;;;2148   
;;;2149   	adc_net_buff_cnt++;
0015c4  8de9              LDRH     r1,[r5,#0x2e]  ; adc_net_buff_cnt
0015c6  f1010101          ADD      r1,r1,#1
0015ca  b209              SXTH     r1,r1
0015cc  85e9              STRH     r1,[r5,#0x2e]
;;;2150   	if(adc_net_buff_cnt>=0x1000)
0015ce  f5b15f80          CMP      r1,#0x1000
0015d2  db00              BLT      |L1.5590|
;;;2151   		{
;;;2152   		adc_net_buff_cnt=0;
0015d4  85ee              STRH     r6,[r5,#0x2e]
                  |L1.5590|
;;;2153   		}
;;;2154   	if((adc_net_buff_cnt&0x03ff)==0)
0015d6  f9b5102e          LDRSH    r1,[r5,#0x2e]  ; adc_net_buff_cnt
0015da  058a              LSLS     r2,r1,#22
0015dc  d131              BNE      |L1.5698|
;;;2155   		{
;;;2156   		#ifdef UKU_220
;;;2157   		net_buff_=(short)((main_power_buffer[adc_net_buff_cnt>>10])>>11);
;;;2158   		#else
;;;2159   		#ifdef UKU_220_V2
;;;2160   		net_buff_=(short)((main_power_buffer[adc_net_buff_cnt>>10])>>11);
;;;2161   		#else
;;;2162   		net_buff_=(short)((main_power_buffer[adc_net_buff_cnt>>10])>>8);
0015de  ea4f21a1          ASR      r1,r1,#10
0015e2  f8502021          LDR      r2,[r0,r1,LSL #2]
0015e6  ea4f2222          ASR      r2,r2,#8
0015ea  84aa              STRH     r2,[r5,#0x24]
;;;2163   		#endif
;;;2164   		#endif
;;;2165   		main_power_buffer[adc_net_buff_cnt>>10]=0;
0015ec  f8406021          STR      r6,[r0,r1,LSL #2]
0015f0  e027              B        |L1.5698|
                  |L1.5618|
;;;2166   		}
;;;2167   
;;;2168   
;;;2169   	} 
;;;2170   else if(!adc_ch_net)
;;;2171   	{
;;;2172   	adc_buff[adc_ch][adc_ch_cnt]=(long)adc_result;
0015f2  485c              LDR      r0,|L1.5988|
0015f4  78ec              LDRB     r4,[r5,#3]  ; adc_ch
0015f6  792a              LDRB     r2,[r5,#4]  ; adc_ch_cnt
0015f8  eb001384          ADD      r3,r0,r4,LSL #6
0015fc  f9b51026          LDRSH    r1,[r5,#0x26]  ; adc_result
001600  f8431022          STR      r1,[r3,r2,LSL #2]
;;;2173   	
;;;2174   	if((adc_ch_cnt&0x03)==0)
001604  0790              LSLS     r0,r2,#30
001606  d10f              BNE      |L1.5672|
;;;2175   		{
;;;2176   		long temp_L;
;;;2177   		char i;
;;;2178   		temp_L=0;
001608  4601              MOV      r1,r0
                  |L1.5642|
;;;2179   		for(i=0;i<16;i++)
;;;2180   			{
;;;2181   			temp_L+=adc_buff[adc_ch][i];
00160a  f853c020          LDR      r12,[r3,r0,LSL #2]
00160e  4461              ADD      r1,r1,r12
001610  f1000001          ADD      r0,r0,#1              ;2179
001614  b2c0              UXTB     r0,r0                 ;2179
001616  2810              CMP      r0,#0x10              ;2179
001618  d3f7              BCC      |L1.5642|
;;;2182   			}
;;;2183   		adc_buff_[adc_ch]= (short)(temp_L>>4);
00161a  ea4f1021          ASR      r0,r1,#4
00161e  4950              LDR      r1,|L1.5984|
001620  f1a10120          SUB      r1,r1,#0x20
001624  f8210014          STRH     r0,[r1,r4,LSL #1]
                  |L1.5672|
;;;2184   
;;;2185   		//adc_buff_[3]=346;
;;;2186   		}
;;;2187   	if(++adc_ch>=16) 
001628  1c64              ADDS     r4,r4,#1
00162a  b2e0              UXTB     r0,r4
00162c  70e8              STRB     r0,[r5,#3]
00162e  2810              CMP      r0,#0x10
001630  d307              BCC      |L1.5698|
;;;2188   		{
;;;2189   		adc_ch=0;
001632  70ee              STRB     r6,[r5,#3]
;;;2190   		adc_ch_cnt++;
001634  f1020201          ADD      r2,r2,#1
001638  b2d0              UXTB     r0,r2
00163a  7128              STRB     r0,[r5,#4]
;;;2191   		if(adc_ch_cnt>=16)adc_ch_cnt=0;
00163c  2810              CMP      r0,#0x10
00163e  d300              BCC      |L1.5698|
001640  712e              STRB     r6,[r5,#4]
                  |L1.5698|
;;;2192   		}
;;;2193   	}
;;;2194   
;;;2195   //adc_buff[adc_ch][adc_cnt1]=(adc_self_ch_buff[2]+adc_self_ch_buff[1])/2;
;;;2196   
;;;2197   //if(adc_buff[adc_ch][adc_cnt1]<adc_buff_min[adc_ch])adc_buff_min[adc_ch]=adc_buff[adc_ch][adc_cnt1];
;;;2198   //if(adc_buff[adc_ch][adc_cnt1]>adc_buff_max[adc_ch])adc_buff_max[adc_ch]=adc_buff[adc_ch][adc_cnt1];
;;;2199   /*
;;;2200   	{
;;;2201   	if((adc_cnt1&0x03)==0)
;;;2202   		{
;;;2203   		temp_S=0;
;;;2204   		for(i=0;i<16;i++)
;;;2205   			{
;;;2206   			temp_S+=adc_buff[adc_ch][i];
;;;2207   			} 
;;;2208            	adc_buff_[adc_ch]=temp_S>>4;
;;;2209             }
;;;2210   	}*/
;;;2211   
;;;2212   
;;;2213   		  
;;;2214   
;;;2215   adc_self_ch_cnt=0;
001642  706e              STRB     r6,[r5,#1]
;;;2216   
;;;2217   adc_ch_net++;
001644  f1070701          ADD      r7,r7,#1
;;;2218   adc_ch_net&=1;
001648  f0070001          AND      r0,r7,#1
00164c  70a8              STRB     r0,[r5,#2]
;;;2219   
;;;2220   //SET_REG(LPC_GPIO0->FIODIR,7,5,3);
;;;2221   //SET_REG(LPC_GPIO0->FIOPIN,adc_ch,5,3);
;;;2222   
;;;2223   if(adc_ch_net)
;;;2224   	{
;;;2225   	//LPC_GPIO2->FIODIR|=(1<<7);
;;;2226   	//LPC_GPIO2->FIOPIN|=(1<<7);
;;;2227   	SET_REG(LPC_ADC->ADCR,1<<2,0,8);
00164e  4a41              LDR      r2,|L1.5972|
001650  b130              CBZ      r0,|L1.5728|
001652  6810              LDR      r0,[r2,#0]
001654  f02000ff          BIC      r0,r0,#0xff
001658  f1000004          ADD      r0,r0,#4
00165c  6010              STR      r0,[r2,#0]
00165e  e03d              B        |L1.5852|
                  |L1.5728|
;;;2228   	}
;;;2229   else
;;;2230   	{
;;;2231   	//LPC_GPIO2->FIODIR|=(1<<7);
;;;2232   	//LPC_GPIO2->FIOPIN&=~(1<<7);
;;;2233   	if(!(adc_ch&(1<<3)))SET_REG(LPC_ADC->ADCR,1<<0,0,8);
001660  78e9              LDRB     r1,[r5,#3]  ; adc_ch
001662  0708              LSLS     r0,r1,#28
001664  d406              BMI      |L1.5748|
001666  6810              LDR      r0,[r2,#0]
001668  f02000ff          BIC      r0,r0,#0xff
00166c  f1000001          ADD      r0,r0,#1
001670  6010              STR      r0,[r2,#0]
001672  e005              B        |L1.5760|
                  |L1.5748|
;;;2234   	else 			SET_REG(LPC_ADC->ADCR,1<<1,0,8);
001674  6810              LDR      r0,[r2,#0]
001676  f02000ff          BIC      r0,r0,#0xff
00167a  f1000002          ADD      r0,r0,#2
00167e  6010              STR      r0,[r2,#0]
                  |L1.5760|
;;;2235   
;;;2236   
;;;2237   	SET_REG(LPC_GPIO0->FIODIR,1,28,1);
001680  4839              LDR      r0,|L1.5992|
001682  6803              LDR      r3,[r0,#0]
001684  f0435380          ORR      r3,r3,#0x10000000
001688  6003              STR      r3,[r0,#0]
;;;2238   	SET_REG(LPC_GPIO1->FIODIR,1,30,1);
00168a  6a03              LDR      r3,[r0,#0x20]
00168c  f0434380          ORR      r3,r3,#0x40000000
001690  6203              STR      r3,[r0,#0x20]
;;;2239   	SET_REG(LPC_GPIO3->FIODIR,1,26,1);
001692  6e03              LDR      r3,[r0,#0x60]
001694  f0436380          ORR      r3,r3,#0x4000000
001698  6603              STR      r3,[r0,#0x60]
;;;2240   
;;;2241   	if(!(adc_ch&(1<<0)))SET_REG(LPC_GPIO0->FIOPIN,0,28,1);
00169a  07cb              LSLS     r3,r1,#31
00169c  d00a              BEQ      |L1.5812|
;;;2242   	else 			SET_REG(LPC_GPIO0->FIOPIN,1,28,1);
00169e  6943              LDR      r3,[r0,#0x14]
0016a0  f0435380          ORR      r3,r3,#0x10000000
0016a4  6143              STR      r3,[r0,#0x14]
                  |L1.5798|
;;;2243   
;;;2244   	if(!(adc_ch&(1<<1)))SET_REG(LPC_GPIO1->FIOPIN,0,30,1);
0016a6  078b              LSLS     r3,r1,#30
0016a8  d409              BMI      |L1.5822|
0016aa  6b43              LDR      r3,[r0,#0x34]
0016ac  f0234380          BIC      r3,r3,#0x40000000
0016b0  6343              STR      r3,[r0,#0x34]
0016b2  e008              B        |L1.5830|
                  |L1.5812|
0016b4  6943              LDR      r3,[r0,#0x14]         ;2241
0016b6  f0235380          BIC      r3,r3,#0x10000000     ;2241
0016ba  6143              STR      r3,[r0,#0x14]         ;2241
0016bc  e7f3              B        |L1.5798|
                  |L1.5822|
;;;2245   	else 			SET_REG(LPC_GPIO1->FIOPIN,1,30,1);
0016be  6b43              LDR      r3,[r0,#0x34]
0016c0  f0434380          ORR      r3,r3,#0x40000000
0016c4  6343              STR      r3,[r0,#0x34]
                  |L1.5830|
;;;2246   
;;;2247   	if(!(adc_ch&(1<<2)))SET_REG(LPC_GPIO3->FIOPIN,0,26,1);
0016c6  0749              LSLS     r1,r1,#29
0016c8  d404              BMI      |L1.5844|
0016ca  6f41              LDR      r1,[r0,#0x74]
0016cc  f0216180          BIC      r1,r1,#0x4000000
0016d0  6741              STR      r1,[r0,#0x74]
0016d2  e003              B        |L1.5852|
                  |L1.5844|
;;;2248   	else 			SET_REG(LPC_GPIO3->FIOPIN,1,26,1);
0016d4  6f41              LDR      r1,[r0,#0x74]
0016d6  f0416180          ORR      r1,r1,#0x4000000
0016da  6741              STR      r1,[r0,#0x74]
                  |L1.5852|
;;;2249   	}
;;;2250   	
;;;2251   
;;;2252   
;;;2253   
;;;2254   LPC_ADC->ADCR |=  (1<<24);
0016dc  6810              LDR      r0,[r2,#0]
0016de  f0407080          ORR      r0,r0,#0x1000000
0016e2  6010              STR      r0,[r2,#0]
                  |L1.5860|
;;;2255   
;;;2256   }
0016e4  e8bd81f0          POP      {r4-r8,pc}
;;;2257   
                          ENDP

                  avg_hndl PROC
;;;2514   //-----------------------------------------------
;;;2515   void avg_hndl(void)
0016e8  b5f0              PUSH     {r4-r7,lr}
;;;2516   { 
;;;2517   char i;
;;;2518   
;;;2519   #define AVGCNTMAX	5
;;;2520   if(avg_main_cnt)
0016ea  4c1c              LDR      r4,|L1.5980|
0016ec  3c8a              SUBS     r4,r4,#0x8a
0016ee  f9b4001c          LDRSH    r0,[r4,#0x1c]  ; avg_main_cnt
0016f2  b118              CBZ      r0,|L1.5884|
;;;2521   	{
;;;2522   	avg_main_cnt--;
0016f4  f1a00001          SUB      r0,r0,#1
0016f8  83a0              STRH     r0,[r4,#0x1c]
;;;2523   	goto avg_hndl_end;
0016fa  e0b0              B        |L1.6238|
                  |L1.5884|
;;;2524   	}                 
;;;2525   
;;;2526   avg_num=0;
0016fc  f04f0500          MOV      r5,#0
001700  72e5              STRB     r5,[r4,#0xb]
;;;2527   
;;;2528   for(i=0;i<NUMIST;i++)
001702  4628              MOV      r0,r5
001704  491a              LDR      r1,|L1.6000|
;;;2529   	{
;;;2530   	if((bps[i]._state==bsWRK)&&(bps[i]._cnt<20))avg_num++;
001706  4b19              LDR      r3,|L1.5996|
001708  f9b12000          LDRSH    r2,[r1,#0]            ;2528
00170c  e035              B        |L1.6010|
                  |L1.5902|
00170e  ebc001c0          RSB      r1,r0,r0,LSL #3
001712  eb010141          ADD      r1,r1,r1,LSL #1
001716  eb030181          ADD      r1,r3,r1,LSL #2
00171a  788e              LDRB     r6,[r1,#2]
00171c  2e01              CMP      r6,#1
00171e  d106              BNE      |L1.5934|
001720  78c9              LDRB     r1,[r1,#3]
001722  2914              CMP      r1,#0x14
001724  d203              BCS      |L1.5934|
001726  7ae1              LDRB     r1,[r4,#0xb]  ; avg_num
001728  f1010101          ADD      r1,r1,#1
00172c  72e1              STRB     r1,[r4,#0xb]
                  |L1.5934|
00172e  e021              B        |L1.6004|
                  |L1.5936|
                          DCD      load_I
                  |L1.5940|
                          DCD      Isumm
                  |L1.5944|
                          DCD      NUMINV
                  |L1.5948|
                          DCD      inv
                  |L1.5952|
                          DCD      a_ind
                  |L1.5956|
                          DCD      mnemo_cnt
                  |L1.5960|
                          DCD      MNEMO_ON
                  |L1.5964|
                          DCD      MNEMO_TIME
                  |L1.5968|
                          DCD      0x4002c000
                  |L1.5972|
                          DCD      0x40034000
                  |L1.5976|
                          DCD      0xe000e100
                  |L1.5980|
                          DCD      ||area_number.21||+0x8a
                  |L1.5984|
                          DCD      ||.bss||+0x420
                  |L1.5988|
                          DCD      ||.bss||
                  |L1.5992|
                          DCD      0x2009c000
                  |L1.5996|
                          DCD      bps
                  |L1.6000|
                          DCD      NUMIST
                  |L1.6004|
001774  f1000001          ADD      r0,r0,#1              ;2528
001778  b2c0              UXTB     r0,r0                 ;2528
                  |L1.6010|
00177a  4290              CMP      r0,r2                 ;2528
00177c  dbc7              BLT      |L1.5902|
;;;2531   	}
;;;2532   
;;;2533   /*if((K[NUMI]>=1)&&(bps_state[0]==ssWRK))	avg_num++;
;;;2534   if((K[NUMI]>=2)&&(bps_state[1]==ssWRK))	avg_num++;
;;;2535   if((K[NUMI]>=3)&&(bps_state[2]==ssWRK))	avg_num++;*/
;;;2536   
;;;2537   	
;;;2538   if(avg_num<2)
00177e  7ae6              LDRB     r6,[r4,#0xb]  ; avg_num
001780  2e02              CMP      r6,#2
001782  d36c              BCC      |L1.6238|
;;;2539   	{
;;;2540   	goto avg_hndl_end;
;;;2541   	}
;;;2542   	
;;;2543   else
;;;2544   	{
;;;2545   	i_avg_min=5000;
001784  f2413088          MOV      r0,#0x1388
001788  66a0              STR      r0,[r4,#0x68]  ; i_avg_min
;;;2546   	i_avg_max=0;
00178a  6665              STR      r5,[r4,#0x64]  ; i_avg_max
;;;2547   	i_avg_summ=0;
00178c  66e5              STR      r5,[r4,#0x6c]  ; i_avg_summ
;;;2548   	for(i=0;i<NUMIST;i++)
00178e  f04f0100          MOV      r1,#0
001792  e017              B        |L1.6084|
                  |L1.6036|
;;;2549   		{
;;;2550   		if(bps[i]._state==bsWRK)
001794  ebc100c1          RSB      r0,r1,r1,LSL #3
001798  eb000040          ADD      r0,r0,r0,LSL #1
00179c  eb030080          ADD      r0,r3,r0,LSL #2
0017a0  7887              LDRB     r7,[r0,#2]
0017a2  2f01              CMP      r7,#1
0017a4  d10b              BNE      |L1.6078|
;;;2551   			{
;;;2552   			if(bps[i]._Ii>i_avg_max)i_avg_max=bps[i]._Ii;
0017a6  6a40              LDR      r0,[r0,#0x24]
0017a8  6e67              LDR      r7,[r4,#0x64]  ; i_avg_max
0017aa  42b8              CMP      r0,r7
0017ac  dd00              BLE      |L1.6064|
0017ae  6660              STR      r0,[r4,#0x64]  ; i_avg_max
                  |L1.6064|
;;;2553   			if(bps[i]._Ii<i_avg_min)i_avg_min=bps[i]._Ii;
0017b0  6ea7              LDR      r7,[r4,#0x68]  ; i_avg_min
0017b2  42b8              CMP      r0,r7
0017b4  da00              BGE      |L1.6072|
0017b6  66a0              STR      r0,[r4,#0x68]  ; i_avg_min
                  |L1.6072|
;;;2554   			
;;;2555   			i_avg_summ+=bps[i]._Ii;
0017b8  6ee7              LDR      r7,[r4,#0x6c]  ; i_avg_summ
0017ba  4438              ADD      r0,r0,r7
0017bc  66e0              STR      r0,[r4,#0x6c]  ; i_avg_summ
                  |L1.6078|
0017be  f1010101          ADD      r1,r1,#1              ;2548
0017c2  b2c9              UXTB     r1,r1                 ;2548
                  |L1.6084|
0017c4  4291              CMP      r1,r2                 ;2548
0017c6  dbe5              BLT      |L1.6036|
;;;2556   			}
;;;2557   		}
;;;2558   	i_avg=i_avg_summ/avg_num;	
0017c8  6ee0              LDR      r0,[r4,#0x6c]  ; i_avg_summ
0017ca  fb90f6f6          SDIV     r6,r0,r6
0017ce  6726              STR      r6,[r4,#0x70]  ; i_avg
;;;2559   	
;;;2560   	if(i_avg_min==0)i_avg_min=1;
0017d0  6ea0              LDR      r0,[r4,#0x68]  ; i_avg_min
0017d2  2101              MOVS     r1,#1                 ;2530
0017d4  b900              CBNZ     r0,|L1.6104|
0017d6  66a1              STR      r1,[r4,#0x68]  ; i_avg_min
                  |L1.6104|
;;;2561   
;;;2562   	avg=i_avg_max;
0017d8  6e60              LDR      r0,[r4,#0x64]  ; i_avg_max
;;;2563   	avg*=100;
0017da  f04f0764          MOV      r7,#0x64
0017de  fb00f007          MUL      r0,r0,r7
;;;2564   	avg/=i_avg_min;
0017e2  6ea7              LDR      r7,[r4,#0x68]  ; i_avg_min
0017e4  fb90f0f7          SDIV     r0,r0,r7
0017e8  6760              STR      r0,[r4,#0x74]  ; avg
;;;2565   
;;;2566   	if(avg>160) bAVG=1;
0017ea  28a0              CMP      r0,#0xa0
0017ec  dd00              BLE      |L1.6128|
0017ee  72a1              STRB     r1,[r4,#0xa]
                  |L1.6128|
;;;2567   	if(avg<120) bAVG=0;
0017f0  2878              CMP      r0,#0x78
0017f2  da00              BGE      |L1.6134|
0017f4  72a5              STRB     r5,[r4,#0xa]
                  |L1.6134|
;;;2568   
;;;2569   	if(bAVG==1)
0017f6  7aa0              LDRB     r0,[r4,#0xa]  ; bAVG
0017f8  2801              CMP      r0,#1
0017fa  d130              BNE      |L1.6238|
;;;2570   		{
;;;2571   		for(i=0;i<NUMIST;i++)
0017fc  f04f0100          MOV      r1,#0
;;;2572   			{
;;;2573   			if(bps[i]._state==bsWRK)
;;;2574   				{
;;;2575   				if(bps[i]._Ii>i_avg)bps[i]._x_--;
;;;2576   				if(bps[i]._Ii<i_avg)bps[i]._x_++;
;;;2577   			
;;;2578   				if(bps[i]._x_<-50)bps[i]._x_=-50;
001800  f06f0431          MVN      r4,#0x31
001804  e029              B        |L1.6234|
                  |L1.6150|
001806  ebc100c1          RSB      r0,r1,r1,LSL #3       ;2573
00180a  eb000040          ADD      r0,r0,r0,LSL #1       ;2573
00180e  eb030080          ADD      r0,r3,r0,LSL #2       ;2573
001812  7885              LDRB     r5,[r0,#2]            ;2573
001814  2d01              CMP      r5,#1                 ;2573
001816  d11d              BNE      |L1.6228|
001818  6a45              LDR      r5,[r0,#0x24]         ;2575
00181a  42b5              CMP      r5,r6                 ;2575
00181c  dd05              BLE      |L1.6186|
00181e  f8b05050          LDRH     r5,[r0,#0x50]         ;2575
001822  f1a50501          SUB      r5,r5,#1              ;2575
001826  f8a05050          STRH     r5,[r0,#0x50]         ;2575
                  |L1.6186|
00182a  da05              BGE      |L1.6200|
00182c  f8b05050          LDRH     r5,[r0,#0x50]         ;2576
001830  f1050501          ADD      r5,r5,#1              ;2576
001834  f8a05050          STRH     r5,[r0,#0x50]         ;2576
                  |L1.6200|
001838  f9b05050          LDRSH    r5,[r0,#0x50]
00183c  42a5              CMP      r5,r4
00183e  da01              BGE      |L1.6212|
001840  f8a04050          STRH     r4,[r0,#0x50]
                  |L1.6212|
;;;2579   				if(bps[i]._x_>50)bps[i]._x_=50;	
001844  f9b05050          LDRSH    r5,[r0,#0x50]
001848  2d32              CMP      r5,#0x32
00184a  dd03              BLE      |L1.6228|
00184c  f04f0532          MOV      r5,#0x32
001850  f8a05050          STRH     r5,[r0,#0x50]
                  |L1.6228|
001854  f1010101          ADD      r1,r1,#1              ;2571
001858  b2c9              UXTB     r1,r1                 ;2571
                  |L1.6234|
00185a  4291              CMP      r1,r2                 ;2571
00185c  dbd3              BLT      |L1.6150|
                  |L1.6238|
;;;2580   				}
;;;2581   			}		
;;;2582   		}			
;;;2583   	}   	 
;;;2584   
;;;2585   
;;;2586   avg_hndl_end:
;;;2587   __nop();  
00185e  bf00              NOP      
;;;2588   }
001860  bdf0              POP      {r4-r7,pc}
;;;2589   
                          ENDP

                  rele_hndl PROC
;;;2602   //*************-----------------------------------------------
;;;2603   void rele_hndl(void)
001862  e92d41f0          PUSH     {r4-r8,lr}
;;;2604   {
;;;2605   //static char cnt_rel_sam;
;;;2606   //char temp;
;;;2607   
;;;2608   //temp=0;
;;;2609   
;;;2610   
;;;2611   SET_REG(LPC_PINCON->PINSEL0,0,4*2,6*2);
001866  48ff              LDR      r0,|L1.7268|
001868  6801              LDR      r1,[r0,#0]
00186a  4aff              LDR      r2,|L1.7272|
00186c  ea010102          AND      r1,r1,r2
001870  6001              STR      r1,[r0,#0]
;;;2612   SET_REG(LPC_GPIO0->FIODIR,63,4,6);
001872  4cfe              LDR      r4,|L1.7276|
001874  6821              LDR      r1,[r4,#0]
001876  f441717c          ORR      r1,r1,#0x3f0
00187a  6021              STR      r1,[r4,#0]
;;;2613   SET_REG(LPC_PINCON->PINSEL7,0,(25-16)*2,2);
00187c  69c1              LDR      r1,[r0,#0x1c]
00187e  f4212140          BIC      r1,r1,#0xc0000
001882  61c1              STR      r1,[r0,#0x1c]
;;;2614   SET_REG(LPC_GPIO3->FIODIR,1,25,1);
001884  6e21              LDR      r1,[r4,#0x60]
001886  f0417100          ORR      r1,r1,#0x2000000
00188a  6621              STR      r1,[r4,#0x60]
;;;2615   SET_REG(LPC_PINCON->PINSEL1,0,(29-16)*2,2);
00188c  6841              LDR      r1,[r0,#4]
00188e  f0216140          BIC      r1,r1,#0xc000000
001892  6041              STR      r1,[r0,#4]
;;;2616   SET_REG(LPC_GPIO0->FIODIR,1,29,1);
001894  6820              LDR      r0,[r4,#0]
001896  f0405000          ORR      r0,r0,#0x20000000
00189a  6020              STR      r0,[r4,#0]
;;;2617   
;;;2618   
;;;2619   
;;;2620   
;;;2621   
;;;2622   
;;;2623   if((((bat[0]._rel_stat)  || (tbatdisable_stat!=tbdsON))&&(tbatdisable_cmnd))	&& (main_1Hz_cnt>5))
00189c  48f5              LDR      r0,|L1.7284|
00189e  4df4              LDR      r5,|L1.7280|
0018a0  49f6              LDR      r1,|L1.7292|
0018a2  7802              LDRB     r2,[r0,#0]  ; tbatdisable_stat
0018a4  48f4              LDR      r0,|L1.7288|
0018a6  f895303c          LDRB     r3,[r5,#0x3c]  ; bat
0018aa  f9b11000          LDRSH    r1,[r1,#0]
0018ae  7800              LDRB     r0,[r0,#0]
0018b0  4313              ORRS     r3,r3,r2
0018b2  d007              BEQ      |L1.6340|
0018b4  b130              CBZ      r0,|L1.6340|
0018b6  2905              CMP      r1,#5
0018b8  dd04              BLE      |L1.6340|
;;;2624   	{
;;;2625   	SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_BAT1,1);
0018ba  69a3              LDR      r3,[r4,#0x18]
0018bc  f4437380          ORR      r3,r3,#0x100
0018c0  61a3              STR      r3,[r4,#0x18]
0018c2  e003              B        |L1.6348|
                  |L1.6340|
;;;2626   	}
;;;2627   else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_BAT1,1);	  	
0018c4  69e3              LDR      r3,[r4,#0x1c]
0018c6  f4437380          ORR      r3,r3,#0x100
0018ca  61e3              STR      r3,[r4,#0x1c]
                  |L1.6348|
;;;2628   
;;;2629   if((((bat[1]._rel_stat) || (tbatdisable_stat!=tbdsON))&&(tbatdisable_cmnd))	&& (main_1Hz_cnt>5))
0018cc  f8953088          LDRB     r3,[r5,#0x88]  ; bat
0018d0  4313              ORRS     r3,r3,r2
0018d2  d007              BEQ      |L1.6372|
0018d4  b130              CBZ      r0,|L1.6372|
0018d6  2905              CMP      r1,#5
0018d8  dd04              BLE      |L1.6372|
;;;2630   	{
;;;2631   	SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_BAT2,1);
0018da  69a0              LDR      r0,[r4,#0x18]
0018dc  f0400040          ORR      r0,r0,#0x40
0018e0  61a0              STR      r0,[r4,#0x18]
0018e2  e003              B        |L1.6380|
                  |L1.6372|
;;;2632   	}
;;;2633   else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_BAT2,1);
0018e4  69e0              LDR      r0,[r4,#0x1c]
0018e6  f0400040          ORR      r0,r0,#0x40
0018ea  61e0              STR      r0,[r4,#0x1c]
                  |L1.6380|
;;;2634   
;;;2635   
;;;2636   if(mess_find_unvol((MESS2RELE_HNDL))&&(mess_data[0]==PARAM_RELE_SAMOKALIBR)) 
0018ec  20d2              MOVS     r0,#0xd2
0018ee  f7fffffe          BL       mess_find_unvol
0018f2  4de3              LDR      r5,|L1.7296|
0018f4  b110              CBZ      r0,|L1.6396|
0018f6  6828              LDR      r0,[r5,#0]  ; mess_data
0018f8  2864              CMP      r0,#0x64
0018fa  d046              BEQ      |L1.6538|
                  |L1.6396|
;;;2637   	{
;;;2638   	if(mess_data[1]==1)SET_REG(LPC_GPIO0->FIOSET,1,29,1);
;;;2639   	else if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,29,1);
;;;2640   	}
;;;2641   else SET_REG(LPC_GPIO0->FIOCLR,1,29,1);
0018fc  69e0              LDR      r0,[r4,#0x1c]
0018fe  f0405000          ORR      r0,r0,#0x20000000
001902  61e0              STR      r0,[r4,#0x1c]
                  |L1.6404|
;;;2642   
;;;2643   
;;;2644   #ifndef UKU2071x
;;;2645   //  
;;;2646   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;2647   	{
;;;2648   	if(mess_data[1]==0) 			SET_REG(LPC_GPIO3->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;2649   	else 						SET_REG(LPC_GPIO3->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;2650   	}
;;;2651   else	if(!(avar_ind_stat&0x00000001)) 	SET_REG(LPC_GPIO3->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;2652   else 							SET_REG(LPC_GPIO3->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;2653   #endif
;;;2654   #ifdef UKU2071x
;;;2655   //  
;;;2656   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
001904  20d2              MOVS     r0,#0xd2
001906  f7fffffe          BL       mess_find_unvol
;;;2657   	{
;;;2658   	if(mess_data[1]==0)				SET_REG(LPC_GPIO3->FIOCLR,1,SHIFT_REL_AV_NET,1); 
;;;2659   	else 						SET_REG(LPC_GPIO3->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;2660   	}
;;;2661   else	if(!(avar_ind_stat&0x00000001))	SET_REG(LPC_GPIO3->FIOCLR,1,SHIFT_REL_AV_NET,1);
00190a  4ede              LDR      r6,|L1.7300|
00190c  b110              CBZ      r0,|L1.6420|
00190e  6828              LDR      r0,[r5,#0]            ;2656  ; mess_data
001910  2866              CMP      r0,#0x66              ;2656
001912  d049              BEQ      |L1.6568|
                  |L1.6420|
001914  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
001916  07c0              LSLS     r0,r0,#31
001918  d052              BEQ      |L1.6592|
;;;2662   else 					  		SET_REG(LPC_GPIO3->FIOSET,1,SHIFT_REL_AV_NET,1);
00191a  6fa0              LDR      r0,[r4,#0x78]
00191c  f0407000          ORR      r0,r0,#0x2000000
001920  67a0              STR      r0,[r4,#0x78]
                  |L1.6434|
;;;2663   #endif
;;;2664   
;;;2665   #ifdef UKU_3U
;;;2666   //  
;;;2667   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT1))
;;;2668   	{
;;;2669   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT1,1);
;;;2670   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT1,1);
;;;2671        }
;;;2672   else 
;;;2673   	{
;;;2674   	if(!(avar_ind_stat&0x00000002)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT1,1);
;;;2675        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT1,1);
;;;2676   	} 
;;;2677   
;;;2678   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT2))
;;;2679   	{
;;;2680   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;2681   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT2,1);
;;;2682        }
;;;2683   else 
;;;2684   	{
;;;2685   	if(!(avar_ind_stat&0x00000004)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;2686        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT2,1);
;;;2687   	} 
;;;2688   
;;;2689   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
;;;2690   	{
;;;2691   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;2692   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;2693        }
;;;2694   else 
;;;2695   	{
;;;2696   	if(!(avar_ind_stat&0x000007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;2697        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;2698   	} 
;;;2699   
;;;2700   #endif
;;;2701   
;;;2702   
;;;2703   #ifdef UKU_GLONASS
;;;2704   //  
;;;2705   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT1))
;;;2706   	{
;;;2707   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT1,1);
;;;2708   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT1,1);
;;;2709        }
;;;2710   else 
;;;2711   	{
;;;2712   	if(!(avar_ind_stat&0x00000002)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT1,1);
;;;2713        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT1,1);
;;;2714   	} 
;;;2715   
;;;2716   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT2))
;;;2717   	{
;;;2718   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;2719   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT2,1);
;;;2720        }
;;;2721   else 
;;;2722   	{
;;;2723   	if(!(avar_ind_stat&0x00000004)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;2724        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT2,1);
;;;2725   	} 
;;;2726   
;;;2727   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
;;;2728   	{
;;;2729   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;2730   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;2731        }
;;;2732   else 
;;;2733   	{
;;;2734   	if(!(avar_ind_stat&0x000007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;2735        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;2736   	} 
;;;2737   
;;;2738   #endif
;;;2739   
;;;2740   #ifdef U /*
;;;2741   
;;;2742   
;;;2743   
;;;2744   /*
;;;2745   //  
;;;2746   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT))
;;;2747   	{
;;;2748   	if(mess_data[1]==0) temp&=~(1<<SHIFT_REL_AV_BAT);
;;;2749   	else if(mess_data[1]==1) temp|=(1<<SHIFT_REL_AV_BAT);
;;;2750        }
;;;2751   else 
;;;2752   	{
;;;2753   	if(!(avar_ind_stat&0x00000006)) temp&=~(1<<SHIFT_REL_AV_BAT);
;;;2754        else temp|=(1<<SHIFT_REL_AV_BAT);
;;;2755   	} 
;;;2756   */
;;;2757   
;;;2758   #endif
;;;2759   
;;;2760   #ifdef UKU_RSTKM
;;;2761   
;;;2762   //  
;;;2763   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_COMM))
;;;2764   	{
;;;2765   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_COMM,1);
;;;2766   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_COMM,1);
;;;2767   	}
;;;2768   else 
;;;2769   	{
;;;2770        if(  (!(avar_ind_stat&0x00007fff))/* &&
;;;2771             ((!SK_REL_EN[0]) || (sk_av_stat[0]!=sasON))  &&
;;;2772             ((!SK_REL_EN[1]) || (sk_av_stat[1]!=sasON))  &&
;;;2773             ((!SK_REL_EN[2]) || (sk_av_stat[2]!=sasON))  &&
;;;2774             ((!SK_REL_EN[3]) || (sk_av_stat[3]!=sasON))*/  )SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_COMM,1);
;;;2775        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_COMM,1);
;;;2776   	}
;;;2777   	
;;;2778   
;;;2779   // 
;;;2780   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LIGHT))
;;;2781   	{
;;;2782   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;2783   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;2784        }
;;;2785   else 
;;;2786   	{
;;;2787   	if(sk_av_stat[0]!=sasON) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;2788        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;2789   	}
;;;2790   
;;;2791   
;;;2792   //  
;;;2793   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LOAD_OFF))
;;;2794   	{
;;;2795   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;2796   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;2797        }
;;;2798   else if(tloaddisable_cmnd==0)
;;;2799   	{
;;;2800   	SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;2801   	}
;;;2802   else if((tloaddisable_cmnd)&&(tloaddisable_cmnd<=11))
;;;2803   	{
;;;2804   	SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;2805   	}
;;;2806   
;;;2807   else 
;;;2808   	{
;;;2809   	if(!(tloaddisable_stat==tldsON)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;2810        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;2811   	} 
;;;2812   
;;;2813   //  
;;;2814   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VENT))
;;;2815   	{
;;;2816   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;2817   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;2818   	}
;;;2819   else 
;;;2820   	{
;;;2821   	if(mixer_vent_stat==mvsOFF) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;2822        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;2823   	} 
;;;2824   
;;;2825   #endif
;;;2826   
;;;2827   #ifdef UKU_KONTUR
;;;2828   
;;;2829   //  
;;;2830   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_COMM))
;;;2831   	{
;;;2832   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_COMM,1);
;;;2833   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_COMM,1);
;;;2834   	}
;;;2835   else 
;;;2836   	{
;;;2837        if(  (!(avar_ind_stat&0x00007fff)) &&
;;;2838             ((!SK_REL_EN[0]) || (sk_av_stat[0]!=sasON))  &&
;;;2839             ((!SK_REL_EN[1]) || (sk_av_stat[1]!=sasON))  &&
;;;2840             ((!SK_REL_EN[2]) || (sk_av_stat[2]!=sasON))  /*&&
;;;2841             ((!SK_REL_EN[3]) || (sk_av_stat[3]!=sasON))*/  )SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_COMM,1);
;;;2842        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_COMM,1);
;;;2843   	}
;;;2844   
;;;2845   	
;;;2846   //rel_warm_plazma=0;
;;;2847   //    
;;;2848   /*
;;;2849   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_WARM))
;;;2850   	{
;;;2851   	if(mess_data[1]==0)
;;;2852   		{
;;;2853   		SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_WARM,1);
;;;2854   		rel_warm_plazma=1;
;;;2855   		}
;;;2856   	else if(mess_data[1]==1) 
;;;2857   		{
;;;2858   		SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_WARM,1);
;;;2859   		rel_warm_plazma=2;
;;;2860   		}
;;;2861        }
;;;2862   else 
;;;2863   	{
;;;2864   	if(warm_stat_k==wsOFF) 
;;;2865   		{
;;;2866   		SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_WARM,1);
;;;2867   		rel_warm_plazma=3;
;;;2868   		}
;;;2869        else 
;;;2870   		{
;;;2871   		SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_WARM,1);
;;;2872   		rel_warm_plazma=4;
;;;2873   		}
;;;2874   	}
;;;2875   */
;;;2876   // 
;;;2877   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LIGHT))
;;;2878   	{
;;;2879   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;2880   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;2881        }
;;;2882   else 
;;;2883   	{
;;;2884   	if(sk_av_stat[0]!=sasON) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;2885        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;2886   	}
;;;2887   
;;;2888   
;;;2889   
;;;2890   //  
;;;2891   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LOAD_OFF))
;;;2892   	{
;;;2893   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;2894   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;2895        }
;;;2896   else if(tloaddisable_cmnd==0)
;;;2897   	{
;;;2898   	SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;2899   	}
;;;2900   else if((tloaddisable_cmnd)&&(tloaddisable_cmnd<=11))
;;;2901   	{
;;;2902   	SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;2903   	}
;;;2904   
;;;2905   else 
;;;2906   	{
;;;2907   	if(!(tloaddisable_stat==tldsON)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;2908        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;2909   	} 
;;;2910   
;;;2911   //    
;;;2912   if(RELE_LOG)
;;;2913   	{
;;;2914   	if((mess_find_unvol(MESS2RELE_HNDL))&&(mess_data[0]==PARAM_RELE_VENT_WARM))
;;;2915   		{
;;;2916   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;2917   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;2918   		}
;;;2919   	else 
;;;2920   		{
;;;2921   		if(warm_stat_k==wsOFF) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;2922   	     else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;2923   		} 
;;;2924   
;;;2925   	}
;;;2926   else 
;;;2927   	{
;;;2928   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VENT_WARM))
;;;2929   		{
;;;2930   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;2931   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;2932   		}
;;;2933   	else 
;;;2934   		{
;;;2935   		if(vent_stat_k==vsOFF) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;2936   	     else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;2937   		} 
;;;2938   	}
;;;2939   #endif
;;;2940   
;;;2941   #ifdef UKU_6U
;;;2942   //  
;;;2943   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT1))
;;;2944   	{
;;;2945   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT1,1);
;;;2946   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT1,1);
;;;2947        }
;;;2948   else 
;;;2949   	{
;;;2950   	if(!(avar_ind_stat&0x00000002)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT1,1);
;;;2951        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT1,1);
;;;2952   	} 
;;;2953   
;;;2954   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT2))
;;;2955   	{
;;;2956   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;2957   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT2,1);
;;;2958       }
;;;2959   else if(NPN_OUT==npnoRELEAVBAT2)
;;;2960   	{
;;;2961   	if(npn_stat==npnsOFF)//&&(mess_find_unvol(MESS2RELE_HNDL))&&(mess_data[0]==PARAM_RELE_NPN))
;;;2962   		{
;;;2963   		/*if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;2964   		else if(mess_data[1]==1)*/ SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;2965        	}
;;;2966   	else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT2,1);
;;;2967   	}
;;;2968   else 
;;;2969   	{
;;;2970   	if(!(avar_ind_stat&0x00000004)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT2,1);
;;;2971       else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT2,1);
;;;2972   	} 
;;;2973   
;;;2974   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
;;;2975   	{
;;;2976   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;2977   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;2978        }
;;;2979   else 
;;;2980   	{
;;;2981   	if(!(avar_ind_stat&0x000007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;2982        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;2983   	} 
;;;2984   
;;;2985   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VENT))
;;;2986   	{
;;;2987   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;2988   	else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;2989   	}
;;;2990   else if((NPN_OUT==npnoRELEVENT))
;;;2991   	{
;;;2992   	if(npn_stat==npnsOFF)//&&(mess_find_unvol(MESS2RELE_HNDL))&&(mess_data[0]==PARAM_RELE_NPN))
;;;2993   		{
;;;2994   		/*if(mess_data[1]==0)*/ SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;2995   		//else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;2996       	}
;;;2997   	else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;2998   	}
;;;2999   else 
;;;3000   	{
;;;3001   	if(!vent_stat) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;3002   	else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3003   	}
;;;3004   
;;;3005   #endif
;;;3006   
;;;3007   #ifdef UKU_220
;;;3008   //  
;;;3009   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT))
;;;3010   	{
;;;3011   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT,1);
;;;3012   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT,1);
;;;3013        }
;;;3014   else 
;;;3015   	{
;;;3016   	if(!(avar_ind_stat&0x00000002)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT,1);
;;;3017        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT,1);
;;;3018   	} 
;;;3019   
;;;3020   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
;;;3021   	{
;;;3022   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;3023   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;3024        }
;;;3025   else 
;;;3026   	{
;;;3027   	if(!(avar_ind_stat&0x000007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;3028        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;3029   	} 
;;;3030   
;;;3031   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VENT))
;;;3032   	{
;;;3033   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;3034   	else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3035   	}
;;;3036   else 
;;;3037   	{
;;;3038   	if((RELE_VENT_LOGIC==0)||(RELE_VENT_LOGIC==1))
;;;3039   		{
;;;3040   		if(vent_stat) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;3041   		else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3042   		}
;;;3043   	else 
;;;3044   		{
;;;3045   		if((avar_ind_stat&0x00000004)) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;3046        	else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3047   		}
;;;3048   	}
;;;3049   
;;;3050   #endif
;;;3051   
;;;3052   #ifdef UKU_220_V2
;;;3053   //  
;;;3054   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT))
;;;3055   	{
;;;3056   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT,1);
;;;3057   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT,1);
;;;3058        }
;;;3059   else 
;;;3060   	{
;;;3061   	if(!(avar_ind_stat&0x00000002)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BAT,1);
;;;3062        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BAT,1);
;;;3063   	} 
;;;3064   
;;;3065   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
;;;3066   	{
;;;3067   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;3068   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;3069        }
;;;3070   else 
;;;3071   	{
;;;3072   	if(!(avar_ind_stat&0x000007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;3073        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;3074   	} 
;;;3075   
;;;3076   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VENT))
;;;3077   	{
;;;3078   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;3079   	else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3080   	}
;;;3081   else 
;;;3082   	{
;;;3083   	if((RELE_VENT_LOGIC==0)||(RELE_VENT_LOGIC==1))
;;;3084   		{
;;;3085   		if(vent_stat) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;3086   		else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3087   		}
;;;3088   	else 
;;;3089   		{
;;;3090   		if((avar_ind_stat&0x00000004)) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;3091        	else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3092   		}
;;;3093   	}
;;;3094   
;;;3095   #endif
;;;3096   
;;;3097   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;3098   
;;;3099   if((AUSW_MAIN==22010)||(AUSW_MAIN==22011))
001922  48d9              LDR      r0,|L1.7304|
;;;3100   	{
;;;3101   	#ifndef UKU2071x
;;;3102   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;3103   		{
;;;3104   		if(mess_data[1]==0) SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;3105   		else SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;3106   		}
;;;3107   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;3108   	else SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;3109   	#endif
;;;3110   	#ifdef UKU2071x
;;;3111   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;3112   		{
;;;3113   		if(mess_data[1]==0) SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;3114   		else SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;3115   		}
;;;3116   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;3117   	else SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;3118   	#endif
;;;3119   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
;;;3120   		{
;;;3121   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
;;;3122   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,7,1);
;;;3123   	     }
;;;3124   	else 
;;;3125   		{
;;;3126   		if(!(avar_ind_stat&0x000007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
;;;3127   	     else SET_REG(LPC_GPIO0->FIOSET,1,7,1);
;;;3128   		} 
;;;3129   
;;;3130   	//  
;;;3131   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT))
;;;3132   		{
;;;3133   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
;;;3134   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,4,1);
;;;3135        	}
;;;3136   	else 
;;;3137   		{
;;;3138   		if(!(ips_bat_av_stat)) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
001924  4fd9              LDR      r7,|L1.7308|
001926  8800              LDRH     r0,[r0,#0]            ;3099  ; AUSW_MAIN
001928  f5a041aa          SUB      r1,r0,#0x5500         ;3099
00192c  39fa              SUBS     r1,r1,#0xfa           ;3099
00192e  d001              BEQ      |L1.6452|
001930  1e49              SUBS     r1,r1,#1              ;3099
001932  d16f              BNE      |L1.6676|
                  |L1.6452|
001934  20d2              MOVS     r0,#0xd2              ;3111
001936  f7fffffe          BL       mess_find_unvol
00193a  b110              CBZ      r0,|L1.6466|
00193c  6828              LDR      r0,[r5,#0]            ;3111  ; mess_data
00193e  2866              CMP      r0,#0x66              ;3111
001940  d043              BEQ      |L1.6602|
                  |L1.6466|
001942  6830              LDR      r0,[r6,#0]            ;3116  ; avar_ind_stat
001944  07c0              LSLS     r0,r0,#31             ;3116
001946  d04d              BEQ      |L1.6628|
001948  6fa0              LDR      r0,[r4,#0x78]         ;3117
00194a  f0407000          ORR      r0,r0,#0x2000000      ;3117
00194e  67a0              STR      r0,[r4,#0x78]         ;3117
                  |L1.6480|
001950  20d2              MOVS     r0,#0xd2              ;3119
001952  f7fffffe          BL       mess_find_unvol
001956  b110              CBZ      r0,|L1.6494|
001958  6828              LDR      r0,[r5,#0]            ;3119  ; mess_data
00195a  286a              CMP      r0,#0x6a              ;3119
00195c  d047              BEQ      |L1.6638|
                  |L1.6494|
00195e  6830              LDR      r0,[r6,#0]            ;3126  ; avar_ind_stat
001960  f4106fff          TST      r0,#0x7f8             ;3126
001964  d051              BEQ      |L1.6666|
001966  69a0              LDR      r0,[r4,#0x18]         ;3127
001968  f0400080          ORR      r0,r0,#0x80           ;3127
00196c  61a0              STR      r0,[r4,#0x18]         ;3127
                  |L1.6510|
00196e  20d2              MOVS     r0,#0xd2              ;3131
001970  f7fffffe          BL       mess_find_unvol
001974  b110              CBZ      r0,|L1.6524|
001976  6828              LDR      r0,[r5,#0]            ;3131  ; mess_data
001978  2867              CMP      r0,#0x67              ;3131
00197a  d04c              BEQ      |L1.6678|
                  |L1.6524|
00197c  7838              LDRB     r0,[r7,#0]  ; ips_bat_av_stat
00197e  b380              CBZ      r0,|L1.6626|
;;;3139        	else SET_REG(LPC_GPIO0->FIOSET,1,4,1);
001980  69a0              LDR      r0,[r4,#0x18]
001982  f0400010          ORR      r0,r0,#0x10
001986  61a0              STR      r0,[r4,#0x18]
001988  e1ea              B        |L1.7520|
                  |L1.6538|
00198a  6868              LDR      r0,[r5,#4]            ;2638  ; mess_data
00198c  2801              CMP      r0,#1                 ;2638
00198e  d006              BEQ      |L1.6558|
001990  2800              CMP      r0,#0                 ;2639
001992  d1b7              BNE      |L1.6404|
001994  69e0              LDR      r0,[r4,#0x1c]         ;2639
001996  f0405000          ORR      r0,r0,#0x20000000     ;2639
00199a  61e0              STR      r0,[r4,#0x1c]         ;2639
00199c  e7b2              B        |L1.6404|
                  |L1.6558|
00199e  69a0              LDR      r0,[r4,#0x18]         ;2638
0019a0  f0405000          ORR      r0,r0,#0x20000000     ;2638
0019a4  61a0              STR      r0,[r4,#0x18]         ;2638
0019a6  e7ad              B        |L1.6404|
                  |L1.6568|
0019a8  6868              LDR      r0,[r5,#4]            ;2658  ; mess_data
0019aa  b120              CBZ      r0,|L1.6582|
0019ac  6fa0              LDR      r0,[r4,#0x78]         ;2659
0019ae  f0407000          ORR      r0,r0,#0x2000000      ;2659
0019b2  67a0              STR      r0,[r4,#0x78]         ;2659
0019b4  e7b5              B        |L1.6434|
                  |L1.6582|
0019b6  6fe0              LDR      r0,[r4,#0x7c]         ;2658
0019b8  f0407000          ORR      r0,r0,#0x2000000      ;2658
0019bc  67e0              STR      r0,[r4,#0x7c]         ;2658
0019be  e7b0              B        |L1.6434|
                  |L1.6592|
0019c0  6fe0              LDR      r0,[r4,#0x7c]         ;2661
0019c2  f0407000          ORR      r0,r0,#0x2000000      ;2661
0019c6  67e0              STR      r0,[r4,#0x7c]         ;2661
0019c8  e7ab              B        |L1.6434|
                  |L1.6602|
0019ca  6868              LDR      r0,[r5,#4]            ;3113  ; mess_data
0019cc  b120              CBZ      r0,|L1.6616|
0019ce  6fa0              LDR      r0,[r4,#0x78]         ;3114
0019d0  f0407000          ORR      r0,r0,#0x2000000      ;3114
0019d4  67a0              STR      r0,[r4,#0x78]         ;3114
0019d6  e7bb              B        |L1.6480|
                  |L1.6616|
0019d8  6fe0              LDR      r0,[r4,#0x7c]         ;3113
0019da  f0407000          ORR      r0,r0,#0x2000000      ;3113
0019de  67e0              STR      r0,[r4,#0x7c]         ;3113
0019e0  e7b6              B        |L1.6480|
                  |L1.6626|
0019e2  e027              B        |L1.6708|
                  |L1.6628|
0019e4  6fe0              LDR      r0,[r4,#0x7c]         ;3116
0019e6  f0407000          ORR      r0,r0,#0x2000000      ;3116
0019ea  67e0              STR      r0,[r4,#0x7c]         ;3116
0019ec  e7b0              B        |L1.6480|
                  |L1.6638|
0019ee  6868              LDR      r0,[r5,#4]            ;3121  ; mess_data
0019f0  b130              CBZ      r0,|L1.6656|
0019f2  2801              CMP      r0,#1                 ;3122
0019f4  d1bb              BNE      |L1.6510|
0019f6  69a0              LDR      r0,[r4,#0x18]         ;3122
0019f8  f0400080          ORR      r0,r0,#0x80           ;3122
0019fc  61a0              STR      r0,[r4,#0x18]         ;3122
0019fe  e7b6              B        |L1.6510|
                  |L1.6656|
001a00  69e0              LDR      r0,[r4,#0x1c]         ;3121
001a02  f0400080          ORR      r0,r0,#0x80           ;3121
001a06  61e0              STR      r0,[r4,#0x1c]         ;3121
001a08  e7b1              B        |L1.6510|
                  |L1.6666|
001a0a  69e0              LDR      r0,[r4,#0x1c]         ;3126
001a0c  f0400080          ORR      r0,r0,#0x80           ;3126
001a10  61e0              STR      r0,[r4,#0x1c]         ;3126
001a12  e7ac              B        |L1.6510|
                  |L1.6676|
001a14  e013              B        |L1.6718|
                  |L1.6678|
001a16  6868              LDR      r0,[r5,#4]            ;3133  ; mess_data
001a18  b110              CBZ      r0,|L1.6688|
001a1a  2801              CMP      r0,#1                 ;3134
001a1c  d005              BEQ      |L1.6698|
001a1e  e19f              B        |L1.7520|
                  |L1.6688|
001a20  69e0              LDR      r0,[r4,#0x1c]         ;3133
001a22  f0400010          ORR      r0,r0,#0x10           ;3133
001a26  61e0              STR      r0,[r4,#0x1c]         ;3133
001a28  e19a              B        |L1.7520|
                  |L1.6698|
001a2a  69a0              LDR      r0,[r4,#0x18]         ;3134
001a2c  f0400010          ORR      r0,r0,#0x10           ;3134
001a30  61a0              STR      r0,[r4,#0x18]         ;3134
001a32  e195              B        |L1.7520|
                  |L1.6708|
001a34  69e0              LDR      r0,[r4,#0x1c]         ;3138
001a36  f0400010          ORR      r0,r0,#0x10           ;3138
001a3a  61e0              STR      r0,[r4,#0x1c]         ;3138
001a3c  e190              B        |L1.7520|
                  |L1.6718|
;;;3140   		}
;;;3141   	}
;;;3142   
;;;3143   else	if(AUSW_MAIN==22023)
001a3e  f5a041ac          SUB      r1,r0,#0x5600
001a42  3907              SUBS     r1,#7
001a44  d163              BNE      |L1.6926|
;;;3144   	{
;;;3145   
;;;3146   	//  
;;;3147   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT))
001a46  20d2              MOVS     r0,#0xd2
001a48  f7fffffe          BL       mess_find_unvol
001a4c  b110              CBZ      r0,|L1.6740|
001a4e  6828              LDR      r0,[r5,#0]  ; mess_data
001a50  2867              CMP      r0,#0x67
001a52  d023              BEQ      |L1.6812|
                  |L1.6740|
;;;3148   		{
;;;3149   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
;;;3150   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,4,1);
;;;3151        	}
;;;3152   	else 
;;;3153   		{
;;;3154   		if(!(ips_bat_av_stat)) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
001a54  7838              LDRB     r0,[r7,#0]  ; ips_bat_av_stat
001a56  b378              CBZ      r0,|L1.6840|
;;;3155        	else SET_REG(LPC_GPIO0->FIOSET,1,4,1);
001a58  69a0              LDR      r0,[r4,#0x18]
001a5a  f0400010          ORR      r0,r0,#0x10
001a5e  61a0              STR      r0,[r4,#0x18]
                  |L1.6752|
;;;3156   		} 
;;;3157   
;;;3158   
;;;3159   	//         .    
;;;3160   	#ifndef UKU2071x
;;;3161   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;3162   		{
;;;3163   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3164   		else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;3165   		}
;;;3166   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO1->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3167   	else SET_REG(LPC_GPIO3->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3168   	#endif
;;;3169   	#ifdef UKU2071x
;;;3170   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
001a60  20d2              MOVS     r0,#0xd2
001a62  f7fffffe          BL       mess_find_unvol
001a66  b110              CBZ      r0,|L1.6766|
001a68  6828              LDR      r0,[r5,#0]  ; mess_data
001a6a  2866              CMP      r0,#0x66
001a6c  d02a              BEQ      |L1.6852|
                  |L1.6766|
;;;3171   		{
;;;3172   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;3173   		else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3174   		}
;;;3175   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO1->FIOSET,1,SHIFT_REL_AV_NET,1);
001a6e  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
001a70  07c0              LSLS     r0,r0,#31
001a72  d033              BEQ      |L1.6876|
;;;3176   	else SET_REG(LPC_GPIO3->FIOSET,1,SHIFT_REL_AV_NET,1);
001a74  6fa0              LDR      r0,[r4,#0x78]
001a76  f0407000          ORR      r0,r0,#0x2000000
001a7a  67a0              STR      r0,[r4,#0x78]
                  |L1.6780|
;;;3177   	#endif
;;;3178   
;;;3179   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
001a7c  20d2              MOVS     r0,#0xd2
001a7e  f7fffffe          BL       mess_find_unvol
001a82  b110              CBZ      r0,|L1.6794|
001a84  6828              LDR      r0,[r5,#0]  ; mess_data
001a86  286a              CMP      r0,#0x6a
001a88  d02d              BEQ      |L1.6886|
                  |L1.6794|
;;;3180   		{
;;;3181   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
;;;3182   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,7,1);
;;;3183   	     }
;;;3184   	else 
;;;3185   		{
;;;3186   		if(!(avar_ind_stat&0x000007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
001a8a  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
001a8c  f4106fff          TST      r0,#0x7f8
001a90  d038              BEQ      |L1.6916|
;;;3187   	     else SET_REG(LPC_GPIO0->FIOSET,1,7,1);
001a92  69a0              LDR      r0,[r4,#0x18]
001a94  f0400080          ORR      r0,r0,#0x80
001a98  61a0              STR      r0,[r4,#0x18]
001a9a  e161              B        |L1.7520|
                  |L1.6812|
001a9c  6868              LDR      r0,[r5,#4]            ;3149  ; mess_data
001a9e  b130              CBZ      r0,|L1.6830|
001aa0  2801              CMP      r0,#1                 ;3150
001aa2  d1dd              BNE      |L1.6752|
001aa4  69a0              LDR      r0,[r4,#0x18]         ;3150
001aa6  f0400010          ORR      r0,r0,#0x10           ;3150
001aaa  61a0              STR      r0,[r4,#0x18]         ;3150
001aac  e7d8              B        |L1.6752|
                  |L1.6830|
001aae  69e0              LDR      r0,[r4,#0x1c]         ;3149
001ab0  f0400010          ORR      r0,r0,#0x10           ;3149
001ab4  61e0              STR      r0,[r4,#0x1c]         ;3149
001ab6  e7d3              B        |L1.6752|
                  |L1.6840|
001ab8  e7ff              B        |L1.6842|
                  |L1.6842|
001aba  69e0              LDR      r0,[r4,#0x1c]         ;3154
001abc  f0400010          ORR      r0,r0,#0x10           ;3154
001ac0  61e0              STR      r0,[r4,#0x1c]         ;3154
001ac2  e7cd              B        |L1.6752|
                  |L1.6852|
001ac4  6868              LDR      r0,[r5,#4]            ;3172  ; mess_data
001ac6  b120              CBZ      r0,|L1.6866|
001ac8  69e0              LDR      r0,[r4,#0x1c]         ;3173
001aca  f0407000          ORR      r0,r0,#0x2000000      ;3173
001ace  61e0              STR      r0,[r4,#0x1c]         ;3173
001ad0  e7d4              B        |L1.6780|
                  |L1.6866|
001ad2  69a0              LDR      r0,[r4,#0x18]         ;3172
001ad4  f0407000          ORR      r0,r0,#0x2000000      ;3172
001ad8  61a0              STR      r0,[r4,#0x18]         ;3172
001ada  e7cf              B        |L1.6780|
                  |L1.6876|
001adc  6ba0              LDR      r0,[r4,#0x38]         ;3175
001ade  f0407000          ORR      r0,r0,#0x2000000      ;3175
001ae2  63a0              STR      r0,[r4,#0x38]         ;3175
001ae4  e7ca              B        |L1.6780|
                  |L1.6886|
001ae6  6868              LDR      r0,[r5,#4]            ;3181  ; mess_data
001ae8  b110              CBZ      r0,|L1.6896|
001aea  2801              CMP      r0,#1                 ;3182
001aec  d005              BEQ      |L1.6906|
001aee  e137              B        |L1.7520|
                  |L1.6896|
001af0  69e0              LDR      r0,[r4,#0x1c]         ;3181
001af2  f0400080          ORR      r0,r0,#0x80           ;3181
001af6  61e0              STR      r0,[r4,#0x1c]         ;3181
001af8  e132              B        |L1.7520|
                  |L1.6906|
001afa  69a0              LDR      r0,[r4,#0x18]         ;3182
001afc  f0400080          ORR      r0,r0,#0x80           ;3182
001b00  61a0              STR      r0,[r4,#0x18]         ;3182
001b02  e12d              B        |L1.7520|
                  |L1.6916|
001b04  69e0              LDR      r0,[r4,#0x1c]         ;3186
001b06  f0400080          ORR      r0,r0,#0x80           ;3186
001b0a  61e0              STR      r0,[r4,#0x1c]         ;3186
001b0c  e128              B        |L1.7520|
                  |L1.6926|
;;;3188   		} 
;;;3189   	}
;;;3190   else	if(AUSW_MAIN==22043)
001b0e  f5a041ac          SUB      r1,r0,#0x5600
001b12  391b              SUBS     r1,r1,#0x1b
001b14  d171              BNE      |L1.7162|
;;;3191   	{
;;;3192   	//  
;;;3193   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT))
001b16  20d2              MOVS     r0,#0xd2
001b18  f7fffffe          BL       mess_find_unvol
001b1c  b110              CBZ      r0,|L1.6948|
001b1e  6828              LDR      r0,[r5,#0]  ; mess_data
001b20  2867              CMP      r0,#0x67
001b22  d033              BEQ      |L1.7052|
                  |L1.6948|
;;;3194   		{
;;;3195   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
;;;3196   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,4,1);
;;;3197        	}
;;;3198   	else 
;;;3199   		{
;;;3200   		if(!(ips_bat_av_stat)) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
001b24  7838              LDRB     r0,[r7,#0]  ; ips_bat_av_stat
001b26  b380              CBZ      r0,|L1.7050|
;;;3201        	else SET_REG(LPC_GPIO0->FIOSET,1,4,1);
001b28  69a0              LDR      r0,[r4,#0x18]
001b2a  f0400010          ORR      r0,r0,#0x10
001b2e  61a0              STR      r0,[r4,#0x18]
                  |L1.6960|
;;;3202   		} 
;;;3203   	//         .    
;;;3204   	#ifndef UKU2071x 
;;;3205   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;3206   		{
;;;3207   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3208   		else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;3209   		}
;;;3210   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO1->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3211   	else SET_REG(LPC_GPIO3->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3212   	#endif
;;;3213   	#ifdef UKU2071x 
;;;3214   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
001b30  20d2              MOVS     r0,#0xd2
001b32  f7fffffe          BL       mess_find_unvol
001b36  b110              CBZ      r0,|L1.6974|
001b38  6828              LDR      r0,[r5,#0]  ; mess_data
001b3a  2866              CMP      r0,#0x66
001b3c  d039              BEQ      |L1.7090|
                  |L1.6974|
;;;3215   		{
;;;3216   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;3217   		else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3218   		}
;;;3219   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO1->FIOSET,1,SHIFT_REL_AV_NET,1);
001b3e  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
001b40  07c0              LSLS     r0,r0,#31
001b42  d042              BEQ      |L1.7114|
;;;3220   	else SET_REG(LPC_GPIO3->FIOSET,1,SHIFT_REL_AV_NET,1);
001b44  6fa0              LDR      r0,[r4,#0x78]
001b46  f0407000          ORR      r0,r0,#0x2000000
001b4a  67a0              STR      r0,[r4,#0x78]
                  |L1.6988|
;;;3221   	#endif
;;;3222   
;;;3223   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
001b4c  20d2              MOVS     r0,#0xd2
001b4e  f7fffffe          BL       mess_find_unvol
001b52  b110              CBZ      r0,|L1.7002|
001b54  6828              LDR      r0,[r5,#0]  ; mess_data
001b56  286a              CMP      r0,#0x6a
001b58  d03c              BEQ      |L1.7124|
                  |L1.7002|
;;;3224   		{
;;;3225   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
;;;3226   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,7,1);
;;;3227   	     }
;;;3228   	else 
;;;3229   		{
;;;3230   		if(!(avar_ind_stat&0x000007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
001b5a  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
001b5c  f4106fff          TST      r0,#0x7f8
001b60  d046              BEQ      |L1.7152|
;;;3231   	     else SET_REG(LPC_GPIO0->FIOSET,1,7,1);
001b62  69a0              LDR      r0,[r4,#0x18]
001b64  f0400080          ORR      r0,r0,#0x80
001b68  61a0              STR      r0,[r4,#0x18]
                  |L1.7018|
;;;3232   		}
;;;3233   	//  
;;;3234   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
001b6a  20d2              MOVS     r0,#0xd2
001b6c  f7fffffe          BL       mess_find_unvol
001b70  b110              CBZ      r0,|L1.7032|
001b72  6828              LDR      r0,[r5,#0]  ; mess_data
001b74  286a              CMP      r0,#0x6a
001b76  d041              BEQ      |L1.7164|
                  |L1.7032|
;;;3235   		{
;;;3236   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;3237   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;3238        	}
;;;3239   	else 
;;;3240   		{
;;;3241   		if(!(avar_ind_stat&0x000007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
001b78  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
001b7a  f4106fff          TST      r0,#0x7f8
001b7e  d04c              BEQ      |L1.7194|
;;;3242        	else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
001b80  69a0              LDR      r0,[r4,#0x18]
001b82  f0400020          ORR      r0,r0,#0x20
001b86  61a0              STR      r0,[r4,#0x18]
001b88  e0ea              B        |L1.7520|
                  |L1.7050|
001b8a  e00d              B        |L1.7080|
                  |L1.7052|
001b8c  6868              LDR      r0,[r5,#4]            ;3195  ; mess_data
001b8e  b130              CBZ      r0,|L1.7070|
001b90  2801              CMP      r0,#1                 ;3196
001b92  d1cd              BNE      |L1.6960|
001b94  69a0              LDR      r0,[r4,#0x18]         ;3196
001b96  f0400010          ORR      r0,r0,#0x10           ;3196
001b9a  61a0              STR      r0,[r4,#0x18]         ;3196
001b9c  e7c8              B        |L1.6960|
                  |L1.7070|
001b9e  69e0              LDR      r0,[r4,#0x1c]         ;3195
001ba0  f0400010          ORR      r0,r0,#0x10           ;3195
001ba4  61e0              STR      r0,[r4,#0x1c]         ;3195
001ba6  e7c3              B        |L1.6960|
                  |L1.7080|
001ba8  69e0              LDR      r0,[r4,#0x1c]         ;3200
001baa  f0400010          ORR      r0,r0,#0x10           ;3200
001bae  61e0              STR      r0,[r4,#0x1c]         ;3200
001bb0  e7be              B        |L1.6960|
                  |L1.7090|
001bb2  6868              LDR      r0,[r5,#4]            ;3216  ; mess_data
001bb4  b120              CBZ      r0,|L1.7104|
001bb6  69e0              LDR      r0,[r4,#0x1c]         ;3217
001bb8  f0407000          ORR      r0,r0,#0x2000000      ;3217
001bbc  61e0              STR      r0,[r4,#0x1c]         ;3217
001bbe  e7c5              B        |L1.6988|
                  |L1.7104|
001bc0  69a0              LDR      r0,[r4,#0x18]         ;3216
001bc2  f0407000          ORR      r0,r0,#0x2000000      ;3216
001bc6  61a0              STR      r0,[r4,#0x18]         ;3216
001bc8  e7c0              B        |L1.6988|
                  |L1.7114|
001bca  6ba0              LDR      r0,[r4,#0x38]         ;3219
001bcc  f0407000          ORR      r0,r0,#0x2000000      ;3219
001bd0  63a0              STR      r0,[r4,#0x38]         ;3219
001bd2  e7bb              B        |L1.6988|
                  |L1.7124|
001bd4  6868              LDR      r0,[r5,#4]            ;3225  ; mess_data
001bd6  b130              CBZ      r0,|L1.7142|
001bd8  2801              CMP      r0,#1                 ;3226
001bda  d1c6              BNE      |L1.7018|
001bdc  69a0              LDR      r0,[r4,#0x18]         ;3226
001bde  f0400080          ORR      r0,r0,#0x80           ;3226
001be2  61a0              STR      r0,[r4,#0x18]         ;3226
001be4  e7c1              B        |L1.7018|
                  |L1.7142|
001be6  69e0              LDR      r0,[r4,#0x1c]         ;3225
001be8  f0400080          ORR      r0,r0,#0x80           ;3225
001bec  61e0              STR      r0,[r4,#0x1c]         ;3225
001bee  e7bc              B        |L1.7018|
                  |L1.7152|
001bf0  69e0              LDR      r0,[r4,#0x1c]         ;3230
001bf2  f0400080          ORR      r0,r0,#0x80           ;3230
001bf6  61e0              STR      r0,[r4,#0x1c]         ;3230
001bf8  e7b7              B        |L1.7018|
                  |L1.7162|
001bfa  e013              B        |L1.7204|
                  |L1.7164|
001bfc  6868              LDR      r0,[r5,#4]            ;3236  ; mess_data
001bfe  b110              CBZ      r0,|L1.7174|
001c00  2801              CMP      r0,#1                 ;3237
001c02  d005              BEQ      |L1.7184|
001c04  e0ac              B        |L1.7520|
                  |L1.7174|
001c06  69e0              LDR      r0,[r4,#0x1c]         ;3236
001c08  f0400020          ORR      r0,r0,#0x20           ;3236
001c0c  61e0              STR      r0,[r4,#0x1c]         ;3236
001c0e  e0a7              B        |L1.7520|
                  |L1.7184|
001c10  69a0              LDR      r0,[r4,#0x18]         ;3237
001c12  f0400020          ORR      r0,r0,#0x20           ;3237
001c16  61a0              STR      r0,[r4,#0x18]         ;3237
001c18  e0a2              B        |L1.7520|
                  |L1.7194|
001c1a  69e0              LDR      r0,[r4,#0x1c]         ;3241
001c1c  f0400020          ORR      r0,r0,#0x20           ;3241
001c20  61e0              STR      r0,[r4,#0x1c]         ;3241
001c22  e09d              B        |L1.7520|
                  |L1.7204|
;;;3243   		} 
;;;3244   	}
;;;3245   else	if(AUSW_MAIN==22033)
001c24  f5a041ac          SUB      r1,r0,#0x5600
001c28  3911              SUBS     r1,r1,#0x11
001c2a  d17c              BNE      |L1.7462|
;;;3246   	{
;;;3247   	#ifndef UKU2071x 
;;;3248   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;3249   		{
;;;3250   		if(mess_data[1]==0) SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;3251   		else SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;3252   		}
;;;3253   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;3254   	else SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;3255   	#endif
;;;3256   	#ifdef UKU2071x 
;;;3257   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
001c2c  20d2              MOVS     r0,#0xd2
001c2e  f7fffffe          BL       mess_find_unvol
001c32  b110              CBZ      r0,|L1.7226|
001c34  6828              LDR      r0,[r5,#0]  ; mess_data
001c36  2866              CMP      r0,#0x66
001c38  d03b              BEQ      |L1.7346|
                  |L1.7226|
;;;3258   		{
;;;3259   		if(mess_data[1]==0) SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
;;;3260   		else SET_REG(LPC_GPIO3->FIOSET,1,25,1);
;;;3261   		}
;;;3262   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO3->FIOCLR,1,25,1);
001c3a  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
001c3c  07c0              LSLS     r0,r0,#31
001c3e  d044              BEQ      |L1.7370|
;;;3263   	else SET_REG(LPC_GPIO3->FIOSET,1,25,1);
001c40  6fa0              LDR      r0,[r4,#0x78]
001c42  f0407000          ORR      r0,r0,#0x2000000
001c46  67a0              STR      r0,[r4,#0x78]
                  |L1.7240|
;;;3264   	#endif
;;;3265   	
;;;3266   	
;;;3267   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
001c48  20d2              MOVS     r0,#0xd2
001c4a  f7fffffe          BL       mess_find_unvol
001c4e  b110              CBZ      r0,|L1.7254|
001c50  6828              LDR      r0,[r5,#0]  ; mess_data
001c52  286a              CMP      r0,#0x6a
001c54  d03e              BEQ      |L1.7380|
                  |L1.7254|
;;;3268   		{
;;;3269   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
;;;3270   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,7,1);
;;;3271   	     }
;;;3272   	else 
;;;3273   		{
;;;3274   		if(!(avar_ind_stat&0x000007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,7,1);
001c56  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
001c58  f4106fff          TST      r0,#0x7f8
001c5c  d048              BEQ      |L1.7408|
;;;3275   	     else SET_REG(LPC_GPIO0->FIOSET,1,7,1);
001c5e  69a0              LDR      r0,[r4,#0x18]
001c60  e016              B        |L1.7312|
001c62  0000              DCW      0x0000
                  |L1.7268|
                          DCD      0x4002c000
                  |L1.7272|
                          DCD      0xfff000ff
                  |L1.7276|
                          DCD      0x2009c000
                  |L1.7280|
                          DCD      bat
                  |L1.7284|
                          DCD      tbatdisable_stat
                  |L1.7288|
                          DCD      tbatdisable_cmnd
                  |L1.7292|
                          DCD      main_1Hz_cnt
                  |L1.7296|
                          DCD      mess_data
                  |L1.7300|
                          DCD      avar_ind_stat
                  |L1.7304|
                          DCD      AUSW_MAIN
                  |L1.7308|
                          DCD      ips_bat_av_stat
                  |L1.7312|
001c90  f0400080          ORR      r0,r0,#0x80
001c94  61a0              STR      r0,[r4,#0x18]
                  |L1.7318|
;;;3276   		} 
;;;3277   
;;;3278   	//  
;;;3279   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BAT))
001c96  20d2              MOVS     r0,#0xd2
001c98  f7fffffe          BL       mess_find_unvol
001c9c  b110              CBZ      r0,|L1.7332|
001c9e  6828              LDR      r0,[r5,#0]  ; mess_data
001ca0  2867              CMP      r0,#0x67
001ca2  d02a              BEQ      |L1.7418|
                  |L1.7332|
;;;3280   		{
;;;3281   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
;;;3282   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,4,1);
;;;3283        	}
;;;3284   	else 
;;;3285   		{
;;;3286   		if(!(ips_bat_av_stat)) SET_REG(LPC_GPIO0->FIOCLR,1,4,1);
001ca4  7838              LDRB     r0,[r7,#0]  ; ips_bat_av_stat
001ca6  b390              CBZ      r0,|L1.7438|
;;;3287        	else SET_REG(LPC_GPIO0->FIOSET,1,4,1);
001ca8  69a0              LDR      r0,[r4,#0x18]
001caa  f0400010          ORR      r0,r0,#0x10
001cae  61a0              STR      r0,[r4,#0x18]
001cb0  e056              B        |L1.7520|
                  |L1.7346|
001cb2  6868              LDR      r0,[r5,#4]            ;3259  ; mess_data
001cb4  b120              CBZ      r0,|L1.7360|
001cb6  6fa0              LDR      r0,[r4,#0x78]         ;3260
001cb8  f0407000          ORR      r0,r0,#0x2000000      ;3260
001cbc  67a0              STR      r0,[r4,#0x78]         ;3260
001cbe  e7c3              B        |L1.7240|
                  |L1.7360|
001cc0  6fe0              LDR      r0,[r4,#0x7c]         ;3259
001cc2  f0407000          ORR      r0,r0,#0x2000000      ;3259
001cc6  67e0              STR      r0,[r4,#0x7c]         ;3259
001cc8  e7be              B        |L1.7240|
                  |L1.7370|
001cca  6fe0              LDR      r0,[r4,#0x7c]         ;3262
001ccc  f0407000          ORR      r0,r0,#0x2000000      ;3262
001cd0  67e0              STR      r0,[r4,#0x7c]         ;3262
001cd2  e7b9              B        |L1.7240|
                  |L1.7380|
001cd4  6868              LDR      r0,[r5,#4]            ;3269  ; mess_data
001cd6  b130              CBZ      r0,|L1.7398|
001cd8  2801              CMP      r0,#1                 ;3270
001cda  d1dc              BNE      |L1.7318|
001cdc  69a0              LDR      r0,[r4,#0x18]         ;3270
001cde  f0400080          ORR      r0,r0,#0x80           ;3270
001ce2  61a0              STR      r0,[r4,#0x18]         ;3270
001ce4  e7d7              B        |L1.7318|
                  |L1.7398|
001ce6  69e0              LDR      r0,[r4,#0x1c]         ;3269
001ce8  f0400080          ORR      r0,r0,#0x80           ;3269
001cec  61e0              STR      r0,[r4,#0x1c]         ;3269
001cee  e7d2              B        |L1.7318|
                  |L1.7408|
001cf0  69e0              LDR      r0,[r4,#0x1c]         ;3274
001cf2  f0400080          ORR      r0,r0,#0x80           ;3274
001cf6  61e0              STR      r0,[r4,#0x1c]         ;3274
001cf8  e7cd              B        |L1.7318|
                  |L1.7418|
001cfa  6868              LDR      r0,[r5,#4]            ;3281  ; mess_data
001cfc  b110              CBZ      r0,|L1.7428|
001cfe  2801              CMP      r0,#1                 ;3282
001d00  d007              BEQ      |L1.7442|
001d02  e02d              B        |L1.7520|
                  |L1.7428|
001d04  69e0              LDR      r0,[r4,#0x1c]         ;3281
001d06  f0400010          ORR      r0,r0,#0x10           ;3281
001d0a  61e0              STR      r0,[r4,#0x1c]         ;3281
001d0c  e028              B        |L1.7520|
                  |L1.7438|
001d0e  e005              B        |L1.7452|
001d10  e009              B        |L1.7462|
                  |L1.7442|
001d12  69a0              LDR      r0,[r4,#0x18]         ;3282
001d14  f0400010          ORR      r0,r0,#0x10           ;3282
001d18  61a0              STR      r0,[r4,#0x18]         ;3282
001d1a  e021              B        |L1.7520|
                  |L1.7452|
001d1c  69e0              LDR      r0,[r4,#0x1c]         ;3286
001d1e  f0400010          ORR      r0,r0,#0x10           ;3286
001d22  61e0              STR      r0,[r4,#0x1c]         ;3286
001d24  e01c              B        |L1.7520|
                  |L1.7462|
;;;3288   		} 
;;;3289   	} 	 
;;;3290   else	
;;;3291   	{
;;;3292   	//         .    
;;;3293   	#ifndef UKU2071x 
;;;3294   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;3295   		{
;;;3296   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3297   		else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;3298   		}
;;;3299   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO1->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3300   	else SET_REG(LPC_GPIO3->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3301   	#endif
;;;3302   	#ifdef UKU2071x 
;;;3303   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
001d26  20d2              MOVS     r0,#0xd2
001d28  f7fffffe          BL       mess_find_unvol
001d2c  b110              CBZ      r0,|L1.7476|
001d2e  6828              LDR      r0,[r5,#0]  ; mess_data
001d30  2866              CMP      r0,#0x66
001d32  d024              BEQ      |L1.7550|
                  |L1.7476|
;;;3304   		{
;;;3305   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;3306   		else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3307   		}
;;;3308   	else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO1->FIOSET,1,SHIFT_REL_AV_NET,1);
001d34  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
001d36  07c0              LSLS     r0,r0,#31
001d38  d02d              BEQ      |L1.7574|
;;;3309   	else SET_REG(LPC_GPIO3->FIOSET,1,SHIFT_REL_AV_NET,1);
001d3a  6fa0              LDR      r0,[r4,#0x78]
001d3c  f0407000          ORR      r0,r0,#0x2000000
001d40  67a0              STR      r0,[r4,#0x78]
                  |L1.7490|
;;;3310   	#endif
;;;3311   
;;;3312   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_BPS))
001d42  20d2              MOVS     r0,#0xd2
001d44  f7fffffe          BL       mess_find_unvol
001d48  b110              CBZ      r0,|L1.7504|
001d4a  6828              LDR      r0,[r5,#0]  ; mess_data
001d4c  286a              CMP      r0,#0x6a
001d4e  d027              BEQ      |L1.7584|
                  |L1.7504|
;;;3313   		{
;;;3314   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
;;;3315   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
;;;3316        	}
;;;3317   	else 
;;;3318   		{
;;;3319   		if(!(avar_ind_stat&0x000007f8)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_BPS,1);
001d50  6830              LDR      r0,[r6,#0]  ; avar_ind_stat
001d52  f4106fff          TST      r0,#0x7f8
001d56  d031              BEQ      |L1.7612|
;;;3320        	else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_BPS,1);
001d58  69a0              LDR      r0,[r4,#0x18]
001d5a  f0400020          ORR      r0,r0,#0x20
001d5e  61a0              STR      r0,[r4,#0x18]
                  |L1.7520|
;;;3321   		}
;;;3322   	}
;;;3323   //   
;;;3324   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_EXT))	 
001d60  20d2              MOVS     r0,#0xd2
001d62  f7fffffe          BL       mess_find_unvol
001d66  b110              CBZ      r0,|L1.7534|
001d68  6828              LDR      r0,[r5,#0]  ; mess_data
001d6a  2871              CMP      r0,#0x71
001d6c  d02b              BEQ      |L1.7622|
                  |L1.7534|
;;;3325   	{
;;;3326   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,9,1);
;;;3327   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,9,1);
;;;3328   	}
;;;3329   else 
;;;3330   	{
;;;3331   	if(!speedChIsOn) SET_REG(LPC_GPIO0->FIOCLR,1,9,1);
001d6e  48fb              LDR      r0,|L1.8540|
001d70  8800              LDRH     r0,[r0,#0]  ; speedChIsOn
001d72  b388              CBZ      r0,|L1.7640|
;;;3332   	else SET_REG(LPC_GPIO0->FIOSET,1,9,1);
001d74  69a0              LDR      r0,[r4,#0x18]
001d76  f4407000          ORR      r0,r0,#0x200
001d7a  61a0              STR      r0,[r4,#0x18]
                  |L1.7548|
;;;3333   	} 	
;;;3334   #endif
;;;3335   
;;;3336   #ifdef UKU_KONTUR
;;;3337   
;;;3338   //  
;;;3339   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_COMM))
;;;3340   	{
;;;3341   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_COMM,1);
;;;3342   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_COMM,1);
;;;3343   	}
;;;3344   else 
;;;3345   	{
;;;3346        if(  (!(avar_ind_stat&0x00007fff)) &&
;;;3347             ((!SK_REL_EN[0]) || (sk_av_stat[0]!=sasON))  &&
;;;3348             ((!SK_REL_EN[1]) || (sk_av_stat[1]!=sasON))  &&
;;;3349             ((!SK_REL_EN[2]) || (sk_av_stat[2]!=sasON))  /*&&
;;;3350             ((!SK_REL_EN[3]) || (sk_av_stat[3]!=sasON))*/  )SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_COMM,1);
;;;3351        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_COMM,1);
;;;3352   	}
;;;3353   
;;;3354   	
;;;3355   //rel_warm_plazma=0;
;;;3356   //    
;;;3357   /*
;;;3358   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_WARM))
;;;3359   	{
;;;3360   	if(mess_data[1]==0)
;;;3361   		{
;;;3362   		SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_WARM,1);
;;;3363   		rel_warm_plazma=1;
;;;3364   		}
;;;3365   	else if(mess_data[1]==1) 
;;;3366   		{
;;;3367   		SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_WARM,1);
;;;3368   		rel_warm_plazma=2;
;;;3369   		}
;;;3370        }
;;;3371   else 
;;;3372   	{
;;;3373   	if(warm_stat_k==wsOFF) 
;;;3374   		{
;;;3375   		SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_WARM,1);
;;;3376   		rel_warm_plazma=3;
;;;3377   		}
;;;3378        else 
;;;3379   		{
;;;3380   		SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_WARM,1);
;;;3381   		rel_warm_plazma=4;
;;;3382   		}
;;;3383   	}
;;;3384   */
;;;3385   // 
;;;3386   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LIGHT))
;;;3387   	{
;;;3388   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;3389   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;3390        }
;;;3391   else 
;;;3392   	{
;;;3393   	if(sk_av_stat[0]!=sasON) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;3394        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;3395   	}
;;;3396   
;;;3397   
;;;3398   
;;;3399   //  
;;;3400   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LOAD_OFF))
;;;3401   	{
;;;3402   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;3403   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;3404        }
;;;3405   else if(tloaddisable_cmnd==0)
;;;3406   	{
;;;3407   	SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;3408   	}
;;;3409   else if((tloaddisable_cmnd)&&(tloaddisable_cmnd<=11))
;;;3410   	{
;;;3411   	SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;3412   	}
;;;3413   
;;;3414   else 
;;;3415   	{
;;;3416   	if(!(tloaddisable_stat==tldsON)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LOAD_OFF,1);
;;;3417        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LOAD_OFF,1);
;;;3418   	} 
;;;3419   
;;;3420   //    
;;;3421   if(RELE_LOG)
;;;3422   	{
;;;3423   	if((mess_find_unvol(MESS2RELE_HNDL))&&(mess_data[0]==PARAM_RELE_VENT_WARM))
;;;3424   		{
;;;3425   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;3426   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;3427   		}
;;;3428   	else 
;;;3429   		{
;;;3430   		if(warm_stat_k==wsOFF) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;3431   	     else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;3432   		} 
;;;3433   
;;;3434   	}
;;;3435   else 
;;;3436   	{
;;;3437   	if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VENT_WARM))
;;;3438   		{
;;;3439   		if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;3440   		else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;3441   		}
;;;3442   	else 
;;;3443   		{
;;;3444   		if(vent_stat_k==vsOFF) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT_WARM,1);
;;;3445   	     else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT_WARM,1);
;;;3446   		} 
;;;3447   	}
;;;3448   #endif
;;;3449   
;;;3450   
;;;3451   #ifdef UKU_TELECORE2015
;;;3452   //  
;;;3453   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_AV_NET))
;;;3454   	{
;;;3455   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3456   	else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;3457   	}
;;;3458   else	if(!(avar_ind_stat&0x00000001)) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_AV_NET,1);
;;;3459   else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_AV_NET,1);
;;;3460   
;;;3461   
;;;3462   // 
;;;3463   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_LIGHT))
;;;3464   	{
;;;3465   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;3466   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;3467        }
;;;3468   else 
;;;3469   	{
;;;3470   	if(sk_av_stat[0]!=sasON) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_LIGHT,1);
;;;3471        else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_LIGHT,1);
;;;3472   	}
;;;3473   
;;;3474   // 
;;;3475   if((mess_find_unvol(MESS2RELE_HNDL))&&(mess_data[0]==PARAM_RELE_WARM))
;;;3476   	{
;;;3477   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_WARM,1);
;;;3478   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_WARM,1);
;;;3479   	}
;;;3480   else 
;;;3481   	{
;;;3482   	if(warm_stat_k==wsOFF) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_WARM,1);
;;;3483        else SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_WARM,1);
;;;3484   	} 
;;;3485   // 
;;;3486   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VENT))
;;;3487   	{
;;;3488   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;3489   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3490   	}
;;;3491   else 
;;;3492   	{
;;;3493   	if(vent_stat_k==vsOFF) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VENT,1);
;;;3494        else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VENT,1);
;;;3495   	} 
;;;3496   
;;;3497   //  
;;;3498   if((mess_find_unvol(MESS2RELE_HNDL))&&	(mess_data[0]==PARAM_RELE_VVENT))
;;;3499   	{
;;;3500   	if(mess_data[1]==0) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VVENT,1);
;;;3501   	else if(mess_data[1]==1) SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VVENT,1);
;;;3502   	}
;;;3503   else 
;;;3504   	{
;;;3505   	if(vvent_stat_k==vsOFF) SET_REG(LPC_GPIO0->FIOSET,1,SHIFT_REL_VVENT,1);
;;;3506        else SET_REG(LPC_GPIO0->FIOCLR,1,SHIFT_REL_VVENT,1);
;;;3507   	} 
;;;3508   
;;;3509   #endif
;;;3510   
;;;3511   }
001d7c  e4b2              B        |L1.5860|
                  |L1.7550|
001d7e  6868              LDR      r0,[r5,#4]            ;3305  ; mess_data
001d80  b120              CBZ      r0,|L1.7564|
001d82  69e0              LDR      r0,[r4,#0x1c]         ;3306
001d84  f0407000          ORR      r0,r0,#0x2000000      ;3306
001d88  61e0              STR      r0,[r4,#0x1c]         ;3306
001d8a  e7da              B        |L1.7490|
                  |L1.7564|
001d8c  69a0              LDR      r0,[r4,#0x18]         ;3305
001d8e  f0407000          ORR      r0,r0,#0x2000000      ;3305
001d92  61a0              STR      r0,[r4,#0x18]         ;3305
001d94  e7d5              B        |L1.7490|
                  |L1.7574|
001d96  6ba0              LDR      r0,[r4,#0x38]         ;3308
001d98  f0407000          ORR      r0,r0,#0x2000000      ;3308
001d9c  63a0              STR      r0,[r4,#0x38]         ;3308
001d9e  e7d0              B        |L1.7490|
                  |L1.7584|
001da0  6868              LDR      r0,[r5,#4]            ;3314  ; mess_data
001da2  b130              CBZ      r0,|L1.7602|
001da4  2801              CMP      r0,#1                 ;3315
001da6  d1db              BNE      |L1.7520|
001da8  69a0              LDR      r0,[r4,#0x18]         ;3315
001daa  f0400020          ORR      r0,r0,#0x20           ;3315
001dae  61a0              STR      r0,[r4,#0x18]         ;3315
001db0  e7d6              B        |L1.7520|
                  |L1.7602|
001db2  69e0              LDR      r0,[r4,#0x1c]         ;3314
001db4  f0400020          ORR      r0,r0,#0x20           ;3314
001db8  61e0              STR      r0,[r4,#0x1c]         ;3314
001dba  e7d1              B        |L1.7520|
                  |L1.7612|
001dbc  69e0              LDR      r0,[r4,#0x1c]         ;3319
001dbe  f0400020          ORR      r0,r0,#0x20           ;3319
001dc2  61e0              STR      r0,[r4,#0x1c]         ;3319
001dc4  e7cc              B        |L1.7520|
                  |L1.7622|
001dc6  6868              LDR      r0,[r5,#4]            ;3326  ; mess_data
001dc8  b138              CBZ      r0,|L1.7642|
001dca  2801              CMP      r0,#1                 ;3327
001dcc  d1d6              BNE      |L1.7548|
001dce  69a0              LDR      r0,[r4,#0x18]         ;3327
001dd0  f4407000          ORR      r0,r0,#0x200          ;3327
001dd4  61a0              STR      r0,[r4,#0x18]         ;3327
001dd6  e485              B        |L1.5860|
                  |L1.7640|
001dd8  e004              B        |L1.7652|
                  |L1.7642|
001dda  69e0              LDR      r0,[r4,#0x1c]         ;3326
001ddc  f4407000          ORR      r0,r0,#0x200          ;3326
001de0  61e0              STR      r0,[r4,#0x1c]         ;3326
001de2  e47f              B        |L1.5860|
                  |L1.7652|
001de4  69e0              LDR      r0,[r4,#0x1c]         ;3331
001de6  f4407000          ORR      r0,r0,#0x200          ;3331
001dea  61e0              STR      r0,[r4,#0x1c]         ;3331
001dec  e47a              B        |L1.5860|
;;;3512   
                          ENDP

                  bps_hndl PROC
;;;3513   //-----------------------------------------------
;;;3514   void bps_hndl(void)
001dee  e92d5ff0          PUSH     {r4-r12,lr}
;;;3515   {
;;;3516   char ptr__,i;
;;;3517   
;;;3518   if(sh_cnt0<10)
001df2  4edb              LDR      r6,|L1.8544|
;;;3519   	{
;;;3520   	sh_cnt0++;
;;;3521   	if(sh_cnt0>=10)
;;;3522   		{
;;;3523   		sh_cnt0=0;
;;;3524   		b1Hz_sh=1;
001df4  f04f0a01          MOV      r10,#1
001df8  f04f0800          MOV      r8,#0                 ;3523
001dfc  7c70              LDRB     r0,[r6,#0x11]         ;3518  ; sh_cnt0
001dfe  280a              CMP      r0,#0xa               ;3518
001e00  d209              BCS      |L1.7702|
001e02  f1000001          ADD      r0,r0,#1              ;3520
001e06  b2c0              UXTB     r0,r0                 ;3520
001e08  7470              STRB     r0,[r6,#0x11]         ;3520
001e0a  280a              CMP      r0,#0xa               ;3521
001e0c  d303              BCC      |L1.7702|
001e0e  f8868011          STRB     r8,[r6,#0x11]         ;3523
001e12  f886a012          STRB     r10,[r6,#0x12]
                  |L1.7702|
;;;3525   		}
;;;3526   	}
;;;3527   
;;;3528   /*if(sh_cnt1<5)
;;;3529   	{
;;;3530   	sh_cnt1++;
;;;3531   	if(sh_cnt1==5)
;;;3532   		{
;;;3533   		sh_cnt1=0;
;;;3534   		b2Hz_sh=1;
;;;3535   		}
;;;3536   	} */
;;;3537   
;;;3538   
;;;3539   /*
;;;3540   if(mess_find(MESS_SRC_ON_OFF))
;;;3541   	{
;;;3542   	if(mess_data[0]==_MESS_SRC_MASK_BLOK_2SEC)
;;;3543   		{
;;;3544   		char i;
;;;3545   		for(i=0;i<NUMIST;i++)
;;;3546   			{
;;;3547   			if(mess_data[1]&(1<<i))src[i]._ist_blok_cnt=20;
;;;3548   			}
;;;3549   		
;;;3550   		}
;;;3551   	else if(mess_data[0]==_MESS_SRC_MASK_UNBLOK)
;;;3552   		{
;;;3553   		char i;
;;;3554   		for(i=0;i<NUMIST;i++)
;;;3555   			{
;;;3556   			if(mess_data[1]&(1<<i))src[i]._ist_blok_cnt=0;
;;;3557   			}
;;;3558   		
;;;3559   		}
;;;3560   	}
;;;3561   	
;;;3562   else if(mess_find(_MESS_SRC_MASK_ON))
;;;3563   	{				
;;;3564   	if(mess_data[0]==_MESS_SRC_MASK_ON)
;;;3565   		{
;;;3566   		char i;
;;;3567   		for(i=0;i<NUMIST;i++)
;;;3568   			{
;;;3569   			if(mess_data[1]&(1<<i))
;;;3570   				{
;;;3571   				src[i]._ist_blok_cnt=0;
;;;3572   				src[i]._flags_tu=2;
;;;3573   				}
;;;3574   			}
;;;3575   		
;;;3576   		}				
;;;3577   	}*/
;;;3578   
;;;3579   
;;;3580   
;;;3581   /*else*/ 
;;;3582   bps_on_mask=0;
001e16  f8a68042          STRH     r8,[r6,#0x42]
;;;3583   bps_off_mask=0;
001e1a  f8a68044          STRH     r8,[r6,#0x44]
;;;3584   
;;;3585   if(mess_find_unvol(MESS2BPS_HNDL))
001e1e  20cd              MOVS     r0,#0xcd
001e20  f7fffffe          BL       mess_find_unvol
;;;3586   	{
;;;3587   	if(mess_data[0]==PARAM_BPS_ALL_OFF_AFTER_2SEC)
;;;3588   		{
;;;3589   		bps_off_mask=0xffff;
;;;3590   		}
;;;3591   
;;;3592   	if(mess_data[0]==PARAM_BPS_MASK_OFF_AFTER_2SEC)
;;;3593   		{
;;;3594   		bps_off_mask=mess_data[1];
;;;3595   		}
;;;3596   
;;;3597   	if(mess_data[0]==PARAM_BPS_MASK_ON)
;;;3598   		{
;;;3599   		bps_on_mask=mess_data[1];
;;;3600   		}
;;;3601   
;;;3602   	if(mess_data[0]==PARAM_BPS_ALL_ON)
;;;3603   		{
;;;3604   		bps_on_mask=0xffff;
;;;3605   		}
;;;3606   
;;;3607   	if(mess_data[0]==PARAM_BPS_MASK_ON_OFF_AFTER_2SEC)
;;;3608   		{
;;;3609   		bps_on_mask=mess_data[1];
;;;3610   		bps_off_mask=~(mess_data[1]);
;;;3611   		}
;;;3612   
;;;3613   
;;;3614   	for(i=0;i<=NUMIST;i++)
;;;3615   		{
;;;3616   		if(bps_off_mask&(1<<i)) bps[i]._blok_cnt++;
001e24  4fcf              LDR      r7,|L1.8548|
001e26  f8dfb340          LDR      r11,|L1.8552|
001e2a  b3a0              CBZ      r0,|L1.7830|
001e2c  4acf              LDR      r2,|L1.8556|
001e2e  f64f71ff          MOV      r1,#0xffff            ;3589
001e32  6810              LDR      r0,[r2,#0]            ;3587  ; mess_data
001e34  28ce              CMP      r0,#0xce              ;3587
001e36  d101              BNE      |L1.7740|
001e38  f8a61044          STRH     r1,[r6,#0x44]         ;3589
                  |L1.7740|
001e3c  28cf              CMP      r0,#0xcf              ;3592
001e3e  d102              BNE      |L1.7750|
001e40  6853              LDR      r3,[r2,#4]            ;3594  ; mess_data
001e42  f8a63044          STRH     r3,[r6,#0x44]         ;3594
                  |L1.7750|
001e46  28d1              CMP      r0,#0xd1              ;3597
001e48  d102              BNE      |L1.7760|
001e4a  6853              LDR      r3,[r2,#4]            ;3599  ; mess_data
001e4c  f8a63042          STRH     r3,[r6,#0x42]         ;3599
                  |L1.7760|
001e50  28d2              CMP      r0,#0xd2              ;3602
001e52  d101              BNE      |L1.7768|
001e54  f8a61042          STRH     r1,[r6,#0x42]         ;3604
                  |L1.7768|
001e58  28d0              CMP      r0,#0xd0              ;3607
001e5a  d106              BNE      |L1.7786|
001e5c  6850              LDR      r0,[r2,#4]            ;3609  ; mess_data
001e5e  f8a60042          STRH     r0,[r6,#0x42]         ;3609
001e62  ea6f0000          MVN      r0,r0                 ;3610
001e66  f8a60044          STRH     r0,[r6,#0x44]         ;3610
                  |L1.7786|
001e6a  f04f0400          MOV      r4,#0                 ;3614
001e6e  e037              B        |L1.7904|
                  |L1.7792|
001e70  f8b60044          LDRH     r0,[r6,#0x44]  ; bps_off_mask
001e74  fa0af904          LSL      r9,r10,r4
001e78  ea190f00          TST      r9,r0
001e7c  d00c              BEQ      |L1.7832|
001e7e  ebc400c4          RSB      r0,r4,r4,LSL #3
001e82  eb000040          ADD      r0,r0,r0,LSL #1
001e86  eb070080          ADD      r0,r7,r0,LSL #2
001e8a  f8301f40          LDRH     r1,[r0,#0x40]!
001e8e  f1010101          ADD      r1,r1,#1
001e92  8001              STRH     r1,[r0,#0]
001e94  e008              B        |L1.7848|
                  |L1.7830|
001e96  e028              B        |L1.7914|
                  |L1.7832|
;;;3617   		else bps[i]._blok_cnt=0;
001e98  ebc400c4          RSB      r0,r4,r4,LSL #3
001e9c  eb000040          ADD      r0,r0,r0,LSL #1
001ea0  eb070080          ADD      r0,r7,r0,LSL #2
001ea4  f8a08040          STRH     r8,[r0,#0x40]
                  |L1.7848|
;;;3618   		gran(&bps[i]._blok_cnt,0,50);
001ea8  ebc400c4          RSB      r0,r4,r4,LSL #3
001eac  eb000040          ADD      r0,r0,r0,LSL #1
001eb0  eb070580          ADD      r5,r7,r0,LSL #2
001eb4  f1050040          ADD      r0,r5,#0x40
001eb8  2232              MOVS     r2,#0x32
001eba  2100              MOVS     r1,#0
001ebc  f7fffffe          BL       gran
;;;3619   		if(bps[i]._blok_cnt>20) bps[i]._flags_tu=1;
001ec0  f9b50040          LDRSH    r0,[r5,#0x40]
001ec4  2814              CMP      r0,#0x14
001ec6  dd01              BLE      |L1.7884|
001ec8  f885a02c          STRB     r10,[r5,#0x2c]
                  |L1.7884|
;;;3620   		if(bps_on_mask&(1<<i)) bps[i]._flags_tu=0;
001ecc  f8b60042          LDRH     r0,[r6,#0x42]  ; bps_on_mask
001ed0  ea190f00          TST      r9,r0
001ed4  d001              BEQ      |L1.7898|
001ed6  f885802c          STRB     r8,[r5,#0x2c]
                  |L1.7898|
001eda  f1040401          ADD      r4,r4,#1              ;3614
001ede  b2e4              UXTB     r4,r4                 ;3614
                  |L1.7904|
001ee0  f9bb0000          LDRSH    r0,[r11,#0]           ;3614  ; NUMIST
001ee4  4284              CMP      r4,r0                 ;3614
001ee6  ddc3              BLE      |L1.7792|
001ee8  e047              B        |L1.8058|
                  |L1.7914|
;;;3621   	     }
;;;3622   
;;;3623   	
;;;3624   /*
;;;3625   
;;;3626   	if(bps_all_off_cnt>20)
;;;3627   		{
;;;3628   		for(i=0;i<=NUMIST;i++)
;;;3629   			{
;;;3630   	     	bps[i]._flags_tu=1;
;;;3631   	     	}
;;;3632   		}
;;;3633   	else if(bps_mask_off_cnt>20)
;;;3634   		{
;;;3635   		for(i=0;i<=NUMIST;i++)
;;;3636   			{
;;;3637   			if(mess_data[1]&(1<<i)) bps[i]._flags_tu=1;
;;;3638   	     	}
;;;3639   		}	
;;;3640   		
;;;3641   	else if(bps_mask_on_off_cnt>20)
;;;3642   		{
;;;3643   		for(i=0;i<=NUMIST;i++)
;;;3644   			{
;;;3645   			if(mess_data[1]&(1<<i)) bps[i]._flags_tu=1;
;;;3646   			else bps[i]._flags_tu=0;
;;;3647   	     	}
;;;3648   		}
;;;3649   		
;;;3650   	if(mess_data[0]==PARAM_BPS_MASK_ON)
;;;3651   		{
;;;3652   		for(i=0;i<=NUMIST;i++)
;;;3653   			{
;;;3654   			if(mess_data[1]&(1<<i)) bps[i]._flags_tu=0;
;;;3655   	     	}
;;;3656   		}
;;;3657   */										
;;;3658   	}
;;;3659   
;;;3660   
;;;3661   else if(b1Hz_sh)
001eea  7cb0              LDRB     r0,[r6,#0x12]  ; b1Hz_sh
001eec  b3b8              CBZ      r0,|L1.8030|
;;;3662   	{
;;;3663   	ptr__=0;
001eee  f04f0100          MOV      r1,#0
;;;3664        for(i=0;i<=NUMIST;i++)
001ef2  4608              MOV      r0,r1
001ef4  f9bb2000          LDRSH    r2,[r11,#0]           ;3614
001ef8  e00a              B        |L1.7952|
                  |L1.7930|
;;;3665   		{
;;;3666   	     bps[i]._flags_tu=1;
001efa  ebc003c0          RSB      r3,r0,r0,LSL #3
001efe  eb030343          ADD      r3,r3,r3,LSL #1
001f02  eb070383          ADD      r3,r7,r3,LSL #2
001f06  f883a02c          STRB     r10,[r3,#0x2c]
001f0a  f1000001          ADD      r0,r0,#1              ;3664
001f0e  b2c0              UXTB     r0,r0                 ;3664
                  |L1.7952|
001f10  4290              CMP      r0,r2                 ;3664
001f12  ddf2              BLE      |L1.7930|
;;;3667   	     }	
;;;3668     	     
;;;3669     	for(i=0;(i<NUMIST)&&(ptr__<num_necc);i++)
001f14  f04f0000          MOV      r0,#0
001f18  4b95              LDR      r3,|L1.8560|
001f1a  f9b35000          LDRSH    r5,[r3,#0]
001f1e  e012              B        |L1.8006|
                  |L1.7968|
;;;3670     		{
;;;3671     	     if((bps[i]._state==bsRDY)||(bps[i]._state==bsWRK))
001f20  ebc003c0          RSB      r3,r0,r0,LSL #3
001f24  eb030343          ADD      r3,r3,r3,LSL #1
001f28  eb070383          ADD      r3,r7,r3,LSL #2
001f2c  789c              LDRB     r4,[r3,#2]
001f2e  2c02              CMP      r4,#2
001f30  d001              BEQ      |L1.7990|
001f32  2c01              CMP      r4,#1
001f34  d104              BNE      |L1.8000|
                  |L1.7990|
;;;3672     	         	{
;;;3673     	         	bps[i]._flags_tu=0;
001f36  f883802c          STRB     r8,[r3,#0x2c]
;;;3674     	         	ptr__++;
001f3a  f1010101          ADD      r1,r1,#1
001f3e  b2c9              UXTB     r1,r1
                  |L1.8000|
001f40  f1000001          ADD      r0,r0,#1              ;3669
001f44  b2c0              UXTB     r0,r0                 ;3669
                  |L1.8006|
001f46  4290              CMP      r0,r2                 ;3669
001f48  da01              BGE      |L1.8014|
001f4a  42a9              CMP      r1,r5                 ;3669
001f4c  dbe8              BLT      |L1.7968|
                  |L1.8014|
;;;3675     	         	}
;;;3676     	     }
;;;3677   	if(main_1Hz_cnt<60)
001f4e  4889              LDR      r0,|L1.8564|
001f50  f9b00000          LDRSH    r0,[r0,#0]  ; main_1Hz_cnt
001f54  283c              CMP      r0,#0x3c
001f56  da10              BGE      |L1.8058|
;;;3678   		{
;;;3679        	for(i=0;i<=NUMIST;i++)
001f58  f04f0000          MOV      r0,#0
001f5c  e00b              B        |L1.8054|
                  |L1.8030|
001f5e  e00c              B        |L1.8058|
                  |L1.8032|
;;;3680   			{
;;;3681   	     	bps[i]._flags_tu=0;
001f60  ebc001c0          RSB      r1,r0,r0,LSL #3
001f64  eb010141          ADD      r1,r1,r1,LSL #1
001f68  eb070181          ADD      r1,r7,r1,LSL #2
001f6c  f881802c          STRB     r8,[r1,#0x2c]
001f70  f1000001          ADD      r0,r0,#1              ;3679
001f74  b2c0              UXTB     r0,r0                 ;3679
                  |L1.8054|
001f76  4290              CMP      r0,r2                 ;3679
001f78  ddf2              BLE      |L1.8032|
                  |L1.8058|
;;;3682   	     	}	
;;;3683   		}
;;;3684   	
;;;3685   		 
;;;3686     	}
;;;3687   
;;;3688   
;;;3689   for(i=0;i<NUMIST;i++)
001f7a  f04f0000          MOV      r0,#0
;;;3690        {
;;;3691        if(bps[i]._ist_blok_host_cnt!=0)
;;;3692             {
;;;3693             bps[i]._flags_tu=99;
001f7e  f04f0463          MOV      r4,#0x63
001f82  f9bb3000          LDRSH    r3,[r11,#0]           ;3614
001f86  e00f              B        |L1.8104|
                  |L1.8072|
001f88  ebc001c0          RSB      r1,r0,r0,LSL #3       ;3691
001f8c  eb010141          ADD      r1,r1,r1,LSL #1       ;3691
001f90  eb070181          ADD      r1,r7,r1,LSL #2       ;3691
001f94  6bca              LDR      r2,[r1,#0x3c]         ;3691
001f96  b122              CBZ      r2,|L1.8098|
001f98  f881402c          STRB     r4,[r1,#0x2c]
;;;3694   	     bps[i]._ist_blok_host_cnt--;
001f9c  f1a20201          SUB      r2,r2,#1
001fa0  63ca              STR      r2,[r1,#0x3c]
                  |L1.8098|
001fa2  f1000001          ADD      r0,r0,#1              ;3689
001fa6  b2c0              UXTB     r0,r0                 ;3689
                  |L1.8104|
001fa8  4298              CMP      r0,r3                 ;3689
001faa  dbed              BLT      |L1.8072|
;;;3695             }
;;;3696        }
;;;3697   
;;;3698   
;;;3699   
;;;3700   
;;;3701   b1Hz_sh=0;
001fac  f8868012          STRB     r8,[r6,#0x12]
;;;3702   
;;;3703   
;;;3704   num_of_wrks_bps=0;
001fb0  f886800e          STRB     r8,[r6,#0xe]
;;;3705   for(i=0;i<NUMIST;i++)
001fb4  f04f0000          MOV      r0,#0
001fb8  e00f              B        |L1.8154|
                  |L1.8122|
;;;3706   	{
;;;3707   	if(bps[i]._state==bsWRK)num_of_wrks_bps++;
001fba  ebc001c0          RSB      r1,r0,r0,LSL #3
001fbe  eb010141          ADD      r1,r1,r1,LSL #1
001fc2  eb070181          ADD      r1,r7,r1,LSL #2
001fc6  7889              LDRB     r1,[r1,#2]
001fc8  2901              CMP      r1,#1
001fca  d103              BNE      |L1.8148|
001fcc  7bb1              LDRB     r1,[r6,#0xe]  ; num_of_wrks_bps
001fce  f1010101          ADD      r1,r1,#1
001fd2  73b1              STRB     r1,[r6,#0xe]
                  |L1.8148|
001fd4  f1000001          ADD      r0,r0,#1              ;3705
001fd8  b2c0              UXTB     r0,r0                 ;3705
                  |L1.8154|
001fda  4298              CMP      r0,r3                 ;3705
001fdc  dbed              BLT      |L1.8122|
;;;3708   	}
;;;3709   
;;;3710   
;;;3711   }
001fde  e8bd9ff0          POP      {r4-r12,pc}
;;;3712   
                          ENDP

                  powerAntiAliasingHndl PROC
;;;3719   //-----------------------------------------------
;;;3720   void powerAntiAliasingHndl(void)
001fe2  b570              PUSH     {r4-r6,lr}
;;;3721   {
;;;3722   if((power_summary_tempo/10UL)==(power_summary_tempo_old/10UL))
001fe4  230a              MOVS     r3,#0xa
001fe6  4c65              LDR      r4,|L1.8572|
001fe8  4863              LDR      r0,|L1.8568|
;;;3723   	{
;;;3724   	if(powerSummaryCnt<15)powerSummaryCnt++;
;;;3725   	if(powerSummaryCnt>=10)
;;;3726   		{
;;;3727   		power_summary=power_summary_tempo;
;;;3728   		}
;;;3729   	}
;;;3730   else powerSummaryCnt=0;
001fea  2500              MOVS     r5,#0
001fec  6822              LDR      r2,[r4,#0]            ;3722  ; power_summary_tempo_old
001fee  6800              LDR      r0,[r0,#0]            ;3722  ; power_summary_tempo
001ff0  fbb2f6f3          UDIV     r6,r2,r3              ;3722
001ff4  fbb0f1f3          UDIV     r1,r0,r3              ;3722
001ff8  4a61              LDR      r2,|L1.8576|
001ffa  42b1              CMP      r1,r6                 ;3722
001ffc  d10b              BNE      |L1.8214|
001ffe  7811              LDRB     r1,[r2,#0]            ;3724  ; powerSummaryCnt
002000  290f              CMP      r1,#0xf               ;3724
002002  d202              BCS      |L1.8202|
002004  f1010101          ADD      r1,r1,#1              ;3724
002008  7011              STRB     r1,[r2,#0]            ;3724
                  |L1.8202|
00200a  7811              LDRB     r1,[r2,#0]            ;3725  ; powerSummaryCnt
00200c  290a              CMP      r1,#0xa               ;3725
00200e  d303              BCC      |L1.8216|
002010  495c              LDR      r1,|L1.8580|
002012  6008              STR      r0,[r1,#0]            ;3727  ; power_summary
002014  e000              B        |L1.8216|
                  |L1.8214|
002016  7015              STRB     r5,[r2,#0]
                  |L1.8216|
;;;3731   power_summary_tempo_old=power_summary_tempo;
002018  6020              STR      r0,[r4,#0]  ; power_summary_tempo_old
;;;3732   
;;;3733   if((power_current_tempo/10UL)==(power_current_tempo_old/10UL))
00201a  485b              LDR      r0,|L1.8584|
00201c  4c5b              LDR      r4,|L1.8588|
00201e  f9b00000          LDRSH    r0,[r0,#0]  ; power_current_tempo
002022  f9b42000          LDRSH    r2,[r4,#0]  ; power_current_tempo_old
002026  fbb0f1f3          UDIV     r1,r0,r3
00202a  fbb2f3f3          UDIV     r3,r2,r3
;;;3734   	{
;;;3735   	if(powerCurrentCnt<15)powerCurrentCnt++;
00202e  4a58              LDR      r2,|L1.8592|
002030  4299              CMP      r1,r3                 ;3733
002032  d10b              BNE      |L1.8268|
002034  7811              LDRB     r1,[r2,#0]  ; powerCurrentCnt
002036  290f              CMP      r1,#0xf
002038  d202              BCS      |L1.8256|
00203a  f1010101          ADD      r1,r1,#1
00203e  7011              STRB     r1,[r2,#0]
                  |L1.8256|
;;;3736   	if(powerCurrentCnt>=10)
002040  7811              LDRB     r1,[r2,#0]  ; powerCurrentCnt
002042  290a              CMP      r1,#0xa
002044  d303              BCC      |L1.8270|
;;;3737   		{
;;;3738   		power_current=power_current_tempo;
002046  4953              LDR      r1,|L1.8596|
002048  8008              STRH     r0,[r1,#0]
00204a  e000              B        |L1.8270|
                  |L1.8268|
;;;3739   		}
;;;3740   	}
;;;3741   else powerCurrentCnt=0;
00204c  7015              STRB     r5,[r2,#0]
                  |L1.8270|
;;;3742   power_current_tempo_old=power_current_tempo;
00204e  8020              STRH     r0,[r4,#0]
;;;3743   }
002050  bd70              POP      {r4-r6,pc}
;;;3744   
                          ENDP

                  bps_drv PROC
;;;3827   //-----------------------------------------------
;;;3828   void bps_drv(char in)
002052  e92d41f0          PUSH     {r4-r8,lr}
;;;3829   {
002056  4606              MOV      r6,r0
;;;3830   char temp;
;;;3831   
;;;3832   if (bps[in]._device!=dSRC) return;
002058  ebc600c6          RSB      r0,r6,r6,LSL #3
00205c  4941              LDR      r1,|L1.8548|
00205e  eb000040          ADD      r0,r0,r0,LSL #1
002062  f8112020          LDRB     r2,[r1,r0,LSL #2]
002066  2a03              CMP      r2,#3
002068  d177              BNE      |L1.8538|
;;;3833   temp=bps[in]._flags_tm;
00206a  eb010480          ADD      r4,r1,r0,LSL #2
00206e  f8945042          LDRB     r5,[r4,#0x42]
;;;3834   if(temp&(1<<AV_T))
002072  07a8              LSLS     r0,r5,#30
002074  d517              BPL      |L1.8358|
;;;3835   	{
;;;3836   	if(bps[in]._temp_av_cnt<1200) 
002076  f9b41046          LDRSH    r1,[r4,#0x46]
00207a  f44f6296          MOV      r2,#0x4b0
00207e  4291              CMP      r1,r2
002080  da22              BGE      |L1.8392|
;;;3837   		{
;;;3838   		bps[in]._temp_av_cnt++;
002082  f1010101          ADD      r1,r1,#1
002086  b208              SXTH     r0,r1
002088  f8a40046          STRH     r0,[r4,#0x46]
;;;3839   		if(bps[in]._temp_av_cnt>=1200)
00208c  4290              CMP      r0,r2
00208e  db1b              BLT      |L1.8392|
;;;3840   			{
;;;3841   			bps[in]._temp_av_cnt=1200;
002090  f8a42046          STRH     r2,[r4,#0x46]
;;;3842   		   	if(!(bps[in]._av&(1<<0)))avar_bps_hndl(in,0,1);
002094  7860              LDRB     r0,[r4,#1]
002096  07c0              LSLS     r0,r0,#31
002098  d116              BNE      |L1.8392|
00209a  2201              MOVS     r2,#1
00209c  2100              MOVS     r1,#0
00209e  4630              MOV      r0,r6
0020a0  f7fffffe          BL       avar_bps_hndl
0020a4  e010              B        |L1.8392|
                  |L1.8358|
;;;3843   			}
;;;3844   		}
;;;3845   	}
;;;3846   
;;;3847   else if(!(temp&(1<<AV_T)))
;;;3848   	{
;;;3849   	if(bps[in]._temp_av_cnt) 
0020a6  f9b41046          LDRSH    r1,[r4,#0x46]
0020aa  b169              CBZ      r1,|L1.8392|
;;;3850   		{
;;;3851   		bps[in]._temp_av_cnt--;
0020ac  f1a10101          SUB      r1,r1,#1
0020b0  b208              SXTH     r0,r1
0020b2  f8a40046          STRH     r0,[r4,#0x46]
;;;3852   		if(!bps[in]._temp_av_cnt)
0020b6  b938              CBNZ     r0,|L1.8392|
;;;3853   			{
;;;3854   			if(bps[in]._av&(1<<0))avar_bps_hndl(in,0,0);
0020b8  7860              LDRB     r0,[r4,#1]
0020ba  07c0              LSLS     r0,r0,#31
0020bc  d004              BEQ      |L1.8392|
0020be  2200              MOVS     r2,#0
0020c0  4611              MOV      r1,r2
0020c2  4630              MOV      r0,r6
0020c4  f7fffffe          BL       avar_bps_hndl
                  |L1.8392|
;;;3855   			}
;;;3856   		} 	
;;;3857   
;;;3858   	}
;;;3859   
;;;3860   if((temp&(1<<AVUMAX)))
0020c8  0729              LSLS     r1,r5,#28
;;;3861   	{
;;;3862   	if(bps[in]._umax_av_cnt<10) 
;;;3863   		{
;;;3864   		bps[in]._umax_av_cnt++;
;;;3865   		if(bps[in]._umax_av_cnt>=10)
;;;3866   			{ 
;;;3867   			bps[in]._umax_av_cnt=10;
0020ca  f04f070a          MOV      r7,#0xa
0020ce  f04f0000          MOV      r0,#0                 ;3842
0020d2  d515              BPL      |L1.8448|
0020d4  f9b41048          LDRSH    r1,[r4,#0x48]         ;3862
0020d8  290a              CMP      r1,#0xa               ;3862
0020da  da26              BGE      |L1.8490|
0020dc  f1010101          ADD      r1,r1,#1              ;3864
0020e0  b208              SXTH     r0,r1                 ;3864
0020e2  f8a40048          STRH     r0,[r4,#0x48]         ;3864
0020e6  280a              CMP      r0,#0xa               ;3865
0020e8  db1f              BLT      |L1.8490|
0020ea  f8a47048          STRH     r7,[r4,#0x48]
;;;3868   			if(!(bps[in]._av&(1<<1)))avar_bps_hndl(in,1,1);
0020ee  7860              LDRB     r0,[r4,#1]
0020f0  0780              LSLS     r0,r0,#30
0020f2  d41a              BMI      |L1.8490|
0020f4  2201              MOVS     r2,#1
0020f6  4611              MOV      r1,r2
0020f8  4630              MOV      r0,r6
0020fa  f7fffffe          BL       avar_bps_hndl
0020fe  e014              B        |L1.8490|
                  |L1.8448|
;;;3869   		  	/*if((K[APV]!=ON)||((apv_cnt[in,0]==0)&&(apv_cnt[in,1]==0)&&(apv_cnt[in,2]==0)&&(apv_flags[in]==afOFF)))avar_s_hndl(in,1,1);
;;;3870   			if((apv_cnt[in,0]==0)&&(apv_cnt[in,1]==0)&&(apv_cnt[in,2]==0)&&(apv_flags[in]==afON))
;;;3871   				{
;;;3872   				apv_cnt[in,0]=APV_INIT;
;;;3873   				apv_cnt[in,1]=APV_INIT;
;;;3874   				apv_cnt[in,2]=APV_INIT;
;;;3875   				apv_flags[in]=afOFF;
;;;3876   				}				*/
;;;3877   						
;;;3878   			}
;;;3879   		} 
;;;3880   	}		
;;;3881   else if(!(temp&(1<<AVUMAX)))
;;;3882   	{
;;;3883   	if(bps[in]._umax_av_cnt>0) 
002100  f9b41048          LDRSH    r1,[r4,#0x48]
002104  2900              CMP      r1,#0
002106  dd0d              BLE      |L1.8484|
;;;3884   		{
;;;3885   		bps[in]._umax_av_cnt--;
002108  f1a10101          SUB      r1,r1,#1
00210c  b208              SXTH     r0,r1
00210e  f8a40048          STRH     r0,[r4,#0x48]
;;;3886   		if(bps[in]._umax_av_cnt==0)
002112  b950              CBNZ     r0,|L1.8490|
;;;3887   			{
;;;3888   			bps[in]._umax_av_cnt=0;
;;;3889   			avar_bps_hndl(in,1,0);
002114  f04f0200          MOV      r2,#0
002118  f04f0101          MOV      r1,#1
00211c  4630              MOV      r0,r6
00211e  f7fffffe          BL       avar_bps_hndl
002122  e002              B        |L1.8490|
                  |L1.8484|
;;;3890   	 //		apv_cnt[in,0]=0;
;;;3891   	//		apv_cnt[in,1]=0;
;;;3892   	 //		apv_cnt[in,2]=0;			
;;;3893   			}
;;;3894   		}
;;;3895   	else if(bps[in]._umax_av_cnt<0) bps[in]._umax_av_cnt=0;		 
002124  da01              BGE      |L1.8490|
002126  f8a40048          STRH     r0,[r4,#0x48]
                  |L1.8490|
;;;3896   	}
;;;3897   
;;;3898   if(temp&(1<<AVUMIN))
00212a  06e8              LSLS     r0,r5,#27
00212c  d534              BPL      |L1.8600|
;;;3899   	{
;;;3900   	if(bps[in]._umin_av_cnt<10) 
00212e  f9b4104a          LDRSH    r1,[r4,#0x4a]
002132  290a              CMP      r1,#0xa
002134  da3e              BGE      |L1.8628|
;;;3901   		{
;;;3902   		bps[in]._umin_av_cnt++;
002136  f1010101          ADD      r1,r1,#1
00213a  b208              SXTH     r0,r1
00213c  f8a4004a          STRH     r0,[r4,#0x4a]
;;;3903   		if(bps[in]._umin_av_cnt>=10)
002140  280a              CMP      r0,#0xa
002142  db37              BLT      |L1.8628|
;;;3904   			{ 
;;;3905   			bps[in]._umin_av_cnt=10;
002144  f8a4704a          STRH     r7,[r4,#0x4a]
;;;3906   			if(!(bps[in]._av&(1<<2)))avar_bps_hndl(in,2,1);
002148  7860              LDRB     r0,[r4,#1]
00214a  0740              LSLS     r0,r0,#29
00214c  d432              BMI      |L1.8628|
00214e  2201              MOVS     r2,#1
002150  2102              MOVS     r1,#2
002152  4630              MOV      r0,r6
002154  f7fffffe          BL       avar_bps_hndl
002158  e02c              B        |L1.8628|
                  |L1.8538|
00215a  e064              B        |L1.8742|
                  |L1.8540|
                          DCD      speedChIsOn
                  |L1.8544|
                          DCD      ||area_number.21||
                  |L1.8548|
                          DCD      bps
                  |L1.8552|
                          DCD      NUMIST
                  |L1.8556|
                          DCD      mess_data
                  |L1.8560|
                          DCD      num_necc
                  |L1.8564|
                          DCD      main_1Hz_cnt
                  |L1.8568|
                          DCD      power_summary_tempo
                  |L1.8572|
                          DCD      power_summary_tempo_old
                  |L1.8576|
                          DCD      powerSummaryCnt
                  |L1.8580|
                          DCD      power_summary
                  |L1.8584|
                          DCD      power_current_tempo
                  |L1.8588|
                          DCD      power_current_tempo_old
                  |L1.8592|
                          DCD      powerCurrentCnt
                  |L1.8596|
                          DCD      power_current
                  |L1.8600|
;;;3907   		  	/*	if((K[APV]!=ON)||((apv_cnt[in,0]==0)&&(apv_cnt[in,1]==0)&&(apv_cnt[in,2]==0)&&(apv_flags[in]==afOFF)))avar_s_hndl(in,2,1);
;;;3908   			if((apv_cnt[in,0]==0)&&(apv_cnt[in,1]==0)&&(apv_cnt[in,2]==0)&&(apv_flags[in]==afON))
;;;3909   				{
;;;3910   				apv_cnt[in,0]=APV_INIT;
;;;3911   				apv_cnt[in,1]=APV_INIT;
;;;3912   				apv_cnt[in,2]=APV_INIT;
;;;3913   				apv_flags[in]=afOFF;
;;;3914   				}*/				
;;;3915   			}
;;;3916   		} 
;;;3917   	}	
;;;3918   	
;;;3919   else if(!(temp&(1<<AVUMIN)))
;;;3920   	{
;;;3921   	if(bps[in]._umin_av_cnt) 
002198  f9b4004a          LDRSH    r0,[r4,#0x4a]
00219c  b150              CBZ      r0,|L1.8628|
;;;3922   		{
;;;3923   		bps[in]._umin_av_cnt--;
00219e  f1a00001          SUB      r0,r0,#1
0021a2  b200              SXTH     r0,r0
0021a4  f8a4004a          STRH     r0,[r4,#0x4a]
;;;3924   		if(bps[in]._umin_av_cnt==0)
0021a8  b920              CBNZ     r0,|L1.8628|
;;;3925   			{
;;;3926   			bps[in]._umin_av_cnt=0;
;;;3927   			avar_bps_hndl(in,2,0);
0021aa  2200              MOVS     r2,#0
0021ac  2102              MOVS     r1,#2
0021ae  4630              MOV      r0,r6
0021b0  f7fffffe          BL       avar_bps_hndl
                  |L1.8628|
;;;3928   		//	apv_cnt[in,0]=0;
;;;3929   		//	apv_cnt[in,1]=0;
;;;3930   		//	apv_cnt[in,2]=0;
;;;3931   			}
;;;3932   		}
;;;3933   	else if(bps[in]._umin_av_cnt>10)bps[in]._umin_av_cnt--;	 
;;;3934   	}
;;;3935   
;;;3936   //bps[in]._state=bsOFF;
;;;3937   
;;;3938   if (bps[in]._av&0x0f)					bps[in]._state=bsAV;
0021b4  7860              LDRB     r0,[r4,#1]
0021b6  0700              LSLS     r0,r0,#28
0021b8  d003              BEQ      |L1.8642|
0021ba  f04f0004          MOV      r0,#4
0021be  70a0              STRB     r0,[r4,#2]
0021c0  e017              B        |L1.8690|
                  |L1.8642|
;;;3939   else if ( (net_av) && (bps[in]._cnt>20)/*&& 
0021c2  48fb              LDR      r0,|L1.9648|
0021c4  7800              LDRB     r0,[r0,#0]  ; net_av
0021c6  b130              CBZ      r0,|L1.8662|
0021c8  78e0              LDRB     r0,[r4,#3]
0021ca  2814              CMP      r0,#0x14
0021cc  d903              BLS      |L1.8662|
;;;3940   		(bps[in]._Uii<200)*/)				bps[in]._state=bsOFF_AV_NET;
0021ce  f04f0005          MOV      r0,#5
0021d2  70a0              STRB     r0,[r4,#2]
0021d4  e00d              B        |L1.8690|
                  |L1.8662|
;;;3941   else if (bps[in]._flags_tm&BIN8(100000))	bps[in]._state=bsRDY;
0021d6  f8940042          LDRB     r0,[r4,#0x42]
0021da  0680              LSLS     r0,r0,#26
0021dc  d503              BPL      |L1.8678|
0021de  f04f0002          MOV      r0,#2
0021e2  70a0              STRB     r0,[r4,#2]
0021e4  e005              B        |L1.8690|
                  |L1.8678|
;;;3942   else if (bps[in]._cnt<20)				bps[in]._state=bsWRK;
0021e6  78e0              LDRB     r0,[r4,#3]
0021e8  2814              CMP      r0,#0x14
0021ea  d202              BCS      |L1.8690|
0021ec  f04f0001          MOV      r0,#1
0021f0  70a0              STRB     r0,[r4,#2]
                  |L1.8690|
;;;3943   
;;;3944   
;;;3945   
;;;3946   //else if(bps[in]._flags_tm&BIN8(100000)) bps[in]._state=ssBL;
;;;3947   //else if((!(bps[in]._flags_tm&BIN8(100000)))&&(net_U>100))bps[in]._state=ssWRK;
;;;3948   //else bps[0]._state=ssNOT;
;;;3949   
;;;3950   //bps[in]._is_ready=0;
;;;3951   //bps[in]._is_wrk=0;
;;;3952   //if(bps[in]._av_net) bps[in]._flags_bp='N';//  
;;;3953   //else if(bps[in]._av_u_max) bps[in]._flags_bp='P';//  (u_.av_.bAS1T)) bps_state[0]=ssAV;
;;;3954   //else if(bps[in]._av_u_min) bps[in]._flags_bp='M';//  
;;;3955   //else if(bps[in]._av_temper) bps[in]._flags_bp='T';// 
;;;3956   //else if(bps[in]._flags_tm&BIN8(100000)) 
;;;3957   //	{
;;;3958   //	bps[in]._flags_bp='B';// 
;;;3959   //	bps[in]._is_ready=1;
;;;3960   //	}
;;;3961   //else if((!(bps[in]._flags_tm&BIN8(100000)))&&(net_U>100))
;;;3962   //     {
;;;3963   //     bps[in]._flags_bp='W';// 
;;;3964   //     bps[in]._is_ready=1;
;;;3965   //     bps[in]._is_wrk=1;
;;;3966        
;;;3967   //     }
;;;3968   //else bps[in]._is_ready=1;     
;;;3969   
;;;3970   
;;;3971   
;;;3972   
;;;3973   
;;;3974   /*
;;;3975   bps[in]._flags_tu&=BIN8(11111110);
;;;3976   if(bps[in]._ist_blok_cnt)
;;;3977   	{
;;;3978   	bps[in]._ist_blok_cnt--;
;;;3979   	bps[in]._flags_tu|=BIN8(1);
;;;3980   	}
;;;3981   
;;;3982   	   */ 
;;;3983   
;;;3984   //    
;;;3985   if(bps[in]._cnt>=10) bps[in]._flags_tu|=BIN8(10000000);
0021f2  78e0              LDRB     r0,[r4,#3]
0021f4  280a              CMP      r0,#0xa
0021f6  d306              BCC      |L1.8710|
0021f8  f894002c          LDRB     r0,[r4,#0x2c]
0021fc  f0400080          ORR      r0,r0,#0x80
002200  f884002c          STRB     r0,[r4,#0x2c]
002204  e005              B        |L1.8722|
                  |L1.8710|
;;;3986   else bps[in]._flags_tu&=BIN8(1111111);
002206  f894002c          LDRB     r0,[r4,#0x2c]
00220a  f000007f          AND      r0,r0,#0x7f
00220e  f884002c          STRB     r0,[r4,#0x2c]
                  |L1.8722|
;;;3987   	
;;;3988   bps[in]._vol_u=cntrl_stat+bps[in]._x_;	
002212  49e8              LDR      r1,|L1.9652|
002214  f9b40050          LDRSH    r0,[r4,#0x50]
002218  f9b11018          LDRSH    r1,[r1,#0x18]  ; cntrl_stat
00221c  4408              ADD      r0,r0,r1
00221e  6320              STR      r0,[r4,#0x30]
;;;3989   bps[in]._vol_i=1000; 
002220  f44f707a          MOV      r0,#0x3e8
002224  6360              STR      r0,[r4,#0x34]
                  |L1.8742|
;;;3990   }
002226  e5a9              B        |L1.7548|
;;;3991   
                          ENDP

                  avt_hndl PROC
;;;3992   //-----------------------------------------------
;;;3993   void avt_hndl(void)
002228  b570              PUSH     {r4-r6,lr}
;;;3994   {
;;;3995   char i;
;;;3996   for(i=0;i<12;i++)
00222a  f04f0000          MOV      r0,#0
;;;3997   	{
;;;3998   	if(eb2_data_short[6]&(1<<i))
00222e  49e2              LDR      r1,|L1.9656|
;;;3999   		{
;;;4000   		avt_stat[i]=avtON;
002230  4de2              LDR      r5,|L1.9660|
002232  f04f0401          MOV      r4,#1                 ;3998
002236  f9b1200c          LDRSH    r2,[r1,#0xc]          ;3998
00223a  4603              MOV      r3,r0                 ;3996
                  |L1.8764|
00223c  fa04f100          LSL      r1,r4,r0              ;3998
002240  420a              TST      r2,r1                 ;3998
002242  d001              BEQ      |L1.8776|
002244  542c              STRB     r4,[r5,r0]
002246  e000              B        |L1.8778|
                  |L1.8776|
;;;4001   		}
;;;4002   	else avt_stat[i]=avtOFF;
002248  542b              STRB     r3,[r5,r0]
                  |L1.8778|
00224a  f1000001          ADD      r0,r0,#1              ;3996
00224e  b2c0              UXTB     r0,r0                 ;3996
002250  280c              CMP      r0,#0xc               ;3996
002252  d3f3              BCC      |L1.8764|
;;;4003   	}
;;;4004   
;;;4005   if((avt_stat_old[0]!=avt_stat[0])&&(NUMAVT>=1))
002254  4eda              LDR      r6,|L1.9664|
002256  7828              LDRB     r0,[r5,#0]  ; avt_stat
002258  4cda              LDR      r4,|L1.9668|
00225a  7831              LDRB     r1,[r6,#0]  ; avt_stat_old
00225c  4281              CMP      r1,r0
00225e  d00b              BEQ      |L1.8824|
002260  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
002264  2901              CMP      r1,#1
002266  db07              BLT      |L1.8824|
;;;4006   	{
;;;4007   	if(avt_stat[0]==avtON) 	snmp_trap_send("Avtomat #1 is ON ",11,1,1);
002268  2801              CMP      r0,#1
00226a  d07e              BEQ      |L1.9066|
;;;4008   	else 				snmp_trap_send("Avtomat #1 is OFF",11,1,0);
00226c  2300              MOVS     r3,#0
00226e  2201              MOVS     r2,#1
002270  210b              MOVS     r1,#0xb
002272  a0d5              ADR      r0,|L1.9672|
002274  f7fffffe          BL       snmp_trap_send
                  |L1.8824|
;;;4009   	}
;;;4010   if((avt_stat_old[1]!=avt_stat[1])&&(NUMAVT>=2))
002278  7871              LDRB     r1,[r6,#1]  ; avt_stat_old
00227a  7868              LDRB     r0,[r5,#1]  ; avt_stat
00227c  4281              CMP      r1,r0
00227e  d00b              BEQ      |L1.8856|
002280  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
002284  2902              CMP      r1,#2
002286  db07              BLT      |L1.8856|
;;;4011   	{
;;;4012   	if(avt_stat[1]==avtON) 	snmp_trap_send("Avtomat #2 is ON ",11,2,1);
002288  2801              CMP      r0,#1
00228a  d06f              BEQ      |L1.9068|
;;;4013   	else 				snmp_trap_send("Avtomat #2 is OFF",11,2,0);
00228c  2300              MOVS     r3,#0
00228e  2202              MOVS     r2,#2
002290  210b              MOVS     r1,#0xb
002292  a0d2              ADR      r0,|L1.9692|
002294  f7fffffe          BL       snmp_trap_send
                  |L1.8856|
;;;4014   	}
;;;4015   if((avt_stat_old[2]!=avt_stat[2])&&(NUMAVT>=3))
002298  78b1              LDRB     r1,[r6,#2]  ; avt_stat_old
00229a  78a8              LDRB     r0,[r5,#2]  ; avt_stat
00229c  4281              CMP      r1,r0
00229e  d00b              BEQ      |L1.8888|
0022a0  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
0022a4  2903              CMP      r1,#3
0022a6  db07              BLT      |L1.8888|
;;;4016   	{
;;;4017   	if(avt_stat[2]==avtON) 	snmp_trap_send("Avtomat #3 is ON ",11,3,1);
0022a8  2801              CMP      r0,#1
0022aa  d072              BEQ      |L1.9106|
;;;4018   	else 				snmp_trap_send("Avtomat #3 is OFF",11,3,0);
0022ac  2300              MOVS     r3,#0
0022ae  2203              MOVS     r2,#3
0022b0  210b              MOVS     r1,#0xb
0022b2  a0cf              ADR      r0,|L1.9712|
0022b4  f7fffffe          BL       snmp_trap_send
                  |L1.8888|
;;;4019   	}
;;;4020   if((avt_stat_old[3]!=avt_stat[3])&&(NUMAVT>=4))
0022b8  78f1              LDRB     r1,[r6,#3]  ; avt_stat_old
0022ba  78e8              LDRB     r0,[r5,#3]  ; avt_stat
0022bc  4281              CMP      r1,r0
0022be  d00b              BEQ      |L1.8920|
0022c0  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
0022c4  2904              CMP      r1,#4
0022c6  db07              BLT      |L1.8920|
;;;4021   	{
;;;4022   	if(avt_stat[3]==avtON) 	snmp_trap_send("Avtomat #4 is ON ",11,4,1);
0022c8  2801              CMP      r0,#1
0022ca  d079              BEQ      |L1.9152|
;;;4023   	else 				snmp_trap_send("Avtomat #4 is OFF",11,4,0);
0022cc  2300              MOVS     r3,#0
0022ce  2204              MOVS     r2,#4
0022d0  210b              MOVS     r1,#0xb
0022d2  a0cc              ADR      r0,|L1.9732|
0022d4  f7fffffe          BL       snmp_trap_send
                  |L1.8920|
;;;4024   	}
;;;4025   if((avt_stat_old[4]!=avt_stat[4])&&(NUMAVT>=5))
0022d8  7931              LDRB     r1,[r6,#4]  ; avt_stat_old
0022da  7928              LDRB     r0,[r5,#4]  ; avt_stat
0022dc  4281              CMP      r1,r0
0022de  d00b              BEQ      |L1.8952|
0022e0  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
0022e4  2905              CMP      r1,#5
0022e6  db07              BLT      |L1.8952|
;;;4026   	{
;;;4027   	if(avt_stat[4]==avtON) 	snmp_trap_send("Avtomat #5 is ON ",11,5,1);
0022e8  2801              CMP      r0,#1
0022ea  d071              BEQ      |L1.9168|
;;;4028   	else 				snmp_trap_send("Avtomat #5 is OFF",11,5,0);
0022ec  2300              MOVS     r3,#0
0022ee  2205              MOVS     r2,#5
0022f0  210b              MOVS     r1,#0xb
0022f2  a0c9              ADR      r0,|L1.9752|
0022f4  f7fffffe          BL       snmp_trap_send
                  |L1.8952|
;;;4029   	}
;;;4030   if((avt_stat_old[5]!=avt_stat[5])&&(NUMAVT>=6))
0022f8  7971              LDRB     r1,[r6,#5]  ; avt_stat_old
0022fa  7968              LDRB     r0,[r5,#5]  ; avt_stat
0022fc  4281              CMP      r1,r0
0022fe  d00b              BEQ      |L1.8984|
002300  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
002304  2906              CMP      r1,#6
002306  db07              BLT      |L1.8984|
;;;4031   	{
;;;4032   	if(avt_stat[5]==avtON) 	snmp_trap_send("Avtomat #6 is ON ",11,6,1);
002308  2801              CMP      r0,#1
00230a  d068              BEQ      |L1.9182|
;;;4033   	else 				snmp_trap_send("Avtomat #6 is OFF",11,6,0);
00230c  2300              MOVS     r3,#0
00230e  2206              MOVS     r2,#6
002310  210b              MOVS     r1,#0xb
002312  a0c6              ADR      r0,|L1.9772|
002314  f7fffffe          BL       snmp_trap_send
                  |L1.8984|
;;;4034   	}
;;;4035   if((avt_stat_old[6]!=avt_stat[6])&&(NUMAVT>=7))
002318  79b1              LDRB     r1,[r6,#6]  ; avt_stat_old
00231a  79a8              LDRB     r0,[r5,#6]  ; avt_stat
00231c  4281              CMP      r1,r0
00231e  d00b              BEQ      |L1.9016|
002320  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
002324  2907              CMP      r1,#7
002326  db07              BLT      |L1.9016|
;;;4036   	{
;;;4037   	if(avt_stat[6]==avtON) 	snmp_trap_send("Avtomat #7 is ON ",11,7,1);
002328  2801              CMP      r0,#1
00232a  d05f              BEQ      |L1.9196|
;;;4038   	else 				snmp_trap_send("Avtomat #7 is OFF",11,7,0);
00232c  2300              MOVS     r3,#0
00232e  2207              MOVS     r2,#7
002330  210b              MOVS     r1,#0xb
002332  a0c3              ADR      r0,|L1.9792|
002334  f7fffffe          BL       snmp_trap_send
                  |L1.9016|
;;;4039   	}
;;;4040   if((avt_stat_old[7]!=avt_stat[7])&&(NUMAVT>=8))
002338  79f1              LDRB     r1,[r6,#7]  ; avt_stat_old
00233a  79e8              LDRB     r0,[r5,#7]  ; avt_stat
00233c  4281              CMP      r1,r0
00233e  d00b              BEQ      |L1.9048|
002340  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
002344  2908              CMP      r1,#8
002346  db07              BLT      |L1.9048|
;;;4041   	{
;;;4042   	if(avt_stat[7]==avtON) 	snmp_trap_send("Avtomat #8 is ON ",11,8,1);
002348  2801              CMP      r0,#1
00234a  d056              BEQ      |L1.9210|
;;;4043   	else 				snmp_trap_send("Avtomat #8 is OFF",11,8,0);
00234c  2300              MOVS     r3,#0
00234e  2208              MOVS     r2,#8
002350  210b              MOVS     r1,#0xb
002352  a0c0              ADR      r0,|L1.9812|
002354  f7fffffe          BL       snmp_trap_send
                  |L1.9048|
;;;4044   	}
;;;4045   if((avt_stat_old[8]!=avt_stat[8])&&(NUMAVT>=9))
002358  7a31              LDRB     r1,[r6,#8]  ; avt_stat_old
00235a  7a28              LDRB     r0,[r5,#8]  ; avt_stat
00235c  4281              CMP      r1,r0
00235e  d00e              BEQ      |L1.9086|
002360  f9b41000          LDRSH    r1,[r4,#0]  ; NUMAVT
002364  2909              CMP      r1,#9
002366  db0a              BLT      |L1.9086|
;;;4046   	{
;;;4047   	if(avt_stat[8]==avtON) 	snmp_trap_send("Avtomat #9 is ON ",11,9,1);
002368  e001              B        |L1.9070|
                  |L1.9066|
00236a  e013              B        |L1.9108|
                  |L1.9068|
00236c  e019              B        |L1.9122|
                  |L1.9070|
00236e  2801              CMP      r0,#1
002370  d04a              BEQ      |L1.9224|
;;;4048   	else 				snmp_trap_send("Avtomat #9 is OFF",11,9,0);
002372  2300              MOVS     r3,#0
002374  2209              MOVS     r2,#9
002376  210b              MOVS     r1,#0xb
002378  a0bb              ADR      r0,|L1.9832|
00237a  f7fffffe          BL       snmp_trap_send
                  |L1.9086|
;;;4049   	}
;;;4050   
;;;4051   for(i=0;i<12;i++)
00237e  f04f0000          MOV      r0,#0
                  |L1.9090|
;;;4052   	{
;;;4053   	avt_stat_old[i]=avt_stat[i];
002382  5c29              LDRB     r1,[r5,r0]
002384  5431              STRB     r1,[r6,r0]
002386  f1000001          ADD      r0,r0,#1              ;4051
00238a  b2c0              UXTB     r0,r0                 ;4051
00238c  280c              CMP      r0,#0xc               ;4051
00238e  d3f8              BCC      |L1.9090|
                  |L1.9104|
;;;4054   	}
;;;4055   }
002390  bd70              POP      {r4-r6,pc}
                  |L1.9106|
002392  e00e              B        |L1.9138|
                  |L1.9108|
002394  2301              MOVS     r3,#1                 ;4007
002396  461a              MOV      r2,r3                 ;4007
002398  210b              MOVS     r1,#0xb               ;4007
00239a  a0b8              ADR      r0,|L1.9852|
00239c  f7fffffe          BL       snmp_trap_send
0023a0  e76a              B        |L1.8824|
                  |L1.9122|
0023a2  2301              MOVS     r3,#1                 ;4012
0023a4  2202              MOVS     r2,#2                 ;4012
0023a6  210b              MOVS     r1,#0xb               ;4012
0023a8  a0b9              ADR      r0,|L1.9872|
0023aa  f7fffffe          BL       snmp_trap_send
0023ae  e773              B        |L1.8856|
0023b0  e006              B        |L1.9152|
                  |L1.9138|
0023b2  2301              MOVS     r3,#1                 ;4017
0023b4  2203              MOVS     r2,#3                 ;4017
0023b6  210b              MOVS     r1,#0xb               ;4017
0023b8  a0ba              ADR      r0,|L1.9892|
0023ba  f7fffffe          BL       snmp_trap_send
0023be  e77b              B        |L1.8888|
                  |L1.9152|
0023c0  2301              MOVS     r3,#1                 ;4022
0023c2  2204              MOVS     r2,#4                 ;4022
0023c4  210b              MOVS     r1,#0xb               ;4022
0023c6  a0bc              ADR      r0,|L1.9912|
0023c8  f7fffffe          BL       snmp_trap_send
0023cc  e784              B        |L1.8920|
0023ce  e7ff              B        |L1.9168|
                  |L1.9168|
0023d0  2301              MOVS     r3,#1                 ;4027
0023d2  2205              MOVS     r2,#5                 ;4027
0023d4  210b              MOVS     r1,#0xb               ;4027
0023d6  a0bd              ADR      r0,|L1.9932|
0023d8  f7fffffe          BL       snmp_trap_send
0023dc  e78c              B        |L1.8952|
                  |L1.9182|
0023de  2301              MOVS     r3,#1                 ;4032
0023e0  2206              MOVS     r2,#6                 ;4032
0023e2  210b              MOVS     r1,#0xb               ;4032
0023e4  a0be              ADR      r0,|L1.9952|
0023e6  f7fffffe          BL       snmp_trap_send
0023ea  e795              B        |L1.8984|
                  |L1.9196|
0023ec  2301              MOVS     r3,#1                 ;4037
0023ee  2207              MOVS     r2,#7                 ;4037
0023f0  210b              MOVS     r1,#0xb               ;4037
0023f2  a0c0              ADR      r0,|L1.9972|
0023f4  f7fffffe          BL       snmp_trap_send
0023f8  e79e              B        |L1.9016|
                  |L1.9210|
0023fa  2301              MOVS     r3,#1                 ;4042
0023fc  2208              MOVS     r2,#8                 ;4042
0023fe  210b              MOVS     r1,#0xb               ;4042
002400  a0c1              ADR      r0,|L1.9992|
002402  f7fffffe          BL       snmp_trap_send
002406  e7a7              B        |L1.9048|
                  |L1.9224|
002408  2301              MOVS     r3,#1                 ;4047
00240a  2209              MOVS     r2,#9                 ;4047
00240c  210b              MOVS     r1,#0xb               ;4047
00240e  a0c3              ADR      r0,|L1.10012|
002410  f7fffffe          BL       snmp_trap_send
002414  e7b3              B        |L1.9086|
;;;4056   
                          ENDP

                  bat_hndl PROC
;;;4057   //-----------------------------------------------
;;;4058   void bat_hndl(void)
002416  b570              PUSH     {r4-r6,lr}
;;;4059   {
;;;4060   /*if(mess_find(_MESS_BAT_MASK_ON))
;;;4061   	{
;;;4062   	if(mess_data[0]==_MESS_BAT_MASK_ON)
;;;4063   		{
;;;4064   		char i;
;;;4065   		for(i=0;i<2;i++)
;;;4066   			{
;;;4067   			if(mess_data[1]&(1<<i))
;;;4068   				{
;;;4069   				bat[i]._cnt_to_block=0;
;;;4070        			bat[i]._rel_stat=0;
;;;4071        			}
;;;4072   			}
;;;4073   		}
;;;4074   	}
;;;4075   if(mess_find(_MESS_BAT_MASK_OFF))
;;;4076   	{		
;;;4077   	if(mess_data[0]==_MESS_BAT_MASK_OFF)
;;;4078   		{
;;;4079   		char i;
;;;4080   		for(i=0;i<2;i++)
;;;4081   			{
;;;4082   			if((mess_data[1]&(1<<i)) && (bat[i]._cnt_to_block==0) && (bat[i]._rel_stat==0))
;;;4083   				{
;;;4084   				bat[i]._cnt_to_block=20;
;;;4085   				bat[i]._rel_stat=1;
;;;4086        			}
;;;4087   			}
;;;4088   		
;;;4089   		}		
;;;4090   	}*/
;;;4091   
;;;4092   if(mess_find_unvol(MESS2BAT_HNDL))
002418  20c8              MOVS     r0,#0xc8
00241a  f7fffffe          BL       mess_find_unvol
;;;4093   	{ 
;;;4094   	char i;
;;;4095   	
;;;4096   	if(mess_data[0]==PARAM_BAT_ALL_OFF_AFTER_2SEC)
;;;4097   		{
;;;4098   		for(i=0;i<MAX_NUM_OF_BAT;i++)
;;;4099   			{
;;;4100   			if(bat[i]._cnt_to_block<50)bat[i]._cnt_to_block++;
00241e  49c4              LDR      r1,|L1.10032|
002420  2200              MOVS     r2,#0                 ;4098
002422  b3a8              CBZ      r0,|L1.9360|
002424  4bc3              LDR      r3,|L1.10036|
;;;4101   			}
;;;4102   		}
;;;4103   
;;;4104   	else if(mess_data[0]==PARAM_BAT_MASK_OFF_AFTER_2SEC)
;;;4105   		{
;;;4106   		for(i=0;i<MAX_NUM_OF_BAT;i++)
;;;4107   			{
;;;4108   			if(mess_data[1]&(1<<i))
002426  2401              MOVS     r4,#1
002428  6818              LDR      r0,[r3,#0]            ;4096  ; mess_data
00242a  28c9              CMP      r0,#0xc9              ;4096
00242c  d01c              BEQ      |L1.9320|
00242e  28ca              CMP      r0,#0xca              ;4104
002430  d02f              BEQ      |L1.9362|
;;;4109   				{
;;;4110   				if(bat[i]._cnt_to_block<50) bat[i]._cnt_to_block++;
;;;4111   				}
;;;4112   			else bat[i]._cnt_to_block=0;
;;;4113   			}
;;;4114   		}
;;;4115   	else 
;;;4116   	 	{
;;;4117   		for(i=0;i<MAX_NUM_OF_BAT;i++)
002432  4610              MOV      r0,r2
                  |L1.9268|
;;;4118   			{
;;;4119   			bat[i]._cnt_to_block=0;
002434  eb000340          ADD      r3,r0,r0,LSL #1
002438  eb031300          ADD      r3,r3,r0,LSL #4
00243c  f8012023          STRB     r2,[r1,r3,LSL #2]
002440  f1000001          ADD      r0,r0,#1              ;4117
002444  b2c0              UXTB     r0,r0                 ;4117
002446  2802              CMP      r0,#2                 ;4117
002448  d3f4              BCC      |L1.9268|
                  |L1.9290|
;;;4120   			}
;;;4121   
;;;4122   		}
;;;4123   	for(i=0;i<MAX_NUM_OF_BAT;i++)
00244a  f04f0000          MOV      r0,#0
                  |L1.9294|
;;;4124   		{
;;;4125   		if(bat[i]._cnt_to_block>20)bat[i]._rel_stat=1;
00244e  eb000340          ADD      r3,r0,r0,LSL #1
002452  eb031300          ADD      r3,r3,r0,LSL #4
002456  f8115023          LDRB     r5,[r1,r3,LSL #2]
00245a  2d14              CMP      r5,#0x14
00245c  d939              BLS      |L1.9426|
00245e  eb010383          ADD      r3,r1,r3,LSL #2
002462  f883403c          STRB     r4,[r3,#0x3c]
002466  e038              B        |L1.9434|
                  |L1.9320|
002468  f04f0000          MOV      r0,#0                 ;4098
                  |L1.9324|
00246c  eb000340          ADD      r3,r0,r0,LSL #1       ;4100
002470  eb031500          ADD      r5,r3,r0,LSL #4       ;4100
002474  f8113025          LDRB     r3,[r1,r5,LSL #2]     ;4100
002478  2b32              CMP      r3,#0x32              ;4100
00247a  d203              BCS      |L1.9348|
00247c  f1030301          ADD      r3,r3,#1              ;4100
002480  f8013025          STRB     r3,[r1,r5,LSL #2]     ;4100
                  |L1.9348|
002484  f1000001          ADD      r0,r0,#1              ;4098
002488  b2c0              UXTB     r0,r0                 ;4098
00248a  2802              CMP      r0,#2                 ;4098
00248c  d3ee              BCC      |L1.9324|
00248e  e7dc              B        |L1.9290|
                  |L1.9360|
002490  e029              B        |L1.9446|
                  |L1.9362|
002492  f04f0000          MOV      r0,#0                 ;4106
002496  685e              LDR      r6,[r3,#4]            ;4108
                  |L1.9368|
002498  fa04f300          LSL      r3,r4,r0              ;4108
00249c  421e              TST      r6,r3                 ;4108
00249e  d00c              BEQ      |L1.9402|
0024a0  eb000340          ADD      r3,r0,r0,LSL #1       ;4110
0024a4  eb031500          ADD      r5,r3,r0,LSL #4       ;4110
0024a8  f8113025          LDRB     r3,[r1,r5,LSL #2]     ;4110
0024ac  2b32              CMP      r3,#0x32              ;4110
0024ae  d20a              BCS      |L1.9414|
0024b0  f1030301          ADD      r3,r3,#1              ;4110
0024b4  f8013025          STRB     r3,[r1,r5,LSL #2]     ;4110
0024b8  e005              B        |L1.9414|
                  |L1.9402|
0024ba  eb000340          ADD      r3,r0,r0,LSL #1       ;4112
0024be  eb031300          ADD      r3,r3,r0,LSL #4       ;4112
0024c2  f8012023          STRB     r2,[r1,r3,LSL #2]     ;4112
                  |L1.9414|
0024c6  f1000001          ADD      r0,r0,#1              ;4106
0024ca  b2c0              UXTB     r0,r0                 ;4106
0024cc  2802              CMP      r0,#2                 ;4106
0024ce  d3e3              BCC      |L1.9368|
0024d0  e7bb              B        |L1.9290|
                  |L1.9426|
;;;4126   		else bat[i]._rel_stat=0;
0024d2  eb010383          ADD      r3,r1,r3,LSL #2
0024d6  f883203c          STRB     r2,[r3,#0x3c]
                  |L1.9434|
0024da  f1000001          ADD      r0,r0,#1              ;4123
0024de  b2c0              UXTB     r0,r0                 ;4123
0024e0  2802              CMP      r0,#2                 ;4123
0024e2  d3b4              BCC      |L1.9294|
;;;4127   		}
;;;4128   
;;;4129   	}
;;;4130   
;;;4131   else 
;;;4132   	{
;;;4133   	char i;
;;;4134   	for(i=0;i<MAX_NUM_OF_BAT;i++)
;;;4135   		{
;;;4136   		bat[i]._cnt_to_block=0;
;;;4137   		bat[i]._rel_stat=0;
;;;4138   		}
;;;4139   
;;;4140   	}
;;;4141   
;;;4142   /*if(mess_find_unvol(MESS2BAT_HNDL1))
;;;4143   	{
;;;4144   	if(PARAM_BAT_ON)
;;;4145   		{
;;;4146   		char i;
;;;4147   		for(i=0;i<MAX_NUM_OF_BAT;i++)
;;;4148   			{
;;;4149   			if(mess_data[1]&(1<<i))
;;;4150   				{
;;;4151   				bat[i]._cnt_to_block=0;
;;;4152   				bat[i]._rel_stat=0;
;;;4153   				}
;;;4154   			}
;;;4155   		}
;;;4156   	} */
;;;4157   }
0024e4  e754              B        |L1.9104|
                  |L1.9446|
0024e6  f04f0000          MOV      r0,#0                 ;4134
                  |L1.9450|
0024ea  eb000340          ADD      r3,r0,r0,LSL #1       ;4136
0024ee  eb031300          ADD      r3,r3,r0,LSL #4       ;4136
0024f2  f8012023          STRB     r2,[r1,r3,LSL #2]     ;4136
0024f6  eb010383          ADD      r3,r1,r3,LSL #2       ;4137
0024fa  f883203c          STRB     r2,[r3,#0x3c]         ;4137
0024fe  f1000001          ADD      r0,r0,#1              ;4134
002502  b2c0              UXTB     r0,r0                 ;4134
002504  2802              CMP      r0,#2                 ;4134
002506  d3f0              BCC      |L1.9450|
002508  e742              B        |L1.9104|
;;;4158   
                          ENDP

                  klimat_hndl PROC
;;;4226   //-----------------------------------------------
;;;4227   void klimat_hndl(void)
00250a  e92d41f0          PUSH     {r4-r8,lr}
;;;4228   {
;;;4229   
;;;4230   
;;;4231   if(t_box>TBOXMAX)
00250e  4d8a              LDR      r5,|L1.10040|
002510  488a              LDR      r0,|L1.10044|
;;;4232   	{
;;;4233   	av_tbox_cnt++;
002512  4c8b              LDR      r4,|L1.10048|
002514  f9b51000          LDRSH    r1,[r5,#0]            ;4231  ; t_box
002518  f9b02000          LDRSH    r2,[r0,#0]            ;4231  ; TBOXMAX
00251c  f9b40000          LDRSH    r0,[r4,#0]
002520  4291              CMP      r1,r2                 ;4231
002522  dd03              BLE      |L1.9516|
002524  f1000001          ADD      r0,r0,#1
002528  8020              STRH     r0,[r4,#0]
00252a  e003              B        |L1.9524|
                  |L1.9516|
;;;4234   	} 
;;;4235   else if(t_box<TBOXMAX)
00252c  da02              BGE      |L1.9524|
;;;4236   	{
;;;4237   	av_tbox_cnt--;
00252e  f1a00001          SUB      r0,r0,#1
002532  8020              STRH     r0,[r4,#0]
                  |L1.9524|
;;;4238   	}
;;;4239   gran(&av_tbox_cnt,0,6);
002534  2206              MOVS     r2,#6
002536  2100              MOVS     r1,#0
002538  4881              LDR      r0,|L1.10048|
00253a  f7fffffe          BL       gran
;;;4240   
;;;4241   if(av_tbox_cnt>5)
00253e  f9b40000          LDRSH    r0,[r4,#0]  ; av_tbox_cnt
;;;4242   	{
;;;4243   	av_tbox_stat=atsON;
002542  4980              LDR      r1,|L1.10052|
002544  2601              MOVS     r6,#1
002546  2805              CMP      r0,#5                 ;4241
002548  dd00              BLE      |L1.9548|
00254a  700e              STRB     r6,[r1,#0]
                  |L1.9548|
00254c  2400              MOVS     r4,#0                 ;4239
;;;4244   	}
;;;4245   if(av_tbox_cnt<1)
00254e  2801              CMP      r0,#1
002550  da00              BGE      |L1.9556|
;;;4246   	{
;;;4247   	av_tbox_stat=atsOFF;
002552  700c              STRB     r4,[r1,#0]
                  |L1.9556|
;;;4248   	}
;;;4249   
;;;4250   if(t_box<(TBOXREG-2))
002554  497c              LDR      r1,|L1.10056|
002556  f9b50000          LDRSH    r0,[r5,#0]  ; t_box
;;;4251   	{
;;;4252   	if(t_box_cnt<30)
00255a  4a7c              LDR      r2,|L1.10060|
00255c  f9b11000          LDRSH    r1,[r1,#0]            ;4250  ; TBOXREG
;;;4253   		{
;;;4254   		t_box_cnt++;
;;;4255   		if(t_box_cnt>=30)
;;;4256   			{
;;;4257   			main_vent_pos--;
002560  4f7b              LDR      r7,|L1.10064|
002562  1e8b              SUBS     r3,r1,#2              ;4250
002564  4298              CMP      r0,r3                 ;4250
002566  da0f              BGE      |L1.9608|
002568  f9921000          LDRSB    r1,[r2,#0]            ;4252  ; t_box_cnt
00256c  291e              CMP      r1,#0x1e              ;4252
00256e  da0a              BGE      |L1.9606|
002570  f1010101          ADD      r1,r1,#1              ;4254
002574  b249              SXTB     r1,r1                 ;4254
002576  7011              STRB     r1,[r2,#0]            ;4254
002578  291e              CMP      r1,#0x1e              ;4255
00257a  db04              BLT      |L1.9606|
00257c  8839              LDRH     r1,[r7,#0]  ; main_vent_pos
00257e  f1a10101          SUB      r1,r1,#1
002582  8039              STRH     r1,[r7,#0]
;;;4258   			t_box_cnt=0;
002584  7014              STRB     r4,[r2,#0]
                  |L1.9606|
002586  e0e6              B        |L1.10070|
                  |L1.9608|
;;;4259   			}
;;;4260   		}
;;;4261   	}
;;;4262   else if(t_box>(TBOXREG))
002588  4288              CMP      r0,r1
00258a  dd0f              BLE      |L1.9644|
;;;4263   	{
;;;4264   	if(t_box_cnt<30)
00258c  f9921000          LDRSB    r1,[r2,#0]  ; t_box_cnt
002590  291e              CMP      r1,#0x1e
002592  da0a              BGE      |L1.9642|
;;;4265   		{
;;;4266   		t_box_cnt++;
002594  f1010101          ADD      r1,r1,#1
002598  b249              SXTB     r1,r1
00259a  7011              STRB     r1,[r2,#0]
;;;4267   		if(t_box_cnt>=30)
00259c  291e              CMP      r1,#0x1e
00259e  db04              BLT      |L1.9642|
;;;4268   			{
;;;4269   			main_vent_pos++;
0025a0  8839              LDRH     r1,[r7,#0]  ; main_vent_pos
0025a2  f1010101          ADD      r1,r1,#1
0025a6  8039              STRH     r1,[r7,#0]
;;;4270   			t_box_cnt=0;
0025a8  7014              STRB     r4,[r2,#0]
                  |L1.9642|
0025aa  e0d4              B        |L1.10070|
                  |L1.9644|
0025ac  e0d2              B        |L1.10068|
0025ae  0000              DCW      0x0000
                  |L1.9648|
                          DCD      net_av
                  |L1.9652|
                          DCD      ||area_number.21||
                  |L1.9656|
                          DCD      eb2_data_short
                  |L1.9660|
                          DCD      avt_stat
                  |L1.9664|
                          DCD      avt_stat_old
                  |L1.9668|
                          DCD      NUMAVT
                  |L1.9672|
0025c8  4176746f          DCB      "Avtomat #1 is OFF",0
0025cc  6d617420
0025d0  23312069
0025d4  73204f46
0025d8  4600    
0025da  00                DCB      0
0025db  00                DCB      0
                  |L1.9692|
0025dc  4176746f          DCB      "Avtomat #2 is OFF",0
0025e0  6d617420
0025e4  23322069
0025e8  73204f46
0025ec  4600    
0025ee  00                DCB      0
0025ef  00                DCB      0
                  |L1.9712|
0025f0  4176746f          DCB      "Avtomat #3 is OFF",0
0025f4  6d617420
0025f8  23332069
0025fc  73204f46
002600  4600    
002602  00                DCB      0
002603  00                DCB      0
                  |L1.9732|
002604  4176746f          DCB      "Avtomat #4 is OFF",0
002608  6d617420
00260c  23342069
002610  73204f46
002614  4600    
002616  00                DCB      0
002617  00                DCB      0
                  |L1.9752|
002618  4176746f          DCB      "Avtomat #5 is OFF",0
00261c  6d617420
002620  23352069
002624  73204f46
002628  4600    
00262a  00                DCB      0
00262b  00                DCB      0
                  |L1.9772|
00262c  4176746f          DCB      "Avtomat #6 is OFF",0
002630  6d617420
002634  23362069
002638  73204f46
00263c  4600    
00263e  00                DCB      0
00263f  00                DCB      0
                  |L1.9792|
002640  4176746f          DCB      "Avtomat #7 is OFF",0
002644  6d617420
002648  23372069
00264c  73204f46
002650  4600    
002652  00                DCB      0
002653  00                DCB      0
                  |L1.9812|
002654  4176746f          DCB      "Avtomat #8 is OFF",0
002658  6d617420
00265c  23382069
002660  73204f46
002664  4600    
002666  00                DCB      0
002667  00                DCB      0
                  |L1.9832|
002668  4176746f          DCB      "Avtomat #9 is OFF",0
00266c  6d617420
002670  23392069
002674  73204f46
002678  4600    
00267a  00                DCB      0
00267b  00                DCB      0
                  |L1.9852|
00267c  4176746f          DCB      "Avtomat #1 is ON ",0
002680  6d617420
002684  23312069
002688  73204f4e
00268c  2000    
00268e  00                DCB      0
00268f  00                DCB      0
                  |L1.9872|
002690  4176746f          DCB      "Avtomat #2 is ON ",0
002694  6d617420
002698  23322069
00269c  73204f4e
0026a0  2000    
0026a2  00                DCB      0
0026a3  00                DCB      0
                  |L1.9892|
0026a4  4176746f          DCB      "Avtomat #3 is ON ",0
0026a8  6d617420
0026ac  23332069
0026b0  73204f4e
0026b4  2000    
0026b6  00                DCB      0
0026b7  00                DCB      0
                  |L1.9912|
0026b8  4176746f          DCB      "Avtomat #4 is ON ",0
0026bc  6d617420
0026c0  23342069
0026c4  73204f4e
0026c8  2000    
0026ca  00                DCB      0
0026cb  00                DCB      0
                  |L1.9932|
0026cc  4176746f          DCB      "Avtomat #5 is ON ",0
0026d0  6d617420
0026d4  23352069
0026d8  73204f4e
0026dc  2000    
0026de  00                DCB      0
0026df  00                DCB      0
                  |L1.9952|
0026e0  4176746f          DCB      "Avtomat #6 is ON ",0
0026e4  6d617420
0026e8  23362069
0026ec  73204f4e
0026f0  2000    
0026f2  00                DCB      0
0026f3  00                DCB      0
                  |L1.9972|
0026f4  4176746f          DCB      "Avtomat #7 is ON ",0
0026f8  6d617420
0026fc  23372069
002700  73204f4e
002704  2000    
002706  00                DCB      0
002707  00                DCB      0
                  |L1.9992|
002708  4176746f          DCB      "Avtomat #8 is ON ",0
00270c  6d617420
002710  23382069
002714  73204f4e
002718  2000    
00271a  00                DCB      0
00271b  00                DCB      0
                  |L1.10012|
00271c  4176746f          DCB      "Avtomat #9 is ON ",0
002720  6d617420
002724  23392069
002728  73204f4e
00272c  2000    
00272e  00                DCB      0
00272f  00                DCB      0
                  |L1.10032|
                          DCD      bat
                  |L1.10036|
                          DCD      mess_data
                  |L1.10040|
                          DCD      t_box
                  |L1.10044|
                          DCD      TBOXMAX
                  |L1.10048|
                          DCD      av_tbox_cnt
                  |L1.10052|
                          DCD      av_tbox_stat
                  |L1.10056|
                          DCD      TBOXREG
                  |L1.10060|
                          DCD      t_box_cnt
                  |L1.10064|
                          DCD      main_vent_pos
                  |L1.10068|
;;;4271   			}
;;;4272   		}
;;;4273   	}
;;;4274   else
;;;4275   	{
;;;4276   	t_box_cnt=0;
002754  7014              STRB     r4,[r2,#0]
                  |L1.10070|
;;;4277   	}
;;;4278   
;;;4279   #ifndef UKU_KONTUR
;;;4280   if(t_box>TBOXVENTMAX)gran(&main_vent_pos,0,20); 
002756  49fe              LDR      r1,|L1.11088|
002758  f9b11000          LDRSH    r1,[r1,#0]  ; TBOXVENTMAX
00275c  4288              CMP      r0,r1
00275e  dd05              BLE      |L1.10092|
002760  2214              MOVS     r2,#0x14
002762  2100              MOVS     r1,#0
002764  48fb              LDR      r0,|L1.11092|
002766  f7fffffe          BL       gran
00276a  e007              B        |L1.10108|
                  |L1.10092|
;;;4281   else gran(&main_vent_pos,0,pos_vent+9);
00276c  48fa              LDR      r0,|L1.11096|
00276e  2100              MOVS     r1,#0
002770  8800              LDRH     r0,[r0,#0]  ; pos_vent
002772  3009              ADDS     r0,r0,#9
002774  b202              SXTH     r2,r0
002776  48f7              LDR      r0,|L1.11092|
002778  f7fffffe          BL       gran
                  |L1.10108|
;;;4282   
;;;4283   if((mess_find_unvol(MESS2VENT_HNDL))&&(mess_data[0]==PARAM_VENT_CB))
00277c  20f0              MOVS     r0,#0xf0
00277e  f7fffffe          BL       mess_find_unvol
002782  b128              CBZ      r0,|L1.10128|
002784  48f5              LDR      r0,|L1.11100|
002786  6801              LDR      r1,[r0,#0]  ; mess_data
002788  29f1              CMP      r1,#0xf1
00278a  d101              BNE      |L1.10128|
;;;4284   	{
;;;4285   	main_vent_pos=mess_data[1];
00278c  6840              LDR      r0,[r0,#4]  ; mess_data
00278e  8038              STRH     r0,[r7,#0]
                  |L1.10128|
;;;4286   	}
;;;4287   
;;;4288   
;;;4289   if(main_vent_pos<=1)mixer_vent_stat=mvsON;
002790  f9b71000          LDRSH    r1,[r7,#0]  ; main_vent_pos
002794  48f2              LDR      r0,|L1.11104|
002796  2901              CMP      r1,#1
002798  dc01              BGT      |L1.10142|
00279a  7006              STRB     r6,[r0,#0]
00279c  e000              B        |L1.10144|
                  |L1.10142|
;;;4290   else mixer_vent_stat=mvsOFF;
00279e  7004              STRB     r4,[r0,#0]
                  |L1.10144|
;;;4291   #endif
;;;4292   
;;;4293   #ifdef UKU_KONTUR
;;;4294   
;;;4295   if(t_box>TBOXVENTON) t_box_vent_on_cnt++;
;;;4296   else if(t_box<TBOXVENTOFF) t_box_vent_on_cnt--;
;;;4297   gran(&t_box_vent_on_cnt,0,10);
;;;4298   
;;;4299   if(t_box_vent_on_cnt>9) vent_stat_k=vsON;
;;;4300   else if(t_box_vent_on_cnt<1) vent_stat_k=vsOFF;
;;;4301   
;;;4302   if(t_box<TBOXWARMON) t_box_warm_on_cnt++;
;;;4303   else if(t_box>TBOXWARMOFF) t_box_warm_on_cnt--;
;;;4304   gran(&t_box_warm_on_cnt,0,10);
;;;4305   
;;;4306   if(t_box_warm_on_cnt>9) warm_stat_k=wsON;
;;;4307   else if(t_box_warm_on_cnt<1) warm_stat_k=wsOFF;
;;;4308   
;;;4309   #endif
;;;4310   
;;;4311   if((TBATDISABLE>=50) && (TBATDISABLE<=90))
0027a0  48f0              LDR      r0,|L1.11108|
;;;4312   	{
;;;4313   	if(t_box>TBATDISABLE)
;;;4314   		{
;;;4315   		tbatdisable_cnt++;
;;;4316   		}
;;;4317   	if(t_box<TBATENABLE)
;;;4318   		{
;;;4319   		tbatdisable_cnt--;
;;;4320   		}
;;;4321   	gran(&tbatdisable_cnt,0,6);
;;;4322   
;;;4323   	if(tbatdisable_cnt>5)
;;;4324   		{
;;;4325   		tbatdisable_stat=tbdsOFF;
0027a2  f8df83c4          LDR      r8,|L1.11112|
0027a6  f9b00000          LDRSH    r0,[r0,#0]            ;4311  ; TBATDISABLE
0027aa  f1a00132          SUB      r1,r0,#0x32           ;4311
0027ae  2928              CMP      r1,#0x28              ;4311
0027b0  d821              BHI      |L1.10230|
0027b2  f9b51000          LDRSH    r1,[r5,#0]            ;4313  ; t_box
0027b6  4fed              LDR      r7,|L1.11116|
0027b8  4281              CMP      r1,r0                 ;4313
0027ba  dd03              BLE      |L1.10180|
0027bc  8838              LDRH     r0,[r7,#0]            ;4315  ; tbatdisable_cnt
0027be  f1000001          ADD      r0,r0,#1              ;4315
0027c2  8038              STRH     r0,[r7,#0]            ;4315
                  |L1.10180|
0027c4  48ea              LDR      r0,|L1.11120|
0027c6  f9b00000          LDRSH    r0,[r0,#0]            ;4317  ; TBATENABLE
0027ca  4281              CMP      r1,r0                 ;4317
0027cc  da03              BGE      |L1.10198|
0027ce  8838              LDRH     r0,[r7,#0]            ;4319  ; tbatdisable_cnt
0027d0  f1a00001          SUB      r0,r0,#1              ;4319
0027d4  8038              STRH     r0,[r7,#0]            ;4319
                  |L1.10198|
0027d6  2206              MOVS     r2,#6                 ;4321
0027d8  2100              MOVS     r1,#0                 ;4321
0027da  48e4              LDR      r0,|L1.11116|
0027dc  f7fffffe          BL       gran
0027e0  f9b70000          LDRSH    r0,[r7,#0]            ;4323  ; tbatdisable_cnt
0027e4  2805              CMP      r0,#5                 ;4323
0027e6  dd01              BLE      |L1.10220|
0027e8  f8886000          STRB     r6,[r8,#0]
                  |L1.10220|
;;;4326   		}
;;;4327   	if(tbatdisable_cnt<1)
0027ec  2801              CMP      r0,#1
0027ee  da04              BGE      |L1.10234|
;;;4328   		{
;;;4329   		tbatdisable_stat=tbdsON;
0027f0  f8884000          STRB     r4,[r8,#0]
0027f4  e001              B        |L1.10234|
                  |L1.10230|
;;;4330   		}
;;;4331   	}
;;;4332   else 
;;;4333   	{
;;;4334   	tbatdisable_stat=tbdsON;
0027f6  f8884000          STRB     r4,[r8,#0]
                  |L1.10234|
;;;4335   	}
;;;4336   
;;;4337   if((TLOADDISABLE>=50) && (TLOADDISABLE<=80))
0027fa  48de              LDR      r0,|L1.11124|
;;;4338   	{
;;;4339   	if(t_box>TLOADDISABLE)
;;;4340   		{
;;;4341   		tloaddisable_cnt++;
;;;4342   		}
;;;4343   	if(t_box<TLOADENABLE)
;;;4344   		{
;;;4345   		tloaddisable_cnt--;
;;;4346   		}
;;;4347   	gran(&tloaddisable_cnt,0,6);
;;;4348   
;;;4349   	if(tloaddisable_cnt>5)
;;;4350   		{
;;;4351   		tloaddisable_stat=tldsOFF;
0027fc  4fde              LDR      r7,|L1.11128|
0027fe  f9b00000          LDRSH    r0,[r0,#0]            ;4337  ; TLOADDISABLE
002802  f1a00132          SUB      r1,r0,#0x32           ;4337
002806  291e              CMP      r1,#0x1e              ;4337
002808  d81f              BHI      |L1.10314|
00280a  f9b51000          LDRSH    r1,[r5,#0]            ;4339  ; t_box
00280e  4ddb              LDR      r5,|L1.11132|
002810  4281              CMP      r1,r0                 ;4339
002812  dd03              BLE      |L1.10268|
002814  8828              LDRH     r0,[r5,#0]            ;4341  ; tloaddisable_cnt
002816  f1000001          ADD      r0,r0,#1              ;4341
00281a  8028              STRH     r0,[r5,#0]            ;4341
                  |L1.10268|
00281c  48d8              LDR      r0,|L1.11136|
00281e  f9b00000          LDRSH    r0,[r0,#0]            ;4343  ; TLOADENABLE
002822  4281              CMP      r1,r0                 ;4343
002824  da03              BGE      |L1.10286|
002826  8828              LDRH     r0,[r5,#0]            ;4345  ; tloaddisable_cnt
002828  f1a00001          SUB      r0,r0,#1              ;4345
00282c  8028              STRH     r0,[r5,#0]            ;4345
                  |L1.10286|
00282e  2206              MOVS     r2,#6                 ;4347
002830  2100              MOVS     r1,#0                 ;4347
002832  48d2              LDR      r0,|L1.11132|
002834  f7fffffe          BL       gran
002838  f9b50000          LDRSH    r0,[r5,#0]            ;4349  ; tloaddisable_cnt
00283c  2805              CMP      r0,#5                 ;4349
00283e  dd00              BLE      |L1.10306|
002840  703e              STRB     r6,[r7,#0]
                  |L1.10306|
;;;4352   		}
;;;4353   	if(tloaddisable_cnt<1)
002842  2801              CMP      r0,#1
002844  da00              BGE      |L1.10312|
;;;4354   		{
;;;4355   		tloaddisable_stat=tldsON;
002846  703c              STRB     r4,[r7,#0]
                  |L1.10312|
;;;4356   		}
;;;4357   	}
;;;4358   else 
;;;4359   	{
;;;4360   	tloaddisable_stat=tldsON;
;;;4361   	}
;;;4362   
;;;4363   }
002848  e4ed              B        |L1.8742|
                  |L1.10314|
00284a  703c              STRB     r4,[r7,#0]            ;4360
00284c  e4eb              B        |L1.8742|
;;;4364   #endif
                          ENDP

                  bat_drv PROC
;;;4500   //-----------------------------------------------
;;;4501   void bat_drv(char in)
00284e  e92d5ffc          PUSH     {r2-r12,lr}
;;;4502   {
002852  4605              MOV      r5,r0
;;;4503   unsigned short /*tempUS,*/tempUS_;
;;;4504   unsigned long tempUL,tempUL_;
;;;4505   unsigned short b_zar;
;;;4506   //static unsigned short time_cnt[2];
;;;4507   
;;;4508   
;;;4509   
;;;4510   if(cntrl_stat_blok_cnt_plus[in])cntrl_stat_blok_cnt_plus[in]--;
002854  49cb              LDR      r1,|L1.11140|
002856  f9310015          LDRSH    r0,[r1,r5,LSL #1]
00285a  b118              CBZ      r0,|L1.10340|
00285c  f1a00001          SUB      r0,r0,#1
002860  f8210015          STRH     r0,[r1,r5,LSL #1]
                  |L1.10340|
;;;4511   if(cntrl_stat_blok_cnt_minus[in])cntrl_stat_blok_cnt_minus[in]--;
002864  4ac7              LDR      r2,|L1.11140|
002866  1d12              ADDS     r2,r2,#4
002868  f9320015          LDRSH    r0,[r2,r5,LSL #1]
00286c  b118              CBZ      r0,|L1.10358|
00286e  f1a00001          SUB      r0,r0,#1
002872  f8220015          STRH     r0,[r2,r5,LSL #1]
                  |L1.10358|
;;;4512   
;;;4513   
;;;4514   if(bat[in]._Ib>IZMAX) cntrl_stat_blok_cnt_plus[in]=100;
002876  eb050045          ADD      r0,r5,r5,LSL #1
00287a  eb001305          ADD      r3,r0,r5,LSL #4
00287e  48c2              LDR      r0,|L1.11144|
002880  f04f0b64          MOV      r11,#0x64
002884  eb000483          ADD      r4,r0,r3,LSL #2
002888  4bc0              LDR      r3,|L1.11148|
00288a  f9b40008          LDRSH    r0,[r4,#8]
00288e  f9b33000          LDRSH    r3,[r3,#0]  ; IZMAX
002892  4298              CMP      r0,r3
002894  dd01              BLE      |L1.10394|
002896  f821b015          STRH     r11,[r1,r5,LSL #1]
                  |L1.10394|
;;;4515   if(bat[in]._Ib<0)     cntrl_stat_blok_cnt_minus[in]=100;
00289a  2800              CMP      r0,#0
00289c  da01              BGE      |L1.10402|
00289e  f822b015          STRH     r11,[r2,r5,LSL #1]
                  |L1.10402|
;;;4516   
;;;4517   if(cntrl_stat_blok_cnt_plus[in] && cntrl_stat_blok_cnt_minus[in])
;;;4518        {
;;;4519        if(!cntrl_stat_blok_cnt_)
0028a2  48b8              LDR      r0,|L1.11140|
0028a4  f8313015          LDRH     r3,[r1,r5,LSL #1]     ;4517
0028a8  3878              SUBS     r0,r0,#0x78
0028aa  2700              MOVS     r7,#0
0028ac  b14b              CBZ      r3,|L1.10434|
0028ae  f8323015          LDRH     r3,[r2,r5,LSL #1]     ;4517
0028b2  b133              CBZ      r3,|L1.10434|
0028b4  f8b0305a          LDRH     r3,[r0,#0x5a]  ; cntrl_stat_blok_cnt_
0028b8  b1a3              CBZ      r3,|L1.10468|
;;;4520             {
;;;4521             cntrl_stat_blok_cnt_=600; 
;;;4522             cntrl_stat_blok_cnt_plus[in]=0;
;;;4523             cntrl_stat_blok_cnt_minus[in]=0;
;;;4524             }
;;;4525        else cntrl_stat_blok_cnt=3000;
0028ba  f64031b8          MOV      r1,#0xbb8
0028be  f8a01058          STRH     r1,[r0,#0x58]
                  |L1.10434|
;;;4526        }
;;;4527   cntrl_stat_blok_cnt=0;
0028c2  f8a07058          STRH     r7,[r0,#0x58]
;;;4528   
;;;4529   if(++(bat[in]._time_cnt)>=10)
0028c6  f894003e          LDRB     r0,[r4,#0x3e]
0028ca  1c40              ADDS     r0,r0,#1
0028cc  b2c0              UXTB     r0,r0
0028ce  f884003e          STRB     r0,[r4,#0x3e]
0028d2  280a              CMP      r0,#0xa
0028d4  d301              BCC      |L1.10458|
;;;4530   	{
;;;4531   	bat[in]._time_cnt=0;
0028d6  f884703e          STRB     r7,[r4,#0x3e]
                  |L1.10458|
;;;4532   	//bat[in]._zar_cnt++;
;;;4533   	}
;;;4534   
;;;4535   if(main_10Hz_cnt==50)
0028da  4ead              LDR      r6,|L1.11152|
0028dc  8830              LDRH     r0,[r6,#0]  ; main_10Hz_cnt
0028de  2832              CMP      r0,#0x32
0028e0  d009              BEQ      |L1.10486|
0028e2  e017              B        |L1.10516|
                  |L1.10468|
0028e4  f44f7316          MOV      r3,#0x258             ;4521
0028e8  f8a0305a          STRH     r3,[r0,#0x5a]         ;4521
0028ec  f8217015          STRH     r7,[r1,r5,LSL #1]     ;4522
0028f0  f8227015          STRH     r7,[r2,r5,LSL #1]     ;4523
0028f4  e7e5              B        |L1.10434|
                  |L1.10486|
;;;4536   	{
;;;4537   	if(!bat[in]._rel_stat)
0028f6  f894003c          LDRB     r0,[r4,#0x3c]
0028fa  b958              CBNZ     r0,|L1.10516|
;;;4538   		{
;;;4539   		
;;;4540   		if(bat[in]._Ub<80) 
0028fc  f9b40002          LDRSH    r0,[r4,#2]
002900  2850              CMP      r0,#0x50
002902  da07              BGE      |L1.10516|
;;;4541   			{
;;;4542   			
;;;4543   			if(!(bat[in]._av&1))
002904  f894003d          LDRB     r0,[r4,#0x3d]
002908  07c0              LSLS     r0,r0,#31
00290a  d103              BNE      |L1.10516|
;;;4544   				{
;;;4545   				avar_bat_hndl(in,1);
00290c  2101              MOVS     r1,#1
00290e  4628              MOV      r0,r5
002910  f7fffffe          BL       avar_bat_hndl
                  |L1.10516|
;;;4546   				//if(in==0)plazma_bat++;
;;;4547   				}
;;;4548   			}				
;;;4549   
;;;4550   		}
;;;4551   	}
;;;4552   
;;;4553   if(main_10Hz_cnt>200)
002914  f9b60000          LDRSH    r0,[r6,#0]  ; main_10Hz_cnt
;;;4554   	{
;;;4555   	if(abs(bat[in]._Ib)>IKB) 
002918  4e9e              LDR      r6,|L1.11156|
00291a  28c8              CMP      r0,#0xc8              ;4553
00291c  dd0f              BLE      |L1.10558|
00291e  f9b40008          LDRSH    r0,[r4,#8]
002922  f7fffffe          BL       abs
002926  f9b61000          LDRSH    r1,[r6,#0]  ; IKB
00292a  4288              CMP      r0,r1
00292c  dd07              BLE      |L1.10558|
;;;4556   		{
;;;4557   		if((bat[in]._av&1))avar_bat_hndl(in,0);
00292e  f894003d          LDRB     r0,[r4,#0x3d]
002932  07c0              LSLS     r0,r0,#31
002934  d003              BEQ      |L1.10558|
002936  2100              MOVS     r1,#0
002938  4628              MOV      r0,r5
00293a  f7fffffe          BL       avar_bat_hndl
                  |L1.10558|
;;;4558   		}
;;;4559   	}
;;;4560   
;;;4561   
;;;4562   
;;;4563   if(bat[in]._Ib>(-IKB))
00293e  4895              LDR      r0,|L1.11156|
002940  f9b41008          LDRSH    r1,[r4,#8]
002944  f9b00000          LDRSH    r0,[r0,#0]  ; IKB
002948  4240              RSBS     r0,r0,#0
00294a  4281              CMP      r1,r0
00294c  dd14              BLE      |L1.10616|
;;;4564   	{
;;;4565   	if(bat[in]._cnt_wrk<10)
00294e  7b60              LDRB     r0,[r4,#0xd]
002950  280a              CMP      r0,#0xa
002952  d20d              BCS      |L1.10608|
;;;4566   		{
;;;4567   		bat[in]._cnt_wrk++;
002954  f1000001          ADD      r0,r0,#1
002958  b2c0              UXTB     r0,r0
00295a  7360              STRB     r0,[r4,#0xd]
;;;4568   		if((bat[in]._cnt_wrk>=10)&&(bat[in]._wrk)) 
00295c  280a              CMP      r0,#0xa
00295e  d371              BCC      |L1.10820|
002960  7ba0              LDRB     r0,[r4,#0xe]
002962  2800              CMP      r0,#0
002964  d06e              BEQ      |L1.10820|
;;;4569   			{
;;;4570   			bat[in]._wrk=0;
002966  73a7              STRB     r7,[r4,#0xe]
;;;4571   			//beep_init(0x7L,'O');
;;;4572   			//wrk_mem_hndl(0);
;;;4573   			wrk_mem_hndl(in);
002968  4628              MOV      r0,r5
00296a  f7fffffe          BL       wrk_mem_hndl
00296e  e069              B        |L1.10820|
                  |L1.10608|
;;;4574   			//plazma++;
;;;4575   			}
;;;4576   		}
;;;4577   	else bat[in]._cnt_wrk=10;	
002970  f04f000a          MOV      r0,#0xa
002974  7360              STRB     r0,[r4,#0xd]
002976  e065              B        |L1.10820|
                  |L1.10616|
;;;4578   	}	
;;;4579   
;;;4580   else if(bat[in]._Ib<(-IKB))
002978  da64              BGE      |L1.10820|
;;;4581   	{
;;;4582   	if(bat[in]._cnt_wrk)
00297a  7b60              LDRB     r0,[r4,#0xd]
00297c  b3f0              CBZ      r0,|L1.10748|
;;;4583   		{
;;;4584   		bat[in]._cnt_wrk--;
00297e  f1a00001          SUB      r0,r0,#1
002982  b2c0              UXTB     r0,r0
002984  7360              STRB     r0,[r4,#0xd]
;;;4585   		if((bat[in]._cnt_wrk==0)&&(bat[in]._wrk==0)) 
002986  bbc8              CBNZ     r0,|L1.10748|
002988  7ba0              LDRB     r0,[r4,#0xe]
00298a  bbb8              CBNZ     r0,|L1.10748|
;;;4586   			{
;;;4587   			bat[in]._wrk=1;
00298c  f04f0001          MOV      r0,#1
002990  73a0              STRB     r0,[r4,#0xe]
;;;4588   
;;;4589   				{
;;;4590   				char temp;
;;;4591   				signed short temp_temp;
;;;4592   				temp_temp=bat[in]._u_old[((bat_u_old_cnt+1)&0x07)];
002992  4881              LDR      r0,|L1.11160|
002994  8800              LDRH     r0,[r0,#0]  ; bat_u_old_cnt
002996  f1000001          ADD      r0,r0,#1
00299a  f0000007          AND      r0,r0,#7
00299e  eb040040          ADD      r0,r4,r0,LSL #1
0029a2  8c00              LDRH     r0,[r0,#0x20]
0029a4  9000              STR      r0,[sp,#0]
;;;4593   			 
;;;4594   				temp=LPC_RTC->YEAR;
0029a6  4e7d              LDR      r6,|L1.11164|
0029a8  8bb0              LDRH     r0,[r6,#0x1c]
0029aa  9001              STR      r0,[sp,#4]
;;;4595   				gran_char((signed char*)&temp,1,99);
0029ac  f04f0263          MOV      r2,#0x63
0029b0  f04f0101          MOV      r1,#1
0029b4  a801              ADD      r0,sp,#4
0029b6  f7fffffe          BL       gran_char
;;;4596   				*((char*)(&(bat[in]._wrk_date[0])))=temp;
0029ba  f104041c          ADD      r4,r4,#0x1c
0029be  f89d0004          LDRB     r0,[sp,#4]
0029c2  7620              STRB     r0,[r4,#0x18]
;;;4597   			
;;;4598   				temp=LPC_RTC->MONTH;
0029c4  7e30              LDRB     r0,[r6,#0x18]
0029c6  9001              STR      r0,[sp,#4]
;;;4599   				gran_char((signed char*)&temp,1,12);
0029c8  f04f020c          MOV      r2,#0xc
0029cc  f04f0101          MOV      r1,#1
0029d0  a801              ADD      r0,sp,#4
0029d2  f7fffffe          BL       gran_char
;;;4600   				*(((char*)(&(bat[in]._wrk_date[0])))+1)=temp;
0029d6  f89d0004          LDRB     r0,[sp,#4]
0029da  7660              STRB     r0,[r4,#0x19]
;;;4601   			
;;;4602   				temp=LPC_RTC->DOM;
0029dc  7b30              LDRB     r0,[r6,#0xc]
0029de  9001              STR      r0,[sp,#4]
;;;4603   				gran_char((signed char*)&temp,1,31);
0029e0  221f              MOVS     r2,#0x1f
0029e2  2101              MOVS     r1,#1
0029e4  a801              ADD      r0,sp,#4
0029e6  f7fffffe          BL       gran_char
;;;4604   				*(((char*)(&(bat[in]._wrk_date[0])))+2)=temp;			
0029ea  f89d0004          LDRB     r0,[sp,#4]
0029ee  76a0              STRB     r0,[r4,#0x1a]
;;;4605   				
;;;4606   				*(((char*)(&(bat[in]._wrk_date[0])))+3)=*((char*)&temp_temp);
0029f0  f89d0000          LDRB     r0,[sp,#0]
0029f4  76e0              STRB     r0,[r4,#0x1b]
;;;4607   
;;;4608   				temp=LPC_RTC->HOUR;
0029f6  7a30              LDRB     r0,[r6,#8]
0029f8  9001              STR      r0,[sp,#4]
;;;4609   				gran_char((signed char*)&temp,0,23);
0029fa  e000              B        |L1.10750|
                  |L1.10748|
0029fc  e022              B        |L1.10820|
                  |L1.10750|
0029fe  2217              MOVS     r2,#0x17
002a00  2100              MOVS     r1,#0
002a02  a801              ADD      r0,sp,#4
002a04  f7fffffe          BL       gran_char
;;;4610   				*((char*)(&(bat[in]._wrk_date[1])))=temp;
002a08  f89d0004          LDRB     r0,[sp,#4]
002a0c  7720              STRB     r0,[r4,#0x1c]
;;;4611                  	
;;;4612   				temp=LPC_RTC->MIN;
002a0e  7930              LDRB     r0,[r6,#4]
002a10  9001              STR      r0,[sp,#4]
;;;4613   				gran_char((signed char*)&temp,0,59);
002a12  223b              MOVS     r2,#0x3b
002a14  2100              MOVS     r1,#0
002a16  a801              ADD      r0,sp,#4
002a18  f7fffffe          BL       gran_char
;;;4614   				*(((char*)(&(bat[in]._wrk_date[1])))+1)=temp;
002a1c  f89d0004          LDRB     r0,[sp,#4]
002a20  7760              STRB     r0,[r4,#0x1d]
;;;4615   	          
;;;4616   				temp=LPC_RTC->SEC;
002a22  7830              LDRB     r0,[r6,#0]
002a24  9001              STR      r0,[sp,#4]
;;;4617   				gran_char((signed char*)&temp,0,59);
002a26  223b              MOVS     r2,#0x3b
002a28  2100              MOVS     r1,#0
002a2a  a801              ADD      r0,sp,#4
002a2c  f7fffffe          BL       gran_char
;;;4618   				*(((char*)(&(bat[in]._wrk_date[1])))+2)=temp;
002a30  f89d0004          LDRB     r0,[sp,#4]
002a34  77a0              STRB     r0,[r4,#0x1e]
;;;4619   			
;;;4620   				*(((char*)(&(bat[in]._wrk_date[1])))+3)=*(((char*)&temp_temp)+1);
002a36  f89d0001          LDRB     r0,[sp,#1]
002a3a  77e0              STRB     r0,[r4,#0x1f]
;;;4621   				bat[in]._Iintegr=0;		//  
002a3c  8027              STRH     r7,[r4,#0]
;;;4622   				bat[in]._Iintegr_=0;	//  
002a3e  8067              STRH     r7,[r4,#2]
002a40  f1a4041c          SUB      r4,r4,#0x1c
                  |L1.10820|
;;;4623   				}
;;;4624   	
;;;4625   			}
;;;4626   
;;;4627   		}
;;;4628   	else bat[in]._cnt_wrk=0;	 
;;;4629   	
;;;4630   	}					
;;;4631   
;;;4632   /*
;;;4633   if(Ibat>=(-IKB))
;;;4634   	{
;;;4635   	if(cnt_wrk<10)
;;;4636   		{
;;;4637   		cnt_wrk++;
;;;4638   		if((cnt_wrk>=10)&&(wrk!=wrkOFF)) 
;;;4639   			{
;;;4640   			wrk=wrkOFF;
;;;4641   			//beep_init(0x7L,'O');
;;;4642   			wrk_mem_hndl(ibat_integr);
;;;4643   			}
;;;4644   		}
;;;4645   	else cnt_wrk=10;	
;;;4646   	}	
;;;4647   
;;;4648   else if((Ibat<(-IKB))&&(spc_stat!=spc_KE))
;;;4649   	{
;;;4650   	if(cnt_wrk)
;;;4651   		{
;;;4652   		cnt_wrk--;
;;;4653   		if((cnt_wrk==0)&&(wrk!=wrkON)) 
;;;4654   			{
;;;4655   			char temp;
;;;4656   			signed short temp_temp;
;;;4657   			temp_temp=ubat_old[((ubat_old_cnt+1)&0x07)];
;;;4658   			 
;;;4659   			wrk=wrkON;
;;;4660   			
;;;4661   			temp=_year;
;;;4662   			gran_char(&temp,1,99);
;;;4663   			*((char*)(&(wrk_date[0])))=temp;
;;;4664   			
;;;4665   			temp=_month;
;;;4666   			gran_char(&temp,1,12);
;;;4667   			*(((char*)(&(wrk_date[0])))+1)=temp;
;;;4668   			
;;;4669   			temp=_date;
;;;4670   			gran_char(&temp,1,31);
;;;4671   			*(((char*)(&(wrk_date[0])))+2)=temp;			
;;;4672   				
;;;4673   			*(((char*)(&(wrk_date[0])))+3)=*((char*)&temp_temp);
;;;4674   
;;;4675   			temp=_hour;
;;;4676   			gran_char(&temp,0,23);
;;;4677   			*((char*)(&(wrk_date[1])))=temp;
;;;4678                  
;;;4679   			temp=_min;
;;;4680   			gran_char(&temp,0,59);
;;;4681   			*(((char*)(&(wrk_date[1])))+1)=temp;
;;;4682   	          
;;;4683   			temp=_sec;
;;;4684   			gran_char(&temp,0,59);
;;;4685   			*(((char*)(&(wrk_date[1])))+2)=temp;
;;;4686   			
;;;4687   			*(((char*)(&(wrk_date[1])))+3)=*(((char*)&temp_temp)+1);
;;;4688   
;;;4689   			
;;;4690   			//beep_init(0xFL,'O'); 
;;;4691   			ibat_integr=0;
;;;4692   			ibat_integr_=0;
;;;4693   			}
;;;4694   		}
;;;4695   	else cnt_wrk=0;	 
;;;4696   	
;;;4697   	}
;;;4698   if(wrk==wrkON)
;;;4699   	{
;;;4700   	ibat_integr_+=-Ibat;
;;;4701   	if(ibat_integr_>=SEC_IN_HOUR*10L)
;;;4702   		{
;;;4703   		ibat_integr_-=SEC_IN_HOUR*10L;
;;;4704   		ibat_integr++;
;;;4705   		}
;;;4706   	}
;;;4707   
;;;4708   */
;;;4709   
;;;4710   
;;;4711   /*if(bat[in]._cnt_to_block)
;;;4712   	{
;;;4713   	bat[in]._cnt_to_block--;
;;;4714   	if(!(bat[in]._cnt_to_block))
;;;4715   		{
;;;4716   		//bat[in]._rel_stat=1;
;;;4717   		}
;;;4718   	}
;;;4719   */
;;;4720   
;;;4721   
;;;4722   
;;;4723   
;;;4724   //unsigned int tempUI,tempUI_;
;;;4725   //unsigned int b_zar; 
;;;4726   //char i;
;;;4727   //Ibat[0]=5000;                     
;;;4728   
;;;4729   
;;;4730                               
;;;4731   if(bat[in]._time_cnt==0)
;;;4732   	{
;;;4733   	bat[in]._zar_cnt+=(signed long)bat[in]._Ib;
;;;4734   	
;;;4735   	if(bat[in]._zar_cnt>=AH_CONSTANT)
002a44  f64848a0          MOV      r8,#0x8ca0
002a48  f894003e          LDRB     r0,[r4,#0x3e]         ;4731
002a4c  2800              CMP      r0,#0                 ;4731
002a4e  d17e              BNE      |L1.11086|
002a50  f9b41008          LDRSH    r1,[r4,#8]            ;4733
002a54  6960              LDR      r0,[r4,#0x14]         ;4733
002a56  4408              ADD      r0,r0,r1              ;4733
002a58  6160              STR      r0,[r4,#0x14]         ;4733
;;;4736   		{
;;;4737   		if(BAT_C_REAL[in]==0x5555) tempUS_=BAT_C_NOM[in];
;;;4738   		else tempUS_=BAT_C_REAL[in];
;;;4739   		
;;;4740   		b_zar=lc640_read_int(ADR_EE_BAT_ZAR_CNT[in]);
002a5a  f8df9144          LDR      r9,|L1.11168|
002a5e  f8dfa144          LDR      r10,|L1.11172|
002a62  4540              CMP      r0,r8                 ;4735
002a64  db2a              BLT      |L1.10940|
002a66  f93a1015          LDRSH    r1,[r10,r5,LSL #1]    ;4737
002a6a  f5a140aa          SUB      r0,r1,#0x5500         ;4737
002a6e  3855              SUBS     r0,r0,#0x55           ;4737
002a70  d103              BNE      |L1.10874|
002a72  484d              LDR      r0,|L1.11176|
002a74  f8306015          LDRH     r6,[r0,r5,LSL #1]     ;4737
002a78  e001              B        |L1.10878|
                  |L1.10874|
002a7a  f83a6015          LDRH     r6,[r10,r5,LSL #1]    ;4738
                  |L1.10878|
002a7e  f8390015          LDRH     r0,[r9,r5,LSL #1]
002a82  f7fffffe          BL       lc640_read_int
002a86  b280              UXTH     r0,r0
;;;4741   
;;;4742   		if(b_zar<(tempUS_/**10*/))
002a88  42b0              CMP      r0,r6
002a8a  d20e              BCS      |L1.10922|
;;;4743   			{
;;;4744   			bat[in]._zar_cnt-=AH_CONSTANT;
002a8c  6961              LDR      r1,[r4,#0x14]
002a8e  f5a14100          SUB      r1,r1,#0x8000
002a92  f5a1614a          SUB      r1,r1,#0xca0
002a96  6161              STR      r1,[r4,#0x14]
;;;4745   
;;;4746   			lc640_write_int(ADR_EE_BAT_ZAR_CNT[in],b_zar+1);
002a98  f9392015          LDRSH    r2,[r9,r5,LSL #1]
002a9c  f1000001          ADD      r0,r0,#1
002aa0  b201              SXTH     r1,r0
002aa2  4610              MOV      r0,r2
002aa4  f7fffffe          BL       lc640_write_int
002aa8  e033              B        |L1.11026|
                  |L1.10922|
;;;4747   			}
;;;4748   		else if(b_zar>(tempUS_/**10*/))  
002aaa  d932              BLS      |L1.11026|
;;;4749   			{
;;;4750   			lc640_write_int(ADR_EE_BAT_ZAR_CNT[in],tempUS_);
002aac  f9390015          LDRSH    r0,[r9,r5,LSL #1]
002ab0  b231              SXTH     r1,r6
002ab2  f7fffffe          BL       lc640_write_int
;;;4751   			bat[in]._zar_cnt=AH_CONSTANT;
002ab6  f8c48014          STR      r8,[r4,#0x14]
002aba  e02a              B        |L1.11026|
                  |L1.10940|
;;;4752   
;;;4753   			}
;;;4754   
;;;4755   		}
;;;4756   
;;;4757   	else if(bat[in]._zar_cnt<=-AH_CONSTANT)
002abc  493b              LDR      r1,|L1.11180|
002abe  4288              CMP      r0,r1
002ac0  dc27              BGT      |L1.11026|
;;;4758   		{
;;;4759   		if(BAT_C_REAL[in]==0x5555) tempUS_=BAT_C_NOM[in];
002ac2  f93a1015          LDRSH    r1,[r10,r5,LSL #1]
002ac6  f5a140aa          SUB      r0,r1,#0x5500
002aca  3855              SUBS     r0,r0,#0x55
002acc  d103              BNE      |L1.10966|
002ace  4836              LDR      r0,|L1.11176|
002ad0  f8306015          LDRH     r6,[r0,r5,LSL #1]
002ad4  e001              B        |L1.10970|
                  |L1.10966|
;;;4760   		else tempUS_=BAT_C_REAL[in];
002ad6  f83a6015          LDRH     r6,[r10,r5,LSL #1]
                  |L1.10970|
;;;4761   		
;;;4762   		b_zar=lc640_read_int(ADR_EE_BAT_ZAR_CNT[in]);
002ada  f8390015          LDRH     r0,[r9,r5,LSL #1]
002ade  f7fffffe          BL       lc640_read_int
002ae2  b280              UXTH     r0,r0
;;;4763   
;;;4764   		if(b_zar>tempUS_)
002ae4  42b0              CMP      r0,r6
002ae6  d905              BLS      |L1.10996|
;;;4765   			{
;;;4766   			lc640_write_int(ADR_EE_BAT_ZAR_CNT[in],tempUS_);
002ae8  f9390015          LDRSH    r0,[r9,r5,LSL #1]
002aec  b231              SXTH     r1,r6
002aee  f7fffffe          BL       lc640_write_int
;;;4767   			b_zar=tempUS_;
002af2  4630              MOV      r0,r6
                  |L1.10996|
;;;4768   			}
;;;4769   		if(b_zar)
002af4  b158              CBZ      r0,|L1.11022|
;;;4770   			{
;;;4771   			bat[in]._zar_cnt+=AH_CONSTANT;
002af6  6961              LDR      r1,[r4,#0x14]
002af8  4441              ADD      r1,r1,r8
002afa  6161              STR      r1,[r4,#0x14]
;;;4772   
;;;4773   			lc640_write_int(ADR_EE_BAT_ZAR_CNT[in],b_zar-1);
002afc  f9392015          LDRSH    r2,[r9,r5,LSL #1]
002b00  f1a00001          SUB      r0,r0,#1
002b04  b201              SXTH     r1,r0
002b06  4610              MOV      r0,r2
002b08  f7fffffe          BL       lc640_write_int
002b0c  e001              B        |L1.11026|
                  |L1.11022|
;;;4774   			}
;;;4775   		else 
;;;4776   			{
;;;4777   			bat[in]._zar_cnt=-AH_CONSTANT;
002b0e  4827              LDR      r0,|L1.11180|
002b10  6160              STR      r0,[r4,#0x14]
                  |L1.11026|
;;;4778   			}
;;;4779   
;;;4780   		}
;;;4781   
;;;4782   			
;;;4783   	tempUL=(unsigned long)lc640_read_int(ADR_EE_BAT_ZAR_CNT[in]);
002b12  f8390015          LDRH     r0,[r9,r5,LSL #1]
002b16  f7fffffe          BL       lc640_read_int
002b1a  4601              MOV      r1,r0
;;;4784   	
;;;4785   	if(BAT_C_REAL[in]==0x5555) tempUL_=(unsigned long)BAT_C_NOM[in];
002b1c  f93a0015          LDRSH    r0,[r10,r5,LSL #1]
002b20  f5a042aa          SUB      r2,r0,#0x5500
002b24  3a55              SUBS     r2,r2,#0x55
002b26  d102              BNE      |L1.11054|
002b28  481f              LDR      r0,|L1.11176|
002b2a  f9300015          LDRSH    r0,[r0,r5,LSL #1]
                  |L1.11054|
;;;4786   	else tempUL_=(unsigned long)BAT_C_REAL[in];
;;;4787   		           	
;;;4788   	tempUL*=1000L;
002b2e  f44f727a          MOV      r2,#0x3e8
002b32  fb01f102          MUL      r1,r1,r2
;;;4789   
;;;4790   
;;;4791   	if(tempUL_==0) tempUL=0;
002b36  b3e8              CBZ      r0,|L1.11188|
;;;4792   	else tempUL/=tempUL_;
002b38  fbb1f0f0          UDIV     r0,r1,r0
                  |L1.11068|
;;;4793   
;;;4794   	tempUL/=10L;
002b3c  f04f010a          MOV      r1,#0xa
002b40  fbb0f0f1          UDIV     r0,r0,r1
;;;4795   
;;;4796   	bat[in]._zar=(unsigned short)tempUL;
002b44  8220              STRH     r0,[r4,#0x10]
;;;4797   
;;;4798   	if(BAT_TYPE==1)
002b46  481a              LDR      r0,|L1.11184|
002b48  8800              LDRH     r0,[r0,#0]  ; BAT_TYPE
002b4a  2801              CMP      r0,#1
002b4c  e033              B        |L1.11190|
                  |L1.11086|
002b4e  e046              B        |L1.11230|
                  |L1.11088|
                          DCD      TBOXVENTMAX
                  |L1.11092|
                          DCD      main_vent_pos
                  |L1.11096|
                          DCD      pos_vent
                  |L1.11100|
                          DCD      mess_data
                  |L1.11104|
                          DCD      mixer_vent_stat
                  |L1.11108|
                          DCD      TBATDISABLE
                  |L1.11112|
                          DCD      tbatdisable_stat
                  |L1.11116|
                          DCD      tbatdisable_cnt
                  |L1.11120|
                          DCD      TBATENABLE
                  |L1.11124|
                          DCD      TLOADDISABLE
                  |L1.11128|
                          DCD      tloaddisable_stat
                  |L1.11132|
                          DCD      tloaddisable_cnt
                  |L1.11136|
                          DCD      TLOADENABLE
                  |L1.11140|
                          DCD      ||area_number.21||+0x78
                  |L1.11144|
                          DCD      bat
                  |L1.11148|
                          DCD      IZMAX
                  |L1.11152|
                          DCD      main_10Hz_cnt
                  |L1.11156|
                          DCD      IKB
                  |L1.11160|
                          DCD      bat_u_old_cnt
                  |L1.11164|
                          DCD      0x40024020
                  |L1.11168|
                          DCD      ADR_EE_BAT_ZAR_CNT
                  |L1.11172|
                          DCD      BAT_C_REAL
                  |L1.11176|
                          DCD      BAT_C_NOM
                  |L1.11180|
                          DCD      0xffff7360
                  |L1.11184|
                          DCD      BAT_TYPE
                  |L1.11188|
002bb4  e001              B        |L1.11194|
                  |L1.11190|
002bb6  d003              BEQ      |L1.11200|
002bb8  e00b              B        |L1.11218|
                  |L1.11194|
002bba  f04f0000          MOV      r0,#0                 ;4791
002bbe  e7bd              B        |L1.11068|
                  |L1.11200|
;;;4799   		{
;;;4800   		bat[in]._zar=lakb[in]._s_o_c;
002bc0  eb050085          ADD      r0,r5,r5,LSL #2
002bc4  eb0000c5          ADD      r0,r0,r5,LSL #3
002bc8  49ff              LDR      r1,|L1.12232|
002bca  eb010080          ADD      r0,r1,r0,LSL #2
002bce  8a40              LDRH     r0,[r0,#0x12]
002bd0  8220              STRH     r0,[r4,#0x10]
                  |L1.11218|
;;;4801   		}
;;;4802   	
;;;4803   	gran((signed short*)&bat[in]._zar,0,100);
002bd2  f1040010          ADD      r0,r4,#0x10
002bd6  2264              MOVS     r2,#0x64
002bd8  2100              MOVS     r1,#0
002bda  f7fffffe          BL       gran
                  |L1.11230|
;;;4804        }
;;;4805   
;;;4806   
;;;4807   //         
;;;4808   if(bat[in]._wrk==1)
002bde  7ba0              LDRB     r0,[r4,#0xe]
002be0  2801              CMP      r0,#1
002be2  d113              BNE      |L1.11276|
;;;4809   	{
;;;4810   	if(bat[in]._Iintegr<36000)
002be4  8ba0              LDRH     r0,[r4,#0x1c]
002be6  4540              CMP      r0,r8
002be8  d20f              BCS      |L1.11274|
;;;4811   		{          
;;;4812   		bat[in]._Iintegr+=abs(bat[in]._Ib);
002bea  f9b40008          LDRSH    r0,[r4,#8]
002bee  f7fffffe          BL       abs
002bf2  8ba1              LDRH     r1,[r4,#0x1c]
002bf4  4408              ADD      r0,r0,r1
002bf6  b280              UXTH     r0,r0
002bf8  83a0              STRH     r0,[r4,#0x1c]
;;;4813   		if(bat[in]._Iintegr>=36000)
002bfa  4540              CMP      r0,r8
002bfc  d306              BCC      |L1.11276|
;;;4814   			{
;;;4815   			bat[in]._Iintegr=0;		//  
002bfe  83a7              STRH     r7,[r4,#0x1c]
;;;4816   			bat[in]._Iintegr_++;	//  
002c00  8be0              LDRH     r0,[r4,#0x1e]
002c02  f1000001          ADD      r0,r0,#1
002c06  83e0              STRH     r0,[r4,#0x1e]
002c08  e000              B        |L1.11276|
                  |L1.11274|
;;;4817   			}
;;;4818   		}
;;;4819   	else 
;;;4820   		{
;;;4821   		bat[in]._Iintegr=0;
002c0a  83a7              STRH     r7,[r4,#0x1c]
                  |L1.11276|
;;;4822   		}	
;;;4823   	} 
;;;4824   	    
;;;4825   //
;;;4826   if((bat[in]._Tb>TBATSIGN)&&(!bat[in]._nd))	
002c0c  49ef              LDR      r1,|L1.12236|
002c0e  f9b4000a          LDRSH    r0,[r4,#0xa]
002c12  f9b11000          LDRSH    r1,[r1,#0]  ; TBATSIGN
002c16  4288              CMP      r0,r1
002c18  dd01              BLE      |L1.11294|
002c1a  7b20              LDRB     r0,[r4,#0xc]
002c1c  b3e8              CBZ      r0,|L1.11418|
                  |L1.11294|
;;;4827   	{
;;;4828   	bat[in]._sign_temper_cnt++;
;;;4829   	}
;;;4830   else 
;;;4831   	{
;;;4832   	bat[in]._sign_temper_cnt--;
002c1e  f8b40040          LDRH     r0,[r4,#0x40]
002c22  f1a00001          SUB      r0,r0,#1
002c26  f8a40040          STRH     r0,[r4,#0x40]
                  |L1.11306|
;;;4833   	}
;;;4834   
;;;4835   gran(&bat[in]._sign_temper_cnt,0,600);
002c2a  f44f7916          MOV      r9,#0x258
002c2e  f1040040          ADD      r0,r4,#0x40
002c32  464a              MOV      r2,r9
002c34  2100              MOVS     r1,#0
002c36  f7fffffe          BL       gran
;;;4836   if(bat[in]._sign_temper_cnt>=590)	bat[in]._temper_stat|=(1<<0);
002c3a  f9b40040          LDRSH    r0,[r4,#0x40]
002c3e  f240264e          MOV      r6,#0x24e
002c42  42b0              CMP      r0,r6
002c44  db05              BLT      |L1.11346|
002c46  f894103f          LDRB     r1,[r4,#0x3f]
002c4a  f0410101          ORR      r1,r1,#1
002c4e  f884103f          STRB     r1,[r4,#0x3f]
                  |L1.11346|
;;;4837   if(bat[in]._sign_temper_cnt<=10)	bat[in]._temper_stat&=~(1<<0);
002c52  280a              CMP      r0,#0xa
002c54  dc05              BGT      |L1.11362|
002c56  f894003f          LDRB     r0,[r4,#0x3f]
002c5a  f0200001          BIC      r0,r0,#1
002c5e  f884003f          STRB     r0,[r4,#0x3f]
                  |L1.11362|
;;;4838   
;;;4839   
;;;4840   if((bat[in]._Tb>TBATMAX)&&(!bat[in]._nd))	
002c62  49db              LDR      r1,|L1.12240|
002c64  f9b4000a          LDRSH    r0,[r4,#0xa]
002c68  f9b11000          LDRSH    r1,[r1,#0]  ; TBATMAX
002c6c  4288              CMP      r0,r1
002c6e  dd01              BLE      |L1.11380|
002c70  7b20              LDRB     r0,[r4,#0xc]
002c72  b3a0              CBZ      r0,|L1.11486|
                  |L1.11380|
;;;4841   	{
;;;4842   	bat[in]._max_temper_cnt++;
;;;4843   	}
;;;4844   else 
;;;4845   	{
;;;4846   	bat[in]._max_temper_cnt--;
002c74  f8b40042          LDRH     r0,[r4,#0x42]
002c78  f1a00001          SUB      r0,r0,#1
002c7c  f8a40042          STRH     r0,[r4,#0x42]
                  |L1.11392|
;;;4847   	}
;;;4848   
;;;4849   gran(&bat[in]._max_temper_cnt,0,600);
002c80  f1040042          ADD      r0,r4,#0x42
002c84  464a              MOV      r2,r9
002c86  2100              MOVS     r1,#0
002c88  f7fffffe          BL       gran
;;;4850   if(bat[in]._max_temper_cnt>=590)	bat[in]._temper_stat|=(1<<1);
002c8c  f9b40042          LDRSH    r0,[r4,#0x42]
002c90  42b0              CMP      r0,r6
002c92  db07              BLT      |L1.11428|
002c94  f894103f          LDRB     r1,[r4,#0x3f]
002c98  e000              B        |L1.11420|
                  |L1.11418|
002c9a  e021              B        |L1.11488|
                  |L1.11420|
002c9c  f0410102          ORR      r1,r1,#2
002ca0  f884103f          STRB     r1,[r4,#0x3f]
                  |L1.11428|
;;;4851   if(bat[in]._max_temper_cnt<=10)	bat[in]._temper_stat&=~(1<<1);
002ca4  280a              CMP      r0,#0xa
002ca6  dc05              BGT      |L1.11444|
002ca8  f894003f          LDRB     r0,[r4,#0x3f]
002cac  f0200002          BIC      r0,r0,#2
002cb0  f884003f          STRB     r0,[r4,#0x3f]
                  |L1.11444|
;;;4852   
;;;4853   
;;;4854   
;;;4855   //  
;;;4856   if(bat[in]._resurs_cnt<36000)
002cb4  6c60              LDR      r0,[r4,#0x44]
002cb6  4540              CMP      r0,r8
002cb8  da20              BGE      |L1.11516|
;;;4857   	{               
;;;4858   	bat[in]._resurs_cnt++;
002cba  f1000001          ADD      r0,r0,#1
002cbe  6460              STR      r0,[r4,#0x44]
;;;4859   	if(bat[in]._resurs_cnt>=36000)
002cc0  4540              CMP      r0,r8
002cc2  db1c              BLT      |L1.11518|
;;;4860   		{
;;;4861   		bat[in]._resurs_cnt=0;
002cc4  6467              STR      r7,[r4,#0x44]
;;;4862   		lc640_write_int(ADR_EE_BAT_RESURS[in],lc640_read_int(ADR_EE_BAT_RESURS[in])+1);
002cc6  4ec3              LDR      r6,|L1.12244|
002cc8  f8360015          LDRH     r0,[r6,r5,LSL #1]
002ccc  f7fffffe          BL       lc640_read_int
002cd0  1c40              ADDS     r0,r0,#1
002cd2  b201              SXTH     r1,r0
002cd4  f9360015          LDRSH    r0,[r6,r5,LSL #1]
002cd8  f7fffffe          BL       lc640_write_int
002cdc  e00f              B        |L1.11518|
                  |L1.11486|
002cde  e006              B        |L1.11502|
                  |L1.11488|
002ce0  f8b40040          LDRH     r0,[r4,#0x40]         ;4828
002ce4  f1000001          ADD      r0,r0,#1              ;4828
002ce8  f8a40040          STRH     r0,[r4,#0x40]         ;4828
002cec  e79d              B        |L1.11306|
                  |L1.11502|
002cee  f8b40042          LDRH     r0,[r4,#0x42]         ;4842
002cf2  f1000001          ADD      r0,r0,#1              ;4842
002cf6  f8a40042          STRH     r0,[r4,#0x42]         ;4842
002cfa  e7c1              B        |L1.11392|
                  |L1.11516|
;;;4863   		}
;;;4864   	}
;;;4865   else bat[in]._resurs_cnt=0;
002cfc  6467              STR      r7,[r4,#0x44]
                  |L1.11518|
;;;4866   
;;;4867   
;;;4868   #ifndef UKU_220_V2
;;;4869   #ifndef UKU_GLONASS
;;;4870   #ifndef UKU_6U
;;;4871   //#ifndef UKU_220
;;;4872   if(UBM_AV)
002cfe  4eb6              LDR      r6,|L1.12248|
002d00  8830              LDRH     r0,[r6,#0]  ; UBM_AV
002d02  2800              CMP      r0,#0
002d04  d05e              BEQ      |L1.11716|
;;;4873        {
;;;4874        signed short temp_SS;
;;;4875   #ifdef UKU_220
;;;4876   temp_SS=bat[in]._Ub/2;
;;;4877   #else
;;;4878        if(U0B<600)
002d06  48b5              LDR      r0,|L1.12252|
002d08  f9b00000          LDRSH    r0,[r0,#0]  ; U0B
002d0c  4548              CMP      r0,r9
002d0e  da08              BGE      |L1.11554|
;;;4879             {
;;;4880             temp_SS=bat[in]._Ub/4;
002d10  f9b40002          LDRSH    r0,[r4,#2]
002d14  ea4f71e0          ASR      r1,r0,#31
002d18  eb007091          ADD      r0,r0,r1,LSR #30
002d1c  ea4f00a0          ASR      r0,r0,#2
002d20  e006              B        |L1.11568|
                  |L1.11554|
;;;4881             }
;;;4882        else temp_SS=bat[in]._Ub/5;
002d22  f9b40002          LDRSH    r0,[r4,#2]
002d26  f04f0105          MOV      r1,#5
002d2a  fb90f0f1          SDIV     r0,r0,r1
002d2e  b200              SXTH     r0,r0
                  |L1.11568|
;;;4883   	
;;;4884   	temp_SS+=temp_SS;     
002d30  ea4f0040          LSL      r0,r0,#1
;;;4885   #endif
;;;4886        temp_SS-=(bat[in]._Ubm);
002d34  88a1              LDRH     r1,[r4,#4]
002d36  eba00001          SUB      r0,r0,r1
002d3a  b200              SXTH     r0,r0
;;;4887   
;;;4888        temp_SS=abs(temp_SS);
002d3c  f7fffffe          BL       abs
;;;4889   
;;;4890        temp_SS*=10;
002d40  eb000080          ADD      r0,r0,r0,LSL #2
002d44  ea4f0040          LSL      r0,r0,#1
002d48  b200              SXTH     r0,r0
;;;4891   
;;;4892        temp_SS/=12;
002d4a  f04f010c          MOV      r1,#0xc
002d4e  fb90f0f1          SDIV     r0,r0,r1
002d52  b200              SXTH     r0,r0
;;;4893   
;;;4894        bat[in]._dUbm=temp_SS;
002d54  80e0              STRH     r0,[r4,#6]
;;;4895   
;;;4896   
;;;4897        if(	(bat[in]._dUbm>UBM_AV) &&
002d56  f9b61000          LDRSH    r1,[r6,#0]  ; UBM_AV
002d5a  4288              CMP      r0,r1
002d5c  dd34              BLE      |L1.11720|
;;;4898   		(abs(bat[in]._Ib)<(5*IKB)) &&
002d5e  f9b40008          LDRSH    r0,[r4,#8]
002d62  f7fffffe          BL       abs
002d66  4601              MOV      r1,r0
002d68  489d              LDR      r0,|L1.12256|
002d6a  f9b00000          LDRSH    r0,[r0,#0]  ; IKB
002d6e  eb000080          ADD      r0,r0,r0,LSL #2
002d72  4281              CMP      r1,r0
002d74  da28              BGE      |L1.11720|
;;;4899   		(bat[in]._Ub>((short)(((long)USIGN*115)/100))) &&
002d76  489b              LDR      r0,|L1.12260|
002d78  2173              MOVS     r1,#0x73
002d7a  f9b00000          LDRSH    r0,[r0,#0]  ; USIGN
002d7e  4348              MULS     r0,r1,r0
002d80  fb90f0fb          SDIV     r0,r0,r11
002d84  f9b41002          LDRSH    r1,[r4,#2]
002d88  b200              SXTH     r0,r0
002d8a  4288              CMP      r0,r1
002d8c  da1c              BGE      |L1.11720|
;;;4900   		(!(bat[in]._av & 2))  )
002d8e  f894003d          LDRB     r0,[r4,#0x3d]
002d92  0780              LSLS     r0,r0,#30
002d94  d418              BMI      |L1.11720|
;;;4901   		{
;;;4902   		bat[in]._cnt_as++;
002d96  f8b40048          LDRH     r0,[r4,#0x48]
002d9a  f1000001          ADD      r0,r0,#1
002d9e  b200              SXTH     r0,r0
002da0  f8a40048          STRH     r0,[r4,#0x48]
;;;4903   		if(bat[in]._cnt_as==3000)
002da4  f5a06130          SUB      r1,r0,#0xb00
002da8  39b8              SUBS     r1,r1,#0xb8
002daa  d103              BNE      |L1.11700|
;;;4904   			{
;;;4905   			avar_bat_as_hndl(in,1);
002dac  2101              MOVS     r1,#1
002dae  4628              MOV      r0,r5
002db0  f7fffffe          BL       avar_bat_as_hndl
                  |L1.11700|
;;;4906   			}
;;;4907   		if(bat[in]._cnt_as>=3005) bat[in]._cnt_as=3005;
002db4  f9b41048          LDRSH    r1,[r4,#0x48]
002db8  f64030bd          MOV      r0,#0xbbd
002dbc  4281              CMP      r1,r0
002dbe  db01              BLT      |L1.11716|
002dc0  f8a40048          STRH     r0,[r4,#0x48]
                  |L1.11716|
;;;4908   		}
;;;4909   	else 
;;;4910   		{
;;;4911   		bat[in]._cnt_as=0;
;;;4912   		}
;;;4913        
;;;4914        }
;;;4915   #endif 
;;;4916   #endif 
;;;4917   #endif
;;;4918   
;;;4919   }
002dc4  e8bd9ffc          POP      {r2-r12,pc}
                  |L1.11720|
002dc8  f8a47048          STRH     r7,[r4,#0x48]         ;4911
002dcc  e7fa              B        |L1.11716|
;;;4920   
                          ENDP

                  u_necc_hndl PROC
;;;4927   //-----------------------------------------------
;;;4928   void u_necc_hndl(void)
002dce  b538              PUSH     {r3-r5,lr}
;;;4929   {
;;;4930   signed long temp_L;
;;;4931   signed long temp_SL;
;;;4932   //signed short temp_SS;
;;;4933   signed short t[2];
;;;4934   char i;
;;;4935   
;;;4936   //temp_SS=0;
;;;4937   
;;;4938   #ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;4939   
;;;4940   if(!TERMOKOMPENS)
002dd0  4885              LDR      r0,|L1.12264|
;;;4941   	{
;;;4942   	u_necc=U0B;
002dd2  4c86              LDR      r4,|L1.12268|
002dd4  8800              LDRH     r0,[r0,#0]            ;4940  ; TERMOKOMPENS
002dd6  b138              CBZ      r0,|L1.11752|
;;;4943   	}
;;;4944   else
;;;4945   	{
;;;4946   	if(ND_EXT[0])t[0]=20;
002dd8  4885              LDR      r0,|L1.12272|
002dda  6800              LDR      r0,[r0,#0]  ; ND_EXT
002ddc  b140              CBZ      r0,|L1.11760|
002dde  f04f0014          MOV      r0,#0x14
002de2  f8ad0000          STRH     r0,[sp,#0]
002de6  e007              B        |L1.11768|
                  |L1.11752|
002de8  487c              LDR      r0,|L1.12252|
002dea  8800              LDRH     r0,[r0,#0]            ;4942  ; U0B
002dec  8020              STRH     r0,[r4,#0]            ;4942
002dee  e02a              B        |L1.11846|
                  |L1.11760|
;;;4947   	else t[0]=t_ext[0];
002df0  4880              LDR      r0,|L1.12276|
002df2  8800              LDRH     r0,[r0,#0]  ; t_ext
002df4  f8ad0000          STRH     r0,[sp,#0]
                  |L1.11768|
;;;4948   
;;;4949   	mat_temper=t[0];
002df8  4a7f              LDR      r2,|L1.12280|
002dfa  f9bd1000          LDRSH    r1,[sp,#0]
002dfe  6011              STR      r1,[r2,#0]  ; mat_temper
;;;4950   			
;;;4951   	if(mat_temper<0)temp_SL=UB0; 
002e00  487e              LDR      r0,|L1.12284|
002e02  2900              CMP      r1,#0
002e04  f9b00000          LDRSH    r0,[r0,#0]
002e08  db15              BLT      |L1.11830|
;;;4952   	else 
;;;4953   		{
;;;4954   		if(mat_temper>40)mat_temper=40; 
002e0a  2928              CMP      r1,#0x28
002e0c  dd02              BLE      |L1.11796|
002e0e  f04f0128          MOV      r1,#0x28
002e12  6011              STR      r1,[r2,#0]  ; mat_temper
                  |L1.11796|
;;;4955   		temp_SL=(UB20-UB0)*10;
002e14  497a              LDR      r1,|L1.12288|
002e16  f9b11000          LDRSH    r1,[r1,#0]  ; UB20
002e1a  eba10100          SUB      r1,r1,r0
002e1e  eb010181          ADD      r1,r1,r1,LSL #2
002e22  ea4f0141          LSL      r1,r1,#1
;;;4956   		temp_SL*=mat_temper;
002e26  6812              LDR      r2,[r2,#0]  ; mat_temper
002e28  fb01f102          MUL      r1,r1,r2
;;;4957   		temp_SL/=200;
002e2c  f04f02c8          MOV      r2,#0xc8
002e30  fb91f1f2          SDIV     r1,r1,r2
;;;4958   		temp_SL+=UB0;
002e34  4408              ADD      r0,r0,r1
                  |L1.11830|
;;;4959   		}
;;;4960   	if(spc_stat==spcVZ)
002e36  4973              LDR      r1,|L1.12292|
002e38  7cc9              LDRB     r1,[r1,#0x13]  ; spc_stat
002e3a  2902              CMP      r1,#2
002e3c  d102              BNE      |L1.11844|
;;;4961   		{
;;;4962   		temp_SL=UVZ;
002e3e  4872              LDR      r0,|L1.12296|
002e40  f9b00000          LDRSH    r0,[r0,#0]  ; UVZ
                  |L1.11844|
;;;4963   		}
;;;4964   	u_necc=(unsigned int)temp_SL;
002e44  8020              STRH     r0,[r4,#0]
                  |L1.11846|
;;;4965   	///u_necc=3456;
;;;4966   	}  
;;;4967   
;;;4968   //u_necc=2355;
;;;4969   
;;;4970   if(speedChIsOn)
002e46  4871              LDR      r0,|L1.12300|
002e48  8800              LDRH     r0,[r0,#0]  ; speedChIsOn
002e4a  b110              CBZ      r0,|L1.11858|
;;;4971   	{
;;;4972   	u_necc=speedChrgVolt;
002e4c  4870              LDR      r0,|L1.12304|
002e4e  8800              LDRH     r0,[r0,#0]  ; speedChrgVolt
002e50  8020              STRH     r0,[r4,#0]
                  |L1.11858|
;;;4973   	}
;;;4974   
;;;4975   if(mess_find_unvol(MESS2UNECC_HNDL))
002e52  20be              MOVS     r0,#0xbe
002e54  f7fffffe          BL       mess_find_unvol
002e58  b128              CBZ      r0,|L1.11878|
;;;4976   	{		
;;;4977   	if(mess_data[0]==PARAM_UNECC_SET)
002e5a  486e              LDR      r0,|L1.12308|
002e5c  6801              LDR      r1,[r0,#0]  ; mess_data
002e5e  29bf              CMP      r1,#0xbf
002e60  d101              BNE      |L1.11878|
;;;4978   		{
;;;4979   		u_necc=mess_data[1];
002e62  6840              LDR      r0,[r0,#4]  ; mess_data
002e64  8020              STRH     r0,[r4,#0]
                  |L1.11878|
;;;4980   		}		
;;;4981   	}
;;;4982   #endif
;;;4983   
;;;4984   
;;;4985   #ifndef UKU_220_IPS_TERMOKOMPENSAT
;;;4986   
;;;4987   #ifndef UKU_TELECORE2015
;;;4988   if(unh_cnt0<10)
;;;4989   	{
;;;4990   	unh_cnt0++;
;;;4991   	if(unh_cnt0>=10)
;;;4992   		{
;;;4993   		unh_cnt0=0;
;;;4994   		b1Hz_unh=1;
;;;4995   		}
;;;4996   	}
;;;4997   
;;;4998   if(unh_cnt1<5)
;;;4999   	{
;;;5000   	unh_cnt1++;
;;;5001   	if(unh_cnt1==5)
;;;5002   		{
;;;5003   		unh_cnt1=0;
;;;5004   //		b2Hz_unh=1;
;;;5005   		}
;;;5006   	} 
;;;5007   
;;;5008   
;;;5009   
;;;5010   if(mess_find_unvol(MESS2UNECC_HNDL))
;;;5011   	{		
;;;5012   	if(mess_data[0]==PARAM_UNECC_SET)
;;;5013   		{
;;;5014   		u_necc=mess_data[1];
;;;5015   		}		
;;;5016   	}
;;;5017   
;;;5018   
;;;5019   else if(b1Hz_unh)
;;;5020   	{
;;;5021   	
;;;5022   	if((BAT_IS_ON[0]!=bisON) && (BAT_IS_ON[1]!=bisON))
;;;5023   		{
;;;5024   		
;;;5025   		u_necc=U0B;
;;;5026   		}
;;;5027   	else 
;;;5028   		{
;;;5029   		if(BAT_TYPE==0) //  
;;;5030   			{
;;;5031   			for(i=0;i<2;i++)
;;;5032   				{
;;;5033   				if(BAT_IS_ON[i]==bisON)
;;;5034   					{
;;;5035   					if(bat[i]._nd)t[i]=20;
;;;5036   					else t[i]=bat[i]._Tb;
;;;5037   					}
;;;5038   				else
;;;5039   					{
;;;5040   					t[i]=-20;
;;;5041   					}
;;;5042   				}
;;;5043   			if(t[0]>t[1])mat_temper=t[0];
;;;5044   			else mat_temper=t[1];
;;;5045   			
;;;5046   		
;;;5047   			if(mat_temper<0)temp_SL=UB0; 
;;;5048   			else 
;;;5049   				{
;;;5050   				if(mat_temper>40)mat_temper=40; 
;;;5051   				temp_SL=(UB20-UB0)*10;
;;;5052   				temp_SL*=mat_temper;
;;;5053   				temp_SL/=200;
;;;5054   				temp_SL+=UB0;
;;;5055   				}
;;;5056   			if(spc_stat==spcVZ)
;;;5057   				{
;;;5058   				temp_SL=UVZ;
;;;5059   				}
;;;5060   			u_necc=(unsigned int)temp_SL;
;;;5061   			}
;;;5062   		else if(BAT_TYPE==1) //  
;;;5063   			{
;;;5064   			u_necc=U0B;
;;;5065   					
;;;5066   			u_necc=bat[0]._Ub+10;
;;;5067   
;;;5068   			
;;;5069   			if(spc_stat==spcVZ)
;;;5070   				{
;;;5071   				u_necc=UVZ;
;;;5072   				}
;;;5073   			if(u_necc>=UB0) u_necc=UB0;
;;;5074   			if(u_necc>=UB20) u_necc=UB20;
;;;5075   			}
;;;5076   		}  
;;;5077   	}
;;;5078   #endif
;;;5079   #ifdef UKU_TELECORE2015
;;;5080   
;;;5081   if(unh_cnt0<10)
;;;5082   	{
;;;5083   	unh_cnt0++;
;;;5084   	if(unh_cnt0>=10)
;;;5085   		{
;;;5086   		unh_cnt0=0;
;;;5087   		b1Hz_unh=1;
;;;5088   		}
;;;5089   	}
;;;5090   
;;;5091   if(unh_cnt1<5)
;;;5092   	{
;;;5093   	unh_cnt1++;
;;;5094   	if(unh_cnt1==5)
;;;5095   		{
;;;5096   		unh_cnt1=0;
;;;5097   //		b2Hz_unh=1;
;;;5098   		}
;;;5099   	} 
;;;5100   
;;;5101   
;;;5102   
;;;5103   if(mess_find_unvol(MESS2UNECC_HNDL))
;;;5104   	{		
;;;5105   	if(mess_data[0]==PARAM_UNECC_SET)
;;;5106   		{
;;;5107   		u_necc=mess_data[1];
;;;5108   		}		
;;;5109   	}
;;;5110   
;;;5111   
;;;5112   else if(b1Hz_unh)
;;;5113   	{
;;;5114   	b1Hz_unh=0;
;;;5115   
;;;5116   	if(BAT_TYPE==0)
;;;5117   		{
;;;5118   		if(bat[0]._nd)mat_temper=20;
;;;5119   		else mat_temper=bat[0]._Tb;
;;;5120   
;;;5121   			
;;;5122   		if(mat_temper<0)temp_SL=UB0; 
;;;5123   		else 
;;;5124   			{
;;;5125   			if(mat_temper>40)mat_temper=40; 
;;;5126   			temp_SL=(UB20-UB0)*10;
;;;5127   			temp_SL*=mat_temper;
;;;5128   			temp_SL/=200;
;;;5129   			temp_SL+=UB0;
;;;5130   			}
;;;5131   		if(spc_stat==spcVZ)
;;;5132   			{
;;;5133   			temp_SL=UVZ;
;;;5134   			}
;;;5135   		u_necc=(unsigned int)temp_SL;
;;;5136   	///u_necc=3456;
;;;5137   		}
;;;5138   	else if(BAT_TYPE==1)
;;;5139   		{
;;;5140   		
;;;5141   		gran(&DU_LI_BAT,1,30);
;;;5142   		u_necc=li_bat._Ub+DU_LI_BAT;
;;;5143   		gran(&u_necc,0,UB0);
;;;5144   		gran(&u_necc,0,UB20);
;;;5145   		gran(&u_necc,0,540);		
;;;5146   
;;;5147   
;;;5148   		if(li_bat._batStat!=bsOK)
;;;5149   			{
;;;5150   			u_necc=U0B;
;;;5151   			}
;;;5152   		if(spc_stat==spcVZ)
;;;5153   			{
;;;5154   			u_necc=UVZ;
;;;5155   			}
;;;5156   		/* 
;;;5157   		u_necc=U0B;
;;;5158   		
;;;5159   
;;;5160   	
;;;5161   		u_necc=UB0;
;;;5162   		u_necc=li_bat._Ub+10;
;;;5163   		if((li_bat._Ub<450)||(li_bat._Ub>550))
;;;5164   			{
;;;5165   			lakb_error_cnt++;
;;;5166   			if(lakb_error_cnt>=30)
;;;5167   				{
;;;5168   				lakb_error_cnt=30;
;;;5169   				u_necc=U0B;
;;;5170   				}
;;;5171   			}
;;;5172   		else lakb_error_cnt=0;*/
;;;5173   		}
;;;5174   	else if(BAT_TYPE==2)
;;;5175   		{
;;;5176   		u_necc=U0B;
;;;5177   		
;;;5178   		if(spc_stat==spcVZ)
;;;5179   			{
;;;5180   			u_necc=UVZ;
;;;5181   			}
;;;5182   	
;;;5183   		u_necc=UB0;
;;;5184   		}
;;;5185   
;;;5186   
;;;5187   	
;;;5188   		 
;;;5189   	}
;;;5190   
;;;5191   #endif 
;;;5192   
;;;5193   //u_necc=2356;
;;;5194   #endif//gran(&u_necc,400,UMAX);
;;;5195   
;;;5196   temp_L=(signed long) u_necc;
002e66  f9b40000          LDRSH    r0,[r4,#0]  ; u_necc
;;;5197   temp_L*=98L;
002e6a  f04f0162          MOV      r1,#0x62
002e6e  fb00f101          MUL      r1,r0,r1
;;;5198   temp_L/=100L;
002e72  f04f0264          MOV      r2,#0x64
002e76  fb91f1f2          SDIV     r1,r1,r2
;;;5199   u_necc_dn=(signed short)temp_L;
002e7a  4b67              LDR      r3,|L1.12312|
002e7c  8019              STRH     r1,[r3,#0]
;;;5200   
;;;5201   temp_L=(signed long) u_necc;
;;;5202   temp_L*=102L;
002e7e  f04f0166          MOV      r1,#0x66
002e82  fb00f001          MUL      r0,r0,r1
;;;5203   temp_L/=100L;
002e86  fb90f0f2          SDIV     r0,r0,r2
;;;5204   u_necc_up=(signed short)temp_L;
002e8a  4964              LDR      r1,|L1.12316|
002e8c  8008              STRH     r0,[r1,#0]
;;;5205   
;;;5206   
;;;5207   }
002e8e  bd38              POP      {r3-r5,pc}
;;;5208   
                          ENDP

                  num_necc_hndl PROC
;;;5210   //-----------------------------------------------
;;;5211   void num_necc_hndl(void)
002e90  e92d41f0          PUSH     {r4-r8,lr}
;;;5212   {
;;;5213   
;;;5214   static short num_necc_block_cnt;
;;;5215   if(num_necc_block_cnt) num_necc_block_cnt--;
002e94  4c5b              LDR      r4,|L1.12292|
002e96  f9b40022          LDRSH    r0,[r4,#0x22]  ; num_necc_block_cnt
002e9a  b110              CBZ      r0,|L1.11938|
002e9c  f1a00001          SUB      r0,r0,#1
002ea0  8460              STRH     r0,[r4,#0x22]
                  |L1.11938|
;;;5216   
;;;5217   Isumm_=Isumm;
002ea2  485f              LDR      r0,|L1.12320|
002ea4  4d5f              LDR      r5,|L1.12324|
002ea6  8800              LDRH     r0,[r0,#0]  ; Isumm
002ea8  8028              STRH     r0,[r5,#0]
;;;5218   
;;;5219   if(bat[0]._Ib<0) Isumm_+=(abs(bat[0]._Ib))/10;
002eaa  4f5f              LDR      r7,|L1.12328|
002eac  260a              MOVS     r6,#0xa
002eae  f9b70008          LDRSH    r0,[r7,#8]  ; bat
002eb2  2800              CMP      r0,#0
002eb4  da06              BGE      |L1.11972|
002eb6  f7fffffe          BL       abs
002eba  fb90f0f6          SDIV     r0,r0,r6
002ebe  8829              LDRH     r1,[r5,#0]  ; Isumm_
002ec0  4408              ADD      r0,r0,r1
002ec2  8028              STRH     r0,[r5,#0]
                  |L1.11972|
;;;5220   if(bat[1]._Ib<0) Isumm_+=(abs(bat[1]._Ib))/10;
002ec4  f9b70054          LDRSH    r0,[r7,#0x54]  ; bat
002ec8  2800              CMP      r0,#0
002eca  da06              BGE      |L1.11994|
002ecc  f7fffffe          BL       abs
002ed0  fb90f0f6          SDIV     r0,r0,r6
002ed4  8829              LDRH     r1,[r5,#0]  ; Isumm_
002ed6  4408              ADD      r0,r0,r1
002ed8  8028              STRH     r0,[r5,#0]
                  |L1.11994|
;;;5221   
;;;5222   num_necc_up=(Isumm_/((signed short)IMAX))+1;
002eda  4854              LDR      r0,|L1.12332|
002edc  f9b51000          LDRSH    r1,[r5,#0]  ; Isumm_
002ee0  f9b00000          LDRSH    r0,[r0,#0]  ; IMAX
002ee4  fb91f0f0          SDIV     r0,r1,r0
002ee8  f1000001          ADD      r0,r0,#1
002eec  b2c0              UXTB     r0,r0
002eee  73e0              STRB     r0,[r4,#0xf]
;;;5223   ////Isumm_+=(signed short)((IMAX*(10-KIMAX))/10);
;;;5224   ////Isumm_+=(signed short)(IMAX-IMIN);
;;;5225   
;;;5226   num_necc_down=(Isumm_/((signed short)IMIN))+1;
002ef0  4a4f              LDR      r2,|L1.12336|
002ef2  f9b22000          LDRSH    r2,[r2,#0]  ; IMIN
002ef6  fb91f1f2          SDIV     r1,r1,r2
002efa  f1010101          ADD      r1,r1,#1
002efe  b2c9              UXTB     r1,r1
002f00  7421              STRB     r1,[r4,#0x10]
;;;5227   
;;;5228   if(num_necc_up>num_necc)
002f02  4b4c              LDR      r3,|L1.12340|
;;;5229   	{
;;;5230   	num_necc=num_necc_up;
;;;5231   	num_necc_block_cnt=60;
002f04  f04f053c          MOV      r5,#0x3c
002f08  f9b32000          LDRSH    r2,[r3,#0]            ;5228  ; num_necc
002f0c  4290              CMP      r0,r2                 ;5228
002f0e  dd02              BLE      |L1.12054|
002f10  8018              STRH     r0,[r3,#0]            ;5230
002f12  8465              STRH     r5,[r4,#0x22]
002f14  e005              B        |L1.12066|
                  |L1.12054|
;;;5232   	}
;;;5233   else if(num_necc_down<num_necc)
002f16  4291              CMP      r1,r2
002f18  da03              BGE      |L1.12066|
;;;5234   	{
;;;5235   	if(!num_necc_block_cnt)
002f1a  8c60              LDRH     r0,[r4,#0x22]  ; num_necc_block_cnt
002f1c  b908              CBNZ     r0,|L1.12066|
;;;5236   		{
;;;5237   		num_necc=num_necc_down;
002f1e  8019              STRH     r1,[r3,#0]
;;;5238   		num_necc_block_cnt=60;
002f20  8465              STRH     r5,[r4,#0x22]
                  |L1.12066|
;;;5239   		}
;;;5240   	}
;;;5241   
;;;5242   if(PAR) num_necc=NUMIST;
002f22  4845              LDR      r0,|L1.12344|
002f24  8801              LDRH     r1,[r0,#0]  ; PAR
002f26  4845              LDR      r0,|L1.12348|
002f28  b109              CBZ      r1,|L1.12078|
002f2a  8801              LDRH     r1,[r0,#0]  ; NUMIST
002f2c  8019              STRH     r1,[r3,#0]
                  |L1.12078|
;;;5243   
;;;5244   gran(&num_necc,1,NUMIST);
002f2e  f9b02000          LDRSH    r2,[r0,#0]  ; NUMIST
002f32  e8bd41f0          POP      {r4-r8,lr}
002f36  2101              MOVS     r1,#1
002f38  483e              LDR      r0,|L1.12340|
002f3a  f7ffbffe          B.W      gran
;;;5245   
;;;5246   }
;;;5247   
                          ENDP

                  cntrl_hndl PROC
;;;5248   //-----------------------------------------------
;;;5249   void cntrl_hndl(void)
002f3e  e92d5ff0          PUSH     {r4-r12,lr}
;;;5250   {
;;;5251   
;;;5252   IZMAX_=IZMAX;
002f42  483f              LDR      r0,|L1.12352|
002f44  4c2f              LDR      r4,|L1.12292|
002f46  f9b01000          LDRSH    r1,[r0,#0]  ; IZMAX
002f4a  86e1              STRH     r1,[r4,#0x36]
;;;5253   
;;;5254   if(speedChIsOn)IZMAX_=speedChrgCurr;
002f4c  482f              LDR      r0,|L1.12300|
002f4e  8800              LDRH     r0,[r0,#0]  ; speedChIsOn
002f50  b110              CBZ      r0,|L1.12120|
002f52  483c              LDR      r0,|L1.12356|
002f54  8800              LDRH     r0,[r0,#0]  ; speedChrgCurr
002f56  86e0              STRH     r0,[r4,#0x36]
                  |L1.12120|
;;;5255   
;;;5256   if(cntrl_stat_blok_cnt)cntrl_stat_blok_cnt--;
002f58  f9b40058          LDRSH    r0,[r4,#0x58]  ; cntrl_stat_blok_cnt
002f5c  b118              CBZ      r0,|L1.12134|
002f5e  f1a00001          SUB      r0,r0,#1
002f62  f8a40058          STRH     r0,[r4,#0x58]
                  |L1.12134|
;;;5257   if(cntrl_stat_blok_cnt_)cntrl_stat_blok_cnt_--;
002f66  f9b4005a          LDRSH    r0,[r4,#0x5a]  ; cntrl_stat_blok_cnt_
002f6a  b118              CBZ      r0,|L1.12148|
002f6c  f1a00001          SUB      r0,r0,#1
002f70  f8a4005a          STRH     r0,[r4,#0x5a]
                  |L1.12148|
;;;5258   
;;;5259   if((bat[0]._temper_stat&0x03)||(bat[1]._temper_stat&0x03))IZMAX_=IZMAX/10;
002f74  482c              LDR      r0,|L1.12328|
002f76  f04f050a          MOV      r5,#0xa
002f7a  f890203f          LDRB     r2,[r0,#0x3f]  ; bat
002f7e  0792              LSLS     r2,r2,#30
002f80  d103              BNE      |L1.12170|
002f82  f890008b          LDRB     r0,[r0,#0x8b]  ; bat
002f86  0780              LSLS     r0,r0,#30
002f88  d002              BEQ      |L1.12176|
                  |L1.12170|
002f8a  fb91f0f5          SDIV     r0,r1,r5
002f8e  86e0              STRH     r0,[r4,#0x36]
                  |L1.12176|
;;;5260   
;;;5261   
;;;5262   if(ch_cnt0<10)
002f90  79a0              LDRB     r0,[r4,#6]  ; ch_cnt0
002f92  2600              MOVS     r6,#0                 ;5254
;;;5263   	{
;;;5264   	ch_cnt0++;
;;;5265   	if(ch_cnt0>=10)
;;;5266   		{
;;;5267   		ch_cnt0=0;
;;;5268   		b1Hz_ch=1;
002f94  2701              MOVS     r7,#1
002f96  280a              CMP      r0,#0xa               ;5262
002f98  d207              BCS      |L1.12202|
002f9a  f1000001          ADD      r0,r0,#1              ;5264
002f9e  b2c0              UXTB     r0,r0                 ;5264
002fa0  71a0              STRB     r0,[r4,#6]            ;5264
002fa2  280a              CMP      r0,#0xa               ;5265
002fa4  d301              BCC      |L1.12202|
002fa6  71a6              STRB     r6,[r4,#6]            ;5267
002fa8  71e7              STRB     r7,[r4,#7]
                  |L1.12202|
;;;5269   		}
;;;5270   	}
;;;5271   
;;;5272   
;;;5273   
;;;5274   
;;;5275   if(mess_find_unvol(MESS2CNTRL_HNDL))
002faa  20e1              MOVS     r0,#0xe1
002fac  f7fffffe          BL       mess_find_unvol
;;;5276   	{
;;;5277   	if(mess_data[0]==PARAM_CNTRL_STAT_PLUS)
;;;5278   		{
;;;5279   		cntrl_stat=cntrl_stat_old+mess_data[1];
;;;5280   		}
;;;5281   	else if(mess_data[0]==PARAM_CNTRL_STAT_MINUS)
;;;5282   		{
;;;5283   		cntrl_stat=cntrl_stat_old-mess_data[1];
;;;5284   		}
;;;5285   	else if(mess_data[0]==PARAM_CNTRL_STAT_STEP_DOWN)
;;;5286   		{
;;;5287   		cntrl_stat--;
;;;5288   
;;;5289   		if((cntrl_stat<=30)||(load_U<USIGN)) mess_send(MESS2KB_HNDL,PARAM_CNTRL_IS_DOWN,0,10);
002fb0  f8dfc094          LDR      r12,|L1.12360|
;;;5290   
;;;5291   		}
;;;5292   	else if(mess_data[0]==PARAM_CNTRL_STAT_SET)
;;;5293   		{
;;;5294   		cntrl_stat=mess_data[1];
;;;5295   		}
;;;5296   
;;;5297   	else if(mess_data[0]==PARAM_CNTRL_STAT_FAST_REG)
;;;5298   		{
;;;5299   		#ifdef UKU_220
;;;5300   		if(load_U>u_necc)
;;;5301   			{
;;;5302   			if(((load_U-u_necc)>40)&&(cntrl_stat>0))cntrl_stat-=5;
;;;5303   			else if((cntrl_stat)&&b1Hz_ch)cntrl_stat--;
;;;5304   			}
;;;5305   		else if(load_U<u_necc)
;;;5306   			{	
;;;5307   			if(((u_necc-load_U)>40)&&(cntrl_stat<1015))cntrl_stat+=5;
;;;5308   			else	if((cntrl_stat<1020)&&b1Hz_ch)cntrl_stat++;
;;;5309   			}
;;;5310   		#endif	
;;;5311   
;;;5312   		#ifndef UKU_220
;;;5313   
;;;5314   		#ifdef UKU_220_V2
;;;5315   		if(load_U>u_necc)
;;;5316   			{
;;;5317   			if(((load_U-u_necc)>40)&&(cntrl_stat>0))cntrl_stat-=5;
;;;5318   			else if((cntrl_stat)&&b1Hz_ch)cntrl_stat--;
;;;5319   			}
;;;5320   		else if(load_U<u_necc)
;;;5321   			{	
;;;5322   			if(((u_necc-load_U)>40)&&(cntrl_stat<1015))cntrl_stat+=5;
;;;5323   			else	if((cntrl_stat<1020)&&b1Hz_ch)cntrl_stat++;
;;;5324   			}
;;;5325   		#else
;;;5326   
;;;5327   		if(load_U>u_necc)
002fb4  4b0d              LDR      r3,|L1.12268|
;;;5328   			{
;;;5329   			if(((load_U-u_necc)>10)&&(cntrl_stat>0))cntrl_stat-=5;
;;;5330   			else if((cntrl_stat)&&b1Hz_ch)cntrl_stat--;
;;;5331   			}
;;;5332   		else if(load_U<u_necc)
;;;5333   			{	
;;;5334   			if(((u_necc-load_U)>10)&&(cntrl_stat<1015))cntrl_stat+=5;
;;;5335   			else	if((cntrl_stat<1020)&&b1Hz_ch)cntrl_stat++;
;;;5336   			}
;;;5337   		#endif	
;;;5338   		#endif
;;;5339   		 }
;;;5340   
;;;5341   	}
;;;5342   
;;;5343   else if((b1Hz_ch)&&((!bIBAT_SMKLBR)||(bps[8]._cnt>40)))
002fb6  f8df8094          LDR      r8,|L1.12364|
;;;5344   	{
;;;5345   	cntrl_stat_new=cntrl_stat_old;
;;;5346   	
;;;5347   	if((Ibmax/10)>(2*IZMAX_))
;;;5348   		{
;;;5349             if(cntrl_stat_blok_cnt)cntrl_stat_new--;
;;;5350   		else	cntrl_stat_new-=10;
;;;5351   		}		
;;;5352   	else if(((Ibmax/10)<(IZMAX_*2))&&(Ibmax>(IZMAX_*15)))
;;;5353   		{
;;;5354             if(cntrl_stat_blok_cnt)cntrl_stat_new--;
;;;5355             else	cntrl_stat_new-=3;
;;;5356   		}   
;;;5357   	else if((Ibmax<(IZMAX_*15))&&((Ibmax/10)>IZMAX_))
;;;5358   		{
;;;5359   		cntrl_stat_new--;
;;;5360   		}
;;;5361   		
;;;5362   	else if(load_U<u_necc)
;;;5363   		{
;;;5364   		if(load_U<(u_necc-(UB0-UB20)))
;;;5365   			{
;;;5366   			if(Ibmax<0)
;;;5367   				{
;;;5368                       if(cntrl_stat_blok_cnt)cntrl_stat_new++;
;;;5369   				else cntrl_stat_new+=10;
;;;5370   				}
;;;5371   			else if(Ibmax<(IZMAX_*5))
;;;5372   				{
;;;5373                       if(cntrl_stat_blok_cnt)cntrl_stat_new++;
;;;5374   				else	cntrl_stat_new+=2;
;;;5375   				}
;;;5376   			else if(Ibmax<((IZMAX_*95)/10))
;;;5377   				{
;;;5378   				cntrl_stat_new++;
;;;5379   				}					
;;;5380   			}
;;;5381   		else if(load_U<(u_necc-((UB0-UB20)/4)))
;;;5382   			{
;;;5383   			if(Ibmax<(IZMAX_*5))
;;;5384   				{
;;;5385                       if(cntrl_stat_blok_cnt)cntrl_stat_new++;
;;;5386   				else	cntrl_stat_new+=2;
;;;5387   				}
;;;5388   			else if(Ibmax<((IZMAX_*95)/10))
;;;5389   				{
;;;5390   				cntrl_stat_new++;
;;;5391   				}					
;;;5392   			}	
;;;5393   		else if(load_U<(u_necc-1))
;;;5394   			{
;;;5395   			if(Ibmax<((IZMAX_*95)/10))
;;;5396   				{
;;;5397   				cntrl_stat_new++;
;;;5398   				}					
;;;5399   			}					
;;;5400   		}	
;;;5401   	else if((load_U>u_necc)/*&&(!cntrl_blok)*/)
;;;5402   		{
;;;5403   		if(load_U>(u_necc+(UB0-UB20)))
;;;5404   			{
;;;5405                  if(cntrl_stat_blok_cnt)cntrl_stat_new--;
;;;5406   			else	cntrl_stat_new-=10;
;;;5407   			}
;;;5408   		else if(load_U>(u_necc+((UB0-UB20)/4)))
;;;5409   			{
;;;5410                  if(cntrl_stat_blok_cnt)cntrl_stat_new--;
;;;5411   			else cntrl_stat_new-=2;
;;;5412   			}	
;;;5413   		else if(load_U>(u_necc+1))
;;;5414   			{
;;;5415   			cntrl_stat_new--;
;;;5416   			}					
;;;5417   		}
;;;5418   
;;;5419   	gran(&cntrl_stat_new,10,1010);			
002fba  f2403bf2          MOV      r11,#0x3f2
002fbe  b110              CBZ      r0,|L1.12230|
002fc0  4914              LDR      r1,|L1.12308|
002fc2  6808              LDR      r0,[r1,#0]            ;5277  ; mess_data
002fc4  e044              B        |L1.12368|
                  |L1.12230|
002fc6  e0a8              B        |L1.12570|
                  |L1.12232|
                          DCD      lakb
                  |L1.12236|
                          DCD      TBATSIGN
                  |L1.12240|
                          DCD      TBATMAX
                  |L1.12244|
                          DCD      ADR_EE_BAT_RESURS
                  |L1.12248|
                          DCD      UBM_AV
                  |L1.12252|
                          DCD      U0B
                  |L1.12256|
                          DCD      IKB
                  |L1.12260|
                          DCD      USIGN
                  |L1.12264|
                          DCD      TERMOKOMPENS
                  |L1.12268|
                          DCD      u_necc
                  |L1.12272|
                          DCD      ND_EXT
                  |L1.12276|
                          DCD      t_ext
                  |L1.12280|
                          DCD      mat_temper
                  |L1.12284|
                          DCD      UB0
                  |L1.12288|
                          DCD      UB20
                  |L1.12292|
                          DCD      ||area_number.21||
                  |L1.12296|
                          DCD      UVZ
                  |L1.12300|
                          DCD      speedChIsOn
                  |L1.12304|
                          DCD      speedChrgVolt
                  |L1.12308|
                          DCD      mess_data
                  |L1.12312|
                          DCD      u_necc_dn
                  |L1.12316|
                          DCD      u_necc_up
                  |L1.12320|
                          DCD      Isumm
                  |L1.12324|
                          DCD      Isumm_
                  |L1.12328|
                          DCD      bat
                  |L1.12332|
                          DCD      IMAX
                  |L1.12336|
                          DCD      IMIN
                  |L1.12340|
                          DCD      num_necc
                  |L1.12344|
                          DCD      PAR
                  |L1.12348|
                          DCD      NUMIST
                  |L1.12352|
                          DCD      IZMAX
                  |L1.12356|
                          DCD      speedChrgCurr
                  |L1.12360|
                          DCD      load_U
                  |L1.12364|
                          DCD      bps
                  |L1.12368|
003050  2864              CMP      r0,#0x64              ;5277
003052  d008              BEQ      |L1.12390|
003054  2869              CMP      r0,#0x69              ;5281
003056  d00b              BEQ      |L1.12400|
003058  286e              CMP      r0,#0x6e              ;5285
00305a  d00f              BEQ      |L1.12412|
00305c  28e5              CMP      r0,#0xe5              ;5292
00305e  d022              BEQ      |L1.12454|
003060  28e6              CMP      r0,#0xe6              ;5297
003062  d023              BEQ      |L1.12460|
                  |L1.12388|
003064  e136              B        |L1.13012|
                  |L1.12390|
003066  6848              LDR      r0,[r1,#4]            ;5279  ; mess_data
003068  8b61              LDRH     r1,[r4,#0x1a]         ;5279  ; cntrl_stat_old
00306a  4408              ADD      r0,r0,r1              ;5279
00306c  8320              STRH     r0,[r4,#0x18]         ;5279
00306e  e131              B        |L1.13012|
                  |L1.12400|
003070  6848              LDR      r0,[r1,#4]            ;5283  ; mess_data
003072  8b61              LDRH     r1,[r4,#0x1a]         ;5283  ; cntrl_stat_old
003074  eba10000          SUB      r0,r1,r0              ;5283
003078  8320              STRH     r0,[r4,#0x18]         ;5283
00307a  e12b              B        |L1.13012|
                  |L1.12412|
00307c  8b20              LDRH     r0,[r4,#0x18]         ;5287  ; cntrl_stat
00307e  f1a00001          SUB      r0,r0,#1              ;5287
003082  b200              SXTH     r0,r0                 ;5287
003084  8320              STRH     r0,[r4,#0x18]         ;5287
003086  281e              CMP      r0,#0x1e              ;5289
003088  dd06              BLE      |L1.12440|
00308a  49fa              LDR      r1,|L1.13428|
00308c  f9bc0000          LDRSH    r0,[r12,#0]           ;5289  ; load_U
003090  f9b11000          LDRSH    r1,[r1,#0]            ;5289  ; USIGN
003094  4288              CMP      r0,r1                 ;5289
003096  dae5              BGE      |L1.12388|
                  |L1.12440|
003098  230a              MOVS     r3,#0xa               ;5289
00309a  2200              MOVS     r2,#0                 ;5289
00309c  21e7              MOVS     r1,#0xe7              ;5289
00309e  20e6              MOVS     r0,#0xe6              ;5289
0030a0  f7fffffe          BL       mess_send
0030a4  e116              B        |L1.13012|
                  |L1.12454|
0030a6  6848              LDR      r0,[r1,#4]            ;5294  ; mess_data
0030a8  8320              STRH     r0,[r4,#0x18]         ;5294
0030aa  e113              B        |L1.13012|
                  |L1.12460|
0030ac  f9bc0000          LDRSH    r0,[r12,#0]           ;5327  ; load_U
0030b0  f9b31000          LDRSH    r1,[r3,#0]            ;5327  ; u_necc
0030b4  4288              CMP      r0,r1                 ;5327
0030b6  dd16              BLE      |L1.12518|
0030b8  eba00001          SUB      r0,r0,r1              ;5329
0030bc  280a              CMP      r0,#0xa               ;5329
0030be  dd07              BLE      |L1.12496|
0030c0  f9b40018          LDRSH    r0,[r4,#0x18]         ;5329  ; cntrl_stat
0030c4  2800              CMP      r0,#0                 ;5329
0030c6  dd03              BLE      |L1.12496|
0030c8  f1a00005          SUB      r0,r0,#5              ;5329
0030cc  8320              STRH     r0,[r4,#0x18]         ;5329
0030ce  e101              B        |L1.13012|
                  |L1.12496|
0030d0  f9b40018          LDRSH    r0,[r4,#0x18]         ;5330  ; cntrl_stat
0030d4  2800              CMP      r0,#0                 ;5330
0030d6  d005              BEQ      |L1.12516|
0030d8  79e1              LDRB     r1,[r4,#7]            ;5330  ; b1Hz_ch
0030da  2900              CMP      r1,#0                 ;5330
0030dc  d002              BEQ      |L1.12516|
0030de  f1a00001          SUB      r0,r0,#1              ;5330
0030e2  8320              STRH     r0,[r4,#0x18]         ;5330
                  |L1.12516|
0030e4  e0f6              B        |L1.13012|
                  |L1.12518|
0030e6  da0b              BGE      |L1.12544|
0030e8  1a08              SUBS     r0,r1,r0              ;5334
0030ea  280a              CMP      r0,#0xa               ;5334
0030ec  dd09              BLE      |L1.12546|
0030ee  f9b40018          LDRSH    r0,[r4,#0x18]         ;5334  ; cntrl_stat
0030f2  f24031f7          MOV      r1,#0x3f7             ;5334
0030f6  4288              CMP      r0,r1                 ;5334
0030f8  da03              BGE      |L1.12546|
0030fa  f1000005          ADD      r0,r0,#5              ;5334
0030fe  8320              STRH     r0,[r4,#0x18]         ;5334
                  |L1.12544|
003100  e0e8              B        |L1.13012|
                  |L1.12546|
003102  f9b40018          LDRSH    r0,[r4,#0x18]         ;5335  ; cntrl_stat
003106  f5b07f7f          CMP      r0,#0x3fc             ;5335
00310a  da05              BGE      |L1.12568|
00310c  79e1              LDRB     r1,[r4,#7]            ;5335  ; b1Hz_ch
00310e  2900              CMP      r1,#0                 ;5335
003110  d002              BEQ      |L1.12568|
003112  f1000001          ADD      r0,r0,#1              ;5335
003116  8320              STRH     r0,[r4,#0x18]         ;5335
                  |L1.12568|
003118  e0dc              B        |L1.13012|
                  |L1.12570|
00311a  79e0              LDRB     r0,[r4,#7]            ;5343  ; b1Hz_ch
00311c  2800              CMP      r0,#0                 ;5343
00311e  d072              BEQ      |L1.12806|
003120  48d5              LDR      r0,|L1.13432|
003122  8800              LDRH     r0,[r0,#0]            ;5343  ; bIBAT_SMKLBR
003124  b118              CBZ      r0,|L1.12590|
003126  f89802a3          LDRB     r0,[r8,#0x2a3]        ;5343  ; bps
00312a  2828              CMP      r0,#0x28              ;5343
00312c  d96b              BLS      |L1.12806|
                  |L1.12590|
00312e  f9b4001a          LDRSH    r0,[r4,#0x1a]         ;5345  ; cntrl_stat_old
003132  8660              STRH     r0,[r4,#0x32]         ;5345
003134  f9b41034          LDRSH    r1,[r4,#0x34]         ;5347  ; Ibmax
003138  8ee2              LDRH     r2,[r4,#0x36]         ;5347  ; IZMAX_
00313a  fb91f9f5          SDIV     r9,r1,r5              ;5347
00313e  ebb90f42          CMP      r9,r2,LSL #1          ;5347
003142  dd0a              BLE      |L1.12634|
003144  f8b41058          LDRH     r1,[r4,#0x58]         ;5349  ; cntrl_stat_blok_cnt
003148  b119              CBZ      r1,|L1.12626|
00314a  f1a00001          SUB      r0,r0,#1              ;5349
00314e  8660              STRH     r0,[r4,#0x32]         ;5349
003150  e0b8              B        |L1.12996|
                  |L1.12626|
003152  f1a0000a          SUB      r0,r0,#0xa            ;5350
003156  8660              STRH     r0,[r4,#0x32]         ;5350
003158  e0b4              B        |L1.12996|
                  |L1.12634|
00315a  da0e              BGE      |L1.12666|
00315c  ebc21a02          RSB      r10,r2,r2,LSL #4      ;5352
003160  458a              CMP      r10,r1                ;5352
003162  da0a              BGE      |L1.12666|
003164  f8b41058          LDRH     r1,[r4,#0x58]         ;5354  ; cntrl_stat_blok_cnt
003168  b119              CBZ      r1,|L1.12658|
00316a  f1a00001          SUB      r0,r0,#1              ;5354
00316e  8660              STRH     r0,[r4,#0x32]         ;5354
003170  e0a8              B        |L1.12996|
                  |L1.12658|
003172  f1a00003          SUB      r0,r0,#3              ;5355
003176  8660              STRH     r0,[r4,#0x32]         ;5355
003178  e0a4              B        |L1.12996|
                  |L1.12666|
00317a  ebc21a02          RSB      r10,r2,r2,LSL #4      ;5357
00317e  458a              CMP      r10,r1                ;5357
003180  dd05              BLE      |L1.12686|
003182  4591              CMP      r9,r2                 ;5357
003184  dd03              BLE      |L1.12686|
003186  f1a00001          SUB      r0,r0,#1              ;5359
00318a  8660              STRH     r0,[r4,#0x32]         ;5359
00318c  e09a              B        |L1.12996|
                  |L1.12686|
00318e  f9bcc000          LDRSH    r12,[r12,#0]          ;5362  ; load_U
003192  f9b33000          LDRSH    r3,[r3,#0]            ;5362  ; u_necc
003196  f8df92e4          LDR      r9,|L1.13436|
00319a  f8dfa2e4          LDR      r10,|L1.13440|
00319e  459c              CMP      r12,r3                ;5362
0031a0  da64              BGE      |L1.12908|
0031a2  f9b99000          LDRSH    r9,[r9,#0]            ;5364  ; UB0
0031a6  f9baa000          LDRSH    r10,[r10,#0]          ;5364  ; UB20
0031aa  eba9090a          SUB      r9,r9,r10             ;5364
0031ae  eba30a09          SUB      r10,r3,r9             ;5364
0031b2  45e2              CMP      r10,r12               ;5364
0031b4  dd28              BLE      |L1.12808|
0031b6  2900              CMP      r1,#0                 ;5366
0031b8  da0a              BGE      |L1.12752|
0031ba  f8b41058          LDRH     r1,[r4,#0x58]         ;5368  ; cntrl_stat_blok_cnt
0031be  b119              CBZ      r1,|L1.12744|
0031c0  f1000001          ADD      r0,r0,#1              ;5368
0031c4  8660              STRH     r0,[r4,#0x32]         ;5368
0031c6  e07d              B        |L1.12996|
                  |L1.12744|
0031c8  f100000a          ADD      r0,r0,#0xa            ;5369
0031cc  8660              STRH     r0,[r4,#0x32]         ;5369
0031ce  e079              B        |L1.12996|
                  |L1.12752|
0031d0  eb020382          ADD      r3,r2,r2,LSL #2       ;5371
0031d4  428b              CMP      r3,r1                 ;5371
0031d6  dd0a              BLE      |L1.12782|
0031d8  f8b41058          LDRH     r1,[r4,#0x58]         ;5373  ; cntrl_stat_blok_cnt
0031dc  b119              CBZ      r1,|L1.12774|
0031de  f1000001          ADD      r0,r0,#1              ;5373
0031e2  8660              STRH     r0,[r4,#0x32]         ;5373
0031e4  e06e              B        |L1.12996|
                  |L1.12774|
0031e6  f1000002          ADD      r0,r0,#2              ;5374
0031ea  8660              STRH     r0,[r4,#0x32]         ;5374
0031ec  e06a              B        |L1.12996|
                  |L1.12782|
0031ee  ebc21342          RSB      r3,r2,r2,LSL #5       ;5376
0031f2  eb031282          ADD      r2,r3,r2,LSL #6       ;5376
0031f6  fbb2f2f5          UDIV     r2,r2,r5              ;5376
0031fa  428a              CMP      r2,r1                 ;5376
0031fc  dd62              BLE      |L1.12996|
0031fe  f1000001          ADD      r0,r0,#1              ;5378
003202  8660              STRH     r0,[r4,#0x32]         ;5378
003204  e05e              B        |L1.12996|
                  |L1.12806|
003206  e065              B        |L1.13012|
                  |L1.12808|
003208  ea4f7ae9          ASR      r10,r9,#31            ;5381
00320c  eb09799a          ADD      r9,r9,r10,LSR #30     ;5381
003210  eba309a9          SUB      r9,r3,r9,ASR #2       ;5381
003214  45e1              CMP      r9,r12                ;5381
003216  dd1a              BLE      |L1.12878|
003218  eb020382          ADD      r3,r2,r2,LSL #2       ;5383
00321c  428b              CMP      r3,r1                 ;5383
00321e  dd0a              BLE      |L1.12854|
003220  f8b41058          LDRH     r1,[r4,#0x58]         ;5385  ; cntrl_stat_blok_cnt
003224  b119              CBZ      r1,|L1.12846|
003226  f1000001          ADD      r0,r0,#1              ;5385
00322a  8660              STRH     r0,[r4,#0x32]         ;5385
00322c  e04a              B        |L1.12996|
                  |L1.12846|
00322e  f1000002          ADD      r0,r0,#2              ;5386
003232  8660              STRH     r0,[r4,#0x32]         ;5386
003234  e046              B        |L1.12996|
                  |L1.12854|
003236  ebc21342          RSB      r3,r2,r2,LSL #5       ;5388
00323a  eb031282          ADD      r2,r3,r2,LSL #6       ;5388
00323e  fbb2f2f5          UDIV     r2,r2,r5              ;5388
003242  428a              CMP      r2,r1                 ;5388
003244  dd3e              BLE      |L1.12996|
003246  f1000001          ADD      r0,r0,#1              ;5390
00324a  8660              STRH     r0,[r4,#0x32]         ;5390
00324c  e03a              B        |L1.12996|
                  |L1.12878|
00324e  1e5b              SUBS     r3,r3,#1              ;5393
003250  459c              CMP      r12,r3                ;5393
003252  da37              BGE      |L1.12996|
003254  ebc21342          RSB      r3,r2,r2,LSL #5       ;5395
003258  eb031282          ADD      r2,r3,r2,LSL #6       ;5395
00325c  fbb2f2f5          UDIV     r2,r2,r5              ;5395
003260  428a              CMP      r2,r1                 ;5395
003262  dd2f              BLE      |L1.12996|
003264  f1000001          ADD      r0,r0,#1              ;5397
003268  8660              STRH     r0,[r4,#0x32]         ;5397
00326a  e02b              B        |L1.12996|
                  |L1.12908|
00326c  dd2a              BLE      |L1.12996|
00326e  f9b91000          LDRSH    r1,[r9,#0]            ;5403  ; UB0
003272  f9ba2000          LDRSH    r2,[r10,#0]           ;5403  ; UB20
003276  1a89              SUBS     r1,r1,r2              ;5403
003278  18ca              ADDS     r2,r1,r3              ;5403
00327a  4562              CMP      r2,r12                ;5403
00327c  da0a              BGE      |L1.12948|
00327e  f8b41058          LDRH     r1,[r4,#0x58]         ;5405  ; cntrl_stat_blok_cnt
003282  b119              CBZ      r1,|L1.12940|
003284  f1a00001          SUB      r0,r0,#1              ;5405
003288  8660              STRH     r0,[r4,#0x32]         ;5405
00328a  e01b              B        |L1.12996|
                  |L1.12940|
00328c  f1a0000a          SUB      r0,r0,#0xa            ;5406
003290  8660              STRH     r0,[r4,#0x32]         ;5406
003292  e017              B        |L1.12996|
                  |L1.12948|
003294  17ca              ASRS     r2,r1,#31             ;5408
003296  eb017192          ADD      r1,r1,r2,LSR #30      ;5408
00329a  eb0301a1          ADD      r1,r3,r1,ASR #2       ;5408
00329e  4561              CMP      r1,r12                ;5408
0032a0  da0a              BGE      |L1.12984|
0032a2  f8b41058          LDRH     r1,[r4,#0x58]         ;5410  ; cntrl_stat_blok_cnt
0032a6  b119              CBZ      r1,|L1.12976|
0032a8  f1a00001          SUB      r0,r0,#1              ;5410
0032ac  8660              STRH     r0,[r4,#0x32]         ;5410
0032ae  e009              B        |L1.12996|
                  |L1.12976|
0032b0  f1a00002          SUB      r0,r0,#2              ;5411
0032b4  8660              STRH     r0,[r4,#0x32]         ;5411
0032b6  e005              B        |L1.12996|
                  |L1.12984|
0032b8  1c5b              ADDS     r3,r3,#1              ;5413
0032ba  459c              CMP      r12,r3                ;5413
0032bc  dd02              BLE      |L1.12996|
0032be  f1a00001          SUB      r0,r0,#1              ;5415
0032c2  8660              STRH     r0,[r4,#0x32]         ;5415
                  |L1.12996|
0032c4  465a              MOV      r2,r11
0032c6  210a              MOVS     r1,#0xa
0032c8  486e              LDR      r0,|L1.13444|
0032ca  f7fffffe          BL       gran
;;;5420   	cntrl_stat_old=cntrl_stat_new;
0032ce  8e60              LDRH     r0,[r4,#0x32]  ; cntrl_stat_new
0032d0  8360              STRH     r0,[r4,#0x1a]
;;;5421   	cntrl_stat=cntrl_stat_new;	
0032d2  8320              STRH     r0,[r4,#0x18]
                  |L1.13012|
;;;5422   	}
;;;5423   
;;;5424   
;;;5425   iiii=0;
0032d4  7266              STRB     r6,[r4,#9]
;;;5426   for(i=0;i<NUMIST;i++)
0032d6  7226              STRB     r6,[r4,#8]
0032d8  486b              LDR      r0,|L1.13448|
0032da  f9b02000          LDRSH    r2,[r0,#0]
0032de  e00c              B        |L1.13050|
                  |L1.13024|
;;;5427        {
;;;5428        if(bps[i]._cnt<30)iiii=1;
0032e0  ebc001c0          RSB      r1,r0,r0,LSL #3
0032e4  eb010141          ADD      r1,r1,r1,LSL #1
0032e8  eb080181          ADD      r1,r8,r1,LSL #2
0032ec  78c9              LDRB     r1,[r1,#3]
0032ee  291e              CMP      r1,#0x1e
0032f0  d200              BCS      |L1.13044|
0032f2  7267              STRB     r7,[r4,#9]
                  |L1.13044|
0032f4  f1000001          ADD      r0,r0,#1              ;5426
0032f8  7220              STRB     r0,[r4,#8]            ;5426
                  |L1.13050|
0032fa  7a20              LDRB     r0,[r4,#8]            ;5426  ; i
0032fc  4290              CMP      r0,r2                 ;5426
0032fe  dbef              BLT      |L1.13024|
;;;5429        }
;;;5430   
;;;5431   if(iiii==0)
003300  7a60              LDRB     r0,[r4,#9]  ; iiii
003302  b920              CBNZ     r0,|L1.13070|
;;;5432        {
;;;5433        cntrl_stat=600;	
003304  f44f7016          MOV      r0,#0x258
003308  8320              STRH     r0,[r4,#0x18]
;;;5434        cntrl_stat_old=600;
00330a  8360              STRH     r0,[r4,#0x1a]
;;;5435        cntrl_stat_new=600;
00330c  8660              STRH     r0,[r4,#0x32]
                  |L1.13070|
;;;5436   	#ifdef UKU_TELECORE2015
;;;5437   	cntrl_stat=0;
;;;5438   	cntrl_stat_old=0;
;;;5439   	cntrl_stat_new=0;
;;;5440   	#endif
;;;5441        }
;;;5442   gran(&cntrl_stat,10,1010); 
00330e  485d              LDR      r0,|L1.13444|
003310  465a              MOV      r2,r11
003312  210a              MOVS     r1,#0xa
003314  381a              SUBS     r0,r0,#0x1a
003316  f7fffffe          BL       gran
;;;5443   b1Hz_ch=0;
00331a  71e6              STRB     r6,[r4,#7]
                  |L1.13084|
;;;5444   }
00331c  e8bd9ff0          POP      {r4-r12,pc}
;;;5445   
                          ENDP

                  ext_drv PROC
;;;5446   //-----------------------------------------------
;;;5447   void ext_drv(void)
003320  e92d5ff0          PUSH     {r4-r12,lr}
;;;5448   {
;;;5449   char i;
;;;5450   
;;;5451   
;;;5452   for(i=0;i<NUMSK;i++)
003324  f04f0000          MOV      r0,#0
003328  4a5a              LDR      r2,|L1.13460|
;;;5453   	{
;;;5454   	#ifdef UKU_MGTS
;;;5455   	if(adc_buff_[sk_buff_RSTKM[i]]<2000)
;;;5456   	#endif
;;;5457   	#ifdef UKU_RSTKM
;;;5458   	if(adc_buff_[sk_buff_RSTKM[i]]<2000)
;;;5459   	#endif
;;;5460   	#ifdef UKU_3U
;;;5461   	if(adc_buff_[sk_buff_3U[i]]<2000)
;;;5462   	#endif
;;;5463   	#ifdef UKU_GLONASS
;;;5464   	if(adc_buff_[sk_buff_GLONASS[i]]<2000)
;;;5465   	#endif
;;;5466   	#ifdef UKU_KONTUR
;;;5467   	if(adc_buff_[sk_buff_KONTUR[i]]<2000)
;;;5468   	#endif
;;;5469   	#ifdef UKU_6U
;;;5470   	if(adc_buff_[sk_buff_6U[i]]<2000)
;;;5471   	#endif
;;;5472   	#ifdef UKU_220
;;;5473   	if(adc_buff_[sk_buff_220[i]]<2000)
;;;5474   	#endif
;;;5475   	#ifdef UKU_220_V2
;;;5476   	if(adc_buff_[sk_buff_220[i]]<2000)
;;;5477   	#endif
;;;5478   	#ifdef UKU_220_IPS_TERMOKOMPENSAT
;;;5479   	if(adc_buff_[sk_buff_220[i]]<2000)
;;;5480   	#endif
;;;5481   	#ifdef UKU_TELECORE2015
;;;5482   	if(adc_buff_[sk_buff_TELECORE2015[i]]<2000)	 //TODO
;;;5483   	#endif
;;;5484   
;;;5485   		{
;;;5486   		if(sk_cnt[i]<10)
00332a  4b58              LDR      r3,|L1.13452|
;;;5487   			{
;;;5488   			sk_cnt[i]++;
;;;5489   			if(sk_cnt[i]>=10)
;;;5490   				{
;;;5491   				sk_stat[i]=ssON;
00332c  4d58              LDR      r5,|L1.13456|
00332e  f04f0a01          MOV      r10,#1
;;;5492   				}
;;;5493   			}
;;;5494   		else 
;;;5495   			{
;;;5496   			sk_cnt[i]=10;
003332  f04f0b0a          MOV      r11,#0xa
003336  4606              MOV      r6,r0                 ;5452
003338  f9b24000          LDRSH    r4,[r2,#0]            ;5452
00333c  e025              B        |L1.13194|
                  |L1.13118|
00333e  4956              LDR      r1,|L1.13464|
003340  4f56              LDR      r7,|L1.13468|
003342  5c09              LDRB     r1,[r1,r0]            ;5479
003344  f9371011          LDRSH    r1,[r7,r1,LSL #1]     ;5479
003348  f5b16ffa          CMP      r1,#0x7d0             ;5479
00334c  da0e              BGE      |L1.13164|
00334e  5619              LDRSB    r1,[r3,r0]            ;5486
003350  290a              CMP      r1,#0xa               ;5486
003352  da08              BGE      |L1.13158|
003354  f1010101          ADD      r1,r1,#1              ;5488
003358  b249              SXTB     r1,r1                 ;5488
00335a  5419              STRB     r1,[r3,r0]            ;5488
00335c  290a              CMP      r1,#0xa               ;5489
00335e  db11              BLT      |L1.13188|
003360  f805a000          STRB     r10,[r5,r0]           ;5491
003364  e00e              B        |L1.13188|
                  |L1.13158|
003366  f803b000          STRB     r11,[r3,r0]
00336a  e00b              B        |L1.13188|
                  |L1.13164|
;;;5497   			}
;;;5498                  
;;;5499   		}
;;;5500   	else
;;;5501   		{
;;;5502   		if(sk_cnt[i]>=0)
00336c  5619              LDRSB    r1,[r3,r0]
00336e  2900              CMP      r1,#0
003370  db07              BLT      |L1.13186|
;;;5503   			{
;;;5504   			sk_cnt[i]--;
003372  f1a10101          SUB      r1,r1,#1
003376  b249              SXTB     r1,r1
003378  5419              STRB     r1,[r3,r0]
;;;5505   			if(sk_cnt[i]<=0)
00337a  2900              CMP      r1,#0
00337c  dc02              BGT      |L1.13188|
;;;5506   				{
;;;5507   				sk_stat[i]=ssOFF;
00337e  542e              STRB     r6,[r5,r0]
003380  e000              B        |L1.13188|
                  |L1.13186|
;;;5508   				}
;;;5509   			}
;;;5510   		else 
;;;5511   			{
;;;5512   			sk_cnt[i]=0;
003382  541e              STRB     r6,[r3,r0]
                  |L1.13188|
003384  f1000001          ADD      r0,r0,#1              ;5452
003388  b2c0              UXTB     r0,r0                 ;5452
                  |L1.13194|
00338a  42a0              CMP      r0,r4                 ;5452
00338c  dbd7              BLT      |L1.13118|
;;;5513   			}
;;;5514   		}
;;;5515   	}
;;;5516   
;;;5517   for(i=0;i<NUMSK;i++)
00338e  f04f0400          MOV      r4,#0
;;;5518   	{
;;;5519   	if(((SK_SIGN[i]==0)&&(sk_stat[i]==ssON))||((SK_SIGN[i])&&(sk_stat[i]==ssOFF)) )
;;;5520   		{
;;;5521   		if(sk_av_cnt[i]<10)
003392  f8df910c          LDR      r9,|L1.13472|
;;;5522   			{
;;;5523   			sk_av_cnt[i]++;
;;;5524   			if(sk_av_cnt[i]>=10)
;;;5525   				{
;;;5526   				sk_av_stat[i]=sasON;
003396  4f43              LDR      r7,|L1.13476|
;;;5527   				}
;;;5528   			}
;;;5529   		else 
;;;5530   			{
;;;5531   			sk_av_cnt[i]=10;
;;;5532   			}
;;;5533   		}
;;;5534   	else
;;;5535   		{
;;;5536   		if(sk_av_cnt[i]>=0)
;;;5537   			{
;;;5538   			sk_av_cnt[i]--;
;;;5539   			if(sk_av_cnt[i]<=0)
;;;5540   				{
;;;5541   				sk_av_stat[i]=sasOFF;
;;;5542   				}
;;;5543   			}
;;;5544   		else 
;;;5545   			{
;;;5546   			sk_av_cnt[i]=0;
;;;5547   			}
;;;5548   		}
;;;5549   
;;;5550   #ifndef UKU_KONTUR
;;;5551   	if(sk_av_stat_old[i]!=sk_av_stat[i])
003398  f8df810c          LDR      r8,|L1.13480|
00339c  e0c6              B        |L1.13612|
                  |L1.13214|
00339e  4843              LDR      r0,|L1.13484|
0033a0  f9300014          LDRSH    r0,[r0,r4,LSL #1]     ;5519
0033a4  b910              CBNZ     r0,|L1.13228|
0033a6  5d29              LDRB     r1,[r5,r4]            ;5519
0033a8  2901              CMP      r1,#1                 ;5519
0033aa  d00f              BEQ      |L1.13260|
                  |L1.13228|
0033ac  b108              CBZ      r0,|L1.13234|
0033ae  5d28              LDRB     r0,[r5,r4]            ;5519
0033b0  b160              CBZ      r0,|L1.13260|
                  |L1.13234|
0033b2  f9190004          LDRSB    r0,[r9,r4]            ;5536
0033b6  2800              CMP      r0,#0                 ;5536
0033b8  db19              BLT      |L1.13294|
0033ba  f1a00001          SUB      r0,r0,#1              ;5538
0033be  b240              SXTB     r0,r0                 ;5538
0033c0  f8090004          STRB     r0,[r9,r4]            ;5538
0033c4  2800              CMP      r0,#0                 ;5539
0033c6  dc14              BGT      |L1.13298|
0033c8  553e              STRB     r6,[r7,r4]            ;5541
0033ca  e012              B        |L1.13298|
                  |L1.13260|
0033cc  f9190004          LDRSB    r0,[r9,r4]            ;5521
0033d0  280a              CMP      r0,#0xa               ;5521
0033d2  da09              BGE      |L1.13288|
0033d4  f1000001          ADD      r0,r0,#1              ;5523
0033d8  b240              SXTB     r0,r0                 ;5523
0033da  f8090004          STRB     r0,[r9,r4]            ;5523
0033de  280a              CMP      r0,#0xa               ;5524
0033e0  db07              BLT      |L1.13298|
0033e2  f807a004          STRB     r10,[r7,r4]           ;5526
0033e6  e004              B        |L1.13298|
                  |L1.13288|
0033e8  f809b004          STRB     r11,[r9,r4]           ;5531
0033ec  e001              B        |L1.13298|
                  |L1.13294|
0033ee  f8096004          STRB     r6,[r9,r4]            ;5546
                  |L1.13298|
0033f2  f8181004          LDRB     r1,[r8,r4]
0033f6  5d38              LDRB     r0,[r7,r4]
0033f8  4281              CMP      r1,r0
0033fa  d00e              BEQ      |L1.13338|
;;;5552   		{
;;;5553   		plazma_sk++;
0033fc  4a21              LDR      r2,|L1.13444|
0033fe  3a32              SUBS     r2,r2,#0x32
003400  8e11              LDRH     r1,[r2,#0x30]  ; plazma_sk
003402  f1010101          ADD      r1,r1,#1
003406  8611              STRH     r1,[r2,#0x30]
;;;5554   		if(sk_av_stat[i]==sasON)
003408  2801              CMP      r0,#1
00340a  d007              BEQ      |L1.13340|
;;;5555   			{
;;;5556   			if(i==0)snmp_trap_send("SK #1 Alarm",15,1,1);
;;;5557   			else if(i==1)snmp_trap_send("SK #2 Alarm",15,2,1);
;;;5558   			else if(i==2)snmp_trap_send("SK #3 Alarm",15,3,1);
;;;5559   			else if(i==3)snmp_trap_send("SK #4 Alarm",15,4,1);
;;;5560   			}
;;;5561   		else 
;;;5562   			{
;;;5563   			if(i==0)snmp_trap_send("SK #1 Alarm is off",15,1,0);
00340c  b354              CBZ      r4,|L1.13412|
;;;5564   			else if(i==1)snmp_trap_send("SK #2 Alarm is off",15,2,0);
00340e  2c01              CMP      r4,#1
003410  d072              BEQ      |L1.13560|
;;;5565   			else if(i==2)snmp_trap_send("SK #3 Alarm is off",15,3,0);
003412  2c02              CMP      r4,#2
003414  d077              BEQ      |L1.13574|
;;;5566   			else if(i==3)snmp_trap_send("SK #4 Alarm is off",15,4,0);
003416  2c03              CMP      r4,#3
003418  d07c              BEQ      |L1.13588|
                  |L1.13338|
00341a  e081              B        |L1.13600|
                  |L1.13340|
00341c  b134              CBZ      r4,|L1.13356|
00341e  2c01              CMP      r4,#1                 ;5557
003420  d00b              BEQ      |L1.13370|
003422  2c02              CMP      r4,#2                 ;5558
003424  d010              BEQ      |L1.13384|
003426  2c03              CMP      r4,#3                 ;5559
003428  d015              BEQ      |L1.13398|
00342a  e079              B        |L1.13600|
                  |L1.13356|
00342c  2301              MOVS     r3,#1                 ;5556
00342e  461a              MOV      r2,r3                 ;5556
003430  210f              MOVS     r1,#0xf               ;5556
003432  a01f              ADR      r0,|L1.13488|
003434  f7fffffe          BL       snmp_trap_send
003438  e072              B        |L1.13600|
                  |L1.13370|
00343a  2301              MOVS     r3,#1                 ;5557
00343c  2202              MOVS     r2,#2                 ;5557
00343e  210f              MOVS     r1,#0xf               ;5557
003440  a01e              ADR      r0,|L1.13500|
003442  f7fffffe          BL       snmp_trap_send
003446  e06b              B        |L1.13600|
                  |L1.13384|
003448  2301              MOVS     r3,#1                 ;5558
00344a  2203              MOVS     r2,#3                 ;5558
00344c  210f              MOVS     r1,#0xf               ;5558
00344e  a01e              ADR      r0,|L1.13512|
003450  f7fffffe          BL       snmp_trap_send
003454  e064              B        |L1.13600|
                  |L1.13398|
003456  2301              MOVS     r3,#1                 ;5559
003458  2204              MOVS     r2,#4                 ;5559
00345a  210f              MOVS     r1,#0xf               ;5559
00345c  a01d              ADR      r0,|L1.13524|
00345e  f7fffffe          BL       snmp_trap_send
003462  e05d              B        |L1.13600|
                  |L1.13412|
003464  2300              MOVS     r3,#0                 ;5563
003466  2201              MOVS     r2,#1                 ;5563
003468  210f              MOVS     r1,#0xf               ;5563
00346a  a01d              ADR      r0,|L1.13536|
00346c  f7fffffe          BL       snmp_trap_send
003470  e056              B        |L1.13600|
003472  e041              B        |L1.13560|
                  |L1.13428|
                          DCD      USIGN
                  |L1.13432|
                          DCD      bIBAT_SMKLBR
                  |L1.13436|
                          DCD      UB0
                  |L1.13440|
                          DCD      UB20
                  |L1.13444|
                          DCD      ||area_number.21||+0x32
                  |L1.13448|
                          DCD      NUMIST
                  |L1.13452|
                          DCD      sk_cnt
                  |L1.13456|
                          DCD      sk_stat
                  |L1.13460|
                          DCD      NUMSK
                  |L1.13464|
                          DCD      ||area_number.15||
                  |L1.13468|
                          DCD      ||.bss||+0x400
                  |L1.13472|
                          DCD      sk_av_cnt
                  |L1.13476|
                          DCD      sk_av_stat
                  |L1.13480|
                          DCD      sk_av_stat_old
                  |L1.13484|
                          DCD      SK_SIGN
                  |L1.13488|
0034b0  534b2023          DCB      "SK #1 Alarm",0
0034b4  3120416c
0034b8  61726d00
                  |L1.13500|
0034bc  534b2023          DCB      "SK #2 Alarm",0
0034c0  3220416c
0034c4  61726d00
                  |L1.13512|
0034c8  534b2023          DCB      "SK #3 Alarm",0
0034cc  3320416c
0034d0  61726d00
                  |L1.13524|
0034d4  534b2023          DCB      "SK #4 Alarm",0
0034d8  3420416c
0034dc  61726d00
                  |L1.13536|
0034e0  534b2023          DCB      "SK #1 Alarm is off",0
0034e4  3120416c
0034e8  61726d20
0034ec  6973206f
0034f0  666600  
0034f3  00                DCB      0
0034f4  e007              B        |L1.13574|
0034f6  e00d              B        |L1.13588|
                  |L1.13560|
0034f8  2300              MOVS     r3,#0                 ;5564
0034fa  2202              MOVS     r2,#2                 ;5564
0034fc  210f              MOVS     r1,#0xf               ;5564
0034fe  a0f6              ADR      r0,|L1.14552|
003500  f7fffffe          BL       snmp_trap_send
003504  e00c              B        |L1.13600|
                  |L1.13574|
003506  2300              MOVS     r3,#0                 ;5565
003508  2203              MOVS     r2,#3                 ;5565
00350a  210f              MOVS     r1,#0xf               ;5565
00350c  a0f7              ADR      r0,|L1.14572|
00350e  f7fffffe          BL       snmp_trap_send
003512  e005              B        |L1.13600|
                  |L1.13588|
003514  2300              MOVS     r3,#0
003516  2204              MOVS     r2,#4
003518  210f              MOVS     r1,#0xf
00351a  a0f9              ADR      r0,|L1.14592|
00351c  f7fffffe          BL       snmp_trap_send
                  |L1.13600|
;;;5567   			}
;;;5568   	 	}
;;;5569   #endif
;;;5570   
;;;5571   #ifdef UKU_KONTUR
;;;5572   	if(sk_av_stat_old[i]!=sk_av_stat[i])
;;;5573   		{
;;;5574   		plazma_sk++;
;;;5575   		if(sk_av_stat[i]==sasON)
;;;5576   			{
;;;5577   			if(i==0)snmp_trap_send("Door is opened",15,1,1);
;;;5578   			else if(i==1)snmp_trap_send("Smoke Alarm",15,2,1);
;;;5579   			else if(i==2)snmp_trap_send("Shock Sensor Alarm",15,3,1);
;;;5580   			else if(i==3)snmp_trap_send("SK #4 Alarm",15,4,1);
;;;5581   			}
;;;5582   		else 
;;;5583   			{
;;;5584   			if(i==0)snmp_trap_send("Door is closed",15,1,0);
;;;5585   			else if(i==1)snmp_trap_send("Smoke Alarm is off",15,2,0);
;;;5586   			else if(i==2)snmp_trap_send("Shock Sensor Alarm is off",15,3,0);
;;;5587   			else if(i==3)snmp_trap_send("SK #4 Alarm is off",15,4,0);
;;;5588   			}
;;;5589   	 	}
;;;5590   #endif
;;;5591   	sk_av_stat_old[i]=sk_av_stat[i];
003520  5d38              LDRB     r0,[r7,r4]
003522  f8080004          STRB     r0,[r8,r4]
003526  f1040401          ADD      r4,r4,#1              ;5517
00352a  b2e4              UXTB     r4,r4                 ;5517
                  |L1.13612|
00352c  48f9              LDR      r0,|L1.14612|
00352e  f9b00000          LDRSH    r0,[r0,#0]            ;5517  ; NUMSK
003532  4284              CMP      r4,r0                 ;5517
003534  f6ffaf33          BLT      |L1.13214|
;;;5592   	}
;;;5593   }
003538  e6f0              B        |L1.13084|
;;;5594   
                          ENDP

                  zar_superviser_start PROC
;;;5631   //-----------------------------------------------
;;;5632   void zar_superviser_start(void)
00353a  4af7              LDR      r2,|L1.14616|
;;;5633   {
;;;5634   sign_U[0]=1;
00353c  f04f0001          MOV      r0,#1
003540  7010              STRB     r0,[r2,#0]
;;;5635   sign_I[0]=1;
003542  49f6              LDR      r1,|L1.14620|
003544  7008              STRB     r0,[r1,#0]
;;;5636   sign_U[1]=1;
003546  7050              STRB     r0,[r2,#1]
;;;5637   sign_I[1]=1;
003548  7048              STRB     r0,[r1,#1]
;;;5638   
;;;5639   }
00354a  4770              BX       lr
;;;5640   
                          ENDP

                  zar_superviser_drv PROC
;;;5596   //-----------------------------------------------
;;;5597   void zar_superviser_drv(void)
00354c  e92d5ff0          PUSH     {r4-r12,lr}
;;;5598   {
;;;5599   
;;;5600   if(((bat[0]._Ub>u_necc_up) || (bat[0]._Ub<u_necc_dn))&&(main_kb_cnt<((TBAT*60)-30))&&(main_kb_cnt>((TBAT*60)-150))) sign_U[0]=0;
003550  48f4              LDR      r0,|L1.14628|
003552  f8df93d4          LDR      r9,|L1.14632|
003556  f8df83c8          LDR      r8,|L1.14624|
00355a  f9b0c000          LDRSH    r12,[r0,#0]  ; u_necc_up
00355e  f9b90000          LDRSH    r0,[r9,#0]
003562  4cf2              LDR      r4,|L1.14636|
003564  ebc01100          RSB      r1,r0,r0,LSL #4
003568  f9b87002          LDRSH    r7,[r8,#2]  ; bat
00356c  f06f0a1d          MVN      r10,#0x1d
003570  f06f0b95          MVN      r11,#0x95
003574  2500              MOVS     r5,#0
003576  4ee8              LDR      r6,|L1.14616|
003578  f9b4003a          LDRSH    r0,[r4,#0x3a]
00357c  eb0a0281          ADD      r2,r10,r1,LSL #2
003580  eb0b0381          ADD      r3,r11,r1,LSL #2
003584  4567              CMP      r7,r12
003586  dc05              BGT      |L1.13716|
003588  f8dfc3a4          LDR      r12,|L1.14640|
00358c  f9bcc000          LDRSH    r12,[r12,#0]  ; u_necc_dn
003590  4567              CMP      r7,r12
003592  da04              BGE      |L1.13726|
                  |L1.13716|
003594  4282              CMP      r2,r0
003596  dd02              BLE      |L1.13726|
003598  4283              CMP      r3,r0
00359a  da00              BGE      |L1.13726|
00359c  7035              STRB     r5,[r6,#0]
                  |L1.13726|
;;;5601   
;;;5602   if(((bat[0]._Ib>(2*IKB)) || (bat[0]._Ib<(-IKB*2))) &&(main_kb_cnt<((TBAT*60)-30))&&(main_kb_cnt>((TBAT*60)-150))) sign_I[0]=0;
00359e  4fe5              LDR      r7,|L1.14644|
0035a0  f9b8c008          LDRSH    r12,[r8,#8]  ; bat
0035a4  f9b7e000          LDRSH    lr,[r7,#0]  ; IKB
0035a8  4fdc              LDR      r7,|L1.14620|
0035aa  ebbc0f4e          CMP      r12,lr,LSL #1
0035ae  dc04              BGT      |L1.13754|
0035b0  f1ce0e00          RSB      lr,lr,#0
0035b4  ebbc0f4e          CMP      r12,lr,LSL #1
0035b8  da04              BGE      |L1.13764|
                  |L1.13754|
0035ba  4282              CMP      r2,r0
0035bc  dd02              BLE      |L1.13764|
0035be  4283              CMP      r3,r0
0035c0  da00              BGE      |L1.13764|
0035c2  703d              STRB     r5,[r7,#0]
                  |L1.13764|
;;;5603   																 
;;;5604   if((main_kb_cnt==((TBAT*60)-10)) &&(spc_stat==spcOFF))
0035c4  f06f0209          MVN      r2,#9
0035c8  eb020181          ADD      r1,r2,r1,LSL #2
0035cc  4281              CMP      r1,r0
0035ce  d120              BNE      |L1.13842|
0035d0  7ce0              LDRB     r0,[r4,#0x13]  ; spc_stat
0035d2  b9f0              CBNZ     r0,|L1.13842|
;;;5605   	{
;;;5606   	if((sign_U[0]==1) && (sign_I[0]==1) && (lc640_read_int(EE_BAT1_ZAR_CNT)!=BAT_C_REAL[0]) && (NUMBAT) && (!(bat[0]._av&1)))
0035d4  7830              LDRB     r0,[r6,#0]  ; sign_U
0035d6  2801              CMP      r0,#1
0035d8  d11b              BNE      |L1.13842|
0035da  7838              LDRB     r0,[r7,#0]  ; sign_I
0035dc  2801              CMP      r0,#1
0035de  d118              BNE      |L1.13842|
0035e0  f44f70d6          MOV      r0,#0x1ac
0035e4  f7fffffe          BL       lc640_read_int
0035e8  49d3              LDR      r1,|L1.14648|
0035ea  f9b11000          LDRSH    r1,[r1,#0]  ; BAT_C_REAL
0035ee  4288              CMP      r0,r1
0035f0  d00f              BEQ      |L1.13842|
0035f2  48d2              LDR      r0,|L1.14652|
0035f4  8800              LDRH     r0,[r0,#0]  ; NUMBAT
0035f6  b160              CBZ      r0,|L1.13842|
0035f8  f898003d          LDRB     r0,[r8,#0x3d]  ; bat
0035fc  07c0              LSLS     r0,r0,#31
0035fe  d108              BNE      |L1.13842|
;;;5607   		{
;;;5608   		lc640_write_int(EE_BAT1_ZAR_CNT,BAT_C_REAL[0]);
003600  f44f70d6          MOV      r0,#0x1ac
003604  f7fffffe          BL       lc640_write_int
;;;5609   		superviser_cnt++;
003608  48cd              LDR      r0,|L1.14656|
00360a  7801              LDRB     r1,[r0,#0]  ; superviser_cnt
00360c  f1010101          ADD      r1,r1,#1
003610  7001              STRB     r1,[r0,#0]
                  |L1.13842|
;;;5610   		}
;;;5611   	
;;;5612   	}
;;;5613   
;;;5614   if(((bat[0]._Ub>u_necc_up) || (bat[1]._Ub<u_necc_dn))&&(main_kb_cnt<((TBAT*60)-30))&&(main_kb_cnt>((TBAT*60)-150))) sign_U[1]=0;
003612  48c4              LDR      r0,|L1.14628|
003614  f9b81002          LDRSH    r1,[r8,#2]  ; bat
003618  f9b00000          LDRSH    r0,[r0,#0]  ; u_necc_up
00361c  4281              CMP      r1,r0
00361e  dc06              BGT      |L1.13870|
003620  48c3              LDR      r0,|L1.14640|
003622  f9b8104e          LDRSH    r1,[r8,#0x4e]  ; bat
003626  f9b00000          LDRSH    r0,[r0,#0]  ; u_necc_dn
00362a  4281              CMP      r1,r0
00362c  da0e              BGE      |L1.13900|
                  |L1.13870|
00362e  f9b90000          LDRSH    r0,[r9,#0]  ; TBAT
003632  f9b4103a          LDRSH    r1,[r4,#0x3a]  ; main_kb_cnt
003636  ebc01000          RSB      r0,r0,r0,LSL #4
00363a  eb0a0280          ADD      r2,r10,r0,LSL #2
00363e  428a              CMP      r2,r1
003640  dd04              BLE      |L1.13900|
003642  eb0b0080          ADD      r0,r11,r0,LSL #2
003646  4288              CMP      r0,r1
003648  da00              BGE      |L1.13900|
00364a  7075              STRB     r5,[r6,#1]
                  |L1.13900|
;;;5615   
;;;5616   if(((bat[1]._Ib>(2*IKB)) || (bat[1]._Ib<(-IKB*2))) &&(main_kb_cnt<((TBAT*60)-30))&&(main_kb_cnt>((TBAT*60)-150))) sign_I[1]=0;
00364c  49b9              LDR      r1,|L1.14644|
00364e  f9b80054          LDRSH    r0,[r8,#0x54]  ; bat
003652  f9b11000          LDRSH    r1,[r1,#0]  ; IKB
003656  ebb00f41          CMP      r0,r1,LSL #1
00365a  dc03              BGT      |L1.13924|
00365c  4249              RSBS     r1,r1,#0
00365e  ebb00f41          CMP      r0,r1,LSL #1
003662  da0e              BGE      |L1.13954|
                  |L1.13924|
003664  f9b90000          LDRSH    r0,[r9,#0]  ; TBAT
003668  f9b4103a          LDRSH    r1,[r4,#0x3a]  ; main_kb_cnt
00366c  ebc01000          RSB      r0,r0,r0,LSL #4
003670  eb0a0280          ADD      r2,r10,r0,LSL #2
003674  428a              CMP      r2,r1
003676  dd04              BLE      |L1.13954|
003678  eb0b0080          ADD      r0,r11,r0,LSL #2
00367c  4288              CMP      r0,r1
00367e  da00              BGE      |L1.13954|
003680  707d              STRB     r5,[r7,#1]
                  |L1.13954|
;;;5617   																 
;;;5618   if((main_kb_cnt==((TBAT*60)-10)) &&(spc_stat==spcOFF))
003682  f9b90000          LDRSH    r0,[r9,#0]  ; TBAT
003686  ebc01100          RSB      r1,r0,r0,LSL #4
00368a  f06f0009          MVN      r0,#9
00368e  eb000081          ADD      r0,r0,r1,LSL #2
003692  f9b4103a          LDRSH    r1,[r4,#0x3a]  ; main_kb_cnt
003696  4288              CMP      r0,r1
003698  d121              BNE      |L1.14046|
00369a  7ce0              LDRB     r0,[r4,#0x13]  ; spc_stat
00369c  b9f8              CBNZ     r0,|L1.14046|
;;;5619   	{
;;;5620   	if((sign_U[1]==1) && (sign_I[1]==1) && (lc640_read_int(EE_BAT2_ZAR_CNT)!=BAT_C_REAL[1]) && (NUMBAT==2) && (!(bat[1]._av&1)))
00369e  7870              LDRB     r0,[r6,#1]  ; sign_U
0036a0  2801              CMP      r0,#1
0036a2  d11c              BNE      |L1.14046|
0036a4  7878              LDRB     r0,[r7,#1]  ; sign_I
0036a6  2801              CMP      r0,#1
0036a8  d119              BNE      |L1.14046|
0036aa  f44f75e5          MOV      r5,#0x1ca
0036ae  4628              MOV      r0,r5
0036b0  f7fffffe          BL       lc640_read_int
0036b4  49a0              LDR      r1,|L1.14648|
0036b6  f9b11002          LDRSH    r1,[r1,#2]  ; BAT_C_REAL
0036ba  4288              CMP      r0,r1
0036bc  d00f              BEQ      |L1.14046|
0036be  489f              LDR      r0,|L1.14652|
0036c0  8800              LDRH     r0,[r0,#0]  ; NUMBAT
0036c2  2802              CMP      r0,#2
0036c4  d10b              BNE      |L1.14046|
0036c6  f8980089          LDRB     r0,[r8,#0x89]  ; bat
0036ca  07c0              LSLS     r0,r0,#31
0036cc  d107              BNE      |L1.14046|
;;;5621   		{
;;;5622   		lc640_write_int(EE_BAT2_ZAR_CNT,BAT_C_REAL[1]);
0036ce  4628              MOV      r0,r5
0036d0  f7fffffe          BL       lc640_write_int
;;;5623   		superviser_cnt++;
0036d4  489a              LDR      r0,|L1.14656|
0036d6  7801              LDRB     r1,[r0,#0]  ; superviser_cnt
0036d8  f1010101          ADD      r1,r1,#1
0036dc  7001              STRB     r1,[r0,#0]
                  |L1.14046|
;;;5624   		}
;;;5625   	
;;;5626   	}
;;;5627   
;;;5628   if(main_kb_cnt==((TBAT*60)-2)) zar_superviser_start();
0036de  f9b90000          LDRSH    r0,[r9,#0]  ; TBAT
0036e2  f06f0101          MVN      r1,#1
0036e6  ebc01000          RSB      r0,r0,r0,LSL #4
0036ea  eb010080          ADD      r0,r1,r0,LSL #2
0036ee  f9b4103a          LDRSH    r1,[r4,#0x3a]  ; main_kb_cnt
0036f2  4288              CMP      r0,r1
0036f4  d102              BNE      |L1.14076|
0036f6  e8bd5ff0          POP      {r4-r12,lr}
0036fa  e7fe              B        zar_superviser_start
                  |L1.14076|
;;;5629   }
0036fc  e60e              B        |L1.13084|
;;;5630   
                          ENDP

                  npn_hndl PROC
;;;5641   //-----------------------------------------------
;;;5642   void npn_hndl(void)
0036fe  e92d03f0          PUSH     {r4-r9}
;;;5643   {
;;;5644   if(NPN_OUT!=npnoOFF)
003702  4890              LDR      r0,|L1.14660|
;;;5645   	{
;;;5646   /*	if(NPN_SIGN==npnsAVNET)
;;;5647   		{
;;;5648   		if(net_av==1)
;;;5649   			{
;;;5650   			if(npn_tz_cnt<TZNPN)
;;;5651   				{
;;;5652   				npn_tz_cnt++;
;;;5653   				if(npn_tz_cnt==TZNPN)
;;;5654   					{
;;;5655   					npn_stat=npnsOFF;
;;;5656   					}
;;;5657   				}
;;;5658   			}
;;;5659   		else
;;;5660   			{
;;;5661   			if(npn_tz_cnt)
;;;5662   				{
;;;5663   				npn_tz_cnt--;
;;;5664   				if(npn_tz_cnt==0)
;;;5665   					{
;;;5666   					npn_stat=npnsON;
;;;5667   					}
;;;5668   				}
;;;5669   			}
;;;5670   		}*/
;;;5671   /*	if(NPN_SIGN==npnsULOAD)
;;;5672   		{
;;;5673   		if(load_U<UONPN)
;;;5674   			{
;;;5675   			if(npn_tz_cnt<TZNPN)
;;;5676   				{
;;;5677   				npn_tz_cnt++;
;;;5678   				if(npn_tz_cnt==TZNPN)
;;;5679   					{
;;;5680   					npn_stat=npnsOFF;
;;;5681   					}
;;;5682   				}
;;;5683   			}
;;;5684   		else if(load_U>UVNPN)
;;;5685   			{
;;;5686   			if(npn_tz_cnt)
;;;5687   				{
;;;5688   				npn_tz_cnt--;
;;;5689   				if(npn_tz_cnt==0)
;;;5690   					{
;;;5691   					npn_stat=npnsON;
;;;5692   					}
;;;5693   				}
;;;5694   			}
;;;5695   		}*/
;;;5696   
;;;5697   	if((load_U<UONPN)&&((net_Ua<UMN)||(net_Ub<UMN)||(net_Uc<UMN)))
;;;5698   		{
;;;5699   		if(npn_tz_cnt<TZNPN)
003704  4f90              LDR      r7,|L1.14664|
;;;5700   			{
;;;5701   			npn_tz_cnt++;
;;;5702   			if(npn_tz_cnt==TZNPN)
;;;5703   				{
;;;5704   				npn_stat=npnsOFF;
003706  4e91              LDR      r6,|L1.14668|
003708  7800              LDRB     r0,[r0,#0]            ;5644  ; NPN_OUT
00370a  f04f0c00          MOV      r12,#0                ;5644
;;;5705   				}
;;;5706   			}
;;;5707   		}
;;;5708   	else if((load_U>UVNPN)&&(net_Ua>UMN)&&(net_Ub>UMN)&&(net_Uc>UMN))
;;;5709   		{
;;;5710   		if(npn_tz_cnt)
;;;5711   			{
;;;5712   			npn_tz_cnt--;
;;;5713   			if(npn_tz_cnt==0)
;;;5714   				{
;;;5715   				npn_stat=npnsON;
00370e  f04f0801          MOV      r8,#1
003712  b3e8              CBZ      r0,|L1.14224|
003714  488e              LDR      r0,|L1.14672|
003716  4639              MOV      r1,r7                 ;5699
003718  f9b05000          LDRSH    r5,[r0,#0]            ;5697  ; load_U
00371c  488d              LDR      r0,|L1.14676|
00371e  f9b11000          LDRSH    r1,[r1,#0]            ;5699
003722  f9b09000          LDRSH    r9,[r0,#0]            ;5697  ; UONPN
003726  488c              LDR      r0,|L1.14680|
003728  454d              CMP      r5,r9                 ;5697
00372a  f9b02000          LDRSH    r2,[r0,#0]            ;5697
00372e  488b              LDR      r0,|L1.14684|
003730  f9b03000          LDRSH    r3,[r0,#0]            ;5697
003734  488a              LDR      r0,|L1.14688|
003736  f9b04000          LDRSH    r4,[r0,#0]            ;5697
00373a  488a              LDR      r0,|L1.14692|
00373c  f9b00000          LDRSH    r0,[r0,#0]            ;5697
003740  da13              BGE      |L1.14186|
003742  4282              CMP      r2,r0                 ;5697
003744  db03              BLT      |L1.14158|
003746  4283              CMP      r3,r0                 ;5697
003748  db01              BLT      |L1.14158|
00374a  4284              CMP      r4,r0                 ;5697
00374c  da0d              BGE      |L1.14186|
                  |L1.14158|
00374e  4886              LDR      r0,|L1.14696|
003750  f9b02000          LDRSH    r2,[r0,#0]            ;5699  ; TZNPN
003754  4291              CMP      r1,r2                 ;5699
003756  da23              BGE      |L1.14240|
003758  f1010101          ADD      r1,r1,#1              ;5701
00375c  b208              SXTH     r0,r1                 ;5701
00375e  8038              STRH     r0,[r7,#0]            ;5701
003760  4290              CMP      r0,r2                 ;5702
003762  d11d              BNE      |L1.14240|
003764  f886c000          STRB     r12,[r6,#0]           ;5704
003768  e01a              B        |L1.14240|
                  |L1.14186|
00376a  f8dfc200          LDR      r12,|L1.14700|
00376e  f9bcc000          LDRSH    r12,[r12,#0]          ;5708  ; UVNPN
003772  4565              CMP      r5,r12                ;5708
003774  dd14              BLE      |L1.14240|
003776  4282              CMP      r2,r0                 ;5708
003778  dd12              BLE      |L1.14240|
00377a  4283              CMP      r3,r0                 ;5708
00377c  dd10              BLE      |L1.14240|
00377e  4284              CMP      r4,r0                 ;5708
003780  dd0e              BLE      |L1.14240|
003782  b169              CBZ      r1,|L1.14240|
003784  f1a10101          SUB      r1,r1,#1              ;5712
003788  b208              SXTH     r0,r1                 ;5712
00378a  8038              STRH     r0,[r7,#0]            ;5712
00378c  b940              CBNZ     r0,|L1.14240|
00378e  e000              B        |L1.14226|
                  |L1.14224|
003790  e002              B        |L1.14232|
                  |L1.14226|
003792  f8868000          STRB     r8,[r6,#0]
003796  e003              B        |L1.14240|
                  |L1.14232|
;;;5716   				}
;;;5717   			}
;;;5718   		}
;;;5719   	}
;;;5720   else
;;;5721   	{
;;;5722   	npn_tz_cnt=0;
003798  f8a7c000          STRH     r12,[r7,#0]
;;;5723   	npn_stat=npnsON;
00379c  f8868000          STRB     r8,[r6,#0]
                  |L1.14240|
;;;5724   	}
;;;5725   
;;;5726   if(npn_stat==npnsOFF) mess_send(MESS2RELE_HNDL,PARAM_RELE_NPN,1,15);
0037a0  7830              LDRB     r0,[r6,#0]  ; npn_stat
0037a2  2800              CMP      r0,#0
0037a4  d107              BNE      |L1.14262|
0037a6  e8bd03f0          POP      {r4-r9}
0037aa  230f              MOVS     r3,#0xf
0037ac  2201              MOVS     r2,#1
0037ae  216e              MOVS     r1,#0x6e
0037b0  20d2              MOVS     r0,#0xd2
0037b2  f7ffbffe          B.W      mess_send
                  |L1.14262|
;;;5727   
;;;5728   
;;;5729   }
0037b6  e8bd03f0          POP      {r4-r9}
0037ba  4770              BX       lr
;;;5730   
                          ENDP

                  speedChargeHndl PROC
;;;5731   //-----------------------------------------------
;;;5732   void speedChargeHndl(void)
0037bc  b5f8              PUSH     {r3-r7,lr}
;;;5733   {
;;;5734   if(speedChIsOn)
0037be  4f6c              LDR      r7,|L1.14704|
;;;5735   	{
;;;5736   	speedChTimeCnt++;
;;;5737   	if(speedChTimeCnt>=((signed long)speedChrgTimeInHour*3600L))
;;;5738   		{
;;;5739   		speedChIsOn=0;
;;;5740   		}
;;;5741   	if(speedChrgBlckStat)
0037c0  4d6c              LDR      r5,|L1.14708|
0037c2  2400              MOVS     r4,#0                 ;5734
0037c4  8838              LDRH     r0,[r7,#0]            ;5734  ; speedChIsOn
0037c6  b198              CBZ      r0,|L1.14320|
0037c8  4a6b              LDR      r2,|L1.14712|
0037ca  6811              LDR      r1,[r2,#0]            ;5736  ; speedChTimeCnt
0037cc  f1010101          ADD      r1,r1,#1              ;5736
0037d0  6011              STR      r1,[r2,#0]            ;5736  ; speedChTimeCnt
0037d2  486a              LDR      r0,|L1.14716|
0037d4  f9b00000          LDRSH    r0,[r0,#0]            ;5737  ; speedChrgTimeInHour
0037d8  ebc01340          RSB      r3,r0,r0,LSL #5       ;5737
0037dc  ebc32000          RSB      r0,r3,r0,LSL #8       ;5737
0037e0  ebb11f00          CMP      r1,r0,LSL #4          ;5737
0037e4  db00              BLT      |L1.14312|
0037e6  803c              STRH     r4,[r7,#0]            ;5739
                  |L1.14312|
0037e8  8828              LDRH     r0,[r5,#0]  ; speedChrgBlckStat
0037ea  b108              CBZ      r0,|L1.14320|
;;;5742   		{
;;;5743   		speedChIsOn=0;
0037ec  803c              STRH     r4,[r7,#0]
;;;5744   		speedChTimeCnt=0;
0037ee  6014              STR      r4,[r2,#0]  ; speedChTimeCnt
                  |L1.14320|
;;;5745   		}
;;;5746   	}
;;;5747   
;;;5748   
;;;5749   
;;;5750   if(speedChrgAvtEn)
0037f0  4863              LDR      r0,|L1.14720|
;;;5751   	{
;;;5752   	if(!speedChIsOn)
;;;5753   		{
;;;5754   		if((load_U<u_necc)&&((u_necc-load_U)>speedChrgDU)&&(abs(Ib_ips_termokompensat/10-IZMAX)<5)&&(!speedChrgBlckStat))
;;;5755   			{
;;;5756   			speedChIsOn=1;
0037f2  2601              MOVS     r6,#1
0037f4  8800              LDRH     r0,[r0,#0]            ;5750  ; speedChrgAvtEn
0037f6  b300              CBZ      r0,|L1.14394|
0037f8  8838              LDRH     r0,[r7,#0]            ;5752  ; speedChIsOn
0037fa  b9f0              CBNZ     r0,|L1.14394|
0037fc  4854              LDR      r0,|L1.14672|
0037fe  4961              LDR      r1,|L1.14724|
003800  f9b00000          LDRSH    r0,[r0,#0]            ;5754  ; load_U
003804  f9b11000          LDRSH    r1,[r1,#0]            ;5754  ; u_necc
003808  4288              CMP      r0,r1                 ;5754
00380a  da16              BGE      |L1.14394|
00380c  1a08              SUBS     r0,r1,r0              ;5754
00380e  495e              LDR      r1,|L1.14728|
003810  f9b11000          LDRSH    r1,[r1,#0]            ;5754  ; speedChrgDU
003814  4288              CMP      r0,r1                 ;5754
003816  dd10              BLE      |L1.14394|
003818  485c              LDR      r0,|L1.14732|
00381a  210a              MOVS     r1,#0xa               ;5754
00381c  f9b00000          LDRSH    r0,[r0,#0]            ;5754  ; Ib_ips_termokompensat
003820  fb90f0f1          SDIV     r0,r0,r1              ;5754
003824  495a              LDR      r1,|L1.14736|
003826  8809              LDRH     r1,[r1,#0]            ;5754  ; IZMAX
003828  1a40              SUBS     r0,r0,r1              ;5754
00382a  b200              SXTH     r0,r0                 ;5754
00382c  f7fffffe          BL       abs
003830  2805              CMP      r0,#5                 ;5754
003832  da02              BGE      |L1.14394|
003834  8828              LDRH     r0,[r5,#0]            ;5754  ; speedChrgBlckStat
003836  b900              CBNZ     r0,|L1.14394|
003838  803e              STRH     r6,[r7,#0]
                  |L1.14394|
;;;5757   			}
;;;5758   		}
;;;5759   	}
;;;5760   
;;;5761   
;;;5762   
;;;5763   if((speedChrgBlckSrc!=1)&&(speedChrgBlckSrc!=2)) speedChrgBlckStat=0;
00383a  4856              LDR      r0,|L1.14740|
00383c  f9b00000          LDRSH    r0,[r0,#0]  ; speedChrgBlckSrc
003840  2801              CMP      r0,#1
003842  d003              BEQ      |L1.14412|
003844  2802              CMP      r0,#2
003846  d001              BEQ      |L1.14412|
003848  802c              STRH     r4,[r5,#0]
00384a  e026              B        |L1.14490|
                  |L1.14412|
;;;5764   else
;;;5765   	{
;;;5766   	speedChrgBlckStat=0;
00384c  802c              STRH     r4,[r5,#0]
;;;5767   	if(speedChrgBlckSrc==1)
;;;5768   		{
;;;5769   		if(((speedChrgBlckLog==0)&&(adc_buff_[11]>2000)) || ((speedChrgBlckLog==1)&&(adc_buff_[11]<2000))) speedChrgBlckStat=1;
00384e  4b52              LDR      r3,|L1.14744|
003850  4952              LDR      r1,|L1.14748|
003852  f44f62fa          MOV      r2,#0x7d0
003856  2801              CMP      r0,#1                 ;5767
003858  d002              BEQ      |L1.14432|
;;;5770   		}
;;;5771   	else if(speedChrgBlckSrc==2)
00385a  2802              CMP      r0,#2
00385c  d00f              BEQ      |L1.14462|
00385e  e01c              B        |L1.14490|
                  |L1.14432|
003860  f9b30000          LDRSH    r0,[r3,#0]            ;5769  ; speedChrgBlckLog
003864  b918              CBNZ     r0,|L1.14446|
003866  f9b13016          LDRSH    r3,[r1,#0x16]         ;5769  ; adc_buff_
00386a  4293              CMP      r3,r2                 ;5769
00386c  dc05              BGT      |L1.14458|
                  |L1.14446|
00386e  2801              CMP      r0,#1                 ;5769
003870  d113              BNE      |L1.14490|
003872  f9b10016          LDRSH    r0,[r1,#0x16]         ;5769  ; adc_buff_
003876  4290              CMP      r0,r2                 ;5769
003878  da0f              BGE      |L1.14490|
                  |L1.14458|
00387a  802e              STRH     r6,[r5,#0]            ;5769
00387c  e00d              B        |L1.14490|
                  |L1.14462|
;;;5772   		{
;;;5773   		if(((speedChrgBlckLog==0)&&(adc_buff_[13]>2000)) || ((speedChrgBlckLog==1)&&(adc_buff_[13]<2000))) speedChrgBlckStat=1;
00387e  f9b30000          LDRSH    r0,[r3,#0]  ; speedChrgBlckLog
003882  b918              CBNZ     r0,|L1.14476|
003884  f9b1301a          LDRSH    r3,[r1,#0x1a]  ; adc_buff_
003888  4293              CMP      r3,r2
00388a  dc05              BGT      |L1.14488|
                  |L1.14476|
00388c  2801              CMP      r0,#1
00388e  d104              BNE      |L1.14490|
003890  f9b1001a          LDRSH    r0,[r1,#0x1a]  ; adc_buff_
003894  4290              CMP      r0,r2
003896  da00              BGE      |L1.14490|
                  |L1.14488|
003898  802e              STRH     r6,[r5,#0]
                  |L1.14490|
;;;5774   		}
;;;5775   	}
;;;5776   
;;;5777   
;;;5778   if(speedChrgBlckStat==1)
00389a  8828              LDRH     r0,[r5,#0]  ; speedChrgBlckStat
;;;5779   	{
;;;5780   
;;;5781   	//speedChargeStartStop();
;;;5782   
;;;5783   	speedChrgShowCnt++;
00389c  4940              LDR      r1,|L1.14752|
00389e  2801              CMP      r0,#1                 ;5778
0038a0  d001              BEQ      |L1.14502|
;;;5784   	if(speedChrgShowCnt>=30)	
;;;5785   		{
;;;5786   		speedChrgShowCnt=0;
;;;5787   		show_mess(	"          ",
;;;5788   					"               ",
;;;5789   					"     !!!    ",
;;;5790   					"                    ",
;;;5791   					5000);
;;;5792   		}
;;;5793   	}
;;;5794   else speedChrgShowCnt=0;
0038a2  700c              STRB     r4,[r1,#0]
                  |L1.14500|
;;;5795   
;;;5796   
;;;5797   }
0038a4  bdf8              POP      {r3-r7,pc}
                  |L1.14502|
0038a6  7808              LDRB     r0,[r1,#0]            ;5783  ; speedChrgShowCnt
0038a8  f1000001          ADD      r0,r0,#1              ;5783
0038ac  b2c0              UXTB     r0,r0                 ;5783
0038ae  7008              STRB     r0,[r1,#0]            ;5783
0038b0  281e              CMP      r0,#0x1e              ;5784
0038b2  d3f7              BCC      |L1.14500|
0038b4  700c              STRB     r4,[r1,#0]            ;5786
0038b6  f2413088          MOV      r0,#0x1388            ;5787
0038ba  9000              STR      r0,[sp,#0]            ;5787
0038bc  a339              ADR      r3,|L1.14756|
0038be  a23f              ADR      r2,|L1.14780|
0038c0  a144              ADR      r1,|L1.14804|
0038c2  a04a              ADR      r0,|L1.14828|
0038c4  f7fffffe          BL       show_mess
0038c8  bdf8              POP      {r3-r7,pc}
;;;5798   
                          ENDP

                  speedChargeStartStop PROC
;;;5799   //-----------------------------------------------
;;;5800   void speedChargeStartStop(void)
0038ca  4829              LDR      r0,|L1.14704|
;;;5801   {
;;;5802   if(speedChIsOn)
0038cc  2100              MOVS     r1,#0
0038ce  8802              LDRH     r2,[r0,#0]  ; speedChIsOn
0038d0  b10a              CBZ      r2,|L1.14550|
;;;5803   	{
;;;5804   	speedChIsOn=0;
0038d2  8001              STRH     r1,[r0,#0]
                  |L1.14548|
;;;5805   	}
;;;5806   
;;;5807   else	if(speedChrgBlckStat==0)
;;;5808   	{
;;;5809   	speedChIsOn=1;
;;;5810   	speedChTimeCnt=0;
;;;5811   	} 
;;;5812   
;;;5813   }
0038d4  4770              BX       lr
                  |L1.14550|
0038d6  e095              B        |L1.14852|
                  |L1.14552|
0038d8  534b2023          DCB      "SK #2 Alarm is off",0
0038dc  3220416c
0038e0  61726d20
0038e4  6973206f
0038e8  666600  
0038eb  00                DCB      0
                  |L1.14572|
0038ec  534b2023          DCB      "SK #3 Alarm is off",0
0038f0  3320416c
0038f4  61726d20
0038f8  6973206f
0038fc  666600  
0038ff  00                DCB      0
                  |L1.14592|
003900  534b2023          DCB      "SK #4 Alarm is off",0
003904  3420416c
003908  61726d20
00390c  6973206f
003910  666600  
003913  00                DCB      0
                  |L1.14612|
                          DCD      NUMSK
                  |L1.14616|
                          DCD      sign_U
                  |L1.14620|
                          DCD      sign_I
                  |L1.14624|
                          DCD      bat
                  |L1.14628|
                          DCD      u_necc_up
                  |L1.14632|
                          DCD      TBAT
                  |L1.14636|
                          DCD      ||area_number.21||
                  |L1.14640|
                          DCD      u_necc_dn
                  |L1.14644|
                          DCD      IKB
                  |L1.14648|
                          DCD      BAT_C_REAL
                  |L1.14652|
                          DCD      NUMBAT
                  |L1.14656|
                          DCD      superviser_cnt
                  |L1.14660|
                          DCD      NPN_OUT
                  |L1.14664|
                          DCD      npn_tz_cnt
                  |L1.14668|
                          DCD      npn_stat
                  |L1.14672|
                          DCD      load_U
                  |L1.14676|
                          DCD      UONPN
                  |L1.14680|
                          DCD      net_Ua
                  |L1.14684|
                          DCD      net_Ub
                  |L1.14688|
                          DCD      net_Uc
                  |L1.14692|
                          DCD      UMN
                  |L1.14696|
                          DCD      TZNPN
                  |L1.14700|
                          DCD      UVNPN
                  |L1.14704|
                          DCD      speedChIsOn
                  |L1.14708|
                          DCD      speedChrgBlckStat
                  |L1.14712|
                          DCD      speedChTimeCnt
                  |L1.14716|
                          DCD      speedChrgTimeInHour
                  |L1.14720|
                          DCD      speedChrgAvtEn
                  |L1.14724|
                          DCD      u_necc
                  |L1.14728|
                          DCD      speedChrgDU
                  |L1.14732|
                          DCD      Ib_ips_termokompensat
                  |L1.14736|
                          DCD      IZMAX
                  |L1.14740|
                          DCD      speedChrgBlckSrc
                  |L1.14744|
                          DCD      speedChrgBlckLog
                  |L1.14748|
                          DCD      ||.bss||+0x400
                  |L1.14752|
                          DCD      speedChrgShowCnt
                  |L1.14756|
0039a4  20202020          DCB      "                    ",0
0039a8  20202020
0039ac  20202020
0039b0  20202020
0039b4  20202020
0039b8  00      
0039b9  00                DCB      0
0039ba  00                DCB      0
0039bb  00                DCB      0
                  |L1.14780|
0039bc  20202020          DCB      "     ",199,192,207,208,197,217,197,205,"!!!    ",0
0039c0  20c7c0cf
0039c4  d0c5d9c5
0039c8  cd212121
0039cc  20202020
0039d0  00      
0039d1  00                DCB      0
0039d2  00                DCB      0
0039d3  00                DCB      0
                  |L1.14804|
0039d4  20202020          DCB      "       ",199,192,208,223,196,"        ",0
0039d8  202020c7
0039dc  c0d0dfc4
0039e0  20202020
0039e4  20202020
0039e8  00      
0039e9  00                DCB      0
0039ea  00                DCB      0
0039eb  00                DCB      0
                  |L1.14828|
0039ec  20202020          DCB      "     ",211,209,202,206,208,197,205,205,219,201,"     ",0
0039f0  20d3d1ca
0039f4  ced0c5cd
0039f8  cddbc920
0039fc  20202020
003a00  00      
003a01  00                DCB      0
003a02  00                DCB      0
003a03  00                DCB      0
                  |L1.14852|
003a04  4ab2              LDR      r2,|L1.15568|
003a06  8812              LDRH     r2,[r2,#0]            ;5807  ; speedChrgBlckStat
003a08  2a00              CMP      r2,#0                 ;5807
003a0a  f47faf63          BNE      |L1.14548|
003a0e  f04f0201          MOV      r2,#1                 ;5809
003a12  8002              STRH     r2,[r0,#0]            ;5809
003a14  48af              LDR      r0,|L1.15572|
003a16  6001              STR      r1,[r0,#0]            ;5810  ; speedChTimeCnt
003a18  e75c              B        |L1.14548|
;;;5814   
                          ENDP

                  vent_hndl PROC
;;;5816   //-----------------------------------------------
;;;5817   void vent_hndl(void)
003a1a  e92d4ff0          PUSH     {r4-r11,lr}
;;;5818   {
003a1e  b087              SUB      sp,sp,#0x1c
;;;5819   if(RELEVENTSIGN==rvsAKB)
003a20  48ad              LDR      r0,|L1.15576|
;;;5820   	{
;;;5821   	if(vent_stat==0)
003a22  4cae              LDR      r4,|L1.15580|
;;;5822   		{
;;;5823   		if	(
;;;5824   			(BAT_IS_ON[0]==bisON)&&((bat[0]._Tb>TVENTON)||(bat[0]._nd))
003a24  49ae              LDR      r1,|L1.15584|
;;;5825   			||
;;;5826   			(BAT_IS_ON[1]==bisON)&&((bat[1]._Tb>TVENTON)||(bat[1]._nd))
;;;5827   			)
;;;5828   			{
;;;5829   			vent_stat=1;
;;;5830   			}
;;;5831   		}
;;;5832   	else if(vent_stat==1)
;;;5833   		{
;;;5834   		if	(
;;;5835   			((BAT_IS_ON[0]!=bisON)||((BAT_IS_ON[0]==bisON)&&(bat[0]._Tb<TVENTOFF)&&(!bat[0]._nd)))
003a26  4aaf              LDR      r2,|L1.15588|
003a28  7800              LDRB     r0,[r0,#0]            ;5819  ; RELEVENTSIGN
003a2a  f9943000          LDRSB    r3,[r4,#0]            ;5821
003a2e  f9b11000          LDRSH    r1,[r1,#0]            ;5824
003a32  f9b22000          LDRSH    r2,[r2,#0]
003a36  b148              CBZ      r0,|L1.14924|
;;;5836   			&&
;;;5837   			((BAT_IS_ON[1]!=bisON)||((BAT_IS_ON[1]==bisON)&&(bat[1]._Tb<TVENTOFF)&&(!bat[1]._nd)))
;;;5838   			)
;;;5839   			{
;;;5840   			vent_stat=0;
;;;5841   			}
;;;5842   		}
;;;5843   	}
;;;5844   else if(RELEVENTSIGN==rvsBPS)
003a38  2802              CMP      r0,#2
003a3a  d03c              BEQ      |L1.15030|
;;;5845   	{
;;;5846   /*	if	(
;;;5847   		(((bps[0]._flags_tm&0x06)||(bps[0]._cnt>=30)))||
;;;5848   		(((bps[1]._flags_tm&0x06)||(bps[1]._cnt>=30))&&(NUMIST>1))||
;;;5849   		(((bps[2]._flags_tm&0x06)||(bps[2]._cnt>=30))&&(NUMIST>2))||
;;;5850   		(((bps[3]._flags_tm&0x06)||(bps[3]._cnt>=30))&&(NUMIST>3))||
;;;5851   		(((bps[4]._flags_tm&0x06)||(bps[4]._cnt>=30))&&(NUMIST>4))||
;;;5852   		(((bps[5]._flags_tm&0x06)||(bps[5]._cnt>=30))&&(NUMIST>5))||
;;;5853   		(((bps[6]._flags_tm&0x06)||(bps[6]._cnt>=30))&&(NUMIST>6))
;;;5854   		)
;;;5855   		{
;;;5856   		vent_stat=1;
;;;5857   		}
;;;5858   	else vent_stat=0;
;;;5859   	*/
;;;5860   
;;;5861   	if	(
;;;5862   		((NUMIST)&&((bps[0]._Ti>TVENTON)||(bps[0]._cnt>=30)))
;;;5863   		||
;;;5864   		((NUMIST>1)&&((bps[1]._Ti>TVENTON)||(bps[1]._cnt>=30)))
;;;5865   		||
;;;5866   		((NUMIST>2)&&((bps[2]._Ti>TVENTON)||(bps[2]._cnt>=30)))
;;;5867   		||
;;;5868   		((NUMIST>3)&&((bps[3]._Ti>TVENTON)||(bps[3]._cnt>=30)))
;;;5869   		||
;;;5870   		((NUMIST>4)&&((bps[4]._Ti>TVENTON)||(bps[4]._cnt>=30)))
;;;5871   		||
;;;5872   		((NUMIST>5)&&((bps[5]._Ti>TVENTON)||(bps[5]._cnt>=30)))
;;;5873   		||
;;;5874   		((NUMIST>6)&&((bps[6]._Ti>TVENTON)||(bps[6]._cnt>=30)))
;;;5875   		||
;;;5876   		((NUMIST>7)&&((bps[7]._Ti>TVENTON)||(bps[7]._cnt>=30)))
;;;5877   		)
;;;5878   		{
;;;5879   		vent_stat=1;
;;;5880   		}
;;;5881   	else if(vent_stat==1)
;;;5882   		{
;;;5883   		if	(
;;;5884   			((!NUMIST)||((NUMIST)&&(bps[0]._Ti<TVENTOFF)&&(bps[0]._cnt<10)))
;;;5885   			&&
;;;5886   			((NUMIST<2)||((NUMIST>=2)&&(bps[1]._Ti<TVENTOFF)&&(bps[1]._cnt<10)))
;;;5887   			&&
;;;5888   			((NUMIST<3)||((NUMIST>=3)&&(bps[2]._Ti<TVENTOFF)&&(bps[2]._cnt<10)))
;;;5889   			&&
;;;5890   			((NUMIST<4)||((NUMIST>=4)&&(bps[3]._Ti<TVENTOFF)&&(bps[3]._cnt<10)))
;;;5891   			&&
;;;5892   			((NUMIST<5)||((NUMIST>=5)&&(bps[4]._Ti<TVENTOFF)&&(bps[4]._cnt<10)))
;;;5893   			&&
;;;5894   			((NUMIST<6)||((NUMIST>=6)&&(bps[5]._Ti<TVENTOFF)&&(bps[5]._cnt<10)))
;;;5895   			&&
;;;5896   			((NUMIST<7)||((NUMIST>=7)&&(bps[6]._Ti<TVENTOFF)&&(bps[6]._cnt<10)))
;;;5897   			&&
;;;5898   			((NUMIST<8)||((NUMIST>=8)&&(bps[7]._Ti<TVENTOFF)&&(bps[7]._cnt<10)))
;;;5899   			)
;;;5900   			{
;;;5901   			vent_stat=0;
;;;5902   			}
;;;5903   		}
;;;5904   	}
;;;5905   else if(RELEVENTSIGN==rvsEXT)
003a3c  2801              CMP      r0,#1
003a3e  d07e              BEQ      |L1.15166|
;;;5906   	{
;;;5907   	if	(
;;;5908   		((NUMDT)&&((t_ext[0]>TVENTON)||(ND_EXT[0])))
;;;5909   		||
;;;5910   		((NUMDT>1)&&((t_ext[1]>TVENTON)||(ND_EXT[1])))
;;;5911   		||
;;;5912   		((NUMDT>2)&&((t_ext[2]>TVENTON)||(ND_EXT[2])))
;;;5913   		)
;;;5914   		{
;;;5915   		vent_stat=1;
;;;5916   		}
;;;5917   	else if(vent_stat==1)
;;;5918   		{
;;;5919   		if	(
;;;5920   			((!NUMDT)||((NUMDT)&&(t_ext[0]<TVENTOFF)&&(!ND_EXT[0])))
;;;5921   			&&
;;;5922   			((NUMDT<2)||((NUMDT>=2)&&(t_ext[1]<TVENTOFF)&&(!ND_EXT[1])))
;;;5923   			&&
;;;5924   			((NUMDT<3)||((NUMDT>=3)&&(t_ext[2]<TVENTOFF)&&(!ND_EXT[2])))
;;;5925   			)
;;;5926   			{
;;;5927   			vent_stat=0;
;;;5928   			}
;;;5929   		}
;;;5930   	}
;;;5931   else vent_stat=1;
003a40  f04f0001          MOV      r0,#1
003a44  7020              STRB     r0,[r4,#0]
                  |L1.14918|
;;;5932   }
003a46  b007              ADD      sp,sp,#0x1c
003a48  e8bd8ff0          POP      {r4-r11,pc}
                  |L1.14924|
003a4c  4fa6              LDR      r7,|L1.15592|
003a4e  f8df829c          LDR      r8,|L1.15596|
003a52  f9b7000a          LDRSH    r0,[r7,#0xa]          ;5824
003a56  7b3d              LDRB     r5,[r7,#0xc]          ;5824
003a58  f9b76056          LDRSH    r6,[r7,#0x56]         ;5826
003a5c  f898c000          LDRB     r12,[r8,#0]           ;5823
003a60  f8977058          LDRB     r7,[r7,#0x58]         ;5826
003a64  f8988001          LDRB     r8,[r8,#1]            ;5826
003a68  b12b              CBZ      r3,|L1.14966|
003a6a  2b01              CMP      r3,#1                 ;5832
003a6c  d1eb              BNE      |L1.14918|
003a6e  f1bc0f55          CMP      r12,#0x55             ;5834
003a72  d115              BNE      |L1.15008|
003a74  e010              B        |L1.15000|
                  |L1.14966|
003a76  f1bc0f55          CMP      r12,#0x55             ;5823
003a7a  d102              BNE      |L1.14978|
003a7c  4288              CMP      r0,r1                 ;5824
003a7e  dc07              BGT      |L1.14992|
003a80  b935              CBNZ     r5,|L1.14992|
                  |L1.14978|
003a82  f1b80f55          CMP      r8,#0x55              ;5826
003a86  d1de              BNE      |L1.14918|
003a88  428e              CMP      r6,r1                 ;5826
003a8a  dc01              BGT      |L1.14992|
003a8c  2f00              CMP      r7,#0                 ;5826
003a8e  d0da              BEQ      |L1.14918|
                  |L1.14992|
003a90  f04f0001          MOV      r0,#1                 ;5829
003a94  7020              STRB     r0,[r4,#0]            ;5829
003a96  e7d6              B        |L1.14918|
                  |L1.15000|
003a98  4290              CMP      r0,r2                 ;5835
003a9a  dad4              BGE      |L1.14918|
003a9c  2d00              CMP      r5,#0                 ;5835
003a9e  d1d2              BNE      |L1.14918|
                  |L1.15008|
003aa0  f1b80f55          CMP      r8,#0x55              ;5837
003aa4  d103              BNE      |L1.15022|
003aa6  4296              CMP      r6,r2                 ;5837
003aa8  dacd              BGE      |L1.14918|
003aaa  2f00              CMP      r7,#0                 ;5837
003aac  d1cb              BNE      |L1.14918|
                  |L1.15022|
003aae  f04f0000          MOV      r0,#0                 ;5840
003ab2  7020              STRB     r0,[r4,#0]            ;5840
003ab4  e7c7              B        |L1.14918|
                  |L1.15030|
003ab6  4e8f              LDR      r6,|L1.15604|
003ab8  488d              LDR      r0,|L1.15600|
003aba  6ab5              LDR      r5,[r6,#0x28]         ;5862
003abc  f9b00000          LDRSH    r0,[r0,#0]            ;5861  ; NUMIST
003ac0  78f6              LDRB     r6,[r6,#3]            ;5862
003ac2  b118              CBZ      r0,|L1.15052|
003ac4  428d              CMP      r5,r1                 ;5862
003ac6  dc7a              BGT      |L1.15294|
003ac8  2e1e              CMP      r6,#0x1e              ;5862
003aca  d278              BCS      |L1.15294|
                  |L1.15052|
003acc  f8dfc224          LDR      r12,|L1.15604|
003ad0  2801              CMP      r0,#1                 ;5864
003ad2  f8dc707c          LDR      r7,[r12,#0x7c]        ;5864
003ad6  f89cc057          LDRB     r12,[r12,#0x57]       ;5864
003ada  f8cdc018          STR      r12,[sp,#0x18]        ;5864
003ade  dd06              BLE      |L1.15086|
003ae0  428f              CMP      r7,r1                 ;5864
003ae2  dc6c              BGT      |L1.15294|
003ae4  f8ddc018          LDR      r12,[sp,#0x18]        ;5864
003ae8  f1bc0f1e          CMP      r12,#0x1e             ;5864
003aec  d267              BCS      |L1.15294|
                  |L1.15086|
003aee  f8dfc204          LDR      r12,|L1.15604|
003af2  2802              CMP      r0,#2                 ;5866
003af4  f8dc80d0          LDR      r8,[r12,#0xd0]        ;5866
003af8  f8cd8014          STR      r8,[sp,#0x14]         ;5866
003afc  f89cc0ab          LDRB     r12,[r12,#0xab]       ;5866
003b00  f8cdc010          STR      r12,[sp,#0x10]        ;5866
003b04  dd08              BLE      |L1.15128|
003b06  f8ddc014          LDR      r12,[sp,#0x14]        ;5866
003b0a  458c              CMP      r12,r1                ;5866
003b0c  dc57              BGT      |L1.15294|
003b0e  f8ddc010          LDR      r12,[sp,#0x10]        ;5866
003b12  f1bc0f1e          CMP      r12,#0x1e             ;5866
003b16  d252              BCS      |L1.15294|
                  |L1.15128|
003b18  f8dfc1d8          LDR      r12,|L1.15604|
003b1c  2803              CMP      r0,#3                 ;5868
003b1e  f8dc8124          LDR      r8,[r12,#0x124]       ;5868
003b22  f8cd800c          STR      r8,[sp,#0xc]          ;5868
003b26  f89cc0ff          LDRB     r12,[r12,#0xff]       ;5868
003b2a  f8cdc008          STR      r12,[sp,#8]           ;5868
003b2e  dd0a              BLE      |L1.15174|
003b30  f8ddc00c          LDR      r12,[sp,#0xc]         ;5868
003b34  458c              CMP      r12,r1                ;5868
003b36  dc42              BGT      |L1.15294|
003b38  f8ddc008          LDR      r12,[sp,#8]           ;5868
003b3c  e000              B        |L1.15168|
                  |L1.15166|
003b3e  e080              B        |L1.15426|
                  |L1.15168|
003b40  f1bc0f1e          CMP      r12,#0x1e             ;5868
003b44  d23b              BCS      |L1.15294|
                  |L1.15174|
003b46  f8df81ac          LDR      r8,|L1.15604|
003b4a  2804              CMP      r0,#4                 ;5870
003b4c  f8d8c178          LDR      r12,[r8,#0x178]       ;5870
003b50  f8988153          LDRB     r8,[r8,#0x153]        ;5870
003b54  f8cd8004          STR      r8,[sp,#4]            ;5870
003b58  dd06              BLE      |L1.15208|
003b5a  458c              CMP      r12,r1                ;5870
003b5c  dc2f              BGT      |L1.15294|
003b5e  f8dd8004          LDR      r8,[sp,#4]            ;5870
003b62  f1b80f1e          CMP      r8,#0x1e              ;5870
003b66  d22a              BCS      |L1.15294|
                  |L1.15208|
003b68  f8df9188          LDR      r9,|L1.15604|
003b6c  2805              CMP      r0,#5                 ;5872
003b6e  f8d981cc          LDR      r8,[r9,#0x1cc]        ;5872
003b72  f89991a7          LDRB     r9,[r9,#0x1a7]        ;5872
003b76  f8cd9000          STR      r9,[sp,#0]            ;5872
003b7a  dd06              BLE      |L1.15242|
003b7c  4588              CMP      r8,r1                 ;5872
003b7e  dc1e              BGT      |L1.15294|
003b80  f8dd9000          LDR      r9,[sp,#0]            ;5872
003b84  f1b90f1e          CMP      r9,#0x1e              ;5872
003b88  d219              BCS      |L1.15294|
                  |L1.15242|
003b8a  f8dfa168          LDR      r10,|L1.15604|
003b8e  2806              CMP      r0,#6                 ;5874
003b90  f89ae1fb          LDRB     lr,[r10,#0x1fb]       ;5874
003b94  f8da9220          LDR      r9,[r10,#0x220]       ;5874
003b98  dd04              BLE      |L1.15268|
003b9a  4589              CMP      r9,r1                 ;5874
003b9c  dc0f              BGT      |L1.15294|
003b9e  f1be0f1e          CMP      lr,#0x1e              ;5874
003ba2  d20c              BCS      |L1.15294|
                  |L1.15268|
003ba4  f8dfb14c          LDR      r11,|L1.15604|
003ba8  2807              CMP      r0,#7                 ;5876
003baa  f8dba274          LDR      r10,[r11,#0x274]      ;5876
003bae  f89bb24f          LDRB     r11,[r11,#0x24f]      ;5876
003bb2  dd08              BLE      |L1.15302|
003bb4  458a              CMP      r10,r1                ;5876
003bb6  dc02              BGT      |L1.15294|
003bb8  f1bb0f1e          CMP      r11,#0x1e             ;5876
003bbc  d303              BCC      |L1.15302|
                  |L1.15294|
003bbe  f04f0001          MOV      r0,#1                 ;5879
003bc2  7020              STRB     r0,[r4,#0]            ;5879
                  |L1.15300|
003bc4  e73f              B        |L1.14918|
                  |L1.15302|
003bc6  2b01              CMP      r3,#1                 ;5881
003bc8  d1fc              BNE      |L1.15300|
003bca  b118              CBZ      r0,|L1.15316|
003bcc  4295              CMP      r5,r2                 ;5884
003bce  daf9              BGE      |L1.15300|
003bd0  2e0a              CMP      r6,#0xa               ;5884
003bd2  d2f7              BCS      |L1.15300|
                  |L1.15316|
003bd4  2802              CMP      r0,#2                 ;5886
003bd6  db04              BLT      |L1.15330|
003bd8  4297              CMP      r7,r2                 ;5886
003bda  daf3              BGE      |L1.15300|
003bdc  9906              LDR      r1,[sp,#0x18]         ;5886
003bde  290a              CMP      r1,#0xa               ;5886
003be0  d2f0              BCS      |L1.15300|
                  |L1.15330|
003be2  2803              CMP      r0,#3                 ;5888
003be4  db05              BLT      |L1.15346|
003be6  9905              LDR      r1,[sp,#0x14]         ;5888
003be8  4291              CMP      r1,r2                 ;5888
003bea  daeb              BGE      |L1.15300|
003bec  9904              LDR      r1,[sp,#0x10]         ;5888
003bee  290a              CMP      r1,#0xa               ;5888
003bf0  d2e8              BCS      |L1.15300|
                  |L1.15346|
003bf2  2804              CMP      r0,#4                 ;5890
003bf4  db05              BLT      |L1.15362|
003bf6  9903              LDR      r1,[sp,#0xc]          ;5890
003bf8  4291              CMP      r1,r2                 ;5890
003bfa  dae3              BGE      |L1.15300|
003bfc  9902              LDR      r1,[sp,#8]            ;5890
003bfe  290a              CMP      r1,#0xa               ;5890
003c00  d2e0              BCS      |L1.15300|
                  |L1.15362|
003c02  2805              CMP      r0,#5                 ;5892
003c04  db04              BLT      |L1.15376|
003c06  4594              CMP      r12,r2                ;5892
003c08  dadc              BGE      |L1.15300|
003c0a  9901              LDR      r1,[sp,#4]            ;5892
003c0c  290a              CMP      r1,#0xa               ;5892
003c0e  d2d9              BCS      |L1.15300|
                  |L1.15376|
003c10  2806              CMP      r0,#6                 ;5894
003c12  db04              BLT      |L1.15390|
003c14  4590              CMP      r8,r2                 ;5894
003c16  dad5              BGE      |L1.15300|
003c18  9900              LDR      r1,[sp,#0]            ;5894
003c1a  290a              CMP      r1,#0xa               ;5894
003c1c  d2d2              BCS      |L1.15300|
                  |L1.15390|
003c1e  2807              CMP      r0,#7                 ;5896
003c20  db04              BLT      |L1.15404|
003c22  4591              CMP      r9,r2                 ;5896
003c24  dace              BGE      |L1.15300|
003c26  f1be0f0a          CMP      lr,#0xa               ;5896
003c2a  d2cb              BCS      |L1.15300|
                  |L1.15404|
003c2c  2808              CMP      r0,#8                 ;5898
003c2e  db04              BLT      |L1.15418|
003c30  4592              CMP      r10,r2                ;5898
003c32  dac7              BGE      |L1.15300|
003c34  f1bb0f0a          CMP      r11,#0xa              ;5898
003c38  d2c4              BCS      |L1.15300|
                  |L1.15418|
003c3a  f04f0000          MOV      r0,#0                 ;5901
003c3e  7020              STRB     r0,[r4,#0]            ;5901
                  |L1.15424|
003c40  e701              B        |L1.14918|
                  |L1.15426|
003c42  482d              LDR      r0,|L1.15608|
003c44  4d2d              LDR      r5,|L1.15612|
003c46  4e2e              LDR      r6,|L1.15616|
003c48  f9b00000          LDRSH    r0,[r0,#0]            ;5907  ; NUMDT
003c4c  f9b55000          LDRSH    r5,[r5,#0]            ;5908
003c50  6836              LDR      r6,[r6,#0]            ;5908
003c52  b110              CBZ      r0,|L1.15450|
003c54  428d              CMP      r5,r1                 ;5908
003c56  dc1d              BGT      |L1.15508|
003c58  b9e6              CBNZ     r6,|L1.15508|
                  |L1.15450|
003c5a  4f28              LDR      r7,|L1.15612|
003c5c  f8dfc0a0          LDR      r12,|L1.15616|
003c60  2801              CMP      r0,#1                 ;5910
003c62  f9b77002          LDRSH    r7,[r7,#2]            ;5910
003c66  f8dcc004          LDR      r12,[r12,#4]          ;5910
003c6a  dd04              BLE      |L1.15478|
003c6c  428f              CMP      r7,r1                 ;5910
003c6e  dc11              BGT      |L1.15508|
003c70  f1bc0f00          CMP      r12,#0                ;5910
003c74  d10e              BNE      |L1.15508|
                  |L1.15478|
003c76  f8df8084          LDR      r8,|L1.15612|
003c7a  f8df9084          LDR      r9,|L1.15616|
003c7e  2802              CMP      r0,#2                 ;5912
003c80  f9b88004          LDRSH    r8,[r8,#4]            ;5912
003c84  f8d99008          LDR      r9,[r9,#8]            ;5912
003c88  dd08              BLE      |L1.15516|
003c8a  4588              CMP      r8,r1                 ;5912
003c8c  dc02              BGT      |L1.15508|
003c8e  f1b90f00          CMP      r9,#0                 ;5912
003c92  d003              BEQ      |L1.15516|
                  |L1.15508|
003c94  f04f0001          MOV      r0,#1                 ;5915
003c98  7020              STRB     r0,[r4,#0]            ;5915
003c9a  e6d4              B        |L1.14918|
                  |L1.15516|
003c9c  2b01              CMP      r3,#1                 ;5917
003c9e  d191              BNE      |L1.15300|
003ca0  b118              CBZ      r0,|L1.15530|
003ca2  4295              CMP      r5,r2                 ;5920
003ca4  da8e              BGE      |L1.15300|
003ca6  2e00              CMP      r6,#0                 ;5920
003ca8  d18c              BNE      |L1.15300|
                  |L1.15530|
003caa  2802              CMP      r0,#2                 ;5922
003cac  db04              BLT      |L1.15544|
003cae  4297              CMP      r7,r2                 ;5922
003cb0  da88              BGE      |L1.15300|
003cb2  f1bc0f00          CMP      r12,#0                ;5922
003cb6  d185              BNE      |L1.15300|
                  |L1.15544|
003cb8  2803              CMP      r0,#3                 ;5924
003cba  db04              BLT      |L1.15558|
003cbc  4590              CMP      r8,r2                 ;5924
003cbe  dabf              BGE      |L1.15424|
003cc0  f1b90f00          CMP      r9,#0                 ;5924
003cc4  d1bc              BNE      |L1.15424|
                  |L1.15558|
003cc6  f04f0000          MOV      r0,#0                 ;5927
003cca  7020              STRB     r0,[r4,#0]            ;5927
003ccc  e6bb              B        |L1.14918|
;;;5933   
                          ENDP

003cce  0000              DCW      0x0000
                  |L1.15568|
                          DCD      speedChrgBlckStat
                  |L1.15572|
                          DCD      speedChTimeCnt
                  |L1.15576|
                          DCD      RELEVENTSIGN
                  |L1.15580|
                          DCD      ||area_number.21||
                  |L1.15584|
                          DCD      TVENTON
                  |L1.15588|
                          DCD      TVENTOFF
                  |L1.15592|
                          DCD      bat
                  |L1.15596|
                          DCD      BAT_IS_ON
                  |L1.15600|
                          DCD      NUMIST
                  |L1.15604|
                          DCD      bps
                  |L1.15608|
                          DCD      NUMDT
                  |L1.15612|
                          DCD      t_ext
                  |L1.15616|
                          DCD      ND_EXT

                          AREA ||area_number.2||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.2||, ||.text||
                  samokalibr_init PROC
;;;206    //-----------------------------------------------
;;;207    void ke_start(char in)
000000  4902              LDR      r1,|L2.12|
;;;208    {          
000002  f24060f9          MOV      r0,#0x6f9
;;;209    ke_start_stat=(enum_ke_start_stat)0;		 
000006  8708              STRH     r0,[r1,#0x38]
000008  4770              BX       lr
;;;210    
;;;211    if(spc_stat==spcVZ)ke_start_stat=kssNOT_VZ;
;;;212    else if(BAT_IS_ON[in]!=bisON)ke_start_stat=kssNOT_BAT;
;;;213    else if(bat[in]._av&(1<<0))ke_start_stat=kssNOT_BAT_AV;
;;;214    else if(bat[in]._temper_stat&(1<<1))ke_start_stat=kssNOT_BAT_AV_T;
;;;215    else if(bat[in]._av&(1<<1))ke_start_stat=kssNOT_BAT_AV_ASS;
;;;216    else if(bat[in]._Ib>IKB)ke_start_stat=kssNOT_BAT_ZAR;
;;;217    else if(bat[in]._Ib<-IKB)ke_start_stat=kssNOT_BAT_RAZR;
;;;218    else if((spc_stat==spcKE)&&(spc_bat==0))ke_start_stat=kssNOT_KE1;
;;;219    else if((spc_stat==spcKE)&&(spc_bat==1))ke_start_stat=kssNOT_KE2;
;;;220    else 
;;;221    	{
;;;222    
;;;223    	ke_start_stat=kssYES;
;;;224    
;;;225    	spc_stat=spcKE;
;;;226    	__ee_spc_stat=spcKE;
;;;227    	lc640_write_int(EE_SPC_STAT,__ee_spc_stat);
;;;228    	
;;;229    	spc_bat=in;
;;;230    	__ee_spc_bat=in;
;;;231    	lc640_write_int(EE_SPC_BAT,__ee_spc_bat);
;;;232    
;;;233    	bat[in]._zar_cnt_ke=0;
;;;234    	lc640_write_int(ADR_EE_BAT_ZAR_CNT_KE[in],0);
;;;235    	
;;;236    	spc_phase=0;
;;;237    	__ee_spc_phase=0;
;;;238    	lc640_write_int(EE_SPC_PHASE,__ee_spc_phase);
;;;239    
;;;240    	//ke_mem_hndl(in,lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat]));
;;;241    
;;;242    		{					
;;;243    		signed short temp_temp;
;;;244    		signed char temp;
;;;245    		temp_temp=bat[in]._u_old[((bat_u_old_cnt+1)&0x07)]; 
;;;246    		    
;;;247    		temp=LPC_RTC->YEAR;
;;;248    		gran_char(&temp,1,99);
;;;249    		*((char*)(&(ke_date[0])))=temp;
;;;250    			
;;;251    		temp=LPC_RTC->MONTH;
;;;252    		gran_char(&temp,1,12);
;;;253    		*(((char*)(&(ke_date[0])))+1)=temp;
;;;254    		
;;;255    		temp=LPC_RTC->DOM;
;;;256    		gran_char(&temp,1,31);
;;;257    		*(((char*)(&(ke_date[0])))+2)=temp;			
;;;258    				
;;;259    		*(((char*)(&(ke_date[0])))+3)=*((char*)&temp_temp);
;;;260    		lc640_write_long(EE_SPC_KE_DATE0,ke_date[0]);
;;;261    
;;;262    		temp=LPC_RTC->HOUR;
;;;263    		gran_char(&temp,0,23);
;;;264    		*((char*)(&(ke_date[1])))=temp;
;;;265                   
;;;266    		temp=LPC_RTC->MIN;
;;;267    		gran_char(&temp,0,59);
;;;268    		*(((char*)(&(ke_date[1])))+1)=temp;
;;;269    	          
;;;270    		temp=LPC_RTC->SEC;
;;;271    		gran_char(&temp,0,59);
;;;272    		*(((char*)(&(ke_date[1])))+2)=temp;
;;;273    			
;;;274    		*(((char*)(&(ke_date[1])))+3)=*(((char*)&temp_temp)+1);
;;;275    		lc640_write_long(EE_SPC_KE_DATE1,ke_date[1]);
;;;276    		}
;;;277    
;;;278    	}
;;;279    }
;;;280    
                          ENDP

00000a  0000              DCW      0x0000
                  |L2.12|
                          DCD      ||area_number.21||

                          AREA ||area_number.3||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.3||, ||.text||
                  adc_drv6 PROC
;;;206    //-----------------------------------------------
;;;207    void ke_start(char in)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;208    {          
000004  4c80              LDR      r4,|L3.520|
;;;209    ke_start_stat=(enum_ke_start_stat)0;		 
000006  8860              LDRH     r0,[r4,#2]  ; adc_self_ch_buff
000008  8821              LDRH     r1,[r4,#0]  ; adc_self_ch_buff
00000a  1a40              SUBS     r0,r0,r1
00000c  b200              SXTH     r0,r0
;;;210    
;;;211    if(spc_stat==spcVZ)ke_start_stat=kssNOT_VZ;
00000e  f7fffffe          BL       abs_pal
000012  1da5              ADDS     r5,r4,#6
000014  8028              STRH     r0,[r5,#0]
000016  88a0              LDRH     r0,[r4,#4]  ; adc_self_ch_buff
;;;212    else if(BAT_IS_ON[in]!=bisON)ke_start_stat=kssNOT_BAT;
000018  8861              LDRH     r1,[r4,#2]  ; adc_self_ch_buff
00001a  1a40              SUBS     r0,r0,r1
00001c  b200              SXTH     r0,r0
00001e  f7fffffe          BL       abs_pal
000022  8068              STRH     r0,[r5,#2]
000024  88a0              LDRH     r0,[r4,#4]  ; adc_self_ch_buff
;;;213    else if(bat[in]._av&(1<<0))ke_start_stat=kssNOT_BAT_AV;
;;;214    else if(bat[in]._temper_stat&(1<<1))ke_start_stat=kssNOT_BAT_AV_T;
;;;215    else if(bat[in]._av&(1<<1))ke_start_stat=kssNOT_BAT_AV_ASS;
;;;216    else if(bat[in]._Ib>IKB)ke_start_stat=kssNOT_BAT_ZAR;
;;;217    else if(bat[in]._Ib<-IKB)ke_start_stat=kssNOT_BAT_RAZR;
;;;218    else if((spc_stat==spcKE)&&(spc_bat==0))ke_start_stat=kssNOT_KE1;
;;;219    else if((spc_stat==spcKE)&&(spc_bat==1))ke_start_stat=kssNOT_KE2;
;;;220    else 
;;;221    	{
;;;222    
;;;223    	ke_start_stat=kssYES;
;;;224    
;;;225    	spc_stat=spcKE;
;;;226    	__ee_spc_stat=spcKE;
;;;227    	lc640_write_int(EE_SPC_STAT,__ee_spc_stat);
;;;228    	
;;;229    	spc_bat=in;
;;;230    	__ee_spc_bat=in;
;;;231    	lc640_write_int(EE_SPC_BAT,__ee_spc_bat);
;;;232    
;;;233    	bat[in]._zar_cnt_ke=0;
;;;234    	lc640_write_int(ADR_EE_BAT_ZAR_CNT_KE[in],0);
;;;235    	
;;;236    	spc_phase=0;
;;;237    	__ee_spc_phase=0;
;;;238    	lc640_write_int(EE_SPC_PHASE,__ee_spc_phase);
;;;239    
;;;240    	//ke_mem_hndl(in,lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat]));
;;;241    
;;;242    		{					
;;;243    		signed short temp_temp;
;;;244    		signed char temp;
;;;245    		temp_temp=bat[in]._u_old[((bat_u_old_cnt+1)&0x07)]; 
;;;246    		    
;;;247    		temp=LPC_RTC->YEAR;
;;;248    		gran_char(&temp,1,99);
;;;249    		*((char*)(&(ke_date[0])))=temp;
;;;250    			
;;;251    		temp=LPC_RTC->MONTH;
;;;252    		gran_char(&temp,1,12);
;;;253    		*(((char*)(&(ke_date[0])))+1)=temp;
;;;254    		
;;;255    		temp=LPC_RTC->DOM;
;;;256    		gran_char(&temp,1,31);
;;;257    		*(((char*)(&(ke_date[0])))+2)=temp;			
;;;258    				
;;;259    		*(((char*)(&(ke_date[0])))+3)=*((char*)&temp_temp);
;;;260    		lc640_write_long(EE_SPC_KE_DATE0,ke_date[0]);
;;;261    
;;;262    		temp=LPC_RTC->HOUR;
;;;263    		gran_char(&temp,0,23);
;;;264    		*((char*)(&(ke_date[1])))=temp;
;;;265                   
;;;266    		temp=LPC_RTC->MIN;
;;;267    		gran_char(&temp,0,59);
;;;268    		*(((char*)(&(ke_date[1])))+1)=temp;
;;;269    	          
;;;270    		temp=LPC_RTC->SEC;
;;;271    		gran_char(&temp,0,59);
;;;272    		*(((char*)(&(ke_date[1])))+2)=temp;
;;;273    			
;;;274    		*(((char*)(&(ke_date[1])))+3)=*(((char*)&temp_temp)+1);
;;;275    		lc640_write_long(EE_SPC_KE_DATE1,ke_date[1]);
;;;276    		}
;;;277    
;;;278    	}
;;;279    }
000026  8821              LDRH     r1,[r4,#0]  ; adc_self_ch_buff
000028  1a40              SUBS     r0,r0,r1
00002a  b200              SXTH     r0,r0                 ;211
00002c  f7fffffe          BL       abs_pal
000030  80a8              STRH     r0,[r5,#4]            ;213
000032  f44f7196          MOV      r1,#0x12c             ;213
000036  f1a4068a          SUB      r6,r4,#0x8a           ;213
00003a  4288              CMP      r0,r1                 ;213
00003c  da02              BGE      |L3.68|
00003e  88a0              LDRH     r0,[r4,#4]            ;213  ; adc_self_ch_buff
000040  84f0              STRH     r0,[r6,#0x26]         ;213
000042  e00c              B        |L3.94|
                  |L3.68|
000044  f9b50002          LDRSH    r0,[r5,#2]            ;213  ; adc_self_ch_disp
000048  4288              CMP      r0,r1                 ;213
00004a  da02              BGE      |L3.82|
00004c  8860              LDRH     r0,[r4,#2]            ;214  ; adc_self_ch_buff
00004e  84f0              STRH     r0,[r6,#0x26]         ;214
000050  e005              B        |L3.94|
                  |L3.82|
000052  f9b50000          LDRSH    r0,[r5,#0]            ;214  ; adc_self_ch_disp
000056  4288              CMP      r0,r1                 ;214
000058  da01              BGE      |L3.94|
00005a  8820              LDRH     r0,[r4,#0]  ; adc_self_ch_buff
00005c  84f0              STRH     r0,[r6,#0x26]         ;215
                  |L3.94|
00005e  78b7              LDRB     r7,[r6,#2]            ;215  ; adc_ch_net
000060  2200              MOVS     r2,#0                 ;215
000062  b3f7              CBZ      r7,|L3.226|
000064  7973              LDRB     r3,[r6,#5]            ;215  ; adc_window_flag
000066  4869              LDR      r0,|L3.524|
000068  b18b              CBZ      r3,|L3.142|
00006a  f9b61026          LDRSH    r1,[r6,#0x26]         ;216  ; adc_result
00006e  6804              LDR      r4,[r0,#0]            ;216  ; main_power_buffer
000070  eb0404a1          ADD      r4,r4,r1,ASR #2       ;216
000074  6004              STR      r4,[r0,#0]            ;216  ; main_power_buffer
000076  6844              LDR      r4,[r0,#4]            ;216  ; main_power_buffer
000078  eb0404a1          ADD      r4,r4,r1,ASR #2       ;216
00007c  6044              STR      r4,[r0,#4]  ; main_power_buffer
00007e  6884              LDR      r4,[r0,#8]            ;217  ; main_power_buffer
000080  eb0404a1          ADD      r4,r4,r1,ASR #2       ;217
000084  6084              STR      r4,[r0,#8]            ;217  ; main_power_buffer
000086  68c4              LDR      r4,[r0,#0xc]          ;217  ; main_power_buffer
000088  eb0401a1          ADD      r1,r4,r1,ASR #2       ;217
00008c  60c1              STR      r1,[r0,#0xc]          ;209  ; main_power_buffer
                  |L3.142|
00008e  f9b61026          LDRSH    r1,[r6,#0x26]         ;218  ; adc_result
000092  2964              CMP      r1,#0x64              ;218
000094  da04              BGE      |L3.160|
000096  8d71              LDRH     r1,[r6,#0x2a]         ;219  ; adc_zero_cnt
000098  f1010101          ADD      r1,r1,#1              ;219
00009c  8571              STRH     r1,[r6,#0x2a]         ;218
00009e  e000              B        |L3.162|
                  |L3.160|
0000a0  8572              STRH     r2,[r6,#0x2a]         ;218
                  |L3.162|
0000a2  f9b6402a          LDRSH    r4,[r6,#0x2a]  ; adc_zero_cnt
0000a6  f44f61fa          MOV      r1,#0x7d0             ;219
0000aa  428c              CMP      r4,r1                 ;223
0000ac  db05              BLT      |L3.186|
0000ae  8571              STRH     r1,[r6,#0x2a]         ;225
0000b0  6002              STR      r2,[r0,#0]            ;226  ; main_power_buffer
0000b2  6042              STR      r2,[r0,#4]            ;226  ; main_power_buffer
0000b4  6082              STR      r2,[r0,#8]            ;227  ; main_power_buffer
0000b6  60c2              STR      r2,[r0,#0xc]          ;227  ; main_power_buffer
0000b8  84b2              STRH     r2,[r6,#0x24]         ;227
                  |L3.186|
0000ba  8d71              LDRH     r1,[r6,#0x2a]         ;227  ; adc_zero_cnt
0000bc  2905              CMP      r1,#5                 ;227
0000be  d14f              BNE      |L3.352|
0000c0  b1bb              CBZ      r3,|L3.242|
0000c2  8d31              LDRH     r1,[r6,#0x28]         ;230  ; adc_gorb_cnt
0000c4  f1010101          ADD      r1,r1,#1              ;231
0000c8  b209              SXTH     r1,r1                 ;231
0000ca  8531              STRH     r1,[r6,#0x28]         ;231
0000cc  f5b17f00          CMP      r1,#0x200             ;231
0000d0  db00              BLT      |L3.212|
0000d2  8532              STRH     r2,[r6,#0x28]         ;234
                  |L3.212|
0000d4  f9b61028          LDRSH    r1,[r6,#0x28]         ;234  ; adc_gorb_cnt
0000d8  064c              LSLS     r4,r1,#25             ;234
0000da  d10a              BNE      |L3.242|
0000dc  ea4f11e1          ASR      r1,r1,#7              ;236
0000e0  e000              B        |L3.228|
                  |L3.226|
0000e2  e015              B        |L3.272|
                  |L3.228|
0000e4  f8504021          LDR      r4,[r0,r1,LSL #2]     ;238
0000e8  ea4f2424          ASR      r4,r4,#8              ;238
0000ec  84b4              STRH     r4,[r6,#0x24]         ;245
0000ee  f8402021          STR      r2,[r0,r1,LSL #2]     ;245
                  |L3.242|
0000f2  f9b6002c          LDRSH    r0,[r6,#0x2c]         ;245  ; adc_window_cnt
0000f6  2896              CMP      r0,#0x96              ;245
0000f8  dd01              BLE      |L3.254|
0000fa  b103              CBZ      r3,|L3.254|
0000fc  7172              STRB     r2,[r6,#5]            ;245
                  |L3.254|
0000fe  381f              SUBS     r0,r0,#0x1f           ;245
000100  2827              CMP      r0,#0x27              ;247
000102  d22d              BCS      |L3.352|
000104  7970              LDRB     r0,[r6,#5]            ;247  ; adc_window_flag
000106  bb58              CBNZ     r0,|L3.352|
000108  f04f0001          MOV      r0,#1                 ;248
00010c  7170              STRB     r0,[r6,#5]            ;248
00010e  e027              B        |L3.352|
                  |L3.272|
000110  483f              LDR      r0,|L3.528|
000112  78f5              LDRB     r5,[r6,#3]            ;248  ; adc_ch
000114  7933              LDRB     r3,[r6,#4]            ;249  ; adc_ch_cnt
000116  eb001485          ADD      r4,r0,r5,LSL #6       ;249
00011a  f9b61026          LDRSH    r1,[r6,#0x26]         ;249  ; adc_result
00011e  f8441023          STR      r1,[r4,r3,LSL #2]     ;251
000122  0798              LSLS     r0,r3,#30             ;252
000124  d10f              BNE      |L3.326|
000126  4601              MOV      r1,r0                 ;252
                  |L3.296|
000128  f854c020          LDR      r12,[r4,r0,LSL #2]    ;252
00012c  4461              ADD      r1,r1,r12             ;253
00012e  f1000001          ADD      r0,r0,#1              ;253
000132  b2c0              UXTB     r0,r0                 ;255
000134  2810              CMP      r0,#0x10              ;255
000136  d3f7              BCC      |L3.296|
000138  ea4f1021          ASR      r0,r1,#4              ;256
00013c  4933              LDR      r1,|L3.524|
00013e  f1a10120          SUB      r1,r1,#0x20           ;256
000142  f8210015          STRH     r0,[r1,r5,LSL #1]     ;257
                  |L3.326|
000146  1c6d              ADDS     r5,r5,#1              ;259
000148  b2e8              UXTB     r0,r5                 ;259
00014a  70f0              STRB     r0,[r6,#3]            ;259
00014c  2810              CMP      r0,#0x10              ;260
00014e  d307              BCC      |L3.352|
000150  70f2              STRB     r2,[r6,#3]            ;260
000152  f1030301          ADD      r3,r3,#1              ;260
000156  b2d8              UXTB     r0,r3                 ;262
000158  7130              STRB     r0,[r6,#4]            ;262
00015a  2810              CMP      r0,#0x10              ;263
00015c  d300              BCC      |L3.352|
00015e  7132              STRB     r2,[r6,#4]            ;263
                  |L3.352|
000160  7072              STRB     r2,[r6,#1]            ;263
000162  f1070701          ADD      r7,r7,#1              ;263
000166  f0070001          AND      r0,r7,#1              ;264
00016a  70b0              STRB     r0,[r6,#2]            ;266
00016c  4a29              LDR      r2,|L3.532|
00016e  b130              CBZ      r0,|L3.382|
000170  6810              LDR      r0,[r2,#0]            ;267
000172  f02000ff          BIC      r0,r0,#0xff           ;267
000176  f1000004          ADD      r0,r0,#4              ;267
00017a  6010              STR      r0,[r2,#0]            ;268
00017c  e03d              B        |L3.506|
                  |L3.382|
00017e  78f1              LDRB     r1,[r6,#3]            ;270  ; adc_ch
000180  0708              LSLS     r0,r1,#28             ;270
000182  d406              BMI      |L3.402|
000184  6810              LDR      r0,[r2,#0]            ;271
000186  f02000ff          BIC      r0,r0,#0xff           ;271
00018a  f1000001          ADD      r0,r0,#1              ;271
00018e  6010              STR      r0,[r2,#0]            ;272
000190  e005              B        |L3.414|
                  |L3.402|
000192  6810              LDR      r0,[r2,#0]            ;274
000194  f02000ff          BIC      r0,r0,#0xff           ;274
000198  f1000002          ADD      r0,r0,#2              ;275
00019c  6010              STR      r0,[r2,#0]            ;275
                  |L3.414|
00019e  481e              LDR      r0,|L3.536|
0001a0  6803              LDR      r3,[r0,#0]            ;275
0001a2  f0435380          ORR      r3,r3,#0x10000000
0001a6  6003              STR      r3,[r0,#0]            ;219
0001a8  6a03              LDR      r3,[r0,#0x20]         ;219
0001aa  f0434380          ORR      r3,r3,#0x40000000     ;219
0001ae  6203              STR      r3,[r0,#0x20]
0001b0  6e03              LDR      r3,[r0,#0x60]
0001b2  f0436380          ORR      r3,r3,#0x4000000
0001b6  6603              STR      r3,[r0,#0x60]
0001b8  07cb              LSLS     r3,r1,#31
0001ba  d00a              BEQ      |L3.466|
0001bc  6943              LDR      r3,[r0,#0x14]
0001be  f0435380          ORR      r3,r3,#0x10000000
0001c2  6143              STR      r3,[r0,#0x14]
                  |L3.452|
0001c4  078b              LSLS     r3,r1,#30
0001c6  d409              BMI      |L3.476|
0001c8  6b43              LDR      r3,[r0,#0x34]
0001ca  f0234380          BIC      r3,r3,#0x40000000
0001ce  6343              STR      r3,[r0,#0x34]
0001d0  e008              B        |L3.484|
                  |L3.466|
0001d2  6943              LDR      r3,[r0,#0x14]
0001d4  f0235380          BIC      r3,r3,#0x10000000
0001d8  6143              STR      r3,[r0,#0x14]
0001da  e7f3              B        |L3.452|
                  |L3.476|
0001dc  6b43              LDR      r3,[r0,#0x34]
0001de  f0434380          ORR      r3,r3,#0x40000000
0001e2  6343              STR      r3,[r0,#0x34]
                  |L3.484|
0001e4  0749              LSLS     r1,r1,#29
0001e6  d404              BMI      |L3.498|
0001e8  6f41              LDR      r1,[r0,#0x74]
0001ea  f0216180          BIC      r1,r1,#0x4000000
0001ee  6741              STR      r1,[r0,#0x74]
0001f0  e003              B        |L3.506|
                  |L3.498|
0001f2  6f41              LDR      r1,[r0,#0x74]
0001f4  f0416180          ORR      r1,r1,#0x4000000
0001f8  6741              STR      r1,[r0,#0x74]
                  |L3.506|
0001fa  6810              LDR      r0,[r2,#0]
0001fc  f0407080          ORR      r0,r0,#0x1000000
000200  6010              STR      r0,[r2,#0]
000202  e8bd81f0          POP      {r4-r8,pc}
;;;280    
                          ENDP

000206  0000              DCW      0x0000
                  |L3.520|
                          DCD      ||area_number.21||+0x8a
                  |L3.524|
                          DCD      ||.bss||+0x420
                  |L3.528|
                          DCD      ||.bss||
                  |L3.532|
                          DCD      0x40034000
                  |L3.536|
                          DCD      0x2009c000

                          AREA ||area_number.4||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.4||, ||.text||
                  inv_drv PROC
;;;206    //-----------------------------------------------
;;;207    void ke_start(char in)
000000  b570              PUSH     {r4-r6,lr}
;;;208    {          
000002  4604              MOV      r4,r0
000004  f04f0207          MOV      r2,#7
;;;209    ke_start_stat=(enum_ke_start_stat)0;		 
000008  f04f0101          MOV      r1,#1
00000c  48a4              LDR      r0,|L4.672|
;;;210    
;;;211    if(spc_stat==spcVZ)ke_start_stat=kssNOT_VZ;
00000e  f7fffffe          BL       gran_char
000012  48a4              LDR      r0,|L4.676|
000014  eb040144          ADD      r1,r4,r4,LSL #1
;;;212    else if(BAT_IS_ON[in]!=bisON)ke_start_stat=kssNOT_BAT;
000018  eb001541          ADD      r5,r0,r1,LSL #5
00001c  f8950047          LDRB     r0,[r5,#0x47]
000020  f8951046          LDRB     r1,[r5,#0x46]
000024  ea800001          EOR      r0,r0,r1
;;;213    else if(bat[in]._av&(1<<0))ke_start_stat=kssNOT_BAT_AV;
;;;214    else if(bat[in]._temper_stat&(1<<1))ke_start_stat=kssNOT_BAT_AV_T;
;;;215    else if(bat[in]._av&(1<<1))ke_start_stat=kssNOT_BAT_AV_ASS;
;;;216    else if(bat[in]._Ib>IKB)ke_start_stat=kssNOT_BAT_ZAR;
;;;217    else if(bat[in]._Ib<-IKB)ke_start_stat=kssNOT_BAT_RAZR;
;;;218    else if((spc_stat==spcKE)&&(spc_bat==0))ke_start_stat=kssNOT_KE1;
;;;219    else if((spc_stat==spcKE)&&(spc_bat==1))ke_start_stat=kssNOT_KE2;
;;;220    else 
;;;221    	{
;;;222    
;;;223    	ke_start_stat=kssYES;
;;;224    
;;;225    	spc_stat=spcKE;
;;;226    	__ee_spc_stat=spcKE;
;;;227    	lc640_write_int(EE_SPC_STAT,__ee_spc_stat);
;;;228    	
;;;229    	spc_bat=in;
;;;230    	__ee_spc_bat=in;
;;;231    	lc640_write_int(EE_SPC_BAT,__ee_spc_bat);
;;;232    
;;;233    	bat[in]._zar_cnt_ke=0;
;;;234    	lc640_write_int(ADR_EE_BAT_ZAR_CNT_KE[in],0);
;;;235    	
;;;236    	spc_phase=0;
;;;237    	__ee_spc_phase=0;
;;;238    	lc640_write_int(EE_SPC_PHASE,__ee_spc_phase);
;;;239    
;;;240    	//ke_mem_hndl(in,lc640_read_int(ADR_EE_BAT_ZAR_CNT_KE[spc_bat]));
;;;241    
;;;242    		{					
;;;243    		signed short temp_temp;
;;;244    		signed char temp;
;;;245    		temp_temp=bat[in]._u_old[((bat_u_old_cnt+1)&0x07)]; 
;;;246    		    
;;;247    		temp=LPC_RTC->YEAR;
;;;248    		gran_char(&temp,1,99);
;;;249    		*((char*)(&(ke_date[0])))=temp;
;;;250    			
;;;251    		temp=LPC_RTC->MONTH;
;;;252    		gran_char(&temp,1,12);
;;;253    		*(((char*)(&(ke_date[0])))+1)=temp;
;;;254    		
;;;255    		temp=LPC_RTC->DOM;
;;;256    		gran_char(&temp,1,31);
;;;257    		*(((char*)(&(ke_date[0])))+2)=temp;			
;;;258    				
;;;259    		*(((char*)(&(ke_date[0])))+3)=*((char*)&temp_temp);
;;;260    		lc640_write_long(EE_SPC_KE_DATE0,ke_date[0]);
;;;261    
;;;262    		temp=LPC_RTC->HOUR;
;;;263    		gran_char(&temp,0,23);
;;;264    		*((char*)(&(ke_date[1])))=temp;
;;;265                   
;;;266    		temp=LPC_RTC->MIN;
;;;267    		gran_char(&temp,0,59);
;;;268    		*(((char*)(&(ke_date[1])))+1)=temp;
;;;269    	          
;;;270    		temp=LPC_RTC->SEC;
;;;271    		gran_char(&temp,0,59);
;;;272    		*(((char*)(&(ke_date[1])))+2)=temp;
;;;273    			
;;;274    		*(((char*)(&(ke_date[1])))+3)=*(((char*)&temp_temp)+1);
;;;275    		lc640_write_long(EE_SPC_KE_DATE1,ke_date[1]);
;;;276    		}
;;;277    
;;;278    	}
;;;279    }
000028  4a9f              LDR      r2,|L4.680|
00002a  b100              CBZ      r0,|L4.46|
00002c  7050              STRB     r0,[r2,#1]
                  |L4.46|
00002e  ea010100          AND      r1,r1,r0              ;213
000032  b101              CBZ      r1,|L4.54|
000034  7091              STRB     r1,[r2,#2]            ;213
                  |L4.54|
000036  ea000301          AND      r3,r0,r1              ;213
00003a  07db              LSLS     r3,r3,#31             ;213
00003c  d027              BEQ      |L4.142|
00003e  78d0              LDRB     r0,[r2,#3]            ;213  ; plazma_inv
000040  f1000001          ADD      r0,r0,#1              ;213
000044  70d0              STRB     r0,[r2,#3]            ;213
000046  b134              CBZ      r4,|L4.86|
000048  2c01              CMP      r4,#1                 ;213
00004a  d00b              BEQ      |L4.100|
00004c  2c02              CMP      r4,#2                 ;214
00004e  d010              BEQ      |L4.114|
000050  2c03              CMP      r4,#3                 ;214
000052  d015              BEQ      |L4.128|
000054  e120              B        |L4.664|
                  |L4.86|
000056  2301              MOVS     r3,#1                 ;214
000058  461a              MOV      r2,r3                 ;214
00005a  210e              MOVS     r1,#0xe
00005c  a093              ADR      r0,|L4.684|
00005e  f7fffffe          BL       snmp_trap_send
000062  e119              B        |L4.664|
                  |L4.100|
000064  2301              MOVS     r3,#1                 ;215
000066  2202              MOVS     r2,#2
000068  210e              MOVS     r1,#0xe               ;216
00006a  a097              ADR      r0,|L4.712|
00006c  f7fffffe          BL       snmp_trap_send
000070  e112              B        |L4.664|
                  |L4.114|
000072  2301              MOVS     r3,#1                 ;216
000074  2203              MOVS     r2,#3                 ;216
000076  210e              MOVS     r1,#0xe               ;216
000078  a09a              ADR      r0,|L4.740|
00007a  f7fffffe          BL       snmp_trap_send
00007e  e10b              B        |L4.664|
                  |L4.128|
000080  2301              MOVS     r3,#1                 ;217
000082  2204              MOVS     r2,#4                 ;217
000084  210e              MOVS     r1,#0xe               ;217
000086  a09e              ADR      r0,|L4.768|
000088  f7fffffe          BL       snmp_trap_send
00008c  e104              B        |L4.664|
                  |L4.142|
00008e  0783              LSLS     r3,r0,#30             ;218
000090  d529              BPL      |L4.230|
000092  078b              LSLS     r3,r1,#30             ;218
000094  d527              BPL      |L4.230|
000096  78d0              LDRB     r0,[r2,#3]            ;219  ; plazma_inv
000098  f1000001          ADD      r0,r0,#1              ;219
00009c  70d0              STRB     r0,[r2,#3]            ;218
00009e  b134              CBZ      r4,|L4.174|
0000a0  2c01              CMP      r4,#1                 ;218
0000a2  d00b              BEQ      |L4.188|
0000a4  2c02              CMP      r4,#2                 ;219
0000a6  d010              BEQ      |L4.202|
0000a8  2c03              CMP      r4,#3                 ;223
0000aa  d015              BEQ      |L4.216|
0000ac  e0f4              B        |L4.664|
                  |L4.174|
0000ae  2302              MOVS     r3,#2                 ;225
0000b0  2201              MOVS     r2,#1                 ;226
0000b2  210e              MOVS     r1,#0xe               ;226
0000b4  a099              ADR      r0,|L4.796|
0000b6  f7fffffe          BL       snmp_trap_send
0000ba  e0ed              B        |L4.664|
                  |L4.188|
0000bc  2302              MOVS     r3,#2                 ;227
0000be  461a              MOV      r2,r3                 ;229
0000c0  210e              MOVS     r1,#0xe               ;230
0000c2  a09d              ADR      r0,|L4.824|
0000c4  f7fffffe          BL       snmp_trap_send
0000c8  e0e6              B        |L4.664|
                  |L4.202|
0000ca  2302              MOVS     r3,#2                 ;231
0000cc  2203              MOVS     r2,#3                 ;231
0000ce  210e              MOVS     r1,#0xe               ;233
0000d0  a0a0              ADR      r0,|L4.852|
0000d2  f7fffffe          BL       snmp_trap_send
0000d6  e0df              B        |L4.664|
                  |L4.216|
0000d8  2302              MOVS     r3,#2                 ;234
0000da  2204              MOVS     r2,#4                 ;234
0000dc  210e              MOVS     r1,#0xe               ;236
0000de  a0a4              ADR      r0,|L4.880|
0000e0  f7fffffe          BL       snmp_trap_send
0000e4  e0d8              B        |L4.664|
                  |L4.230|
0000e6  0743              LSLS     r3,r0,#29             ;238
0000e8  d529              BPL      |L4.318|
0000ea  074b              LSLS     r3,r1,#29             ;238
0000ec  d527              BPL      |L4.318|
0000ee  78d0              LDRB     r0,[r2,#3]            ;245  ; plazma_inv
0000f0  f1000001          ADD      r0,r0,#1              ;245
0000f4  70d0              STRB     r0,[r2,#3]            ;245
0000f6  b134              CBZ      r4,|L4.262|
0000f8  2c01              CMP      r4,#1                 ;245
0000fa  d00b              BEQ      |L4.276|
0000fc  2c02              CMP      r4,#2                 ;245
0000fe  d010              BEQ      |L4.290|
000100  2c03              CMP      r4,#3                 ;247
000102  d015              BEQ      |L4.304|
000104  e0c8              B        |L4.664|
                  |L4.262|
000106  2303              MOVS     r3,#3                 ;248
000108  2201              MOVS     r2,#1                 ;248
00010a  210e              MOVS     r1,#0xe               ;248
00010c  a09f              ADR      r0,|L4.908|
00010e  f7fffffe          BL       snmp_trap_send
000112  e0c1              B        |L4.664|
                  |L4.276|
000114  2303              MOVS     r3,#3                 ;249
000116  2202              MOVS     r2,#2                 ;249
000118  210e              MOVS     r1,#0xe               ;249
00011a  a0a3              ADR      r0,|L4.936|
00011c  f7fffffe          BL       snmp_trap_send
000120  e0ba              B        |L4.664|
                  |L4.290|
000122  2303              MOVS     r3,#3                 ;252
000124  461a              MOV      r2,r3                 ;252
000126  210e              MOVS     r1,#0xe               ;252
000128  a0a6              ADR      r0,|L4.964|
00012a  f7fffffe          BL       snmp_trap_send
00012e  e0b3              B        |L4.664|
                  |L4.304|
000130  2303              MOVS     r3,#3                 ;253
000132  2204              MOVS     r2,#4                 ;255
000134  210e              MOVS     r1,#0xe               ;255
000136  a0aa              ADR      r0,|L4.992|
000138  f7fffffe          BL       snmp_trap_send
00013c  e0ac              B        |L4.664|
                  |L4.318|
00013e  0703              LSLS     r3,r0,#28             ;256
000140  d529              BPL      |L4.406|
000142  070b              LSLS     r3,r1,#28             ;257
000144  d527              BPL      |L4.406|
000146  78d0              LDRB     r0,[r2,#3]            ;259  ; plazma_inv
000148  f1000001          ADD      r0,r0,#1              ;259
00014c  70d0              STRB     r0,[r2,#3]            ;260
00014e  b134              CBZ      r4,|L4.350|
000150  2c01              CMP      r4,#1                 ;260
000152  d00b              BEQ      |L4.364|
000154  2c02              CMP      r4,#2                 ;260
000156  d010              BEQ      |L4.378|
000158  2c03              CMP      r4,#3                 ;262
00015a  d015              BEQ      |L4.392|
00015c  e09c              B        |L4.664|
                  |L4.350|
00015e  2304              MOVS     r3,#4                 ;263
000160  2201              MOVS     r2,#1                 ;263
000162  210e              MOVS     r1,#0xe               ;263
000164  a0a5              ADR      r0,|L4.1020|
000166  f7fffffe          BL       snmp_trap_send
00016a  e095              B        |L4.664|
                  |L4.364|
00016c  2304              MOVS     r3,#4                 ;266
00016e  2202              MOVS     r2,#2                 ;267
000170  210e              MOVS     r1,#0xe               ;267
000172  a0ab              ADR      r0,|L4.1056|
000174  f7fffffe          BL       snmp_trap_send
000178  e08e              B        |L4.664|
                  |L4.378|
00017a  2304              MOVS     r3,#4                 ;268
00017c  2203              MOVS     r2,#3                 ;268
00017e  210e              MOVS     r1,#0xe               ;270
000180  a0b0              ADR      r0,|L4.1092|
000182  f7fffffe          BL       snmp_trap_send
000186  e087              B        |L4.664|
                  |L4.392|
000188  2304              MOVS     r3,#4                 ;271
00018a  461a              MOV      r2,r3                 ;271
00018c  210e              MOVS     r1,#0xe               ;272
00018e  a0b6              ADR      r0,|L4.1128|
000190  f7fffffe          BL       snmp_trap_send
000194  e080              B        |L4.664|
                  |L4.406|
000196  06c3              LSLS     r3,r0,#27             ;274
000198  d529              BPL      |L4.494|
00019a  06cb              LSLS     r3,r1,#27             ;275
00019c  d527              BPL      |L4.494|
00019e  78d0              LDRB     r0,[r2,#3]            ;275  ; plazma_inv
0001a0  f1000001          ADD      r0,r0,#1              ;275
0001a4  70d0              STRB     r0,[r2,#3]
0001a6  b134              CBZ      r4,|L4.438|
0001a8  2c01              CMP      r4,#1                 ;219
0001aa  d00b              BEQ      |L4.452|
0001ac  2c02              CMP      r4,#2
0001ae  d010              BEQ      |L4.466|
0001b0  2c03              CMP      r4,#3
0001b2  d015              BEQ      |L4.480|
0001b4  e070              B        |L4.664|
                  |L4.438|
0001b6  2305              MOVS     r3,#5
0001b8  2201              MOVS     r2,#1
0001ba  210e              MOVS     r1,#0xe
0001bc  a0b3              ADR      r0,|L4.1164|
0001be  f7fffffe          BL       snmp_trap_send
0001c2  e069              B        |L4.664|
                  |L4.452|
0001c4  2305              MOVS     r3,#5
0001c6  2202              MOVS     r2,#2
0001c8  210e              MOVS     r1,#0xe
0001ca  a0b9              ADR      r0,|L4.1200|
0001cc  f7fffffe          BL       snmp_trap_send
0001d0  e062              B        |L4.664|
                  |L4.466|
0001d2  2305              MOVS     r3,#5
0001d4  2203              MOVS     r2,#3
0001d6  210e              MOVS     r1,#0xe
0001d8  a0be              ADR      r0,|L4.1236|
0001da  f7fffffe          BL       snmp_trap_send
0001de  e05b              B        |L4.664|
                  |L4.480|
0001e0  2305              MOVS     r3,#5
0001e2  2204              MOVS     r2,#4
0001e4  210e              MOVS     r1,#0xe
0001e6  a0c4              ADR      r0,|L4.1272|
0001e8  f7fffffe          BL       snmp_trap_send
0001ec  e054              B        |L4.664|
                  |L4.494|
0001ee  0683              LSLS     r3,r0,#26
0001f0  d529              BPL      |L4.582|
0001f2  068b              LSLS     r3,r1,#26
0001f4  d527              BPL      |L4.582|
0001f6  78d0              LDRB     r0,[r2,#3]  ; plazma_inv
0001f8  f1000001          ADD      r0,r0,#1
0001fc  70d0              STRB     r0,[r2,#3]
0001fe  b134              CBZ      r4,|L4.526|
000200  2c01              CMP      r4,#1
000202  d00b              BEQ      |L4.540|
000204  2c02              CMP      r4,#2
000206  d010              BEQ      |L4.554|
000208  2c03              CMP      r4,#3
00020a  d015              BEQ      |L4.568|
00020c  e044              B        |L4.664|
                  |L4.526|
00020e  2306              MOVS     r3,#6
000210  2201              MOVS     r2,#1
000212  210e              MOVS     r1,#0xe
000214  a0c1              ADR      r0,|L4.1308|
000216  f7fffffe          BL       snmp_trap_send
00021a  e03d              B        |L4.664|
                  |L4.540|
00021c  2306              MOVS     r3,#6
00021e  2202              MOVS     r2,#2
000220  210e              MOVS     r1,#0xe
000222  a0c7              ADR      r0,|L4.1344|
000224  f7fffffe          BL       snmp_trap_send
000228  e036              B        |L4.664|
                  |L4.554|
00022a  2306              MOVS     r3,#6
00022c  2203              MOVS     r2,#3
00022e  210e              MOVS     r1,#0xe
000230  a0cc              ADR      r0,|L4.1380|
000232  f7fffffe          BL       snmp_trap_send
000236  e02f              B        |L4.664|
                  |L4.568|
000238  2306              MOVS     r3,#6
00023a  2204              MOVS     r2,#4
00023c  210e              MOVS     r1,#0xe
00023e  a0d2              ADR      r0,|L4.1416|
000240  f7fffffe          BL       snmp_trap_send
000244  e028              B        |L4.664|
                  |L4.582|
000246  b300              CBZ      r0,|L4.650|
000248  b9f9              CBNZ     r1,|L4.650|
00024a  78d0              LDRB     r0,[r2,#3]  ; plazma_inv
00024c  f1000001          ADD      r0,r0,#1
000250  70d0              STRB     r0,[r2,#3]
000252  b134              CBZ      r4,|L4.610|
000254  2c01              CMP      r4,#1
000256  d00b              BEQ      |L4.624|
000258  2c02              CMP      r4,#2
00025a  d010              BEQ      |L4.638|
00025c  2c03              CMP      r4,#3
00025e  d015              BEQ      |L4.652|
000260  e01a              B        |L4.664|
                  |L4.610|
000262  2300              MOVS     r3,#0
000264  2201              MOVS     r2,#1
000266  210e              MOVS     r1,#0xe
000268  a0d0              ADR      r0,|L4.1452|
00026a  f7fffffe          BL       snmp_trap_send
00026e  e013              B        |L4.664|
                  |L4.624|
000270  2300              MOVS     r3,#0
000272  2202              MOVS     r2,#2
000274  210e              MOVS     r1,#0xe
000276  a0d2              ADR      r0,|L4.1472|
000278  f7fffffe          BL       snmp_trap_send
00027c  e00c              B        |L4.664|
                  |L4.638|
00027e  2300              MOVS     r3,#0
000280  2203              MOVS     r2,#3
000282  210e              MOVS     r1,#0xe
000284  a0d3              ADR      r0,|L4.1492|
000286  f7fffffe          BL       snmp_trap_send
                  |L4.650|
00028a  e005              B        |L4.664|
                  |L4.652|
00028c  2300              MOVS     r3,#0
00028e  2204              MOVS     r2,#4
000290  210e              MOVS     r1,#0xe
000292  a0d5              ADR      r0,|L4.1512|
000294  f7fffffe          BL       snmp_trap_send
                  |L4.664|
000298  f8150f46          LDRB     r0,[r5,#0x46]!
00029c  7068              STRB     r0,[r5,#1]
00029e  bd70              POP      {r4-r6,pc}
;;;280    
                          ENDP

                  |L4.672|
                          DCD      first_inv_slot
                  |L4.676|
                          DCD      inv
                  |L4.680|
                          DCD      ||area_number.21||+0x80
                  |L4.684|
0002ac  496e7665          DCB      "Invertor #1 Alarm, overload",0
0002b0  72746f72
0002b4  20233120
0002b8  416c6172
0002bc  6d2c206f
0002c0  7665726c
0002c4  6f616400
                  |L4.712|
0002c8  496e7665          DCB      "Invertor #2 Alarm, overload",0
0002cc  72746f72
0002d0  20233220
0002d4  416c6172
0002d8  6d2c206f
0002dc  7665726c
0002e0  6f616400
                  |L4.740|
0002e4  496e7665          DCB      "Invertor #3 Alarm, overload",0
0002e8  72746f72
0002ec  20233320
0002f0  416c6172
0002f4  6d2c206f
0002f8  7665726c
0002fc  6f616400
                  |L4.768|
000300  496e7665          DCB      "Invertor #4 Alarm, overload",0
000304  72746f72
000308  20233420
00030c  416c6172
000310  6d2c206f
000314  7665726c
000318  6f616400
                  |L4.796|
00031c  496e7665          DCB      "Invertor #1 Alarm, overheat",0
000320  72746f72
000324  20233120
000328  416c6172
00032c  6d2c206f
000330  76657268
000334  65617400
                  |L4.824|
000338  496e7665          DCB      "Invertor #2 Alarm, overheat",0
00033c  72746f72
000340  20233220
000344  416c6172
000348  6d2c206f
00034c  76657268
000350  65617400
                  |L4.852|
000354  496e7665          DCB      "Invertor #3 Alarm, overheat",0
000358  72746f72
00035c  20233320
000360  416c6172
000364  6d2c206f
000368  76657268
00036c  65617400
                  |L4.880|
000370  496e7665          DCB      "Invertor #4 Alarm, overheat",0
000374  72746f72
000378  20233420
00037c  416c6172
000380  6d2c206f
000384  76657268
000388  65617400
                  |L4.908|
00038c  496e7665          DCB      "Invertor #1 Alarm, is warm",0
000390  72746f72
000394  20233120
000398  416c6172
00039c  6d2c2069
0003a0  73207761
0003a4  726d00  
0003a7  00                DCB      0
                  |L4.936|
0003a8  496e7665          DCB      "Invertor #2 Alarm, is warm",0
0003ac  72746f72
0003b0  20233220
0003b4  416c6172
0003b8  6d2c2069
0003bc  73207761
0003c0  726d00  
0003c3  00                DCB      0
                  |L4.964|
0003c4  496e7665          DCB      "Invertor #3 Alarm, is warm",0
0003c8  72746f72
0003cc  20233320
0003d0  416c6172
0003d4  6d2c2069
0003d8  73207761
0003dc  726d00  
0003df  00                DCB      0
                  |L4.992|
0003e0  496e7665          DCB      "Invertor #4 Alarm, is warm",0
0003e4  72746f72
0003e8  20233420
0003ec  416c6172
0003f0  6d2c2069
0003f4  73207761
0003f8  726d00  
0003fb  00                DCB      0
                  |L4.1020|
0003fc  496e7665          DCB      "Invertor #1 Alarm, voltage is up",0
000400  72746f72
000404  20233120
000408  416c6172
00040c  6d2c2076
000410  6f6c7461
000414  67652069
000418  73207570
00041c  00      
00041d  00                DCB      0
00041e  00                DCB      0
00041f  00                DCB      0
                  |L4.1056|
000420  496e7665          DCB      "Invertor #2 Alarm, voltage is up",0
000424  72746f72
000428  20233220
00042c  416c6172
000430  6d2c2076
000434  6f6c7461
000438  67652069
00043c  73207570
000440  00      
000441  00                DCB      0
000442  00                DCB      0
000443  00                DCB      0
                  |L4.1092|
000444  496e7665          DCB      "Invertor #3 Alarm, voltage is up",0
000448  72746f72
00044c  20233320
000450  416c6172
000454  6d2c2076
000458  6f6c7461
00045c  67652069
000460  73207570
000464  00      
000465  00                DCB      0
000466  00                DCB      0
000467  00                DCB      0
                  |L4.1128|
000468  496e7665          DCB      "Invertor #4 Alarm, voltage is up",0
00046c  72746f72
000470  20233420
000474  416c6172
000478  6d2c2076
00047c  6f6c7461
000480  67652069
000484  73207570
000488  00      
000489  00                DCB      0
00048a  00                DCB      0
00048b  00                DCB      0
                  |L4.1164|
00048c  496e7665          DCB      "Invertor #1 Alarm, voltage is down",0
000490  72746f72
000494  20233120
000498  416c6172
00049c  6d2c2076
0004a0  6f6c7461
0004a4  67652069
0004a8  7320646f
0004ac  776e00  
0004af  00                DCB      0
                  |L4.1200|
0004b0  496e7665          DCB      "Invertor #2 Alarm, voltage is down",0
0004b4  72746f72
0004b8  20233220
0004bc  416c6172
0004c0  6d2c2076
0004c4  6f6c7461
0004c8  67652069
0004cc  7320646f
0004d0  776e00  
0004d3  00                DCB      0
                  |L4.1236|
0004d4  496e7665          DCB      "Invertor #3 Alarm, voltage is down",0
0004d8  72746f72
0004dc  20233320
0004e0  416c6172
0004e4  6d2c2076
0004e8  6f6c7461
0004ec  67652069
0004f0  7320646f
0004f4  776e00  
0004f7  00                DCB      0
                  |L4.1272|
0004f8  496e7665          DCB      "Invertor #4 Alarm, voltage is down",0
0004fc  72746f72
000500  20233420
000504  416c6172
000508  6d2c2076
00050c  6f6c7461
000510  67652069
000514  7320646f
000518  776e00  
00051b  00                DCB      0
                  |L4.1308|
00051c  496e7665          DCB      "Invertor #1 Alarm, output is offed",0
000520  72746f72
000524  20233120
000528  416c6172
00052c  6d2c206f
000530  75747075
000534  74206973
000538  206f6666
00053c  656400  
00053f  00                DCB      0
                  |L4.1344|
000540  496e7665          DCB      "Invertor #2 Alarm, output is offed",0
000544  72746f72
000548  20233220
00054c  416c6172
000550  6d2c206f
000554  75747075
000558  74206973
00055c  206f6666
000560  656400  
000563  00                DCB      0
                  |L4.1380|
000564  496e7665          DCB      "Invertor #3 Alarm, output is offed",0
000568  72746f72
00056c  20233320
000570  416c6172
000574  6d2c206f
000578  75747075
00057c  74206973
000580  206f6666
000584  656400  
000587  00                DCB      0
                  |L4.1416|
000588  496e7665          DCB      "Invertor #4 Alarm, output is offed",0
00058c  72746f72
000590  20233420
000594  416c6172
000598  6d2c206f
00059c  75747075
0005a0  74206973
0005a4  206f6666
0005a8  656400  
0005ab  00                DCB      0
                  |L4.1452|
0005ac  496e7665          DCB      "Invertor #1 is norm",0
0005b0  72746f72
0005b4  20233120
0005b8  6973206e
0005bc  6f726d00
                  |L4.1472|
0005c0  496e7665          DCB      "Invertor #2 is norm",0
0005c4  72746f72
0005c8  20233220
0005cc  6973206e
0005d0  6f726d00
                  |L4.1492|
0005d4  496e7665          DCB      "Invertor #3 is norm",0
0005d8  72746f72
0005dc  20233320
0005e0  6973206e
0005e4  6f726d00
                  |L4.1512|
0005e8  496e7665          DCB      "Invertor #4 is norm",0
0005ec  72746f72
0005f0  20233420
0005f4  6973206e
0005f8  6f726d00

                          AREA ||.bss||, DATA, NOINIT, ALIGN=2

                  adc_buff
                          %        1024
                  adc_buff_
                          %        32
                  main_power_buffer
                          %        32

                          AREA ||area_number.7||, DATA, NOINIT, ALIGN=1

                          EXPORTAS ||area_number.7||, ||.bss||
                  adc_buff_max
                          %        24

                          AREA ||area_number.8||, DATA, NOINIT, ALIGN=1

                          EXPORTAS ||area_number.8||, ||.bss||
                  net_buff
                          %        64

                          AREA ||.constdata||, DATA, READONLY, ALIGN=0

                  sk_buff_KONTUR
000000  0d0b0f0e          DCB      0x0d,0x0b,0x0f,0x0e

                          AREA ||area_number.11||, DATA, READONLY, ALIGN=0

                          EXPORTAS ||area_number.11||, ||.constdata||
                  sk_buff_RSTKM
000000  0d0b0f0e          DCB      0x0d,0x0b,0x0f,0x0e

                          AREA ||area_number.12||, DATA, READONLY, ALIGN=0

                          EXPORTAS ||area_number.12||, ||.constdata||
                  sk_buff_GLONASS
000000  0b0d0f0e          DCB      0x0b,0x0d,0x0f,0x0e

                          AREA ||area_number.13||, DATA, READONLY, ALIGN=0

                          EXPORTAS ||area_number.13||, ||.constdata||
                  sk_buff_3U
000000  0b0d0f0e          DCB      0x0b,0x0d,0x0f,0x0e

                          AREA ||area_number.14||, DATA, READONLY, ALIGN=0

                          EXPORTAS ||area_number.14||, ||.constdata||
                  sk_buff_6U
000000  0b0d0f0e          DCB      0x0b,0x0d,0x0f,0x0e

                          AREA ||area_number.15||, DATA, READONLY, ALIGN=0

                          EXPORTAS ||area_number.15||, ||.constdata||
                  sk_buff_220
000000  0b0d0f0e          DCB      0x0b,0x0d,0x0f,0x0e

                          AREA ||area_number.16||, DATA, READONLY, ALIGN=0

                          EXPORTAS ||area_number.16||, ||.constdata||
                  sk_buff_TELECORE2015
000000  0b0d0f0e          DCB      0x0b,0x0d,0x0f,0x0e

                          AREA ||.data||, DATA, ALIGN=1

                  adc_buff_min
000000  13881388          DCW      0x1388,0x1388
000004  13881388          DCW      0x1388,0x1388
000008  13881388          DCW      0x1388,0x1388
00000c  13881388          DCW      0x1388,0x1388
000010  13881388          DCW      0x1388,0x1388
                          DCDU     0x00000000

                          AREA ||area_number.18||, DATA, ALIGN=1

                          EXPORTAS ||area_number.18||, ||.data||
                  unet_buff_min
000000  1388              DCW      0x1388

                          AREA ||area_number.19||, DATA, ALIGN=0

                          EXPORTAS ||area_number.19||, ||.data||
                  adc_stat
000000  01                DCB      0x01

                          AREA ||area_number.20||, DATA, ALIGN=1

                          EXPORTAS ||area_number.20||, ||.data||
                  bat_ver_cnt
000000  0096              DCW      0x0096

                          AREA ||area_number.21||, DATA, ALIGN=2

                          EXPORTAS ||area_number.21||, ||.data||
                  vent_stat
000000  00                DCB      0x00
                  adc_self_ch_cnt
000001  00                DCB      0x00
                  adc_ch_net
000002  00                DCB      0x00
                  adc_ch
000003  00                DCB      0x00
                  adc_ch_cnt
000004  00                DCB      0x00
                  adc_window_flag
000005  00                DCB      0x00
                  ch_cnt0
000006  00                DCB      0x00
                  b1Hz_ch
000007  00                DCB      0x00
                  i
000008  00                DCB      0x00
                  iiii
000009  00                DCB      0x00
                  bAVG
00000a  00                DCB      0x00
                  avg_num
00000b  00                DCB      0x00
                  kb_full_ver
00000c  00                DCB      0x00
                  kb_start_ips
00000d  00                DCB      0x00
                  num_of_wrks_bps
00000e  00                DCB      0x00
                  num_necc_up
00000f  00                DCB      0x00
                  num_necc_down
000010  00                DCB      0x00
                  sh_cnt0
000011  00                DCB      0x00
                  b1Hz_sh
000012  00                DCB      0x00
                  spc_stat
000013  00                DCB      0x00
                  spc_bat
000014  00                DCB      0x00
                  spc_phase
000015  00                DCB      0x00
                  bAVZ
000016  00                DCB      0x00
                  ke_start_stat
000017  00                DCB      0x00
                  cntrl_stat
000018  0258              DCW      0x0258
                  cntrl_stat_old
00001a  0258              DCW      0x0258
                  avg_main_cnt
00001c  0014              DCW      0x0014
                  ibat_ips
00001e  0000              DCB      0x00,0x00
                  ibat_ips_
000020  0000              DCB      0x00,0x00
                  num_necc_block_cnt
000022  0000              DCB      0x00,0x00
                  net_buff_
000024  0000              DCB      0x00,0x00
                  adc_result
000026  0000              DCB      0x00,0x00
                  adc_gorb_cnt
000028  0000              DCB      0x00,0x00
                  adc_zero_cnt
00002a  0000              DCB      0x00,0x00
                  adc_window_cnt
00002c  0000              DCB      0x00,0x00
                  adc_net_buff_cnt
00002e  0000              DCB      0x00,0x00
                  plazma_sk
000030  0000              DCB      0x00,0x00
                  cntrl_stat_new
000032  0000              DCB      0x00,0x00
                  Ibmax
000034  0000              DCB      0x00,0x00
                  IZMAX_
000036  0000              DCB      0x00,0x00
                  samokalibr_cnt
000038  0000              DCB      0x00,0x00
                  main_kb_cnt
00003a  0000              DCB      0x00,0x00
                  kb_cnt_1lev
00003c  0000              DCB      0x00,0x00
                  kb_cnt_2lev
00003e  0000              DCB      0x00,0x00
                  kb_start
000040  0000              DCB      0x00,0x00
                  bps_on_mask
000042  0000              DCB      0x00,0x00
                  bps_off_mask
000044  0000              DCB      0x00,0x00
                  vz_cnt_s
000046  0000              DCB      0x00,0x00
                  vz_cnt_s_
000048  0000              DCB      0x00,0x00
                  vz_cnt_h
00004a  0000              DCB      0x00,0x00
                  vz_cnt_h_
00004c  0000              DCB      0x00,0x00
                  cnt_end_ke
00004e  0000              DCB      0x00,0x00
                  __ee_vz_cnt
000050  0000              DCB      0x00,0x00
                  __ee_spc_stat
000052  0000              DCB      0x00,0x00
                  __ee_spc_bat
000054  0000              DCB      0x00,0x00
                  __ee_spc_phase
000056  0000              DCB      0x00,0x00
                  cntrl_stat_blok_cnt
000058  0000              DCB      0x00,0x00
                  cntrl_stat_blok_cnt_
00005a  0000              DCB      0x00,0x00
                  ibat
                          DCD      0x00000000
                  ibat_
                          DCD      0x00000000
                  i_avg_max
                          DCD      0x00000000
                  i_avg_min
                          DCD      0x00000000
                  i_avg_summ
                          DCD      0x00000000
                  i_avg
                          DCD      0x00000000
                  avg
                          DCD      0x00000000
                  cntrl_stat_blok_cnt_plus
                          DCD      0x00000000
                  cntrl_stat_blok_cnt_minus
                          DCD      0x00000000
                  plazma_inv
                          DCD      0x00000000
                  net_metr_buff_
                          DCD      0x00000000
000088  0000              DCB      0x00,0x00
                  adc_self_ch_buff
00008a  0000              DCB      0x00,0x00
                          DCD      0x00000000
                  adc_self_ch_disp
                          DCD      0x00000000
000094  00000000          DCB      0x00,0x00,0x00,0x00
                  ke_date
                          %        8

                          AREA ||area_number.22||, DATA, ALIGN=1

                          EXPORTAS ||area_number.22||, ||.data||
                  unet_buff_max
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.23||, DATA, ALIGN=0

                          EXPORTAS ||area_number.23||, ||.data||
                  adc_cnt
000000  00                DCB      0x00

                          AREA ||area_number.24||, DATA, ALIGN=0

                          EXPORTAS ||area_number.24||, ||.data||
                  adc_cnt1
000000  00                DCB      0x00

                          AREA ||area_number.25||, DATA, ALIGN=1

                          EXPORTAS ||area_number.25||, ||.data||
                  zero_cnt
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.26||, DATA, ALIGN=0

                          EXPORTAS ||area_number.26||, ||.data||
                  net_buff_cnt
000000  00                DCB      0x00

                          AREA ||area_number.27||, DATA, ALIGN=1

                          EXPORTAS ||area_number.27||, ||.data||
                  ADWR
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.28||, DATA, ALIGN=1

                          EXPORTAS ||area_number.28||, ||.data||
                  period_cnt
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.29||, DATA, ALIGN=1

                          EXPORTAS ||area_number.29||, ||.data||
                  non_zero_cnt
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.30||, DATA, ALIGN=0

                          EXPORTAS ||area_number.30||, ||.data||
                  rele_stat
000000  00                DCB      0x00

                          AREA ||area_number.31||, DATA, ALIGN=0

                          EXPORTAS ||area_number.31||, ||.data||
                  bRELE_OUT
000000  00                DCB      0x00

                          AREA ||area_number.32||, DATA, ALIGN=2

                          EXPORTAS ||area_number.32||, ||.data||
                  main_power_buffer_
                          DCD      0x00000000

                          AREA ||area_number.33||, DATA, ALIGN=1

                          EXPORTAS ||area_number.33||, ||.data||
                  main_power_buffer_cnt
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.34||, DATA, ALIGN=1

                          EXPORTAS ||area_number.34||, ||.data||
                  adc_buff_out_
                          DCDU     0x00000000
000004  0000              DCB      0x00,0x00

                          AREA ||area_number.35||, DATA, ALIGN=1

                          EXPORTAS ||area_number.35||, ||.data||
                  plazma_adc_cnt
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.36||, DATA, ALIGN=0

                          EXPORTAS ||area_number.36||, ||.data||
                  unh_cnt0
000000  00                DCB      0x00

                          AREA ||area_number.37||, DATA, ALIGN=0

                          EXPORTAS ||area_number.37||, ||.data||
                  unh_cnt1
000000  00                DCB      0x00

                          AREA ||area_number.38||, DATA, ALIGN=0

                          EXPORTAS ||area_number.38||, ||.data||
                  b1Hz_unh
000000  00                DCB      0x00

                          AREA ||area_number.39||, DATA, ALIGN=0

                          EXPORTAS ||area_number.39||, ||.data||
                  avg_cnt
000000  00                DCB      0x00

                          AREA ||area_number.40||, DATA, ALIGN=0

                          EXPORTAS ||area_number.40||, ||.data||
                  bps_all_off_cnt
000000  00                DCB      0x00

                          AREA ||area_number.41||, DATA, ALIGN=0

                          EXPORTAS ||area_number.41||, ||.data||
                  bps_mask_off_cnt
000000  00                DCB      0x00

                          AREA ||area_number.42||, DATA, ALIGN=0

                          EXPORTAS ||area_number.42||, ||.data||
                  bps_mask_on_off_cnt
000000  00                DCB      0x00

                          AREA ||area_number.43||, DATA, ALIGN=0

                          EXPORTAS ||area_number.43||, ||.data||
                  bps_hndl_2sec_cnt
000000  00                DCB      0x00

                          AREA ||area_number.44||, DATA, ALIGN=0

                          EXPORTAS ||area_number.44||, ||.data||
                  plazma_bat
000000  00                DCB      0x00
