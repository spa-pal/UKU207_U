; generated by ARM C/C++ Compiler, 4.1 [Build 481]
; commandline ArmCC [--debug -c --asm --interleave -o.\EXE\full_can.o --depend=.\EXE\full_can.d --cpu=Cortex-M3 --apcs=interwork -O1 -IC:\Keil\ARM\INC -IC:\Keil\ARM\INC\NXP\LPC17xx -D__MICROLIB -DUKU_220_IPS_TERMOKOMPENSAT -DUKU2071x -DAPSENERGIA --omf_browse=.\EXE\full_can.crf full_can.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  CRC1_in PROC
;;;108    //-----------------------------------------------
;;;109    char CRC1_in(void)
000000  b530              PUSH     {r4,r5,lr}
;;;110    {
;;;111    char r,j,lb;
;;;112    lb=(RXBUFF[1]&0x1f)+0x04;
000002  4bfb              LDR      r3,|L1.1008|
000004  7858              LDRB     r0,[r3,#1]  ; RXBUFF
000006  f000021f          AND      r2,r0,#0x1f
00000a  1d12              ADDS     r2,r2,#4
;;;113    r=RXBUFF[0];
00000c  7818              LDRB     r0,[r3,#0]  ; RXBUFF
;;;114    for(j=1;j<(lb+1);j++)
00000e  2101              MOVS     r1,#1
;;;115    	{
;;;116    	r=(RXBUFF[j]^Table87[r]);
000010  4cf8              LDR      r4,|L1.1012|
000012  1c52              ADDS     r2,r2,#1              ;114
000014  e004              B        |L1.32|
                  |L1.22|
000016  5c5d              LDRB     r5,[r3,r1]
000018  5c20              LDRB     r0,[r4,r0]
00001a  4068              EORS     r0,r0,r5
00001c  1c49              ADDS     r1,r1,#1              ;114
00001e  b2c9              UXTB     r1,r1                 ;114
                  |L1.32|
000020  4291              CMP      r1,r2                 ;114
000022  d3f8              BCC      |L1.22|
;;;117    	}
;;;118    if(r==0)r=0xFF;
000024  2800              CMP      r0,#0
000026  d100              BNE      |L1.42|
000028  20ff              MOVS     r0,#0xff
                  |L1.42|
;;;119    return r;	
;;;120    } 
00002a  bd30              POP      {r4,r5,pc}
;;;121    
                          ENDP

                  CRC2_in PROC
;;;122    //-----------------------------------------------
;;;123    char CRC2_in(void)
00002c  b530              PUSH     {r4,r5,lr}
;;;124    {
;;;125    char r,j,lb;
;;;126    lb=(RXBUFF[1]&0x1f)+0x04;
00002e  4bf0              LDR      r3,|L1.1008|
000030  7858              LDRB     r0,[r3,#1]  ; RXBUFF
000032  f000021f          AND      r2,r0,#0x1f
000036  1d12              ADDS     r2,r2,#4
;;;127    r=RXBUFF[0];
000038  7818              LDRB     r0,[r3,#0]  ; RXBUFF
;;;128    for(j=1;j<(lb+1);j++)
00003a  2101              MOVS     r1,#1
;;;129    	{
;;;130    	r=(RXBUFF[j]^Table95[r]);
00003c  4cee              LDR      r4,|L1.1016|
00003e  1c52              ADDS     r2,r2,#1              ;128
000040  e004              B        |L1.76|
                  |L1.66|
000042  5c5d              LDRB     r5,[r3,r1]
000044  5c20              LDRB     r0,[r4,r0]
000046  4068              EORS     r0,r0,r5
000048  1c49              ADDS     r1,r1,#1              ;128
00004a  b2c9              UXTB     r1,r1                 ;128
                  |L1.76|
00004c  4291              CMP      r1,r2                 ;128
00004e  d3f8              BCC      |L1.66|
;;;131    	}
;;;132    if(r==0)r=0xFF;
000050  2800              CMP      r0,#0
000052  d100              BNE      |L1.86|
000054  20ff              MOVS     r0,#0xff
                  |L1.86|
;;;133    return r;	
;;;134    }  
000056  bd30              POP      {r4,r5,pc}
;;;135    
                          ENDP

                  CRC1_out PROC
;;;136    //-----------------------------------------------
;;;137    char CRC1_out(void)
000058  b530              PUSH     {r4,r5,lr}
;;;138    {
;;;139    char r,j,lb;
;;;140    lb=(TXBUFF[1]&0x1f)+0x04;
00005a  4be5              LDR      r3,|L1.1008|
00005c  3328              ADDS     r3,r3,#0x28
00005e  7858              LDRB     r0,[r3,#1]  ; TXBUFF
000060  f000021f          AND      r2,r0,#0x1f
000064  1d12              ADDS     r2,r2,#4
;;;141    r=TXBUFF[0];
000066  7818              LDRB     r0,[r3,#0]  ; TXBUFF
;;;142    for(j=1;j<(lb+1);j++)
000068  2101              MOVS     r1,#1
;;;143    	{
;;;144    	r=(TXBUFF[j]^Table87[r]);
00006a  4ce2              LDR      r4,|L1.1012|
00006c  1c52              ADDS     r2,r2,#1              ;142
00006e  e004              B        |L1.122|
                  |L1.112|
000070  5c5d              LDRB     r5,[r3,r1]
000072  5c20              LDRB     r0,[r4,r0]
000074  4068              EORS     r0,r0,r5
000076  1c49              ADDS     r1,r1,#1              ;142
000078  b2c9              UXTB     r1,r1                 ;142
                  |L1.122|
00007a  4291              CMP      r1,r2                 ;142
00007c  d3f8              BCC      |L1.112|
;;;145    	}
;;;146    if(r==0)r=0xFF;
00007e  2800              CMP      r0,#0
000080  d100              BNE      |L1.132|
000082  20ff              MOVS     r0,#0xff
                  |L1.132|
;;;147    return r;	
;;;148    } 
000084  bd30              POP      {r4,r5,pc}
;;;149    
                          ENDP

                  CRC2_out PROC
;;;150    //-----------------------------------------------
;;;151    char CRC2_out(void)
000086  b530              PUSH     {r4,r5,lr}
;;;152    {
;;;153    char r,j,lb;
;;;154    lb=(TXBUFF[1]&0x1f)+0x04;
000088  4bd9              LDR      r3,|L1.1008|
00008a  3328              ADDS     r3,r3,#0x28
00008c  7858              LDRB     r0,[r3,#1]  ; TXBUFF
00008e  f000021f          AND      r2,r0,#0x1f
000092  1d12              ADDS     r2,r2,#4
;;;155    r=TXBUFF[0];
000094  7818              LDRB     r0,[r3,#0]  ; TXBUFF
;;;156    for(j=1;j<(lb+1);j++)
000096  2101              MOVS     r1,#1
;;;157    	{
;;;158    	r=(TXBUFF[j]^Table95[r]);
000098  4cd7              LDR      r4,|L1.1016|
00009a  1c52              ADDS     r2,r2,#1              ;156
00009c  e004              B        |L1.168|
                  |L1.158|
00009e  5c5d              LDRB     r5,[r3,r1]
0000a0  5c20              LDRB     r0,[r4,r0]
0000a2  4068              EORS     r0,r0,r5
0000a4  1c49              ADDS     r1,r1,#1              ;156
0000a6  b2c9              UXTB     r1,r1                 ;156
                  |L1.168|
0000a8  4291              CMP      r1,r2                 ;156
0000aa  d3f8              BCC      |L1.158|
;;;159    	}
;;;160    if(r==0)r=0xFF;
0000ac  2800              CMP      r0,#0
0000ae  d100              BNE      |L1.178|
0000b0  20ff              MOVS     r0,#0xff
                  |L1.178|
;;;161    return r;	
;;;162    }
0000b2  bd30              POP      {r4,r5,pc}
;;;163    
                          ENDP

                  can1_out_adr PROC
;;;164    //-----------------------------------------------
;;;165    void can1_out_adr(char* ptr,char num)
0000b4  e92d4ff0          PUSH     {r4-r11,lr}
;;;166    {
;;;167    
;;;168    if(num<=8)
;;;169    	{
;;;170    	can1_info[ptr_can1_tx_wr]=(((long)num)<<16)&0x000f0000UL;
0000b8  4fd0              LDR      r7,|L1.1020|
0000ba  f8dfa344          LDR      r10,|L1.1024|
;;;171    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
;;;172    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[0];
;;;173    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[1];
;;;174    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[2];
;;;175    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[3];
;;;176    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[4];
;;;177    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[5];
;;;178    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[6];
;;;179    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[7];	
;;;180    	ptr_can1_tx_wr++;
;;;181    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
0000be  2500              MOVS     r5,#0
0000c0  78fa              LDRB     r2,[r7,#3]            ;170
0000c2  f10a0920          ADD      r9,r10,#0x20          ;171
0000c6  1c53              ADDS     r3,r2,#1              ;180
0000c8  b2de              UXTB     r6,r3                 ;180
0000ca  f1090c20          ADD      r12,r9,#0x20          ;172
0000ce  f1090840          ADD      r8,r9,#0x40           ;176
0000d2  f04f0e9e          MOV      lr,#0x9e              ;171
0000d6  eb080382          ADD      r3,r8,r2,LSL #2       ;176
0000da  eb0c0482          ADD      r4,r12,r2,LSL #2      ;172
0000de  2908              CMP      r1,#8                 ;168
0000e0  d81e              BHI      |L1.288|
0000e2  f44f2b70          MOV      r11,#0xf0000          ;170
0000e6  ea0b4101          AND      r1,r11,r1,LSL #16     ;170
0000ea  f84a1022          STR      r1,[r10,r2,LSL #2]    ;170
0000ee  f849e022          STR      lr,[r9,r2,LSL #2]     ;171
0000f2  7801              LDRB     r1,[r0,#0]            ;172
0000f4  f80c1022          STRB     r1,[r12,r2,LSL #2]    ;172
0000f8  7841              LDRB     r1,[r0,#1]            ;173
0000fa  7061              STRB     r1,[r4,#1]            ;173
0000fc  7881              LDRB     r1,[r0,#2]            ;174
0000fe  70a1              STRB     r1,[r4,#2]            ;174
000100  78c1              LDRB     r1,[r0,#3]            ;175
000102  70e1              STRB     r1,[r4,#3]            ;175
000104  7901              LDRB     r1,[r0,#4]            ;176
000106  f8081022          STRB     r1,[r8,r2,LSL #2]     ;176
00010a  7941              LDRB     r1,[r0,#5]            ;177
00010c  7059              STRB     r1,[r3,#1]            ;177
00010e  7981              LDRB     r1,[r0,#6]            ;178
000110  7099              STRB     r1,[r3,#2]            ;178
000112  79c0              LDRB     r0,[r0,#7]            ;179
000114  70d8              STRB     r0,[r3,#3]            ;179
000116  70fe              STRB     r6,[r7,#3]            ;180
000118  2e08              CMP      r6,#8
00011a  d300              BCC      |L1.286|
00011c  70fd              STRB     r5,[r7,#3]
                  |L1.286|
00011e  e14b              B        |L1.952|
                  |L1.288|
;;;182    	}
;;;183    	
;;;184    else if(num<=16)
;;;185    	{
;;;186    	can1_info[ptr_can1_tx_wr]=(8UL<<16)&0x000f0000UL;
000120  f44f2b00          MOV      r11,#0x80000
000124  2910              CMP      r1,#0x10              ;184
000126  d847              BHI      |L1.440|
000128  f84ab022          STR      r11,[r10,r2,LSL #2]
;;;187    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
00012c  f849e022          STR      lr,[r9,r2,LSL #2]
;;;188    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[0];
000130  f890b000          LDRB     r11,[r0,#0]
000134  f80cb022          STRB     r11,[r12,r2,LSL #2]
;;;189    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[1];
000138  f890b001          LDRB     r11,[r0,#1]
00013c  f884b001          STRB     r11,[r4,#1]
;;;190    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[2];
000140  f890b002          LDRB     r11,[r0,#2]
000144  f884b002          STRB     r11,[r4,#2]
;;;191    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[3];
000148  f890b003          LDRB     r11,[r0,#3]
00014c  f884b003          STRB     r11,[r4,#3]
;;;192    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[4];
000150  7904              LDRB     r4,[r0,#4]
000152  f8084022          STRB     r4,[r8,r2,LSL #2]
;;;193    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[5];
000156  7942              LDRB     r2,[r0,#5]
000158  705a              STRB     r2,[r3,#1]
;;;194    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[6];
00015a  7982              LDRB     r2,[r0,#6]
00015c  709a              STRB     r2,[r3,#2]
;;;195    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[7];	
00015e  79c2              LDRB     r2,[r0,#7]
000160  70da              STRB     r2,[r3,#3]
;;;196    	ptr_can1_tx_wr++;
000162  70fe              STRB     r6,[r7,#3]
;;;197    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
000164  2e08              CMP      r6,#8
000166  d300              BCC      |L1.362|
000168  70fd              STRB     r5,[r7,#3]
                  |L1.362|
;;;198    	
;;;199    	can1_info[ptr_can1_tx_wr]=(((long)(num-8))<<16)&0x000f0000UL;
00016a  3908              SUBS     r1,r1,#8
00016c  f44f2270          MOV      r2,#0xf0000
000170  ea024201          AND      r2,r2,r1,LSL #16
000174  78f9              LDRB     r1,[r7,#3]  ; ptr_can1_tx_wr
000176  f84a2021          STR      r2,[r10,r1,LSL #2]
;;;200    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
00017a  f849e021          STR      lr,[r9,r1,LSL #2]
;;;201    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[8];
00017e  7a02              LDRB     r2,[r0,#8]
000180  f80c2021          STRB     r2,[r12,r1,LSL #2]
;;;202    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[9];
000184  eb0c0381          ADD      r3,r12,r1,LSL #2
000188  7a42              LDRB     r2,[r0,#9]
00018a  705a              STRB     r2,[r3,#1]
;;;203    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[10];
00018c  7a82              LDRB     r2,[r0,#0xa]
00018e  709a              STRB     r2,[r3,#2]
;;;204    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[11];
000190  7ac2              LDRB     r2,[r0,#0xb]
000192  70da              STRB     r2,[r3,#3]
;;;205    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[12];
000194  7b02              LDRB     r2,[r0,#0xc]
000196  f8082021          STRB     r2,[r8,r1,LSL #2]
;;;206    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[13];
00019a  eb080281          ADD      r2,r8,r1,LSL #2
00019e  7b43              LDRB     r3,[r0,#0xd]
0001a0  7053              STRB     r3,[r2,#1]
;;;207    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[14];
0001a2  7b83              LDRB     r3,[r0,#0xe]
0001a4  7093              STRB     r3,[r2,#2]
;;;208    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[15];	
0001a6  7bc0              LDRB     r0,[r0,#0xf]
0001a8  70d0              STRB     r0,[r2,#3]
;;;209    	ptr_can1_tx_wr++;
0001aa  1c49              ADDS     r1,r1,#1
0001ac  b2c8              UXTB     r0,r1
0001ae  70f8              STRB     r0,[r7,#3]
;;;210    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;	
0001b0  2808              CMP      r0,#8
0001b2  d300              BCC      |L1.438|
0001b4  70fd              STRB     r5,[r7,#3]
                  |L1.438|
0001b6  e0ff              B        |L1.952|
                  |L1.440|
;;;211    	}	
;;;212    
;;;213    else if(num<=24)
0001b8  2918              CMP      r1,#0x18
0001ba  d86c              BHI      |L1.662|
;;;214    	{
;;;215    	can1_info[ptr_can1_tx_wr]=(8UL<<16)&0x000f0000UL;
0001bc  f44f2b00          MOV      r11,#0x80000
0001c0  f84ab022          STR      r11,[r10,r2,LSL #2]
;;;216    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
0001c4  f849e022          STR      lr,[r9,r2,LSL #2]
;;;217    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[0];
0001c8  f890b000          LDRB     r11,[r0,#0]
0001cc  f80cb022          STRB     r11,[r12,r2,LSL #2]
;;;218    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[1];
0001d0  f890b001          LDRB     r11,[r0,#1]
0001d4  f884b001          STRB     r11,[r4,#1]
;;;219    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[2];
0001d8  f890b002          LDRB     r11,[r0,#2]
0001dc  f884b002          STRB     r11,[r4,#2]
;;;220    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[3];
0001e0  f890b003          LDRB     r11,[r0,#3]
0001e4  f884b003          STRB     r11,[r4,#3]
;;;221    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[4];
0001e8  7904              LDRB     r4,[r0,#4]
0001ea  f8084022          STRB     r4,[r8,r2,LSL #2]
;;;222    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[5];
0001ee  7942              LDRB     r2,[r0,#5]
0001f0  705a              STRB     r2,[r3,#1]
;;;223    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[6];
0001f2  7982              LDRB     r2,[r0,#6]
0001f4  709a              STRB     r2,[r3,#2]
;;;224    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[7];	
0001f6  79c2              LDRB     r2,[r0,#7]
0001f8  70da              STRB     r2,[r3,#3]
;;;225    	ptr_can1_tx_wr++;
0001fa  70fe              STRB     r6,[r7,#3]
;;;226    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
0001fc  2e08              CMP      r6,#8
0001fe  d300              BCC      |L1.514|
000200  70fd              STRB     r5,[r7,#3]
                  |L1.514|
;;;227    
;;;228    	can1_info[ptr_can1_tx_wr]=(8UL<<16)&0x000f0000UL;
000202  78fa              LDRB     r2,[r7,#3]  ; ptr_can1_tx_wr
000204  f44f2300          MOV      r3,#0x80000
000208  f84a3022          STR      r3,[r10,r2,LSL #2]
;;;229    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
00020c  f849e022          STR      lr,[r9,r2,LSL #2]
;;;230    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[8];
000210  7a03              LDRB     r3,[r0,#8]
000212  f80c3022          STRB     r3,[r12,r2,LSL #2]
;;;231    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[9];
000216  eb0c0382          ADD      r3,r12,r2,LSL #2
00021a  7a44              LDRB     r4,[r0,#9]
00021c  705c              STRB     r4,[r3,#1]
;;;232    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[10];
00021e  7a84              LDRB     r4,[r0,#0xa]
000220  709c              STRB     r4,[r3,#2]
;;;233    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[11];
000222  7ac4              LDRB     r4,[r0,#0xb]
000224  70dc              STRB     r4,[r3,#3]
;;;234    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[12];
000226  7b03              LDRB     r3,[r0,#0xc]
000228  f8083022          STRB     r3,[r8,r2,LSL #2]
;;;235    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[13];
00022c  eb080382          ADD      r3,r8,r2,LSL #2
000230  7b44              LDRB     r4,[r0,#0xd]
000232  705c              STRB     r4,[r3,#1]
;;;236    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[14];
000234  7b84              LDRB     r4,[r0,#0xe]
000236  709c              STRB     r4,[r3,#2]
;;;237    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[15];	
000238  7bc4              LDRB     r4,[r0,#0xf]
00023a  70dc              STRB     r4,[r3,#3]
;;;238    	ptr_can1_tx_wr++;
00023c  1c52              ADDS     r2,r2,#1
00023e  b2d2              UXTB     r2,r2
000240  70fa              STRB     r2,[r7,#3]
;;;239    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
000242  2a08              CMP      r2,#8
000244  d300              BCC      |L1.584|
000246  70fd              STRB     r5,[r7,#3]
                  |L1.584|
;;;240    	
;;;241    	can1_info[ptr_can1_tx_wr]=(((long)(num-16))<<16)&0x000f0000UL;
000248  3910              SUBS     r1,r1,#0x10
00024a  f44f2270          MOV      r2,#0xf0000
00024e  ea024201          AND      r2,r2,r1,LSL #16
000252  78f9              LDRB     r1,[r7,#3]  ; ptr_can1_tx_wr
000254  f84a2021          STR      r2,[r10,r1,LSL #2]
;;;242    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
000258  f849e021          STR      lr,[r9,r1,LSL #2]
;;;243    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[16];
00025c  7c02              LDRB     r2,[r0,#0x10]
00025e  f80c2021          STRB     r2,[r12,r1,LSL #2]
;;;244    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[17];
000262  eb0c0381          ADD      r3,r12,r1,LSL #2
000266  7c42              LDRB     r2,[r0,#0x11]
000268  705a              STRB     r2,[r3,#1]
;;;245    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[18];
00026a  7c82              LDRB     r2,[r0,#0x12]
00026c  709a              STRB     r2,[r3,#2]
;;;246    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[19];
00026e  7cc2              LDRB     r2,[r0,#0x13]
000270  70da              STRB     r2,[r3,#3]
;;;247    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[20];
000272  7d02              LDRB     r2,[r0,#0x14]
000274  f8082021          STRB     r2,[r8,r1,LSL #2]
;;;248    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[21];
000278  eb080281          ADD      r2,r8,r1,LSL #2
00027c  7d43              LDRB     r3,[r0,#0x15]
00027e  7053              STRB     r3,[r2,#1]
;;;249    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[22];
000280  7d83              LDRB     r3,[r0,#0x16]
000282  7093              STRB     r3,[r2,#2]
;;;250    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[23];	
000284  7dc0              LDRB     r0,[r0,#0x17]
000286  70d0              STRB     r0,[r2,#3]
;;;251    	ptr_can1_tx_wr++;
000288  1c49              ADDS     r1,r1,#1
00028a  b2c8              UXTB     r0,r1
00028c  70f8              STRB     r0,[r7,#3]
;;;252    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;	
00028e  2808              CMP      r0,#8
000290  d300              BCC      |L1.660|
000292  70fd              STRB     r5,[r7,#3]
                  |L1.660|
000294  e090              B        |L1.952|
                  |L1.662|
;;;253    	}	
;;;254    
;;;255    else if(num<=32)
000296  2920              CMP      r1,#0x20
000298  d87d              BHI      |L1.918|
;;;256    	{
;;;257    	can1_info[ptr_can1_tx_wr]=(8UL<<16)&0x000f0000UL;
00029a  f44f2b00          MOV      r11,#0x80000
00029e  f84ab022          STR      r11,[r10,r2,LSL #2]
;;;258    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
0002a2  f849e022          STR      lr,[r9,r2,LSL #2]
;;;259    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[0];
0002a6  f890b000          LDRB     r11,[r0,#0]
0002aa  f80cb022          STRB     r11,[r12,r2,LSL #2]
;;;260    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[1];
0002ae  f890b001          LDRB     r11,[r0,#1]
0002b2  f884b001          STRB     r11,[r4,#1]
;;;261    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[2];
0002b6  f890b002          LDRB     r11,[r0,#2]
0002ba  f884b002          STRB     r11,[r4,#2]
;;;262    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[3];
0002be  f890b003          LDRB     r11,[r0,#3]
0002c2  f884b003          STRB     r11,[r4,#3]
;;;263    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[4];
0002c6  7904              LDRB     r4,[r0,#4]
0002c8  f8084022          STRB     r4,[r8,r2,LSL #2]
;;;264    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[5];
0002cc  7942              LDRB     r2,[r0,#5]
0002ce  705a              STRB     r2,[r3,#1]
;;;265    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[6];
0002d0  7982              LDRB     r2,[r0,#6]
0002d2  709a              STRB     r2,[r3,#2]
;;;266    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[7];	
0002d4  79c2              LDRB     r2,[r0,#7]
0002d6  70da              STRB     r2,[r3,#3]
;;;267    	ptr_can1_tx_wr++;
0002d8  70fe              STRB     r6,[r7,#3]
;;;268    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
0002da  2e08              CMP      r6,#8
0002dc  d300              BCC      |L1.736|
0002de  70fd              STRB     r5,[r7,#3]
                  |L1.736|
;;;269    
;;;270    	can1_info[ptr_can1_tx_wr]=(8UL<<16)&0x000f0000UL;
0002e0  78fa              LDRB     r2,[r7,#3]  ; ptr_can1_tx_wr
0002e2  f44f2300          MOV      r3,#0x80000
0002e6  f84a3022          STR      r3,[r10,r2,LSL #2]
;;;271    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
0002ea  f849e022          STR      lr,[r9,r2,LSL #2]
;;;272    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[8];
0002ee  7a04              LDRB     r4,[r0,#8]
0002f0  f80c4022          STRB     r4,[r12,r2,LSL #2]
;;;273    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[9];
0002f4  eb0c0482          ADD      r4,r12,r2,LSL #2
0002f8  7a46              LDRB     r6,[r0,#9]
0002fa  7066              STRB     r6,[r4,#1]
;;;274    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[10];
0002fc  7a86              LDRB     r6,[r0,#0xa]
0002fe  70a6              STRB     r6,[r4,#2]
;;;275    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[11];
000300  7ac6              LDRB     r6,[r0,#0xb]
000302  70e6              STRB     r6,[r4,#3]
;;;276    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[12];
000304  7b04              LDRB     r4,[r0,#0xc]
000306  f8084022          STRB     r4,[r8,r2,LSL #2]
;;;277    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[13];
00030a  eb080482          ADD      r4,r8,r2,LSL #2
00030e  7b46              LDRB     r6,[r0,#0xd]
000310  7066              STRB     r6,[r4,#1]
;;;278    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[14];
000312  7b86              LDRB     r6,[r0,#0xe]
000314  70a6              STRB     r6,[r4,#2]
;;;279    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[15];	
000316  7bc6              LDRB     r6,[r0,#0xf]
000318  70e6              STRB     r6,[r4,#3]
;;;280    	ptr_can1_tx_wr++;
00031a  1c52              ADDS     r2,r2,#1
00031c  b2d2              UXTB     r2,r2
00031e  70fa              STRB     r2,[r7,#3]
;;;281    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
000320  2a08              CMP      r2,#8
000322  d300              BCC      |L1.806|
000324  70fd              STRB     r5,[r7,#3]
                  |L1.806|
;;;282    	
;;;283    	can1_info[ptr_can1_tx_wr]=(8UL<<16)&0x000f0000UL;
000326  78fa              LDRB     r2,[r7,#3]  ; ptr_can1_tx_wr
000328  f84a3022          STR      r3,[r10,r2,LSL #2]
;;;284    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
00032c  f849e022          STR      lr,[r9,r2,LSL #2]
;;;285    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[16];
000330  7c03              LDRB     r3,[r0,#0x10]
000332  f80c3022          STRB     r3,[r12,r2,LSL #2]
;;;286    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[17];
000336  eb0c0382          ADD      r3,r12,r2,LSL #2
00033a  7c44              LDRB     r4,[r0,#0x11]
00033c  705c              STRB     r4,[r3,#1]
;;;287    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[18];
00033e  7c84              LDRB     r4,[r0,#0x12]
000340  709c              STRB     r4,[r3,#2]
;;;288    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[19];
000342  7cc4              LDRB     r4,[r0,#0x13]
000344  70dc              STRB     r4,[r3,#3]
;;;289    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[20];
000346  7d03              LDRB     r3,[r0,#0x14]
000348  f8083022          STRB     r3,[r8,r2,LSL #2]
;;;290    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[21];
00034c  eb080382          ADD      r3,r8,r2,LSL #2
000350  7d44              LDRB     r4,[r0,#0x15]
000352  705c              STRB     r4,[r3,#1]
;;;291    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[22];
000354  7d84              LDRB     r4,[r0,#0x16]
000356  709c              STRB     r4,[r3,#2]
;;;292    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[23];	
000358  7dc4              LDRB     r4,[r0,#0x17]
00035a  70dc              STRB     r4,[r3,#3]
;;;293    	ptr_can1_tx_wr++;
00035c  1c52              ADDS     r2,r2,#1
00035e  b2d2              UXTB     r2,r2
000360  70fa              STRB     r2,[r7,#3]
;;;294    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
000362  2a08              CMP      r2,#8
000364  d300              BCC      |L1.872|
000366  70fd              STRB     r5,[r7,#3]
                  |L1.872|
;;;295    	
;;;296    	can1_info[ptr_can1_tx_wr]=(((long)(num-24))<<16)&0x000f0000UL;
000368  3918              SUBS     r1,r1,#0x18
00036a  f44f2270          MOV      r2,#0xf0000
00036e  ea024201          AND      r2,r2,r1,LSL #16
000372  78f9              LDRB     r1,[r7,#3]  ; ptr_can1_tx_wr
000374  f84a2021          STR      r2,[r10,r1,LSL #2]
;;;297    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
000378  f849e021          STR      lr,[r9,r1,LSL #2]
;;;298    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[24];
00037c  7e02              LDRB     r2,[r0,#0x18]
00037e  f80c2021          STRB     r2,[r12,r1,LSL #2]
;;;299    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[25];
000382  eb0c0381          ADD      r3,r12,r1,LSL #2
000386  7e42              LDRB     r2,[r0,#0x19]
000388  705a              STRB     r2,[r3,#1]
;;;300    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[26];
00038a  7e82              LDRB     r2,[r0,#0x1a]
00038c  709a              STRB     r2,[r3,#2]
;;;301    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[27];
00038e  7ec2              LDRB     r2,[r0,#0x1b]
000390  70da              STRB     r2,[r3,#3]
;;;302    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[28];
000392  7f02              LDRB     r2,[r0,#0x1c]
000394  e000              B        |L1.920|
                  |L1.918|
000396  e00f              B        |L1.952|
                  |L1.920|
000398  f8082021          STRB     r2,[r8,r1,LSL #2]
;;;303    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[29];
00039c  eb080281          ADD      r2,r8,r1,LSL #2
0003a0  7f43              LDRB     r3,[r0,#0x1d]
0003a2  7053              STRB     r3,[r2,#1]
;;;304    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[30];
0003a4  7f83              LDRB     r3,[r0,#0x1e]
0003a6  7093              STRB     r3,[r2,#2]
;;;305    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[31];	
0003a8  7fc0              LDRB     r0,[r0,#0x1f]
0003aa  70d0              STRB     r0,[r2,#3]
;;;306    	ptr_can1_tx_wr++;
0003ac  1c49              ADDS     r1,r1,#1
0003ae  b2c8              UXTB     r0,r1
0003b0  70f8              STRB     r0,[r7,#3]
;;;307    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;	
0003b2  2808              CMP      r0,#8
0003b4  d300              BCC      |L1.952|
0003b6  70fd              STRB     r5,[r7,#3]
                  |L1.952|
;;;308    	}	
;;;309    
;;;310    
;;;311    if(bOUT_FREE)
0003b8  7838              LDRB     r0,[r7,#0]  ; bOUT_FREE
0003ba  2800              CMP      r0,#0
0003bc  d016              BEQ      |L1.1004|
;;;312    	{
;;;313    	LPC_CAN1->TFI1=can1_info[ptr_can1_tx_rd];
0003be  7938              LDRB     r0,[r7,#4]  ; ptr_can1_tx_rd
0003c0  4910              LDR      r1,|L1.1028|
0003c2  f85a2020          LDR      r2,[r10,r0,LSL #2]
0003c6  630a              STR      r2,[r1,#0x30]
;;;314         LPC_CAN1->TID1=can1_id[ptr_can1_tx_rd];
0003c8  f8592020          LDR      r2,[r9,r0,LSL #2]
0003cc  634a              STR      r2,[r1,#0x34]
;;;315         LPC_CAN1->TDA1=can1_data[ptr_can1_tx_rd];
0003ce  f85c2020          LDR      r2,[r12,r0,LSL #2]
0003d2  638a              STR      r2,[r1,#0x38]
;;;316         LPC_CAN1->TDB1=can1_datb[ptr_can1_tx_rd];
0003d4  f8582020          LDR      r2,[r8,r0,LSL #2]
0003d8  63ca              STR      r2,[r1,#0x3c]
;;;317         LPC_CAN1->CMR=0x00000021;
0003da  2221              MOVS     r2,#0x21
0003dc  604a              STR      r2,[r1,#4]
;;;318         ptr_can1_tx_rd++;
0003de  1c40              ADDS     r0,r0,#1
0003e0  b2c0              UXTB     r0,r0
0003e2  7138              STRB     r0,[r7,#4]
;;;319         if(ptr_can1_tx_rd>=8)ptr_can1_tx_rd=0;
0003e4  2808              CMP      r0,#8
0003e6  d300              BCC      |L1.1002|
0003e8  713d              STRB     r5,[r7,#4]
                  |L1.1002|
;;;320         bOUT_FREE=0;	
0003ea  703d              STRB     r5,[r7,#0]
                  |L1.1004|
;;;321    	}
;;;322    
;;;323    }	
0003ec  e8bd8ff0          POP      {r4-r11,pc}
                  |L1.1008|
                          DCD      ||.bss||+0x124
                  |L1.1012|
                          DCD      ||.constdata||
                  |L1.1016|
                          DCD      ||.constdata||+0x100
                  |L1.1020|
                          DCD      ||.data||
                  |L1.1024|
                          DCD      ||.bss||
                  |L1.1028|
                          DCD      0x40044000
                          ENDP

                  can2_out_adr PROC
;;;325    //-----------------------------------------------
;;;326    void can2_out_adr(char* ptr,char num)
000408  e92d4ff0          PUSH     {r4-r11,lr}
;;;327    {
;;;328    
;;;329    if(num<=8)
;;;330    	{
;;;331    	can2_info[ptr_can2_tx_wr]=(((long)num)<<16)&0x000f0000UL;
00040c  4fff              LDR      r7,|L1.2060|
00040e  f8dfa400          LDR      r10,|L1.2064|
;;;332    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
;;;333    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[0];
;;;334    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[1];
;;;335    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[2];
;;;336    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[3];
;;;337    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[4];
;;;338    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[5];
;;;339    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[6];
;;;340    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[7];	
;;;341    	ptr_can2_tx_wr++;
;;;342    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
000412  2500              MOVS     r5,#0
000414  797a              LDRB     r2,[r7,#5]            ;331
000416  f10a0920          ADD      r9,r10,#0x20          ;332
00041a  1c53              ADDS     r3,r2,#1              ;341
00041c  b2de              UXTB     r6,r3                 ;341
00041e  f1090c20          ADD      r12,r9,#0x20          ;333
000422  f1090840          ADD      r8,r9,#0x40           ;337
000426  f04f0e9e          MOV      lr,#0x9e              ;332
00042a  eb080382          ADD      r3,r8,r2,LSL #2       ;337
00042e  eb0c0482          ADD      r4,r12,r2,LSL #2      ;333
000432  2908              CMP      r1,#8                 ;329
000434  d81e              BHI      |L1.1140|
000436  f44f2b70          MOV      r11,#0xf0000          ;331
00043a  ea0b4101          AND      r1,r11,r1,LSL #16     ;331
00043e  f84a1022          STR      r1,[r10,r2,LSL #2]    ;331
000442  f849e022          STR      lr,[r9,r2,LSL #2]     ;332
000446  7801              LDRB     r1,[r0,#0]            ;333
000448  f80c1022          STRB     r1,[r12,r2,LSL #2]    ;333
00044c  7841              LDRB     r1,[r0,#1]            ;334
00044e  7061              STRB     r1,[r4,#1]            ;334
000450  7881              LDRB     r1,[r0,#2]            ;335
000452  70a1              STRB     r1,[r4,#2]            ;335
000454  78c1              LDRB     r1,[r0,#3]            ;336
000456  70e1              STRB     r1,[r4,#3]            ;336
000458  7901              LDRB     r1,[r0,#4]            ;337
00045a  f8081022          STRB     r1,[r8,r2,LSL #2]     ;337
00045e  7941              LDRB     r1,[r0,#5]            ;338
000460  7059              STRB     r1,[r3,#1]            ;338
000462  7981              LDRB     r1,[r0,#6]            ;339
000464  7099              STRB     r1,[r3,#2]            ;339
000466  79c0              LDRB     r0,[r0,#7]            ;340
000468  70d8              STRB     r0,[r3,#3]            ;340
00046a  717e              STRB     r6,[r7,#5]            ;341
00046c  2e08              CMP      r6,#8
00046e  d300              BCC      |L1.1138|
000470  717d              STRB     r5,[r7,#5]
                  |L1.1138|
000472  e14b              B        |L1.1804|
                  |L1.1140|
;;;343    	}
;;;344    	
;;;345    else if(num<=16)
;;;346    	{
;;;347    	
;;;348    	can2_info[ptr_can2_tx_wr]=(8UL<<16)&0x000f0000UL;
000474  f44f2b00          MOV      r11,#0x80000
000478  2910              CMP      r1,#0x10              ;345
00047a  d847              BHI      |L1.1292|
00047c  f84ab022          STR      r11,[r10,r2,LSL #2]
;;;349    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
000480  f849e022          STR      lr,[r9,r2,LSL #2]
;;;350    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[0];
000484  f890b000          LDRB     r11,[r0,#0]
000488  f80cb022          STRB     r11,[r12,r2,LSL #2]
;;;351    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[1];
00048c  f890b001          LDRB     r11,[r0,#1]
000490  f884b001          STRB     r11,[r4,#1]
;;;352    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[2];
000494  f890b002          LDRB     r11,[r0,#2]
000498  f884b002          STRB     r11,[r4,#2]
;;;353    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[3];
00049c  f890b003          LDRB     r11,[r0,#3]
0004a0  f884b003          STRB     r11,[r4,#3]
;;;354    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[4];
0004a4  7904              LDRB     r4,[r0,#4]
0004a6  f8084022          STRB     r4,[r8,r2,LSL #2]
;;;355    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[5];
0004aa  7942              LDRB     r2,[r0,#5]
0004ac  705a              STRB     r2,[r3,#1]
;;;356    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[6];
0004ae  7982              LDRB     r2,[r0,#6]
0004b0  709a              STRB     r2,[r3,#2]
;;;357    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[7];	
0004b2  79c2              LDRB     r2,[r0,#7]
0004b4  70da              STRB     r2,[r3,#3]
;;;358    	ptr_can2_tx_wr++;
0004b6  717e              STRB     r6,[r7,#5]
;;;359    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
0004b8  2e08              CMP      r6,#8
0004ba  d300              BCC      |L1.1214|
0004bc  717d              STRB     r5,[r7,#5]
                  |L1.1214|
;;;360    	
;;;361    	can2_info[ptr_can2_tx_wr]=(((long)(num-8))<<16)&0x000f0000UL;
0004be  3908              SUBS     r1,r1,#8
0004c0  f44f2270          MOV      r2,#0xf0000
0004c4  ea024201          AND      r2,r2,r1,LSL #16
0004c8  7979              LDRB     r1,[r7,#5]  ; ptr_can2_tx_wr
0004ca  f84a2021          STR      r2,[r10,r1,LSL #2]
;;;362    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
0004ce  f849e021          STR      lr,[r9,r1,LSL #2]
;;;363    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[8];
0004d2  7a02              LDRB     r2,[r0,#8]
0004d4  f80c2021          STRB     r2,[r12,r1,LSL #2]
;;;364    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[9];
0004d8  eb0c0381          ADD      r3,r12,r1,LSL #2
0004dc  7a42              LDRB     r2,[r0,#9]
0004de  705a              STRB     r2,[r3,#1]
;;;365    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[10];
0004e0  7a82              LDRB     r2,[r0,#0xa]
0004e2  709a              STRB     r2,[r3,#2]
;;;366    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[11];
0004e4  7ac2              LDRB     r2,[r0,#0xb]
0004e6  70da              STRB     r2,[r3,#3]
;;;367    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[12];
0004e8  7b02              LDRB     r2,[r0,#0xc]
0004ea  f8082021          STRB     r2,[r8,r1,LSL #2]
;;;368    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[13];
0004ee  eb080281          ADD      r2,r8,r1,LSL #2
0004f2  7b43              LDRB     r3,[r0,#0xd]
0004f4  7053              STRB     r3,[r2,#1]
;;;369    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[14];
0004f6  7b83              LDRB     r3,[r0,#0xe]
0004f8  7093              STRB     r3,[r2,#2]
;;;370    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[15];	
0004fa  7bc0              LDRB     r0,[r0,#0xf]
0004fc  70d0              STRB     r0,[r2,#3]
;;;371    	ptr_can2_tx_wr++;
0004fe  1c49              ADDS     r1,r1,#1
000500  b2c8              UXTB     r0,r1
000502  7178              STRB     r0,[r7,#5]
;;;372    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
000504  2808              CMP      r0,#8
000506  d300              BCC      |L1.1290|
000508  717d              STRB     r5,[r7,#5]
                  |L1.1290|
00050a  e0ff              B        |L1.1804|
                  |L1.1292|
;;;373    		
;;;374    	}	
;;;375    
;;;376    else if(num<=24)
00050c  2918              CMP      r1,#0x18
00050e  d86c              BHI      |L1.1514|
;;;377    	{
;;;378    	can2_info[ptr_can2_tx_wr]=(8UL<<16)&0x000f0000UL;
000510  f44f2b00          MOV      r11,#0x80000
000514  f84ab022          STR      r11,[r10,r2,LSL #2]
;;;379    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
000518  f849e022          STR      lr,[r9,r2,LSL #2]
;;;380    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[0];
00051c  f890b000          LDRB     r11,[r0,#0]
000520  f80cb022          STRB     r11,[r12,r2,LSL #2]
;;;381    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[1];
000524  f890b001          LDRB     r11,[r0,#1]
000528  f884b001          STRB     r11,[r4,#1]
;;;382    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[2];
00052c  f890b002          LDRB     r11,[r0,#2]
000530  f884b002          STRB     r11,[r4,#2]
;;;383    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[3];
000534  f890b003          LDRB     r11,[r0,#3]
000538  f884b003          STRB     r11,[r4,#3]
;;;384    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[4];
00053c  7904              LDRB     r4,[r0,#4]
00053e  f8084022          STRB     r4,[r8,r2,LSL #2]
;;;385    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[5];
000542  7942              LDRB     r2,[r0,#5]
000544  705a              STRB     r2,[r3,#1]
;;;386    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[6];
000546  7982              LDRB     r2,[r0,#6]
000548  709a              STRB     r2,[r3,#2]
;;;387    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[7];	
00054a  79c2              LDRB     r2,[r0,#7]
00054c  70da              STRB     r2,[r3,#3]
;;;388    	ptr_can2_tx_wr++;
00054e  717e              STRB     r6,[r7,#5]
;;;389    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
000550  2e08              CMP      r6,#8
000552  d300              BCC      |L1.1366|
000554  717d              STRB     r5,[r7,#5]
                  |L1.1366|
;;;390    
;;;391    	can2_info[ptr_can2_tx_wr]=(8UL<<16)&0x000f0000UL;
000556  797a              LDRB     r2,[r7,#5]  ; ptr_can2_tx_wr
000558  f44f2300          MOV      r3,#0x80000
00055c  f84a3022          STR      r3,[r10,r2,LSL #2]
;;;392    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
000560  f849e022          STR      lr,[r9,r2,LSL #2]
;;;393    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[8];
000564  7a03              LDRB     r3,[r0,#8]
000566  f80c3022          STRB     r3,[r12,r2,LSL #2]
;;;394    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[9];
00056a  eb0c0382          ADD      r3,r12,r2,LSL #2
00056e  7a44              LDRB     r4,[r0,#9]
000570  705c              STRB     r4,[r3,#1]
;;;395    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[10];
000572  7a84              LDRB     r4,[r0,#0xa]
000574  709c              STRB     r4,[r3,#2]
;;;396    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[11];
000576  7ac4              LDRB     r4,[r0,#0xb]
000578  70dc              STRB     r4,[r3,#3]
;;;397    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[12];
00057a  7b03              LDRB     r3,[r0,#0xc]
00057c  f8083022          STRB     r3,[r8,r2,LSL #2]
;;;398    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[13];
000580  eb080382          ADD      r3,r8,r2,LSL #2
000584  7b44              LDRB     r4,[r0,#0xd]
000586  705c              STRB     r4,[r3,#1]
;;;399    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[14];
000588  7b84              LDRB     r4,[r0,#0xe]
00058a  709c              STRB     r4,[r3,#2]
;;;400    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[15];	
00058c  7bc4              LDRB     r4,[r0,#0xf]
00058e  70dc              STRB     r4,[r3,#3]
;;;401    	ptr_can2_tx_wr++;
000590  1c52              ADDS     r2,r2,#1
000592  b2d2              UXTB     r2,r2
000594  717a              STRB     r2,[r7,#5]
;;;402    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
000596  2a08              CMP      r2,#8
000598  d300              BCC      |L1.1436|
00059a  717d              STRB     r5,[r7,#5]
                  |L1.1436|
;;;403    	
;;;404    	can2_info[ptr_can2_tx_wr]=(((long)(num-16))<<16)&0x000f0000UL;
00059c  3910              SUBS     r1,r1,#0x10
00059e  f44f2270          MOV      r2,#0xf0000
0005a2  ea024201          AND      r2,r2,r1,LSL #16
0005a6  7979              LDRB     r1,[r7,#5]  ; ptr_can2_tx_wr
0005a8  f84a2021          STR      r2,[r10,r1,LSL #2]
;;;405    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
0005ac  f849e021          STR      lr,[r9,r1,LSL #2]
;;;406    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[16];
0005b0  7c02              LDRB     r2,[r0,#0x10]
0005b2  f80c2021          STRB     r2,[r12,r1,LSL #2]
;;;407    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[17];
0005b6  eb0c0381          ADD      r3,r12,r1,LSL #2
0005ba  7c42              LDRB     r2,[r0,#0x11]
0005bc  705a              STRB     r2,[r3,#1]
;;;408    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[18];
0005be  7c82              LDRB     r2,[r0,#0x12]
0005c0  709a              STRB     r2,[r3,#2]
;;;409    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[19];
0005c2  7cc2              LDRB     r2,[r0,#0x13]
0005c4  70da              STRB     r2,[r3,#3]
;;;410    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[20];
0005c6  7d02              LDRB     r2,[r0,#0x14]
0005c8  f8082021          STRB     r2,[r8,r1,LSL #2]
;;;411    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[21];
0005cc  eb080281          ADD      r2,r8,r1,LSL #2
0005d0  7d43              LDRB     r3,[r0,#0x15]
0005d2  7053              STRB     r3,[r2,#1]
;;;412    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[22];
0005d4  7d83              LDRB     r3,[r0,#0x16]
0005d6  7093              STRB     r3,[r2,#2]
;;;413    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[23];	
0005d8  7dc0              LDRB     r0,[r0,#0x17]
0005da  70d0              STRB     r0,[r2,#3]
;;;414    	ptr_can2_tx_wr++;
0005dc  1c49              ADDS     r1,r1,#1
0005de  b2c8              UXTB     r0,r1
0005e0  7178              STRB     r0,[r7,#5]
;;;415    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;	
0005e2  2808              CMP      r0,#8
0005e4  d300              BCC      |L1.1512|
0005e6  717d              STRB     r5,[r7,#5]
                  |L1.1512|
0005e8  e090              B        |L1.1804|
                  |L1.1514|
;;;416    	}	
;;;417    
;;;418    else if(num<=32)
0005ea  2920              CMP      r1,#0x20
0005ec  d87d              BHI      |L1.1770|
;;;419    	{
;;;420    	can2_info[ptr_can2_tx_wr]=(8UL<<16)&0x000f0000UL;
0005ee  f44f2b00          MOV      r11,#0x80000
0005f2  f84ab022          STR      r11,[r10,r2,LSL #2]
;;;421    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
0005f6  f849e022          STR      lr,[r9,r2,LSL #2]
;;;422    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[0];
0005fa  f890b000          LDRB     r11,[r0,#0]
0005fe  f80cb022          STRB     r11,[r12,r2,LSL #2]
;;;423    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[1];
000602  f890b001          LDRB     r11,[r0,#1]
000606  f884b001          STRB     r11,[r4,#1]
;;;424    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[2];
00060a  f890b002          LDRB     r11,[r0,#2]
00060e  f884b002          STRB     r11,[r4,#2]
;;;425    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[3];
000612  f890b003          LDRB     r11,[r0,#3]
000616  f884b003          STRB     r11,[r4,#3]
;;;426    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[4];
00061a  7904              LDRB     r4,[r0,#4]
00061c  f8084022          STRB     r4,[r8,r2,LSL #2]
;;;427    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[5];
000620  7942              LDRB     r2,[r0,#5]
000622  705a              STRB     r2,[r3,#1]
;;;428    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[6];
000624  7982              LDRB     r2,[r0,#6]
000626  709a              STRB     r2,[r3,#2]
;;;429    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[7];	
000628  79c2              LDRB     r2,[r0,#7]
00062a  70da              STRB     r2,[r3,#3]
;;;430    	ptr_can2_tx_wr++;
00062c  717e              STRB     r6,[r7,#5]
;;;431    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
00062e  2e08              CMP      r6,#8
000630  d300              BCC      |L1.1588|
000632  717d              STRB     r5,[r7,#5]
                  |L1.1588|
;;;432    
;;;433    	can2_info[ptr_can2_tx_wr]=(8UL<<16)&0x000f0000UL;
000634  797a              LDRB     r2,[r7,#5]  ; ptr_can2_tx_wr
000636  f44f2300          MOV      r3,#0x80000
00063a  f84a3022          STR      r3,[r10,r2,LSL #2]
;;;434    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
00063e  f849e022          STR      lr,[r9,r2,LSL #2]
;;;435    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[8];
000642  7a04              LDRB     r4,[r0,#8]
000644  f80c4022          STRB     r4,[r12,r2,LSL #2]
;;;436    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[9];
000648  eb0c0482          ADD      r4,r12,r2,LSL #2
00064c  7a46              LDRB     r6,[r0,#9]
00064e  7066              STRB     r6,[r4,#1]
;;;437    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[10];
000650  7a86              LDRB     r6,[r0,#0xa]
000652  70a6              STRB     r6,[r4,#2]
;;;438    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[11];
000654  7ac6              LDRB     r6,[r0,#0xb]
000656  70e6              STRB     r6,[r4,#3]
;;;439    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[12];
000658  7b04              LDRB     r4,[r0,#0xc]
00065a  f8084022          STRB     r4,[r8,r2,LSL #2]
;;;440    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[13];
00065e  eb080482          ADD      r4,r8,r2,LSL #2
000662  7b46              LDRB     r6,[r0,#0xd]
000664  7066              STRB     r6,[r4,#1]
;;;441    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[14];
000666  7b86              LDRB     r6,[r0,#0xe]
000668  70a6              STRB     r6,[r4,#2]
;;;442    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[15];	
00066a  7bc6              LDRB     r6,[r0,#0xf]
00066c  70e6              STRB     r6,[r4,#3]
;;;443    	ptr_can2_tx_wr++;
00066e  1c52              ADDS     r2,r2,#1
000670  b2d2              UXTB     r2,r2
000672  717a              STRB     r2,[r7,#5]
;;;444    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
000674  2a08              CMP      r2,#8
000676  d300              BCC      |L1.1658|
000678  717d              STRB     r5,[r7,#5]
                  |L1.1658|
;;;445    	
;;;446    	can2_info[ptr_can2_tx_wr]=(8UL<<16)&0x000f0000UL;
00067a  797a              LDRB     r2,[r7,#5]  ; ptr_can2_tx_wr
00067c  f84a3022          STR      r3,[r10,r2,LSL #2]
;;;447    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
000680  f849e022          STR      lr,[r9,r2,LSL #2]
;;;448    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[16];
000684  7c03              LDRB     r3,[r0,#0x10]
000686  f80c3022          STRB     r3,[r12,r2,LSL #2]
;;;449    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[17];
00068a  eb0c0382          ADD      r3,r12,r2,LSL #2
00068e  7c44              LDRB     r4,[r0,#0x11]
000690  705c              STRB     r4,[r3,#1]
;;;450    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[18];
000692  7c84              LDRB     r4,[r0,#0x12]
000694  709c              STRB     r4,[r3,#2]
;;;451    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[19];
000696  7cc4              LDRB     r4,[r0,#0x13]
000698  70dc              STRB     r4,[r3,#3]
;;;452    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[20];
00069a  7d03              LDRB     r3,[r0,#0x14]
00069c  f8083022          STRB     r3,[r8,r2,LSL #2]
;;;453    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[21];
0006a0  eb080382          ADD      r3,r8,r2,LSL #2
0006a4  7d44              LDRB     r4,[r0,#0x15]
0006a6  705c              STRB     r4,[r3,#1]
;;;454    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[22];
0006a8  7d84              LDRB     r4,[r0,#0x16]
0006aa  709c              STRB     r4,[r3,#2]
;;;455    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[23];	
0006ac  7dc4              LDRB     r4,[r0,#0x17]
0006ae  70dc              STRB     r4,[r3,#3]
;;;456    	ptr_can2_tx_wr++;
0006b0  1c52              ADDS     r2,r2,#1
0006b2  b2d2              UXTB     r2,r2
0006b4  717a              STRB     r2,[r7,#5]
;;;457    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
0006b6  2a08              CMP      r2,#8
0006b8  d300              BCC      |L1.1724|
0006ba  717d              STRB     r5,[r7,#5]
                  |L1.1724|
;;;458    	
;;;459    	can2_info[ptr_can2_tx_wr]=(((long)(num-24))<<16)&0x000f0000UL;
0006bc  3918              SUBS     r1,r1,#0x18
0006be  f44f2270          MOV      r2,#0xf0000
0006c2  ea024201          AND      r2,r2,r1,LSL #16
0006c6  7979              LDRB     r1,[r7,#5]  ; ptr_can2_tx_wr
0006c8  f84a2021          STR      r2,[r10,r1,LSL #2]
;;;460    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
0006cc  f849e021          STR      lr,[r9,r1,LSL #2]
;;;461    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[24];
0006d0  7e02              LDRB     r2,[r0,#0x18]
0006d2  f80c2021          STRB     r2,[r12,r1,LSL #2]
;;;462    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[25];
0006d6  eb0c0381          ADD      r3,r12,r1,LSL #2
0006da  7e42              LDRB     r2,[r0,#0x19]
0006dc  705a              STRB     r2,[r3,#1]
;;;463    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[26];
0006de  7e82              LDRB     r2,[r0,#0x1a]
0006e0  709a              STRB     r2,[r3,#2]
;;;464    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[27];
0006e2  7ec2              LDRB     r2,[r0,#0x1b]
0006e4  70da              STRB     r2,[r3,#3]
;;;465    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[28];
0006e6  7f02              LDRB     r2,[r0,#0x1c]
0006e8  e000              B        |L1.1772|
                  |L1.1770|
0006ea  e00f              B        |L1.1804|
                  |L1.1772|
0006ec  f8082021          STRB     r2,[r8,r1,LSL #2]
;;;466    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[29];
0006f0  eb080281          ADD      r2,r8,r1,LSL #2
0006f4  7f43              LDRB     r3,[r0,#0x1d]
0006f6  7053              STRB     r3,[r2,#1]
;;;467    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[30];
0006f8  7f83              LDRB     r3,[r0,#0x1e]
0006fa  7093              STRB     r3,[r2,#2]
;;;468    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[31];	
0006fc  7fc0              LDRB     r0,[r0,#0x1f]
0006fe  70d0              STRB     r0,[r2,#3]
;;;469    	ptr_can2_tx_wr++;
000700  1c49              ADDS     r1,r1,#1
000702  b2c8              UXTB     r0,r1
000704  7178              STRB     r0,[r7,#5]
;;;470    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;	
000706  2808              CMP      r0,#8
000708  d300              BCC      |L1.1804|
00070a  717d              STRB     r5,[r7,#5]
                  |L1.1804|
;;;471    	}	
;;;472    
;;;473    
;;;474    if(bOUT_FREE2)
00070c  7878              LDRB     r0,[r7,#1]  ; bOUT_FREE2
00070e  2800              CMP      r0,#0
000710  d016              BEQ      |L1.1856|
;;;475    	{
;;;476    	LPC_CAN2->TFI1=can2_info[ptr_can2_tx_rd];
000712  79b8              LDRB     r0,[r7,#6]  ; ptr_can2_tx_rd
000714  493f              LDR      r1,|L1.2068|
000716  f85a2020          LDR      r2,[r10,r0,LSL #2]
00071a  630a              STR      r2,[r1,#0x30]
;;;477         LPC_CAN2->TID1=can2_id[ptr_can2_tx_rd];
00071c  f8592020          LDR      r2,[r9,r0,LSL #2]
000720  634a              STR      r2,[r1,#0x34]
;;;478         LPC_CAN2->TDA1=can2_data[ptr_can2_tx_rd];
000722  f85c2020          LDR      r2,[r12,r0,LSL #2]
000726  638a              STR      r2,[r1,#0x38]
;;;479         LPC_CAN2->TDB1=can2_datb[ptr_can2_tx_rd];
000728  f8582020          LDR      r2,[r8,r0,LSL #2]
00072c  63ca              STR      r2,[r1,#0x3c]
;;;480         LPC_CAN2->CMR=0x00000021;
00072e  2221              MOVS     r2,#0x21
000730  604a              STR      r2,[r1,#4]
;;;481         ptr_can2_tx_rd++;
000732  1c40              ADDS     r0,r0,#1
000734  b2c0              UXTB     r0,r0
000736  71b8              STRB     r0,[r7,#6]
;;;482         if(ptr_can2_tx_rd>=8)ptr_can2_tx_rd=0;
000738  2808              CMP      r0,#8
00073a  d300              BCC      |L1.1854|
00073c  71bd              STRB     r5,[r7,#6]
                  |L1.1854|
;;;483         bOUT_FREE2=0;	
00073e  707d              STRB     r5,[r7,#1]
                  |L1.1856|
;;;484    	}
;;;485    
;;;486    }
000740  e654              B        |L1.1004|
;;;487    
                          ENDP

                  paking PROC
;;;488    //-----------------------------------------------
;;;489    void paking(char* data_ptr,char data_len)
000742  b570              PUSH     {r4-r6,lr}
;;;490    {
;;;491    char i,ii,iii;
;;;492    for(i=0;i<data_len;i++)
000744  2200              MOVS     r2,#0
;;;493    	{
;;;494    	ii=data_len+(i/7);
000746  2507              MOVS     r5,#7
000748  e01f              B        |L1.1930|
                  |L1.1866|
00074a  fbb2f4f5          UDIV     r4,r2,r5
00074e  1863              ADDS     r3,r4,r1
000750  b2db              UXTB     r3,r3
;;;495    	iii=i-(7*(i/7)); 
000752  eba404c4          SUB      r4,r4,r4,LSL #3
000756  4414              ADD      r4,r4,r2
000758  b2e4              UXTB     r4,r4
;;;496    	if(iii==0) data_ptr[ii]=0;
00075a  b90c              CBNZ     r4,|L1.1888|
00075c  2400              MOVS     r4,#0
00075e  54c4              STRB     r4,[r0,r3]
                  |L1.1888|
;;;497    	data_ptr[ii]<<=1;
000760  5cc4              LDRB     r4,[r0,r3]
000762  0664              LSLS     r4,r4,#25
000764  0e24              LSRS     r4,r4,#24
000766  54c4              STRB     r4,[r0,r3]
;;;498    	if(data_ptr[i]&0x01)
000768  5c86              LDRB     r6,[r0,r2]
00076a  07f6              LSLS     r6,r6,#31
00076c  d003              BEQ      |L1.1910|
;;;499    		{
;;;500    		data_ptr[ii]|=0x01;//(1<<(6-iii));
00076e  f0440401          ORR      r4,r4,#1
000772  54c4              STRB     r4,[r0,r3]
000774  e002              B        |L1.1916|
                  |L1.1910|
;;;501    		}                      
;;;502    	else 
;;;503    		{
;;;504    		data_ptr[ii]&=0xfe;//~(1<<(6-iii));
000776  f00404fe          AND      r4,r4,#0xfe
00077a  54c4              STRB     r4,[r0,r3]
                  |L1.1916|
;;;505    		}              
;;;506    	data_ptr[i]>>=1;	        
00077c  5c83              LDRB     r3,[r0,r2]
00077e  085b              LSRS     r3,r3,#1
;;;507    	data_ptr[i]|=0x80;	
000780  f0430380          ORR      r3,r3,#0x80
000784  5483              STRB     r3,[r0,r2]
000786  1c52              ADDS     r2,r2,#1              ;492
000788  b2d2              UXTB     r2,r2                 ;492
                  |L1.1930|
00078a  428a              CMP      r2,r1                 ;492
00078c  d3dd              BCC      |L1.1866|
;;;508    	}                       
;;;509    for(i=data_len;i<(data_len+(data_len/7)+1);i++)
00078e  fbb1f2f5          UDIV     r2,r1,r5
000792  440a              ADD      r2,r2,r1
000794  1c52              ADDS     r2,r2,#1
000796  e005              B        |L1.1956|
                  |L1.1944|
;;;510    	{
;;;511    	data_ptr[i]|=0x80;
000798  5c43              LDRB     r3,[r0,r1]
00079a  f0430380          ORR      r3,r3,#0x80
00079e  5443              STRB     r3,[r0,r1]
0007a0  1c49              ADDS     r1,r1,#1              ;509
0007a2  b2c9              UXTB     r1,r1                 ;509
                  |L1.1956|
0007a4  428a              CMP      r2,r1                 ;509
0007a6  d8f7              BHI      |L1.1944|
;;;512    	}	
;;;513    }
0007a8  bd70              POP      {r4-r6,pc}
;;;514    
                          ENDP

                  can1_out PROC
;;;515    //-----------------------------------------------
;;;516    void can1_out(char dat0,char dat1,char dat2,char dat3,char dat4,char dat5,char dat6,char dat7)
0007aa  e92d4ff0          PUSH     {r4-r11,lr}
;;;517    {
0007ae  e9ddab0b          LDRD     r10,r11,[sp,#0x2c]
0007b2  e9dd8909          LDRD     r8,r9,[sp,#0x24]
;;;518    //new_rotor[0]++;
;;;519    can1_info[ptr_can1_tx_wr]=((8UL)<<16)&0x000f0000UL;
0007b6  4d15              LDR      r5,|L1.2060|
0007b8  4f15              LDR      r7,|L1.2064|
0007ba  f44f2600          MOV      r6,#0x80000
0007be  78ec              LDRB     r4,[r5,#3]  ; ptr_can1_tx_wr
0007c0  3f80              SUBS     r7,r7,#0x80
0007c2  f8476024          STR      r6,[r7,r4,LSL #2]
;;;520    can1_id[ptr_can1_tx_wr]=0x0000009eUL;
0007c6  f1070c20          ADD      r12,r7,#0x20
0007ca  269e              MOVS     r6,#0x9e
0007cc  f84c6024          STR      r6,[r12,r4,LSL #2]
;;;521    *((char*)&can1_data[ptr_can1_tx_wr])=dat0;
0007d0  f1070640          ADD      r6,r7,#0x40
0007d4  f8060024          STRB     r0,[r6,r4,LSL #2]
;;;522    *(((char*)&can1_data[ptr_can1_tx_wr])+1)=dat1;
0007d8  eb060084          ADD      r0,r6,r4,LSL #2
0007dc  7041              STRB     r1,[r0,#1]
;;;523    *(((char*)&can1_data[ptr_can1_tx_wr])+2)=dat2;
0007de  7082              STRB     r2,[r0,#2]
;;;524    *(((char*)&can1_data[ptr_can1_tx_wr])+3)=dat3;
0007e0  70c3              STRB     r3,[r0,#3]
;;;525    *((char*)&can1_datb[ptr_can1_tx_wr])=dat4;
0007e2  f1060220          ADD      r2,r6,#0x20
0007e6  f8028024          STRB     r8,[r2,r4,LSL #2]
;;;526    *(((char*)&can1_datb[ptr_can1_tx_wr])+1)=dat5;
0007ea  eb020084          ADD      r0,r2,r4,LSL #2
0007ee  f8809001          STRB     r9,[r0,#1]
;;;527    *(((char*)&can1_datb[ptr_can1_tx_wr])+2)=dat6;
0007f2  f880a002          STRB     r10,[r0,#2]
;;;528    *(((char*)&can1_datb[ptr_can1_tx_wr])+3)=dat7;	
0007f6  f880b003          STRB     r11,[r0,#3]
;;;529    ptr_can1_tx_wr++;
0007fa  1c64              ADDS     r4,r4,#1
0007fc  b2e0              UXTB     r0,r4
0007fe  70e8              STRB     r0,[r5,#3]
;;;530    if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
000800  2300              MOVS     r3,#0
000802  2808              CMP      r0,#8
000804  d300              BCC      |L1.2056|
000806  70eb              STRB     r3,[r5,#3]
                  |L1.2056|
;;;531    
;;;532    
;;;533    if(bOUT_FREE)
000808  7828              LDRB     r0,[r5,#0]  ; bOUT_FREE
00080a  e005              B        |L1.2072|
                  |L1.2060|
                          DCD      ||.data||
                  |L1.2064|
                          DCD      ||.bss||+0x80
                  |L1.2068|
                          DCD      0x40048000
                  |L1.2072|
000818  2800              CMP      r0,#0
00081a  d016              BEQ      |L1.2122|
;;;534    	{
;;;535    	//rotor_rotor_rotor[1]++;
;;;536    //	new_rotor[1]++;
;;;537    	LPC_CAN1->TFI1=can1_info[ptr_can1_tx_rd];
00081c  7928              LDRB     r0,[r5,#4]  ; ptr_can1_tx_rd
00081e  f8574020          LDR      r4,[r7,r0,LSL #2]
000822  49ff              LDR      r1,|L1.3104|
000824  630c              STR      r4,[r1,#0x30]
;;;538         LPC_CAN1->TID1=can1_id[ptr_can1_tx_rd];
000826  f85c4020          LDR      r4,[r12,r0,LSL #2]
00082a  634c              STR      r4,[r1,#0x34]
;;;539         LPC_CAN1->TDA1=can1_data[ptr_can1_tx_rd];
00082c  f8564020          LDR      r4,[r6,r0,LSL #2]
000830  638c              STR      r4,[r1,#0x38]
;;;540         LPC_CAN1->TDB1=can1_datb[ptr_can1_tx_rd];
000832  f8522020          LDR      r2,[r2,r0,LSL #2]
000836  63ca              STR      r2,[r1,#0x3c]
;;;541         LPC_CAN1->CMR=0x00000021;
000838  2221              MOVS     r2,#0x21
00083a  604a              STR      r2,[r1,#4]
;;;542         ptr_can1_tx_rd++;
00083c  1c40              ADDS     r0,r0,#1
00083e  b2c0              UXTB     r0,r0
000840  7128              STRB     r0,[r5,#4]
;;;543         if(ptr_can1_tx_rd>=8)ptr_can1_tx_rd=0;
000842  2808              CMP      r0,#8
000844  d300              BCC      |L1.2120|
000846  712b              STRB     r3,[r5,#4]
                  |L1.2120|
;;;544         bOUT_FREE=0;	
000848  702b              STRB     r3,[r5,#0]
                  |L1.2122|
;;;545    	}
;;;546    }	
00084a  e5cf              B        |L1.1004|
;;;547    
                          ENDP

                  can2_out PROC
;;;548    //-----------------------------------------------
;;;549    void can2_out(char dat0,char dat1,char dat2,char dat3,char dat4,char dat5,char dat6,char dat7)
00084c  e92d4ff0          PUSH     {r4-r11,lr}
;;;550    {
000850  e9ddab0b          LDRD     r10,r11,[sp,#0x2c]
000854  e9dd8909          LDRD     r8,r9,[sp,#0x24]
;;;551    
;;;552    //new_rotor[0]++;
;;;553    can2_info[ptr_can2_tx_wr]=((8UL)<<16)&0x000f0000UL;
000858  4df3              LDR      r5,|L1.3112|
00085a  4ff2              LDR      r7,|L1.3108|
00085c  f44f2600          MOV      r6,#0x80000
000860  796c              LDRB     r4,[r5,#5]  ; ptr_can2_tx_wr
000862  f8476024          STR      r6,[r7,r4,LSL #2]
;;;554    can2_id[ptr_can2_tx_wr]=0x0000018eUL;
000866  f1070c20          ADD      r12,r7,#0x20
00086a  f44f76c7          MOV      r6,#0x18e
00086e  f84c6024          STR      r6,[r12,r4,LSL #2]
;;;555    *((char*)&can2_data[ptr_can2_tx_wr])=dat0;
000872  f1070640          ADD      r6,r7,#0x40
000876  f8060024          STRB     r0,[r6,r4,LSL #2]
;;;556    *(((char*)&can2_data[ptr_can2_tx_wr])+1)=dat1;
00087a  eb060084          ADD      r0,r6,r4,LSL #2
00087e  7041              STRB     r1,[r0,#1]
;;;557    *(((char*)&can2_data[ptr_can2_tx_wr])+2)=dat2;
000880  7082              STRB     r2,[r0,#2]
;;;558    *(((char*)&can2_data[ptr_can2_tx_wr])+3)=dat3;
000882  70c3              STRB     r3,[r0,#3]
;;;559    *((char*)&can2_datb[ptr_can2_tx_wr])=dat4;
000884  f1060220          ADD      r2,r6,#0x20
000888  f8028024          STRB     r8,[r2,r4,LSL #2]
;;;560    *(((char*)&can2_datb[ptr_can2_tx_wr])+1)=dat5;
00088c  eb020084          ADD      r0,r2,r4,LSL #2
000890  f8809001          STRB     r9,[r0,#1]
;;;561    *(((char*)&can2_datb[ptr_can2_tx_wr])+2)=dat6;
000894  f880a002          STRB     r10,[r0,#2]
;;;562    *(((char*)&can2_datb[ptr_can2_tx_wr])+3)=dat7;	
000898  f880b003          STRB     r11,[r0,#3]
;;;563    ptr_can2_tx_wr++;
00089c  1c64              ADDS     r4,r4,#1
00089e  b2e0              UXTB     r0,r4
0008a0  7168              STRB     r0,[r5,#5]
;;;564    if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
0008a2  2300              MOVS     r3,#0
0008a4  2808              CMP      r0,#8
0008a6  d300              BCC      |L1.2218|
0008a8  716b              STRB     r3,[r5,#5]
                  |L1.2218|
;;;565    
;;;566    
;;;567    if(bOUT_FREE2)
0008aa  7868              LDRB     r0,[r5,#1]  ; bOUT_FREE2
0008ac  2800              CMP      r0,#0
0008ae  d016              BEQ      |L1.2270|
;;;568    	{
;;;569    	//rotor_rotor_rotor[1]++;
;;;570    //	new_rotor[1]++;
;;;571    	LPC_CAN2->TFI1=can2_info[ptr_can2_tx_rd];
0008b0  79a8              LDRB     r0,[r5,#6]  ; ptr_can2_tx_rd
0008b2  49de              LDR      r1,|L1.3116|
0008b4  f8574020          LDR      r4,[r7,r0,LSL #2]
0008b8  630c              STR      r4,[r1,#0x30]
;;;572         LPC_CAN2->TID1=can2_id[ptr_can2_tx_rd];
0008ba  f85c4020          LDR      r4,[r12,r0,LSL #2]
0008be  634c              STR      r4,[r1,#0x34]
;;;573         LPC_CAN2->TDA1=can2_data[ptr_can2_tx_rd];
0008c0  f8564020          LDR      r4,[r6,r0,LSL #2]
0008c4  638c              STR      r4,[r1,#0x38]
;;;574         LPC_CAN2->TDB1=can2_datb[ptr_can2_tx_rd];
0008c6  f8522020          LDR      r2,[r2,r0,LSL #2]
0008ca  63ca              STR      r2,[r1,#0x3c]
;;;575         LPC_CAN2->CMR=0x00000021;
0008cc  2221              MOVS     r2,#0x21
0008ce  604a              STR      r2,[r1,#4]
;;;576         ptr_can2_tx_rd++;
0008d0  1c40              ADDS     r0,r0,#1
0008d2  b2c0              UXTB     r0,r0
0008d4  71a8              STRB     r0,[r5,#6]
;;;577         if(ptr_can2_tx_rd>=8)ptr_can2_tx_rd=0;
0008d6  2808              CMP      r0,#8
0008d8  d300              BCC      |L1.2268|
0008da  71ab              STRB     r3,[r5,#6]
                  |L1.2268|
;;;578         bOUT_FREE2=0;	
0008dc  706b              STRB     r3,[r5,#1]
                  |L1.2270|
;;;579    	}
;;;580    }	
0008de  e585              B        |L1.1004|
;;;581    	
                          ENDP

                  can_adr_hndl PROC
;;;583    //-----------------------------------------------
;;;584    void can_adr_hndl(void)
0008e0  4ad0              LDR      r2,|L1.3108|
;;;585    {
;;;586    	TXBUFF[2]=RXBUFF[3];
0008e2  32a4              ADDS     r2,r2,#0xa4
0008e4  f1020128          ADD      r1,r2,#0x28
0008e8  78d0              LDRB     r0,[r2,#3]  ; RXBUFF
0008ea  7088              STRB     r0,[r1,#2]
;;;587    	TXBUFF[3]=RXBUFF[2];
0008ec  7890              LDRB     r0,[r2,#2]  ; RXBUFF
0008ee  70c8              STRB     r0,[r1,#3]
;;;588    	TXBUFF[4]=((RXBUFF[4]&0xF0)>>4)|((RXBUFF[4]&0x0f)<<4);
0008f0  7910              LDRB     r0,[r2,#4]  ; RXBUFF
0008f2  0903              LSRS     r3,r0,#4
0008f4  ea431000          ORR      r0,r3,r0,LSL #4
0008f8  7108              STRB     r0,[r1,#4]
;;;589    	TXBUFF[5]=((RXBUFF[5]&0xF0)>>4)|((RXBUFF[5]&0x0f)<<4);	
0008fa  7950              LDRB     r0,[r2,#5]  ; RXBUFF
0008fc  0902              LSRS     r2,r0,#4
0008fe  ea421000          ORR      r0,r2,r0,LSL #4
000902  7148              STRB     r0,[r1,#5]
;;;590    }	
000904  4770              BX       lr
;;;591    
                          ENDP

                  can_in_an2 PROC
;;;592    //-----------------------------------------------
;;;593    void can_in_an2(void)
000906  e92d4ff8          PUSH     {r3-r11,lr}
;;;594    {
;;;595    if(!bIN) goto CAN_IN_AN_end; 
00090a  4dc7              LDR      r5,|L1.3112|
00090c  7a28              LDRB     r0,[r5,#8]  ; bIN
00090e  b3f0              CBZ      r0,|L1.2446|
;;;596    can_debug_plazma[0][1]++;
000910  f8dfb310          LDR      r11,|L1.3108|
000914  f10b0bfe          ADD      r11,r11,#0xfe
000918  4659              MOV      r1,r11
00091a  f89b0001          LDRB     r0,[r11,#1]  ; can_debug_plazma
00091e  1c40              ADDS     r0,r0,#1
000920  7048              STRB     r0,[r1,#1]
;;;597     
;;;598    
;;;599    //  
;;;600    if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xc0)==0x40)&&
000922  f1a1005a          SUB      r0,r1,#0x5a
000926  4603              MOV      r3,r0
000928  f890c000          LDRB     r12,[r0,#0]  ; RXBUFF
;;;601    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x01))
;;;602    	{ 
;;;603         
;;;604    
;;;605        	TXBUFF[0]=0x30;
00092c  f1a10432          SUB      r4,r1,#0x32
000930  7858              LDRB     r0,[r3,#1]            ;600
000932  7919              LDRB     r1,[r3,#4]            ;601
000934  795a              LDRB     r2,[r3,#5]            ;601
000936  2730              MOVS     r7,#0x30              ;600
000938  2602              MOVS     r6,#2                 ;601
00093a  799b              LDRB     r3,[r3,#6]            ;601
;;;606    	TXBUFF[1]=(RXBUFF[1]&0xa0)+4;
00093c  f0000aa0          AND      r10,r0,#0xa0
000940  f04f0901          MOV      r9,#1                 ;600
000944  f04f080e          MOV      r8,#0xe               ;601
000948  f1bc0f30          CMP      r12,#0x30             ;600
00094c  d10a              BNE      |L1.2404|
00094e  ebb91f90          CMP      r9,r0,LSR #6          ;600
000952  d107              BNE      |L1.2404|
000954  ebb81f11          CMP      r8,r1,LSR #4          ;601
000958  d104              BNE      |L1.2404|
00095a  ebb61f12          CMP      r6,r2,LSR #4          ;601
00095e  d101              BNE      |L1.2404|
000960  2b01              CMP      r3,#1                 ;601
000962  d003              BEQ      |L1.2412|
                  |L1.2404|
;;;607    	can_adr_hndl();
;;;608    	TXBUFF[6]=0x01;
;;;609    	TXBUFF[7]=3;
;;;610    	TXBUFF[8]=5;
;;;611    	TXBUFF[9]=CRC1_out();
;;;612    	TXBUFF[10]=CRC2_out();
;;;613    	TX_len=11;
;;;614    
;;;615    	can2_out_adr(TXBUFF,11);  
;;;616    	}
;;;617    //    
;;;618    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xc0)==0x40)&&
000964  f1bc0f30          CMP      r12,#0x30
000968  d01d              BEQ      |L1.2470|
00096a  e027              B        |L1.2492|
                  |L1.2412|
00096c  7027              STRB     r7,[r4,#0]            ;605
00096e  f10a0a04          ADD      r10,r10,#4            ;606
000972  f884a001          STRB     r10,[r4,#1]           ;606
000976  f7fffffe          BL       can_adr_hndl
00097a  f8849006          STRB     r9,[r4,#6]            ;608
00097e  2003              MOVS     r0,#3                 ;609
000980  71e0              STRB     r0,[r4,#7]            ;609
000982  2005              MOVS     r0,#5                 ;610
000984  7220              STRB     r0,[r4,#8]            ;610
000986  f7fffffe          BL       CRC1_out
00098a  7260              STRB     r0,[r4,#9]            ;611
00098c  e000              B        |L1.2448|
                  |L1.2446|
00098e  e3fe              B        |L1.4494|
                  |L1.2448|
000990  f7fffffe          BL       CRC2_out
000994  72a0              STRB     r0,[r4,#0xa]          ;612
000996  200b              MOVS     r0,#0xb               ;613
000998  72a8              STRB     r0,[r5,#0xa]          ;613
00099a  48a2              LDR      r0,|L1.3108|
00099c  210b              MOVS     r1,#0xb               ;615
00099e  30cc              ADDS     r0,r0,#0xcc           ;615
0009a0  f7fffffe          BL       can2_out_adr
0009a4  e247              B        |L1.3638|
                  |L1.2470|
0009a6  ebb91f90          CMP      r9,r0,LSR #6
0009aa  d107              BNE      |L1.2492|
;;;619    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0xB0))
0009ac  ebb81f11          CMP      r8,r1,LSR #4
0009b0  d104              BNE      |L1.2492|
0009b2  ebb61f12          CMP      r6,r2,LSR #4
0009b6  d101              BNE      |L1.2492|
0009b8  2bb0              CMP      r3,#0xb0
0009ba  d011              BEQ      |L1.2528|
                  |L1.2492|
0009bc  f8dfb264          LDR      r11,|L1.3108|
;;;620    	{ 
;;;621    	can_debug_plazma[0][2]++;
;;;622        	TXBUFF[0]=0x30;
;;;623    	TXBUFF[1]=(RXBUFF[1]&0xa0)+13;
;;;624    	can_adr_hndl(); 
;;;625    	
;;;626    	TXBUFF[6]=0xB0;
;;;627    	
;;;628    	//net_U=231;
;;;629    	//net_F=501;
;;;630    
;;;631    	if(net_U>=254)TXBUFF[7]=0xff;
;;;632    	else TXBUFF[7]=net_U;
;;;633    	
;;;634    	if(net_F<400) TXBUFF[8]=1;
;;;635    	else if(net_F>654) TXBUFF[8]=0xff;
;;;636    	else TXBUFF[8]=(unsigned char)((net_F-400)+1);
;;;637    	
;;;638    	TXBUFF[9]=*((char*)(&load_U));
;;;639    	TXBUFF[10]=*(((char*)(&load_U))+1);
;;;640    	TXBUFF[11]=*((char*)(&load_I));
;;;641    	TXBUFF[12]=*(((char*)(&load_I))+1);
;;;642    	
;;;643    	TXBUFF[13]=0xcc;
;;;644    	TXBUFF[13]|=4;(NUMIST&0x07);
;;;645    	TXBUFF[13]|=((NUMBAT&0x03)<<4);
;;;646    	
;;;647    
;;;648    	TXBUFF[14]=0x80;
;;;649    	if(avar_stat&0x00000001)TXBUFF[14]|=0x01;
;;;650    	if(PAR)TXBUFF[14]|=0x40;
;;;651    	
;;;652    	TXBUFF[15]=25;//tbat[2];
;;;653         
;;;654    	paking(&TXBUFF[6],10);
;;;655    	
;;;656    	TXBUFF[18]=CRC1_out();
;;;657    	TXBUFF[19]=CRC2_out();
;;;658    	TX_len=20;
;;;659    				
;;;660    	can2_out_adr(TXBUFF,20);  
;;;661    	} 
;;;662    
;;;663    //   1 
;;;664    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xc0)==0x40)&&
0009c0  f1bc0f30          CMP      r12,#0x30
0009c4  f10b0ba4          ADD      r11,r11,#0xa4         ;600
0009c8  f89ba001          LDRB     r10,[r11,#1]          ;600
;;;665    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0xB1)&&(RXBUFF[7]==0x01))
0009cc  f89bb007          LDRB     r11,[r11,#7]
0009d0  f00a0aa0          AND      r10,r10,#0xa0         ;606
;;;666    	{ 
;;;667    	signed short temp_S;
;;;668    
;;;669        	TXBUFF[0]=0x30;
;;;670    	TXBUFF[1]=(RXBUFF[1]&0xa0)+14;
0009d4  f10a0a0e          ADD      r10,r10,#0xe
0009d8  f00a0aff          AND      r10,r10,#0xff
0009dc  d05f              BEQ      |L1.2718|
0009de  e06c              B        |L1.2746|
                  |L1.2528|
0009e0  f89b0002          LDRB     r0,[r11,#2]           ;621  ; can_debug_plazma
0009e4  1c40              ADDS     r0,r0,#1              ;621
0009e6  f88b0002          STRB     r0,[r11,#2]           ;621
0009ea  7027              STRB     r7,[r4,#0]            ;622
0009ec  f10a0a0d          ADD      r10,r10,#0xd          ;623
0009f0  f884a001          STRB     r10,[r4,#1]           ;623
0009f4  f7fffffe          BL       can_adr_hndl
0009f8  20b0              MOVS     r0,#0xb0              ;626
0009fa  71a0              STRB     r0,[r4,#6]            ;626
0009fc  488c              LDR      r0,|L1.3120|
0009fe  f9b00000          LDRSH    r0,[r0,#0]            ;631  ; net_U
000a02  28fe              CMP      r0,#0xfe              ;631
000a04  db02              BLT      |L1.2572|
000a06  20ff              MOVS     r0,#0xff              ;631
000a08  71e0              STRB     r0,[r4,#7]            ;631
000a0a  e000              B        |L1.2574|
                  |L1.2572|
000a0c  71e0              STRB     r0,[r4,#7]            ;632
                  |L1.2574|
000a0e  4889              LDR      r0,|L1.3124|
000a10  f9b00000          LDRSH    r0,[r0,#0]            ;634  ; net_F
000a14  f5b07fc8          CMP      r0,#0x190             ;634
000a18  da02              BGE      |L1.2592|
000a1a  f8849008          STRB     r9,[r4,#8]            ;634
000a1e  e009              B        |L1.2612|
                  |L1.2592|
000a20  f240218e          MOV      r1,#0x28e             ;635
000a24  4288              CMP      r0,r1                 ;635
000a26  dd02              BLE      |L1.2606|
000a28  20ff              MOVS     r0,#0xff              ;635
000a2a  7220              STRB     r0,[r4,#8]            ;635
000a2c  e002              B        |L1.2612|
                  |L1.2606|
000a2e  f2a0108f          SUB      r0,r0,#0x18f          ;636
000a32  7220              STRB     r0,[r4,#8]            ;636
                  |L1.2612|
000a34  4880              LDR      r0,|L1.3128|
000a36  7801              LDRB     r1,[r0,#0]            ;638  ; load_U
000a38  7261              STRB     r1,[r4,#9]            ;638
000a3a  7840              LDRB     r0,[r0,#1]            ;639  ; load_U
000a3c  72a0              STRB     r0,[r4,#0xa]          ;639
000a3e  487f              LDR      r0,|L1.3132|
000a40  7801              LDRB     r1,[r0,#0]            ;640  ; load_I
000a42  72e1              STRB     r1,[r4,#0xb]          ;640
000a44  7840              LDRB     r0,[r0,#1]            ;641  ; load_I
000a46  7320              STRB     r0,[r4,#0xc]          ;641
000a48  20cc              MOVS     r0,#0xcc              ;643
000a4a  497d              LDR      r1,|L1.3136|
000a4c  8809              LDRH     r1,[r1,#0]            ;645  ; NUMBAT
000a4e  f0010103          AND      r1,r1,#3              ;645
000a52  ea401001          ORR      r0,r0,r1,LSL #4       ;645
000a56  7360              STRB     r0,[r4,#0xd]          ;645
000a58  2080              MOVS     r0,#0x80              ;648
000a5a  73a0              STRB     r0,[r4,#0xe]          ;648
000a5c  4879              LDR      r0,|L1.3140|
000a5e  6800              LDR      r0,[r0,#0]            ;649  ; avar_stat
000a60  07c0              LSLS     r0,r0,#31             ;649
000a62  d001              BEQ      |L1.2664|
000a64  2081              MOVS     r0,#0x81              ;649
000a66  73a0              STRB     r0,[r4,#0xe]          ;649
                  |L1.2664|
000a68  4877              LDR      r0,|L1.3144|
000a6a  8800              LDRH     r0,[r0,#0]            ;650  ; PAR
000a6c  b118              CBZ      r0,|L1.2678|
000a6e  7ba0              LDRB     r0,[r4,#0xe]          ;650  ; TXBUFF
000a70  f0400040          ORR      r0,r0,#0x40           ;650
000a74  73a0              STRB     r0,[r4,#0xe]          ;650
                  |L1.2678|
000a76  2019              MOVS     r0,#0x19              ;652
000a78  73e0              STRB     r0,[r4,#0xf]          ;652
000a7a  210a              MOVS     r1,#0xa               ;654
000a7c  1da0              ADDS     r0,r4,#6              ;654
000a7e  f7fffffe          BL       paking
000a82  f7fffffe          BL       CRC1_out
000a86  74a0              STRB     r0,[r4,#0x12]         ;656
000a88  f7fffffe          BL       CRC2_out
000a8c  74e0              STRB     r0,[r4,#0x13]         ;657
000a8e  2014              MOVS     r0,#0x14              ;658
000a90  72a8              STRB     r0,[r5,#0xa]          ;658
000a92  4864              LDR      r0,|L1.3108|
000a94  2114              MOVS     r1,#0x14              ;660
000a96  30cc              ADDS     r0,r0,#0xcc           ;660
000a98  f7fffffe          BL       can2_out_adr
000a9c  e38c              B        |L1.4536|
                  |L1.2718|
000a9e  ebb91f90          CMP      r9,r0,LSR #6          ;664
000aa2  d10a              BNE      |L1.2746|
000aa4  ebb81f11          CMP      r8,r1,LSR #4          ;665
000aa8  d107              BNE      |L1.2746|
000aaa  ebb61f12          CMP      r6,r2,LSR #4          ;665
000aae  d104              BNE      |L1.2746|
000ab0  2bb1              CMP      r3,#0xb1              ;665
000ab2  d102              BNE      |L1.2746|
000ab4  f1bb0f01          CMP      r11,#1                ;665
000ab8  d003              BEQ      |L1.2754|
                  |L1.2746|
;;;671    	can_adr_hndl();
;;;672    	TXBUFF[6]=0xB1;
;;;673    	TXBUFF[7]=1;
;;;674    	
;;;675    	if(BAT_IS_ON[0]!=bisON) TXBUFF[8]=0xFF;
;;;676    	else if(bat[0]._av)TXBUFF[8]=0xF7;
;;;677    	else TXBUFF[8]=0xF0;
;;;678    	
;;;679    	if((spc_stat==spcKE))TXBUFF[9]=0xF9;
;;;680    	else if(spc_stat==spcVZ)TXBUFF[9]=0xF8;                      
;;;681    	else TXBUFF[9]=0xF0;
;;;682    	
;;;683    	
;;;684    	temp_S=(bat[0]._Ib/10)+10000;
;;;685    			
;;;686    	TXBUFF[10]=*((char*)(&bat[0]._Ub));
;;;687    	TXBUFF[11]=*(((char*)(&bat[0]._Ub))+1);
;;;688    	TXBUFF[12]=*((char*)(&temp_S));
;;;689    	TXBUFF[13]=*(((char*)(&temp_S))+1);
;;;690    	TXBUFF[14]=bat[0]._Tb;
;;;691    	TXBUFF[15]=bat[0]._zar; 
;;;692    	
;;;693    	if(BAT_C_REAL[0]==0x5555)TXBUFF[16]=BAT_C_NOM[0];
;;;694    	else TXBUFF[16]=BAT_C_REAL[0]/10;	
;;;695    	
;;;696        	paking(&TXBUFF[6],11);
;;;697        
;;;698    	TXBUFF[19]=CRC1_out();
;;;699    	TXBUFF[20]=CRC2_out();
;;;700    	TX_len=21; 
;;;701     
;;;702    	can2_out_adr(TXBUFF,21);  
;;;703    	}	
;;;704    
;;;705    //   2 
;;;706    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xc0)==0x40)&&
000aba  f1bc0f30          CMP      r12,#0x30
000abe  d05f              BEQ      |L1.2944|
000ac0  e06c              B        |L1.2972|
                  |L1.2754|
000ac2  7027              STRB     r7,[r4,#0]            ;669
000ac4  f884a001          STRB     r10,[r4,#1]           ;670
000ac8  f7fffffe          BL       can_adr_hndl
000acc  20b1              MOVS     r0,#0xb1              ;672
000ace  71a0              STRB     r0,[r4,#6]            ;672
000ad0  f8849007          STRB     r9,[r4,#7]            ;673
000ad4  485d              LDR      r0,|L1.3148|
000ad6  7800              LDRB     r0,[r0,#0]            ;675  ; BAT_IS_ON
000ad8  2855              CMP      r0,#0x55              ;675
000ada  d002              BEQ      |L1.2786|
000adc  20ff              MOVS     r0,#0xff              ;675
000ade  7220              STRB     r0,[r4,#8]            ;675
000ae0  e008              B        |L1.2804|
                  |L1.2786|
000ae2  485b              LDR      r0,|L1.3152|
000ae4  f890003d          LDRB     r0,[r0,#0x3d]         ;676  ; bat
000ae8  b110              CBZ      r0,|L1.2800|
000aea  20f7              MOVS     r0,#0xf7              ;676
000aec  7220              STRB     r0,[r4,#8]            ;676
000aee  e001              B        |L1.2804|
                  |L1.2800|
000af0  20f0              MOVS     r0,#0xf0              ;677
000af2  7220              STRB     r0,[r4,#8]            ;677
                  |L1.2804|
000af4  4857              LDR      r0,|L1.3156|
000af6  7800              LDRB     r0,[r0,#0]            ;679  ; spc_stat
000af8  2801              CMP      r0,#1                 ;679
000afa  d026              BEQ      |L1.2890|
000afc  2802              CMP      r0,#2                 ;680
000afe  d027              BEQ      |L1.2896|
000b00  20f0              MOVS     r0,#0xf0              ;681
000b02  7260              STRB     r0,[r4,#9]            ;681
                  |L1.2820|
000b04  4952              LDR      r1,|L1.3152|
000b06  220a              MOVS     r2,#0xa               ;684
000b08  f9b10008          LDRSH    r0,[r1,#8]            ;684  ; bat
000b0c  fb90f3f2          SDIV     r3,r0,r2              ;684
000b10  f2427010          MOV      r0,#0x2710            ;684
000b14  4418              ADD      r0,r0,r3              ;684
000b16  9000              STR      r0,[sp,#0]            ;684
000b18  7888              LDRB     r0,[r1,#2]            ;686  ; bat
000b1a  72a0              STRB     r0,[r4,#0xa]          ;686
000b1c  78c8              LDRB     r0,[r1,#3]            ;687  ; bat
000b1e  72e0              STRB     r0,[r4,#0xb]          ;687
000b20  f89d0000          LDRB     r0,[sp,#0]            ;688
000b24  7320              STRB     r0,[r4,#0xc]          ;688
000b26  f89d0001          LDRB     r0,[sp,#1]            ;689
000b2a  7360              STRB     r0,[r4,#0xd]          ;689
000b2c  8948              LDRH     r0,[r1,#0xa]          ;690  ; bat
000b2e  73a0              STRB     r0,[r4,#0xe]          ;690
000b30  8a08              LDRH     r0,[r1,#0x10]         ;691  ; bat
000b32  73e0              STRB     r0,[r4,#0xf]          ;691
000b34  4848              LDR      r0,|L1.3160|
000b36  f9b01000          LDRSH    r1,[r0,#0]            ;693  ; BAT_C_REAL
000b3a  f5a140aa          SUB      r0,r1,#0x5500         ;693
000b3e  3855              SUBS     r0,r0,#0x55           ;693
000b40  d109              BNE      |L1.2902|
000b42  4846              LDR      r0,|L1.3164|
000b44  8800              LDRH     r0,[r0,#0]            ;693  ; BAT_C_NOM
000b46  7420              STRB     r0,[r4,#0x10]         ;693
000b48  e008              B        |L1.2908|
                  |L1.2890|
000b4a  20f9              MOVS     r0,#0xf9              ;679
000b4c  7260              STRB     r0,[r4,#9]            ;679
000b4e  e7d9              B        |L1.2820|
                  |L1.2896|
000b50  20f8              MOVS     r0,#0xf8              ;680
000b52  7260              STRB     r0,[r4,#9]            ;680
000b54  e7d6              B        |L1.2820|
                  |L1.2902|
000b56  fb91f0f2          SDIV     r0,r1,r2              ;694
000b5a  7420              STRB     r0,[r4,#0x10]         ;694
                  |L1.2908|
000b5c  210b              MOVS     r1,#0xb               ;696
000b5e  1da0              ADDS     r0,r4,#6              ;696
000b60  f7fffffe          BL       paking
000b64  f7fffffe          BL       CRC1_out
000b68  74e0              STRB     r0,[r4,#0x13]         ;698
000b6a  f7fffffe          BL       CRC2_out
000b6e  7520              STRB     r0,[r4,#0x14]         ;699
000b70  2015              MOVS     r0,#0x15              ;700
000b72  72a8              STRB     r0,[r5,#0xa]          ;700
000b74  482b              LDR      r0,|L1.3108|
000b76  2115              MOVS     r1,#0x15              ;702
000b78  30cc              ADDS     r0,r0,#0xcc           ;702
000b7a  f7fffffe          BL       can2_out_adr
000b7e  e31b              B        |L1.4536|
                  |L1.2944|
000b80  ebb91f90          CMP      r9,r0,LSR #6
000b84  d10a              BNE      |L1.2972|
;;;707    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0xB1)&&(RXBUFF[7]==0x02))
000b86  ebb81f11          CMP      r8,r1,LSR #4
000b8a  d107              BNE      |L1.2972|
000b8c  ebb61f12          CMP      r6,r2,LSR #4
000b90  d104              BNE      |L1.2972|
000b92  2bb1              CMP      r3,#0xb1
000b94  d102              BNE      |L1.2972|
000b96  f1bb0f02          CMP      r11,#2
000b9a  d00f              BEQ      |L1.3004|
                  |L1.2972|
000b9c  f8dfa084          LDR      r10,|L1.3108|
;;;708    	{ 
;;;709    	signed short temp_S;
;;;710    
;;;711        TXBUFF[0]=0x30;
;;;712    	TXBUFF[1]=(RXBUFF[1]&0xa0)+14;
;;;713    	can_adr_hndl();
;;;714    	TXBUFF[6]=0xB1;
;;;715    	TXBUFF[7]=2;
;;;716    	
;;;717    	if(BAT_IS_ON[1]!=bisON) TXBUFF[8]=0xFF;
;;;718    	else if(bat[1]._av)TXBUFF[8]=0xF7;
;;;719    	else TXBUFF[8]=0xF0;
;;;720    
;;;721    	if((spc_stat==spcKE))TXBUFF[9]=0xF9;
;;;722    	else if(spc_stat==spcVZ)TXBUFF[9]=0xF8;                      
;;;723    	else TXBUFF[9]=0xF0;
;;;724    	
;;;725    	
;;;726    	temp_S=(bat[1]._Ib/10)+10000;
;;;727    			
;;;728    	TXBUFF[10]=*((char*)(&bat[1]._Ub));
;;;729    	TXBUFF[11]=*(((char*)(&bat[1]._Ub))+1);
;;;730    	TXBUFF[12]=*((char*)(&temp_S));
;;;731    	TXBUFF[13]=*(((char*)(&temp_S))+1);
;;;732    	TXBUFF[14]=bat[1]._Tb;
;;;733    	TXBUFF[15]=bat[1]._zar; 
;;;734    	
;;;735    	if(BAT_C_REAL[1]==0x5555)TXBUFF[16]=BAT_C_NOM[1];
;;;736    	else TXBUFF[16]=BAT_C_REAL[1]/10;	
;;;737    	
;;;738        	paking(&TXBUFF[6],11);
;;;739        
;;;740    	TXBUFF[19]=CRC1_out();
;;;741    	TXBUFF[20]=CRC2_out();
;;;742    	TX_len=21; 
;;;743     
;;;744    	can2_out_adr(TXBUFF,21);  
;;;745    	}		
;;;746    		
;;;747    
;;;748    
;;;749    
;;;750    	//  1 
;;;751    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xc0)==0x40)&&
000ba0  f1bc0f30          CMP      r12,#0x30
000ba4  f10a0aa4          ADD      r10,r10,#0xa4         ;600
000ba8  f89aa001          LDRB     r10,[r10,#1]          ;600
000bac  f00a0aa0          AND      r10,r10,#0xa0         ;606
;;;752    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0xB2)&&(RXBUFF[7]==0x01))
;;;753    	{ 
;;;754        //	plazma++;
;;;755    
;;;756        	TXBUFF[0]=0x30;
;;;757    	TXBUFF[1]=(RXBUFF[1]&0xa0)+11;
000bb0  f10a0a0b          ADD      r10,r10,#0xb
000bb4  f00a0aff          AND      r10,r10,#0xff
000bb8  d07d              BEQ      |L1.3254|
000bba  e08e              B        |L1.3290|
                  |L1.3004|
000bbc  7027              STRB     r7,[r4,#0]            ;711
000bbe  f884a001          STRB     r10,[r4,#1]           ;712
000bc2  f7fffffe          BL       can_adr_hndl
000bc6  20b1              MOVS     r0,#0xb1              ;714
000bc8  71a0              STRB     r0,[r4,#6]            ;714
000bca  71e6              STRB     r6,[r4,#7]            ;715
000bcc  481f              LDR      r0,|L1.3148|
000bce  7840              LDRB     r0,[r0,#1]            ;717  ; BAT_IS_ON
000bd0  2855              CMP      r0,#0x55              ;717
000bd2  d002              BEQ      |L1.3034|
000bd4  20ff              MOVS     r0,#0xff              ;717
000bd6  7220              STRB     r0,[r4,#8]            ;717
000bd8  e008              B        |L1.3052|
                  |L1.3034|
000bda  481d              LDR      r0,|L1.3152|
000bdc  f8900089          LDRB     r0,[r0,#0x89]         ;718  ; bat
000be0  b110              CBZ      r0,|L1.3048|
000be2  20f7              MOVS     r0,#0xf7              ;718
000be4  7220              STRB     r0,[r4,#8]            ;718
000be6  e001              B        |L1.3052|
                  |L1.3048|
000be8  20f0              MOVS     r0,#0xf0              ;719
000bea  7220              STRB     r0,[r4,#8]            ;719
                  |L1.3052|
000bec  4819              LDR      r0,|L1.3156|
000bee  7800              LDRB     r0,[r0,#0]            ;721  ; spc_stat
000bf0  2801              CMP      r0,#1                 ;721
000bf2  d048              BEQ      |L1.3206|
000bf4  2802              CMP      r0,#2                 ;722
000bf6  d049              BEQ      |L1.3212|
000bf8  20f0              MOVS     r0,#0xf0              ;723
000bfa  7260              STRB     r0,[r4,#9]            ;723
                  |L1.3068|
000bfc  4914              LDR      r1,|L1.3152|
000bfe  314e              ADDS     r1,r1,#0x4e           ;726
000c00  220a              MOVS     r2,#0xa               ;726
000c02  f9b10006          LDRSH    r0,[r1,#6]            ;726  ; bat
000c06  fb90f3f2          SDIV     r3,r0,r2              ;726
000c0a  f2427010          MOV      r0,#0x2710            ;726
000c0e  4418              ADD      r0,r0,r3              ;726
000c10  9000              STR      r0,[sp,#0]            ;726
000c12  7808              LDRB     r0,[r1,#0]            ;728  ; bat
000c14  72a0              STRB     r0,[r4,#0xa]          ;728
000c16  7848              LDRB     r0,[r1,#1]            ;729  ; bat
000c18  72e0              STRB     r0,[r4,#0xb]          ;729
000c1a  f89d0000          LDRB     r0,[sp,#0]            ;730
000c1e  e01f              B        |L1.3168|
                  |L1.3104|
                          DCD      0x40044000
                  |L1.3108|
                          DCD      ||.bss||+0x80
                  |L1.3112|
                          DCD      ||.data||
                  |L1.3116|
                          DCD      0x40048000
                  |L1.3120|
                          DCD      net_U
                  |L1.3124|
                          DCD      net_F
                  |L1.3128|
                          DCD      load_U
                  |L1.3132|
                          DCD      load_I
                  |L1.3136|
                          DCD      NUMBAT
                  |L1.3140|
                          DCD      avar_stat
                  |L1.3144|
                          DCD      PAR
                  |L1.3148|
                          DCD      BAT_IS_ON
                  |L1.3152|
                          DCD      bat
                  |L1.3156|
                          DCD      spc_stat
                  |L1.3160|
                          DCD      BAT_C_REAL
                  |L1.3164|
                          DCD      BAT_C_NOM
                  |L1.3168|
000c60  7320              STRB     r0,[r4,#0xc]          ;730
000c62  f89d0001          LDRB     r0,[sp,#1]            ;731
000c66  7360              STRB     r0,[r4,#0xd]          ;731
000c68  8908              LDRH     r0,[r1,#8]            ;732  ; bat
000c6a  73a0              STRB     r0,[r4,#0xe]          ;732
000c6c  89c8              LDRH     r0,[r1,#0xe]          ;733  ; bat
000c6e  73e0              STRB     r0,[r4,#0xf]          ;733
000c70  48ff              LDR      r0,|L1.4208|
000c72  f9b01002          LDRSH    r1,[r0,#2]            ;735  ; BAT_C_REAL
000c76  f5a140aa          SUB      r0,r1,#0x5500         ;735
000c7a  3855              SUBS     r0,r0,#0x55           ;735
000c7c  d109              BNE      |L1.3218|
000c7e  48fd              LDR      r0,|L1.4212|
000c80  8840              LDRH     r0,[r0,#2]            ;735  ; BAT_C_NOM
000c82  7420              STRB     r0,[r4,#0x10]         ;735
000c84  e008              B        |L1.3224|
                  |L1.3206|
000c86  20f9              MOVS     r0,#0xf9              ;721
000c88  7260              STRB     r0,[r4,#9]            ;721
000c8a  e7b7              B        |L1.3068|
                  |L1.3212|
000c8c  20f8              MOVS     r0,#0xf8              ;722
000c8e  7260              STRB     r0,[r4,#9]            ;722
000c90  e7b4              B        |L1.3068|
                  |L1.3218|
000c92  fb91f0f2          SDIV     r0,r1,r2              ;736
000c96  7420              STRB     r0,[r4,#0x10]         ;736
                  |L1.3224|
000c98  210b              MOVS     r1,#0xb               ;738
000c9a  1da0              ADDS     r0,r4,#6              ;738
000c9c  f7fffffe          BL       paking
000ca0  f7fffffe          BL       CRC1_out
000ca4  74e0              STRB     r0,[r4,#0x13]         ;740
000ca6  f7fffffe          BL       CRC2_out
000caa  7520              STRB     r0,[r4,#0x14]         ;741
000cac  2015              MOVS     r0,#0x15              ;742
000cae  72a8              STRB     r0,[r5,#0xa]          ;742
000cb0  2115              MOVS     r1,#0x15              ;744
000cb2  48f1              LDR      r0,|L1.4216|
000cb4  e000              B        |L1.3256|
                  |L1.3254|
000cb6  e002              B        |L1.3262|
                  |L1.3256|
000cb8  f7fffffe          BL       can2_out_adr
000cbc  e27c              B        |L1.4536|
                  |L1.3262|
000cbe  ebb91f90          CMP      r9,r0,LSR #6          ;751
000cc2  d10a              BNE      |L1.3290|
000cc4  ebb81f11          CMP      r8,r1,LSR #4          ;752
000cc8  d107              BNE      |L1.3290|
000cca  ebb61f12          CMP      r6,r2,LSR #4          ;752
000cce  d104              BNE      |L1.3290|
000cd0  2bb2              CMP      r3,#0xb2              ;752
000cd2  d102              BNE      |L1.3290|
000cd4  f1bb0f01          CMP      r11,#1                ;752
000cd8  d003              BEQ      |L1.3298|
                  |L1.3290|
;;;758    	can_adr_hndl();
;;;759    	TXBUFF[6]=0xB2;
;;;760    	TXBUFF[7]=1;
;;;761    		
;;;762    	
;;;763    	if(NUMIST<1)TXBUFF[8]=0xff;	
;;;764    	else if(bps[0]._state==bsWRK)TXBUFF[8]=0xf1; 
;;;765    	else if(bps[0]._av&(1<<3))TXBUFF[8]=0xf4;
;;;766    	else if(bps[0]._av&(1<<0))TXBUFF[8]=0xf5;
;;;767    	else if(bps[0]._av&(1<<1))TXBUFF[8]=0xf5;
;;;768    	else if(bps[0]._av&(1<<2))TXBUFF[8]=0xf7;
;;;769    	else TXBUFF[8]=0xf0;
;;;770    
;;;771    	TXBUFF[9]=*((char*)(&bps[0]._Uii));
;;;772    	TXBUFF[10]=*(((char*)(&bps[0]._Uii))+1);
;;;773    	TXBUFF[11]=*((char*)(&bps[0]._Ii));
;;;774    	TXBUFF[12]=*(((char*)(&bps[0]._Ii))+1);
;;;775    	TXBUFF[13]=bps[0]._Ti;
;;;776    	
;;;777        	paking(&TXBUFF[6],8);
;;;778        
;;;779        	TXBUFF[16]=CRC1_out();
;;;780    	TXBUFF[17]=CRC2_out();
;;;781    	TX_len=18;
;;;782    
;;;783    	can2_out_adr(TXBUFF,18);  
;;;784    	}	
;;;785    	//  2 
;;;786    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xc0)==0x40)&&
000cda  f1bc0f30          CMP      r12,#0x30
000cde  d04c              BEQ      |L1.3450|
000ce0  e059              B        |L1.3478|
                  |L1.3298|
000ce2  7027              STRB     r7,[r4,#0]            ;756
000ce4  f884a001          STRB     r10,[r4,#1]           ;757
000ce8  f7fffffe          BL       can_adr_hndl
000cec  20b2              MOVS     r0,#0xb2              ;759
000cee  71a0              STRB     r0,[r4,#6]            ;759
000cf0  f8849007          STRB     r9,[r4,#7]            ;760
000cf4  48e1              LDR      r0,|L1.4220|
000cf6  f9b00000          LDRSH    r0,[r0,#0]            ;763  ; NUMIST
000cfa  2801              CMP      r0,#1                 ;763
000cfc  da02              BGE      |L1.3332|
000cfe  20ff              MOVS     r0,#0xff              ;763
000d00  7220              STRB     r0,[r4,#8]            ;763
000d02  e01d              B        |L1.3392|
                  |L1.3332|
000d04  48de              LDR      r0,|L1.4224|
000d06  7881              LDRB     r1,[r0,#2]            ;764  ; bps
000d08  2901              CMP      r1,#1                 ;764
000d0a  d005              BEQ      |L1.3352|
000d0c  7840              LDRB     r0,[r0,#1]            ;765  ; bps
000d0e  0701              LSLS     r1,r0,#28             ;765
000d10  d505              BPL      |L1.3358|
000d12  20f4              MOVS     r0,#0xf4              ;765
000d14  7220              STRB     r0,[r4,#8]            ;765
000d16  e013              B        |L1.3392|
                  |L1.3352|
000d18  20f1              MOVS     r0,#0xf1              ;764
000d1a  7220              STRB     r0,[r4,#8]            ;764
000d1c  e010              B        |L1.3392|
                  |L1.3358|
000d1e  07c1              LSLS     r1,r0,#31             ;766
000d20  d002              BEQ      |L1.3368|
000d22  20f5              MOVS     r0,#0xf5              ;766
000d24  7220              STRB     r0,[r4,#8]            ;766
000d26  e00b              B        |L1.3392|
                  |L1.3368|
000d28  0781              LSLS     r1,r0,#30             ;767
000d2a  d502              BPL      |L1.3378|
000d2c  20f5              MOVS     r0,#0xf5              ;767
000d2e  7220              STRB     r0,[r4,#8]            ;767
000d30  e006              B        |L1.3392|
                  |L1.3378|
000d32  0740              LSLS     r0,r0,#29             ;768
000d34  d502              BPL      |L1.3388|
000d36  20f7              MOVS     r0,#0xf7              ;768
000d38  7220              STRB     r0,[r4,#8]            ;768
000d3a  e001              B        |L1.3392|
                  |L1.3388|
000d3c  20f0              MOVS     r0,#0xf0              ;769
000d3e  7220              STRB     r0,[r4,#8]            ;769
                  |L1.3392|
000d40  48cf              LDR      r0,|L1.4224|
000d42  301c              ADDS     r0,r0,#0x1c           ;771
000d44  7801              LDRB     r1,[r0,#0]            ;771  ; bps
000d46  7261              STRB     r1,[r4,#9]            ;771
000d48  7841              LDRB     r1,[r0,#1]            ;772  ; bps
000d4a  72a1              STRB     r1,[r4,#0xa]          ;772
000d4c  7a01              LDRB     r1,[r0,#8]            ;773  ; bps
000d4e  72e1              STRB     r1,[r4,#0xb]          ;773
000d50  7a41              LDRB     r1,[r0,#9]            ;774  ; bps
000d52  7321              STRB     r1,[r4,#0xc]          ;774
000d54  68c0              LDR      r0,[r0,#0xc]          ;775  ; bps
000d56  7360              STRB     r0,[r4,#0xd]          ;775
000d58  2108              MOVS     r1,#8                 ;777
000d5a  1da0              ADDS     r0,r4,#6              ;777
000d5c  f7fffffe          BL       paking
000d60  f7fffffe          BL       CRC1_out
000d64  7420              STRB     r0,[r4,#0x10]         ;779
000d66  f7fffffe          BL       CRC2_out
000d6a  7460              STRB     r0,[r4,#0x11]         ;780
000d6c  2012              MOVS     r0,#0x12              ;781
000d6e  72a8              STRB     r0,[r5,#0xa]          ;781
000d70  2112              MOVS     r1,#0x12              ;783
000d72  48c1              LDR      r0,|L1.4216|
000d74  f7fffffe          BL       can2_out_adr
000d78  e21e              B        |L1.4536|
                  |L1.3450|
000d7a  ebb91f90          CMP      r9,r0,LSR #6
000d7e  d10a              BNE      |L1.3478|
;;;787    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0xB2)&&(RXBUFF[7]==0x02))
000d80  ebb81f11          CMP      r8,r1,LSR #4
000d84  d107              BNE      |L1.3478|
000d86  ebb61f12          CMP      r6,r2,LSR #4
000d8a  d104              BNE      |L1.3478|
000d8c  2bb2              CMP      r3,#0xb2
000d8e  d102              BNE      |L1.3478|
000d90  f1bb0f02          CMP      r11,#2
000d94  d003              BEQ      |L1.3486|
                  |L1.3478|
;;;788    	{ 
;;;789        //	plazma++;
;;;790    
;;;791        	TXBUFF[0]=0x30;
;;;792    	TXBUFF[1]=(RXBUFF[1]&0xa0)+11;
;;;793    	can_adr_hndl();
;;;794    	TXBUFF[6]=0xB2;
;;;795    	TXBUFF[7]=2;
;;;796    		
;;;797    	
;;;798    	if(NUMIST<3)TXBUFF[8]=0xff;	
;;;799    	else if(bps[1]._state==bsWRK)TXBUFF[8]=0xf1; 
;;;800    	else if(bps[1]._av&(1<<3))TXBUFF[8]=0xf4;
;;;801    	else if(bps[1]._av&(1<<0))TXBUFF[8]=0xf5;
;;;802    	else if(bps[1]._av&(1<<1))TXBUFF[8]=0xf5;
;;;803    	else if(bps[1]._av&(1<<2))TXBUFF[8]=0xf7;
;;;804    	else TXBUFF[8]=0xf0;
;;;805    
;;;806    	TXBUFF[9]=*((char*)(&bps[1]._Uii));
;;;807    	TXBUFF[10]=*(((char*)(&bps[1]._Uii))+1);
;;;808    	TXBUFF[11]=*((char*)(&bps[1]._Ii));
;;;809    	TXBUFF[12]=*(((char*)(&bps[1]._Ii))+1);
;;;810    	TXBUFF[13]=bps[1]._Ti;
;;;811    	
;;;812        	paking(&TXBUFF[6],8);
;;;813        
;;;814        	TXBUFF[16]=CRC1_out();
;;;815    	TXBUFF[17]=CRC2_out();
;;;816    	TX_len=18;
;;;817    
;;;818    	can2_out_adr(TXBUFF,18);  
;;;819    	}	
;;;820    
;;;821    
;;;822    	//  3 
;;;823    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xc0)==0x40)&&
000d96  f1bc0f30          CMP      r12,#0x30
000d9a  d04d              BEQ      |L1.3640|
000d9c  e05a              B        |L1.3668|
                  |L1.3486|
000d9e  7027              STRB     r7,[r4,#0]            ;791
000da0  f884a001          STRB     r10,[r4,#1]           ;792
000da4  f7fffffe          BL       can_adr_hndl
000da8  20b2              MOVS     r0,#0xb2              ;794
000daa  71a0              STRB     r0,[r4,#6]            ;794
000dac  71e6              STRB     r6,[r4,#7]            ;795
000dae  48b3              LDR      r0,|L1.4220|
000db0  f9b00000          LDRSH    r0,[r0,#0]            ;798  ; NUMIST
000db4  2803              CMP      r0,#3                 ;798
000db6  da02              BGE      |L1.3518|
000db8  20ff              MOVS     r0,#0xff              ;798
000dba  7220              STRB     r0,[r4,#8]            ;798
000dbc  e01f              B        |L1.3582|
                  |L1.3518|
000dbe  48b0              LDR      r0,|L1.4224|
000dc0  f890105e          LDRB     r1,[r0,#0x5e]         ;799  ; bps
000dc4  2901              CMP      r1,#1                 ;799
000dc6  d006              BEQ      |L1.3542|
000dc8  f890005d          LDRB     r0,[r0,#0x5d]         ;800  ; bps
000dcc  0701              LSLS     r1,r0,#28             ;800
000dce  d505              BPL      |L1.3548|
000dd0  20f4              MOVS     r0,#0xf4              ;800
000dd2  7220              STRB     r0,[r4,#8]            ;800
000dd4  e013              B        |L1.3582|
                  |L1.3542|
000dd6  20f1              MOVS     r0,#0xf1              ;799
000dd8  7220              STRB     r0,[r4,#8]            ;799
000dda  e010              B        |L1.3582|
                  |L1.3548|
000ddc  07c1              LSLS     r1,r0,#31             ;801
000dde  d002              BEQ      |L1.3558|
000de0  20f5              MOVS     r0,#0xf5              ;801
000de2  7220              STRB     r0,[r4,#8]            ;801
000de4  e00b              B        |L1.3582|
                  |L1.3558|
000de6  0781              LSLS     r1,r0,#30             ;802
000de8  d502              BPL      |L1.3568|
000dea  20f5              MOVS     r0,#0xf5              ;802
000dec  7220              STRB     r0,[r4,#8]            ;802
000dee  e006              B        |L1.3582|
                  |L1.3568|
000df0  0740              LSLS     r0,r0,#29             ;803
000df2  d502              BPL      |L1.3578|
000df4  20f7              MOVS     r0,#0xf7              ;803
000df6  7220              STRB     r0,[r4,#8]            ;803
000df8  e001              B        |L1.3582|
                  |L1.3578|
000dfa  20f0              MOVS     r0,#0xf0              ;804
000dfc  7220              STRB     r0,[r4,#8]            ;804
                  |L1.3582|
000dfe  48a0              LDR      r0,|L1.4224|
000e00  3078              ADDS     r0,r0,#0x78           ;806
000e02  7801              LDRB     r1,[r0,#0]            ;806  ; bps
000e04  7261              STRB     r1,[r4,#9]            ;806
000e06  7841              LDRB     r1,[r0,#1]            ;807  ; bps
000e08  72a1              STRB     r1,[r4,#0xa]          ;807
000e0a  7a01              LDRB     r1,[r0,#8]            ;808  ; bps
000e0c  72e1              STRB     r1,[r4,#0xb]          ;808
000e0e  7a41              LDRB     r1,[r0,#9]            ;809  ; bps
000e10  7321              STRB     r1,[r4,#0xc]          ;809
000e12  68c0              LDR      r0,[r0,#0xc]          ;810  ; bps
000e14  7360              STRB     r0,[r4,#0xd]          ;810
000e16  2108              MOVS     r1,#8                 ;812
000e18  1da0              ADDS     r0,r4,#6              ;812
000e1a  f7fffffe          BL       paking
000e1e  f7fffffe          BL       CRC1_out
000e22  7420              STRB     r0,[r4,#0x10]         ;814
000e24  f7fffffe          BL       CRC2_out
000e28  7460              STRB     r0,[r4,#0x11]         ;815
000e2a  2012              MOVS     r0,#0x12              ;816
000e2c  72a8              STRB     r0,[r5,#0xa]          ;816
000e2e  2112              MOVS     r1,#0x12              ;818
000e30  4891              LDR      r0,|L1.4216|
000e32  f7fffffe          BL       can2_out_adr
                  |L1.3638|
000e36  e1bf              B        |L1.4536|
                  |L1.3640|
000e38  ebb91f90          CMP      r9,r0,LSR #6
000e3c  d10a              BNE      |L1.3668|
;;;824    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0xB2)&&(RXBUFF[7]==0x03))
000e3e  ebb81f11          CMP      r8,r1,LSR #4
000e42  d107              BNE      |L1.3668|
000e44  ebb61f12          CMP      r6,r2,LSR #4
000e48  d104              BNE      |L1.3668|
000e4a  2bb2              CMP      r3,#0xb2
000e4c  d102              BNE      |L1.3668|
000e4e  f1bb0f03          CMP      r11,#3
000e52  d003              BEQ      |L1.3676|
                  |L1.3668|
;;;825    	{ 
;;;826        //	plazma++;
;;;827    
;;;828        	TXBUFF[0]=0x30;
;;;829    	TXBUFF[1]=(RXBUFF[1]&0xa0)+11;
;;;830    	can_adr_hndl();
;;;831    	TXBUFF[6]=0xB2;
;;;832    	TXBUFF[7]=3;
;;;833    		
;;;834    	
;;;835    	if(NUMIST<3)TXBUFF[8]=0xff;	
;;;836    	else if(bps[2]._state==bsWRK)TXBUFF[8]=0xf1; 
;;;837    	else if(bps[2]._av&(1<<3))TXBUFF[8]=0xf4;
;;;838    	else if(bps[2]._av&(1<<0))TXBUFF[8]=0xf5;
;;;839    	else if(bps[2]._av&(1<<1))TXBUFF[8]=0xf5;
;;;840    	else if(bps[2]._av&(1<<2))TXBUFF[8]=0xf7;
;;;841    	else TXBUFF[8]=0xf0;
;;;842    
;;;843    	TXBUFF[9]=*((char*)(&bps[2]._Uii));
;;;844    	TXBUFF[10]=*(((char*)(&bps[2]._Uii))+1);
;;;845    	TXBUFF[11]=*((char*)(&bps[2]._Ii));
;;;846    	TXBUFF[12]=*(((char*)(&bps[2]._Ii))+1);
;;;847    	TXBUFF[13]=bps[2]._Ti;
;;;848    	
;;;849        	paking(&TXBUFF[6],8);
;;;850        
;;;851        	TXBUFF[16]=CRC1_out();
;;;852    	TXBUFF[17]=CRC2_out();
;;;853    	TX_len=18;
;;;854    
;;;855    	can2_out_adr(TXBUFF,18);  
;;;856    	}	
;;;857    
;;;858    	//  4 
;;;859    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xc0)==0x40)&&
000e54  f1bc0f30          CMP      r12,#0x30
000e58  d04e              BEQ      |L1.3832|
000e5a  e05b              B        |L1.3860|
                  |L1.3676|
000e5c  7027              STRB     r7,[r4,#0]            ;828
000e5e  f884a001          STRB     r10,[r4,#1]           ;829
000e62  f7fffffe          BL       can_adr_hndl
000e66  20b2              MOVS     r0,#0xb2              ;831
000e68  71a0              STRB     r0,[r4,#6]            ;831
000e6a  2003              MOVS     r0,#3                 ;832
000e6c  71e0              STRB     r0,[r4,#7]            ;832
000e6e  4883              LDR      r0,|L1.4220|
000e70  f9b00000          LDRSH    r0,[r0,#0]            ;835  ; NUMIST
000e74  2803              CMP      r0,#3                 ;835
000e76  da02              BGE      |L1.3710|
000e78  20ff              MOVS     r0,#0xff              ;835
000e7a  7220              STRB     r0,[r4,#8]            ;835
000e7c  e01f              B        |L1.3774|
                  |L1.3710|
000e7e  4880              LDR      r0,|L1.4224|
000e80  f89010ba          LDRB     r1,[r0,#0xba]         ;836  ; bps
000e84  2901              CMP      r1,#1                 ;836
000e86  d006              BEQ      |L1.3734|
000e88  f89000b9          LDRB     r0,[r0,#0xb9]         ;837  ; bps
000e8c  0701              LSLS     r1,r0,#28             ;837
000e8e  d505              BPL      |L1.3740|
000e90  20f4              MOVS     r0,#0xf4              ;837
000e92  7220              STRB     r0,[r4,#8]            ;837
000e94  e013              B        |L1.3774|
                  |L1.3734|
000e96  20f1              MOVS     r0,#0xf1              ;836
000e98  7220              STRB     r0,[r4,#8]            ;836
000e9a  e010              B        |L1.3774|
                  |L1.3740|
000e9c  07c1              LSLS     r1,r0,#31             ;838
000e9e  d002              BEQ      |L1.3750|
000ea0  20f5              MOVS     r0,#0xf5              ;838
000ea2  7220              STRB     r0,[r4,#8]            ;838
000ea4  e00b              B        |L1.3774|
                  |L1.3750|
000ea6  0781              LSLS     r1,r0,#30             ;839
000ea8  d502              BPL      |L1.3760|
000eaa  20f5              MOVS     r0,#0xf5              ;839
000eac  7220              STRB     r0,[r4,#8]            ;839
000eae  e006              B        |L1.3774|
                  |L1.3760|
000eb0  0740              LSLS     r0,r0,#29             ;840
000eb2  d502              BPL      |L1.3770|
000eb4  20f7              MOVS     r0,#0xf7              ;840
000eb6  7220              STRB     r0,[r4,#8]            ;840
000eb8  e001              B        |L1.3774|
                  |L1.3770|
000eba  20f0              MOVS     r0,#0xf0              ;841
000ebc  7220              STRB     r0,[r4,#8]            ;841
                  |L1.3774|
000ebe  4870              LDR      r0,|L1.4224|
000ec0  30d4              ADDS     r0,r0,#0xd4           ;843
000ec2  7801              LDRB     r1,[r0,#0]            ;843  ; bps
000ec4  7261              STRB     r1,[r4,#9]            ;843
000ec6  7841              LDRB     r1,[r0,#1]            ;844  ; bps
000ec8  72a1              STRB     r1,[r4,#0xa]          ;844
000eca  7a01              LDRB     r1,[r0,#8]            ;845  ; bps
000ecc  72e1              STRB     r1,[r4,#0xb]          ;845
000ece  7a41              LDRB     r1,[r0,#9]            ;846  ; bps
000ed0  7321              STRB     r1,[r4,#0xc]          ;846
000ed2  68c0              LDR      r0,[r0,#0xc]          ;847  ; bps
000ed4  7360              STRB     r0,[r4,#0xd]          ;847
000ed6  2108              MOVS     r1,#8                 ;849
000ed8  1da0              ADDS     r0,r4,#6              ;849
000eda  f7fffffe          BL       paking
000ede  f7fffffe          BL       CRC1_out
000ee2  7420              STRB     r0,[r4,#0x10]         ;851
000ee4  f7fffffe          BL       CRC2_out
000ee8  7460              STRB     r0,[r4,#0x11]         ;852
000eea  2012              MOVS     r0,#0x12              ;853
000eec  72a8              STRB     r0,[r5,#0xa]          ;853
000eee  2112              MOVS     r1,#0x12              ;855
000ef0  4861              LDR      r0,|L1.4216|
000ef2  f7fffffe          BL       can2_out_adr
000ef6  e15f              B        |L1.4536|
                  |L1.3832|
000ef8  ebb91f90          CMP      r9,r0,LSR #6
000efc  d10a              BNE      |L1.3860|
;;;860    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0xB2)&&(RXBUFF[7]==0x04))
000efe  ebb81f11          CMP      r8,r1,LSR #4
000f02  d107              BNE      |L1.3860|
000f04  ebb61f12          CMP      r6,r2,LSR #4
000f08  d104              BNE      |L1.3860|
000f0a  2bb2              CMP      r3,#0xb2
000f0c  d102              BNE      |L1.3860|
000f0e  f1bb0f04          CMP      r11,#4
000f12  d003              BEQ      |L1.3868|
                  |L1.3860|
;;;861    	{ 
;;;862        //	plazma++;
;;;863    
;;;864        TXBUFF[0]=0x30;
;;;865    	TXBUFF[1]=(RXBUFF[1]&0xa0)+11;
;;;866    	can_adr_hndl();
;;;867    	TXBUFF[6]=0xB2;
;;;868    	TXBUFF[7]=4;
;;;869    		
;;;870    	
;;;871    	if(NUMIST<4)TXBUFF[8]=0xff;	
;;;872    	else if(bps[3]._state==bsWRK)TXBUFF[8]=0xf1; 
;;;873    	else if(bps[3]._av&(1<<3))TXBUFF[8]=0xf4;
;;;874    	else if(bps[3]._av&(1<<0))TXBUFF[8]=0xf5;
;;;875    	else if(bps[3]._av&(1<<1))TXBUFF[8]=0xf5;
;;;876    	else if(bps[3]._av&(1<<2))TXBUFF[8]=0xf7;
;;;877    	else TXBUFF[8]=0xf0;
;;;878    
;;;879    	TXBUFF[9]=*((char*)(&bps[3]._Uii));
;;;880    	TXBUFF[10]=*(((char*)(&bps[3]._Uii))+1);
;;;881    	TXBUFF[11]=*((char*)(&bps[3]._Ii));
;;;882    	TXBUFF[12]=*(((char*)(&bps[3]._Ii))+1);
;;;883    	TXBUFF[13]=bps[3]._Ti;
;;;884    	
;;;885        	paking(&TXBUFF[6],8);
;;;886        
;;;887        	TXBUFF[16]=CRC1_out();
;;;888    	TXBUFF[17]=CRC2_out();
;;;889    	TX_len=18;
;;;890    
;;;891    	can2_out_adr(TXBUFF,18);  
;;;892    	}
;;;893    
;;;894    //    
;;;895    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
000f14  f1bc0f30          CMP      r12,#0x30
000f18  d04d              BEQ      |L1.4022|
000f1a  e078              B        |L1.4110|
                  |L1.3868|
000f1c  7027              STRB     r7,[r4,#0]            ;864
000f1e  f884a001          STRB     r10,[r4,#1]           ;865
000f22  f7fffffe          BL       can_adr_hndl
000f26  20b2              MOVS     r0,#0xb2              ;867
000f28  71a0              STRB     r0,[r4,#6]            ;867
000f2a  2004              MOVS     r0,#4                 ;868
000f2c  71e0              STRB     r0,[r4,#7]            ;868
000f2e  4853              LDR      r0,|L1.4220|
000f30  f9b00000          LDRSH    r0,[r0,#0]            ;871  ; NUMIST
000f34  2804              CMP      r0,#4                 ;871
000f36  da02              BGE      |L1.3902|
000f38  20ff              MOVS     r0,#0xff              ;871
000f3a  7220              STRB     r0,[r4,#8]            ;871
000f3c  e01f              B        |L1.3966|
                  |L1.3902|
000f3e  4850              LDR      r0,|L1.4224|
000f40  f8901116          LDRB     r1,[r0,#0x116]        ;872  ; bps
000f44  2901              CMP      r1,#1                 ;872
000f46  d006              BEQ      |L1.3926|
000f48  f8900115          LDRB     r0,[r0,#0x115]        ;873  ; bps
000f4c  0701              LSLS     r1,r0,#28             ;873
000f4e  d505              BPL      |L1.3932|
000f50  20f4              MOVS     r0,#0xf4              ;873
000f52  7220              STRB     r0,[r4,#8]            ;873
000f54  e013              B        |L1.3966|
                  |L1.3926|
000f56  20f1              MOVS     r0,#0xf1              ;872
000f58  7220              STRB     r0,[r4,#8]            ;872
000f5a  e010              B        |L1.3966|
                  |L1.3932|
000f5c  07c1              LSLS     r1,r0,#31             ;874
000f5e  d002              BEQ      |L1.3942|
000f60  20f5              MOVS     r0,#0xf5              ;874
000f62  7220              STRB     r0,[r4,#8]            ;874
000f64  e00b              B        |L1.3966|
                  |L1.3942|
000f66  0781              LSLS     r1,r0,#30             ;875
000f68  d502              BPL      |L1.3952|
000f6a  20f5              MOVS     r0,#0xf5              ;875
000f6c  7220              STRB     r0,[r4,#8]            ;875
000f6e  e006              B        |L1.3966|
                  |L1.3952|
000f70  0740              LSLS     r0,r0,#29             ;876
000f72  d502              BPL      |L1.3962|
000f74  20f7              MOVS     r0,#0xf7              ;876
000f76  7220              STRB     r0,[r4,#8]            ;876
000f78  e001              B        |L1.3966|
                  |L1.3962|
000f7a  20f0              MOVS     r0,#0xf0              ;877
000f7c  7220              STRB     r0,[r4,#8]            ;877
                  |L1.3966|
000f7e  4841              LDR      r0,|L1.4228|
000f80  7801              LDRB     r1,[r0,#0]            ;879  ; bps
000f82  7261              STRB     r1,[r4,#9]            ;879
000f84  7841              LDRB     r1,[r0,#1]            ;880  ; bps
000f86  72a1              STRB     r1,[r4,#0xa]          ;880
000f88  7a01              LDRB     r1,[r0,#8]            ;881  ; bps
000f8a  72e1              STRB     r1,[r4,#0xb]          ;881
000f8c  7a41              LDRB     r1,[r0,#9]            ;882  ; bps
000f8e  7321              STRB     r1,[r4,#0xc]          ;882
000f90  68c0              LDR      r0,[r0,#0xc]          ;883  ; bps
000f92  7360              STRB     r0,[r4,#0xd]          ;883
000f94  2108              MOVS     r1,#8                 ;885
000f96  1da0              ADDS     r0,r4,#6              ;885
000f98  f7fffffe          BL       paking
000f9c  f7fffffe          BL       CRC1_out
000fa0  7420              STRB     r0,[r4,#0x10]         ;887
000fa2  f7fffffe          BL       CRC2_out
000fa6  7460              STRB     r0,[r4,#0x11]         ;888
000fa8  2012              MOVS     r0,#0x12              ;889
000faa  72a8              STRB     r0,[r5,#0xa]          ;889
000fac  2112              MOVS     r1,#0x12              ;891
000fae  4832              LDR      r0,|L1.4216|
000fb0  f7fffffe          BL       can2_out_adr
000fb4  e100              B        |L1.4536|
                  |L1.4022|
000fb6  f04f0a03          MOV      r10,#3
000fba  ebba1f50          CMP      r10,r0,LSR #5
000fbe  d126              BNE      |L1.4110|
;;;896    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x03)
000fc0  ebb81f11          CMP      r8,r1,LSR #4
000fc4  d123              BNE      |L1.4110|
000fc6  ebb61f12          CMP      r6,r2,LSR #4
000fca  d120              BNE      |L1.4110|
000fcc  2b03              CMP      r3,#3
000fce  d11e              BNE      |L1.4110|
;;;897    	&&((RXBUFF[7])&&(RXBUFF[7]<25)))
000fd0  f1bb0f00          CMP      r11,#0
000fd4  d01b              BEQ      |L1.4110|
000fd6  f1bb0f19          CMP      r11,#0x19
000fda  d218              BCS      |L1.4110|
;;;898     	  
;;;899    	{ 
;;;900         char temp;      		
;;;901    
;;;902    	temp=vz_start(RXBUFF[7]);
000fdc  4658              MOV      r0,r11
000fde  f7fffffe          BL       vz_start
;;;903    
;;;904         TXBUFF[0]=0x30;
000fe2  7027              STRB     r7,[r4,#0]
;;;905    	TXBUFF[1]=0x20+3;
000fe4  2023              MOVS     r0,#0x23
000fe6  7060              STRB     r0,[r4,#1]
;;;906    	can_adr_hndl();
000fe8  f7fffffe          BL       can_adr_hndl
;;;907    	TXBUFF[6]=0x03;
000fec  f884a006          STRB     r10,[r4,#6]
;;;908    	TXBUFF[7]=0x01;
000ff0  f8849007          STRB     r9,[r4,#7]
;;;909    	TXBUFF[8]=CRC1_out();
000ff4  f7fffffe          BL       CRC1_out
000ff8  7220              STRB     r0,[r4,#8]
;;;910    	TXBUFF[9]=CRC2_out();
000ffa  f7fffffe          BL       CRC2_out
000ffe  7260              STRB     r0,[r4,#9]
;;;911    	TX_len=10;
001000  200a              MOVS     r0,#0xa
001002  72a8              STRB     r0,[r5,#0xa]
;;;912    	can2_out_adr(TXBUFF,10);
001004  210a              MOVS     r1,#0xa
001006  481c              LDR      r0,|L1.4216|
001008  f7fffffe          BL       can2_out_adr
;;;913    	}
00100c  e0d4              B        |L1.4536|
                  |L1.4110|
00100e  f8dfa078          LDR      r10,|L1.4232|
;;;914    
;;;915    //   
;;;916    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
001012  f1bc0f30          CMP      r12,#0x30
001016  f89aa000          LDRB     r10,[r10,#0]          ;679
00101a  d10c              BNE      |L1.4150|
00101c  f04f0e03          MOV      lr,#3
001020  ebbe1f50          CMP      lr,r0,LSR #5
001024  d107              BNE      |L1.4150|
;;;917    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x08))
001026  ebb81f11          CMP      r8,r1,LSR #4
00102a  d104              BNE      |L1.4150|
00102c  ebb61f12          CMP      r6,r2,LSR #4
001030  d101              BNE      |L1.4150|
001032  2b08              CMP      r3,#8
001034  d003              BEQ      |L1.4158|
                  |L1.4150|
;;;918     	  
;;;919    	{ 
;;;920    	if(spc_stat==spcVZ) spc_stat=spcOFF;
;;;921    
;;;922         TXBUFF[0]=0x30;
;;;923    	TXBUFF[1]=0x20+2;
;;;924    	can_adr_hndl();
;;;925    	TXBUFF[6]=0x08;
;;;926    	TXBUFF[7]=CRC1_out();
;;;927    	TXBUFF[8]=CRC2_out();
;;;928    	TX_len=9;
;;;929    	can2_out_adr(TXBUFF,9);
;;;930    	}
;;;931    
;;;932    
;;;933    //    1
;;;934    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
001036  f1bc0f30          CMP      r12,#0x30
00103a  d02a              BEQ      |L1.4242|
00103c  e039              B        |L1.4274|
                  |L1.4158|
00103e  4812              LDR      r0,|L1.4232|
001040  f1ba0f02          CMP      r10,#2                ;920
001044  d101              BNE      |L1.4170|
001046  2100              MOVS     r1,#0                 ;920
001048  7001              STRB     r1,[r0,#0]            ;920
                  |L1.4170|
00104a  7027              STRB     r7,[r4,#0]            ;922
00104c  2022              MOVS     r0,#0x22              ;923
00104e  7060              STRB     r0,[r4,#1]            ;923
001050  f7fffffe          BL       can_adr_hndl
001054  2008              MOVS     r0,#8                 ;925
001056  71a0              STRB     r0,[r4,#6]            ;925
001058  f7fffffe          BL       CRC1_out
00105c  71e0              STRB     r0,[r4,#7]            ;926
00105e  f7fffffe          BL       CRC2_out
001062  7220              STRB     r0,[r4,#8]            ;927
001064  2009              MOVS     r0,#9                 ;928
001066  72a8              STRB     r0,[r5,#0xa]          ;928
001068  2109              MOVS     r1,#9                 ;929
00106a  4803              LDR      r0,|L1.4216|
00106c  e00e              B        |L1.4236|
00106e  0000              DCW      0x0000
                  |L1.4208|
                          DCD      BAT_C_REAL
                  |L1.4212|
                          DCD      BAT_C_NOM
                  |L1.4216|
                          DCD      ||.bss||+0x14c
                  |L1.4220|
                          DCD      NUMIST
                  |L1.4224|
                          DCD      bps
                  |L1.4228|
                          DCD      bps+0x130
                  |L1.4232|
                          DCD      spc_stat
                  |L1.4236|
00108c  f7fffffe          BL       can2_out_adr
001090  e092              B        |L1.4536|
                  |L1.4242|
001092  f04f0e03          MOV      lr,#3
001096  ebbe1f50          CMP      lr,r0,LSR #5
00109a  d10a              BNE      |L1.4274|
;;;935    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x04)
00109c  ebb81f11          CMP      r8,r1,LSR #4
0010a0  d107              BNE      |L1.4274|
0010a2  ebb61f12          CMP      r6,r2,LSR #4
0010a6  d104              BNE      |L1.4274|
0010a8  2b04              CMP      r3,#4
0010aa  d102              BNE      |L1.4274|
;;;936    	&&(RXBUFF[7]==0x01))
0010ac  f1bb0f01          CMP      r11,#1
0010b0  d003              BEQ      |L1.4282|
                  |L1.4274|
;;;937    	  
;;;938    	{
;;;939    	ke_start(0);
;;;940    
;;;941    	if(ke_start_stat==kssYES)TXBUFF[7]=0xff;
;;;942    	else TXBUFF[7]=0x01;
;;;943    
;;;944         TXBUFF[0]=0x30;
;;;945    	TXBUFF[1]=0x20+3;
;;;946    	can_adr_hndl();
;;;947    	TXBUFF[6]=0x04;
;;;948    	TXBUFF[7]=0x01;
;;;949    	TXBUFF[8]=CRC1_out();
;;;950    	TXBUFF[9]=CRC2_out();
;;;951    	TX_len=10;
;;;952    	can2_out_adr(TXBUFF,10);
;;;953    	} 
;;;954    	
;;;955    //    2
;;;956    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
0010b2  f1bc0f30          CMP      r12,#0x30
0010b6  d022              BEQ      |L1.4350|
0010b8  e031              B        |L1.4382|
                  |L1.4282|
0010ba  2000              MOVS     r0,#0                 ;939
0010bc  f7fffffe          BL       ke_start
0010c0  48ff              LDR      r0,|L1.5312|
0010c2  7800              LDRB     r0,[r0,#0]            ;941  ; ke_start_stat
0010c4  2864              CMP      r0,#0x64              ;941
0010c6  d017              BEQ      |L1.4344|
0010c8  f8849007          STRB     r9,[r4,#7]            ;942
                  |L1.4300|
0010cc  7027              STRB     r7,[r4,#0]            ;944
0010ce  2023              MOVS     r0,#0x23              ;945
0010d0  7060              STRB     r0,[r4,#1]            ;945
0010d2  f7fffffe          BL       can_adr_hndl
0010d6  2004              MOVS     r0,#4                 ;947
0010d8  71a0              STRB     r0,[r4,#6]            ;947
0010da  f8849007          STRB     r9,[r4,#7]            ;948
0010de  f7fffffe          BL       CRC1_out
0010e2  7220              STRB     r0,[r4,#8]            ;949
0010e4  f7fffffe          BL       CRC2_out
0010e8  7260              STRB     r0,[r4,#9]            ;950
0010ea  200a              MOVS     r0,#0xa               ;951
0010ec  72a8              STRB     r0,[r5,#0xa]          ;951
0010ee  210a              MOVS     r1,#0xa               ;952
0010f0  48f4              LDR      r0,|L1.5316|
0010f2  f7fffffe          BL       can2_out_adr
0010f6  e05f              B        |L1.4536|
                  |L1.4344|
0010f8  20ff              MOVS     r0,#0xff              ;941
0010fa  71e0              STRB     r0,[r4,#7]            ;941
0010fc  e7e6              B        |L1.4300|
                  |L1.4350|
0010fe  f04f0e03          MOV      lr,#3
001102  ebbe1f50          CMP      lr,r0,LSR #5
001106  d10a              BNE      |L1.4382|
;;;957    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x04)
001108  ebb81f11          CMP      r8,r1,LSR #4
00110c  d107              BNE      |L1.4382|
00110e  ebb61f12          CMP      r6,r2,LSR #4
001112  d104              BNE      |L1.4382|
001114  2b04              CMP      r3,#4
001116  d102              BNE      |L1.4382|
;;;958    	&&(RXBUFF[7]==0x02))
001118  f1bb0f02          CMP      r11,#2
00111c  d003              BEQ      |L1.4390|
                  |L1.4382|
;;;959    	  
;;;960    	{
;;;961    	ke_start(1);
;;;962    
;;;963    	if(ke_start_stat==kssYES)TXBUFF[7]=0xff;
;;;964    	else TXBUFF[7]=0x01;
;;;965    
;;;966         TXBUFF[0]=0x30;
;;;967    	TXBUFF[1]=0x20+3;
;;;968    	can_adr_hndl();
;;;969    	TXBUFF[6]=0x04;
;;;970    	TXBUFF[7]=0x02;
;;;971    	TXBUFF[8]=CRC1_out();
;;;972    	TXBUFF[9]=CRC2_out();
;;;973    	TX_len=10;
;;;974    	can2_out_adr(TXBUFF,10);
;;;975    	}	
;;;976    	
;;;977    	//    
;;;978    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
00111e  f1bc0f30          CMP      r12,#0x30
001122  d021              BEQ      |L1.4456|
001124  e048              B        |L1.4536|
                  |L1.4390|
001126  2001              MOVS     r0,#1                 ;961
001128  f7fffffe          BL       ke_start
00112c  48e4              LDR      r0,|L1.5312|
00112e  7800              LDRB     r0,[r0,#0]            ;963  ; ke_start_stat
001130  2864              CMP      r0,#0x64              ;963
001132  d016              BEQ      |L1.4450|
001134  f8849007          STRB     r9,[r4,#7]            ;964
                  |L1.4408|
001138  7027              STRB     r7,[r4,#0]            ;966
00113a  2023              MOVS     r0,#0x23              ;967
00113c  7060              STRB     r0,[r4,#1]            ;967
00113e  f7fffffe          BL       can_adr_hndl
001142  2004              MOVS     r0,#4                 ;969
001144  71a0              STRB     r0,[r4,#6]            ;969
001146  71e6              STRB     r6,[r4,#7]            ;970
001148  f7fffffe          BL       CRC1_out
00114c  7220              STRB     r0,[r4,#8]            ;971
00114e  f7fffffe          BL       CRC2_out
001152  7260              STRB     r0,[r4,#9]            ;972
001154  200a              MOVS     r0,#0xa               ;973
001156  72a8              STRB     r0,[r5,#0xa]          ;973
001158  210a              MOVS     r1,#0xa               ;974
00115a  48da              LDR      r0,|L1.5316|
00115c  f7fffffe          BL       can2_out_adr
001160  e02a              B        |L1.4536|
                  |L1.4450|
001162  20ff              MOVS     r0,#0xff              ;963
001164  71e0              STRB     r0,[r4,#7]            ;963
001166  e7e7              B        |L1.4408|
                  |L1.4456|
001168  f04f0c03          MOV      r12,#3
00116c  ebbc1f50          CMP      r12,r0,LSR #5
001170  d122              BNE      |L1.4536|
;;;979    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x07))
001172  ebb81f11          CMP      r8,r1,LSR #4
001176  d11f              BNE      |L1.4536|
001178  ebb61f12          CMP      r6,r2,LSR #4
00117c  d11c              BNE      |L1.4536|
00117e  2b07              CMP      r3,#7
001180  d11a              BNE      |L1.4536|
;;;980    	  
;;;981    	{
;;;982       	
;;;983    	if(spc_stat==spcKE)spc_stat=spcOFF;
001182  48d1              LDR      r0,|L1.5320|
001184  f1ba0f01          CMP      r10,#1
001188  d103              BNE      |L1.4498|
00118a  2100              MOVS     r1,#0
00118c  e000              B        |L1.4496|
                  |L1.4494|
00118e  e15d              B        |L1.5196|
                  |L1.4496|
001190  7001              STRB     r1,[r0,#0]
                  |L1.4498|
;;;984    	
;;;985         TXBUFF[0]=0x30;
001192  7027              STRB     r7,[r4,#0]
;;;986    	TXBUFF[1]=0x20+2;
001194  2022              MOVS     r0,#0x22
001196  7060              STRB     r0,[r4,#1]
;;;987    	can_adr_hndl();
001198  f7fffffe          BL       can_adr_hndl
;;;988    	TXBUFF[6]=0x07;
00119c  2007              MOVS     r0,#7
00119e  71a0              STRB     r0,[r4,#6]
;;;989    	TXBUFF[7]=CRC1_out();
0011a0  f7fffffe          BL       CRC1_out
0011a4  71e0              STRB     r0,[r4,#7]
;;;990    	TXBUFF[8]=CRC2_out();
0011a6  f7fffffe          BL       CRC2_out
0011aa  7220              STRB     r0,[r4,#8]
;;;991    	TX_len=9;
0011ac  2009              MOVS     r0,#9
0011ae  72a8              STRB     r0,[r5,#0xa]
;;;992    	can2_out_adr(TXBUFF,9);
0011b0  2109              MOVS     r1,#9
0011b2  48c4              LDR      r0,|L1.5316|
0011b4  f7fffffe          BL       can2_out_adr
                  |L1.4536|
;;;993    	}
;;;994    
;;;995    
;;;996    
;;;997    // 1 - 
;;;998    if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
0011b8  4ac2              LDR      r2,|L1.5316|
;;;999    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x05)
;;;1000   	&&(RXBUFF[7]==0x01))
;;;1001   	  
;;;1002   	{
;;;1003   	bps[0]._ist_blok_host_cnt=3000;
0011ba  f64031b8          MOV      r1,#0xbb8
0011be  3a28              SUBS     r2,r2,#0x28           ;998
0011c0  7810              LDRB     r0,[r2,#0]            ;998  ; RXBUFF
0011c2  2830              CMP      r0,#0x30              ;998
0011c4  d113              BNE      |L1.4590|
0011c6  f892c001          LDRB     r12,[r2,#1]           ;998  ; RXBUFF
0011ca  2303              MOVS     r3,#3                 ;998
0011cc  ebb31f5c          CMP      r3,r12,LSR #5         ;998
0011d0  d10d              BNE      |L1.4590|
0011d2  7913              LDRB     r3,[r2,#4]            ;999  ; RXBUFF
0011d4  ebb81f13          CMP      r8,r3,LSR #4          ;999
0011d8  d109              BNE      |L1.4590|
0011da  7953              LDRB     r3,[r2,#5]            ;999  ; RXBUFF
0011dc  ebb61f13          CMP      r6,r3,LSR #4          ;999
0011e0  d105              BNE      |L1.4590|
0011e2  7993              LDRB     r3,[r2,#6]            ;999  ; RXBUFF
0011e4  2b05              CMP      r3,#5                 ;999
0011e6  d102              BNE      |L1.4590|
0011e8  79d3              LDRB     r3,[r2,#7]            ;1000  ; RXBUFF
0011ea  2b01              CMP      r3,#1                 ;1000
0011ec  d002              BEQ      |L1.4596|
                  |L1.4590|
;;;1004        TXBUFF[0]=0x30;
;;;1005   	TXBUFF[1]=0x20+3;
;;;1006   	can_adr_hndl();
;;;1007   	TXBUFF[6]=0x05;
;;;1008   	TXBUFF[7]=0x01;
;;;1009   	TXBUFF[8]=CRC1_out();
;;;1010   	TXBUFF[9]=CRC2_out();
;;;1011   	TX_len=10;
;;;1012   	can2_out_adr(TXBUFF,10);
;;;1013   
;;;1014   	}
;;;1015   
;;;1016   // 2 - 
;;;1017   else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
0011ee  2830              CMP      r0,#0x30
0011f0  d018              BEQ      |L1.4644|
0011f2  e02b              B        |L1.4684|
                  |L1.4596|
0011f4  48b5              LDR      r0,|L1.5324|
0011f6  63c1              STR      r1,[r0,#0x3c]         ;1003  ; bps
0011f8  7027              STRB     r7,[r4,#0]            ;1004
0011fa  2023              MOVS     r0,#0x23              ;1005
0011fc  7060              STRB     r0,[r4,#1]            ;1005
0011fe  f7fffffe          BL       can_adr_hndl
001202  2005              MOVS     r0,#5                 ;1007
001204  71a0              STRB     r0,[r4,#6]            ;1007
001206  f8849007          STRB     r9,[r4,#7]            ;1008
00120a  f7fffffe          BL       CRC1_out
00120e  7220              STRB     r0,[r4,#8]            ;1009
001210  f7fffffe          BL       CRC2_out
001214  7260              STRB     r0,[r4,#9]            ;1010
001216  200a              MOVS     r0,#0xa               ;1011
001218  72a8              STRB     r0,[r5,#0xa]          ;1011
00121a  210a              MOVS     r1,#0xa               ;1012
00121c  48a9              LDR      r0,|L1.5316|
00121e  f7fffffe          BL       can2_out_adr
001222  e113              B        |L1.5196|
                  |L1.4644|
001224  f892c001          LDRB     r12,[r2,#1]  ; RXBUFF
001228  2303              MOVS     r3,#3
00122a  ebb31f5c          CMP      r3,r12,LSR #5
00122e  d10d              BNE      |L1.4684|
;;;1018   	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x05)
001230  7913              LDRB     r3,[r2,#4]  ; RXBUFF
001232  ebb81f13          CMP      r8,r3,LSR #4
001236  d109              BNE      |L1.4684|
001238  7953              LDRB     r3,[r2,#5]  ; RXBUFF
00123a  ebb61f13          CMP      r6,r3,LSR #4
00123e  d105              BNE      |L1.4684|
001240  7993              LDRB     r3,[r2,#6]  ; RXBUFF
001242  2b05              CMP      r3,#5
001244  d102              BNE      |L1.4684|
;;;1019   	&&(RXBUFF[7]==0x02))
001246  79d3              LDRB     r3,[r2,#7]  ; RXBUFF
001248  2b02              CMP      r3,#2
00124a  d002              BEQ      |L1.4690|
                  |L1.4684|
;;;1020   	  
;;;1021   	{                  
;;;1022   	bps[1]._ist_blok_host_cnt=3000;
;;;1023        TXBUFF[0]=0x30;
;;;1024   	TXBUFF[1]=0x20+3;
;;;1025    	can_adr_hndl();
;;;1026   	TXBUFF[6]=0x05;
;;;1027   	TXBUFF[7]=0x02;
;;;1028   	TXBUFF[8]=CRC1_out();
;;;1029   	TXBUFF[9]=CRC2_out();
;;;1030   	TX_len=10;     
;;;1031   
;;;1032   	can2_out_adr(TXBUFF,10);
;;;1033   
;;;1034   	}
;;;1035   
;;;1036   // 3 - 
;;;1037   else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
00124c  2830              CMP      r0,#0x30
00124e  d018              BEQ      |L1.4738|
001250  e02b              B        |L1.4778|
                  |L1.4690|
001252  489e              LDR      r0,|L1.5324|
001254  f8c01098          STR      r1,[r0,#0x98]         ;1022  ; bps
001258  7027              STRB     r7,[r4,#0]            ;1023
00125a  2023              MOVS     r0,#0x23              ;1024
00125c  7060              STRB     r0,[r4,#1]            ;1024
00125e  f7fffffe          BL       can_adr_hndl
001262  2005              MOVS     r0,#5                 ;1026
001264  71a0              STRB     r0,[r4,#6]            ;1026
001266  71e6              STRB     r6,[r4,#7]            ;1027
001268  f7fffffe          BL       CRC1_out
00126c  7220              STRB     r0,[r4,#8]            ;1028
00126e  f7fffffe          BL       CRC2_out
001272  7260              STRB     r0,[r4,#9]            ;1029
001274  200a              MOVS     r0,#0xa               ;1030
001276  72a8              STRB     r0,[r5,#0xa]          ;1030
001278  210a              MOVS     r1,#0xa               ;1032
00127a  4892              LDR      r0,|L1.5316|
00127c  f7fffffe          BL       can2_out_adr
001280  e0e4              B        |L1.5196|
                  |L1.4738|
001282  7853              LDRB     r3,[r2,#1]  ; RXBUFF
001284  f04f0a03          MOV      r10,#3
001288  ebba1f53          CMP      r10,r3,LSR #5
00128c  d10d              BNE      |L1.4778|
;;;1038   	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x05)
00128e  7913              LDRB     r3,[r2,#4]  ; RXBUFF
001290  ebb81f13          CMP      r8,r3,LSR #4
001294  d109              BNE      |L1.4778|
001296  7953              LDRB     r3,[r2,#5]  ; RXBUFF
001298  ebb61f13          CMP      r6,r3,LSR #4
00129c  d105              BNE      |L1.4778|
00129e  7993              LDRB     r3,[r2,#6]  ; RXBUFF
0012a0  2b05              CMP      r3,#5
0012a2  d102              BNE      |L1.4778|
;;;1039   	&&(RXBUFF[7]==0x03))
0012a4  79d3              LDRB     r3,[r2,#7]  ; RXBUFF
0012a6  2b03              CMP      r3,#3
0012a8  d002              BEQ      |L1.4784|
                  |L1.4778|
;;;1040   	  
;;;1041   	{                  
;;;1042   	bps[2]._ist_blok_host_cnt=3000;
;;;1043        TXBUFF[0]=0x30;
;;;1044   	TXBUFF[1]=0x20+3;
;;;1045    	can_adr_hndl();
;;;1046   	TXBUFF[6]=0x05;
;;;1047   	TXBUFF[7]=0x03;
;;;1048   	TXBUFF[8]=CRC1_out();
;;;1049   	TXBUFF[9]=CRC2_out();
;;;1050   	TX_len=10;     
;;;1051   
;;;1052   	can2_out_adr(TXBUFF,10);
;;;1053   
;;;1054   	}
;;;1055   
;;;1056   
;;;1057   // 4 - 
;;;1058   else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
0012aa  2830              CMP      r0,#0x30
0012ac  d019              BEQ      |L1.4834|
0012ae  e02c              B        |L1.4874|
                  |L1.4784|
0012b0  4886              LDR      r0,|L1.5324|
0012b2  f8c010f4          STR      r1,[r0,#0xf4]         ;1042  ; bps
0012b6  7027              STRB     r7,[r4,#0]            ;1043
0012b8  2023              MOVS     r0,#0x23              ;1044
0012ba  7060              STRB     r0,[r4,#1]            ;1044
0012bc  f7fffffe          BL       can_adr_hndl
0012c0  2005              MOVS     r0,#5                 ;1046
0012c2  71a0              STRB     r0,[r4,#6]            ;1046
0012c4  f884a007          STRB     r10,[r4,#7]           ;1047
0012c8  f7fffffe          BL       CRC1_out
0012cc  7220              STRB     r0,[r4,#8]            ;1048
0012ce  f7fffffe          BL       CRC2_out
0012d2  7260              STRB     r0,[r4,#9]            ;1049
0012d4  200a              MOVS     r0,#0xa               ;1050
0012d6  72a8              STRB     r0,[r5,#0xa]          ;1050
0012d8  210a              MOVS     r1,#0xa               ;1052
0012da  487a              LDR      r0,|L1.5316|
0012dc  f7fffffe          BL       can2_out_adr
0012e0  e0b4              B        |L1.5196|
                  |L1.4834|
0012e2  7853              LDRB     r3,[r2,#1]  ; RXBUFF
0012e4  f04f0a03          MOV      r10,#3
0012e8  ebba1f53          CMP      r10,r3,LSR #5
0012ec  d10d              BNE      |L1.4874|
;;;1059   	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x05)
0012ee  7913              LDRB     r3,[r2,#4]  ; RXBUFF
0012f0  ebb81f13          CMP      r8,r3,LSR #4
0012f4  d109              BNE      |L1.4874|
0012f6  7953              LDRB     r3,[r2,#5]  ; RXBUFF
0012f8  ebb61f13          CMP      r6,r3,LSR #4
0012fc  d105              BNE      |L1.4874|
0012fe  7993              LDRB     r3,[r2,#6]  ; RXBUFF
001300  2b05              CMP      r3,#5
001302  d102              BNE      |L1.4874|
;;;1060   	&&(RXBUFF[7]==0x04))
001304  79d3              LDRB     r3,[r2,#7]  ; RXBUFF
001306  2b04              CMP      r3,#4
001308  d002              BEQ      |L1.4880|
                  |L1.4874|
;;;1061   	  
;;;1062   	{                  
;;;1063   	bps[3]._ist_blok_host_cnt=3000;
;;;1064        TXBUFF[0]=0x30;
;;;1065   	TXBUFF[1]=0x20+3;
;;;1066    	can_adr_hndl();
;;;1067   	TXBUFF[6]=0x05;
;;;1068   	TXBUFF[7]=0x03;
;;;1069   	TXBUFF[8]=CRC1_out();
;;;1070   	TXBUFF[9]=CRC2_out();
;;;1071   	TX_len=10;     
;;;1072   
;;;1073   	can2_out_adr(TXBUFF,10);
;;;1074   
;;;1075   	}
;;;1076   
;;;1077   
;;;1078   //  
;;;1079   else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
00130a  2830              CMP      r0,#0x30
00130c  d019              BEQ      |L1.4930|
00130e  e028              B        |L1.4962|
                  |L1.4880|
001310  486e              LDR      r0,|L1.5324|
001312  f8c01150          STR      r1,[r0,#0x150]        ;1063  ; bps
001316  7027              STRB     r7,[r4,#0]            ;1064
001318  2023              MOVS     r0,#0x23              ;1065
00131a  7060              STRB     r0,[r4,#1]            ;1065
00131c  f7fffffe          BL       can_adr_hndl
001320  2005              MOVS     r0,#5                 ;1067
001322  71a0              STRB     r0,[r4,#6]            ;1067
001324  f884a007          STRB     r10,[r4,#7]           ;1068
001328  f7fffffe          BL       CRC1_out
00132c  7220              STRB     r0,[r4,#8]            ;1069
00132e  f7fffffe          BL       CRC2_out
001332  7260              STRB     r0,[r4,#9]            ;1070
001334  200a              MOVS     r0,#0xa               ;1071
001336  72a8              STRB     r0,[r5,#0xa]          ;1071
001338  210a              MOVS     r1,#0xa               ;1073
00133a  4862              LDR      r0,|L1.5316|
00133c  f7fffffe          BL       can2_out_adr
001340  e084              B        |L1.5196|
                  |L1.4930|
001342  7853              LDRB     r3,[r2,#1]  ; RXBUFF
001344  2103              MOVS     r1,#3
001346  ebb11f53          CMP      r1,r3,LSR #5
00134a  d10a              BNE      |L1.4962|
;;;1080   	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x06))
00134c  7911              LDRB     r1,[r2,#4]  ; RXBUFF
00134e  ebb81f11          CMP      r8,r1,LSR #4
001352  d106              BNE      |L1.4962|
001354  7951              LDRB     r1,[r2,#5]  ; RXBUFF
001356  ebb61f11          CMP      r6,r1,LSR #4
00135a  d102              BNE      |L1.4962|
00135c  7991              LDRB     r1,[r2,#6]  ; RXBUFF
00135e  2906              CMP      r1,#6
001360  d002              BEQ      |L1.4968|
                  |L1.4962|
;;;1081   	  
;;;1082   	{                  
;;;1083   	bps[0]._ist_blok_host_cnt=0;
;;;1084   	bps[1]._ist_blok_host_cnt=0;
;;;1085   	bps[2]._ist_blok_host_cnt=0;
;;;1086   	bps[3]._ist_blok_host_cnt=0;
;;;1087        TXBUFF[0]=0x30;
;;;1088   	TXBUFF[1]=0x20+2;
;;;1089    	can_adr_hndl();
;;;1090   	TXBUFF[6]=0x05;
;;;1091   
;;;1092   	TXBUFF[7]=CRC1_out();
;;;1093   	TXBUFF[8]=CRC2_out();
;;;1094   	TX_len=9;     
;;;1095   
;;;1096   	can2_out_adr(TXBUFF,9);
;;;1097   
;;;1098   	}
;;;1099   
;;;1100   //    
;;;1101   else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
001362  2830              CMP      r0,#0x30
001364  d01d              BEQ      |L1.5026|
001366  e02c              B        |L1.5058|
                  |L1.4968|
001368  4958              LDR      r1,|L1.5324|
00136a  2000              MOVS     r0,#0                 ;1083
00136c  63c8              STR      r0,[r1,#0x3c]         ;1083  ; bps
00136e  f8c10098          STR      r0,[r1,#0x98]         ;1084  ; bps
001372  f8c100f4          STR      r0,[r1,#0xf4]         ;1085  ; bps
001376  f8c10150          STR      r0,[r1,#0x150]        ;1086  ; bps
00137a  7027              STRB     r7,[r4,#0]            ;1087
00137c  2022              MOVS     r0,#0x22              ;1088
00137e  7060              STRB     r0,[r4,#1]            ;1088
001380  f7fffffe          BL       can_adr_hndl
001384  2005              MOVS     r0,#5                 ;1090
001386  71a0              STRB     r0,[r4,#6]            ;1090
001388  f7fffffe          BL       CRC1_out
00138c  71e0              STRB     r0,[r4,#7]            ;1092
00138e  f7fffffe          BL       CRC2_out
001392  7220              STRB     r0,[r4,#8]            ;1093
001394  2009              MOVS     r0,#9                 ;1094
001396  72a8              STRB     r0,[r5,#0xa]          ;1094
001398  2109              MOVS     r1,#9                 ;1096
00139a  484a              LDR      r0,|L1.5316|
00139c  f7fffffe          BL       can2_out_adr
0013a0  e054              B        |L1.5196|
                  |L1.5026|
0013a2  7853              LDRB     r3,[r2,#1]  ; RXBUFF
0013a4  2103              MOVS     r1,#3
0013a6  ebb11f53          CMP      r1,r3,LSR #5
0013aa  d10a              BNE      |L1.5058|
;;;1102   	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x0a))
0013ac  7911              LDRB     r1,[r2,#4]  ; RXBUFF
0013ae  ebb81f11          CMP      r8,r1,LSR #4
0013b2  d106              BNE      |L1.5058|
0013b4  7951              LDRB     r1,[r2,#5]  ; RXBUFF
0013b6  ebb61f11          CMP      r6,r1,LSR #4
0013ba  d102              BNE      |L1.5058|
0013bc  7991              LDRB     r1,[r2,#6]  ; RXBUFF
0013be  290a              CMP      r1,#0xa
0013c0  d002              BEQ      |L1.5064|
                  |L1.5058|
;;;1103   	  
;;;1104   	{                  
;;;1105   	PAR=1;
;;;1106   	lc640_write_int(EE_PAR,PAR);
;;;1107   	
;;;1108        TXBUFF[0]=0x30;
;;;1109   	TXBUFF[1]=0x20+2;
;;;1110    	can_adr_hndl();
;;;1111   	TXBUFF[6]=0x0a;
;;;1112   	TXBUFF[7]=CRC1_out();
;;;1113   	TXBUFF[8]=CRC2_out();
;;;1114   
;;;1115   	can2_out_adr(TXBUFF,9);    
;;;1116   
;;;1117   	}
;;;1118   
;;;1119   //    
;;;1120   else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
0013c2  2830              CMP      r0,#0x30
0013c4  d019              BEQ      |L1.5114|
0013c6  e041              B        |L1.5196|
                  |L1.5064|
0013c8  4841              LDR      r0,|L1.5328|
0013ca  4649              MOV      r1,r9                 ;1105
0013cc  f8a09000          STRH     r9,[r0,#0]            ;1105
0013d0  20ca              MOVS     r0,#0xca              ;1106
0013d2  f7fffffe          BL       lc640_write_int
0013d6  7027              STRB     r7,[r4,#0]            ;1108
0013d8  2022              MOVS     r0,#0x22              ;1109
0013da  7060              STRB     r0,[r4,#1]            ;1109
0013dc  f7fffffe          BL       can_adr_hndl
0013e0  200a              MOVS     r0,#0xa               ;1111
0013e2  71a0              STRB     r0,[r4,#6]            ;1111
0013e4  f7fffffe          BL       CRC1_out
0013e8  71e0              STRB     r0,[r4,#7]            ;1112
0013ea  f7fffffe          BL       CRC2_out
0013ee  7220              STRB     r0,[r4,#8]            ;1113
0013f0  2109              MOVS     r1,#9                 ;1115
0013f2  4834              LDR      r0,|L1.5316|
0013f4  f7fffffe          BL       can2_out_adr
0013f8  e028              B        |L1.5196|
                  |L1.5114|
0013fa  7851              LDRB     r1,[r2,#1]  ; RXBUFF
0013fc  2003              MOVS     r0,#3
0013fe  ebb01f51          CMP      r0,r1,LSR #5
001402  d123              BNE      |L1.5196|
;;;1121   	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x0b))
001404  7910              LDRB     r0,[r2,#4]  ; RXBUFF
001406  ebb81f10          CMP      r8,r0,LSR #4
00140a  d11f              BNE      |L1.5196|
00140c  7950              LDRB     r0,[r2,#5]  ; RXBUFF
00140e  ebb61f10          CMP      r6,r0,LSR #4
001412  d11b              BNE      |L1.5196|
001414  7990              LDRB     r0,[r2,#6]  ; RXBUFF
001416  280b              CMP      r0,#0xb
001418  d118              BNE      |L1.5196|
;;;1122   	  
;;;1123   	{                  
;;;1124   	PAR=0;
00141a  482d              LDR      r0,|L1.5328|
00141c  2100              MOVS     r1,#0
00141e  8001              STRH     r1,[r0,#0]
;;;1125   	lc640_write_int(EE_PAR,PAR);
001420  20ca              MOVS     r0,#0xca
001422  f7fffffe          BL       lc640_write_int
;;;1126   	
;;;1127        TXBUFF[0]=0x30;
001426  7027              STRB     r7,[r4,#0]
;;;1128   	TXBUFF[1]=0x20+2;
001428  2022              MOVS     r0,#0x22
00142a  7060              STRB     r0,[r4,#1]
;;;1129    	can_adr_hndl();
00142c  f7fffffe          BL       can_adr_hndl
;;;1130   	TXBUFF[6]=0x0b;
001430  200b              MOVS     r0,#0xb
001432  71a0              STRB     r0,[r4,#6]
;;;1131   	TXBUFF[7]=CRC1_out();
001434  f7fffffe          BL       CRC1_out
001438  71e0              STRB     r0,[r4,#7]
;;;1132   	TXBUFF[8]=CRC2_out();
00143a  f7fffffe          BL       CRC2_out
00143e  7220              STRB     r0,[r4,#8]
;;;1133   	TX_len=9;     
001440  2009              MOVS     r0,#9
001442  72a8              STRB     r0,[r5,#0xa]
;;;1134   
;;;1135   	can2_out_adr(TXBUFF,9);
001444  2109              MOVS     r1,#9
001446  481f              LDR      r0,|L1.5316|
001448  f7fffffe          BL       can2_out_adr
                  |L1.5196|
;;;1136   
;;;1137   	}
;;;1138   
;;;1139   CAN_IN_AN_end:
;;;1140   bIN=0;
00144c  2000              MOVS     r0,#0
00144e  7228              STRB     r0,[r5,#8]
;;;1141   }
001450  e8bd8ff8          POP      {r3-r11,pc}
;;;1142   //-----------------------------------------------
                          ENDP

                  can_in_an1 PROC
;;;1143   void can_in_an1(void)
001454  e92d5ff0          PUSH     {r4-r12,lr}
;;;1144   {
;;;1145   //char i;
;;;1146   //signed short temp_SS;
;;;1147   char slave_num;
;;;1148   
;;;1149   //if(!bIN2) goto CAN_IN_AN1_end; 
;;;1150   
;;;1151   //can_debug_plazma[1][2]++;
;;;1152   can_rotor[1]++;
001458  491a              LDR      r1,|L1.5316|
00145a  3128              ADDS     r1,r1,#0x28
00145c  7848              LDRB     r0,[r1,#1]  ; can_rotor
00145e  1c40              ADDS     r0,r0,#1
001460  7048              STRB     r0,[r1,#1]
;;;1153   
;;;1154   if((RXBUFF[0]==sub_ind1)&&(RXBUFF[1]==PUTID)&&(RXBUFF[2]==0xdd)&&(RXBUFF[3]==0xdd)/*&&(sub_ind==6)*/)
001462  f1a10b50          SUB      r11,r1,#0x50
001466  491b              LDR      r1,|L1.5332|
001468  f89b0000          LDRB     r0,[r11,#0]  ; RXBUFF
;;;1155   	{
;;;1156   	mess_send(MESS2IND_HNDL,PARAM_U_AVT_GOOD,0,10);
;;;1157   	can_reset_cnt=0;
00146c  4e1a              LDR      r6,|L1.5336|
00146e  f9911002          LDRSB    r1,[r1,#2]            ;1154  ; a_ind
001472  2400              MOVS     r4,#0                 ;1156
001474  4288              CMP      r0,r1                 ;1154
001476  d112              BNE      |L1.5278|
001478  f89b0001          LDRB     r0,[r11,#1]           ;1154  ; RXBUFF
00147c  2891              CMP      r0,#0x91              ;1154
00147e  d10e              BNE      |L1.5278|
001480  f89b0002          LDRB     r0,[r11,#2]           ;1154  ; RXBUFF
001484  28dd              CMP      r0,#0xdd              ;1154
001486  d10a              BNE      |L1.5278|
001488  f89b0003          LDRB     r0,[r11,#3]           ;1154  ; RXBUFF
00148c  28dd              CMP      r0,#0xdd              ;1154
00148e  d106              BNE      |L1.5278|
001490  230a              MOVS     r3,#0xa               ;1156
001492  2200              MOVS     r2,#0                 ;1156
001494  21d9              MOVS     r1,#0xd9              ;1156
001496  20d7              MOVS     r0,#0xd7              ;1156
001498  f7fffffe          BL       mess_send
00149c  70b4              STRB     r4,[r6,#2]
                  |L1.5278|
;;;1158   	}
;;;1159   
;;;1160   
;;;1161   if((RXBUFF[1]==PUTTM1)&&((RXBUFF[0]&0x1f)>=0)&&((RXBUFF[0]&0x1f)<17))
00149e  f89b0001          LDRB     r0,[r11,#1]  ; RXBUFF
0014a2  270a              MOVS     r7,#0xa               ;1156
;;;1162        {
;;;1163   	//can_debug_plazma[1][2]++;
;;;1164        slave_num=RXBUFF[0]&0x1f;
;;;1165        
;;;1166       if((RXBUFF[0]&0xe0)==0)bps[slave_num]._device=dSRC;
0014a4  4d09              LDR      r5,|L1.5324|
;;;1167       else if((RXBUFF[0]&0xe0)==0x40)bps[slave_num]._device=dINV;
0014a6  f04f0902          MOV      r9,#2
0014aa  f04f0a05          MOV      r10,#5
0014ae  f04f0803          MOV      r8,#3                 ;1166
0014b2  28da              CMP      r0,#0xda              ;1161
0014b4  d142              BNE      |L1.5436|
0014b6  f89b1000          LDRB     r1,[r11,#0]           ;1161  ; RXBUFF
0014ba  f001001f          AND      r0,r1,#0x1f           ;1161
0014be  e00d              B        |L1.5340|
                  |L1.5312|
                          DCD      ke_start_stat
                  |L1.5316|
                          DCD      ||.bss||+0x14c
                  |L1.5320|
                          DCD      spc_stat
                  |L1.5324|
                          DCD      bps
                  |L1.5328|
                          DCD      PAR
                  |L1.5332|
                          DCD      a_ind
                  |L1.5336|
                          DCD      ||.data||
                  |L1.5340|
0014dc  2811              CMP      r0,#0x11              ;1161
0014de  d22d              BCS      |L1.5436|
0014e0  094a              LSRS     r2,r1,#5              ;1166
0014e2  d030              BEQ      |L1.5446|
0014e4  ebb91f51          CMP      r9,r1,LSR #5
0014e8  d105              BNE      |L1.5366|
0014ea  ebc001c0          RSB      r1,r0,r0,LSL #3
0014ee  eb011100          ADD      r1,r1,r0,LSL #4
0014f2  f805a021          STRB     r10,[r5,r1,LSL #2]
                  |L1.5366|
;;;1168        	
;;;1169   	bps[slave_num]._buff[0]=RXBUFF[2]; 
0014f6  ebc001c0          RSB      r1,r0,r0,LSL #3
0014fa  eb011100          ADD      r1,r1,r0,LSL #4
0014fe  eb050181          ADD      r1,r5,r1,LSL #2
001502  f89b2002          LDRB     r2,[r11,#2]  ; RXBUFF
001506  718a              STRB     r2,[r1,#6]
;;;1170   	bps[slave_num]._buff[1]=RXBUFF[3];
001508  f89b2003          LDRB     r2,[r11,#3]  ; RXBUFF
00150c  71ca              STRB     r2,[r1,#7]
;;;1171   	bps[slave_num]._buff[2]=RXBUFF[4];
00150e  f89b2004          LDRB     r2,[r11,#4]  ; RXBUFF
001512  720a              STRB     r2,[r1,#8]
;;;1172   	bps[slave_num]._buff[3]=RXBUFF[5];
001514  f89b2005          LDRB     r2,[r11,#5]  ; RXBUFF
001518  724a              STRB     r2,[r1,#9]
;;;1173   	bps[slave_num]._buff[4]=RXBUFF[6];
00151a  f89b2006          LDRB     r2,[r11,#6]  ; RXBUFF
00151e  728a              STRB     r2,[r1,#0xa]
;;;1174   	bps[slave_num]._buff[5]=RXBUFF[7];
001520  f89b2007          LDRB     r2,[r11,#7]  ; RXBUFF
001524  72ca              STRB     r2,[r1,#0xb]
;;;1175   
;;;1176   
;;;1177   /*	can_slot[slave_num,0]=RXBUFF[0];
;;;1178   	can_slot[slave_num,1]=RXBUFF[1];
;;;1179   	can_slot[slave_num,2]=RXBUFF[2];
;;;1180   	can_slot[slave_num,3]=RXBUFF[3];
;;;1181   	can_slot[slave_num,4]=RXBUFF[4];
;;;1182   	can_slot[slave_num,5]=RXBUFF[5];
;;;1183   	can_slot[slave_num,6]=RXBUFF[6];
;;;1184   	can_slot[slave_num,7]=RXBUFF[7]; */
;;;1185   	
;;;1186   	bps[slave_num]._cnt=0;
001526  70cc              STRB     r4,[r1,#3]
;;;1187   	bps[slave_num]._is_on_cnt=10;
001528  f8817038          STRB     r7,[r1,#0x38]
;;;1188   	
;;;1189    	if((bps[slave_num]._cnt==0)&&(bps[slave_num]._av&(1<<3))) avar_bps_hndl(slave_num,3,0);
00152c  7849              LDRB     r1,[r1,#1]
00152e  0709              LSLS     r1,r1,#28
001530  d503              BPL      |L1.5434|
001532  2200              MOVS     r2,#0
001534  2103              MOVS     r1,#3
001536  f7fffffe          BL       avar_bps_hndl
                  |L1.5434|
;;;1190   
;;;1191   	can_reset_cnt=0;
00153a  70b4              STRB     r4,[r6,#2]
                  |L1.5436|
;;;1192        }
;;;1193   
;;;1194   if((RXBUFF[1]==PUTTM2)&&((RXBUFF[0]&0x1f)>=0)&&((RXBUFF[0]&0x1f)<12))
00153c  f89b1001          LDRB     r1,[r11,#1]  ; RXBUFF
001540  29db              CMP      r1,#0xdb
001542  d007              BEQ      |L1.5460|
001544  e033              B        |L1.5550|
                  |L1.5446|
001546  ebc001c0          RSB      r1,r0,r0,LSL #3       ;1166
00154a  eb011100          ADD      r1,r1,r0,LSL #4       ;1166
00154e  f8058021          STRB     r8,[r5,r1,LSL #2]     ;1166
001552  e7d0              B        |L1.5366|
                  |L1.5460|
001554  f89b2000          LDRB     r2,[r11,#0]  ; RXBUFF
001558  f002001f          AND      r0,r2,#0x1f
00155c  280c              CMP      r0,#0xc
00155e  d226              BCS      |L1.5550|
;;;1195    	{
;;;1196        slave_num=RXBUFF[0]&0x1f;  
;;;1197   
;;;1198       if((RXBUFF[0]&0xe0)==0)bps[slave_num]._device=dSRC;
001560  0953              LSRS     r3,r2,#5
001562  d029              BEQ      |L1.5560|
;;;1199       else if((RXBUFF[0]&0xe0)==0x40)bps[slave_num]._device=dINV;
001564  ebb91f52          CMP      r9,r2,LSR #5
001568  d105              BNE      |L1.5494|
00156a  ebc002c0          RSB      r2,r0,r0,LSL #3
00156e  eb021200          ADD      r2,r2,r0,LSL #4
001572  f805a022          STRB     r10,[r5,r2,LSL #2]
                  |L1.5494|
;;;1200        
;;;1201   	bps[slave_num]._buff[6]=RXBUFF[2]; 
001576  ebc003c0          RSB      r3,r0,r0,LSL #3
00157a  eb031000          ADD      r0,r3,r0,LSL #4
00157e  eb050080          ADD      r0,r5,r0,LSL #2
001582  f89b2002          LDRB     r2,[r11,#2]  ; RXBUFF
001586  7302              STRB     r2,[r0,#0xc]
;;;1202   	bps[slave_num]._buff[7]=RXBUFF[3];
001588  f89b2003          LDRB     r2,[r11,#3]  ; RXBUFF
00158c  7342              STRB     r2,[r0,#0xd]
;;;1203   	bps[slave_num]._buff[8]=RXBUFF[4];
00158e  f89b2004          LDRB     r2,[r11,#4]  ; RXBUFF
001592  7382              STRB     r2,[r0,#0xe]
;;;1204   	bps[slave_num]._buff[9]=RXBUFF[5];
001594  f89b2005          LDRB     r2,[r11,#5]  ; RXBUFF
001598  73c2              STRB     r2,[r0,#0xf]
;;;1205   	bps[slave_num]._buff[10]=RXBUFF[6];
00159a  f89b2006          LDRB     r2,[r11,#6]  ; RXBUFF
00159e  7402              STRB     r2,[r0,#0x10]
;;;1206   	bps[slave_num]._buff[11]=RXBUFF[7];	
0015a0  f89b2007          LDRB     r2,[r11,#7]  ; RXBUFF
0015a4  7442              STRB     r2,[r0,#0x11]
;;;1207   
;;;1208   
;;;1209   /*	can_slot[slave_num,8]=RXBUFF[0];
;;;1210   	can_slot[slave_num,9]=RXBUFF[1];
;;;1211   	can_slot[slave_num,10]=RXBUFF[2];
;;;1212   	can_slot[slave_num,11]=RXBUFF[3];
;;;1213   	can_slot[slave_num,12]=RXBUFF[4];
;;;1214   	can_slot[slave_num,13]=RXBUFF[5];
;;;1215   	can_slot[slave_num,14]=RXBUFF[6];
;;;1216   	can_slot[slave_num,15]=RXBUFF[7]; */
;;;1217   	
;;;1218   	bps[slave_num]._cnt=0;
0015a6  70c4              STRB     r4,[r0,#3]
;;;1219   	bps[slave_num]._is_on_cnt=10; 
0015a8  f8807038          STRB     r7,[r0,#0x38]
;;;1220   
;;;1221      	//if((src[slave_num]._cnt==0)&&(src[slave_num]._av_net)) avar_s_hndl(slave_num,3,0); 
;;;1222   	can_reset_cnt=0;
0015ac  70b4              STRB     r4,[r6,#2]
                  |L1.5550|
;;;1223      	}
;;;1224   
;;;1225   if((RXBUFF[1]==PUTTM1INV2)&&((RXBUFF[0]&0x1f)>=MINIM_INV_ADRESS)&&((RXBUFF[0]&0x1f)<MINIM_INV_ADRESS+NUMINV))
;;;1226        {
;;;1227   	//can_debug_plazma[1][2]++;
;;;1228        slave_num=RXBUFF[0]&0x1f;
;;;1229   
;;;1230   	plazma_can_inv[0]++;
0015ae  f8dfb410          LDR      r11,|L1.6592|
0015b2  29dd              CMP      r1,#0xdd              ;1225
0015b4  d007              BEQ      |L1.5574|
0015b6  e03f              B        |L1.5688|
                  |L1.5560|
0015b8  ebc002c0          RSB      r2,r0,r0,LSL #3       ;1198
0015bc  eb021200          ADD      r2,r2,r0,LSL #4       ;1198
0015c0  f8058022          STRB     r8,[r5,r2,LSL #2]     ;1198
0015c4  e7d7              B        |L1.5494|
                  |L1.5574|
0015c6  4aff              LDR      r2,|L1.6596|
0015c8  7811              LDRB     r1,[r2,#0]            ;1225  ; RXBUFF
0015ca  f001001f          AND      r0,r1,#0x1f           ;1225
0015ce  2814              CMP      r0,#0x14              ;1225
0015d0  d332              BCC      |L1.5688|
0015d2  4bfd              LDR      r3,|L1.6600|
0015d4  f9b33000          LDRSH    r3,[r3,#0]            ;1225  ; NUMINV
0015d8  3314              ADDS     r3,r3,#0x14           ;1225
0015da  4298              CMP      r0,r3                 ;1225
0015dc  da2c              BGE      |L1.5688|
0015de  f89b3000          LDRB     r3,[r11,#0]  ; plazma_can_inv
0015e2  1c5b              ADDS     r3,r3,#1
0015e4  f88b3000          STRB     r3,[r11,#0]
;;;1231        
;;;1232       if((RXBUFF[0]&0xe0)==0)bps[slave_num]._device=dSRC;
0015e8  094b              LSRS     r3,r1,#5
0015ea  d02c              BEQ      |L1.5702|
;;;1233       else if((RXBUFF[0]&0xe0)==0x40)bps[slave_num]._device=dINV;
0015ec  ebb91f51          CMP      r9,r1,LSR #5
0015f0  d105              BNE      |L1.5630|
0015f2  ebc001c0          RSB      r1,r0,r0,LSL #3
0015f6  eb011100          ADD      r1,r1,r0,LSL #4
0015fa  f805a021          STRB     r10,[r5,r1,LSL #2]
                  |L1.5630|
;;;1234        	
;;;1235   	bps[slave_num]._buff[0]=RXBUFF[2]; 
0015fe  ebc001c0          RSB      r1,r0,r0,LSL #3
001602  eb011100          ADD      r1,r1,r0,LSL #4
001606  eb050181          ADD      r1,r5,r1,LSL #2
00160a  7893              LDRB     r3,[r2,#2]  ; RXBUFF
00160c  718b              STRB     r3,[r1,#6]
;;;1236   	bps[slave_num]._buff[1]=RXBUFF[3];
00160e  78d3              LDRB     r3,[r2,#3]  ; RXBUFF
001610  71cb              STRB     r3,[r1,#7]
;;;1237   	bps[slave_num]._buff[2]=RXBUFF[4];
001612  7913              LDRB     r3,[r2,#4]  ; RXBUFF
001614  720b              STRB     r3,[r1,#8]
;;;1238   	bps[slave_num]._buff[3]=RXBUFF[5];
001616  7953              LDRB     r3,[r2,#5]  ; RXBUFF
001618  724b              STRB     r3,[r1,#9]
;;;1239   	bps[slave_num]._buff[4]=RXBUFF[6];
00161a  7993              LDRB     r3,[r2,#6]  ; RXBUFF
00161c  728b              STRB     r3,[r1,#0xa]
;;;1240   	bps[slave_num]._buff[5]=RXBUFF[7];
00161e  79d2              LDRB     r2,[r2,#7]  ; RXBUFF
001620  72ca              STRB     r2,[r1,#0xb]
;;;1241   
;;;1242   
;;;1243   /*	can_slot[slave_num,0]=RXBUFF[0];
;;;1244   	can_slot[slave_num,1]=RXBUFF[1];
;;;1245   	can_slot[slave_num,2]=RXBUFF[2];
;;;1246   	can_slot[slave_num,3]=RXBUFF[3];
;;;1247   	can_slot[slave_num,4]=RXBUFF[4];
;;;1248   	can_slot[slave_num,5]=RXBUFF[5];
;;;1249   	can_slot[slave_num,6]=RXBUFF[6];
;;;1250   	can_slot[slave_num,7]=RXBUFF[7]; */
;;;1251   	
;;;1252   	bps[slave_num]._cnt=0;
001622  70cc              STRB     r4,[r1,#3]
;;;1253   	bps[slave_num]._is_on_cnt=10;
001624  f8817038          STRB     r7,[r1,#0x38]
;;;1254   	
;;;1255    	if((bps[slave_num]._cnt==0)&&(bps[slave_num]._av&(1<<3))) avar_bps_hndl(slave_num,3,0);
001628  7849              LDRB     r1,[r1,#1]
00162a  0709              LSLS     r1,r1,#28
00162c  d503              BPL      |L1.5686|
00162e  2200              MOVS     r2,#0
001630  2103              MOVS     r1,#3
001632  f7fffffe          BL       avar_bps_hndl
                  |L1.5686|
;;;1256   
;;;1257   	can_reset_cnt=0;
001636  70b4              STRB     r4,[r6,#2]
                  |L1.5688|
;;;1258        }
;;;1259   
;;;1260   if((RXBUFF[1]==PUTTM2INV2)&&((RXBUFF[0]&0x1f)>=MINIM_INV_ADRESS)&&((RXBUFF[0]&0x1f)<MINIM_INV_ADRESS+NUMINV))
001638  f8dfc388          LDR      r12,|L1.6596|
00163c  f89c2001          LDRB     r2,[r12,#1]  ; RXBUFF
001640  2ade              CMP      r2,#0xde
001642  d007              BEQ      |L1.5716|
001644  e03e              B        |L1.5828|
                  |L1.5702|
001646  ebc001c0          RSB      r1,r0,r0,LSL #3       ;1232
00164a  eb011100          ADD      r1,r1,r0,LSL #4       ;1232
00164e  f8058021          STRB     r8,[r5,r1,LSL #2]     ;1232
001652  e7d4              B        |L1.5630|
                  |L1.5716|
001654  f89c1000          LDRB     r1,[r12,#0]  ; RXBUFF
001658  f001001f          AND      r0,r1,#0x1f
00165c  2814              CMP      r0,#0x14
00165e  d331              BCC      |L1.5828|
001660  4bd9              LDR      r3,|L1.6600|
001662  f9b33000          LDRSH    r3,[r3,#0]  ; NUMINV
001666  3314              ADDS     r3,r3,#0x14
001668  4298              CMP      r0,r3
00166a  da2b              BGE      |L1.5828|
;;;1261    	{
;;;1262        slave_num=RXBUFF[0]&0x1f;
;;;1263   	
;;;1264   	plazma_can_inv[1]++;  
00166c  f89b3001          LDRB     r3,[r11,#1]  ; plazma_can_inv
001670  1c5b              ADDS     r3,r3,#1
001672  f88b3001          STRB     r3,[r11,#1]
;;;1265   
;;;1266       if((RXBUFF[0]&0xe0)==0)bps[slave_num]._device=dSRC;
001676  094b              LSRS     r3,r1,#5
001678  d027              BEQ      |L1.5834|
;;;1267       else if((RXBUFF[0]&0xe0)==0x40)bps[slave_num]._device=dINV;
00167a  ebb91f51          CMP      r9,r1,LSR #5
00167e  d105              BNE      |L1.5772|
001680  ebc001c0          RSB      r1,r0,r0,LSL #3
001684  eb011100          ADD      r1,r1,r0,LSL #4
001688  f805a021          STRB     r10,[r5,r1,LSL #2]
                  |L1.5772|
;;;1268        
;;;1269   	bps[slave_num]._buff[6]=RXBUFF[2]; 
00168c  ebc003c0          RSB      r3,r0,r0,LSL #3
001690  eb031000          ADD      r0,r3,r0,LSL #4
001694  eb050080          ADD      r0,r5,r0,LSL #2
001698  f89c1002          LDRB     r1,[r12,#2]  ; RXBUFF
00169c  7301              STRB     r1,[r0,#0xc]
;;;1270   	bps[slave_num]._buff[7]=RXBUFF[3];
00169e  f89c1003          LDRB     r1,[r12,#3]  ; RXBUFF
0016a2  7341              STRB     r1,[r0,#0xd]
;;;1271   	bps[slave_num]._buff[8]=RXBUFF[4];
0016a4  f89c1004          LDRB     r1,[r12,#4]  ; RXBUFF
0016a8  7381              STRB     r1,[r0,#0xe]
;;;1272   	bps[slave_num]._buff[9]=RXBUFF[5];
0016aa  f89c1005          LDRB     r1,[r12,#5]  ; RXBUFF
0016ae  73c1              STRB     r1,[r0,#0xf]
;;;1273   	bps[slave_num]._buff[10]=RXBUFF[6];
0016b0  f89c1006          LDRB     r1,[r12,#6]  ; RXBUFF
0016b4  7401              STRB     r1,[r0,#0x10]
;;;1274   	bps[slave_num]._buff[11]=RXBUFF[7];	
0016b6  f89c1007          LDRB     r1,[r12,#7]  ; RXBUFF
0016ba  7441              STRB     r1,[r0,#0x11]
;;;1275   
;;;1276   
;;;1277   /*	can_slot[slave_num,8]=RXBUFF[0];
;;;1278   	can_slot[slave_num,9]=RXBUFF[1];
;;;1279   	can_slot[slave_num,10]=RXBUFF[2];
;;;1280   	can_slot[slave_num,11]=RXBUFF[3];
;;;1281   	can_slot[slave_num,12]=RXBUFF[4];
;;;1282   	can_slot[slave_num,13]=RXBUFF[5];
;;;1283   	can_slot[slave_num,14]=RXBUFF[6];
;;;1284   	can_slot[slave_num,15]=RXBUFF[7]; */
;;;1285   	
;;;1286   	bps[slave_num]._cnt=0;
0016bc  70c4              STRB     r4,[r0,#3]
;;;1287   	bps[slave_num]._is_on_cnt=10; 
0016be  f8807038          STRB     r7,[r0,#0x38]
;;;1288   
;;;1289      	//if((src[slave_num]._cnt==0)&&(src[slave_num]._av_net)) avar_s_hndl(slave_num,3,0); 
;;;1290   	can_reset_cnt=0;
0016c2  70b4              STRB     r4,[r6,#2]
                  |L1.5828|
;;;1291      	}
;;;1292   
;;;1293   if((RXBUFF[1]==PUTTM3INV2)&&((RXBUFF[0]&0x1f)>=MINIM_INV_ADRESS)&&((RXBUFF[0]&0x1f)<MINIM_INV_ADRESS+NUMINV))
0016c4  2adf              CMP      r2,#0xdf
0016c6  d007              BEQ      |L1.5848|
0016c8  e03e              B        |L1.5960|
                  |L1.5834|
0016ca  ebc001c0          RSB      r1,r0,r0,LSL #3       ;1266
0016ce  eb011100          ADD      r1,r1,r0,LSL #4       ;1266
0016d2  f8058021          STRB     r8,[r5,r1,LSL #2]     ;1266
0016d6  e7d9              B        |L1.5772|
                  |L1.5848|
0016d8  f89c1000          LDRB     r1,[r12,#0]  ; RXBUFF
0016dc  f001001f          AND      r0,r1,#0x1f
0016e0  2814              CMP      r0,#0x14
0016e2  d331              BCC      |L1.5960|
0016e4  4bb8              LDR      r3,|L1.6600|
0016e6  f9b33000          LDRSH    r3,[r3,#0]  ; NUMINV
0016ea  3314              ADDS     r3,r3,#0x14
0016ec  4298              CMP      r0,r3
0016ee  da2b              BGE      |L1.5960|
;;;1294    	{
;;;1295        slave_num=RXBUFF[0]&0x1f; 
;;;1296   
;;;1297   	plazma_can_inv[2]++; 
0016f0  f89b3002          LDRB     r3,[r11,#2]  ; plazma_can_inv
0016f4  1c5b              ADDS     r3,r3,#1
0016f6  f88b3002          STRB     r3,[r11,#2]
;;;1298   
;;;1299       if((RXBUFF[0]&0xe0)==0)bps[slave_num]._device=dSRC;
0016fa  094b              LSRS     r3,r1,#5
0016fc  d029              BEQ      |L1.5970|
;;;1300       else if((RXBUFF[0]&0xe0)==0x40)bps[slave_num]._device=dINV;
0016fe  ebb91f51          CMP      r9,r1,LSR #5
001702  d105              BNE      |L1.5904|
001704  ebc001c0          RSB      r1,r0,r0,LSL #3
001708  eb011100          ADD      r1,r1,r0,LSL #4
00170c  f805a021          STRB     r10,[r5,r1,LSL #2]
                  |L1.5904|
;;;1301        
;;;1302   	bps[slave_num]._buff[12]=RXBUFF[2]; 
001710  ebc003c0          RSB      r3,r0,r0,LSL #3
001714  eb031000          ADD      r0,r3,r0,LSL #4
001718  eb050080          ADD      r0,r5,r0,LSL #2
00171c  f89c1002          LDRB     r1,[r12,#2]  ; RXBUFF
001720  7481              STRB     r1,[r0,#0x12]
;;;1303   	bps[slave_num]._buff[13]=RXBUFF[3];
001722  f89c1003          LDRB     r1,[r12,#3]  ; RXBUFF
001726  74c1              STRB     r1,[r0,#0x13]
;;;1304   	bps[slave_num]._buff[14]=RXBUFF[4];
001728  f89c1004          LDRB     r1,[r12,#4]  ; RXBUFF
00172c  7501              STRB     r1,[r0,#0x14]
;;;1305   	bps[slave_num]._buff[15]=RXBUFF[5];
00172e  f89c1005          LDRB     r1,[r12,#5]  ; RXBUFF
001732  7541              STRB     r1,[r0,#0x15]
;;;1306   	bps[slave_num]._buff[16]=RXBUFF[6];
001734  f89c1006          LDRB     r1,[r12,#6]  ; RXBUFF
001738  7581              STRB     r1,[r0,#0x16]
;;;1307   	bps[slave_num]._buff[17]=RXBUFF[7];	
00173a  f89c1007          LDRB     r1,[r12,#7]  ; RXBUFF
00173e  75c1              STRB     r1,[r0,#0x17]
;;;1308   
;;;1309   
;;;1310   /*	can_slot[slave_num,8]=RXBUFF[0];
;;;1311   	can_slot[slave_num,9]=RXBUFF[1];
;;;1312   	can_slot[slave_num,10]=RXBUFF[2];
;;;1313   	can_slot[slave_num,11]=RXBUFF[3];
;;;1314   	can_slot[slave_num,12]=RXBUFF[4];
;;;1315   	can_slot[slave_num,13]=RXBUFF[5];
;;;1316   	can_slot[slave_num,14]=RXBUFF[6];
;;;1317   	can_slot[slave_num,15]=RXBUFF[7]; */
;;;1318   	
;;;1319   	bps[slave_num]._cnt=0;
001740  70c4              STRB     r4,[r0,#3]
;;;1320   	bps[slave_num]._is_on_cnt=10; 
001742  f8807038          STRB     r7,[r0,#0x38]
;;;1321   
;;;1322      	//if((src[slave_num]._cnt==0)&&(src[slave_num]._av_net)) avar_s_hndl(slave_num,3,0); 
;;;1323   	can_reset_cnt=0;
001746  70b4              STRB     r4,[r6,#2]
                  |L1.5960|
;;;1324      	}
;;;1325   
;;;1326   if((RXBUFF[1]==PUTTM1BYPS))
;;;1327        {
;;;1328   	//can_debug_plazma[1][2]++;
;;;1329        byps._adress=RXBUFF[0]&0x1f;
001748  48a0              LDR      r0,|L1.6604|
00174a  46e2              MOV      r10,r12               ;1326
00174c  2ad8              CMP      r2,#0xd8              ;1326
00174e  d007              BEQ      |L1.5984|
001750  e021              B        |L1.6038|
                  |L1.5970|
001752  ebc001c0          RSB      r1,r0,r0,LSL #3       ;1299
001756  eb011100          ADD      r1,r1,r0,LSL #4       ;1299
00175a  f8058021          STRB     r8,[r5,r1,LSL #2]     ;1299
00175e  e7d7              B        |L1.5904|
                  |L1.5984|
001760  f89a1000          LDRB     r1,[r10,#0]  ; RXBUFF
001764  f001011f          AND      r1,r1,#0x1f
001768  7341              STRB     r1,[r0,#0xd]
;;;1330        
;;;1331        	
;;;1332   	byps._Iout=(signed short)RXBUFF[2]+(((signed short)RXBUFF[3])*256);
00176a  f89a1002          LDRB     r1,[r10,#2]  ; RXBUFF
00176e  f89a3003          LDRB     r3,[r10,#3]  ; RXBUFF
001772  eb012103          ADD      r1,r1,r3,LSL #8
001776  8001              STRH     r1,[r0,#0]
;;;1333   	byps._Pout=(signed short)RXBUFF[4]+(((signed short)RXBUFF[5])*256);
001778  f89a1004          LDRB     r1,[r10,#4]  ; RXBUFF
00177c  f89a3005          LDRB     r3,[r10,#5]  ; RXBUFF
001780  eb012103          ADD      r1,r1,r3,LSL #8
001784  8081              STRH     r1,[r0,#4]
;;;1334   	byps._Uout=(signed short)RXBUFF[6]+(((signed short)RXBUFF[7])*256);
001786  f89a1006          LDRB     r1,[r10,#6]  ; RXBUFF
00178a  f89a3007          LDRB     r3,[r10,#7]  ; RXBUFF
00178e  eb012103          ADD      r1,r1,r3,LSL #8
001792  8041              STRH     r1,[r0,#2]
;;;1335   	
;;;1336   	byps._cnt=0;
001794  7304              STRB     r4,[r0,#0xc]
                  |L1.6038|
;;;1337        }
;;;1338   
;;;1339   if((RXBUFF[1]==PUTTM2BYPS))
001796  2ad9              CMP      r2,#0xd9
001798  d114              BNE      |L1.6084|
;;;1340    	{
;;;1341   	byps._T=(char)RXBUFF[2];
00179a  f89a1002          LDRB     r1,[r10,#2]  ; RXBUFF
00179e  7281              STRB     r1,[r0,#0xa]
;;;1342   	byps._flags=(char)RXBUFF[3];
0017a0  f89a1003          LDRB     r1,[r10,#3]  ; RXBUFF
0017a4  72c1              STRB     r1,[r0,#0xb]
;;;1343   	byps._Unet=(signed short)RXBUFF[4]+(((signed short)RXBUFF[5])*256);
0017a6  f89a1004          LDRB     r1,[r10,#4]  ; RXBUFF
0017aa  f89a3005          LDRB     r3,[r10,#5]  ; RXBUFF
0017ae  eb012103          ADD      r1,r1,r3,LSL #8
0017b2  80c1              STRH     r1,[r0,#6]
;;;1344   	byps._Uin=(signed short)RXBUFF[6]+(((signed short)RXBUFF[7])*256);
0017b4  f89a1006          LDRB     r1,[r10,#6]  ; RXBUFF
0017b8  f89a3007          LDRB     r3,[r10,#7]  ; RXBUFF
0017bc  eb012103          ADD      r1,r1,r3,LSL #8
0017c0  8101              STRH     r1,[r0,#8]
;;;1345   
;;;1346   	byps._cnt=0;
0017c2  7304              STRB     r4,[r0,#0xc]
                  |L1.6084|
;;;1347      	}
;;;1348   
;;;1349   if((RXBUFF[1]==PUTTM_IBATMETER)&&((RXBUFF[0]&0x1f)>=0)&&((RXBUFF[0]&0x1f)<12))
0017c4  2ad1              CMP      r2,#0xd1
0017c6  d124              BNE      |L1.6162|
0017c8  f89a0000          LDRB     r0,[r10,#0]  ; RXBUFF
0017cc  f000001f          AND      r0,r0,#0x1f
0017d0  280c              CMP      r0,#0xc
0017d2  d21e              BCS      |L1.6162|
;;;1350    	{
;;;1351       slave_num=RXBUFF[0]&0x1f;  
;;;1352   
;;;1353       bps[slave_num]._device=dIBAT_METR;
0017d4  ebc003c0          RSB      r3,r0,r0,LSL #3
0017d8  eb031000          ADD      r0,r3,r0,LSL #4
0017dc  2109              MOVS     r1,#9
0017de  f8051020          STRB     r1,[r5,r0,LSL #2]
;;;1354            
;;;1355   	bps[slave_num]._buff[0]=RXBUFF[2]; 
0017e2  eb050080          ADD      r0,r5,r0,LSL #2
0017e6  f89a1002          LDRB     r1,[r10,#2]  ; RXBUFF
0017ea  7181              STRB     r1,[r0,#6]
;;;1356   	bps[slave_num]._buff[1]=RXBUFF[3];
0017ec  f89a1003          LDRB     r1,[r10,#3]  ; RXBUFF
0017f0  71c1              STRB     r1,[r0,#7]
;;;1357   	bps[slave_num]._buff[2]=RXBUFF[4];
0017f2  f89a1004          LDRB     r1,[r10,#4]  ; RXBUFF
0017f6  7201              STRB     r1,[r0,#8]
;;;1358   	bps[slave_num]._buff[3]=RXBUFF[5];
0017f8  f89a1005          LDRB     r1,[r10,#5]  ; RXBUFF
0017fc  7241              STRB     r1,[r0,#9]
;;;1359   	bps[slave_num]._buff[4]=RXBUFF[6];
0017fe  f89a1006          LDRB     r1,[r10,#6]  ; RXBUFF
001802  7281              STRB     r1,[r0,#0xa]
;;;1360   	bps[slave_num]._buff[5]=RXBUFF[7];	
001804  f89a1007          LDRB     r1,[r10,#7]  ; RXBUFF
001808  72c1              STRB     r1,[r0,#0xb]
;;;1361   
;;;1362   
;;;1363   /*	can_slot[slave_num,8]=RXBUFF[0];
;;;1364   	can_slot[slave_num,9]=RXBUFF[1];
;;;1365   	can_slot[slave_num,10]=RXBUFF[2];
;;;1366   	can_slot[slave_num,11]=RXBUFF[3];
;;;1367   	can_slot[slave_num,12]=RXBUFF[4];
;;;1368   	can_slot[slave_num,13]=RXBUFF[5];
;;;1369   	can_slot[slave_num,14]=RXBUFF[6];
;;;1370   	can_slot[slave_num,15]=RXBUFF[7]; */
;;;1371   	
;;;1372   	bps[slave_num]._cnt=0;
00180a  70c4              STRB     r4,[r0,#3]
;;;1373   	bps[slave_num]._is_on_cnt=10; 
00180c  f8807038          STRB     r7,[r0,#0x38]
;;;1374   
;;;1375      	//if((src[slave_num]._cnt==0)&&(src[slave_num]._av_net)) avar_s_hndl(slave_num,3,0); 
;;;1376   	can_reset_cnt=0;
001810  70b4              STRB     r4,[r6,#2]
                  |L1.6162|
;;;1377      	}
;;;1378   
;;;1379   if((RXBUFF[1]==PUTTM_NET)&&((RXBUFF[0]&0x1f)>=0)&&((RXBUFF[0]&0x1f)<12))
;;;1380    	{
;;;1381       slave_num=RXBUFF[0]&0x1f;  
;;;1382   
;;;1383       bps[slave_num]._device=dNET_METR;
001812  f04f0907          MOV      r9,#7
001816  2aea              CMP      r2,#0xea              ;1379
001818  d123              BNE      |L1.6242|
00181a  f89a0000          LDRB     r0,[r10,#0]           ;1379  ; RXBUFF
00181e  f000001f          AND      r0,r0,#0x1f           ;1379
001822  280c              CMP      r0,#0xc               ;1379
001824  d21d              BCS      |L1.6242|
001826  ebc001c0          RSB      r1,r0,r0,LSL #3
00182a  eb011000          ADD      r0,r1,r0,LSL #4
00182e  f8059020          STRB     r9,[r5,r0,LSL #2]
;;;1384            
;;;1385   	bps[slave_num]._buff[0]=RXBUFF[2]; 
001832  eb050080          ADD      r0,r5,r0,LSL #2
001836  f89a1002          LDRB     r1,[r10,#2]  ; RXBUFF
00183a  7181              STRB     r1,[r0,#6]
;;;1386   	bps[slave_num]._buff[1]=RXBUFF[3];
00183c  f89a1003          LDRB     r1,[r10,#3]  ; RXBUFF
001840  71c1              STRB     r1,[r0,#7]
;;;1387   	bps[slave_num]._buff[2]=RXBUFF[4];
001842  f89a1004          LDRB     r1,[r10,#4]  ; RXBUFF
001846  7201              STRB     r1,[r0,#8]
;;;1388   	bps[slave_num]._buff[3]=RXBUFF[5];
001848  f89a1005          LDRB     r1,[r10,#5]  ; RXBUFF
00184c  7241              STRB     r1,[r0,#9]
;;;1389   	bps[slave_num]._buff[4]=RXBUFF[6];
00184e  f89a1006          LDRB     r1,[r10,#6]  ; RXBUFF
001852  7281              STRB     r1,[r0,#0xa]
;;;1390   	bps[slave_num]._buff[5]=RXBUFF[7];	
001854  f89a1007          LDRB     r1,[r10,#7]  ; RXBUFF
001858  72c1              STRB     r1,[r0,#0xb]
;;;1391   
;;;1392   
;;;1393   /*	can_slot[slave_num,8]=RXBUFF[0];
;;;1394   	can_slot[slave_num,9]=RXBUFF[1];
;;;1395   	can_slot[slave_num,10]=RXBUFF[2];
;;;1396   	can_slot[slave_num,11]=RXBUFF[3];
;;;1397   	can_slot[slave_num,12]=RXBUFF[4];
;;;1398   	can_slot[slave_num,13]=RXBUFF[5];
;;;1399   	can_slot[slave_num,14]=RXBUFF[6];
;;;1400   	can_slot[slave_num,15]=RXBUFF[7]; */
;;;1401   	
;;;1402   	bps[slave_num]._cnt=0;
00185a  70c4              STRB     r4,[r0,#3]
;;;1403   	bps[slave_num]._is_on_cnt=10; 
00185c  f8807038          STRB     r7,[r0,#0x38]
;;;1404   
;;;1405      	//if((src[slave_num]._cnt==0)&&(src[slave_num]._av_net)) avar_s_hndl(slave_num,3,0); 
;;;1406   	can_reset_cnt=0;
001860  70b4              STRB     r4,[r6,#2]
                  |L1.6242|
;;;1407      	}
;;;1408   
;;;1409   
;;;1410   if((RXBUFF[1]==PUTTM_NET1)&&((RXBUFF[0]&0x1f)>=0)&&((RXBUFF[0]&0x1f)<12))
001862  2aeb              CMP      r2,#0xeb
001864  d117              BNE      |L1.6294|
001866  f89a0000          LDRB     r0,[r10,#0]  ; RXBUFF
00186a  f000001f          AND      r0,r0,#0x1f
00186e  280c              CMP      r0,#0xc
001870  d211              BCS      |L1.6294|
;;;1411    	{
;;;1412       slave_num=RXBUFF[0]&0x1f;  
;;;1413   
;;;1414       bps[slave_num]._device=dNET_METR;
001872  ebc001c0          RSB      r1,r0,r0,LSL #3
001876  eb011000          ADD      r0,r1,r0,LSL #4
00187a  f8059020          STRB     r9,[r5,r0,LSL #2]
;;;1415            
;;;1416   	bps[slave_num]._buff[6]=RXBUFF[2]; 
00187e  eb050080          ADD      r0,r5,r0,LSL #2
001882  f89a1002          LDRB     r1,[r10,#2]  ; RXBUFF
001886  7301              STRB     r1,[r0,#0xc]
;;;1417   	bps[slave_num]._buff[7]=RXBUFF[3];
001888  f89a1003          LDRB     r1,[r10,#3]  ; RXBUFF
00188c  7341              STRB     r1,[r0,#0xd]
;;;1418   	
;;;1419   	//net_F= RXBUFF[2]+ (RXBUFF[3]*256);
;;;1420   
;;;1421   	bps[slave_num]._cnt=0;
00188e  70c4              STRB     r4,[r0,#3]
;;;1422   	bps[slave_num]._is_on_cnt=10; 
001890  f8807038          STRB     r7,[r0,#0x38]
;;;1423   
;;;1424      	//if((src[slave_num]._cnt==0)&&(src[slave_num]._av_net)) avar_s_hndl(slave_num,3,0); 
;;;1425   	can_reset_cnt=0;
001894  70b4              STRB     r4,[r6,#2]
                  |L1.6294|
;;;1426      	}
;;;1427   
;;;1428   if( (RXBUFF[0]==MEM_KF)&&(RXBUFF[1]==1)&&(RXBUFF[2]==1))
001896  f89a3000          LDRB     r3,[r10,#0]  ; RXBUFF
00189a  2b62              CMP      r3,#0x62
00189c  d10e              BNE      |L1.6332|
00189e  2a01              CMP      r2,#1
0018a0  d10c              BNE      |L1.6332|
0018a2  f89a0002          LDRB     r0,[r10,#2]  ; RXBUFF
0018a6  2801              CMP      r0,#1
0018a8  d108              BNE      |L1.6332|
;;;1429        {
;;;1430        power_summary_tempo=*((signed short*)&RXBUFF[3]);
0018aa  4949              LDR      r1,|L1.6608|
0018ac  f9ba0003          LDRSH    r0,[r10,#3]  ; RXBUFF
0018b0  6008              STR      r0,[r1,#0]  ; power_summary_tempo
;;;1431        power_current_tempo=*((signed short*)&RXBUFF[5]);
0018b2  4948              LDR      r1,|L1.6612|
0018b4  f8ba0005          LDRH     r0,[r10,#5]  ; RXBUFF
0018b8  8008              STRH     r0,[r1,#0]
;;;1432   	//ext_can_cnt++;
;;;1433   	can_reset_cnt=0;
0018ba  70b4              STRB     r4,[r6,#2]
                  |L1.6332|
;;;1434        }
;;;1435   
;;;1436   
;;;1437   if( ((RXBUFF[0]&0x1f)==8)&&((RXBUFF[1])==PUTTM) )
0018bc  f003001f          AND      r0,r3,#0x1f
0018c0  2808              CMP      r0,#8
0018c2  d116              BNE      |L1.6386|
0018c4  2ade              CMP      r2,#0xde
0018c6  d114              BNE      |L1.6386|
;;;1438        {
;;;1439        adc_buff_ext_[0]=*((short*)&RXBUFF[2]);
0018c8  4d43              LDR      r5,|L1.6616|
0018ca  f8ba1002          LDRH     r1,[r10,#2]  ; RXBUFF
0018ce  8029              STRH     r1,[r5,#0]
;;;1440        adc_buff_ext_[1]=*((short*)&RXBUFF[4]);
0018d0  f8ba1004          LDRH     r1,[r10,#4]  ; RXBUFF
0018d4  8069              STRH     r1,[r5,#2]
;;;1441        adc_buff_ext_[2]=*((short*)&RXBUFF[6]);
0018d6  f8ba1006          LDRH     r1,[r10,#6]  ; RXBUFF
0018da  80a9              STRH     r1,[r5,#4]
;;;1442   	if((adc_buff_ext_[2]>=-50) && (adc_buff_ext_[2]<=100))
0018dc  3132              ADDS     r1,r1,#0x32
;;;1443   		{
;;;1444   		t_ext_can=adc_buff_ext_[2];
0018de  4f3f              LDR      r7,|L1.6620|
0018e0  2996              CMP      r1,#0x96              ;1442
0018e2  d803              BHI      |L1.6380|
0018e4  88a9              LDRH     r1,[r5,#4]  ; adc_buff_ext_
0018e6  8039              STRH     r1,[r7,#0]
;;;1445   		t_ext_can_nd=0;
0018e8  493d              LDR      r1,|L1.6624|
0018ea  700c              STRB     r4,[r1,#0]
                  |L1.6380|
;;;1446   		}
;;;1447   		t_ext_can=adc_buff_ext_[2];
0018ec  88a9              LDRH     r1,[r5,#4]  ; adc_buff_ext_
0018ee  8039              STRH     r1,[r7,#0]
;;;1448   	//ext_can_cnt++;
;;;1449   	can_reset_cnt=0;
0018f0  70b4              STRB     r4,[r6,#2]
                  |L1.6386|
;;;1450        }
;;;1451   
;;;1452   if( ((RXBUFF[0]&0x1f)==9)&&((RXBUFF[1])==PUTTM) )
0018f2  2809              CMP      r0,#9
0018f4  d10e              BNE      |L1.6420|
0018f6  2ade              CMP      r2,#0xde
0018f8  d10c              BNE      |L1.6420|
;;;1453        {
;;;1454        vvod_pos=RXBUFF[2];
0018fa  4d3a              LDR      r5,|L1.6628|
0018fc  f89a1002          LDRB     r1,[r10,#2]  ; RXBUFF
001900  8029              STRH     r1,[r5,#0]
;;;1455   	ext_can_cnt=RXBUFF[3];
001902  4d39              LDR      r5,|L1.6632|
001904  f89a1003          LDRB     r1,[r10,#3]  ; RXBUFF
001908  7029              STRB     r1,[r5,#0]
;;;1456   	if(ext_can_cnt<10)bRESET_EXT=0;
00190a  290a              CMP      r1,#0xa
00190c  d201              BCS      |L1.6418|
00190e  4937              LDR      r1,|L1.6636|
001910  700c              STRB     r4,[r1,#0]
                  |L1.6418|
;;;1457   	can_reset_cnt=0;
001912  70b4              STRB     r4,[r6,#2]
                  |L1.6420|
;;;1458        }
;;;1459   
;;;1460   if( ((RXBUFF[0]&0x1f)==10)&&((RXBUFF[1])==PUTTM) )
;;;1461        {
;;;1462        power_current=*((signed short*)&RXBUFF[2]);
001914  4d36              LDR      r5,|L1.6640|
;;;1463        power_summary=*((signed long*)&RXBUFF[4]);
001916  4f37              LDR      r7,|L1.6644|
001918  280a              CMP      r0,#0xa               ;1460
00191a  d108              BNE      |L1.6446|
00191c  2ade              CMP      r2,#0xde              ;1460
00191e  d106              BNE      |L1.6446|
001920  f8ba1002          LDRH     r1,[r10,#2]           ;1462  ; RXBUFF
001924  8029              STRH     r1,[r5,#0]            ;1462
001926  f8da1004          LDR      r1,[r10,#4]  ; RXBUFF
00192a  6039              STR      r1,[r7,#0]  ; power_summary
;;;1464   	//ext_can_cnt++;
;;;1465   	can_reset_cnt=0;
00192c  70b4              STRB     r4,[r6,#2]
                  |L1.6446|
;;;1466        }
;;;1467   
;;;1468   
;;;1469   if( ((RXBUFF[0]&0x1f)==20)&&((RXBUFF[1])==PUTTM) )
;;;1470        {
;;;1471        eb2_data[0]=RXBUFF[2];
00192e  4932              LDR      r1,|L1.6648|
001930  2814              CMP      r0,#0x14              ;1469
001932  d121              BNE      |L1.6520|
001934  2ade              CMP      r2,#0xde              ;1469
001936  d11f              BNE      |L1.6520|
001938  f89ac002          LDRB     r12,[r10,#2]  ; RXBUFF
00193c  f881c000          STRB     r12,[r1,#0]
;;;1472   	eb2_data[1]=RXBUFF[3];
001940  f89ac003          LDRB     r12,[r10,#3]  ; RXBUFF
001944  f881c001          STRB     r12,[r1,#1]
;;;1473        eb2_data[2]=RXBUFF[4];
001948  f89ac004          LDRB     r12,[r10,#4]  ; RXBUFF
00194c  f881c002          STRB     r12,[r1,#2]
;;;1474   	eb2_data[3]=RXBUFF[5];
001950  f89ac005          LDRB     r12,[r10,#5]  ; RXBUFF
001954  f881c003          STRB     r12,[r1,#3]
;;;1475   	eb2_data[4]=RXBUFF[6];
001958  f89ac006          LDRB     r12,[r10,#6]  ; RXBUFF
00195c  f881c004          STRB     r12,[r1,#4]
;;;1476   	eb2_data[5]=RXBUFF[7];
001960  f89ac007          LDRB     r12,[r10,#7]  ; RXBUFF
001964  f881c005          STRB     r12,[r1,#5]
;;;1477        power_current=*((signed short*)&RXBUFF[2]);
001968  f8bac002          LDRH     r12,[r10,#2]  ; RXBUFF
00196c  f8a5c000          STRH     r12,[r5,#0]
;;;1478        power_summary=*((signed long*)&RXBUFF[4]);
001970  f8da5004          LDR      r5,[r10,#4]  ; RXBUFF
001974  603d              STR      r5,[r7,#0]  ; power_summary
;;;1479   
;;;1480   	 can_reset_cnt=0;
001976  70b4              STRB     r4,[r6,#2]
                  |L1.6520|
;;;1481        }
;;;1482   
;;;1483   if( ((RXBUFF[0]&0x1f)==21)&&((RXBUFF[1])==PUTTM) )
;;;1484        {
;;;1485        eb2_data[6]=RXBUFF[2];
;;;1486   	eb2_data[7]=RXBUFF[3];
;;;1487        eb2_data[8]=RXBUFF[4];
;;;1488   	eb2_data[9]=RXBUFF[5];
;;;1489   	eb2_data[10]=RXBUFF[6];
;;;1490   	eb2_data[11]=RXBUFF[7];
;;;1491   	eb2_data_short[6]=*((short*)&eb2_data[6]);
001978  4d20              LDR      r5,|L1.6652|
00197a  2815              CMP      r0,#0x15              ;1483
00197c  d116              BNE      |L1.6572|
00197e  2ade              CMP      r2,#0xde              ;1483
001980  d114              BNE      |L1.6572|
001982  f89a7002          LDRB     r7,[r10,#2]           ;1485  ; RXBUFF
001986  718f              STRB     r7,[r1,#6]            ;1485
001988  f89a7003          LDRB     r7,[r10,#3]           ;1486  ; RXBUFF
00198c  71cf              STRB     r7,[r1,#7]            ;1486
00198e  f89a7004          LDRB     r7,[r10,#4]           ;1487  ; RXBUFF
001992  720f              STRB     r7,[r1,#8]            ;1487
001994  f89a7005          LDRB     r7,[r10,#5]           ;1488  ; RXBUFF
001998  724f              STRB     r7,[r1,#9]            ;1488
00199a  f89a7006          LDRB     r7,[r10,#6]           ;1489  ; RXBUFF
00199e  728f              STRB     r7,[r1,#0xa]          ;1489
0019a0  f89a7007          LDRB     r7,[r10,#7]           ;1490  ; RXBUFF
0019a4  72cf              STRB     r7,[r1,#0xb]          ;1490
0019a6  88cf              LDRH     r7,[r1,#6]  ; eb2_data
0019a8  81af              STRH     r7,[r5,#0xc]
;;;1492   
;;;1493   	can_reset_cnt=0;
0019aa  70b4              STRB     r4,[r6,#2]
                  |L1.6572|
;;;1494        }
;;;1495   
;;;1496   if( ((RXBUFF[0]&0x1f)==22)&&((RXBUFF[1])==PUTTM) )
0019ac  2816              CMP      r0,#0x16
0019ae  d13b              BNE      |L1.6696|
0019b0  2ade              CMP      r2,#0xde
0019b2  d139              BNE      |L1.6696|
;;;1497        {
;;;1498        eb2_data[12]=RXBUFF[2];
0019b4  f89a7002          LDRB     r7,[r10,#2]  ; RXBUFF
0019b8  730f              STRB     r7,[r1,#0xc]
;;;1499   	eb2_data[13]=RXBUFF[3];
0019ba  f89a7003          LDRB     r7,[r10,#3]  ; RXBUFF
0019be  e01f              B        |L1.6656|
                  |L1.6592|
                          DCD      plazma_can_inv
                  |L1.6596|
                          DCD      ||.bss||+0x124
                  |L1.6600|
                          DCD      NUMINV
                  |L1.6604|
                          DCD      byps
                  |L1.6608|
                          DCD      power_summary_tempo
                  |L1.6612|
                          DCD      power_current_tempo
                  |L1.6616|
                          DCD      adc_buff_ext_
                  |L1.6620|
                          DCD      t_ext_can
                  |L1.6624|
                          DCD      t_ext_can_nd
                  |L1.6628|
                          DCD      vvod_pos
                  |L1.6632|
                          DCD      ext_can_cnt
                  |L1.6636|
                          DCD      bRESET_EXT
                  |L1.6640|
                          DCD      power_current
                  |L1.6644|
                          DCD      power_summary
                  |L1.6648|
                          DCD      eb2_data
                  |L1.6652|
                          DCD      eb2_data_short
                  |L1.6656|
001a00  734f              STRB     r7,[r1,#0xd]
;;;1500        eb2_data[14]=RXBUFF[4];
001a02  f89a7004          LDRB     r7,[r10,#4]  ; RXBUFF
001a06  738f              STRB     r7,[r1,#0xe]
;;;1501   	eb2_data[15]=RXBUFF[5];
001a08  f89a7005          LDRB     r7,[r10,#5]  ; RXBUFF
001a0c  73cf              STRB     r7,[r1,#0xf]
;;;1502   	eb2_data[16]=RXBUFF[6];
001a0e  f89a7006          LDRB     r7,[r10,#6]  ; RXBUFF
001a12  740f              STRB     r7,[r1,#0x10]
;;;1503   	eb2_data[17]=RXBUFF[7];
001a14  f89a7007          LDRB     r7,[r10,#7]  ; RXBUFF
001a18  744f              STRB     r7,[r1,#0x11]
;;;1504   	eb2_data_short[0]=*((short*)&eb2_data[12]);
001a1a  898f              LDRH     r7,[r1,#0xc]  ; eb2_data
001a1c  802f              STRH     r7,[r5,#0]
;;;1505   	eb2_data_short[1]=*((short*)&eb2_data[14]);
001a1e  89cf              LDRH     r7,[r1,#0xe]  ; eb2_data
001a20  806f              STRH     r7,[r5,#2]
;;;1506   	eb2_data_short[2]=*((short*)&eb2_data[16]);
001a22  8a0f              LDRH     r7,[r1,#0x10]  ; eb2_data
001a24  80af              STRH     r7,[r5,#4]
;;;1507   
;;;1508   	can_reset_cnt=0;
001a26  70b4              STRB     r4,[r6,#2]
                  |L1.6696|
;;;1509        }
;;;1510   
;;;1511   if( ((RXBUFF[0]&0x1f)==23)&&((RXBUFF[1])==PUTTM) )
001a28  2817              CMP      r0,#0x17
001a2a  d11a              BNE      |L1.6754|
001a2c  2ade              CMP      r2,#0xde
001a2e  d118              BNE      |L1.6754|
;;;1512        {
;;;1513        eb2_data[18]=RXBUFF[2];
001a30  f89a0002          LDRB     r0,[r10,#2]  ; RXBUFF
001a34  7488              STRB     r0,[r1,#0x12]
;;;1514   	eb2_data[19]=RXBUFF[3];
001a36  f89a0003          LDRB     r0,[r10,#3]  ; RXBUFF
001a3a  74c8              STRB     r0,[r1,#0x13]
;;;1515        eb2_data[20]=RXBUFF[4];
001a3c  f89a0004          LDRB     r0,[r10,#4]  ; RXBUFF
001a40  7508              STRB     r0,[r1,#0x14]
;;;1516   	eb2_data[21]=RXBUFF[5];
001a42  f89a0005          LDRB     r0,[r10,#5]  ; RXBUFF
001a46  7548              STRB     r0,[r1,#0x15]
;;;1517   	eb2_data[22]=RXBUFF[6];
001a48  f89a0006          LDRB     r0,[r10,#6]  ; RXBUFF
001a4c  7588              STRB     r0,[r1,#0x16]
;;;1518   	eb2_data[23]=RXBUFF[7];
001a4e  f89a0007          LDRB     r0,[r10,#7]  ; RXBUFF
001a52  75c8              STRB     r0,[r1,#0x17]
;;;1519   	eb2_data_short[3]=*((short*)&eb2_data[18]);
001a54  8a48              LDRH     r0,[r1,#0x12]  ; eb2_data
001a56  80e8              STRH     r0,[r5,#6]
;;;1520   	eb2_data_short[4]=*((short*)&eb2_data[20]);
001a58  8a88              LDRH     r0,[r1,#0x14]  ; eb2_data
001a5a  8128              STRH     r0,[r5,#8]
;;;1521   	eb2_data_short[5]=*((short*)&eb2_data[22]);
001a5c  8ac8              LDRH     r0,[r1,#0x16]  ; eb2_data
001a5e  8168              STRH     r0,[r5,#0xa]
;;;1522   
;;;1523   	can_reset_cnt=0;
001a60  70b4              STRB     r4,[r6,#2]
                  |L1.6754|
;;;1524        }
;;;1525   
;;;1526   if( (RXBUFF[1]==PUTTM_MAKB1)&&(RXBUFF[0]>=0)&&(RXBUFF[0]<=3))
;;;1527        {
;;;1528   	makb[RXBUFF[0]]._U[0]=*((short*)&RXBUFF[2]);
001a62  4dff              LDR      r5,|L1.7776|
001a64  2ae2              CMP      r2,#0xe2              ;1526
001a66  d129              BNE      |L1.6844|
001a68  2b03              CMP      r3,#3                 ;1526
001a6a  d827              BHI      |L1.6844|
001a6c  ebc300c3          RSB      r0,r3,r3,LSL #3
001a70  eb000040          ADD      r0,r0,r0,LSL #1
001a74  f9bac002          LDRSH    r12,[r10,#2]  ; RXBUFF
001a78  4657              MOV      r7,r10
001a7a  f825c010          STRH     r12,[r5,r0,LSL #1]
;;;1529   	makb[RXBUFF[0]]._U[1]=*((short*)&RXBUFF[4]);
001a7e  eb050040          ADD      r0,r5,r0,LSL #1
001a82  f9b71004          LDRSH    r1,[r7,#4]  ; RXBUFF
001a86  8041              STRH     r1,[r0,#2]
;;;1530   	makb[RXBUFF[0]]._U[2]=*((short*)&RXBUFF[6]);
001a88  f9b77006          LDRSH    r7,[r7,#6]  ; RXBUFF
001a8c  8087              STRH     r7,[r0,#4]
;;;1531   
;;;1532   	makb[RXBUFF[0]]._Ub[0]=makb[RXBUFF[0]]._U[0];
001a8e  f8a0c00a          STRH     r12,[r0,#0xa]
;;;1533   	if(makb[RXBUFF[0]]._Ub[0]<0)makb[RXBUFF[0]]._Ub[0]=0;
001a92  f1bc0f00          CMP      r12,#0
001a96  da00              BGE      |L1.6810|
001a98  8144              STRH     r4,[r0,#0xa]
                  |L1.6810|
;;;1534   	makb[RXBUFF[0]]._Ub[1]=makb[RXBUFF[0]]._U[1]-makb[RXBUFF[0]]._U[0];
001a9a  eba10c0c          SUB      r12,r1,r12
001a9e  fa0ffc8c          SXTH     r12,r12
001aa2  f8a0c00c          STRH     r12,[r0,#0xc]
;;;1535   	if(makb[RXBUFF[0]]._Ub[1]<0)makb[RXBUFF[0]]._Ub[1]=0;
001aa6  f1bc0f00          CMP      r12,#0
001aaa  da00              BGE      |L1.6830|
001aac  8184              STRH     r4,[r0,#0xc]
                  |L1.6830|
;;;1536   	makb[RXBUFF[0]]._Ub[2]=makb[RXBUFF[0]]._U[2]-makb[RXBUFF[0]]._U[1];
001aae  1a79              SUBS     r1,r7,r1
001ab0  b209              SXTH     r1,r1
001ab2  81c1              STRH     r1,[r0,#0xe]
;;;1537   	if(makb[RXBUFF[0]]._Ub[2]<0)makb[RXBUFF[0]]._Ub[2]=0;
001ab4  2900              CMP      r1,#0
001ab6  da00              BGE      |L1.6842|
001ab8  81c4              STRH     r4,[r0,#0xe]
                  |L1.6842|
;;;1538   
;;;1539   	makb[RXBUFF[0]]._cnt=0;
001aba  8504              STRH     r4,[r0,#0x28]
                  |L1.6844|
;;;1540        }
;;;1541   
;;;1542   if( (RXBUFF[1]==PUTTM_MAKB2)&&(RXBUFF[0]>=0)&&(RXBUFF[0]<=3))
001abc  2ae3              CMP      r2,#0xe3
001abe  d128              BNE      |L1.6930|
001ac0  2b03              CMP      r3,#3
001ac2  d826              BHI      |L1.6930|
;;;1543        {
;;;1544   	makb[RXBUFF[0]]._U[3]=*((short*)&RXBUFF[2]);
001ac4  ebc300c3          RSB      r0,r3,r3,LSL #3
001ac8  eb000040          ADD      r0,r0,r0,LSL #1
001acc  eb050040          ADD      r0,r5,r0,LSL #1
001ad0  f9ba1002          LDRSH    r1,[r10,#2]  ; RXBUFF
001ad4  80c1              STRH     r1,[r0,#6]
;;;1545   	makb[RXBUFF[0]]._U[4]=*((short*)&RXBUFF[4]);
001ad6  f9ba7004          LDRSH    r7,[r10,#4]  ; RXBUFF
001ada  8107              STRH     r7,[r0,#8]
;;;1546   	makb[RXBUFF[0]]._T[0]=(signed short)(*((signed char*)&RXBUFF[6]));
001adc  f99ac006          LDRSB    r12,[r10,#6]  ; RXBUFF
001ae0  f8a0c014          STRH     r12,[r0,#0x14]
;;;1547   	makb[RXBUFF[0]]._T[1]=(signed short)(*((signed char*)&RXBUFF[7]));
001ae4  f99ac007          LDRSB    r12,[r10,#7]  ; RXBUFF
001ae8  f8a0c016          STRH     r12,[r0,#0x16]
;;;1548   
;;;1549   	makb[RXBUFF[0]]._Ub[3]=makb[RXBUFF[0]]._U[3]-makb[RXBUFF[0]]._U[2];
001aec  f8b0c004          LDRH     r12,[r0,#4]
001af0  eba10c0c          SUB      r12,r1,r12
001af4  fa0ffc8c          SXTH     r12,r12
001af8  f8a0c010          STRH     r12,[r0,#0x10]
;;;1550   	if(makb[RXBUFF[0]]._Ub[3]<0)makb[RXBUFF[0]]._Ub[3]=0;
001afc  f1bc0f00          CMP      r12,#0
001b00  da00              BGE      |L1.6916|
001b02  8204              STRH     r4,[r0,#0x10]
                  |L1.6916|
;;;1551   	makb[RXBUFF[0]]._Ub[4]=makb[RXBUFF[0]]._U[4]-makb[RXBUFF[0]]._U[3];
001b04  1a79              SUBS     r1,r7,r1
001b06  b209              SXTH     r1,r1
001b08  8241              STRH     r1,[r0,#0x12]
;;;1552   	if(makb[RXBUFF[0]]._Ub[4]<0)makb[RXBUFF[0]]._Ub[4]=0;
001b0a  2900              CMP      r1,#0
001b0c  da00              BGE      |L1.6928|
001b0e  8244              STRH     r4,[r0,#0x12]
                  |L1.6928|
;;;1553   
;;;1554   	makb[RXBUFF[0]]._cnt=0;
001b10  8504              STRH     r4,[r0,#0x28]
                  |L1.6930|
;;;1555        }
;;;1556   
;;;1557   if( (RXBUFF[1]==PUTTM_MAKB3)&&(RXBUFF[0]>=0)&&(RXBUFF[0]<=3))
001b12  2ae4              CMP      r2,#0xe4
001b14  d12e              BNE      |L1.7028|
001b16  2b03              CMP      r3,#3
001b18  d82c              BHI      |L1.7028|
;;;1558        {
;;;1559   	makb[RXBUFF[0]]._T[2]=(signed short)(*((signed char*)&RXBUFF[2]));
001b1a  ebc300c3          RSB      r0,r3,r3,LSL #3
001b1e  eb000040          ADD      r0,r0,r0,LSL #1
001b22  eb050040          ADD      r0,r5,r0,LSL #1
001b26  f99a1002          LDRSB    r1,[r10,#2]  ; RXBUFF
001b2a  8301              STRH     r1,[r0,#0x18]
;;;1560   	makb[RXBUFF[0]]._T[3]=(signed short)(*((signed char*)&RXBUFF[3]));
001b2c  f99a1003          LDRSB    r1,[r10,#3]  ; RXBUFF
001b30  8341              STRH     r1,[r0,#0x1a]
;;;1561   	makb[RXBUFF[0]]._T[4]=(signed short)(*((signed char*)&RXBUFF[4]));
001b32  f99a1004          LDRSB    r1,[r10,#4]  ; RXBUFF
001b36  8381              STRH     r1,[r0,#0x1c]
;;;1562   
;;;1563   	if(RXBUFF[5]&0x01)makb[RXBUFF[0]]._T_nd[0]=1;
001b38  f89a1005          LDRB     r1,[r10,#5]  ; RXBUFF
001b3c  f04f0501          MOV      r5,#1                 ;1154
001b40  07cf              LSLS     r7,r1,#31
001b42  d001              BEQ      |L1.6984|
001b44  83c5              STRH     r5,[r0,#0x1e]
001b46  e000              B        |L1.6986|
                  |L1.6984|
;;;1564   	else makb[RXBUFF[0]]._T_nd[0]=0;
001b48  83c4              STRH     r4,[r0,#0x1e]
                  |L1.6986|
;;;1565   	if(RXBUFF[5]&0x02)makb[RXBUFF[0]]._T_nd[1]=1;
001b4a  078f              LSLS     r7,r1,#30
001b4c  d501              BPL      |L1.6994|
001b4e  8405              STRH     r5,[r0,#0x20]
001b50  e000              B        |L1.6996|
                  |L1.6994|
;;;1566   	else makb[RXBUFF[0]]._T_nd[1]=0;
001b52  8404              STRH     r4,[r0,#0x20]
                  |L1.6996|
;;;1567   	if(RXBUFF[5]&0x04)makb[RXBUFF[0]]._T_nd[2]=1;
001b54  074f              LSLS     r7,r1,#29
001b56  d501              BPL      |L1.7004|
001b58  8445              STRH     r5,[r0,#0x22]
001b5a  e000              B        |L1.7006|
                  |L1.7004|
;;;1568   	else makb[RXBUFF[0]]._T_nd[2]=0;
001b5c  8444              STRH     r4,[r0,#0x22]
                  |L1.7006|
;;;1569   	if(RXBUFF[5]&0x08)makb[RXBUFF[0]]._T_nd[3]=1;
001b5e  070f              LSLS     r7,r1,#28
001b60  d501              BPL      |L1.7014|
001b62  8485              STRH     r5,[r0,#0x24]
001b64  e000              B        |L1.7016|
                  |L1.7014|
;;;1570   	else makb[RXBUFF[0]]._T_nd[3]=0;
001b66  8484              STRH     r4,[r0,#0x24]
                  |L1.7016|
;;;1571   	if(RXBUFF[5]&0x10)makb[RXBUFF[0]]._T_nd[4]=1;
001b68  06c9              LSLS     r1,r1,#27
001b6a  d501              BPL      |L1.7024|
001b6c  84c5              STRH     r5,[r0,#0x26]
001b6e  e000              B        |L1.7026|
                  |L1.7024|
;;;1572   	else makb[RXBUFF[0]]._T_nd[4]=0;
001b70  84c4              STRH     r4,[r0,#0x26]
                  |L1.7026|
;;;1573   
;;;1574   	makb[RXBUFF[0]]._cnt=0;
001b72  8504              STRH     r4,[r0,#0x28]
                  |L1.7028|
;;;1575        }
;;;1576   
;;;1577   /*if(RXBUFF[0]==PUT_LB_TM1)
;;;1578        {
;;;1579   	lakb[0]._max_cell_volt=(unsigned short)(*((unsigned short*)&RXBUFF[1]));
;;;1580   	lakb[0]._min_cell_volt=(unsigned short)(*((unsigned short*)&RXBUFF[3]));
;;;1581   	lakb[0]._tot_bat_volt=(unsigned short)(*((unsigned short*)&RXBUFF[5]));
;;;1582   	lakb[0]._max_cell_temp=(unsigned short)RXBUFF[7];
;;;1583   	lakb[0]._cnt=0;
;;;1584   	lakb[0]._plazma[0]++;
;;;1585        }
;;;1586   if(RXBUFF[0]==PUT_LB_TM2)
;;;1587        {
;;;1588   	lakb[0]._ch_curr=(unsigned short)(*((unsigned short*)&RXBUFF[1]));
;;;1589   	lakb[0]._dsch_curr=(unsigned short)(*((unsigned short*)&RXBUFF[3]));
;;;1590   	lakb[0]._rat_cap=(unsigned short)(*((unsigned short*)&RXBUFF[5]));
;;;1591   	lakb[0]._min_cell_temp=(unsigned short)RXBUFF[7];
;;;1592   	lakb[0]._cnt=0;
;;;1593   	lakb[0]._plazma[1]++;
;;;1594        }
;;;1595   if(RXBUFF[0]==PUT_LB_TM3)
;;;1596        {
;;;1597   	lakb[0]._s_o_h=(unsigned short)RXBUFF[1];
;;;1598   	lakb[0]._s_o_c=(unsigned short)RXBUFF[2];
;;;1599   	lakb[0]._c_c_l_v=(unsigned short)(*((unsigned short*)&RXBUFF[3]));
;;;1600   	lakb[0]._r_b_t=(unsigned short)RXBUFF[5];
;;;1601   	lakb[0]._flags1=(unsigned short)RXBUFF[6];
;;;1602   	lakb[0]._flags2=(unsigned short)RXBUFF[7];
;;;1603   	lakb[0]._cnt=0;
;;;1604   	lakb[0]._plazma[2]++;
;;;1605        }
;;;1606   if(RXBUFF[0]==PUT_LB_TM4)
;;;1607        {
;;;1608   	lakb[0]._bRS485ERR=(unsigned short)RXBUFF[1];
;;;1609   	lakb[0]._rs485_cnt=(unsigned short)RXBUFF[2];
;;;1610   	lakb[0]._cnt=0;
;;;1611   	lakb[0]._plazma[3]++;
;;;1612        }*/
;;;1613   	
;;;1614   if((RXBUFF[1]&0xf8)==PUT_LB_TM1)
;;;1615        {
;;;1616   	char temp;
;;;1617   	temp=RXBUFF[1]&0x07;
;;;1618   	
;;;1619   	if(temp==0) //    
;;;1620   		{	
;;;1621   		lakb_damp[temp][0]=RXBUFF[0];
001b74  4dbb              LDR      r5,|L1.7780|
;;;1622   		mem_copy(&lakb_damp[temp][1],&RXBUFF[2],6);
;;;1623   	
;;;1624   		ccc_plazma[0]++;
001b76  4fbc              LDR      r7,|L1.7784|
;;;1625   		ccc_plazma[7]=temp;
;;;1626   		li_bat._canErrorCnt=0;
001b78  f8dfb2f0          LDR      r11,|L1.7788|
001b7c  ebb80fd2          CMP      r8,r2,LSR #3          ;1614
001b80  d111              BNE      |L1.7078|
001b82  4651              MOV      r1,r10                ;1617
001b84  f0020007          AND      r0,r2,#7              ;1617
001b88  b968              CBNZ     r0,|L1.7078|
001b8a  702b              STRB     r3,[r5,#0]            ;1621
001b8c  1c68              ADDS     r0,r5,#1              ;1621
001b8e  2206              MOVS     r2,#6                 ;1622
001b90  1c89              ADDS     r1,r1,#2              ;1622
001b92  f7fffffe          BL       mem_copy
001b96  7838              LDRB     r0,[r7,#0]            ;1624  ; ccc_plazma
001b98  1c40              ADDS     r0,r0,#1              ;1624
001b9a  7038              STRB     r0,[r7,#0]            ;1624
001b9c  71fc              STRB     r4,[r7,#7]            ;1625
001b9e  f8ab4012          STRH     r4,[r11,#0x12]
;;;1627   		li_bat._canError=0;
001ba2  f88b4014          STRB     r4,[r11,#0x14]
                  |L1.7078|
;;;1628   		}
;;;1629   	}	
;;;1630   
;;;1631   if((RXBUFF[1]&0xf8)==PUT_LB_TM2)
001ba6  f89a0001          LDRB     r0,[r10,#1]  ; RXBUFF
001baa  210f              MOVS     r1,#0xf
001bac  ebb10fd0          CMP      r1,r0,LSR #3
001bb0  d113              BNE      |L1.7130|
;;;1632        {
;;;1633   	char temp;
;;;1634   	temp=RXBUFF[1]&0x07;
001bb2  4651              MOV      r1,r10
001bb4  f0000007          AND      r0,r0,#7
;;;1635   	
;;;1636   	if(temp==0) //    
001bb8  b978              CBNZ     r0,|L1.7130|
;;;1637   		{		
;;;1638   		lakb_damp[temp][7]=RXBUFF[0];
001bba  f8112b02          LDRB     r2,[r1],#2  ; RXBUFF
001bbe  4628              MOV      r0,r5
001bc0  71ea              STRB     r2,[r5,#7]
;;;1639   		mem_copy(&lakb_damp[temp][8],&RXBUFF[2],6);
001bc2  3008              ADDS     r0,r0,#8
001bc4  2206              MOVS     r2,#6
001bc6  f7fffffe          BL       mem_copy
;;;1640   		
;;;1641   		ccc_plazma[1]++;
001bca  7878              LDRB     r0,[r7,#1]  ; ccc_plazma
001bcc  1c40              ADDS     r0,r0,#1
001bce  7078              STRB     r0,[r7,#1]
;;;1642   		ccc_plazma[8]=temp;
001bd0  723c              STRB     r4,[r7,#8]
;;;1643   		li_bat._canErrorCnt=0;
001bd2  f8ab4012          STRH     r4,[r11,#0x12]
;;;1644   		li_bat._canError=0;
001bd6  f88b4014          STRB     r4,[r11,#0x14]
                  |L1.7130|
;;;1645   		}
;;;1646   	}
;;;1647   
;;;1648   if((RXBUFF[1]&0xf8)==PUT_LB_TM3)
001bda  f89a0001          LDRB     r0,[r10,#1]  ; RXBUFF
001bde  ebb90fd0          CMP      r9,r0,LSR #3
001be2  d113              BNE      |L1.7180|
;;;1649        {
;;;1650   	char temp;
;;;1651   	temp=RXBUFF[1]&0x07;
001be4  4651              MOV      r1,r10
001be6  f0000007          AND      r0,r0,#7
;;;1652   
;;;1653   	if(temp==0) //    
001bea  b978              CBNZ     r0,|L1.7180|
;;;1654   		{
;;;1655   		lakb_damp[temp][14]=RXBUFF[0];
001bec  f8112b02          LDRB     r2,[r1],#2  ; RXBUFF
001bf0  4628              MOV      r0,r5
001bf2  73aa              STRB     r2,[r5,#0xe]
;;;1656   		mem_copy(&lakb_damp[temp][15],&RXBUFF[2],6);
001bf4  300f              ADDS     r0,r0,#0xf
001bf6  2206              MOVS     r2,#6
001bf8  f7fffffe          BL       mem_copy
;;;1657   		
;;;1658   		ccc_plazma[2]++;
001bfc  78b8              LDRB     r0,[r7,#2]  ; ccc_plazma
001bfe  1c40              ADDS     r0,r0,#1
001c00  70b8              STRB     r0,[r7,#2]
;;;1659   		ccc_plazma[9]=temp;
001c02  727c              STRB     r4,[r7,#9]
;;;1660   		li_bat._canErrorCnt=0;
001c04  f8ab4012          STRH     r4,[r11,#0x12]
;;;1661   		li_bat._canError=0;
001c08  f88b4014          STRB     r4,[r11,#0x14]
                  |L1.7180|
;;;1662   		}
;;;1663   	}	
;;;1664   
;;;1665   if((RXBUFF[1]&0xf8)==PUT_LB_TM4)
001c0c  f89a0001          LDRB     r0,[r10,#1]  ; RXBUFF
001c10  2109              MOVS     r1,#9
001c12  ebb10fd0          CMP      r1,r0,LSR #3
001c16  d113              BNE      |L1.7232|
;;;1666        {
;;;1667   	char temp;
;;;1668   	temp=RXBUFF[1]&0x07;
001c18  4651              MOV      r1,r10
001c1a  f0000007          AND      r0,r0,#7
;;;1669   	
;;;1670   	if(temp==0) //    
001c1e  b978              CBNZ     r0,|L1.7232|
;;;1671   		{
;;;1672   		lakb_damp[temp][21]=RXBUFF[0];
001c20  f8112b02          LDRB     r2,[r1],#2  ; RXBUFF
001c24  4628              MOV      r0,r5
001c26  756a              STRB     r2,[r5,#0x15]
;;;1673   		mem_copy(&lakb_damp[temp][22],&RXBUFF[2],6);
001c28  3016              ADDS     r0,r0,#0x16
001c2a  2206              MOVS     r2,#6
001c2c  f7fffffe          BL       mem_copy
;;;1674   		
;;;1675   		ccc_plazma[3]++;
001c30  78f8              LDRB     r0,[r7,#3]  ; ccc_plazma
001c32  1c40              ADDS     r0,r0,#1
001c34  70f8              STRB     r0,[r7,#3]
;;;1676   		ccc_plazma[10]=temp;
001c36  72bc              STRB     r4,[r7,#0xa]
;;;1677   		li_bat._canErrorCnt=0;
001c38  f8ab4012          STRH     r4,[r11,#0x12]
;;;1678   		li_bat._canError=0;
001c3c  f88b4014          STRB     r4,[r11,#0x14]
                  |L1.7232|
;;;1679   		}
;;;1680   	}
;;;1681   
;;;1682   if((RXBUFF[1]&0xf8)==PUT_LB_TM5)
001c40  f89a0001          LDRB     r0,[r10,#1]  ; RXBUFF
001c44  210b              MOVS     r1,#0xb
001c46  ebb10fd0          CMP      r1,r0,LSR #3
001c4a  d113              BNE      |L1.7284|
;;;1683        {
;;;1684   	char temp;
;;;1685   	temp=RXBUFF[1]&0x07;
001c4c  4651              MOV      r1,r10
001c4e  f0000007          AND      r0,r0,#7
;;;1686   
;;;1687   	if(temp==0) //    
001c52  b978              CBNZ     r0,|L1.7284|
;;;1688   		{		
;;;1689   		lakb_damp[temp][28]=RXBUFF[0];
001c54  f8112b02          LDRB     r2,[r1],#2  ; RXBUFF
001c58  4628              MOV      r0,r5
001c5a  772a              STRB     r2,[r5,#0x1c]
;;;1690   		mem_copy(&lakb_damp[temp][29],&RXBUFF[2],6);
001c5c  301d              ADDS     r0,r0,#0x1d
001c5e  2206              MOVS     r2,#6
001c60  f7fffffe          BL       mem_copy
;;;1691   
;;;1692   		ccc_plazma[4]++;
001c64  7938              LDRB     r0,[r7,#4]  ; ccc_plazma
001c66  1c40              ADDS     r0,r0,#1
001c68  7138              STRB     r0,[r7,#4]
;;;1693   		ccc_plazma[11]=temp;
001c6a  72fc              STRB     r4,[r7,#0xb]
;;;1694   		li_bat._canErrorCnt=0;
001c6c  f8ab4012          STRH     r4,[r11,#0x12]
;;;1695   		li_bat._canError=0;
001c70  f88b4014          STRB     r4,[r11,#0x14]
                  |L1.7284|
;;;1696   		}
;;;1697   	}
;;;1698   
;;;1699   if((RXBUFF[1]&0xf8)==PUT_LB_TM6)
001c74  f89a0001          LDRB     r0,[r10,#1]  ; RXBUFF
001c78  210d              MOVS     r1,#0xd
001c7a  ebb10fd0          CMP      r1,r0,LSR #3
001c7e  d114              BNE      |L1.7338|
;;;1700        {
;;;1701   	char temp;
;;;1702   	temp=RXBUFF[1]&0x07;
001c80  4651              MOV      r1,r10
001c82  f0000007          AND      r0,r0,#7
;;;1703   		
;;;1704   	if(temp==0) //    
001c86  b980              CBNZ     r0,|L1.7338|
;;;1705   		{
;;;1706   		lakb_damp[temp][35]=RXBUFF[0];
001c88  f8112b02          LDRB     r2,[r1],#2  ; RXBUFF
001c8c  4628              MOV      r0,r5
001c8e  f8852023          STRB     r2,[r5,#0x23]
;;;1707   		mem_copy(&lakb_damp[temp][36],&RXBUFF[2],6);
001c92  3024              ADDS     r0,r0,#0x24
001c94  2206              MOVS     r2,#6
001c96  f7fffffe          BL       mem_copy
;;;1708   		
;;;1709   		ccc_plazma[5]++;
001c9a  7978              LDRB     r0,[r7,#5]  ; ccc_plazma
001c9c  1c40              ADDS     r0,r0,#1
001c9e  7178              STRB     r0,[r7,#5]
;;;1710   		ccc_plazma[12]=temp;
001ca0  733c              STRB     r4,[r7,#0xc]
;;;1711   		li_bat._canErrorCnt=0;
001ca2  f8ab4012          STRH     r4,[r11,#0x12]
;;;1712   		li_bat._canError=0;	
001ca6  f88b4014          STRB     r4,[r11,#0x14]
                  |L1.7338|
;;;1713   		}
;;;1714   	}
;;;1715   
;;;1716   
;;;1717   if(RXBUFF[1]==PUT_ZTT_TM1)
001caa  f89a0001          LDRB     r0,[r10,#1]  ; RXBUFF
;;;1718       {
;;;1719   	lakb[0]._communication2lvlErrorCnt=(signed short)(*((signed char*)&RXBUFF[0]));
;;;1720   	lakb[0]._ch_curr=(signed short)(*((signed short*)&RXBUFF[2]));
;;;1721   	lakb[0]._tot_bat_volt=(signed short)(*((signed short*)&RXBUFF[4]));
;;;1722   	lakb[0]._cell_temp_1=(signed char)(RXBUFF[6]);
;;;1723   	lakb[0]._cell_temp_2=(signed char)(RXBUFF[7]);
;;;1724   	
;;;1725   	//lakb[0]._cell_temp_1=37;
;;;1726   	//lakb[0]._cell_temp_2=38;
;;;1727   	plazma_ztt[0]++;
001cae  4970              LDR      r1,|L1.7792|
001cb0  4a70              LDR      r2,|L1.7796|
001cb2  28c1              CMP      r0,#0xc1              ;1717
001cb4  d113              BNE      |L1.7390|
001cb6  f99a3000          LDRSB    r3,[r10,#0]           ;1719  ; RXBUFF
001cba  8413              STRH     r3,[r2,#0x20]         ;1719
001cbc  f8ba3002          LDRH     r3,[r10,#2]           ;1720  ; RXBUFF
001cc0  8153              STRH     r3,[r2,#0xa]          ;1720
001cc2  f8ba3004          LDRH     r3,[r10,#4]           ;1721  ; RXBUFF
001cc6  8113              STRH     r3,[r2,#8]            ;1721
001cc8  f89a3006          LDRB     r3,[r10,#6]           ;1722  ; RXBUFF
001ccc  f882303a          STRB     r3,[r2,#0x3a]         ;1722
001cd0  f89a3007          LDRB     r3,[r10,#7]           ;1723  ; RXBUFF
001cd4  f882303b          STRB     r3,[r2,#0x3b]         ;1723
001cd8  780b              LDRB     r3,[r1,#0]  ; plazma_ztt
001cda  1c5b              ADDS     r3,r3,#1
001cdc  700b              STRB     r3,[r1,#0]
                  |L1.7390|
;;;1728   
;;;1729   	}
;;;1730   
;;;1731   if(RXBUFF[1]==PUT_ZTT_TM2)
001cde  28c2              CMP      r0,#0xc2
001ce0  d113              BNE      |L1.7434|
;;;1732       {
;;;1733   	lakb[0]._communication2lvlErrorStat=(signed short)(*((signed char*)&RXBUFF[0]));
001ce2  f99a3000          LDRSB    r3,[r10,#0]  ; RXBUFF
001ce6  83d3              STRH     r3,[r2,#0x1e]
;;;1734   	lakb[0]._s_o_c=(signed short)(*((signed short*)&RXBUFF[2]));
001ce8  f8ba3002          LDRH     r3,[r10,#2]  ; RXBUFF
001cec  8253              STRH     r3,[r2,#0x12]
;;;1735   	lakb[0]._s_o_h=(signed short)(*((signed short*)&RXBUFF[4]));
001cee  f8ba3004          LDRH     r3,[r10,#4]  ; RXBUFF
001cf2  8213              STRH     r3,[r2,#0x10]
;;;1736   	lakb[0]._cell_temp_3=(signed char)(RXBUFF[6]);
001cf4  f89a3006          LDRB     r3,[r10,#6]  ; RXBUFF
001cf8  f882303c          STRB     r3,[r2,#0x3c]
;;;1737   	lakb[0]._cell_temp_4=(signed char)(RXBUFF[7]);
001cfc  f89a3007          LDRB     r3,[r10,#7]  ; RXBUFF
001d00  f882303d          STRB     r3,[r2,#0x3d]
;;;1738   	//lakb[0]._cell_temp_3=39;
;;;1739   	//lakb[0]._cell_temp_4=40;
;;;1740   	
;;;1741   	plazma_ztt[1]++;
001d04  784b              LDRB     r3,[r1,#1]  ; plazma_ztt
001d06  1c5b              ADDS     r3,r3,#1
001d08  704b              STRB     r3,[r1,#1]
                  |L1.7434|
;;;1742   	}		
;;;1743   
;;;1744   if(RXBUFF[1]==PUT_ZTT_TM3)
001d0a  28c3              CMP      r0,#0xc3
001d0c  d113              BNE      |L1.7478|
;;;1745       {
;;;1746   	lakb[1]._communication2lvlErrorCnt=(signed short)(*((signed char*)&RXBUFF[0]));
001d0e  f99a1000          LDRSB    r1,[r10,#0]  ; RXBUFF
001d12  f8221f6c          STRH     r1,[r2,#0x6c]!
;;;1747   	lakb[1]._ch_curr=(signed short)(*((signed short*)&RXBUFF[2]));
001d16  f8ba1002          LDRH     r1,[r10,#2]  ; RXBUFF
001d1a  f8221c16          STRH     r1,[r2,#-0x16]
;;;1748   	lakb[1]._tot_bat_volt=(signed short)(*((signed short*)&RXBUFF[4]));
001d1e  f8ba1004          LDRH     r1,[r10,#4]  ; RXBUFF
001d22  f8221c18          STRH     r1,[r2,#-0x18]
;;;1749   	lakb[1]._cell_temp_1=(signed char)(RXBUFF[6]);
001d26  f89a1006          LDRB     r1,[r10,#6]  ; RXBUFF
001d2a  7691              STRB     r1,[r2,#0x1a]
;;;1750   	lakb[1]._cell_temp_2=(signed char)(RXBUFF[7]);
001d2c  f89a1007          LDRB     r1,[r10,#7]  ; RXBUFF
001d30  76d1              STRB     r1,[r2,#0x1b]
001d32  f1a2026c          SUB      r2,r2,#0x6c
                  |L1.7478|
;;;1751   	
;;;1752   	}
;;;1753   
;;;1754   if(RXBUFF[1]==PUT_ZTT_TM4)
001d36  28c4              CMP      r0,#0xc4
001d38  d113              BNE      |L1.7522|
;;;1755       {
;;;1756   	lakb[1]._communication2lvlErrorStat=(signed short)(*((signed char*)&RXBUFF[0]));
001d3a  f99a1000          LDRSB    r1,[r10,#0]  ; RXBUFF
001d3e  f8221f6a          STRH     r1,[r2,#0x6a]!
;;;1757   	lakb[1]._s_o_c=(signed short)(*((signed short*)&RXBUFF[2]));
001d42  f8ba1002          LDRH     r1,[r10,#2]  ; RXBUFF
001d46  f8221c0c          STRH     r1,[r2,#-0xc]
;;;1758   	lakb[1]._s_o_h=(signed short)(*((signed short*)&RXBUFF[4]));
001d4a  f8ba1004          LDRH     r1,[r10,#4]  ; RXBUFF
001d4e  f8221c0e          STRH     r1,[r2,#-0xe]
;;;1759   	lakb[1]._cell_temp_3=(signed char)(RXBUFF[6]);
001d52  f89a1006          LDRB     r1,[r10,#6]  ; RXBUFF
001d56  7791              STRB     r1,[r2,#0x1e]
;;;1760   	lakb[1]._cell_temp_4=(signed char)(RXBUFF[7]);
001d58  f89a1007          LDRB     r1,[r10,#7]  ; RXBUFF
001d5c  77d1              STRB     r1,[r2,#0x1f]
001d5e  f1a2026a          SUB      r2,r2,#0x6a
                  |L1.7522|
;;;1761   	
;;;1762   	}	
;;;1763   
;;;1764   if(RXBUFF[1]==PUT_ZTT_TM5)
001d62  28c5              CMP      r0,#0xc5
001d64  d113              BNE      |L1.7566|
;;;1765       {
;;;1766   	lakb[2]._communication2lvlErrorCnt=(signed short)(*((signed char*)&RXBUFF[0]));
001d66  f99a1000          LDRSB    r1,[r10,#0]  ; RXBUFF
001d6a  f8221fb8          STRH     r1,[r2,#0xb8]!
;;;1767   	lakb[2]._ch_curr=(signed short)(*((signed short*)&RXBUFF[2]));
001d6e  f8ba1002          LDRH     r1,[r10,#2]  ; RXBUFF
001d72  f8221c16          STRH     r1,[r2,#-0x16]
;;;1768   	lakb[2]._tot_bat_volt=(signed short)(*((signed short*)&RXBUFF[4]));
001d76  f8ba1004          LDRH     r1,[r10,#4]  ; RXBUFF
001d7a  f8221c18          STRH     r1,[r2,#-0x18]
;;;1769   	lakb[2]._cell_temp_1=(signed char)(RXBUFF[6]);
001d7e  f89a1006          LDRB     r1,[r10,#6]  ; RXBUFF
001d82  7691              STRB     r1,[r2,#0x1a]
;;;1770   	lakb[2]._cell_temp_2=(signed char)(RXBUFF[7]);
001d84  f89a1007          LDRB     r1,[r10,#7]  ; RXBUFF
001d88  76d1              STRB     r1,[r2,#0x1b]
001d8a  f1a202b8          SUB      r2,r2,#0xb8
                  |L1.7566|
;;;1771   	
;;;1772   	}
;;;1773   
;;;1774   if(RXBUFF[1]==PUT_ZTT_TM6)
001d8e  28c6              CMP      r0,#0xc6
001d90  d110              BNE      |L1.7604|
;;;1775       {
;;;1776   	lakb[2]._communication2lvlErrorStat=(signed short)(*((signed char*)&RXBUFF[0]));
001d92  f10202a8          ADD      r2,r2,#0xa8
001d96  f99a1000          LDRSB    r1,[r10,#0]  ; RXBUFF
001d9a  81d1              STRH     r1,[r2,#0xe]
;;;1777   	lakb[2]._s_o_c=(signed short)(*((signed short*)&RXBUFF[2]));
001d9c  f8ba1002          LDRH     r1,[r10,#2]  ; RXBUFF
001da0  8051              STRH     r1,[r2,#2]
;;;1778   	lakb[2]._s_o_h=(signed short)(*((signed short*)&RXBUFF[4]));
001da2  f8ba1004          LDRH     r1,[r10,#4]  ; RXBUFF
001da6  8011              STRH     r1,[r2,#0]
;;;1779   	lakb[2]._cell_temp_3=(signed char)(RXBUFF[6]);
;;;1780   	lakb[2]._cell_temp_3=(signed char)(RXBUFF[7]);	
001da8  f89a1007          LDRB     r1,[r10,#7]  ; RXBUFF
001dac  f882102c          STRB     r1,[r2,#0x2c]
001db0  f1a202a8          SUB      r2,r2,#0xa8
                  |L1.7604|
;;;1781   	}	
;;;1782   
;;;1783   if(RXBUFF[1]==PUT_ZTT_TM7)
001db4  28c7              CMP      r0,#0xc7
001db6  d117              BNE      |L1.7656|
;;;1784       {
;;;1785   	lakb[0]._cell_temp_ambient=(signed char)(RXBUFF[0]);
001db8  f89a1000          LDRB     r1,[r10,#0]  ; RXBUFF
001dbc  f882103e          STRB     r1,[r2,#0x3e]
;;;1786   	lakb[0]._cell_temp_power=(signed char)(RXBUFF[2]);
001dc0  f89a1002          LDRB     r1,[r10,#2]  ; RXBUFF
001dc4  f882103f          STRB     r1,[r2,#0x3f]
;;;1787   	lakb[1]._cell_temp_ambient=(signed char)(RXBUFF[3]);
001dc8  f89a1003          LDRB     r1,[r10,#3]  ; RXBUFF
001dcc  f882108a          STRB     r1,[r2,#0x8a]
;;;1788   	lakb[1]._cell_temp_power=(signed char)(RXBUFF[4]);
001dd0  f89a1004          LDRB     r1,[r10,#4]  ; RXBUFF
001dd4  f882108b          STRB     r1,[r2,#0x8b]
;;;1789   	lakb[2]._cell_temp_ambient=(signed char)(RXBUFF[5]);
001dd8  f89a1005          LDRB     r1,[r10,#5]  ; RXBUFF
001ddc  f88210d6          STRB     r1,[r2,#0xd6]
;;;1790   	lakb[2]._cell_temp_power=(signed char)(RXBUFF[6]);	
001de0  f89a1006          LDRB     r1,[r10,#6]  ; RXBUFF
001de4  f88210d7          STRB     r1,[r2,#0xd7]
                  |L1.7656|
;;;1791   	//lakb[0]._cell_temp_ambient=41;
;;;1792   	//lakb[0]._cell_temp_power=42;
;;;1793   	}	
;;;1794   
;;;1795   if(RXBUFF[1]==PUT_ZTT_TM8)
001de8  28c8              CMP      r0,#0xc8
001dea  d17e              BNE      |L1.7914|
;;;1796       {
;;;1797   	if(RXBUFF[0]==0)
001dec  f89a0000          LDRB     r0,[r10,#0]  ; RXBUFF
001df0  b9b8              CBNZ     r0,|L1.7714|
;;;1798   		{
;;;1799   		lakb[0]._charge_and_discharge_current_alarm_status=(signed char)(RXBUFF[2]);
001df2  f89a1002          LDRB     r1,[r10,#2]  ; RXBUFF
001df6  f8821040          STRB     r1,[r2,#0x40]
;;;1800   		lakb[0]._battery_total_voltage_alarm_status=(signed char)(RXBUFF[3]);
001dfa  f89a1003          LDRB     r1,[r10,#3]  ; RXBUFF
001dfe  f8821041          STRB     r1,[r2,#0x41]
;;;1801   		lakb[1]._charge_and_discharge_current_alarm_status=(signed char)(RXBUFF[4]);
001e02  f89a1004          LDRB     r1,[r10,#4]  ; RXBUFF
001e06  f882108c          STRB     r1,[r2,#0x8c]
;;;1802   		lakb[1]._battery_total_voltage_alarm_status=(signed char)(RXBUFF[5]);
001e0a  f89a1005          LDRB     r1,[r10,#5]  ; RXBUFF
001e0e  f882108d          STRB     r1,[r2,#0x8d]
;;;1803   		lakb[2]._charge_and_discharge_current_alarm_status=(signed char)(RXBUFF[6]);
001e12  f89a1006          LDRB     r1,[r10,#6]  ; RXBUFF
001e16  f88210d8          STRB     r1,[r2,#0xd8]
;;;1804   		lakb[2]._battery_total_voltage_alarm_status=(signed char)(RXBUFF[7]);
001e1a  f89a1007          LDRB     r1,[r10,#7]  ; RXBUFF
001e1e  f88210d9          STRB     r1,[r2,#0xd9]
                  |L1.7714|
;;;1805   		}
;;;1806   	if(RXBUFF[0]==1)
001e22  2801              CMP      r0,#1
001e24  d117              BNE      |L1.7766|
;;;1807   		{
;;;1808   		lakb[0]._custom_alarm_quantity=(signed char)(RXBUFF[2]);
001e26  f89a1002          LDRB     r1,[r10,#2]  ; RXBUFF
001e2a  f8821042          STRB     r1,[r2,#0x42]
;;;1809   		lakb[0]._balanced_event_code=(signed char)(RXBUFF[3]);
001e2e  f89a1003          LDRB     r1,[r10,#3]  ; RXBUFF
001e32  f8821043          STRB     r1,[r2,#0x43]
;;;1810   		lakb[1]._custom_alarm_quantity=(signed char)(RXBUFF[4]);
001e36  f89a1004          LDRB     r1,[r10,#4]  ; RXBUFF
001e3a  f882108e          STRB     r1,[r2,#0x8e]
;;;1811   		lakb[1]._balanced_event_code=(signed char)(RXBUFF[5]);
001e3e  f89a1005          LDRB     r1,[r10,#5]  ; RXBUFF
001e42  f882108f          STRB     r1,[r2,#0x8f]
;;;1812   		lakb[2]._custom_alarm_quantity=(signed char)(RXBUFF[6]);
001e46  f89a1006          LDRB     r1,[r10,#6]  ; RXBUFF
001e4a  f88210da          STRB     r1,[r2,#0xda]
;;;1813   		lakb[2]._balanced_event_code=(signed char)(RXBUFF[7]);
001e4e  f89a1007          LDRB     r1,[r10,#7]  ; RXBUFF
001e52  f88210db          STRB     r1,[r2,#0xdb]
                  |L1.7766|
;;;1814   		}
;;;1815   	if(RXBUFF[0]==2)
001e56  2802              CMP      r0,#2
001e58  d124              BNE      |L1.7844|
;;;1816   		{
;;;1817   		lakb[0]._voltage_event_code=(signed char)(RXBUFF[2]);
001e5a  f89a1002          LDRB     r1,[r10,#2]  ; RXBUFF
001e5e  e00b              B        |L1.7800|
                  |L1.7776|
                          DCD      makb
                  |L1.7780|
                          DCD      lakb_damp
                  |L1.7784|
                          DCD      ||.bss||+0x1a6
                  |L1.7788|
                          DCD      li_bat
                  |L1.7792|
                          DCD      plazma_ztt
                  |L1.7796|
                          DCD      lakb
                  |L1.7800|
001e78  f8821044          STRB     r1,[r2,#0x44]
;;;1818   		lakb[0]._temperature_event_code=(signed char)(RXBUFF[3]);
001e7c  f89a1003          LDRB     r1,[r10,#3]  ; RXBUFF
001e80  f8821045          STRB     r1,[r2,#0x45]
;;;1819   		lakb[1]._voltage_event_code=(signed char)(RXBUFF[4]);
001e84  f89a1004          LDRB     r1,[r10,#4]  ; RXBUFF
001e88  f8821090          STRB     r1,[r2,#0x90]
;;;1820   		lakb[1]._temperature_event_code=(signed char)(RXBUFF[5]);
001e8c  f89a1005          LDRB     r1,[r10,#5]  ; RXBUFF
001e90  f8821091          STRB     r1,[r2,#0x91]
;;;1821   		lakb[2]._voltage_event_code=(signed char)(RXBUFF[6]);
001e94  f89a1006          LDRB     r1,[r10,#6]  ; RXBUFF
001e98  f88210dc          STRB     r1,[r2,#0xdc]
;;;1822   		lakb[2]._temperature_event_code=(signed char)(RXBUFF[7]);
001e9c  f89a1007          LDRB     r1,[r10,#7]  ; RXBUFF
001ea0  f88210dd          STRB     r1,[r2,#0xdd]
                  |L1.7844|
;;;1823   		}
;;;1824   	if(RXBUFF[0]==3)
001ea4  2803              CMP      r0,#3
001ea6  d117              BNE      |L1.7896|
;;;1825   		{
;;;1826   		lakb[0]._current_event_code=(signed char)(RXBUFF[2]);
001ea8  f89a1002          LDRB     r1,[r10,#2]  ; RXBUFF
001eac  f8821046          STRB     r1,[r2,#0x46]
;;;1827   		lakb[0]._fet_status_code=(signed char)(RXBUFF[3]);
001eb0  f89a1003          LDRB     r1,[r10,#3]  ; RXBUFF
001eb4  f8821047          STRB     r1,[r2,#0x47]
;;;1828   		lakb[1]._current_event_code=(signed char)(RXBUFF[4]);
001eb8  f89a1004          LDRB     r1,[r10,#4]  ; RXBUFF
001ebc  f8821092          STRB     r1,[r2,#0x92]
;;;1829   		lakb[1]._fet_status_code=(signed char)(RXBUFF[5]);
001ec0  f89a1005          LDRB     r1,[r10,#5]  ; RXBUFF
001ec4  f8821093          STRB     r1,[r2,#0x93]
;;;1830   		lakb[2]._current_event_code=(signed char)(RXBUFF[6]);
001ec8  f89a1006          LDRB     r1,[r10,#6]  ; RXBUFF
001ecc  f88210de          STRB     r1,[r2,#0xde]
;;;1831   		lakb[2]._fet_status_code=(signed char)(RXBUFF[7]);
001ed0  f89a1007          LDRB     r1,[r10,#7]  ; RXBUFF
001ed4  f88210df          STRB     r1,[r2,#0xdf]
                  |L1.7896|
;;;1832   		}
;;;1833   	if(RXBUFF[0]==4)
001ed8  2804              CMP      r0,#4
001eda  d119              BNE      |L1.7952|
;;;1834   		{
;;;1835   		lakb[0]._balanced_status_code=(signed short)(RXBUFF[2])+(((signed char)(RXBUFF[3]))<<8);
001edc  f89a1002          LDRB     r1,[r10,#2]  ; RXBUFF
001ee0  f89a3003          LDRB     r3,[r10,#3]  ; RXBUFF
001ee4  eb012103          ADD      r1,r1,r3,LSL #8
001ee8  e000              B        |L1.7916|
                  |L1.7914|
001eea  e01f              B        |L1.7980|
                  |L1.7916|
001eec  f8a21048          STRH     r1,[r2,#0x48]
;;;1836   		lakb[1]._balanced_status_code=(signed short)(RXBUFF[4])+(((signed char)(RXBUFF[5]))<<8);
001ef0  f89a1004          LDRB     r1,[r10,#4]  ; RXBUFF
001ef4  f89a3005          LDRB     r3,[r10,#5]  ; RXBUFF
001ef8  eb012103          ADD      r1,r1,r3,LSL #8
001efc  f8a21094          STRH     r1,[r2,#0x94]
;;;1837   		lakb[2]._balanced_status_code=(signed short)(RXBUFF[6])+(((signed char)(RXBUFF[7]))<<8);
001f00  f89a1006          LDRB     r1,[r10,#6]  ; RXBUFF
001f04  f89a3007          LDRB     r3,[r10,#7]  ; RXBUFF
001f08  eb012103          ADD      r1,r1,r3,LSL #8
001f0c  f8a210e0          STRH     r1,[r2,#0xe0]
                  |L1.7952|
;;;1838   		}
;;;1839   	if(RXBUFF[0]==5)
001f10  2805              CMP      r0,#5
001f12  d10b              BNE      |L1.7980|
;;;1840   		{
;;;1841   		lakb[0]._system_status_code=(signed char)(RXBUFF[2]);
001f14  f89a0002          LDRB     r0,[r10,#2]  ; RXBUFF
001f18  f882004a          STRB     r0,[r2,#0x4a]
;;;1842   		lakb[1]._system_status_code=(signed char)(RXBUFF[4]);
001f1c  f89a0004          LDRB     r0,[r10,#4]  ; RXBUFF
001f20  f8820096          STRB     r0,[r2,#0x96]
;;;1843   		lakb[2]._system_status_code=(signed char)(RXBUFF[6]);
001f24  f89a0006          LDRB     r0,[r10,#6]  ; RXBUFF
001f28  f88200e2          STRB     r0,[r2,#0xe2]
                  |L1.7980|
;;;1844   		}
;;;1845   	}	
;;;1846   	
;;;1847   CAN_IN_AN1_end:
;;;1848   bIN2=0;
001f2c  7274              STRB     r4,[r6,#9]
;;;1849   }
001f2e  e8bd9ff0          POP      {r4-r12,pc}
;;;1850   
                          ENDP

                  CAN_ISR_Rx1 PROC
;;;1861   ***************************************************************************/ 
;;;1862   void CAN_ISR_Rx1( void )
001f32  b570              PUSH     {r4-r6,lr}
;;;1863   {
;;;1864   unsigned int buf;
;;;1865   unsigned int *pDest;
;;;1866   char temp;
;;;1867   char *ptr,j;
;;;1868   //can_cnt++;
;;;1869   
;;;1870   rotor_can[0]++;
001f34  48ff              LDR      r0,|L1.9012|
001f36  8801              LDRH     r1,[r0,#0]  ; rotor_can
001f38  1c49              ADDS     r1,r1,#1
001f3a  8001              STRH     r1,[r0,#0]
;;;1871   
;;;1872     if (!(LPC_CAN1->RFS & 0xC0000400L))
001f3c  4cfe              LDR      r4,|L1.9016|
001f3e  6a21              LDR      r1,[r4,#0x20]
001f40  4afe              LDR      r2,|L1.9020|
001f42  4211              TST      r1,r2
001f44  d137              BNE      |L1.8118|
;;;1873     { // 11-bit ID, no RTR, matched a filter
;;;1874   
;;;1875   rotor_can[1]++;
001f46  8841              LDRH     r1,[r0,#2]  ; rotor_can
001f48  1c49              ADDS     r1,r1,#1
001f4a  8041              STRH     r1,[r0,#2]
;;;1876       // initialize destination pointer
;;;1877       // filter number is in lower 10 bits of C1RFS
;;;1878       pDest = (unsigned int *) &(gFullCANList[(LPC_CAN1->RFS & 0x000003FFL)].Dat1);
001f4c  6a20              LDR      r0,[r4,#0x20]
001f4e  49f9              LDR      r1,|L1.9012|
001f50  f3c00009          UBFX     r0,r0,#0,#10
001f54  eb000040          ADD      r0,r0,r0,LSL #1
001f58  310c              ADDS     r1,r1,#0xc
001f5a  eb010280          ADD      r2,r1,r0,LSL #2
;;;1879       
;;;1880       // calculate contents for first entry into FullCAN list
;;;1881       buf = LPC_CAN1->RFS & 0xC00F0000L; // mask FF, RTR and DLC
001f5e  6a23              LDR      r3,[r4,#0x20]
001f60  48f7              LDR      r0,|L1.9024|
001f62  4003              ANDS     r3,r3,r0
;;;1882       buf |= 0x01002000L; // set semaphore to 01b and CAN port to 1
001f64  48f7              LDR      r0,|L1.9028|
001f66  4303              ORRS     r3,r3,r0
;;;1883       buf |= LPC_CAN1->RID & 0x000007FFL; // get CAN message ID
001f68  6a60              LDR      r0,[r4,#0x24]
001f6a  f3c0000a          UBFX     r0,r0,#0,#11
001f6e  4318              ORRS     r0,r0,r3
;;;1884   
;;;1885       // now copy entire message to FullCAN list
;;;1886       *pDest = buf; 
001f70  6010              STR      r0,[r2,#0]
;;;1887       pDest++; // set to gFullCANList[(C1RFS & 0x000003FFL)].DatA
;;;1888       *pDest = LPC_CAN1->RDA; 
001f72  6aa3              LDR      r3,[r4,#0x28]
001f74  6053              STR      r3,[r2,#4]
;;;1889       pDest++; // set to gFullCANList[(C1RFS & 0x000003FFL)].DatB
;;;1890       *pDest = LPC_CAN1->RDB; 
001f76  6ae3              LDR      r3,[r4,#0x2c]
001f78  6093              STR      r3,[r2,#8]
;;;1891   
;;;1892       // now set the sempahore to complete
;;;1893       buf |= 0x03000000L; // set semaphore to 11b
001f7a  f0407040          ORR      r0,r0,#0x3000000
;;;1894       pDest -= 2; // set to gFullCANList[(C1RFS & 0x000003FFL)].Dat1
;;;1895       *pDest = buf; 
001f7e  6010              STR      r0,[r2,#0]
;;;1896       
;;;1897   	temp=(char)gFullCANList[0].DatA;
001f80  6848              LDR      r0,[r1,#4]  ; gFullCANList
001f82  b2c0              UXTB     r0,r0
;;;1898   	if(temp==0x30) bR=0;
001f84  4af0              LDR      r2,|L1.9032|
001f86  2830              CMP      r0,#0x30
001f88  d009              BEQ      |L1.8094|
;;;1899   	else bR++;
001f8a  79d0              LDRB     r0,[r2,#7]  ; bR
001f8c  1c40              ADDS     r0,r0,#1
001f8e  71d0              STRB     r0,[r2,#7]
                  |L1.8080|
;;;1900   	
;;;1901   	temp=(char)(((gFullCANList[0].Dat1)>>16)&0x0f); 
001f90  c901              LDM      r1!,{r0}  ; gFullCANList
001f92  f3c04203          UBFX     r2,r0,#16,#4
;;;1902        
;;;1903        ptr=(char*)(&gFullCANList[0].DatA);
;;;1904   	
;;;1905   	for(j=0;j<temp;j++)
001f96  2000              MOVS     r0,#0
;;;1906   		{
;;;1907   		RXBUFF[j]=*ptr;
001f98  4be6              LDR      r3,|L1.9012|
001f9a  3324              ADDS     r3,r3,#0x24
001f9c  e007              B        |L1.8110|
                  |L1.8094|
001f9e  2000              MOVS     r0,#0                 ;1898
001fa0  71d0              STRB     r0,[r2,#7]            ;1898
001fa2  e7f5              B        |L1.8080|
                  |L1.8100|
001fa4  f8115b01          LDRB     r5,[r1],#1
001fa8  541d              STRB     r5,[r3,r0]
001faa  1c40              ADDS     r0,r0,#1              ;1905
001fac  b2c0              UXTB     r0,r0                 ;1905
                  |L1.8110|
001fae  4290              CMP      r0,r2                 ;1905
001fb0  d3f8              BCC      |L1.8100|
;;;1908   		ptr++;
;;;1909   		}
;;;1910   	can_in_an1();
001fb2  f7fffffe          BL       can_in_an1
                  |L1.8118|
;;;1911   	    
;;;1912       
;;;1913     }
;;;1914   
;;;1915     LPC_CAN1->CMR = 0x04; // release receive buffer
001fb6  2004              MOVS     r0,#4
001fb8  6060              STR      r0,[r4,#4]
;;;1916   }
001fba  bd70              POP      {r4-r6,pc}
;;;1917   
                          ENDP

                  CAN_ISR_Rx2 PROC
;;;1925   ***************************************************************************/ 
;;;1926   void CAN_ISR_Rx2( void ) 
001fbc  e92d41f0          PUSH     {r4-r8,lr}
;;;1927   {
;;;1928   unsigned int buf;
;;;1929   unsigned int *pDest;
;;;1930   char temp;
;;;1931   char *ptr,j;
;;;1932   //can_cnt++;
;;;1933   
;;;1934   //rotor_can[0]++;
;;;1935   //can_debug_plazma[0][0]++;
;;;1936   //if(C1ICR & 0x00000001L)
;;;1937   //	{
;;;1938   //	can_debug_plazma[0][0]++;
;;;1939   	if (!(LPC_CAN2->RFS & 0xC0000400L))
001fc0  4ce2              LDR      r4,|L1.9036|
001fc2  6a20              LDR      r0,[r4,#0x20]
001fc4  49dd              LDR      r1,|L1.9020|
001fc6  4208              TST      r0,r1
001fc8  d17e              BNE      |L1.8392|
;;;1940       		{ // 11-bit ID, no RTR, matched a filter
;;;1941   			
;;;1942       		//rotor_can[1]++;
;;;1943       		// initialize destination pointer
;;;1944       		// filter number is in lower 10 bits of C1RFS
;;;1945   			//plazma_can4=(char)((LPC_CAN2->RFS>>16) & 0x000000FFL);
;;;1946       		pDest = (unsigned int *) &(gFullCANList[(LPC_CAN2->RFS & 0x000003FFL)].Dat1);
001fca  6a20              LDR      r0,[r4,#0x20]
001fcc  49d9              LDR      r1,|L1.9012|
001fce  f3c00009          UBFX     r0,r0,#0,#10
001fd2  eb000040          ADD      r0,r0,r0,LSL #1
001fd6  310c              ADDS     r1,r1,#0xc
001fd8  eb010180          ADD      r1,r1,r0,LSL #2
;;;1947       
;;;1948   			plazma_can_pal[plazma_can_pal_index]=(char)(LPC_CAN2->RDA);
001fdc  6aa3              LDR      r3,[r4,#0x28]
001fde  4eda              LDR      r6,|L1.9032|
001fe0  48d4              LDR      r0,|L1.9012|
001fe2  7b72              LDRB     r2,[r6,#0xd]  ; plazma_can_pal_index
001fe4  3092              ADDS     r0,r0,#0x92
001fe6  5483              STRB     r3,[r0,r2]
;;;1949   			plazma_can_pal_index++;
001fe8  1c52              ADDS     r2,r2,#1
001fea  b2d2              UXTB     r2,r2
;;;1950   			plazma_can_pal[plazma_can_pal_index]=(char)((LPC_CAN2->RDA)>>8);
001fec  6aa3              LDR      r3,[r4,#0x28]
001fee  0a1b              LSRS     r3,r3,#8
001ff0  5483              STRB     r3,[r0,r2]
;;;1951   			plazma_can_pal_index++;
001ff2  1c52              ADDS     r2,r2,#1
001ff4  b2d2              UXTB     r2,r2
;;;1952   			plazma_can_pal[plazma_can_pal_index]=(char)((LPC_CAN2->RDA)>>16);
001ff6  6aa3              LDR      r3,[r4,#0x28]
001ff8  0c1b              LSRS     r3,r3,#16
001ffa  5483              STRB     r3,[r0,r2]
;;;1953   			plazma_can_pal_index++;
001ffc  1c52              ADDS     r2,r2,#1
001ffe  b2d2              UXTB     r2,r2
;;;1954   			plazma_can_pal[plazma_can_pal_index]=(char)((LPC_CAN2->RDA)>>24);
002000  6aa3              LDR      r3,[r4,#0x28]
002002  0e1b              LSRS     r3,r3,#24
002004  5483              STRB     r3,[r0,r2]
;;;1955   			plazma_can_pal_index++;
002006  1c52              ADDS     r2,r2,#1
002008  b2d2              UXTB     r2,r2
;;;1956   			plazma_can_pal[plazma_can_pal_index]=(char)(LPC_CAN2->RDB);
00200a  6ae3              LDR      r3,[r4,#0x2c]
00200c  5483              STRB     r3,[r0,r2]
;;;1957   			plazma_can_pal_index++;
00200e  1c52              ADDS     r2,r2,#1
002010  b2d2              UXTB     r2,r2
;;;1958   			plazma_can_pal[plazma_can_pal_index]=(char)((LPC_CAN2->RDB)>>8);
002012  6ae3              LDR      r3,[r4,#0x2c]
002014  0a1b              LSRS     r3,r3,#8
002016  5483              STRB     r3,[r0,r2]
;;;1959   			plazma_can_pal_index++;
002018  1c52              ADDS     r2,r2,#1
00201a  b2d2              UXTB     r2,r2
;;;1960   			plazma_can_pal[plazma_can_pal_index]=(char)((LPC_CAN2->RDB)>>16);
00201c  6ae3              LDR      r3,[r4,#0x2c]
00201e  0c1b              LSRS     r3,r3,#16
002020  5483              STRB     r3,[r0,r2]
;;;1961   			plazma_can_pal_index++;
002022  1c52              ADDS     r2,r2,#1
002024  b2d2              UXTB     r2,r2
;;;1962   			plazma_can_pal[plazma_can_pal_index]=(char)((LPC_CAN2->RDB)>>24);
002026  6ae3              LDR      r3,[r4,#0x2c]
002028  0e1b              LSRS     r3,r3,#24
00202a  5483              STRB     r3,[r0,r2]
;;;1963   			plazma_can_pal_index++;
00202c  1c52              ADDS     r2,r2,#1
00202e  7372              STRB     r2,[r6,#0xd]
;;;1964   
;;;1965       		// calculate contents for first entry into FullCAN list
;;;1966       		buf = LPC_CAN2->RFS & 0xC00F0000L; // mask FF, RTR and DLC
002030  6a22              LDR      r2,[r4,#0x20]
002032  48c3              LDR      r0,|L1.9024|
002034  4002              ANDS     r2,r2,r0
;;;1967       		buf |= 0x01002000L; // set semaphore to 01b and CAN port to 1
002036  48c3              LDR      r0,|L1.9028|
002038  4302              ORRS     r2,r2,r0
;;;1968       		buf |= LPC_CAN2->RID & 0x000007FFL; // get CAN message ID
00203a  6a60              LDR      r0,[r4,#0x24]
00203c  f3c0000a          UBFX     r0,r0,#0,#11
002040  4310              ORRS     r0,r0,r2
;;;1969   
;;;1970       		// now copy entire message to FullCAN list
;;;1971       		*pDest = buf; 
002042  6008              STR      r0,[r1,#0]
;;;1972       		pDest++; // set to gFullCANList[(C1RFS & 0x000003FFL)].DatA
;;;1973       		*pDest = LPC_CAN2->RDA;
002044  6aa2              LDR      r2,[r4,#0x28]
002046  604a              STR      r2,[r1,#4]
;;;1974   			//plazma_can4=(char)LPC_CAN2->RDA; 
;;;1975       		pDest++; // set to gFullCANList[(C1RFS & 0x000003FFL)].DatB
;;;1976       		*pDest = LPC_CAN2->RDB; 
002048  6ae2              LDR      r2,[r4,#0x2c]
00204a  608a              STR      r2,[r1,#8]
;;;1977   
;;;1978       		// now set the sempahore to complete
;;;1979       		buf |= 0x03000000L; // set semaphore to 11b
00204c  f0407040          ORR      r0,r0,#0x3000000
;;;1980       		pDest -= 2; // set to gFullCANList[(C1RFS & 0x000003FFL)].Dat1
;;;1981       		*pDest = buf; 
002050  6008              STR      r0,[r1,#0]
;;;1982       
;;;1983   		//temp=(char)gFullCANList[0].DatA;
;;;1984   		temp=(char)(LPC_CAN2->RDA);
002052  6aa0              LDR      r0,[r4,#0x28]
002054  b2c0              UXTB     r0,r0
;;;1985   		if(temp==0x30)
002056  2830              CMP      r0,#0x30
002058  d009              BEQ      |L1.8302|
;;;1986   			{
;;;1987   			 bR=0;
;;;1988   			 }
;;;1989   		else bR++;
00205a  79f0              LDRB     r0,[r6,#7]  ; bR
00205c  1c40              ADDS     r0,r0,#1
00205e  71f0              STRB     r0,[r6,#7]
                  |L1.8288|
;;;1990   	
;;;1991   		//temp=(char)(((gFullCANList[0].Dat1)>>16)&0x0f); 
;;;1992        
;;;1993        	//ptr=(char*)(&gFullCANList[0].DatA);
;;;1994   	
;;;1995   		if(!bR)
;;;1996   			{
;;;1997   			/*for(j=0;j<temp;j++)
;;;1998   				{
;;;1999   				RXBUFF[j]=*ptr;
;;;2000   				ptr++;
;;;2001   				}*/
;;;2002   			RXBUFF[0]=(char)(LPC_CAN2->RDA);
002060  4db4              LDR      r5,|L1.9012|
002062  79f0              LDRB     r0,[r6,#7]            ;1995  ; bR
002064  3524              ADDS     r5,r5,#0x24
002066  b128              CBZ      r0,|L1.8308|
;;;2003   			RXBUFF[1]=(char)((LPC_CAN2->RDA)>>8);
;;;2004   			RXBUFF[2]=(char)((LPC_CAN2->RDA)>>16);
;;;2005   			RXBUFF[3]=(char)((LPC_CAN2->RDA)>>24);
;;;2006   			RXBUFF[4]=(char)(LPC_CAN2->RDB);
;;;2007   			RXBUFF[5]=(char)((LPC_CAN2->RDB)>>8);
;;;2008   			RXBUFF[6]=(char)((LPC_CAN2->RDB)>>16);
;;;2009   			RXBUFF[7]=(char)((LPC_CAN2->RDB)>>24);
;;;2010   			
;;;2011   			}
;;;2012   		else if(bR==1)
002068  2801              CMP      r0,#1
00206a  d01a              BEQ      |L1.8354|
00206c  e031              B        |L1.8402|
                  |L1.8302|
00206e  2000              MOVS     r0,#0                 ;1987
002070  71f0              STRB     r0,[r6,#7]            ;1987
002072  e7f5              B        |L1.8288|
                  |L1.8308|
002074  6aa0              LDR      r0,[r4,#0x28]         ;2002
002076  7028              STRB     r0,[r5,#0]            ;2002
002078  6aa0              LDR      r0,[r4,#0x28]         ;2003
00207a  0a00              LSRS     r0,r0,#8              ;2003
00207c  7068              STRB     r0,[r5,#1]            ;2003
00207e  6aa0              LDR      r0,[r4,#0x28]         ;2004
002080  0c00              LSRS     r0,r0,#16             ;2004
002082  70a8              STRB     r0,[r5,#2]            ;2004
002084  6aa0              LDR      r0,[r4,#0x28]         ;2005
002086  0e00              LSRS     r0,r0,#24             ;2005
002088  70e8              STRB     r0,[r5,#3]            ;2005
00208a  6ae0              LDR      r0,[r4,#0x2c]         ;2006
00208c  7128              STRB     r0,[r5,#4]            ;2006
00208e  6ae0              LDR      r0,[r4,#0x2c]         ;2007
002090  0a00              LSRS     r0,r0,#8              ;2007
002092  7168              STRB     r0,[r5,#5]            ;2007
002094  6ae0              LDR      r0,[r4,#0x2c]         ;2008
002096  0c00              LSRS     r0,r0,#16             ;2008
002098  71a8              STRB     r0,[r5,#6]            ;2008
00209a  6ae0              LDR      r0,[r4,#0x2c]         ;2009
00209c  0e00              LSRS     r0,r0,#24             ;2009
00209e  71e8              STRB     r0,[r5,#7]            ;2009
0020a0  e017              B        |L1.8402|
                  |L1.8354|
;;;2013   			{
;;;2014   			RXBUFF[8]=(char)(LPC_CAN2->RDA);
0020a2  6aa0              LDR      r0,[r4,#0x28]
0020a4  7228              STRB     r0,[r5,#8]
;;;2015   			RXBUFF[9]=(char)((LPC_CAN2->RDA)>>8);
0020a6  6aa0              LDR      r0,[r4,#0x28]
0020a8  0a00              LSRS     r0,r0,#8
0020aa  7268              STRB     r0,[r5,#9]
;;;2016   			RXBUFF[10]=(char)((LPC_CAN2->RDA)>>16);
0020ac  6aa0              LDR      r0,[r4,#0x28]
0020ae  0c00              LSRS     r0,r0,#16
0020b0  72a8              STRB     r0,[r5,#0xa]
;;;2017   			RXBUFF[11]=(char)((LPC_CAN2->RDA)>>24);
0020b2  6aa0              LDR      r0,[r4,#0x28]
0020b4  0e00              LSRS     r0,r0,#24
0020b6  72e8              STRB     r0,[r5,#0xb]
;;;2018   			RXBUFF[12]=(char)(LPC_CAN2->RDB);
0020b8  6ae0              LDR      r0,[r4,#0x2c]
0020ba  7328              STRB     r0,[r5,#0xc]
;;;2019   			RXBUFF[13]=(char)((LPC_CAN2->RDB)>>8);
0020bc  6ae0              LDR      r0,[r4,#0x2c]
0020be  0a00              LSRS     r0,r0,#8
0020c0  7368              STRB     r0,[r5,#0xd]
;;;2020   			RXBUFF[14]=(char)((LPC_CAN2->RDB)>>16);
0020c2  6ae0              LDR      r0,[r4,#0x2c]
0020c4  0c00              LSRS     r0,r0,#16
0020c6  e000              B        |L1.8394|
                  |L1.8392|
0020c8  e018              B        |L1.8444|
                  |L1.8394|
0020ca  73a8              STRB     r0,[r5,#0xe]
;;;2021   			RXBUFF[15]=(char)((LPC_CAN2->RDB)>>24);
0020cc  6ae0              LDR      r0,[r4,#0x2c]
0020ce  0e00              LSRS     r0,r0,#24
0020d0  73e8              STRB     r0,[r5,#0xf]
                  |L1.8402|
;;;2022   			} 		
;;;2023   	
;;;2024   	
;;;2025   	
;;;2026   		
;;;2027   		temp=((RXBUFF[1]&0x1f)+4);
0020d2  7868              LDRB     r0,[r5,#1]  ; RXBUFF
0020d4  f000071f          AND      r7,r0,#0x1f
0020d8  1d3f              ADDS     r7,r7,#4
;;;2028       		//rotor_can[2]++;
;;;2029   		if((CRC1_in()==RXBUFF[temp+1])&&(CRC2_in()==RXBUFF[temp+2])&&bR)
0020da  f7fffffe          BL       CRC1_in
0020de  443d              ADD      r5,r5,r7
0020e0  7869              LDRB     r1,[r5,#1]
0020e2  4288              CMP      r0,r1
0020e4  d10a              BNE      |L1.8444|
0020e6  f7fffffe          BL       CRC2_in
0020ea  78a9              LDRB     r1,[r5,#2]
0020ec  4288              CMP      r0,r1
0020ee  d105              BNE      |L1.8444|
0020f0  79f0              LDRB     r0,[r6,#7]  ; bR
0020f2  b118              CBZ      r0,|L1.8444|
;;;2030   			{
;;;2031     
;;;2032   			bIN=1;
0020f4  2001              MOVS     r0,#1
0020f6  7230              STRB     r0,[r6,#8]
;;;2033     			//rotor_can[3]++;
;;;2034     			can_in_an2();
0020f8  f7fffffe          BL       can_in_an2
                  |L1.8444|
;;;2035   			
;;;2036   			}    
;;;2037       
;;;2038     		}
;;;2039   
;;;2040   LPC_CAN2->CMR = 0x04; // release receive buffer
0020fc  2004              MOVS     r0,#4
0020fe  6060              STR      r0,[r4,#4]
;;;2041   }
002100  e8bd81f0          POP      {r4-r8,pc}
;;;2042   /**************************************************************************
                          ENDP

                  can_isr_tx1 PROC
;;;2048   
;;;2049   void can_isr_tx1 (void) 
002104  4a90              LDR      r2,|L1.9032|
;;;2050   {
;;;2051   //unsigned int buf;
;;;2052   //unsigned int *pDest;
;;;2053   char temp;
;;;2054   //char *ptr,j;
;;;2055   
;;;2056   //plazma_can2++;
;;;2057   
;;;2058   can_tx_cnt++;
002106  7ad0              LDRB     r0,[r2,#0xb]  ; can_tx_cnt
002108  1c40              ADDS     r0,r0,#1
00210a  72d0              STRB     r0,[r2,#0xb]
;;;2059   
;;;2060   rotor_can[5]++;
00210c  4989              LDR      r1,|L1.9012|
00210e  8948              LDRH     r0,[r1,#0xa]  ; rotor_can
002110  1c40              ADDS     r0,r0,#1
002112  8148              STRH     r0,[r1,#0xa]
;;;2061   
;;;2062   if(ptr_can1_tx_wr!=ptr_can1_tx_rd)
002114  78d3              LDRB     r3,[r2,#3]  ; ptr_can1_tx_wr
002116  7910              LDRB     r0,[r2,#4]  ; ptr_can1_tx_rd
;;;2063   	{
;;;2064   	LPC_CAN1->TFI1=can1_info[ptr_can1_tx_rd];
002118  4987              LDR      r1,|L1.9016|
00211a  4283              CMP      r3,r0                 ;2062
00211c  d01c              BEQ      |L1.8536|
00211e  4b8c              LDR      r3,|L1.9040|
002120  f8533020          LDR      r3,[r3,r0,LSL #2]
002124  630b              STR      r3,[r1,#0x30]
;;;2065        LPC_CAN1->TID1=can1_id[ptr_can1_tx_rd];
002126  4b8a              LDR      r3,|L1.9040|
002128  3320              ADDS     r3,r3,#0x20
00212a  f8533020          LDR      r3,[r3,r0,LSL #2]
00212e  634b              STR      r3,[r1,#0x34]
;;;2066        LPC_CAN1->TDA1=can1_data[ptr_can1_tx_rd];
002130  4b87              LDR      r3,|L1.9040|
002132  3340              ADDS     r3,r3,#0x40
002134  f8533020          LDR      r3,[r3,r0,LSL #2]
002138  638b              STR      r3,[r1,#0x38]
;;;2067        LPC_CAN1->TDB1=can1_datb[ptr_can1_tx_rd];
00213a  4b85              LDR      r3,|L1.9040|
00213c  3360              ADDS     r3,r3,#0x60
00213e  f8533020          LDR      r3,[r3,r0,LSL #2]
002142  63cb              STR      r3,[r1,#0x3c]
;;;2068        LPC_CAN1->CMR=0x00000021;
002144  2321              MOVS     r3,#0x21
002146  604b              STR      r3,[r1,#4]
;;;2069        ptr_can1_tx_rd++;
002148  1c40              ADDS     r0,r0,#1
00214a  b2c0              UXTB     r0,r0
00214c  7110              STRB     r0,[r2,#4]
;;;2070        if(ptr_can1_tx_rd>=8)ptr_can1_tx_rd=0;
00214e  2808              CMP      r0,#8
002150  d304              BCC      |L1.8540|
002152  2000              MOVS     r0,#0
002154  7110              STRB     r0,[r2,#4]
002156  e001              B        |L1.8540|
                  |L1.8536|
;;;2071   	}
;;;2072   else bOUT_FREE=1;
002158  2001              MOVS     r0,#1
00215a  7010              STRB     r0,[r2,#0]
                  |L1.8540|
;;;2073   temp=LPC_CAN1->ICR;
00215c  68c8              LDR      r0,[r1,#0xc]
;;;2074   
;;;2075   }
00215e  4770              BX       lr
;;;2076   
                          ENDP

                  can_isr_tx2 PROC
;;;2077   /***************************************************************************/
;;;2078   void can_isr_tx2 (void) 
002160  4a79              LDR      r2,|L1.9032|
;;;2079   {
;;;2080   char temp;
;;;2081   can2_tx_cnt++;
002162  8ad0              LDRH     r0,[r2,#0x16]  ; can2_tx_cnt
002164  1c40              ADDS     r0,r0,#1
002166  82d0              STRH     r0,[r2,#0x16]
;;;2082   
;;;2083   //=ptr_can2_tx_wr;
;;;2084   
;;;2085   if(ptr_can2_tx_wr!=ptr_can2_tx_rd)
002168  7953              LDRB     r3,[r2,#5]  ; ptr_can2_tx_wr
00216a  7990              LDRB     r0,[r2,#6]  ; ptr_can2_tx_rd
;;;2086   	{
;;;2087   	LPC_CAN2->TFI1=can2_info[ptr_can2_tx_rd];
00216c  4977              LDR      r1,|L1.9036|
00216e  4283              CMP      r3,r0                 ;2085
002170  d01d              BEQ      |L1.8622|
002172  4b70              LDR      r3,|L1.9012|
002174  3b80              SUBS     r3,r3,#0x80
002176  f8533020          LDR      r3,[r3,r0,LSL #2]
00217a  630b              STR      r3,[r1,#0x30]
;;;2088        LPC_CAN2->TID1=can2_id[ptr_can2_tx_rd];
00217c  4b6d              LDR      r3,|L1.9012|
00217e  3b60              SUBS     r3,r3,#0x60
002180  f8533020          LDR      r3,[r3,r0,LSL #2]
002184  634b              STR      r3,[r1,#0x34]
;;;2089        LPC_CAN2->TDA1=can2_data[ptr_can2_tx_rd];
002186  4b6b              LDR      r3,|L1.9012|
002188  3b40              SUBS     r3,r3,#0x40
00218a  f8533020          LDR      r3,[r3,r0,LSL #2]
00218e  638b              STR      r3,[r1,#0x38]
;;;2090        LPC_CAN2->TDB1=can2_datb[ptr_can2_tx_rd];
002190  4b68              LDR      r3,|L1.9012|
002192  3b20              SUBS     r3,r3,#0x20
002194  f8533020          LDR      r3,[r3,r0,LSL #2]
002198  63cb              STR      r3,[r1,#0x3c]
;;;2091        LPC_CAN2->CMR=0x00000021;
00219a  2321              MOVS     r3,#0x21
00219c  604b              STR      r3,[r1,#4]
;;;2092        ptr_can2_tx_rd++;
00219e  1c40              ADDS     r0,r0,#1
0021a0  b2c0              UXTB     r0,r0
0021a2  7190              STRB     r0,[r2,#6]
;;;2093        if(ptr_can2_tx_rd>=8)ptr_can2_tx_rd=0;
0021a4  2808              CMP      r0,#8
0021a6  d304              BCC      |L1.8626|
0021a8  2000              MOVS     r0,#0
0021aa  7190              STRB     r0,[r2,#6]
0021ac  e001              B        |L1.8626|
                  |L1.8622|
;;;2094   	}
;;;2095   else bOUT_FREE2=1;
0021ae  2001              MOVS     r0,#1
0021b0  7050              STRB     r0,[r2,#1]
                  |L1.8626|
;;;2096   temp=LPC_CAN2->ICR;
0021b2  68c8              LDR      r0,[r1,#0xc]
;;;2097   }
0021b4  4770              BX       lr
;;;2098   
                          ENDP

                  can1_init PROC
;;;2102   ***************************************************************************/ 
;;;2103   short can1_init (unsigned int can_btr)
0021b6  b510              PUSH     {r4,lr}
;;;2104   {
;;;2105   LPC_SC->PCONP |= (1<<13);  /* Enable CAN1 and CAN2 clock */
0021b8  4966              LDR      r1,|L1.9044|
0021ba  680a              LDR      r2,[r1,#0]
0021bc  f4425200          ORR      r2,r2,#0x2000
0021c0  600a              STR      r2,[r1,#0]
;;;2106   
;;;2107   LPC_PINCON->PINSEL0 &= ~0x0000000F;  /* CAN1 is p0.0 and p0.1	*/
0021c2  4965              LDR      r1,|L1.9048|
0021c4  680a              LDR      r2,[r1,#0]
0021c6  f022020f          BIC      r2,r2,#0xf
0021ca  600a              STR      r2,[r1,#0]
;;;2108   LPC_PINCON->PINSEL0 |= 0x00000005;
0021cc  680a              LDR      r2,[r1,#0]
0021ce  f0420205          ORR      r2,r2,#5
0021d2  600a              STR      r2,[r1,#0]
;;;2109   
;;;2110   gCANFilter = 0; // Reset and disable all message filters
0021d4  4a5c              LDR      r2,|L1.9032|
0021d6  f04f0100          MOV      r1,#0
0021da  8291              STRH     r1,[r2,#0x14]
;;;2111   
;;;2112   LPC_CANAF->AFMR = 0x00000001L; // Acceptance Filter Mode Register = off !
0021dc  4b5f              LDR      r3,|L1.9052|
0021de  f04f0201          MOV      r2,#1
0021e2  601a              STR      r2,[r3,#0]
;;;2113   
;;;2114   LPC_CAN1->MOD = 1; // Go into Reset mode
0021e4  4c54              LDR      r4,|L1.9016|
0021e6  6022              STR      r2,[r4,#0]
;;;2115   
;;;2116   LPC_CAN1->IER = 0;// Disable All Interrupts
0021e8  6121              STR      r1,[r4,#0x10]
;;;2117   
;;;2118   LPC_CAN1->GSR = 0; // Clear Status register
0021ea  60a1              STR      r1,[r4,#8]
;;;2119   
;;;2120   LPC_CAN1->BTR = can_btr; // Set bit timing
0021ec  6160              STR      r0,[r4,#0x14]
;;;2121   
;;;2122   //LPC_CAN1->IER |=(1<<0)|(1<<1)|(1<<9)|(1<<10); // Enable Receive & Transmit Interrupt
;;;2123   
;;;2124   LPC_CAN1->MOD = 0; // Enter Normal Operating Mode
0021ee  6021              STR      r1,[r4,#0]
;;;2125   
;;;2126   
;;;2127   
;;;2128   NVIC_EnableIRQ(CAN_IRQn);
0021f0  f04f0019          MOV      r0,#0x19
0021f4  f7fffffe          BL       NVIC_EnableIRQ
;;;2129   LPC_CAN1->IER =0x0003;
0021f8  2003              MOVS     r0,#3
0021fa  6120              STR      r0,[r4,#0x10]
;;;2130   return 1;
0021fc  2001              MOVS     r0,#1
;;;2131   }
0021fe  bd10              POP      {r4,pc}
;;;2132   
                          ENDP

                  can2_init PROC
;;;2136   ***************************************************************************/ 
;;;2137   short can2_init (unsigned int can_btr)
002200  b510              PUSH     {r4,lr}
;;;2138   {
;;;2139   LPC_SC->PCONP |= (1<<14);  /* Enable CAN1 and CAN2 clock */
002202  4954              LDR      r1,|L1.9044|
002204  680a              LDR      r2,[r1,#0]
002206  f4424280          ORR      r2,r2,#0x4000
00220a  600a              STR      r2,[r1,#0]
;;;2140   
;;;2141   LPC_PINCON->PINSEL2 &= ~0x0003c000;  /* CAN1 is p0.0 and p0.1	*/
00220c  4952              LDR      r1,|L1.9048|
00220e  688a              LDR      r2,[r1,#8]
002210  f4223270          BIC      r2,r2,#0x3c000
002214  608a              STR      r2,[r1,#8]
;;;2142   LPC_PINCON->PINSEL4 |= 0x00014000;
002216  690a              LDR      r2,[r1,#0x10]
002218  f44232a0          ORR      r2,r2,#0x14000
00221c  610a              STR      r2,[r1,#0x10]
;;;2143   
;;;2144   gCANFilter = 0; // Reset and disable all message filters
00221e  4a4a              LDR      r2,|L1.9032|
002220  f04f0100          MOV      r1,#0
002224  8291              STRH     r1,[r2,#0x14]
;;;2145   
;;;2146   LPC_CANAF->AFMR = 0x00000001L; // Acceptance Filter Mode Register = off !
002226  4b4d              LDR      r3,|L1.9052|
002228  f04f0201          MOV      r2,#1
00222c  601a              STR      r2,[r3,#0]
;;;2147   
;;;2148   LPC_CAN2->MOD = 1; // Go into Reset mode
00222e  4c47              LDR      r4,|L1.9036|
002230  6022              STR      r2,[r4,#0]
;;;2149   
;;;2150   LPC_CAN2->IER = 0;// Disable All Interrupts
002232  6121              STR      r1,[r4,#0x10]
;;;2151   
;;;2152   LPC_CAN2->GSR = 0; // Clear Status register
002234  60a1              STR      r1,[r4,#8]
;;;2153   
;;;2154   LPC_CAN2->BTR = can_btr; // Set bit timing
002236  6160              STR      r0,[r4,#0x14]
;;;2155   
;;;2156   //LPC_CAN1->IER |=(1<<0)|(1<<1)|(1<<9)|(1<<10); // Enable Receive & Transmit Interrupt
;;;2157   
;;;2158   LPC_CAN2->MOD = 0; // Enter Normal Operating Mode
002238  6021              STR      r1,[r4,#0]
;;;2159   
;;;2160   
;;;2161   
;;;2162   NVIC_EnableIRQ(CAN_IRQn);
00223a  f04f0019          MOV      r0,#0x19
00223e  f7fffffe          BL       NVIC_EnableIRQ
;;;2163   LPC_CAN2->IER =0x0003;
002242  2003              MOVS     r0,#3
002244  6120              STR      r0,[r4,#0x10]
;;;2164   return 1;
002246  2001              MOVS     r0,#1
;;;2165   }
002248  bd10              POP      {r4,pc}
;;;2166   
                          ENDP

                  FullCAN_SetFilter PROC
;;;2170   ***************************************************************************/ 
;;;2171   short FullCAN_SetFilter  (
00224a  b5f0              PUSH     {r4-r7,lr}
;;;2172                            unsigned short can_port, // CAN interface number
;;;2173                            unsigned int CANID // 11-bit CAN ID
;;;2174                            )
;;;2175   {
;;;2176   unsigned int p, n;
;;;2177   unsigned int buf0, buf1;
;;;2178   unsigned int ID_lower, ID_upper;
;;;2179   unsigned int candata;
;;;2180   unsigned int *pAddr;
;;;2181   
;;;2182    
;;;2183   
;;;2184   // Acceptance Filter Mode Register = off !
;;;2185   LPC_CANAF->AFMR = 0x00000001L;
00224c  4e43              LDR      r6,|L1.9052|
00224e  2701              MOVS     r7,#1
002250  6037              STR      r7,[r6,#0]
;;;2186   
;;;2187   if (gCANFilter == 0)
002252  4d3d              LDR      r5,|L1.9032|
002254  8aaa              LDRH     r2,[r5,#0x14]  ; gCANFilter
;;;2188        {    
;;;2189        // First call, init entry zero
;;;2190        gFullCANList[0].Dat1 = 0x000037FFL; // CAN 1, disabled and unused
002256  4c37              LDR      r4,|L1.9012|
002258  340c              ADDS     r4,r4,#0xc
00225a  b912              CBNZ     r2,|L1.8802|
00225c  f24372ff          MOV      r2,#0x37ff
002260  6022              STR      r2,[r4,#0]  ; gFullCANList
                  |L1.8802|
;;;2191        }
;;;2192   if (gCANFilter >= MAX_FILTERS)
002262  f9b52014          LDRSH    r2,[r5,#0x14]  ; gCANFilter
002266  2a02              CMP      r2,#2
002268  db01              BLT      |L1.8814|
;;;2193        {
;;;2194        return 0;
00226a  2000              MOVS     r0,#0
;;;2195        }
;;;2196   
;;;2197   CANID &= 0x000007FFL; // Mask out 11-bit ID
;;;2198   CANID |= (can_port << 13); // Put can_port info in bits 13-15
;;;2199   
;;;2200   // Filters must be sorted by interface, then by priority
;;;2201   // new filter is sorted into array
;;;2202   p = 0;
;;;2203   while (p < gCANFilter) // loop through all existing filters 
;;;2204        {
;;;2205        if ((gFullCANList[p].Dat1 & 0x0000FFFFL) > CANID)
;;;2206             {
;;;2207             break;
;;;2208             }
;;;2209        p++;
;;;2210        }
;;;2211   
;;;2212   // insert new filter here
;;;2213   buf0 = gFullCANList[p].Dat1; // save current entry
;;;2214   gFullCANList[p].Dat1 = CANID; // insert the new entry
;;;2215   
;;;2216   // move all remaining entries one row up
;;;2217   gCANFilter++;
;;;2218   while (p < gCANFilter)
;;;2219        {
;;;2220        p++;
;;;2221        buf1 = gFullCANList[p].Dat1;
;;;2222        gFullCANList[p].Dat1 = buf0;
;;;2223        buf0 = buf1;
;;;2224        }
;;;2225   
;;;2226   // Now work on Acceptance Filter Configuration     
;;;2227   // Set CAN filter for 11-bit standard identifiers
;;;2228   p = 0;
;;;2229   
;;;2230   // Set pointer for Standard Frame Individual
;;;2231   // Standard Frame Explicit
;;;2232   LPC_CANAF->SFF_sa = p;
;;;2233   
;;;2234   pAddr = (unsigned int *) LPC_CANAF_RAM_BASE;
;;;2235   for (n = 0; n < ((gCANFilter+1)/2); n++)
;;;2236        {
;;;2237        ID_lower = gFullCANList[n * 2].Dat1 & 0x0000FFFFL;
;;;2238        ID_upper = gFullCANList[n * 2 + 1].Dat1 & 0x0000FFFFL;
;;;2239        candata = (ID_lower << 16) + ID_upper;
;;;2240        *pAddr = candata;
;;;2241        p += 4;
;;;2242        pAddr++;
;;;2243        }
;;;2244   
;;;2245   // p is still pointing to ENDofTable;
;;;2246     
;;;2247   // Set pointer for Standard Frame Groups
;;;2248   // Standard Frame Group Start Address Register
;;;2249   LPC_CANAF->SFF_GRP_sa = p;
;;;2250   
;;;2251   // Set pointer for Extended Frame Individual
;;;2252   // Extended Frame Start Address Register
;;;2253   LPC_CANAF->EFF_sa = p;
;;;2254   
;;;2255   // Set pointer for Extended Frame Groups
;;;2256   // Extended Frame Group Start Address Register
;;;2257   LPC_CANAF->EFF_GRP_sa = p;
;;;2258   
;;;2259   // Set ENDofTable 
;;;2260   // End of AF Tables Register
;;;2261   LPC_CANAF->ENDofTable = p;
;;;2262   
;;;2263   // Acceptance Filter Mode Register, start using filter
;;;2264   LPC_CANAF->AFMR = 0;
;;;2265     
;;;2266   return 1;
;;;2267   
;;;2268   /*
;;;2269     // Acceptance Filter Mode Register = off !
;;;2270   LPC_CANAF->AFMR = 0x00000001L;
;;;2271   
;;;2272     if (gCANFilter == 0)
;;;2273     { // First call, init entry zero
;;;2274       gFullCANList[0].Dat1 = 0x000037FFL; // CAN 1, disabled and unused
;;;2275     }
;;;2276     if (gCANFilter >= MAX_FILTERS)
;;;2277     {
;;;2278       return 0;
;;;2279     }
;;;2280   
;;;2281     CANID &= 0x000007FFL; // Mask out 11-bit ID
;;;2282     CANID |= (can_port << 13); // Put can_port info in bits 13-15
;;;2283   
;;;2284     // Filters must be sorted by interface, then by priority
;;;2285     // new filter is sorted into array
;;;2286     p = 0;
;;;2287     while (p < gCANFilter) // loop through all existing filters 
;;;2288     {
;;;2289       if ((gFullCANList[p].Dat1 & 0x0000FFFFL) > CANID)
;;;2290       {
;;;2291         break;
;;;2292       }
;;;2293       p++;
;;;2294     }
;;;2295   
;;;2296     // insert new filter here
;;;2297     buf0 = gFullCANList[p].Dat1; // save current entry
;;;2298     gFullCANList[p].Dat1 = CANID; // insert the new entry
;;;2299   
;;;2300     // move all remaining entries one row up
;;;2301     gCANFilter++;
;;;2302     while (p < gCANFilter)
;;;2303     {
;;;2304       p++;
;;;2305       buf1 = gFullCANList[p].Dat1;
;;;2306       gFullCANList[p].Dat1 = buf0;
;;;2307       buf0 = buf1;
;;;2308     }
;;;2309   
;;;2310     // Now work on Acceptance Filter Configuration     
;;;2311     // Set CAN filter for 11-bit standard identifiers
;;;2312     p = 0;
;;;2313   
;;;2314     // Set pointer for Standard Frame Individual
;;;2315     // Standard Frame Explicit
;;;2316   LPC_CANAF->SFF_sa = p;
;;;2317   
;;;2318     pAddr = (unsigned int *) ACCEPTANCE_FILTER_RAM_BASE;
;;;2319     for (n = 0; n < ((gCANFilter+1)/2); n++)
;;;2320     {
;;;2321       ID_lower = gFullCANList[n * 2].Dat1 & 0x0000FFFFL;
;;;2322       ID_upper = gFullCANList[n * 2 + 1].Dat1 & 0x0000FFFFL;
;;;2323       candata = (ID_lower << 16) + ID_upper;
;;;2324       *pAddr = candata;
;;;2325       p += 4;
;;;2326       pAddr++;
;;;2327     }
;;;2328   
;;;2329     // p is still pointing to ENDofTable;
;;;2330     
;;;2331     // Set pointer for Standard Frame Groups
;;;2332     // Standard Frame Group Start Address Register
;;;2333   LPC_CANAF->SFF_GRP_sa = p;
;;;2334   
;;;2335     // Set pointer for Extended Frame Individual
;;;2336     // Extended Frame Start Address Register
;;;2337   LPC_CANAF->EFF_sa = p;
;;;2338   
;;;2339     // Set pointer for Extended Frame Groups
;;;2340     // Extended Frame Group Start Address Register
;;;2341   LPC_CANAF->EFF_GRP_sa = p;
;;;2342   
;;;2343     // Set ENDofTable 
;;;2344     // End of AF Tables Register
;;;2345   LPC_CANAF->ENDofTable = p;
;;;2346   
;;;2347     // Acceptance Filter Mode Register, start using filter
;;;2348   LPC_CANAF->AFMR = 0;
;;;2349     
;;;2350     return 1;	 */
;;;2351   }
00226c  bdf0              POP      {r4-r7,pc}
                  |L1.8814|
00226e  f3c1010a          UBFX     r1,r1,#0,#11          ;2197
002272  ea413140          ORR      r1,r1,r0,LSL #13      ;2198
002276  2000              MOVS     r0,#0                 ;2202
002278  e007              B        |L1.8842|
                  |L1.8826|
00227a  eb000240          ADD      r2,r0,r0,LSL #1       ;2205
00227e  f8542022          LDR      r2,[r4,r2,LSL #2]     ;2205
002282  b292              UXTH     r2,r2                 ;2205
002284  428a              CMP      r2,r1                 ;2205
002286  d804              BHI      |L1.8850|
002288  1c40              ADDS     r0,r0,#1              ;2209
                  |L1.8842|
00228a  f9b52014          LDRSH    r2,[r5,#0x14]         ;2203  ; gCANFilter
00228e  4290              CMP      r0,r2                 ;2203
002290  d3f3              BCC      |L1.8826|
                  |L1.8850|
002292  eb000340          ADD      r3,r0,r0,LSL #1       ;2213
002296  f8542023          LDR      r2,[r4,r3,LSL #2]     ;2213
00229a  f8441023          STR      r1,[r4,r3,LSL #2]     ;2214
00229e  8aa9              LDRH     r1,[r5,#0x14]         ;2217  ; gCANFilter
0022a0  1c49              ADDS     r1,r1,#1              ;2217
0022a2  82a9              STRH     r1,[r5,#0x14]         ;2217
0022a4  e007              B        |L1.8886|
                  |L1.8870|
0022a6  1c40              ADDS     r0,r0,#1              ;2220
0022a8  eb000140          ADD      r1,r0,r0,LSL #1       ;2221
0022ac  f8543021          LDR      r3,[r4,r1,LSL #2]     ;2221
0022b0  f8442021          STR      r2,[r4,r1,LSL #2]     ;2222
0022b4  461a              MOV      r2,r3                 ;2223
                  |L1.8886|
0022b6  f9b51014          LDRSH    r1,[r5,#0x14]         ;2218  ; gCANFilter
0022ba  4288              CMP      r0,r1                 ;2218
0022bc  d3f3              BCC      |L1.8870|
0022be  2100              MOVS     r1,#0                 ;2228
0022c0  6071              STR      r1,[r6,#4]            ;2232
0022c2  4a27              LDR      r2,|L1.9056|
0022c4  2000              MOVS     r0,#0                 ;2235
0022c6  e00f              B        |L1.8936|
                  |L1.8904|
0022c8  eb000340          ADD      r3,r0,r0,LSL #1       ;2237
0022cc  f854c033          LDR      r12,[r4,r3,LSL #3]    ;2237
0022d0  eb070340          ADD      r3,r7,r0,LSL #1       ;2238
0022d4  eb030343          ADD      r3,r3,r3,LSL #1       ;2238
0022d8  f8543023          LDR      r3,[r4,r3,LSL #2]     ;2238
0022dc  b29b              UXTH     r3,r3                 ;2238
0022de  eb03430c          ADD      r3,r3,r12,LSL #16     ;2239
0022e2  c208              STM      r2!,{r3}              ;2240
0022e4  1d09              ADDS     r1,r1,#4              ;2241
0022e6  1c40              ADDS     r0,r0,#1              ;2235
                  |L1.8936|
0022e8  f9b53014          LDRSH    r3,[r5,#0x14]         ;2235  ; gCANFilter
0022ec  1c5b              ADDS     r3,r3,#1              ;2235
0022ee  eb0373d3          ADD      r3,r3,r3,LSR #31      ;2235
0022f2  ebb00f63          CMP      r0,r3,ASR #1          ;2235
0022f6  d3e7              BCC      |L1.8904|
0022f8  60b1              STR      r1,[r6,#8]            ;2249
0022fa  60f1              STR      r1,[r6,#0xc]          ;2253
0022fc  6131              STR      r1,[r6,#0x10]         ;2257
0022fe  6171              STR      r1,[r6,#0x14]         ;2261
002300  2000              MOVS     r0,#0                 ;2264
002302  6030              STR      r0,[r6,#0]            ;2264
002304  2001              MOVS     r0,#1                 ;2266
002306  bdf0              POP      {r4-r7,pc}
;;;2352   
                          ENDP

                  CAN_IRQHandler PROC
;;;2353   //-----------------------------------------------
;;;2354   void CAN_IRQHandler(void)  
002308  b510              PUSH     {r4,lr}
;;;2355   {
;;;2356   //can_rotor[0]++;
;;;2357   CANStatus = LPC_CAN1->ICR;
00230a  480b              LDR      r0,|L1.9016|
00230c  68c0              LDR      r0,[r0,#0xc]
00230e  4c0e              LDR      r4,|L1.9032|
002310  61a0              STR      r0,[r4,#0x18]  ; CANStatus
;;;2358   //new_rotor[3]=CANStatus;
;;;2359   //new_rotor[4]=CANStatus>>16;
;;;2360   //
;;;2361   //rotor_rotor_rotor[0]++;
;;;2362   		
;;;2363   if ( CANStatus & (1 << 0) )
002312  69a0              LDR      r0,[r4,#0x18]  ; CANStatus
002314  07c0              LSLS     r0,r0,#31
002316  d004              BEQ      |L1.8994|
;;;2364        {
;;;2365   	CAN_ISR_Rx1();
002318  f7fffffe          BL       CAN_ISR_Rx1
;;;2366   	plazma_can1++;
00231c  7be0              LDRB     r0,[r4,#0xf]  ; plazma_can1
00231e  1c40              ADDS     r0,r0,#1
002320  73e0              STRB     r0,[r4,#0xf]
                  |L1.8994|
;;;2367        }
;;;2368   
;;;2369   if ( CANStatus & (1 << 1) )
002322  69a0              LDR      r0,[r4,#0x18]  ; CANStatus
002324  0780              LSLS     r0,r0,#30
002326  d504              BPL      |L1.9010|
;;;2370        {
;;;2371   	can_isr_tx1();
002328  f7fffffe          BL       can_isr_tx1
;;;2372   	plazma_can2++;
00232c  7c20              LDRB     r0,[r4,#0x10]  ; plazma_can2
00232e  1c40              ADDS     r0,r0,#1
002330  7420              STRB     r0,[r4,#0x10]
                  |L1.9010|
;;;2373   	
;;;2374        }
;;;2375   
;;;2376   CANStatus = LPC_CAN2->ICR;
002332  e017              B        |L1.9060|
                  |L1.9012|
                          DCD      ||.bss||+0x100
                  |L1.9016|
                          DCD      0x40044000
                  |L1.9020|
                          DCD      0xc0000400
                  |L1.9024|
                          DCD      0xc00f0000
                  |L1.9028|
                          DCD      0x01002000
                  |L1.9032|
                          DCD      ||.data||
                  |L1.9036|
                          DCD      0x40048000
                  |L1.9040|
                          DCD      ||.bss||
                  |L1.9044|
                          DCD      0x400fc0c4
                  |L1.9048|
                          DCD      0x4002c000
                  |L1.9052|
                          DCD      0x4003c000
                  |L1.9056|
                          DCD      0x40038000
                  |L1.9060|
002364  4812              LDR      r0,|L1.9136|
002366  68c0              LDR      r0,[r0,#0xc]
002368  61a0              STR      r0,[r4,#0x18]  ; CANStatus
;;;2377   //new_rotor[3]=CANStatus;
;;;2378   //new_rotor[4]=CANStatus>>16;
;;;2379   //
;;;2380   //rotor_rotor_rotor[0]++;
;;;2381   plazma_can++;		
00236a  7ba0              LDRB     r0,[r4,#0xe]  ; plazma_can
00236c  1c40              ADDS     r0,r0,#1
00236e  73a0              STRB     r0,[r4,#0xe]
;;;2382   if ( CANStatus & (1 << 0) )
002370  69a0              LDR      r0,[r4,#0x18]  ; CANStatus
002372  07c0              LSLS     r0,r0,#31
002374  d006              BEQ      |L1.9092|
;;;2383        {
;;;2384   	CAN_ISR_Rx2();
002376  f7fffffe          BL       CAN_ISR_Rx2
;;;2385   	plazma_can3++;
00237a  7c60              LDRB     r0,[r4,#0x11]  ; plazma_can3
00237c  1c40              ADDS     r0,r0,#1
00237e  7460              STRB     r0,[r4,#0x11]
;;;2386   	cnt_can_pal=0;
002380  2000              MOVS     r0,#0
002382  7320              STRB     r0,[r4,#0xc]
                  |L1.9092|
;;;2387   
;;;2388        }
;;;2389   
;;;2390   if ( CANStatus & (1 << 1) )
002384  69a0              LDR      r0,[r4,#0x18]  ; CANStatus
002386  0780              LSLS     r0,r0,#30
002388  d504              BPL      |L1.9108|
;;;2391        {
;;;2392   	can_isr_tx2();
00238a  f7fffffe          BL       can_isr_tx2
;;;2393   	 plazma_can4++;
00238e  7ca0              LDRB     r0,[r4,#0x12]  ; plazma_can4
002390  1c40              ADDS     r0,r0,#1
002392  74a0              STRB     r0,[r4,#0x12]
                  |L1.9108|
;;;2394   	
;;;2395        }
;;;2396   
;;;2397   return;
;;;2398   }
002394  bd10              POP      {r4,pc}
;;;2399   
                          ENDP

                  NVIC_EnableIRQ PROC
;;;1501    */
;;;1502   static __INLINE void NVIC_EnableIRQ(IRQn_Type IRQn)
002396  f000021f          AND      r2,r0,#0x1f
;;;1503   {
;;;1504     NVIC->ISER[((uint32_t)(IRQn) >> 5)] = (1 << ((uint32_t)(IRQn) & 0x1F)); /* enable interrupt */
00239a  2101              MOVS     r1,#1
00239c  4091              LSLS     r1,r1,r2
00239e  0940              LSRS     r0,r0,#5
0023a0  f04f22e0          MOV      r2,#0xe000e000
0023a4  eb020080          ADD      r0,r2,r0,LSL #2
0023a8  f8c01100          STR      r1,[r0,#0x100]
;;;1505   }
0023ac  4770              BX       lr
;;;1506   
                          ENDP

0023ae  0000              DCW      0x0000
                  |L1.9136|
                          DCD      0x40048000

                          AREA ||.bss||, DATA, NOINIT, ALIGN=2

                  can1_info
                          %        32
                  can1_id
                          %        32
                  can1_data
                          %        32
                  can1_datb
                          %        32
                  can2_info
                          %        32
                  can2_id
                          %        32
                  can2_data
                          %        32
                  can2_datb
                          %        32
                  rotor_can
                          %        12
                  gFullCANList
                          %        24
                  RXBUFF
                          %        40
                  TXBUFF
                          %        40
                  can_rotor
                          %        10
                  can_debug_plazma
                          %        20
                  plazma_can_pal
                          %        20
                  ccc_plazma
                          %        20

                          AREA ||area_number.4||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.4||, ||.bss||
                  bd_dumm
                          %        25

                          AREA ||area_number.5||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.5||, ||.bss||
                  ||bd||
                          %        25

                          AREA ||area_number.6||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.6||, ||.bss||
                  RXBUFF2
                          %        40

                          AREA ||area_number.7||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.7||, ||.bss||
                  TXBUFF2
                          %        40

                          AREA ||.constdata||, DATA, READONLY, ALIGN=0

                  Table87
000000  000e1c12          DCB      0x00,0x0e,0x1c,0x12
000004  3836242a          DCB      0x38,0x36,0x24,0x2a
000008  707e6c62          DCB      0x70,0x7e,0x6c,0x62
00000c  4846545a          DCB      0x48,0x46,0x54,0x5a
000010  e0eefcf2          DCB      0xe0,0xee,0xfc,0xf2
000014  d8d6c4ca          DCB      0xd8,0xd6,0xc4,0xca
000018  909e8c82          DCB      0x90,0x9e,0x8c,0x82
00001c  a8a6b4ba          DCB      0xa8,0xa6,0xb4,0xba
000020  cec0d2dc          DCB      0xce,0xc0,0xd2,0xdc
000024  f6f8eae4          DCB      0xf6,0xf8,0xea,0xe4
000028  beb0a2ac          DCB      0xbe,0xb0,0xa2,0xac
00002c  86889a94          DCB      0x86,0x88,0x9a,0x94
000030  2e20323c          DCB      0x2e,0x20,0x32,0x3c
000034  16180a04          DCB      0x16,0x18,0x0a,0x04
000038  5e50424c          DCB      0x5e,0x50,0x42,0x4c
00003c  66687a74          DCB      0x66,0x68,0x7a,0x74
000040  929c8e80          DCB      0x92,0x9c,0x8e,0x80
000044  aaa4b6b8          DCB      0xaa,0xa4,0xb6,0xb8
000048  e2ecfef0          DCB      0xe2,0xec,0xfe,0xf0
00004c  dad4c6c8          DCB      0xda,0xd4,0xc6,0xc8
000050  727c6e60          DCB      0x72,0x7c,0x6e,0x60
000054  4a445658          DCB      0x4a,0x44,0x56,0x58
000058  020c1e10          DCB      0x02,0x0c,0x1e,0x10
00005c  3a342628          DCB      0x3a,0x34,0x26,0x28
000060  5c52404e          DCB      0x5c,0x52,0x40,0x4e
000064  646a7876          DCB      0x64,0x6a,0x78,0x76
000068  2c22303e          DCB      0x2c,0x22,0x30,0x3e
00006c  141a0806          DCB      0x14,0x1a,0x08,0x06
000070  bcb2a0ae          DCB      0xbc,0xb2,0xa0,0xae
000074  848a9896          DCB      0x84,0x8a,0x98,0x96
000078  ccc2d0de          DCB      0xcc,0xc2,0xd0,0xde
00007c  f4fae8e6          DCB      0xf4,0xfa,0xe8,0xe6
000080  2a243638          DCB      0x2a,0x24,0x36,0x38
000084  121c0e00          DCB      0x12,0x1c,0x0e,0x00
000088  5a544648          DCB      0x5a,0x54,0x46,0x48
00008c  626c7e70          DCB      0x62,0x6c,0x7e,0x70
000090  cac4d6d8          DCB      0xca,0xc4,0xd6,0xd8
000094  f2fceee0          DCB      0xf2,0xfc,0xee,0xe0
000098  bab4a6a8          DCB      0xba,0xb4,0xa6,0xa8
00009c  828c9e90          DCB      0x82,0x8c,0x9e,0x90
0000a0  e4eaf8f6          DCB      0xe4,0xea,0xf8,0xf6
0000a4  dcd2c0ce          DCB      0xdc,0xd2,0xc0,0xce
0000a8  949a8886          DCB      0x94,0x9a,0x88,0x86
0000ac  aca2b0be          DCB      0xac,0xa2,0xb0,0xbe
0000b0  040a1816          DCB      0x04,0x0a,0x18,0x16
0000b4  3c32202e          DCB      0x3c,0x32,0x20,0x2e
0000b8  747a6866          DCB      0x74,0x7a,0x68,0x66
0000bc  4c42505e          DCB      0x4c,0x42,0x50,0x5e
0000c0  b8b6a4aa          DCB      0xb8,0xb6,0xa4,0xaa
0000c4  808e9c92          DCB      0x80,0x8e,0x9c,0x92
0000c8  c8c6d4da          DCB      0xc8,0xc6,0xd4,0xda
0000cc  f0feece2          DCB      0xf0,0xfe,0xec,0xe2
0000d0  5856444a          DCB      0x58,0x56,0x44,0x4a
0000d4  606e7c72          DCB      0x60,0x6e,0x7c,0x72
0000d8  2826343a          DCB      0x28,0x26,0x34,0x3a
0000dc  101e0c02          DCB      0x10,0x1e,0x0c,0x02
0000e0  76786a64          DCB      0x76,0x78,0x6a,0x64
0000e4  4e40525c          DCB      0x4e,0x40,0x52,0x5c
0000e8  06081a14          DCB      0x06,0x08,0x1a,0x14
0000ec  3e30222c          DCB      0x3e,0x30,0x22,0x2c
0000f0  96988a84          DCB      0x96,0x98,0x8a,0x84
0000f4  aea0b2bc          DCB      0xae,0xa0,0xb2,0xbc
0000f8  e6e8faf4          DCB      0xe6,0xe8,0xfa,0xf4
0000fc  ded0c2cc          DCB      0xde,0xd0,0xc2,0xcc
                  Table95
000100  002a547e          DCB      0x00,0x2a,0x54,0x7e
000104  a882fcd6          DCB      0xa8,0x82,0xfc,0xd6
000108  7a502e04          DCB      0x7a,0x50,0x2e,0x04
00010c  d2f886ac          DCB      0xd2,0xf8,0x86,0xac
000110  f4dea08a          DCB      0xf4,0xde,0xa0,0x8a
000114  5c760822          DCB      0x5c,0x76,0x08,0x22
000118  8ea4daf0          DCB      0x8e,0xa4,0xda,0xf0
00011c  260c7258          DCB      0x26,0x0c,0x72,0x58
000120  c2e896bc          DCB      0xc2,0xe8,0x96,0xbc
000124  6a403e14          DCB      0x6a,0x40,0x3e,0x14
000128  b892ecc6          DCB      0xb8,0x92,0xec,0xc6
00012c  103a446e          DCB      0x10,0x3a,0x44,0x6e
000130  361c6248          DCB      0x36,0x1c,0x62,0x48
000134  9eb4cae0          DCB      0x9e,0xb4,0xca,0xe0
000138  4c661832          DCB      0x4c,0x66,0x18,0x32
00013c  e4ceb09a          DCB      0xe4,0xce,0xb0,0x9a
000140  ae84fad0          DCB      0xae,0x84,0xfa,0xd0
000144  062c5278          DCB      0x06,0x2c,0x52,0x78
000148  d4fe80aa          DCB      0xd4,0xfe,0x80,0xaa
00014c  7c562802          DCB      0x7c,0x56,0x28,0x02
000150  5a700e24          DCB      0x5a,0x70,0x0e,0x24
000154  f2d8a68c          DCB      0xf2,0xd8,0xa6,0x8c
000158  200a745e          DCB      0x20,0x0a,0x74,0x5e
00015c  88a2dcf6          DCB      0x88,0xa2,0xdc,0xf6
000160  6c463812          DCB      0x6c,0x46,0x38,0x12
000164  c4ee90ba          DCB      0xc4,0xee,0x90,0xba
000168  163c4268          DCB      0x16,0x3c,0x42,0x68
00016c  be94eac0          DCB      0xbe,0x94,0xea,0xc0
000170  98b2cce6          DCB      0x98,0xb2,0xcc,0xe6
000174  301a644e          DCB      0x30,0x1a,0x64,0x4e
000178  e2c8b69c          DCB      0xe2,0xc8,0xb6,0x9c
00017c  4a601e34          DCB      0x4a,0x60,0x1e,0x34
000180  765c2208          DCB      0x76,0x5c,0x22,0x08
000184  def48aa0          DCB      0xde,0xf4,0x8a,0xa0
000188  0c265872          DCB      0x0c,0x26,0x58,0x72
00018c  a48ef0da          DCB      0xa4,0x8e,0xf0,0xda
000190  82a8d6fc          DCB      0x82,0xa8,0xd6,0xfc
000194  2a007e54          DCB      0x2a,0x00,0x7e,0x54
000198  f8d2ac86          DCB      0xf8,0xd2,0xac,0x86
00019c  507a042e          DCB      0x50,0x7a,0x04,0x2e
0001a0  b49ee0ca          DCB      0xb4,0x9e,0xe0,0xca
0001a4  1c364862          DCB      0x1c,0x36,0x48,0x62
0001a8  cee49ab0          DCB      0xce,0xe4,0x9a,0xb0
0001ac  664c3218          DCB      0x66,0x4c,0x32,0x18
0001b0  406a143e          DCB      0x40,0x6a,0x14,0x3e
0001b4  e8c2bc96          DCB      0xe8,0xc2,0xbc,0x96
0001b8  3a106e44          DCB      0x3a,0x10,0x6e,0x44
0001bc  92b8c6ec          DCB      0x92,0xb8,0xc6,0xec
0001c0  d8f28ca6          DCB      0xd8,0xf2,0x8c,0xa6
0001c4  705a240e          DCB      0x70,0x5a,0x24,0x0e
0001c8  a288f6dc          DCB      0xa2,0x88,0xf6,0xdc
0001cc  0a205e74          DCB      0x0a,0x20,0x5e,0x74
0001d0  2c067852          DCB      0x2c,0x06,0x78,0x52
0001d4  84aed0fa          DCB      0x84,0xae,0xd0,0xfa
0001d8  567c0228          DCB      0x56,0x7c,0x02,0x28
0001dc  fed4aa80          DCB      0xfe,0xd4,0xaa,0x80
0001e0  1a304e64          DCB      0x1a,0x30,0x4e,0x64
0001e4  b298e6cc          DCB      0xb2,0x98,0xe6,0xcc
0001e8  604a341e          DCB      0x60,0x4a,0x34,0x1e
0001ec  c8e29cb6          DCB      0xc8,0xe2,0x9c,0xb6
0001f0  eec4ba90          DCB      0xee,0xc4,0xba,0x90
0001f4  466c1238          DCB      0x46,0x6c,0x12,0x38
0001f8  94bec0ea          DCB      0x94,0xbe,0xc0,0xea
0001fc  3c166842          DCB      0x3c,0x16,0x68,0x42

                          AREA ||.data||, DATA, ALIGN=2

                  bOUT_FREE
000000  01                DCB      0x01
                  bOUT_FREE2
000001  01                DCB      0x01
                  can_reset_cnt
000002  00                DCB      0x00
                  ptr_can1_tx_wr
000003  00                DCB      0x00
                  ptr_can1_tx_rd
000004  00                DCB      0x00
                  ptr_can2_tx_wr
000005  00                DCB      0x00
                  ptr_can2_tx_rd
000006  00                DCB      0x00
                  ||bR||
000007  00                DCB      0x00
                  bIN
000008  00                DCB      0x00
                  bIN2
000009  00                DCB      0x00
                  TX_len
00000a  00                DCB      0x00
                  can_tx_cnt
00000b  00                DCB      0x00
                  cnt_can_pal
00000c  00                DCB      0x00
                  plazma_can_pal_index
00000d  00                DCB      0x00
                  plazma_can
00000e  00                DCB      0x00
                  plazma_can1
00000f  00                DCB      0x00
                  plazma_can2
000010  00                DCB      0x00
                  plazma_can3
000011  00                DCB      0x00
                  plazma_can4
000012  0000              DCB      0x00,0x00
                  gCANFilter
000014  0000              DCW      0x0000
                  can2_tx_cnt
000016  0000              DCB      0x00,0x00
                  CANStatus
                          DCD      0x00000000

                          AREA ||area_number.11||, DATA, ALIGN=0

                          EXPORTAS ||area_number.11||, ||.data||
                  rotor_rotor_rotor
000000  0000              DCB      0x00,0x00
