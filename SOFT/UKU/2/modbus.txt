; generated by ARM C/C++ Compiler, 4.1 [Build 644]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\EXE\modbus.o --asm_dir=.\ --list_dir=.\ --depend=.\EXE\modbus.d --feedback=.\EXE\UKU_220_IPS_TERMOKOMPENSAT.fed --cpu=Cortex-M3 --apcs=interwork -O1 -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\INC\NXP\LPC17xx -D__MICROLIB -DUKU_220_IPS_TERMOKOMPENSAT -DUKU2071x --omf_browse=.\EXE\modbus.crf modbus.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  CRC16_2 PROC
;;;34     //-----------------------------------------------
;;;35     unsigned short CRC16_2(char* buf, short len)
000000  b570              PUSH     {r4-r6,lr}
;;;36     {
000002  4605              MOV      r5,r0
;;;37     unsigned short crc = 0xFFFF;
000004  f64f70ff          MOV      r0,#0xffff
;;;38     short pos;
;;;39     short i;
;;;40     
;;;41     for (pos = 0; pos < len; pos++)
000008  f04f0300          MOV      r3,#0
;;;42       	{
;;;43         	crc ^= (unsigned short)buf[pos];          // XOR byte into least sig. byte of crc
;;;44     
;;;45         	for ( i = 8; i != 0; i--) 
;;;46     		{    // Loop over each bit
;;;47           	if ((crc & 0x0001) != 0) 
;;;48     			{      // If the LSB is set
;;;49             		crc >>= 1;                    // Shift right and XOR 0xA001
;;;50             		crc ^= 0xA001;
00000c  f24a0401          MOV      r4,#0xa001
000010  e015              B        |L1.62|
                  |L1.18|
000012  5cea              LDRB     r2,[r5,r3]            ;43
000014  ea820000          EOR      r0,r2,r0              ;43
000018  f04f0208          MOV      r2,#8                 ;45
                  |L1.28|
00001c  07c6              LSLS     r6,r0,#31             ;47
00001e  d004              BEQ      |L1.42|
000020  ea4f0050          LSR      r0,r0,#1              ;49
000024  ea800004          EOR      r0,r0,r4
000028  e001              B        |L1.46|
                  |L1.42|
;;;51           		}
;;;52           	else  crc >>= 1;                    // Just shift right
00002a  ea4f0050          LSR      r0,r0,#1
                  |L1.46|
00002e  f1a20201          SUB      r2,r2,#1              ;45
000032  b212              SXTH     r2,r2                 ;45
000034  2a00              CMP      r2,#0                 ;45
000036  d1f1              BNE      |L1.28|
000038  f1030301          ADD      r3,r3,#1              ;41
00003c  b21b              SXTH     r3,r3                 ;41
                  |L1.62|
00003e  428b              CMP      r3,r1                 ;41
000040  dbe7              BLT      |L1.18|
;;;53         		}
;;;54       	}
;;;55       // Note, this number has low and high bytes swapped, so use it accordingly (or swap bytes)
;;;56     return crc;
;;;57     }
000042  bd70              POP      {r4-r6,pc}
;;;58     
                          ENDP

                  modbus_hold_register_transmit PROC
;;;313    //-----------------------------------------------
;;;314    void modbus_register_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr)
;;;315    {
;;;316    //char modbus_registers[150];
;;;317    char modbus_tx_buff[50];
;;;318    unsigned short crc_temp;
;;;319    char i;
;;;320    
;;;321    
;;;322    modbus_registers[0]=(char)(load_U/256);					//Πεγ1
;;;323    modbus_registers[1]=(char)(load_U%256);
;;;324    modbus_registers[2]=(char)(load_I/256);					//Πεγ2
;;;325    modbus_registers[3]=(char)(load_I%256);
;;;326    modbus_registers[4]=(char)(Ib_ips_termokompensat/256);		//Πεγ3
000044  b5f0              PUSH     {r4-r7,lr}
000046  b0a7              SUB      sp,sp,#0x9c
000048  4bff              LDR      r3,|L1.1096|
00004a  8f9b              LDRH     r3,[r3,#0x3c]
;;;327    modbus_registers[5]=(char)(Ib_ips_termokompensat%256);
00004c  ea4f2413          LSR      r4,r3,#8
;;;328    modbus_registers[6]=(char)(t_ext[0]/256);				//Πεγ4
000050  4bfe              LDR      r3,|L1.1100|
000052  701c              STRB     r4,[r3,#0]
000054  4cfc              LDR      r4,|L1.1096|
000056  8fa4              LDRH     r4,[r4,#0x3c]
000058  705c              STRB     r4,[r3,#1]
00005a  4cfb              LDR      r4,|L1.1096|
00005c  f8944038          LDRB     r4,[r4,#0x38]
000060  f04f0400          MOV      r4,#0
;;;329    modbus_registers[7]=(char)(t_ext[0]%256);
000064  709c              STRB     r4,[r3,#2]
;;;330    modbus_registers[8]=(char)(net_Ua/256);					//Πεγ5
000066  4dfa              LDR      r5,|L1.1104|
000068  782d              LDRB     r5,[r5,#0]
00006a  70dd              STRB     r5,[r3,#3]
00006c  4df9              LDR      r5,|L1.1108|
00006e  782d              LDRB     r5,[r5,#0]
000070  711c              STRB     r4,[r3,#4]
000072  4df8              LDR      r5,|L1.1108|
000074  782d              LDRB     r5,[r5,#0]
000076  715d              STRB     r5,[r3,#5]
000078  4df7              LDR      r5,|L1.1112|
00007a  782d              LDRB     r5,[r5,#0]
;;;331    modbus_registers[9]=(char)(net_Ua%256);		 	
00007c  719c              STRB     r4,[r3,#6]
;;;332    modbus_registers[10]=(char)(net_Ub/256);				//Πεγ6
00007e  4df6              LDR      r5,|L1.1112|
000080  782d              LDRB     r5,[r5,#0]
000082  71dd              STRB     r5,[r3,#7]
000084  4df5              LDR      r5,|L1.1116|
000086  782d              LDRB     r5,[r5,#0]
000088  721c              STRB     r4,[r3,#8]
00008a  4df4              LDR      r5,|L1.1116|
00008c  782d              LDRB     r5,[r5,#0]
00008e  725d              STRB     r5,[r3,#9]
000090  4df3              LDR      r5,|L1.1120|
000092  782d              LDRB     r5,[r5,#0]
;;;333    modbus_registers[11]=(char)(net_Ub%256);
000094  729c              STRB     r4,[r3,#0xa]
;;;334    modbus_registers[12]=(char)(net_Uc/256);				//Πεγ7
000096  4cf2              LDR      r4,|L1.1120|
000098  7824              LDRB     r4,[r4,#0]
00009a  72dc              STRB     r4,[r3,#0xb]
00009c  f1030312          ADD      r3,r3,#0x12
0000a0  4cf0              LDR      r4,|L1.1124|
0000a2  f9b44000          LDRSH    r4,[r4,#0]  ; NUMIST
0000a6  ea4f75e4          ASR      r5,r4,#31
0000aa  eb046515          ADD      r5,r4,r5,LSR #24
;;;335    modbus_registers[13]=(char)(net_Uc%256);
;;;336    modbus_registers[14]=(char)(net_F3/256);				//Πεγ8
0000ae  ea4f2625          ASR      r6,r5,#8
0000b2  701e              STRB     r6,[r3,#0]
0000b4  705c              STRB     r4,[r3,#1]
0000b6  4cec              LDR      r4,|L1.1128|
0000b8  f9b44000          LDRSH    r4,[r4,#0]  ; PAR
0000bc  ea4f75e4          ASR      r5,r4,#31
0000c0  eb046515          ADD      r5,r4,r5,LSR #24
;;;337    modbus_registers[15]=(char)(net_F3%256);
0000c4  ea4f2625          ASR      r6,r5,#8
;;;338    modbus_registers[16]=(char)(load_I/256);				//Πεγ9
;;;339    modbus_registers[17]=(char)(load_I%256);
0000c8  709e              STRB     r6,[r3,#2]
;;;340    modbus_registers[18]=(char)(load_I/256);				//Πεγ10
0000ca  70dc              STRB     r4,[r3,#3]
;;;341    modbus_registers[19]=(char)(load_I%256);
0000cc  4ce7              LDR      r4,|L1.1132|
;;;342    modbus_registers[20]=(char)((LPC_RTC->YEAR)/256);			//Πεγ11
0000ce  f9b44000          LDRSH    r4,[r4,#0]  ; ZV_ON
0000d2  ea4f75e4          ASR      r5,r4,#31
0000d6  eb046515          ADD      r5,r4,r5,LSR #24
;;;343    modbus_registers[21]=(char)((LPC_RTC->YEAR)%256);
0000da  ea4f2625          ASR      r6,r5,#8
;;;344    modbus_registers[22]=(char)((LPC_RTC->MONTH)/256);		//Πεγ12
0000de  711e              STRB     r6,[r3,#4]
0000e0  715c              STRB     r4,[r3,#5]
0000e2  4ce3              LDR      r4,|L1.1136|
0000e4  f9b44000          LDRSH    r4,[r4,#0]  ; UBM_AV
;;;345    modbus_registers[23]=(char)((LPC_RTC->MONTH)%256);
0000e8  ea4f75e4          ASR      r5,r4,#31
0000ec  eb046515          ADD      r5,r4,r5,LSR #24
;;;346    modbus_registers[24]=(char)((LPC_RTC->DOM)/256);			//Πεγ13
0000f0  ea4f2625          ASR      r6,r5,#8
;;;347    modbus_registers[25]=(char)((LPC_RTC->DOM)%256);
0000f4  721e              STRB     r6,[r3,#8]
0000f6  725c              STRB     r4,[r3,#9]
0000f8  4cde              LDR      r4,|L1.1140|
0000fa  f9b44000          LDRSH    r4,[r4,#0]  ; TBAT
;;;348    modbus_registers[26]=(char)((LPC_RTC->HOUR)/256);			//Πεγ14
0000fe  ea4f75e4          ASR      r5,r4,#31
;;;349    modbus_registers[27]=(char)((LPC_RTC->HOUR)%256);
000102  eb046515          ADD      r5,r4,r5,LSR #24
000106  ea4f2625          ASR      r6,r5,#8
;;;350    modbus_registers[28]=(char)((LPC_RTC->MIN)/256);			//Πεγ15
00010a  751e              STRB     r6,[r3,#0x14]
00010c  755c              STRB     r4,[r3,#0x15]
00010e  4cda              LDR      r4,|L1.1144|
;;;351    modbus_registers[29]=(char)((LPC_RTC->MIN)%256);
000110  f9b44000          LDRSH    r4,[r4,#0]  ; UMAX
000114  ea4f75e4          ASR      r5,r4,#31
;;;352    modbus_registers[30]=(char)((LPC_RTC->SEC)/256);			//Πεγ16
000118  eb046515          ADD      r5,r4,r5,LSR #24
00011c  ea4f2625          ASR      r6,r5,#8
;;;353    modbus_registers[31]=(char)((LPC_RTC->SEC)%256);
000120  759e              STRB     r6,[r3,#0x16]
;;;354    modbus_registers[32]=(char)(load_I/256);				//Πεγ17
000122  75dc              STRB     r4,[r3,#0x17]
;;;355    modbus_registers[33]=(char)(load_I%256);
000124  4cd5              LDR      r4,|L1.1148|
;;;356    modbus_registers[34]=(char)(load_I/256);				//Πεγ18
000126  4dd6              LDR      r5,|L1.1152|
;;;357    modbus_registers[35]=(char)(load_I%256);
000128  f9b44000          LDRSH    r4,[r4,#0]  ; UB20
;;;358    modbus_registers[36]=(char)(load_I/256);		//Πεγ19
;;;359    modbus_registers[37]=(char)(load_I%256);
00012c  f9b55000          LDRSH    r5,[r5,#0]  ; DU
000130  eba40505          SUB      r5,r4,r5
;;;360    modbus_registers[38]=(char)(NUMIST/256);		//Πεγ20
000134  ea4f76e5          ASR      r6,r5,#31
000138  eb056616          ADD      r6,r5,r6,LSR #24
00013c  ea4f2726          ASR      r7,r6,#8
000140  761f              STRB     r7,[r3,#0x18]
000142  765d              STRB     r5,[r3,#0x19]
000144  4dcf              LDR      r5,|L1.1156|
000146  f9b55000          LDRSH    r5,[r5,#0]  ; UB0
;;;361    modbus_registers[39]=(char)(NUMIST%256);
;;;362    modbus_registers[40]=(char)(PAR/256);		//Πεγ21
00014a  ea4f76e5          ASR      r6,r5,#31
00014e  eb056616          ADD      r6,r5,r6,LSR #24
000152  ea4f2726          ASR      r7,r6,#8
000156  769f              STRB     r7,[r3,#0x1a]
000158  76dd              STRB     r5,[r3,#0x1b]
00015a  ea4f75e4          ASR      r5,r4,#31
00015e  eb046515          ADD      r5,r4,r5,LSR #24
;;;363    modbus_registers[41]=(char)(PAR%256);
;;;364    modbus_registers[42]=(char)(ZV_ON/256);		//Πεγ22
000162  ea4f2625          ASR      r6,r5,#8
000166  771e              STRB     r6,[r3,#0x1c]
000168  775c              STRB     r4,[r3,#0x1d]
00016a  4cc7              LDR      r4,|L1.1160|
00016c  f9b44000          LDRSH    r4,[r4,#0]  ; USIGN
000170  ea4f75e4          ASR      r5,r4,#31
000174  eb046515          ADD      r5,r4,r5,LSR #24
;;;365    modbus_registers[43]=(char)(ZV_ON%256);
000178  ea4f2625          ASR      r6,r5,#8
;;;366    modbus_registers[44]=(char)(TERMOKOMPENS/256);		//Πεγ23
00017c  779e              STRB     r6,[r3,#0x1e]
00017e  77dc              STRB     r4,[r3,#0x1f]
000180  4cc2              LDR      r4,|L1.1164|
000182  f9b44000          LDRSH    r4,[r4,#0]  ; UMN
000186  ea4f75e4          ASR      r5,r4,#31
00018a  eb046515          ADD      r5,r4,r5,LSR #24
00018e  ea4f2625          ASR      r6,r5,#8
;;;367    modbus_registers[45]=(char)(TERMOKOMPENS%256);
;;;368    modbus_registers[46]=(char)(UBM_AV/256);		//Πεγ24
000192  f8836020          STRB     r6,[r3,#0x20]
000196  f8834021          STRB     r4,[r3,#0x21]
00019a  4cbd              LDR      r4,|L1.1168|
00019c  f9b44000          LDRSH    r4,[r4,#0]  ; U0B
0001a0  ea4f75e4          ASR      r5,r4,#31
0001a4  eb046515          ADD      r5,r4,r5,LSR #24
;;;369    modbus_registers[47]=(char)(UBM_AV%256);
0001a8  ea4f2625          ASR      r6,r5,#8
;;;370    modbus_registers[48]=(char)(load_I/256);		//Πεγ25
;;;371    modbus_registers[49]=(char)(load_I%256);
0001ac  f8836022          STRB     r6,[r3,#0x22]
;;;372    modbus_registers[50]=(char)(load_I/256);		//Πεγ26
;;;373    modbus_registers[51]=(char)(load_I%256);
0001b0  f8834023          STRB     r4,[r3,#0x23]
;;;374    modbus_registers[52]=(char)(load_I/256);		//Πεγ27
;;;375    modbus_registers[53]=(char)(load_I%256);
0001b4  4cb7              LDR      r4,|L1.1172|
;;;376    modbus_registers[54]=(char)(load_I/256);		//Πεγ28
0001b6  f9b44000          LDRSH    r4,[r4,#0]  ; IKB
;;;377    modbus_registers[55]=(char)(load_I%256);
;;;378    modbus_registers[56]=(char)(load_I/256);		//Πεγ29
0001ba  ea4f75e4          ASR      r5,r4,#31
;;;379    modbus_registers[57]=(char)(load_I%256);
;;;380    modbus_registers[58]=(char)(TBAT/256);			//Πεγ30
0001be  eb046515          ADD      r5,r4,r5,LSR #24
0001c2  ea4f2625          ASR      r6,r5,#8
0001c6  f8836024          STRB     r6,[r3,#0x24]
0001ca  f8834025          STRB     r4,[r3,#0x25]
0001ce  f1a30326          SUB      r3,r3,#0x26
0001d2  4cb1              LDR      r4,|L1.1176|
;;;381    modbus_registers[59]=(char)(TBAT%256);
0001d4  f9b44000          LDRSH    r4,[r4,#0]  ; IZMAX
;;;382    modbus_registers[60]=(char)(UMAX/256);			//Πεγ31
0001d8  ea4f75e4          ASR      r5,r4,#31
0001dc  eb046515          ADD      r5,r4,r5,LSR #24
0001e0  ea4f2625          ASR      r6,r5,#8
0001e4  f8036f4c          STRB     r6,[r3,#0x4c]!
0001e8  705c              STRB     r4,[r3,#1]
0001ea  4cac              LDR      r4,|L1.1180|
;;;383    modbus_registers[61]=(char)(UMAX%256);
0001ec  f9b44000          LDRSH    r4,[r4,#0]  ; IMAX
;;;384    modbus_registers[62]=(char)((UB20-DU)/256);		//Πεγ32
0001f0  ea4f75e4          ASR      r5,r4,#31
0001f4  eb046515          ADD      r5,r4,r5,LSR #24
0001f8  ea4f2625          ASR      r6,r5,#8
0001fc  709e              STRB     r6,[r3,#2]
0001fe  70dc              STRB     r4,[r3,#3]
000200  4ca7              LDR      r4,|L1.1184|
000202  f9b44000          LDRSH    r4,[r4,#0]  ; IMIN
000206  ea4f75e4          ASR      r5,r4,#31
00020a  eb046515          ADD      r5,r4,r5,LSR #24
;;;385    modbus_registers[63]=(char)((UB20-DU)%256);
00020e  ea4f2625          ASR      r6,r5,#8
;;;386    modbus_registers[64]=(char)(UB0/256);			//Πεγ33
000212  711e              STRB     r6,[r3,#4]
000214  715c              STRB     r4,[r3,#5]
000216  4ca3              LDR      r4,|L1.1188|
000218  f9b44000          LDRSH    r4,[r4,#0]  ; UVZ
00021c  ea4f75e4          ASR      r5,r4,#31
000220  eb046515          ADD      r5,r4,r5,LSR #24
000224  ea4f2625          ASR      r6,r5,#8
;;;387    modbus_registers[65]=(char)(UB0%256);
;;;388    modbus_registers[66]=(char)(UB20/256);			//Πεγ34
000228  719e              STRB     r6,[r3,#6]
00022a  71dc              STRB     r4,[r3,#7]
00022c  4c9e              LDR      r4,|L1.1192|
00022e  f9b44000          LDRSH    r4,[r4,#0]  ; TZAS
000232  ea4f75e4          ASR      r5,r4,#31
000236  eb046515          ADD      r5,r4,r5,LSR #24
;;;389    modbus_registers[67]=(char)(UB20%256);
00023a  ea4f2625          ASR      r6,r5,#8
;;;390    modbus_registers[68]=(char)(USIGN/256);		//Πεγ35
00023e  721e              STRB     r6,[r3,#8]
000240  725c              STRB     r4,[r3,#9]
000242  4c9a              LDR      r4,|L1.1196|
000244  f9b44000          LDRSH    r4,[r4,#0]  ; TMAX
000248  ea4f75e4          ASR      r5,r4,#31
00024c  eb046515          ADD      r5,r4,r5,LSR #24
000250  ea4f2625          ASR      r6,r5,#8
;;;391    modbus_registers[69]=(char)(USIGN%256);
000254  729e              STRB     r6,[r3,#0xa]
;;;392    modbus_registers[70]=(char)(UMN/256);		//Πεγ36
000256  72dc              STRB     r4,[r3,#0xb]
000258  4c95              LDR      r4,|L1.1200|
00025a  f9b44000          LDRSH    r4,[r4,#0]  ; TSIGN
00025e  ea4f75e4          ASR      r5,r4,#31
000262  eb046515          ADD      r5,r4,r5,LSR #24
000266  ea4f2625          ASR      r6,r5,#8
00026a  731e              STRB     r6,[r3,#0xc]
;;;393    modbus_registers[71]=(char)(UMN%256);
00026c  735c              STRB     r4,[r3,#0xd]
;;;394    modbus_registers[72]=(char)(U0B/256);		//Πεγ37
00026e  4c91              LDR      r4,|L1.1204|
000270  f9b44000          LDRSH    r4,[r4,#0]  ; TBATMAX
000274  ea4f75e4          ASR      r5,r4,#31
000278  eb046515          ADD      r5,r4,r5,LSR #24
00027c  ea4f2625          ASR      r6,r5,#8
000280  739e              STRB     r6,[r3,#0xe]
000282  73dc              STRB     r4,[r3,#0xf]
;;;395    modbus_registers[73]=(char)(U0B%256);
000284  4c8c              LDR      r4,|L1.1208|
;;;396    modbus_registers[74]=(char)(IKB/256);		//Πεγ38
000286  f9b44000          LDRSH    r4,[r4,#0]  ; TBATSIGN
00028a  ea4f75e4          ASR      r5,r4,#31
00028e  eb046515          ADD      r5,r4,r5,LSR #24
000292  ea4f2625          ASR      r6,r5,#8
000296  741e              STRB     r6,[r3,#0x10]
000298  745c              STRB     r4,[r3,#0x11]
00029a  4c88              LDR      r4,|L1.1212|
;;;397    modbus_registers[75]=(char)(IKB%256);
00029c  f9b44000          LDRSH    r4,[r4,#0]  ; speedChrgCurr
;;;398    modbus_registers[76]=(char)(IZMAX/256);		//Πεγ39
0002a0  ea4f75e4          ASR      r5,r4,#31
0002a4  eb046515          ADD      r5,r4,r5,LSR #24
0002a8  ea4f2625          ASR      r6,r5,#8
0002ac  749e              STRB     r6,[r3,#0x12]
0002ae  74dc              STRB     r4,[r3,#0x13]
0002b0  4c83              LDR      r4,|L1.1216|
0002b2  f9b44000          LDRSH    r4,[r4,#0]  ; speedChrgVolt
;;;399    modbus_registers[77]=(char)(IZMAX%256);
;;;400    modbus_registers[78]=(char)(IMAX/256);		//Πεγ40
0002b6  ea4f75e4          ASR      r5,r4,#31
0002ba  eb046515          ADD      r5,r4,r5,LSR #24
0002be  ea4f2625          ASR      r6,r5,#8
0002c2  751e              STRB     r6,[r3,#0x14]
0002c4  755c              STRB     r4,[r3,#0x15]
0002c6  4c7f              LDR      r4,|L1.1220|
0002c8  f9b44000          LDRSH    r4,[r4,#0]  ; speedChrgTimeInHour
;;;401    modbus_registers[79]=(char)(IMAX%256);
0002cc  ea4f75e4          ASR      r5,r4,#31
;;;402    modbus_registers[80]=(char)(IMIN/256);		//Πεγ41
0002d0  eb046515          ADD      r5,r4,r5,LSR #24
0002d4  ea4f2625          ASR      r6,r5,#8
0002d8  759e              STRB     r6,[r3,#0x16]
0002da  75dc              STRB     r4,[r3,#0x17]
0002dc  f1a3034c          SUB      r3,r3,#0x4c
0002e0  f88d0004          STRB     r0,[sp,#4]
;;;403    modbus_registers[81]=(char)(IMIN%256);
0002e4  f88d1005          STRB     r1,[sp,#5]
;;;404    modbus_registers[82]=(char)(UVZ/256);		//Πεγ42
0002e8  ea4f2012          LSR      r0,r2,#8
0002ec  f88d0006          STRB     r0,[sp,#6]
0002f0  f88d2007          STRB     r2,[sp,#7]
0002f4  f1a20201          SUB      r2,r2,#1
0002f8  eb030142          ADD      r1,r3,r2,LSL #1
;;;405    modbus_registers[83]=(char)(UVZ%256);
0002fc  ad01              ADD      r5,sp,#4
;;;406    modbus_registers[84]=(char)(TZAS/256);		//Πεγ43
0002fe  f04f0202          MOV      r2,#2
000302  f1050004          ADD      r0,r5,#4
000306  f7fffffe          BL       mem_copy
00030a  2106              MOVS     r1,#6
00030c  a801              ADD      r0,sp,#4
00030e  f7fffffe          BL       CRC16_2
000312  f88d000a          STRB     r0,[sp,#0xa]
;;;407    modbus_registers[85]=(char)(TZAS%256);
;;;408    modbus_registers[86]=(char)(TMAX/256);		//Πεγ44
000316  ea4f2010          LSR      r0,r0,#8
00031a  f88d000b          STRB     r0,[sp,#0xb]
00031e  f04f0400          MOV      r4,#0
                  |L1.802|
000322  5d28              LDRB     r0,[r5,r4]
000324  f7fffffe          BL       putchar0
000328  f1040401          ADD      r4,r4,#1
;;;409    modbus_registers[87]=(char)(TMAX%256);
00032c  b2e4              UXTB     r4,r4
;;;410    modbus_registers[88]=(char)(TSIGN/256);		//Πεγ45
00032e  2c08              CMP      r4,#8
000330  d3f7              BCC      |L1.802|
000332  f04f0400          MOV      r4,#0
                  |L1.822|
000336  5d28              LDRB     r0,[r5,r4]
000338  f7fffffe          BL       putchar_sc16is700
00033c  f1040401          ADD      r4,r4,#1
000340  b2e4              UXTB     r4,r4
000342  2c08              CMP      r4,#8
;;;411    modbus_registers[89]=(char)(TSIGN%256);
000344  d3f7              BCC      |L1.822|
;;;412    modbus_registers[90]=(char)(TBATMAX/256);		//Πεγ46
000346  b027              ADD      sp,sp,#0x9c
000348  bdf0              POP      {r4-r7,pc}
;;;413    modbus_registers[91]=(char)(TBATMAX%256);
;;;414    modbus_registers[92]=(char)(TBATSIGN/256);		//Πεγ47
;;;415    modbus_registers[93]=(char)(TBATSIGN%256);
;;;416    modbus_registers[94]=(char)(load_I/256);		//Πεγ48
;;;417    modbus_registers[95]=(char)(load_I%256);
;;;418    modbus_registers[96]=(char)(load_I/256);		//Πεγ49
;;;419    modbus_registers[97]=(char)(load_I%256);
;;;420    modbus_registers[98]=(char)(load_I/256);		//Πεγ50
;;;421    modbus_registers[99]=(char)(load_I%256);
;;;422    
;;;423    modbus_tx_buff[0]=adr;
;;;424    modbus_tx_buff[1]=func;
;;;425    modbus_tx_buff[2]=(char)(reg_adr/256);
;;;426    modbus_tx_buff[3]=(char)(reg_adr%256);
;;;427    //modbus_tx_buff[4]=(char)(reg_quantity/256);
;;;428    //modbus_tx_buff[5]=(char)(reg_quantity%256);
;;;429    /*
;;;430    modbus_registers[0]=0x10;
;;;431    modbus_registers[1]=0x11;
;;;432    modbus_registers[2]=0x12;
;;;433    modbus_registers[3]=0x13;
;;;434    modbus_registers[4]=0x14;
;;;435    modbus_registers[5]=0x15;
;;;436    */
;;;437    
;;;438    mem_copy((char*)&modbus_tx_buff[4],(char*)&modbus_registers[(reg_adr-1)*2],2);
;;;439    
;;;440    crc_temp=CRC16_2(modbus_tx_buff,6);
;;;441    
;;;442    modbus_tx_buff[6]=crc_temp%256;
;;;443    modbus_tx_buff[7]=crc_temp/256;
;;;444    
;;;445    for (i=0;i<8;i++)
;;;446    	{
;;;447    	putchar0(modbus_tx_buff[i]);
;;;448    	}
;;;449    for (i=0;i<8;i++)
;;;450    	{
;;;451    	putchar_sc16is700(modbus_tx_buff[i]);
;;;452    	}
;;;453    }
;;;454    
                          ENDP

                  modbus_input_registers_transmit PROC
;;;313    //-----------------------------------------------
;;;314    void modbus_register_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr)
;;;315    {
;;;316    //char modbus_registers[150];
;;;317    char modbus_tx_buff[50];
;;;318    unsigned short crc_temp;
;;;319    char i;
;;;320    
;;;321    
;;;322    modbus_registers[0]=(char)(load_U/256);					//Πεγ1
;;;323    modbus_registers[1]=(char)(load_U%256);
;;;324    modbus_registers[2]=(char)(load_I/256);					//Πεγ2
;;;325    modbus_registers[3]=(char)(load_I%256);
;;;326    modbus_registers[4]=(char)(Ib_ips_termokompensat/256);		//Πεγ3
;;;327    modbus_registers[5]=(char)(Ib_ips_termokompensat%256);
;;;328    modbus_registers[6]=(char)(t_ext[0]/256);				//Πεγ4
;;;329    modbus_registers[7]=(char)(t_ext[0]%256);
;;;330    modbus_registers[8]=(char)(net_Ua/256);					//Πεγ5
;;;331    modbus_registers[9]=(char)(net_Ua%256);		 	
;;;332    modbus_registers[10]=(char)(net_Ub/256);				//Πεγ6
;;;333    modbus_registers[11]=(char)(net_Ub%256);
;;;334    modbus_registers[12]=(char)(net_Uc/256);				//Πεγ7
;;;335    modbus_registers[13]=(char)(net_Uc%256);
;;;336    modbus_registers[14]=(char)(net_F3/256);				//Πεγ8
;;;337    modbus_registers[15]=(char)(net_F3%256);
;;;338    modbus_registers[16]=(char)(load_I/256);				//Πεγ9
;;;339    modbus_registers[17]=(char)(load_I%256);
;;;340    modbus_registers[18]=(char)(load_I/256);				//Πεγ10
;;;341    modbus_registers[19]=(char)(load_I%256);
;;;342    modbus_registers[20]=(char)((LPC_RTC->YEAR)/256);			//Πεγ11
;;;343    modbus_registers[21]=(char)((LPC_RTC->YEAR)%256);
;;;344    modbus_registers[22]=(char)((LPC_RTC->MONTH)/256);		//Πεγ12
;;;345    modbus_registers[23]=(char)((LPC_RTC->MONTH)%256);
;;;346    modbus_registers[24]=(char)((LPC_RTC->DOM)/256);			//Πεγ13
;;;347    modbus_registers[25]=(char)((LPC_RTC->DOM)%256);
;;;348    modbus_registers[26]=(char)((LPC_RTC->HOUR)/256);			//Πεγ14
;;;349    modbus_registers[27]=(char)((LPC_RTC->HOUR)%256);
;;;350    modbus_registers[28]=(char)((LPC_RTC->MIN)/256);			//Πεγ15
;;;351    modbus_registers[29]=(char)((LPC_RTC->MIN)%256);
;;;352    modbus_registers[30]=(char)((LPC_RTC->SEC)/256);			//Πεγ16
;;;353    modbus_registers[31]=(char)((LPC_RTC->SEC)%256);
;;;354    modbus_registers[32]=(char)(load_I/256);				//Πεγ17
;;;355    modbus_registers[33]=(char)(load_I%256);
;;;356    modbus_registers[34]=(char)(load_I/256);				//Πεγ18
;;;357    modbus_registers[35]=(char)(load_I%256);
;;;358    modbus_registers[36]=(char)(load_I/256);		//Πεγ19
;;;359    modbus_registers[37]=(char)(load_I%256);
;;;360    modbus_registers[38]=(char)(NUMIST/256);		//Πεγ20
;;;361    modbus_registers[39]=(char)(NUMIST%256);
;;;362    modbus_registers[40]=(char)(PAR/256);		//Πεγ21
;;;363    modbus_registers[41]=(char)(PAR%256);
;;;364    modbus_registers[42]=(char)(ZV_ON/256);		//Πεγ22
;;;365    modbus_registers[43]=(char)(ZV_ON%256);
;;;366    modbus_registers[44]=(char)(TERMOKOMPENS/256);		//Πεγ23
;;;367    modbus_registers[45]=(char)(TERMOKOMPENS%256);
;;;368    modbus_registers[46]=(char)(UBM_AV/256);		//Πεγ24
;;;369    modbus_registers[47]=(char)(UBM_AV%256);
;;;370    modbus_registers[48]=(char)(load_I/256);		//Πεγ25
;;;371    modbus_registers[49]=(char)(load_I%256);
;;;372    modbus_registers[50]=(char)(load_I/256);		//Πεγ26
;;;373    modbus_registers[51]=(char)(load_I%256);
;;;374    modbus_registers[52]=(char)(load_I/256);		//Πεγ27
;;;375    modbus_registers[53]=(char)(load_I%256);
;;;376    modbus_registers[54]=(char)(load_I/256);		//Πεγ28
;;;377    modbus_registers[55]=(char)(load_I%256);
;;;378    modbus_registers[56]=(char)(load_I/256);		//Πεγ29
;;;379    modbus_registers[57]=(char)(load_I%256);
;;;380    modbus_registers[58]=(char)(TBAT/256);			//Πεγ30
;;;381    modbus_registers[59]=(char)(TBAT%256);
;;;382    modbus_registers[60]=(char)(UMAX/256);			//Πεγ31
;;;383    modbus_registers[61]=(char)(UMAX%256);
;;;384    modbus_registers[62]=(char)((UB20-DU)/256);		//Πεγ32
;;;385    modbus_registers[63]=(char)((UB20-DU)%256);
;;;386    modbus_registers[64]=(char)(UB0/256);			//Πεγ33
;;;387    modbus_registers[65]=(char)(UB0%256);
;;;388    modbus_registers[66]=(char)(UB20/256);			//Πεγ34
;;;389    modbus_registers[67]=(char)(UB20%256);
;;;390    modbus_registers[68]=(char)(USIGN/256);		//Πεγ35
;;;391    modbus_registers[69]=(char)(USIGN%256);
;;;392    modbus_registers[70]=(char)(UMN/256);		//Πεγ36
;;;393    modbus_registers[71]=(char)(UMN%256);
;;;394    modbus_registers[72]=(char)(U0B/256);		//Πεγ37
;;;395    modbus_registers[73]=(char)(U0B%256);
;;;396    modbus_registers[74]=(char)(IKB/256);		//Πεγ38
;;;397    modbus_registers[75]=(char)(IKB%256);
;;;398    modbus_registers[76]=(char)(IZMAX/256);		//Πεγ39
;;;399    modbus_registers[77]=(char)(IZMAX%256);
;;;400    modbus_registers[78]=(char)(IMAX/256);		//Πεγ40
;;;401    modbus_registers[79]=(char)(IMAX%256);
;;;402    modbus_registers[80]=(char)(IMIN/256);		//Πεγ41
;;;403    modbus_registers[81]=(char)(IMIN%256);
;;;404    modbus_registers[82]=(char)(UVZ/256);		//Πεγ42
;;;405    modbus_registers[83]=(char)(UVZ%256);
;;;406    modbus_registers[84]=(char)(TZAS/256);		//Πεγ43
;;;407    modbus_registers[85]=(char)(TZAS%256);
;;;408    modbus_registers[86]=(char)(TMAX/256);		//Πεγ44
;;;409    modbus_registers[87]=(char)(TMAX%256);
;;;410    modbus_registers[88]=(char)(TSIGN/256);		//Πεγ45
;;;411    modbus_registers[89]=(char)(TSIGN%256);
;;;412    modbus_registers[90]=(char)(TBATMAX/256);		//Πεγ46
00034a  e92d43f0          PUSH     {r4-r9,lr}
00034e  b0b3              SUB      sp,sp,#0xcc
000350  461e              MOV      r6,r3
000352  4b5d              LDR      r3,|L1.1224|
000354  f9b33000          LDRSH    r3,[r3,#0]  ; out_U
000358  ea4f74e3          ASR      r4,r3,#31
;;;413    modbus_registers[91]=(char)(TBATMAX%256);
00035c  eb036514          ADD      r5,r3,r4,LSR #24
;;;414    modbus_registers[92]=(char)(TBATSIGN/256);		//Πεγ47
000360  4c3a              LDR      r4,|L1.1100|
000362  ea4f2725          ASR      r7,r5,#8
000366  f1a40414          SUB      r4,r4,#0x14
00036a  7027              STRB     r7,[r4,#0]
00036c  7063              STRB     r3,[r4,#1]
00036e  4b57              LDR      r3,|L1.1228|
000370  f9b33000          LDRSH    r3,[r3,#0]  ; bps_I
;;;415    modbus_registers[93]=(char)(TBATSIGN%256);
000374  ea4f75e3          ASR      r5,r3,#31
;;;416    modbus_registers[94]=(char)(load_I/256);		//Πεγ48
;;;417    modbus_registers[95]=(char)(load_I%256);
000378  eb036515          ADD      r5,r3,r5,LSR #24
;;;418    modbus_registers[96]=(char)(load_I/256);		//Πεγ49
;;;419    modbus_registers[97]=(char)(load_I%256);
00037c  ea4f2725          ASR      r7,r5,#8
;;;420    modbus_registers[98]=(char)(load_I/256);		//Πεγ50
000380  70a7              STRB     r7,[r4,#2]
000382  70e3              STRB     r3,[r4,#3]
;;;421    modbus_registers[99]=(char)(load_I%256);
000384  4b52              LDR      r3,|L1.1232|
000386  f9b33000          LDRSH    r3,[r3,#0]  ; net_U
;;;422    
;;;423    modbus_tx_buff[0]=adr;
00038a  ea4f75e3          ASR      r5,r3,#31
;;;424    modbus_tx_buff[1]=func;
00038e  eb036515          ADD      r5,r3,r5,LSR #24
;;;425    modbus_tx_buff[2]=(char)(reg_adr/256);
000392  ea4f2725          ASR      r7,r5,#8
000396  7127              STRB     r7,[r4,#4]
;;;426    modbus_tx_buff[3]=(char)(reg_adr%256);
000398  7163              STRB     r3,[r4,#5]
00039a  4b4e              LDR      r3,|L1.1236|
;;;427    //modbus_tx_buff[4]=(char)(reg_quantity/256);
;;;428    //modbus_tx_buff[5]=(char)(reg_quantity%256);
;;;429    /*
;;;430    modbus_registers[0]=0x10;
;;;431    modbus_registers[1]=0x11;
;;;432    modbus_registers[2]=0x12;
;;;433    modbus_registers[3]=0x13;
;;;434    modbus_registers[4]=0x14;
;;;435    modbus_registers[5]=0x15;
;;;436    */
;;;437    
;;;438    mem_copy((char*)&modbus_tx_buff[4],(char*)&modbus_registers[(reg_adr-1)*2],2);
00039c  f9b33000          LDRSH    r3,[r3,#0]  ; net_F
0003a0  ea4f75e3          ASR      r5,r3,#31
0003a4  eb036515          ADD      r5,r3,r5,LSR #24
0003a8  ea4f2725          ASR      r7,r5,#8
0003ac  71a7              STRB     r7,[r4,#6]
0003ae  71e3              STRB     r3,[r4,#7]
0003b0  4b49              LDR      r3,|L1.1240|
;;;439    
;;;440    crc_temp=CRC16_2(modbus_tx_buff,6);
0003b2  f9b33000          LDRSH    r3,[r3,#0]  ; net_Ua
0003b6  ea4f75e3          ASR      r5,r3,#31
;;;441    
;;;442    modbus_tx_buff[6]=crc_temp%256;
0003ba  eb036515          ADD      r5,r3,r5,LSR #24
;;;443    modbus_tx_buff[7]=crc_temp/256;
0003be  ea4f2725          ASR      r7,r5,#8
0003c2  7227              STRB     r7,[r4,#8]
0003c4  7263              STRB     r3,[r4,#9]
;;;444    
;;;445    for (i=0;i<8;i++)
0003c6  4b45              LDR      r3,|L1.1244|
0003c8  f9b33000          LDRSH    r3,[r3,#0]  ; net_Ub
;;;446    	{
;;;447    	putchar0(modbus_tx_buff[i]);
0003cc  ea4f75e3          ASR      r5,r3,#31
0003d0  eb036515          ADD      r5,r3,r5,LSR #24      ;445
0003d4  ea4f2725          ASR      r7,r5,#8              ;445
0003d8  72a7              STRB     r7,[r4,#0xa]          ;445
;;;448    	}
;;;449    for (i=0;i<8;i++)
0003da  72e3              STRB     r3,[r4,#0xb]
0003dc  4b40              LDR      r3,|L1.1248|
;;;450    	{
;;;451    	putchar_sc16is700(modbus_tx_buff[i]);
0003de  f9b33000          LDRSH    r3,[r3,#0]  ; net_Uc
0003e2  ea4f75e3          ASR      r5,r3,#31
0003e6  eb036515          ADD      r5,r3,r5,LSR #24      ;449
0003ea  ea4f2725          ASR      r7,r5,#8              ;449
;;;452    	}
;;;453    }
0003ee  7327              STRB     r7,[r4,#0xc]
0003f0  7363              STRB     r3,[r4,#0xd]
0003f2  4b3c              LDR      r3,|L1.1252|
0003f4  f9b35002          LDRSH    r5,[r3,#2]  ; bat
0003f8  ea4f77e5          ASR      r7,r5,#31
0003fc  eb056717          ADD      r7,r5,r7,LSR #24
000400  ea4f2c27          ASR      r12,r7,#8
000404  f884c00e          STRB     r12,[r4,#0xe]
000408  73e5              STRB     r5,[r4,#0xf]
00040a  f9b35008          LDRSH    r5,[r3,#8]  ; bat
00040e  ea4f77e5          ASR      r7,r5,#31
000412  eb056717          ADD      r7,r5,r7,LSR #24
000416  ea4f2c27          ASR      r12,r7,#8
00041a  f884c010          STRB     r12,[r4,#0x10]
00041e  7465              STRB     r5,[r4,#0x11]
000420  f9b3500a          LDRSH    r5,[r3,#0xa]  ; bat
000424  ea4f77e5          ASR      r7,r5,#31
000428  eb056717          ADD      r7,r5,r7,LSR #24
00042c  ea4f2c27          ASR      r12,r7,#8
000430  f884c012          STRB     r12,[r4,#0x12]
000434  74e5              STRB     r5,[r4,#0x13]
000436  8a1d              LDRH     r5,[r3,#0x10]  ; bat
000438  ea4f2715          LSR      r7,r5,#8
00043c  7527              STRB     r7,[r4,#0x14]
00043e  7565              STRB     r5,[r4,#0x15]
000440  f9b35004          LDRSH    r5,[r3,#4]  ; bat
000444  e050              B        |L1.1256|
000446  0000              DCW      0x0000
                  |L1.1096|
                          DCD      0x40024000
                  |L1.1100|
                          DCD      ||area_number.6||+0x50
                  |L1.1104|
                          DCD      0x40024038
                  |L1.1108|
                          DCD      0x4002402c
                  |L1.1112|
                          DCD      0x40024028
                  |L1.1116|
                          DCD      0x40024024
                  |L1.1120|
                          DCD      0x40024020
                  |L1.1124|
                          DCD      NUMIST
                  |L1.1128|
                          DCD      PAR
                  |L1.1132|
                          DCD      ZV_ON
                  |L1.1136|
                          DCD      UBM_AV
                  |L1.1140|
                          DCD      TBAT
                  |L1.1144|
                          DCD      UMAX
                  |L1.1148|
                          DCD      UB20
                  |L1.1152|
                          DCD      ||DU||
                  |L1.1156|
                          DCD      UB0
                  |L1.1160|
                          DCD      USIGN
                  |L1.1164|
                          DCD      UMN
                  |L1.1168|
                          DCD      U0B
                  |L1.1172|
                          DCD      IKB
                  |L1.1176|
                          DCD      IZMAX
                  |L1.1180|
                          DCD      IMAX
                  |L1.1184|
                          DCD      IMIN
                  |L1.1188|
                          DCD      UVZ
                  |L1.1192|
                          DCD      TZAS
                  |L1.1196|
                          DCD      TMAX
                  |L1.1200|
                          DCD      TSIGN
                  |L1.1204|
                          DCD      TBATMAX
                  |L1.1208|
                          DCD      TBATSIGN
                  |L1.1212|
                          DCD      speedChrgCurr
                  |L1.1216|
                          DCD      speedChrgVolt
                  |L1.1220|
                          DCD      speedChrgTimeInHour
                  |L1.1224|
                          DCD      out_U
                  |L1.1228|
                          DCD      bps_I
                  |L1.1232|
                          DCD      net_U
                  |L1.1236|
                          DCD      net_F
                  |L1.1240|
                          DCD      net_Ua
                  |L1.1244|
                          DCD      net_Ub
                  |L1.1248|
                          DCD      net_Uc
                  |L1.1252|
                          DCD      bat
                  |L1.1256|
0004e8  ea4f77e5          ASR      r7,r5,#31
0004ec  eb056717          ADD      r7,r5,r7,LSR #24
0004f0  ea4f2c27          ASR      r12,r7,#8
0004f4  f884c016          STRB     r12,[r4,#0x16]
0004f8  75e5              STRB     r5,[r4,#0x17]
0004fa  f9b35006          LDRSH    r5,[r3,#6]  ; bat
0004fe  ea4f77e5          ASR      r7,r5,#31
000502  eb056717          ADD      r7,r5,r7,LSR #24
000506  ea4f2c27          ASR      r12,r7,#8
00050a  f884c018          STRB     r12,[r4,#0x18]
00050e  7665              STRB     r5,[r4,#0x19]
000510  4fff              LDR      r7,|L1.2320|
000512  f9b75000          LDRSH    r5,[r7,#0]  ; BAT_C_REAL
000516  ea4f7ce5          ASR      r12,r5,#31
00051a  eb056c1c          ADD      r12,r5,r12,LSR #24
00051e  ea4f282c          ASR      r8,r12,#8
000522  f884801a          STRB     r8,[r4,#0x1a]
000526  76e5              STRB     r5,[r4,#0x1b]
000528  f9b3504e          LDRSH    r5,[r3,#0x4e]  ; bat
00052c  ea4f7ce5          ASR      r12,r5,#31
000530  eb056c1c          ADD      r12,r5,r12,LSR #24
000534  ea4f282c          ASR      r8,r12,#8
000538  f884801c          STRB     r8,[r4,#0x1c]
00053c  7765              STRB     r5,[r4,#0x1d]
00053e  f9b35054          LDRSH    r5,[r3,#0x54]  ; bat
000542  ea4f7ce5          ASR      r12,r5,#31
000546  eb056c1c          ADD      r12,r5,r12,LSR #24
00054a  ea4f282c          ASR      r8,r12,#8
00054e  f884801e          STRB     r8,[r4,#0x1e]
000552  f1040421          ADD      r4,r4,#0x21
000556  f8045c02          STRB     r5,[r4,#-2]
00055a  f9b35056          LDRSH    r5,[r3,#0x56]  ; bat
00055e  ea4f7ce5          ASR      r12,r5,#31
000562  eb056c1c          ADD      r12,r5,r12,LSR #24
000566  ea4f282c          ASR      r8,r12,#8
00056a  f8048c01          STRB     r8,[r4,#-1]
00056e  7025              STRB     r5,[r4,#0]
000570  f8b3505c          LDRH     r5,[r3,#0x5c]  ; bat
000574  ea4f2c15          LSR      r12,r5,#8
000578  f884c001          STRB     r12,[r4,#1]
00057c  70a5              STRB     r5,[r4,#2]
00057e  f9b35050          LDRSH    r5,[r3,#0x50]  ; bat
000582  ea4f7ce5          ASR      r12,r5,#31
000586  eb056c1c          ADD      r12,r5,r12,LSR #24
00058a  ea4f282c          ASR      r8,r12,#8
00058e  f8848003          STRB     r8,[r4,#3]
000592  7125              STRB     r5,[r4,#4]
000594  f9b33052          LDRSH    r3,[r3,#0x52]  ; bat
000598  ea4f75e3          ASR      r5,r3,#31
00059c  eb036515          ADD      r5,r3,r5,LSR #24
0005a0  ea4f2c25          ASR      r12,r5,#8
0005a4  f884c005          STRB     r12,[r4,#5]
0005a8  71a3              STRB     r3,[r4,#6]
0005aa  f9b73002          LDRSH    r3,[r7,#2]  ; BAT_C_REAL
0005ae  ea4f75e3          ASR      r5,r3,#31
0005b2  eb036515          ADD      r5,r3,r5,LSR #24
0005b6  ea4f2725          ASR      r7,r5,#8
0005ba  71e7              STRB     r7,[r4,#7]
0005bc  7223              STRB     r3,[r4,#8]
0005be  4dd5              LDR      r5,|L1.2324|
0005c0  69eb              LDR      r3,[r5,#0x1c]  ; bps
0005c2  ea4f77e3          ASR      r7,r3,#31
0005c6  eb036717          ADD      r7,r3,r7,LSR #24
0005ca  ea4f2c27          ASR      r12,r7,#8
0005ce  f884c009          STRB     r12,[r4,#9]
0005d2  72a3              STRB     r3,[r4,#0xa]
0005d4  6a6b              LDR      r3,[r5,#0x24]  ; bps
0005d6  ea4f77e3          ASR      r7,r3,#31
0005da  eb036717          ADD      r7,r3,r7,LSR #24
0005de  ea4f2c27          ASR      r12,r7,#8
0005e2  f884c00b          STRB     r12,[r4,#0xb]
0005e6  7323              STRB     r3,[r4,#0xc]
0005e8  6aab              LDR      r3,[r5,#0x28]  ; bps
0005ea  ea4f77e3          ASR      r7,r3,#31
0005ee  eb036717          ADD      r7,r3,r7,LSR #24
0005f2  ea4f2c27          ASR      r12,r7,#8
0005f6  f884c00d          STRB     r12,[r4,#0xd]
0005fa  73a3              STRB     r3,[r4,#0xe]
0005fc  f04f0700          MOV      r7,#0
000600  73e7              STRB     r7,[r4,#0xf]
000602  786b              LDRB     r3,[r5,#1]  ; bps
000604  7423              STRB     r3,[r4,#0x10]
000606  6f2b              LDR      r3,[r5,#0x70]  ; bps
000608  ea4f7ce3          ASR      r12,r3,#31
00060c  eb036c1c          ADD      r12,r3,r12,LSR #24
000610  ea4f282c          ASR      r8,r12,#8
000614  f8848011          STRB     r8,[r4,#0x11]
000618  74a3              STRB     r3,[r4,#0x12]
00061a  6fab              LDR      r3,[r5,#0x78]  ; bps
00061c  ea4f7ce3          ASR      r12,r3,#31
000620  eb036c1c          ADD      r12,r3,r12,LSR #24
000624  ea4f282c          ASR      r8,r12,#8
000628  f8848013          STRB     r8,[r4,#0x13]
00062c  7523              STRB     r3,[r4,#0x14]
00062e  6feb              LDR      r3,[r5,#0x7c]  ; bps
000630  ea4f7ce3          ASR      r12,r3,#31
000634  eb036c1c          ADD      r12,r3,r12,LSR #24
000638  ea4f282c          ASR      r8,r12,#8
00063c  f8848015          STRB     r8,[r4,#0x15]
000640  75a3              STRB     r3,[r4,#0x16]
000642  75e7              STRB     r7,[r4,#0x17]
000644  f8953055          LDRB     r3,[r5,#0x55]  ; bps
000648  7623              STRB     r3,[r4,#0x18]
00064a  f8553fc4          LDR      r3,[r5,#0xc4]!  ; bps
00064e  ea4f7ce3          ASR      r12,r3,#31
000652  eb036c1c          ADD      r12,r3,r12,LSR #24
000656  ea4f282c          ASR      r8,r12,#8
00065a  f8848019          STRB     r8,[r4,#0x19]
00065e  76a3              STRB     r3,[r4,#0x1a]
000660  68ab              LDR      r3,[r5,#8]  ; bps
000662  ea4f7ce3          ASR      r12,r3,#31
000666  eb036c1c          ADD      r12,r3,r12,LSR #24
00066a  ea4f282c          ASR      r8,r12,#8
00066e  f884801b          STRB     r8,[r4,#0x1b]
000672  7723              STRB     r3,[r4,#0x1c]
000674  68eb              LDR      r3,[r5,#0xc]  ; bps
000676  f1a505c4          SUB      r5,r5,#0xc4
00067a  ea4f7ce3          ASR      r12,r3,#31
00067e  eb036c1c          ADD      r12,r3,r12,LSR #24
000682  ea4f282c          ASR      r8,r12,#8
000686  f884801d          STRB     r8,[r4,#0x1d]
00068a  77a3              STRB     r3,[r4,#0x1e]
00068c  77e7              STRB     r7,[r4,#0x1f]
00068e  f89530a9          LDRB     r3,[r5,#0xa9]  ; bps
000692  f8843020          STRB     r3,[r4,#0x20]
000696  f8d53118          LDR      r3,[r5,#0x118]  ; bps
00069a  ea4f7ce3          ASR      r12,r3,#31
00069e  eb036c1c          ADD      r12,r3,r12,LSR #24
0006a2  ea4f282c          ASR      r8,r12,#8
0006a6  f8848021          STRB     r8,[r4,#0x21]
0006aa  f1a40421          SUB      r4,r4,#0x21
0006ae  f8043f43          STRB     r3,[r4,#0x43]!
0006b2  f10505fc          ADD      r5,r5,#0xfc
0006b6  6a6b              LDR      r3,[r5,#0x24]  ; bps
0006b8  ea4f7ce3          ASR      r12,r3,#31
0006bc  eb036c1c          ADD      r12,r3,r12,LSR #24
0006c0  ea4f282c          ASR      r8,r12,#8
0006c4  f8848001          STRB     r8,[r4,#1]
0006c8  70a3              STRB     r3,[r4,#2]
0006ca  6aab              LDR      r3,[r5,#0x28]  ; bps
0006cc  ea4f7ce3          ASR      r12,r3,#31
0006d0  eb036c1c          ADD      r12,r3,r12,LSR #24
0006d4  ea4f282c          ASR      r8,r12,#8
0006d8  f8848003          STRB     r8,[r4,#3]
0006dc  7123              STRB     r3,[r4,#4]
0006de  7167              STRB     r7,[r4,#5]
0006e0  786b              LDRB     r3,[r5,#1]  ; bps
0006e2  71a3              STRB     r3,[r4,#6]
0006e4  6f2b              LDR      r3,[r5,#0x70]  ; bps
0006e6  ea4f7ce3          ASR      r12,r3,#31
0006ea  eb036c1c          ADD      r12,r3,r12,LSR #24
0006ee  ea4f282c          ASR      r8,r12,#8
0006f2  f8848007          STRB     r8,[r4,#7]
0006f6  7223              STRB     r3,[r4,#8]
0006f8  6fab              LDR      r3,[r5,#0x78]  ; bps
0006fa  ea4f7ce3          ASR      r12,r3,#31
0006fe  eb036c1c          ADD      r12,r3,r12,LSR #24
000702  ea4f282c          ASR      r8,r12,#8
000706  f8848009          STRB     r8,[r4,#9]
00070a  72a3              STRB     r3,[r4,#0xa]
00070c  6feb              LDR      r3,[r5,#0x7c]  ; bps
00070e  ea4f7ce3          ASR      r12,r3,#31
000712  eb036c1c          ADD      r12,r3,r12,LSR #24
000716  ea4f282c          ASR      r8,r12,#8
00071a  f884800b          STRB     r8,[r4,#0xb]
00071e  7323              STRB     r3,[r4,#0xc]
000720  7367              STRB     r7,[r4,#0xd]
000722  f8953055          LDRB     r3,[r5,#0x55]  ; bps
000726  73a3              STRB     r3,[r4,#0xe]
000728  f8553fc4          LDR      r3,[r5,#0xc4]!  ; bps
00072c  ea4f7ce3          ASR      r12,r3,#31
000730  eb036c1c          ADD      r12,r3,r12,LSR #24
000734  ea4f282c          ASR      r8,r12,#8
000738  f884800f          STRB     r8,[r4,#0xf]
00073c  7423              STRB     r3,[r4,#0x10]
00073e  68ab              LDR      r3,[r5,#8]  ; bps
000740  ea4f7ce3          ASR      r12,r3,#31
000744  eb036c1c          ADD      r12,r3,r12,LSR #24
000748  ea4f282c          ASR      r8,r12,#8
00074c  f8848011          STRB     r8,[r4,#0x11]
000750  74a3              STRB     r3,[r4,#0x12]
000752  68eb              LDR      r3,[r5,#0xc]  ; bps
000754  f1a505c4          SUB      r5,r5,#0xc4
000758  ea4f7ce3          ASR      r12,r3,#31
00075c  eb036c1c          ADD      r12,r3,r12,LSR #24
000760  ea4f282c          ASR      r8,r12,#8
000764  f8848013          STRB     r8,[r4,#0x13]
000768  7523              STRB     r3,[r4,#0x14]
00076a  7567              STRB     r7,[r4,#0x15]
00076c  f10505fc          ADD      r5,r5,#0xfc
000770  f8153c53          LDRB     r3,[r5,#-0x53]  ; bps
000774  f8043f16          STRB     r3,[r4,#0x16]!
000778  69eb              LDR      r3,[r5,#0x1c]  ; bps
00077a  ea4f7ce3          ASR      r12,r3,#31
00077e  eb036c1c          ADD      r12,r3,r12,LSR #24
000782  ea4f282c          ASR      r8,r12,#8
000786  f8848001          STRB     r8,[r4,#1]
00078a  70a3              STRB     r3,[r4,#2]
00078c  6a6b              LDR      r3,[r5,#0x24]  ; bps
00078e  ea4f7ce3          ASR      r12,r3,#31
000792  eb036c1c          ADD      r12,r3,r12,LSR #24
000796  ea4f282c          ASR      r8,r12,#8
00079a  f8848003          STRB     r8,[r4,#3]
00079e  7123              STRB     r3,[r4,#4]
0007a0  6aab              LDR      r3,[r5,#0x28]  ; bps
0007a2  ea4f7ce3          ASR      r12,r3,#31
0007a6  eb036c1c          ADD      r12,r3,r12,LSR #24
0007aa  ea4f282c          ASR      r8,r12,#8
0007ae  f8848005          STRB     r8,[r4,#5]
0007b2  71a3              STRB     r3,[r4,#6]
0007b4  71e7              STRB     r7,[r4,#7]
0007b6  786b              LDRB     r3,[r5,#1]  ; bps
0007b8  7223              STRB     r3,[r4,#8]
0007ba  6f2b              LDR      r3,[r5,#0x70]  ; bps
0007bc  ea4f7ce3          ASR      r12,r3,#31
0007c0  eb036c1c          ADD      r12,r3,r12,LSR #24
0007c4  ea4f282c          ASR      r8,r12,#8
0007c8  f8848009          STRB     r8,[r4,#9]
0007cc  72a3              STRB     r3,[r4,#0xa]
0007ce  6fab              LDR      r3,[r5,#0x78]  ; bps
0007d0  ea4f7ce3          ASR      r12,r3,#31
0007d4  eb036c1c          ADD      r12,r3,r12,LSR #24
0007d8  ea4f282c          ASR      r8,r12,#8
0007dc  f884800b          STRB     r8,[r4,#0xb]
0007e0  7323              STRB     r3,[r4,#0xc]
0007e2  6feb              LDR      r3,[r5,#0x7c]  ; bps
0007e4  f5a575fc          SUB      r5,r5,#0x1f8
0007e8  ea4f7ce3          ASR      r12,r3,#31
0007ec  eb036c1c          ADD      r12,r3,r12,LSR #24
0007f0  ea4f282c          ASR      r8,r12,#8
0007f4  f884800d          STRB     r8,[r4,#0xd]
0007f8  73a3              STRB     r3,[r4,#0xe]
0007fa  f1a40459          SUB      r4,r4,#0x59
0007fe  f8047f68          STRB     r7,[r4,#0x68]!
000802  f895324d          LDRB     r3,[r5,#0x24d]  ; bps
000806  7063              STRB     r3,[r4,#1]
000808  4b43              LDR      r3,|L1.2328|
00080a  f9b33000          LDRSH    r3,[r3,#0]  ; bps_U
00080e  ea4f75e3          ASR      r5,r3,#31
000812  eb036515          ADD      r5,r3,r5,LSR #24
000816  ea4f2c25          ASR      r12,r5,#8
00081a  f884c002          STRB     r12,[r4,#2]
00081e  70e3              STRB     r3,[r4,#3]
000820  f1a40468          SUB      r4,r4,#0x68
000824  463b              MOV      r3,r7
000826  4d3d              LDR      r5,|L1.2332|
000828  882d              LDRH     r5,[r5,#0]  ; speedChIsOn
00082a  b10d              CBZ      r5,|L1.2096|
00082c  f04f0301          MOV      r3,#1
                  |L1.2096|
000830  ea4f75e3          ASR      r5,r3,#31
000834  eb036515          ADD      r5,r3,r5,LSR #24
000838  ea4f2c25          ASR      r12,r5,#8
00083c  f884c06c          STRB     r12,[r4,#0x6c]
000840  f884306d          STRB     r3,[r4,#0x6d]
000844  f04f0300          MOV      r3,#0
000848  4d35              LDR      r5,|L1.2336|
00084a  782d              LDRB     r5,[r5,#0]  ; spc_stat
00084c  2d02              CMP      r5,#2
00084e  d101              BNE      |L1.2132|
000850  f04f0301          MOV      r3,#1
                  |L1.2132|
000854  ea4f75e3          ASR      r5,r3,#31
000858  eb036515          ADD      r5,r3,r5,LSR #24
00085c  ea4f2c25          ASR      r12,r5,#8
000860  f804cf6e          STRB     r12,[r4,#0x6e]!
000864  7063              STRB     r3,[r4,#1]
000866  70a7              STRB     r7,[r4,#2]
000868  4b2e              LDR      r3,|L1.2340|
00086a  781b              LDRB     r3,[r3,#0]  ; uout_av
00086c  70e3              STRB     r3,[r4,#3]
00086e  f1a4046e          SUB      r4,r4,#0x6e
000872  4d2d              LDR      r5,|L1.2344|
000874  f9b53000          LDRSH    r3,[r5,#0]  ; t_ext
000878  f8df80b0          LDR      r8,|L1.2348|
00087c  f8dfc0b0          LDR      r12,|L1.2352|
000880  f8d87000          LDR      r7,[r8,#0]  ; ND_EXT
000884  b107              CBZ      r7,|L1.2184|
000886  4663              MOV      r3,r12
                  |L1.2184|
000888  ea4f77e3          ASR      r7,r3,#31
00088c  eb036717          ADD      r7,r3,r7,LSR #24
000890  ea4f2927          ASR      r9,r7,#8
000894  f8849190          STRB     r9,[r4,#0x190]
000898  f8843191          STRB     r3,[r4,#0x191]
00089c  f9b57002          LDRSH    r7,[r5,#2]  ; t_ext
0008a0  f8d83004          LDR      r3,[r8,#4]  ; ND_EXT
0008a4  b103              CBZ      r3,|L1.2216|
0008a6  4667              MOV      r7,r12
                  |L1.2216|
0008a8  ea4f73e7          ASR      r3,r7,#31
0008ac  eb076313          ADD      r3,r7,r3,LSR #24
0008b0  ea4f2923          ASR      r9,r3,#8
0008b4  f8849192          STRB     r9,[r4,#0x192]
0008b8  463b              MOV      r3,r7
0008ba  f8843193          STRB     r3,[r4,#0x193]
0008be  f9b57004          LDRSH    r7,[r5,#4]  ; t_ext
0008c2  f8d83008          LDR      r3,[r8,#8]  ; ND_EXT
0008c6  b103              CBZ      r3,|L1.2250|
0008c8  4667              MOV      r7,r12
                  |L1.2250|
0008ca  ea4f73e7          ASR      r3,r7,#31
0008ce  eb076313          ADD      r3,r7,r3,LSR #24
0008d2  ea4f2923          ASR      r9,r3,#8
0008d6  f8849194          STRB     r9,[r4,#0x194]
0008da  463b              MOV      r3,r7
0008dc  f8843195          STRB     r3,[r4,#0x195]
0008e0  f9b55006          LDRSH    r5,[r5,#6]  ; t_ext
0008e4  f8d8300c          LDR      r3,[r8,#0xc]  ; ND_EXT
0008e8  b103              CBZ      r3,|L1.2284|
0008ea  4665              MOV      r5,r12
                  |L1.2284|
0008ec  ea4f73e5          ASR      r3,r5,#31
0008f0  eb056313          ADD      r3,r5,r3,LSR #24
0008f4  ea4f2723          ASR      r7,r3,#8
0008f8  f8847196          STRB     r7,[r4,#0x196]
0008fc  462b              MOV      r3,r5
0008fe  f8843197          STRB     r3,[r4,#0x197]
000902  f04f0500          MOV      r5,#0
000906  4f0b              LDR      r7,|L1.2356|
000908  783b              LDRB     r3,[r7,#0]  ; sk_stat
00090a  2b01              CMP      r3,#1
00090c  d115              BNE      |L1.2362|
00090e  e013              B        |L1.2360|
                  |L1.2320|
                          DCD      BAT_C_REAL
                  |L1.2324|
                          DCD      bps
                  |L1.2328|
                          DCD      bps_U
                  |L1.2332|
                          DCD      speedChIsOn
                  |L1.2336|
                          DCD      spc_stat
                  |L1.2340|
                          DCD      uout_av
                  |L1.2344|
                          DCD      t_ext
                  |L1.2348|
                          DCD      ND_EXT
                  |L1.2352|
                          DCD      0xfffffc18
                  |L1.2356|
                          DCD      sk_stat
                  |L1.2360|
000938  461d              MOV      r5,r3
                  |L1.2362|
00093a  f8dfc530          LDR      r12,|L1.3692|
00093e  f89c3000          LDRB     r3,[r12,#0]  ; sk_av_stat
000942  2b01              CMP      r3,#1
000944  d101              BNE      |L1.2378|
000946  f0450502          ORR      r5,r5,#2
                  |L1.2378|
00094a  ea4f73e5          ASR      r3,r5,#31
00094e  eb056313          ADD      r3,r5,r3,LSR #24
000952  ea4f2823          ASR      r8,r3,#8
000956  f88481a4          STRB     r8,[r4,#0x1a4]
00095a  462b              MOV      r3,r5
00095c  f88431a5          STRB     r3,[r4,#0x1a5]
000960  f04f0300          MOV      r3,#0
000964  787d              LDRB     r5,[r7,#1]  ; sk_stat
000966  2d01              CMP      r5,#1
000968  d101              BNE      |L1.2414|
00096a  f04f0301          MOV      r3,#1
                  |L1.2414|
00096e  f89c5001          LDRB     r5,[r12,#1]  ; sk_av_stat
000972  2d01              CMP      r5,#1
000974  d101              BNE      |L1.2426|
000976  f0430302          ORR      r3,r3,#2
                  |L1.2426|
00097a  ea4f75e3          ASR      r5,r3,#31
00097e  eb036515          ADD      r5,r3,r5,LSR #24
000982  ea4f2825          ASR      r8,r5,#8
000986  f88481a6          STRB     r8,[r4,#0x1a6]
00098a  f88431a7          STRB     r3,[r4,#0x1a7]
00098e  f04f0300          MOV      r3,#0
000992  78bd              LDRB     r5,[r7,#2]  ; sk_stat
000994  2d01              CMP      r5,#1
000996  d101              BNE      |L1.2460|
000998  f04f0301          MOV      r3,#1
                  |L1.2460|
00099c  f89c5002          LDRB     r5,[r12,#2]  ; sk_av_stat
0009a0  2d01              CMP      r5,#1
0009a2  d101              BNE      |L1.2472|
0009a4  f0430302          ORR      r3,r3,#2
                  |L1.2472|
0009a8  ea4f75e3          ASR      r5,r3,#31
0009ac  eb036515          ADD      r5,r3,r5,LSR #24
0009b0  ea4f2825          ASR      r8,r5,#8
0009b4  f88481a8          STRB     r8,[r4,#0x1a8]
0009b8  f88431a9          STRB     r3,[r4,#0x1a9]
0009bc  f04f0300          MOV      r3,#0
0009c0  78fd              LDRB     r5,[r7,#3]  ; sk_stat
0009c2  2d01              CMP      r5,#1
0009c4  d101              BNE      |L1.2506|
0009c6  f04f0301          MOV      r3,#1
                  |L1.2506|
0009ca  f89c5003          LDRB     r5,[r12,#3]  ; sk_av_stat
0009ce  2d01              CMP      r5,#1
0009d0  d101              BNE      |L1.2518|
0009d2  f0430302          ORR      r3,r3,#2
                  |L1.2518|
0009d6  ea4f75e3          ASR      r5,r3,#31
0009da  eb036515          ADD      r5,r3,r5,LSR #24
0009de  ea4f2725          ASR      r7,r5,#8
0009e2  f88471aa          STRB     r7,[r4,#0x1aa]
0009e6  f88431ab          STRB     r3,[r4,#0x1ab]
0009ea  f88d0004          STRB     r0,[sp,#4]
0009ee  f88d1005          STRB     r1,[sp,#5]
0009f2  ea4f0046          LSL      r0,r6,#1
0009f6  f88d0006          STRB     r0,[sp,#6]
0009fa  f1a20201          SUB      r2,r2,#1
0009fe  eb040142          ADD      r1,r4,r2,LSL #1
000a02  4602              MOV      r2,r0
000a04  af01              ADD      r7,sp,#4
000a06  f10d0007          ADD      r0,sp,#7
000a0a  f7fffffe          BL       mem_copy
000a0e  2003              MOVS     r0,#3
000a10  eb000046          ADD      r0,r0,r6,LSL #1
000a14  b201              SXTH     r1,r0
000a16  a801              ADD      r0,sp,#4
000a18  f7fffffe          BL       CRC16_2
000a1c  eb070146          ADD      r1,r7,r6,LSL #1
000a20  70c8              STRB     r0,[r1,#3]
000a22  ea4f2010          LSR      r0,r0,#8
000a26  7108              STRB     r0,[r1,#4]
000a28  f04f0400          MOV      r4,#0
000a2c  f04f0005          MOV      r0,#5
000a30  eb000546          ADD      r5,r0,r6,LSL #1
000a34  e005              B        |L1.2626|
                  |L1.2614|
000a36  5d38              LDRB     r0,[r7,r4]
000a38  f7fffffe          BL       putchar0
000a3c  f1040401          ADD      r4,r4,#1
000a40  b2e4              UXTB     r4,r4
                  |L1.2626|
000a42  42a5              CMP      r5,r4
000a44  d8f7              BHI      |L1.2614|
000a46  f04f0400          MOV      r4,#0
000a4a  e005              B        |L1.2648|
                  |L1.2636|
000a4c  5d38              LDRB     r0,[r7,r4]
000a4e  f7fffffe          BL       putchar_sc16is700
000a52  f1040401          ADD      r4,r4,#1
000a56  b2e4              UXTB     r4,r4
                  |L1.2648|
000a58  42a5              CMP      r5,r4
000a5a  d8f7              BHI      |L1.2636|
000a5c  b033              ADD      sp,sp,#0xcc
                  |L1.2654|
000a5e  e8bd83f0          POP      {r4-r9,pc}
;;;454    
                          ENDP

                  modbus_hold_registers_transmit PROC
;;;696    //-----------------------------------------------
;;;697    void modbus_hold_registers_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr,unsigned short reg_quantity, char prot)
000a62  e92d43f0          PUSH     {r4-r9,lr}
;;;698    {
000a66  b0a7              SUB      sp,sp,#0x9c
000a68  4680              MOV      r8,r0
000a6a  9e2e              LDR      r6,[sp,#0xb8]
000a6c  4689              MOV      r9,r1
000a6e  4617              MOV      r7,r2
000a70  461d              MOV      r5,r3
;;;699    //char modbus_registers[150];
;;;700    char modbus_tx_buff[150];
;;;701    unsigned short crc_temp;
;;;702    char i;
;;;703    
;;;704    modbus_registers[20]=(char)((LPC_RTC->YEAR)/256);			//Πεγ11  Βπεμ, γξδ
000a72  48ff              LDR      r0,|L1.3696|
000a74  8f80              LDRH     r0,[r0,#0x3c]
000a76  4cff              LDR      r4,|L1.3700|
000a78  ea4f2010          LSR      r0,r0,#8
000a7c  7020              STRB     r0,[r4,#0]
;;;705    modbus_registers[21]=(char)((LPC_RTC->YEAR)%256);
000a7e  48fc              LDR      r0,|L1.3696|
000a80  8f80              LDRH     r0,[r0,#0x3c]
000a82  7060              STRB     r0,[r4,#1]
;;;706    modbus_registers[22]=(char)((LPC_RTC->MONTH)/256);		//Πεγ12  Βπεμ, μερφ
000a84  48fa              LDR      r0,|L1.3696|
000a86  f8900038          LDRB     r0,[r0,#0x38]
000a8a  f04f0000          MOV      r0,#0
000a8e  70a0              STRB     r0,[r4,#2]
;;;707    modbus_registers[23]=(char)((LPC_RTC->MONTH)%256);
000a90  49f9              LDR      r1,|L1.3704|
000a92  7809              LDRB     r1,[r1,#0]
000a94  70e1              STRB     r1,[r4,#3]
;;;708    modbus_registers[24]=(char)((LPC_RTC->DOM)/256);			//Πεγ13  Βπεμ, δενό μερφΰ
000a96  49f9              LDR      r1,|L1.3708|
000a98  7809              LDRB     r1,[r1,#0]
000a9a  7120              STRB     r0,[r4,#4]
;;;709    modbus_registers[25]=(char)((LPC_RTC->DOM)%256);
000a9c  49f7              LDR      r1,|L1.3708|
000a9e  7809              LDRB     r1,[r1,#0]
000aa0  7161              STRB     r1,[r4,#5]
;;;710    modbus_registers[26]=(char)((LPC_RTC->HOUR)/256);			//Πεγ14  Βπεμ, χΰρ
000aa2  49f7              LDR      r1,|L1.3712|
000aa4  7809              LDRB     r1,[r1,#0]
000aa6  71a0              STRB     r0,[r4,#6]
;;;711    modbus_registers[27]=(char)((LPC_RTC->HOUR)%256);
000aa8  49f5              LDR      r1,|L1.3712|
000aaa  7809              LDRB     r1,[r1,#0]
000aac  71e1              STRB     r1,[r4,#7]
;;;712    modbus_registers[28]=(char)((LPC_RTC->MIN)/256);			//Πεγ15  Βπεμ, μθνσςϋ
000aae  49f5              LDR      r1,|L1.3716|
000ab0  7809              LDRB     r1,[r1,#0]
000ab2  7220              STRB     r0,[r4,#8]
;;;713    modbus_registers[29]=(char)((LPC_RTC->MIN)%256);
000ab4  49f3              LDR      r1,|L1.3716|
000ab6  7809              LDRB     r1,[r1,#0]
000ab8  7261              STRB     r1,[r4,#9]
;;;714    modbus_registers[30]=(char)((LPC_RTC->SEC)/256);			//Πεγ16  Βπεμ, ρεκσνδϋ
000aba  49f3              LDR      r1,|L1.3720|
000abc  7809              LDRB     r1,[r1,#0]
000abe  72a0              STRB     r0,[r4,#0xa]
;;;715    modbus_registers[31]=(char)((LPC_RTC->SEC)%256);
000ac0  48f1              LDR      r0,|L1.3720|
000ac2  7800              LDRB     r0,[r0,#0]
000ac4  72e0              STRB     r0,[r4,#0xb]
000ac6  f1040412          ADD      r4,r4,#0x12
;;;716    modbus_registers[38]=(char)(NUMIST/256);				//Πεγ20  Κξλθχερςβξ βϋοπμθςελει β ρςπσκςσπε
000aca  48f0              LDR      r0,|L1.3724|
000acc  f9b00000          LDRSH    r0,[r0,#0]  ; NUMIST
000ad0  ea4f71e0          ASR      r1,r0,#31
000ad4  eb006111          ADD      r1,r0,r1,LSR #24
000ad8  ea4f2221          ASR      r2,r1,#8
000adc  7022              STRB     r2,[r4,#0]
;;;717    modbus_registers[39]=(char)(NUMIST%256);
000ade  7060              STRB     r0,[r4,#1]
;;;718    modbus_registers[40]=(char)(PAR/256);					//Πεγ21  Οΰπΰλλελόνΰ πΰαξςΰ βϋοπμθςελει βκλ./βϋκλ.
000ae0  48eb              LDR      r0,|L1.3728|
000ae2  f9b00000          LDRSH    r0,[r0,#0]  ; PAR
000ae6  ea4f71e0          ASR      r1,r0,#31
000aea  eb006111          ADD      r1,r0,r1,LSR #24
000aee  ea4f2221          ASR      r2,r1,#8
000af2  70a2              STRB     r2,[r4,#2]
;;;719    modbus_registers[41]=(char)(PAR%256);
000af4  70e0              STRB     r0,[r4,#3]
;;;720    modbus_registers[42]=(char)(ZV_ON/256);					//Πεγ22  Ηβσκξβΰ ΰβΰπθινΰ ρθγνΰλθηΰφθ βκλ./βϋκλ.
000af6  48e7              LDR      r0,|L1.3732|
000af8  f9b00000          LDRSH    r0,[r0,#0]  ; ZV_ON
000afc  ea4f71e0          ASR      r1,r0,#31
000b00  eb006111          ADD      r1,r0,r1,LSR #24
000b04  ea4f2221          ASR      r2,r1,#8
000b08  7122              STRB     r2,[r4,#4]
;;;721    modbus_registers[43]=(char)(ZV_ON%256);
000b0a  7160              STRB     r0,[r4,#5]
;;;722    modbus_registers[46]=(char)(UBM_AV/256);				//Πεγ24  ΐβΰπθινϋι σπξβενό ξςκλξνενθ νΰοπζενθ ρπεδνει ςξχκθ αΰςΰπεθ, %
000b0c  48e2              LDR      r0,|L1.3736|
000b0e  f9b00000          LDRSH    r0,[r0,#0]  ; UBM_AV
000b12  ea4f71e0          ASR      r1,r0,#31
000b16  eb006111          ADD      r1,r0,r1,LSR #24
000b1a  ea4f2221          ASR      r2,r1,#8
000b1e  7222              STRB     r2,[r4,#8]
;;;723    modbus_registers[47]=(char)(UBM_AV%256);
000b20  7260              STRB     r0,[r4,#9]
;;;724    modbus_registers[58]=(char)(TBAT/256);					//Πεγ30  Οεπθξδ οπξβεπκθ φεοθ αΰςΰπεθ, μθνσς.
000b22  48de              LDR      r0,|L1.3740|
000b24  f9b00000          LDRSH    r0,[r0,#0]  ; TBAT
000b28  ea4f71e0          ASR      r1,r0,#31
000b2c  eb006111          ADD      r1,r0,r1,LSR #24
000b30  ea4f2221          ASR      r2,r1,#8
000b34  7522              STRB     r2,[r4,#0x14]
;;;725    modbus_registers[59]=(char)(TBAT%256);
000b36  7560              STRB     r0,[r4,#0x15]
;;;726    modbus_registers[60]=(char)(UMAX/256);					//Πεγ31  Μΰκρθμΰλόνξε (ΰβΰπθινξε) νΰοπζενθε βϋοπμθςελει, 0.1Β
000b38  48d9              LDR      r0,|L1.3744|
000b3a  f9b00000          LDRSH    r0,[r0,#0]  ; UMAX
000b3e  ea4f71e0          ASR      r1,r0,#31
000b42  eb006111          ADD      r1,r0,r1,LSR #24
000b46  ea4f2221          ASR      r2,r1,#8
000b4a  75a2              STRB     r2,[r4,#0x16]
;;;727    modbus_registers[61]=(char)(UMAX%256);
000b4c  75e0              STRB     r0,[r4,#0x17]
;;;728    modbus_registers[62]=(char)((UB20-DU)/256);				//Πεγ32  Μθνθμΰλόνξε (ΰβΰπθινξε) νΰοπζενθε βϋοπμθςελει, 0.1Β
000b4e  48d5              LDR      r0,|L1.3748|
000b50  f9b03000          LDRSH    r3,[r0,#0]  ; UB20
000b54  48d4              LDR      r0,|L1.3752|
000b56  f9b00000          LDRSH    r0,[r0,#0]  ; DU
000b5a  eba30000          SUB      r0,r3,r0
000b5e  ea4f71e0          ASR      r1,r0,#31
000b62  eb006111          ADD      r1,r0,r1,LSR #24
000b66  ea4f2221          ASR      r2,r1,#8
000b6a  7622              STRB     r2,[r4,#0x18]
;;;729    modbus_registers[63]=(char)((UB20-DU)%256);
000b6c  7660              STRB     r0,[r4,#0x19]
;;;730    modbus_registers[64]=(char)(UB0/256);					//Πεγ33  Νΰοπζενθε ρξδεπζΰνθ αΰςΰπεθ οπθ 0γΦ, 0.1Β
000b6e  48cf              LDR      r0,|L1.3756|
000b70  f9b00000          LDRSH    r0,[r0,#0]  ; UB0
000b74  ea4f71e0          ASR      r1,r0,#31
000b78  eb006111          ADD      r1,r0,r1,LSR #24
000b7c  ea4f2221          ASR      r2,r1,#8
000b80  76a2              STRB     r2,[r4,#0x1a]
;;;731    modbus_registers[65]=(char)(UB0%256);
000b82  76e0              STRB     r0,[r4,#0x1b]
;;;732    modbus_registers[66]=(char)(UB20/256);					//Πεγ34  Νΰοπζενθε ρξδεπζΰνθ αΰςΰπεθ οπθ 20γΦ, 0.1Β
000b84  ea4f70e3          ASR      r0,r3,#31
000b88  eb036010          ADD      r0,r3,r0,LSR #24
000b8c  ea4f2120          ASR      r1,r0,#8
000b90  7721              STRB     r1,[r4,#0x1c]
;;;733    modbus_registers[67]=(char)(UB20%256);
000b92  4618              MOV      r0,r3
000b94  7760              STRB     r0,[r4,#0x1d]
;;;734    modbus_registers[68]=(char)(USIGN/256);					//Πεγ35  Μθνθμΰλόνξε (ρθγνΰλόνξε) νΰοπζενθε αΰςΰπεθ, 1Β
000b96  48c6              LDR      r0,|L1.3760|
000b98  f9b00000          LDRSH    r0,[r0,#0]  ; USIGN
000b9c  ea4f71e0          ASR      r1,r0,#31
000ba0  eb006111          ADD      r1,r0,r1,LSR #24
000ba4  ea4f2221          ASR      r2,r1,#8
000ba8  77a2              STRB     r2,[r4,#0x1e]
;;;735    modbus_registers[69]=(char)(USIGN%256);
000baa  77e0              STRB     r0,[r4,#0x1f]
;;;736    modbus_registers[70]=(char)(UMN/256);					//Πεγ36  Μθνθμΰλόνξε (ΰβΰπθινξε) νΰοπζενθε οθςΰώωει ρεςθ, 1Β
000bac  48c1              LDR      r0,|L1.3764|
000bae  f9b00000          LDRSH    r0,[r0,#0]  ; UMN
000bb2  ea4f71e0          ASR      r1,r0,#31
000bb6  eb006111          ADD      r1,r0,r1,LSR #24
000bba  ea4f2221          ASR      r2,r1,#8
000bbe  f8842020          STRB     r2,[r4,#0x20]
;;;737    modbus_registers[71]=(char)(UMN%256);
000bc2  f8840021          STRB     r0,[r4,#0x21]
;;;738    modbus_registers[72]=(char)(U0B/256);					//Πεγ37  Πΰαξχεε νΰοπζενθε οπθ νεββεδεννϋυ αΰςΰπευ, 0.1Β
000bc6  48bc              LDR      r0,|L1.3768|
000bc8  f9b00000          LDRSH    r0,[r0,#0]  ; U0B
000bcc  ea4f71e0          ASR      r1,r0,#31
000bd0  eb006111          ADD      r1,r0,r1,LSR #24
000bd4  ea4f2221          ASR      r2,r1,#8
000bd8  f8842022          STRB     r2,[r4,#0x22]
;;;739    modbus_registers[73]=(char)(U0B%256);
000bdc  f8840023          STRB     r0,[r4,#0x23]
;;;740    modbus_registers[74]=(char)(IKB/256);					//Πεγ38  ξκ κξνςπξλ νΰλθχθ αΰςΰπεθ, 0.1ΰ
000be0  48b6              LDR      r0,|L1.3772|
000be2  f9b00000          LDRSH    r0,[r0,#0]  ; IKB
000be6  ea4f71e0          ASR      r1,r0,#31
000bea  eb006111          ADD      r1,r0,r1,LSR #24
000bee  ea4f2221          ASR      r2,r1,#8
000bf2  f8842024          STRB     r2,[r4,#0x24]
;;;741    modbus_registers[75]=(char)(IKB%256);
000bf6  f8840025          STRB     r0,[r4,#0x25]
000bfa  f1a40426          SUB      r4,r4,#0x26
;;;742    modbus_registers[76]=(char)(IZMAX/256);					//Πεγ39  ξκ ηΰπδΰ αΰςΰπεθ μΰκρθμΰλόνϋι, 0.1ΐ
000bfe  48b0              LDR      r0,|L1.3776|
000c00  f9b00000          LDRSH    r0,[r0,#0]  ; IZMAX
000c04  ea4f71e0          ASR      r1,r0,#31
000c08  eb006111          ADD      r1,r0,r1,LSR #24
000c0c  ea4f2221          ASR      r2,r1,#8
000c10  f8042f4c          STRB     r2,[r4,#0x4c]!
;;;743    modbus_registers[77]=(char)(IZMAX%256);
000c14  7060              STRB     r0,[r4,#1]
;;;744    modbus_registers[78]=(char)(IMAX/256);					//Πεγ40  ξκ οεπεκλώχενθ νΰ αξλόψεε κξλ-βξ βϋοπμθςελει, 0.1ΐ
000c16  48ab              LDR      r0,|L1.3780|
000c18  f9b00000          LDRSH    r0,[r0,#0]  ; IMAX
000c1c  ea4f71e0          ASR      r1,r0,#31
000c20  eb006111          ADD      r1,r0,r1,LSR #24
000c24  ea4f2221          ASR      r2,r1,#8
000c28  70a2              STRB     r2,[r4,#2]
;;;745    modbus_registers[79]=(char)(IMAX%256);
000c2a  70e0              STRB     r0,[r4,#3]
;;;746    modbus_registers[80]=(char)(IMIN/256);					//Πεγ41  ξκ οεπεκλώχενθ νΰ μενόψεε κξλ-βξ βϋοπμθςελει, 0.1ΐ
000c2c  48a6              LDR      r0,|L1.3784|
000c2e  f9b00000          LDRSH    r0,[r0,#0]  ; IMIN
000c32  ea4f71e0          ASR      r1,r0,#31
000c36  eb006111          ADD      r1,r0,r1,LSR #24
000c3a  ea4f2221          ASR      r2,r1,#8
000c3e  7122              STRB     r2,[r4,#4]
;;;747    modbus_registers[81]=(char)(IMIN%256);
000c40  7160              STRB     r0,[r4,#5]
;;;748    modbus_registers[82]=(char)(UVZ/256);					//Πεγ42  Νΰοπζενθε βϋπΰβνθβΰώωεγξ ηΰπδΰ, 0.1Β
000c42  48a2              LDR      r0,|L1.3788|
000c44  f9b00000          LDRSH    r0,[r0,#0]  ; UVZ
000c48  ea4f71e0          ASR      r1,r0,#31
000c4c  eb006111          ADD      r1,r0,r1,LSR #24
000c50  ea4f2221          ASR      r2,r1,#8
000c54  71a2              STRB     r2,[r4,#6]
;;;749    modbus_registers[83]=(char)(UVZ%256);
000c56  71e0              STRB     r0,[r4,#7]
;;;750    modbus_registers[84]=(char)(TZAS/256);					//Πεγ43  Βπεμ ηΰδεπζκθ βκλώχενθ βϋοπμθςελει, ρεκ
000c58  489d              LDR      r0,|L1.3792|
000c5a  f9b00000          LDRSH    r0,[r0,#0]  ; TZAS
000c5e  ea4f71e0          ASR      r1,r0,#31
000c62  eb006111          ADD      r1,r0,r1,LSR #24
000c66  ea4f2221          ASR      r2,r1,#8
000c6a  7222              STRB     r2,[r4,#8]
;;;751    modbus_registers[85]=(char)(TZAS%256);
000c6c  7260              STRB     r0,[r4,#9]
;;;752    modbus_registers[86]=(char)(TMAX/256);					//Πεγ44  εμοεπΰςσπΰ βϋοπμθςελει ΰβΰπθινΰ, 1γΦ
000c6e  4899              LDR      r0,|L1.3796|
000c70  f9b00000          LDRSH    r0,[r0,#0]  ; TMAX
000c74  ea4f71e0          ASR      r1,r0,#31
000c78  eb006111          ADD      r1,r0,r1,LSR #24
000c7c  ea4f2221          ASR      r2,r1,#8
000c80  72a2              STRB     r2,[r4,#0xa]
;;;753    modbus_registers[87]=(char)(TMAX%256);
000c82  72e0              STRB     r0,[r4,#0xb]
;;;754    modbus_registers[88]=(char)(TSIGN/256);					//Πεγ45  εμοεπΰςσπΰ βϋοπμθςελει ρθγνΰλόνΰ, 1γΦ
000c84  4894              LDR      r0,|L1.3800|
000c86  f9b00000          LDRSH    r0,[r0,#0]  ; TSIGN
000c8a  ea4f71e0          ASR      r1,r0,#31
000c8e  eb006111          ADD      r1,r0,r1,LSR #24
000c92  ea4f2221          ASR      r2,r1,#8
000c96  7322              STRB     r2,[r4,#0xc]
;;;755    modbus_registers[89]=(char)(TSIGN%256);
000c98  7360              STRB     r0,[r4,#0xd]
;;;756    modbus_registers[90]=(char)(TBATMAX/256);				//Πεγ46  εμοεπΰςσπΰ αΰςΰπεθ ΰβΰπθινΰ, 1γΦ
000c9a  4890              LDR      r0,|L1.3804|
000c9c  f9b00000          LDRSH    r0,[r0,#0]  ; TBATMAX
000ca0  ea4f71e0          ASR      r1,r0,#31
000ca4  eb006111          ADD      r1,r0,r1,LSR #24
000ca8  ea4f2221          ASR      r2,r1,#8
000cac  73a2              STRB     r2,[r4,#0xe]
;;;757    modbus_registers[91]=(char)(TBATMAX%256);
000cae  73e0              STRB     r0,[r4,#0xf]
;;;758    modbus_registers[92]=(char)(TBATSIGN/256);				//Πεγ47  εμοεπΰςσπΰ αΰςΰπεθ ρθγνΰλόνΰ, 1γΦ
000cb0  488b              LDR      r0,|L1.3808|
000cb2  f9b00000          LDRSH    r0,[r0,#0]  ; TBATSIGN
000cb6  ea4f71e0          ASR      r1,r0,#31
000cba  eb006111          ADD      r1,r0,r1,LSR #24
000cbe  ea4f2221          ASR      r2,r1,#8
000cc2  7422              STRB     r2,[r4,#0x10]
;;;759    modbus_registers[93]=(char)(TBATSIGN%256);
000cc4  7460              STRB     r0,[r4,#0x11]
;;;760    modbus_registers[94]=(char)(speedChrgCurr/256);					//Πεγ48  ξκ σρκξπεννξγξ ηΰπδΰ, 0.1ΐ
000cc6  4887              LDR      r0,|L1.3812|
000cc8  f9b00000          LDRSH    r0,[r0,#0]  ; speedChrgCurr
000ccc  ea4f71e0          ASR      r1,r0,#31
000cd0  eb006111          ADD      r1,r0,r1,LSR #24
000cd4  ea4f2221          ASR      r2,r1,#8
000cd8  74a2              STRB     r2,[r4,#0x12]
;;;761    modbus_registers[95]=(char)(speedChrgCurr%256);
000cda  74e0              STRB     r0,[r4,#0x13]
;;;762    modbus_registers[96]=(char)(speedChrgVolt/256);				//Πεγ49	 Νΰοπζενθε σρκξπεννξγξ ηΰπδΰ, 0.1Β 
000cdc  4882              LDR      r0,|L1.3816|
000cde  f9b00000          LDRSH    r0,[r0,#0]  ; speedChrgVolt
000ce2  ea4f71e0          ASR      r1,r0,#31
000ce6  eb006111          ADD      r1,r0,r1,LSR #24
000cea  ea4f2221          ASR      r2,r1,#8
000cee  7522              STRB     r2,[r4,#0x14]
;;;763    modbus_registers[97]=(char)(speedChrgVolt%256);
000cf0  7560              STRB     r0,[r4,#0x15]
;;;764    modbus_registers[98]=(char)(speedChrgTimeInHour/256);				//Πεγ50	 Βπεμ σρκξπεννξγξ ηΰπδΰ, 1χ
000cf2  487e              LDR      r0,|L1.3820|
000cf4  f9b00000          LDRSH    r0,[r0,#0]  ; speedChrgTimeInHour
000cf8  ea4f71e0          ASR      r1,r0,#31
000cfc  eb006111          ADD      r1,r0,r1,LSR #24
000d00  ea4f2221          ASR      r2,r1,#8
000d04  75a2              STRB     r2,[r4,#0x16]
;;;765    modbus_registers[99]=(char)(speedChrgTimeInHour%256);
000d06  75e0              STRB     r0,[r4,#0x17]
;;;766    modbus_registers[100]=(char)(U_OUT_KONTR_MAX/256);					//Πεγ51	 Κξνςπξλό βϋυξδνξγξ νΰοπζενθ, Umax, 0.1Β
000d08  4879              LDR      r0,|L1.3824|
000d0a  f9b00000          LDRSH    r0,[r0,#0]  ; U_OUT_KONTR_MAX
000d0e  ea4f71e0          ASR      r1,r0,#31
000d12  eb006111          ADD      r1,r0,r1,LSR #24
000d16  ea4f2221          ASR      r2,r1,#8
000d1a  7622              STRB     r2,[r4,#0x18]
;;;767    modbus_registers[101]=(char)(U_OUT_KONTR_MAX%256);
000d1c  7660              STRB     r0,[r4,#0x19]
;;;768    modbus_registers[102]=(char)(U_OUT_KONTR_MIN/256);					//Πεγ52	 Κξνςπξλό βϋυξδνξγξ νΰοπζενθ, Umin, 0.1Β
000d1e  4875              LDR      r0,|L1.3828|
000d20  f9b00000          LDRSH    r0,[r0,#0]  ; U_OUT_KONTR_MIN
000d24  ea4f71e0          ASR      r1,r0,#31
000d28  eb006111          ADD      r1,r0,r1,LSR #24
000d2c  ea4f2221          ASR      r2,r1,#8
000d30  76a2              STRB     r2,[r4,#0x1a]
;;;769    modbus_registers[103]=(char)(U_OUT_KONTR_MIN%256);
000d32  76e0              STRB     r0,[r4,#0x1b]
;;;770    modbus_registers[104]=(char)(U_OUT_KONTR_DELAY/256);				//Πεγ53	 Κξνςπξλό βϋυξδνξγξ νΰοπζενθ, Tηΰδεπζκθ, 1ρεκ.
000d34  4870              LDR      r0,|L1.3832|
000d36  f9b00000          LDRSH    r0,[r0,#0]  ; U_OUT_KONTR_DELAY
000d3a  ea4f71e0          ASR      r1,r0,#31
000d3e  eb006111          ADD      r1,r0,r1,LSR #24
000d42  ea4f2221          ASR      r2,r1,#8
000d46  7722              STRB     r2,[r4,#0x1c]
;;;771    modbus_registers[105]=(char)(U_OUT_KONTR_DELAY%256);
000d48  7760              STRB     r0,[r4,#0x1d]
;;;772    
;;;773    			if(modbus_rx_arg0==51)		//
000d4a  4c6c              LDR      r4,|L1.3836|
000d4c  89a0              LDRH     r0,[r4,#0xc]  ; modbus_rx_arg0
000d4e  2833              CMP      r0,#0x33
000d50  d104              BNE      |L1.3420|
;;;774    				{
;;;775    				lc640_write_int(EE_U_OUT_KONTR_MAX,modbus_rx_arg1);
000d52  89e1              LDRH     r1,[r4,#0xe]  ; modbus_rx_arg1
000d54  f44f7095          MOV      r0,#0x12a
000d58  f7fffffe          BL       lc640_write_int
                  |L1.3420|
;;;776    	     		}
;;;777    			if(modbus_rx_arg0==52)		//
000d5c  89a0              LDRH     r0,[r4,#0xc]  ; modbus_rx_arg0
000d5e  2834              CMP      r0,#0x34
000d60  d104              BNE      |L1.3436|
;;;778    				{
;;;779    				lc640_write_int(EE_U_OUT_KONTR_MIN,modbus_rx_arg1);
000d62  89e1              LDRH     r1,[r4,#0xe]  ; modbus_rx_arg1
000d64  f44f7096          MOV      r0,#0x12c
000d68  f7fffffe          BL       lc640_write_int
                  |L1.3436|
;;;780    	     		}
;;;781    			if(modbus_rx_arg0==53)		//
000d6c  89a0              LDRH     r0,[r4,#0xc]  ; modbus_rx_arg0
000d6e  2835              CMP      r0,#0x35
000d70  d104              BNE      |L1.3452|
;;;782    				{
;;;783    				lc640_write_int(EE_U_OUT_KONTR_DELAY,modbus_rx_arg1);
000d72  89e1              LDRH     r1,[r4,#0xe]  ; modbus_rx_arg1
000d74  f44f7097          MOV      r0,#0x12e
000d78  f7fffffe          BL       lc640_write_int
                  |L1.3452|
000d7c  483d              LDR      r0,|L1.3700|
;;;784    	     		}
;;;785    
;;;786    
;;;787    if(prot==MODBUS_RTU_PROT)
;;;788    	{
;;;789    	modbus_tx_buff[0]=adr;
;;;790    	modbus_tx_buff[1]=func;
;;;791    	modbus_tx_buff[2]=(char)(reg_quantity*2);
;;;792    	mem_copy((char*)&modbus_tx_buff[3],(char*)&modbus_registers[(reg_adr-1)*2],reg_quantity*2);
000d7e  1e7f              SUBS     r7,r7,#1
000d80  3814              SUBS     r0,r0,#0x14           ;704
000d82  eb000147          ADD      r1,r0,r7,LSL #1
000d86  b12e              CBZ      r6,|L1.3476|
;;;793    	
;;;794    	crc_temp=CRC16_2(modbus_tx_buff,(reg_quantity*2)+3);
;;;795    
;;;796    	modbus_tx_buff[3+(reg_quantity*2)]=crc_temp%256;
;;;797    	modbus_tx_buff[4+(reg_quantity*2)]=crc_temp/256;
;;;798    
;;;799    	for (i=0;i<(5+(reg_quantity*2));i++)
;;;800    		{
;;;801    		putchar0(modbus_tx_buff[i]);
;;;802    		}
;;;803    
;;;804    	for (i=0;i<(5+(reg_quantity*2));i++)
;;;805    		{
;;;806    		putchar_sc16is700(modbus_tx_buff[i]);
;;;807    		}
;;;808    	}
;;;809    else if(prot==MODBUS_TCP_PROT)
000d88  2e01              CMP      r6,#1
000d8a  d101              BNE      |L1.3472|
;;;810    	{
;;;811    	modbus_tcp_out_ptr=(char*)&modbus_registers[(reg_adr-1)*2];
000d8c  485c              LDR      r0,|L1.3840|
000d8e  6001              STR      r1,[r0,#0]  ; modbus_tcp_out_ptr
                  |L1.3472|
;;;812    	}
;;;813    }
000d90  b027              ADD      sp,sp,#0x9c
000d92  e664              B        |L1.2654|
                  |L1.3476|
000d94  f88d8004          STRB     r8,[sp,#4]            ;789
000d98  f88d9005          STRB     r9,[sp,#5]            ;790
000d9c  ea4f0245          LSL      r2,r5,#1              ;791
000da0  f88d2006          STRB     r2,[sp,#6]            ;791
000da4  ae01              ADD      r6,sp,#4              ;792
000da6  f10d0007          ADD      r0,sp,#7              ;792
000daa  f7fffffe          BL       mem_copy
000dae  2003              MOVS     r0,#3                 ;794
000db0  eb000045          ADD      r0,r0,r5,LSL #1       ;794
000db4  b201              SXTH     r1,r0                 ;794
000db6  a801              ADD      r0,sp,#4              ;794
000db8  f7fffffe          BL       CRC16_2
000dbc  eb060145          ADD      r1,r6,r5,LSL #1       ;796
000dc0  70c8              STRB     r0,[r1,#3]            ;796
000dc2  ea4f2010          LSR      r0,r0,#8              ;797
000dc6  7108              STRB     r0,[r1,#4]            ;797
000dc8  f04f0400          MOV      r4,#0                 ;799
000dcc  f04f0005          MOV      r0,#5                 ;799
000dd0  eb000545          ADD      r5,r0,r5,LSL #1       ;799
000dd4  e005              B        |L1.3554|
                  |L1.3542|
000dd6  5d30              LDRB     r0,[r6,r4]            ;801
000dd8  f7fffffe          BL       putchar0
000ddc  f1040401          ADD      r4,r4,#1              ;799
000de0  b2e4              UXTB     r4,r4                 ;799
                  |L1.3554|
000de2  42a5              CMP      r5,r4                 ;799
000de4  d8f7              BHI      |L1.3542|
000de6  f04f0400          MOV      r4,#0                 ;804
000dea  e005              B        |L1.3576|
                  |L1.3564|
000dec  5d30              LDRB     r0,[r6,r4]            ;806
000dee  f7fffffe          BL       putchar_sc16is700
000df2  f1040401          ADD      r4,r4,#1              ;804
000df6  b2e4              UXTB     r4,r4                 ;804
                  |L1.3576|
000df8  42a5              CMP      r5,r4                 ;804
000dfa  d8f7              BHI      |L1.3564|
000dfc  e7c8              B        |L1.3472|
;;;814    
                          ENDP

                  modbus_in PROC
;;;59     //-----------------------------------------------
;;;60     void modbus_in(void)
000dfe  e92d43f8          PUSH     {r3-r9,lr}
;;;61     {
;;;62     short crc16_calculated;		//βϋχθρλεμΰ θη οπθνςϋυ δΰννϋυ CRC
;;;63     short crc16_incapsulated;	//βρςπξενννΰ β οξρϋλκσ CRC
;;;64     unsigned short modbus_rx_arg0;		//βρςπξεννϋι β οξρϋλκσ οεπβϋι ΰπγσμενς
;;;65     unsigned short modbus_rx_arg1;		//βρςπξεννϋι β οξρϋλκσ βςξπξι ΰπγσμενς
;;;66     unsigned short modbus_rx_arg2;		//βρςπξεννϋι β οξρϋλκσ ςπεςθι ΰπγσμενς
;;;67     unsigned short modbus_rx_arg3;		//βρςπξεννϋι β οξρϋλκσ χεςβεπςϋι ΰπγσμενς
;;;68     unsigned char modbus_func;			//βρςπξεννϋι β οξρϋλκσ κξδ τσνκφθθ
;;;69     
;;;70     
;;;71     
;;;72     mem_copy(modbus_an_buffer,modbus_rx_buffer,modbus_rx_buffer_ptr);
000e02  4e3e              LDR      r6,|L1.3836|
000e04  491b              LDR      r1,|L1.3700|
000e06  3950              SUBS     r1,r1,#0x50
000e08  7872              LDRB     r2,[r6,#1]  ; modbus_rx_buffer_ptr
000e0a  f101001e          ADD      r0,r1,#0x1e
000e0e  f7fffffe          BL       mem_copy
;;;73     modbus_rx_counter=modbus_rx_buffer_ptr;
000e12  7871              LDRB     r1,[r6,#1]  ; modbus_rx_buffer_ptr
000e14  70b1              STRB     r1,[r6,#2]
;;;74     modbus_rx_buffer_ptr=0;
000e16  f04f0800          MOV      r8,#0
000e1a  f8868001          STRB     r8,[r6,#1]
;;;75     bMODBUS_TIMEOUT=0;
000e1e  f8868000          STRB     r8,[r6,#0]
;;;76     	
;;;77     crc16_calculated  = CRC16_2(modbus_an_buffer, modbus_rx_counter-2);
000e22  4814              LDR      r0,|L1.3700|
000e24  f1a10102          SUB      r1,r1,#2
000e28  f1a00032          SUB      r0,r0,#0x32
000e2c  f7fffffe          BL       CRC16_2
000e30  b201              SXTH     r1,r0
;;;78     crc16_incapsulated = *((short*)&modbus_an_buffer[modbus_rx_counter-2]);
000e32  4810              LDR      r0,|L1.3700|
000e34  78b3              LDRB     r3,[r6,#2]  ; modbus_rx_counter
000e36  3832              SUBS     r0,r0,#0x32
000e38  eb000203          ADD      r2,r0,r3
000e3c  f9322c02          LDRSH    r2,[r2,#-2]
;;;79     
;;;80     modbus_plazma1=modbus_rx_counter;
000e40  80f3              STRH     r3,[r6,#6]
;;;81     modbus_plazma2=crc16_calculated;
000e42  8131              STRH     r1,[r6,#8]
;;;82     modbus_plazma3=crc16_incapsulated;
000e44  8172              STRH     r2,[r6,#0xa]
;;;83     
;;;84     modbus_func=modbus_an_buffer[1];
000e46  7847              LDRB     r7,[r0,#1]  ; modbus_an_buffer
;;;85     modbus_rx_arg0=(((unsigned short)modbus_an_buffer[2])*((unsigned short)256))+((unsigned short)modbus_an_buffer[3]);
000e48  78c3              LDRB     r3,[r0,#3]  ; modbus_an_buffer
000e4a  7884              LDRB     r4,[r0,#2]  ; modbus_an_buffer
000e4c  eb032304          ADD      r3,r3,r4,LSL #8
000e50  b29c              UXTH     r4,r3
;;;86     modbus_rx_arg1=(((unsigned short)modbus_an_buffer[4])*((unsigned short)256))+((unsigned short)modbus_an_buffer[5]);
000e52  7943              LDRB     r3,[r0,#5]  ; modbus_an_buffer
000e54  7905              LDRB     r5,[r0,#4]  ; modbus_an_buffer
000e56  eb032305          ADD      r3,r3,r5,LSL #8
000e5a  b29d              UXTH     r5,r3
;;;87     modbus_rx_arg2=(((unsigned short)modbus_an_buffer[6])*((unsigned short)256))+((unsigned short)modbus_an_buffer[7]);
;;;88     modbus_rx_arg3=(((unsigned short)modbus_an_buffer[8])*((unsigned short)256))+((unsigned short)modbus_an_buffer[9]);
;;;89     
;;;90     
;;;91     if(crc16_calculated==crc16_incapsulated)
000e5c  4291              CMP      r1,r2
000e5e  d17e              BNE      |L1.3934|
;;;92     	{
;;;93     	
;;;94     	if(modbus_an_buffer[0]==MODBUS_ADRESS)
000e60  f8df90a0          LDR      r9,|L1.3844|
000e64  7801              LDRB     r1,[r0,#0]  ; modbus_an_buffer
000e66  f9b90000          LDRSH    r0,[r9,#0]  ; MODBUS_ADRESS
000e6a  e04d              B        |L1.3848|
                  |L1.3692|
                          DCD      sk_av_stat
                  |L1.3696|
                          DCD      0x40024000
                  |L1.3700|
                          DCD      ||area_number.6||+0x50
                  |L1.3704|
                          DCD      0x40024038
                  |L1.3708|
                          DCD      0x4002402c
                  |L1.3712|
                          DCD      0x40024028
                  |L1.3716|
                          DCD      0x40024024
                  |L1.3720|
                          DCD      0x40024020
                  |L1.3724|
                          DCD      NUMIST
                  |L1.3728|
                          DCD      PAR
                  |L1.3732|
                          DCD      ZV_ON
                  |L1.3736|
                          DCD      UBM_AV
                  |L1.3740|
                          DCD      TBAT
                  |L1.3744|
                          DCD      UMAX
                  |L1.3748|
                          DCD      UB20
                  |L1.3752|
                          DCD      ||DU||
                  |L1.3756|
                          DCD      UB0
                  |L1.3760|
                          DCD      USIGN
                  |L1.3764|
                          DCD      UMN
                  |L1.3768|
                          DCD      U0B
                  |L1.3772|
                          DCD      IKB
                  |L1.3776|
                          DCD      IZMAX
                  |L1.3780|
                          DCD      IMAX
                  |L1.3784|
                          DCD      IMIN
                  |L1.3788|
                          DCD      UVZ
                  |L1.3792|
                          DCD      TZAS
                  |L1.3796|
                          DCD      TMAX
                  |L1.3800|
                          DCD      TSIGN
                  |L1.3804|
                          DCD      TBATMAX
                  |L1.3808|
                          DCD      TBATSIGN
                  |L1.3812|
                          DCD      speedChrgCurr
                  |L1.3816|
                          DCD      speedChrgVolt
                  |L1.3820|
                          DCD      speedChrgTimeInHour
                  |L1.3824|
                          DCD      U_OUT_KONTR_MAX
                  |L1.3828|
                          DCD      U_OUT_KONTR_MIN
                  |L1.3832|
                          DCD      U_OUT_KONTR_DELAY
                  |L1.3836|
                          DCD      ||area_number.10||
                  |L1.3840|
                          DCD      modbus_tcp_out_ptr
                  |L1.3844|
                          DCD      MODBUS_ADRESS
                  |L1.3848|
000f08  4281              CMP      r1,r0
000f0a  d128              BNE      |L1.3934|
;;;95     		{
;;;96     		if(modbus_func==3)		//χςενθε οπξθηβξλόνξγξ κξλ-βΰ πεγθρςπξβ υπΰνενθ
000f0c  2f03              CMP      r7,#3
000f0e  d10b              BNE      |L1.3880|
;;;97     			{
;;;98     			modbus_plazma++;
000f10  88b1              LDRH     r1,[r6,#4]  ; modbus_plazma
000f12  f1010101          ADD      r1,r1,#1
000f16  80b1              STRH     r1,[r6,#4]
;;;99     			modbus_hold_registers_transmit(MODBUS_ADRESS,modbus_func,modbus_rx_arg0,modbus_rx_arg1,0);
000f18  462b              MOV      r3,r5
000f1a  4622              MOV      r2,r4
000f1c  4639              MOV      r1,r7
000f1e  b2c0              UXTB     r0,r0
000f20  f8cd8000          STR      r8,[sp,#0]
000f24  f7fffffe          BL       modbus_hold_registers_transmit
                  |L1.3880|
;;;100    			}
;;;101    
;;;102    		if(modbus_func==4)		//χςενθε οπξθηβξλόνξγξ κξλ-βΰ πεγθρςπξβ	βυξδξβ
000f28  2f04              CMP      r7,#4
000f2a  d005              BEQ      |L1.3896|
;;;103    			{
;;;104    			modbus_input_registers_transmit(MODBUS_ADRESS,modbus_func,modbus_rx_arg0,modbus_rx_arg1);
;;;105    			}
;;;106    
;;;107    		else if(modbus_func==6) 	//ηΰοθρό πεγθρςπξβ υπΰνενθ
000f2c  2f06              CMP      r7,#6
000f2e  d116              BNE      |L1.3934|
;;;108    			{
;;;109    			if(modbus_rx_arg0==11)		//Σρςΰνξβκΰ βπεμενθ 
;;;110    				{
;;;111    				LPC_RTC->YEAR=(uint16_t)modbus_rx_arg1;
000f30  4881              LDR      r0,|L1.4408|
000f32  2c0b              CMP      r4,#0xb               ;109
000f34  d00b              BEQ      |L1.3918|
000f36  e00b              B        |L1.3920|
                  |L1.3896|
000f38  f8b90000          LDRH     r0,[r9,#0]            ;104  ; MODBUS_ADRESS
000f3c  b001              ADD      sp,sp,#4              ;104
000f3e  462b              MOV      r3,r5                 ;104
000f40  4622              MOV      r2,r4                 ;104
000f42  4639              MOV      r1,r7                 ;104
000f44  e8bd43f0          POP      {r4-r9,lr}            ;104
000f48  b2c0              UXTB     r0,r0                 ;104
000f4a  f7ffbffe          B.W      modbus_input_registers_transmit
                  |L1.3918|
000f4e  8785              STRH     r5,[r0,#0x3c]
                  |L1.3920|
;;;112    				}
;;;113    			if(modbus_rx_arg0==12)		//Σρςΰνξβκΰ βπεμενθ 
000f50  2c0c              CMP      r4,#0xc
000f52  d101              BNE      |L1.3928|
;;;114    				{
;;;115    				LPC_RTC->MONTH=(uint16_t)modbus_rx_arg1;
000f54  f8805038          STRB     r5,[r0,#0x38]
                  |L1.3928|
;;;116    				}
;;;117    			if(modbus_rx_arg0==13)		//Σρςΰνξβκΰ βπεμενθ 
000f58  2c0d              CMP      r4,#0xd
000f5a  d103              BNE      |L1.3940|
;;;118    				{
;;;119    				LPC_RTC->DOM=(uint16_t)modbus_rx_arg1;
000f5c  e000              B        |L1.3936|
                  |L1.3934|
000f5e  e0e9              B        |L1.4404|
                  |L1.3936|
000f60  f880502c          STRB     r5,[r0,#0x2c]
                  |L1.3940|
;;;120    				}
;;;121    			if(modbus_rx_arg0==14)		//Σρςΰνξβκΰ βπεμενθ 
000f64  2c0e              CMP      r4,#0xe
000f66  d101              BNE      |L1.3948|
;;;122    				{
;;;123    				LPC_RTC->HOUR=(uint16_t)modbus_rx_arg1;
000f68  f8805028          STRB     r5,[r0,#0x28]
                  |L1.3948|
;;;124    				}
;;;125    			if(modbus_rx_arg0==15)		//Σρςΰνξβκΰ βπεμενθ 
000f6c  2c0f              CMP      r4,#0xf
000f6e  d101              BNE      |L1.3956|
;;;126    				{
;;;127    				LPC_RTC->MIN=(uint16_t)modbus_rx_arg1;
000f70  f8805024          STRB     r5,[r0,#0x24]
                  |L1.3956|
;;;128    				}
;;;129    			if(modbus_rx_arg0==16)		//Σρςΰνξβκΰ βπεμενθ 
000f74  2c10              CMP      r4,#0x10
000f76  d101              BNE      |L1.3964|
;;;130    				{
;;;131    				LPC_RTC->SEC=(uint16_t)modbus_rx_arg1;
000f78  f8805020          STRB     r5,[r0,#0x20]
                  |L1.3964|
;;;132    				}
;;;133    			if(modbus_rx_arg0==20)		//ςξκ ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ ςξκΰ
000f7c  2c14              CMP      r4,#0x14
000f7e  d106              BNE      |L1.3982|
;;;134    				{
;;;135    				if((modbus_rx_arg1>0)&&(modbus_rx_arg1<5))
000f80  1e68              SUBS     r0,r5,#1
000f82  2804              CMP      r0,#4
000f84  d203              BCS      |L1.3982|
;;;136    				lc640_write_int(EE_NUMIST,modbus_rx_arg1);  
000f86  4629              MOV      r1,r5
000f88  2098              MOVS     r0,#0x98
000f8a  f7fffffe          BL       lc640_write_int
                  |L1.3982|
;;;137    				}
;;;138    			if(modbus_rx_arg0==21)		//ςξκ ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ ςξκΰ
000f8e  2c15              CMP      r4,#0x15
000f90  d106              BNE      |L1.4000|
;;;139    				{
;;;140    				if((modbus_rx_arg1==0)||(modbus_rx_arg1==1))
000f92  b10d              CBZ      r5,|L1.3992|
000f94  2d01              CMP      r5,#1
000f96  d103              BNE      |L1.4000|
                  |L1.3992|
;;;141    				lc640_write_int(EE_PAR,modbus_rx_arg1);  
000f98  4629              MOV      r1,r5
000f9a  20ca              MOVS     r0,#0xca
000f9c  f7fffffe          BL       lc640_write_int
                  |L1.4000|
;;;142    				}
;;;143    			if(modbus_rx_arg0==22)		//ςξκ ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ ςξκΰ
000fa0  2c16              CMP      r4,#0x16
000fa2  d106              BNE      |L1.4018|
;;;144    				{
;;;145    				if((modbus_rx_arg1==0)||(modbus_rx_arg1==1))
000fa4  b10d              CBZ      r5,|L1.4010|
000fa6  2d01              CMP      r5,#1
000fa8  d103              BNE      |L1.4018|
                  |L1.4010|
;;;146    				lc640_write_int(EE_ZV_ON,modbus_rx_arg1);  
000faa  4629              MOV      r1,r5
000fac  2086              MOVS     r0,#0x86
000fae  f7fffffe          BL       lc640_write_int
                  |L1.4018|
;;;147    				}
;;;148    			if(modbus_rx_arg0==23)		//ςξκ ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ ςξκΰ
000fb2  2c17              CMP      r4,#0x17
000fb4  d106              BNE      |L1.4036|
;;;149    				{
;;;150    				if((modbus_rx_arg1==0)||(modbus_rx_arg1==1))
000fb6  b10d              CBZ      r5,|L1.4028|
000fb8  2d01              CMP      r5,#1
000fba  d103              BNE      |L1.4036|
                  |L1.4028|
;;;151    				lc640_write_int(EE_TERMOKOMP,modbus_rx_arg1);  
000fbc  4629              MOV      r1,r5
000fbe  20f2              MOVS     r0,#0xf2
000fc0  f7fffffe          BL       lc640_write_int
                  |L1.4036|
;;;152    				}
;;;153    			if(modbus_rx_arg0==24)		//ςξκ ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ ςξκΰ
000fc4  2c18              CMP      r4,#0x18
000fc6  d104              BNE      |L1.4050|
;;;154    				{
;;;155    				if((modbus_rx_arg1>=0)||(modbus_rx_arg1<=20))
;;;156    				lc640_write_int(EE_UBM_AV,modbus_rx_arg1);  
000fc8  4629              MOV      r1,r5
000fca  f44f7019          MOV      r0,#0x264
000fce  f7fffffe          BL       lc640_write_int
                  |L1.4050|
;;;157    				}
;;;158    
;;;159    
;;;160    			if(modbus_rx_arg0==30)		//νΰοπζενθε ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ νΰοπζενθ
000fd2  2c1e              CMP      r4,#0x1e
000fd4  d112              BNE      |L1.4092|
;;;161    				{
;;;162    				if(modbus_rx_arg1<0)TBAT=0;
;;;163    				else if((modbus_rx_arg1>0)&&(modbus_rx_arg1<=5))modbus_rx_arg1=0;
000fd6  1e69              SUBS     r1,r5,#1
;;;164    				else if(modbus_rx_arg1>=60)TBAT=60;
000fd8  4858              LDR      r0,|L1.4412|
000fda  2904              CMP      r1,#4                 ;163
000fdc  d802              BHI      |L1.4068|
000fde  f04f0500          MOV      r5,#0                 ;163
000fe2  e006              B        |L1.4082|
                  |L1.4068|
000fe4  2d3c              CMP      r5,#0x3c
000fe6  d303              BCC      |L1.4080|
000fe8  f04f013c          MOV      r1,#0x3c
000fec  8001              STRH     r1,[r0,#0]
000fee  e000              B        |L1.4082|
                  |L1.4080|
;;;165    				else TBAT=modbus_rx_arg1;
000ff0  8005              STRH     r5,[r0,#0]
                  |L1.4082|
;;;166    				lc640_write_int(EE_TBAT,TBAT);
000ff2  f9b01000          LDRSH    r1,[r0,#0]  ; TBAT
000ff6  20c2              MOVS     r0,#0xc2
000ff8  f7fffffe          BL       lc640_write_int
                  |L1.4092|
;;;167    	     		}
;;;168    			if(modbus_rx_arg0==31)		//
000ffc  2c1f              CMP      r4,#0x1f
000ffe  d103              BNE      |L1.4104|
;;;169    				{
;;;170    				lc640_write_int(EE_UMAX,modbus_rx_arg1);
001000  4629              MOV      r1,r5
001002  2078              MOVS     r0,#0x78
001004  f7fffffe          BL       lc640_write_int
                  |L1.4104|
;;;171    	     		}
;;;172    			if(modbus_rx_arg0==32)		//
001008  2c20              CMP      r4,#0x20
00100a  d106              BNE      |L1.4122|
;;;173    				{
;;;174    				lc640_write_int(EE_DU,UB20-modbus_rx_arg1);
00100c  484c              LDR      r0,|L1.4416|
00100e  f9b00000          LDRSH    r0,[r0,#0]  ; UB20
001012  1b41              SUBS     r1,r0,r5
001014  20c8              MOVS     r0,#0xc8
001016  f7fffffe          BL       lc640_write_int
                  |L1.4122|
;;;175    	     		}
;;;176    			if(modbus_rx_arg0==33)		//
00101a  2c21              CMP      r4,#0x21
00101c  d103              BNE      |L1.4134|
;;;177    				{
;;;178    				lc640_write_int(EE_UB0,modbus_rx_arg1);
00101e  4629              MOV      r1,r5
001020  207a              MOVS     r0,#0x7a
001022  f7fffffe          BL       lc640_write_int
                  |L1.4134|
;;;179    	     		}
;;;180    			if(modbus_rx_arg0==34)		//
001026  2c22              CMP      r4,#0x22
001028  d103              BNE      |L1.4146|
;;;181    				{
;;;182    				lc640_write_int(EE_UB20,modbus_rx_arg1);
00102a  4629              MOV      r1,r5
00102c  207c              MOVS     r0,#0x7c
00102e  f7fffffe          BL       lc640_write_int
                  |L1.4146|
;;;183    	     		}
;;;184    			if(modbus_rx_arg0==35)		//
001032  2c23              CMP      r4,#0x23
001034  d103              BNE      |L1.4158|
;;;185    				{
;;;186    				lc640_write_int(EE_USIGN,modbus_rx_arg1);
001036  4629              MOV      r1,r5
001038  2082              MOVS     r0,#0x82
00103a  f7fffffe          BL       lc640_write_int
                  |L1.4158|
;;;187    	     		}
;;;188    			if(modbus_rx_arg0==36)		//
00103e  2c24              CMP      r4,#0x24
001040  d103              BNE      |L1.4170|
;;;189    				{
;;;190    				lc640_write_int(EE_UMN,modbus_rx_arg1);
001042  4629              MOV      r1,r5
001044  2084              MOVS     r0,#0x84
001046  f7fffffe          BL       lc640_write_int
                  |L1.4170|
;;;191    	     		}
;;;192    			if(modbus_rx_arg0==37)		//
00104a  2c25              CMP      r4,#0x25
00104c  d103              BNE      |L1.4182|
;;;193    				{
;;;194    				lc640_write_int(EE_U0B,modbus_rx_arg1);
00104e  4629              MOV      r1,r5
001050  2094              MOVS     r0,#0x94
001052  f7fffffe          BL       lc640_write_int
                  |L1.4182|
;;;195    	     		}
;;;196    			if(modbus_rx_arg0==38)		//
001056  2c26              CMP      r4,#0x26
001058  d103              BNE      |L1.4194|
;;;197    				{
;;;198    				lc640_write_int(EE_IKB,modbus_rx_arg1);
00105a  4629              MOV      r1,r5
00105c  2088              MOVS     r0,#0x88
00105e  f7fffffe          BL       lc640_write_int
                  |L1.4194|
;;;199    	     		}
;;;200    			if(modbus_rx_arg0==39)		//
001062  2c27              CMP      r4,#0x27
001064  d103              BNE      |L1.4206|
;;;201    				{
;;;202    				lc640_write_int(EE_IZMAX,modbus_rx_arg1);
001066  4629              MOV      r1,r5
001068  2092              MOVS     r0,#0x92
00106a  f7fffffe          BL       lc640_write_int
                  |L1.4206|
;;;203    	     		}
;;;204    			if(modbus_rx_arg0==40)		//
00106e  2c28              CMP      r4,#0x28
001070  d103              BNE      |L1.4218|
;;;205    				{
;;;206    				lc640_write_int(EE_IMAX,modbus_rx_arg1);
001072  4629              MOV      r1,r5
001074  208c              MOVS     r0,#0x8c
001076  f7fffffe          BL       lc640_write_int
                  |L1.4218|
;;;207    	     		}
;;;208    			if(modbus_rx_arg0==41)		//
00107a  2c29              CMP      r4,#0x29
00107c  d103              BNE      |L1.4230|
;;;209    				{
;;;210    				lc640_write_int(EE_IMIN,modbus_rx_arg1);
00107e  4629              MOV      r1,r5
001080  208e              MOVS     r0,#0x8e
001082  f7fffffe          BL       lc640_write_int
                  |L1.4230|
;;;211    	     		}
;;;212    			if(modbus_rx_arg0==42)		//
001086  2c2a              CMP      r4,#0x2a
001088  d103              BNE      |L1.4242|
;;;213    				{
;;;214    				lc640_write_int(EE_UVZ,modbus_rx_arg1);
00108a  4629              MOV      r1,r5
00108c  20de              MOVS     r0,#0xde
00108e  f7fffffe          BL       lc640_write_int
                  |L1.4242|
;;;215    	     		}
;;;216    			if(modbus_rx_arg0==43)		//
001092  2c2b              CMP      r4,#0x2b
001094  d103              BNE      |L1.4254|
;;;217    				{
;;;218    				lc640_write_int(EE_TZAS,modbus_rx_arg1);
001096  4629              MOV      r1,r5
001098  2096              MOVS     r0,#0x96
00109a  f7fffffe          BL       lc640_write_int
                  |L1.4254|
;;;219    	     		}
;;;220    			if(modbus_rx_arg0==44)		//
00109e  2c2c              CMP      r4,#0x2c
0010a0  d103              BNE      |L1.4266|
;;;221    				{
;;;222    				lc640_write_int(EE_TMAX,modbus_rx_arg1);
0010a2  4629              MOV      r1,r5
0010a4  207e              MOVS     r0,#0x7e
0010a6  f7fffffe          BL       lc640_write_int
                  |L1.4266|
;;;223    	     		}
;;;224    			if(modbus_rx_arg0==45)		//
0010aa  2c2d              CMP      r4,#0x2d
0010ac  d103              BNE      |L1.4278|
;;;225    				{
;;;226    				lc640_write_int(EE_TSIGN,modbus_rx_arg1);
0010ae  4629              MOV      r1,r5
0010b0  20c6              MOVS     r0,#0xc6
0010b2  f7fffffe          BL       lc640_write_int
                  |L1.4278|
;;;227    	     		}
;;;228    			if(modbus_rx_arg0==46)		//
0010b6  2c2e              CMP      r4,#0x2e
0010b8  d103              BNE      |L1.4290|
;;;229    				{
;;;230    				lc640_write_int(EE_TBATMAX,modbus_rx_arg1);
0010ba  4629              MOV      r1,r5
0010bc  20cc              MOVS     r0,#0xcc
0010be  f7fffffe          BL       lc640_write_int
                  |L1.4290|
;;;231    	     		}
;;;232    			if(modbus_rx_arg0==47)		//
0010c2  2c2f              CMP      r4,#0x2f
0010c4  d103              BNE      |L1.4302|
;;;233    				{
;;;234    				lc640_write_int(EE_TBATSIGN,modbus_rx_arg1);
0010c6  4629              MOV      r1,r5
0010c8  20ce              MOVS     r0,#0xce
0010ca  f7fffffe          BL       lc640_write_int
                  |L1.4302|
;;;235    	     		}
;;;236    			if(modbus_rx_arg0==48)		//
0010ce  2c30              CMP      r4,#0x30
0010d0  d104              BNE      |L1.4316|
;;;237    				{
;;;238    				lc640_write_int(EE_SPEED_CHRG_CURR,modbus_rx_arg1);
0010d2  4629              MOV      r1,r5
0010d4  f44f708b          MOV      r0,#0x116
0010d8  f7fffffe          BL       lc640_write_int
                  |L1.4316|
;;;239    	     		}
;;;240    			if(modbus_rx_arg0==49)		//
0010dc  2c31              CMP      r4,#0x31
0010de  d104              BNE      |L1.4330|
;;;241    				{
;;;242    				lc640_write_int(EE_SPEED_CHRG_VOLT,modbus_rx_arg1);
0010e0  4629              MOV      r1,r5
0010e2  f44f708c          MOV      r0,#0x118
0010e6  f7fffffe          BL       lc640_write_int
                  |L1.4330|
;;;243    	     		}
;;;244    			if(modbus_rx_arg0==50)		//
0010ea  2c32              CMP      r4,#0x32
0010ec  d104              BNE      |L1.4344|
;;;245    				{
;;;246    				lc640_write_int(EE_SPEED_CHRG_TIME,modbus_rx_arg1);
0010ee  4629              MOV      r1,r5
0010f0  f44f708d          MOV      r0,#0x11a
0010f4  f7fffffe          BL       lc640_write_int
                  |L1.4344|
;;;247    	     		}
;;;248    			if(modbus_rx_arg0==51)		//
0010f8  2c33              CMP      r4,#0x33
0010fa  d104              BNE      |L1.4358|
;;;249    				{
;;;250    				lc640_write_int(EE_U_OUT_KONTR_MAX,modbus_rx_arg1);
0010fc  4629              MOV      r1,r5
0010fe  f44f7095          MOV      r0,#0x12a
001102  f7fffffe          BL       lc640_write_int
                  |L1.4358|
;;;251    	     		}
;;;252    			if(modbus_rx_arg0==52)		//
001106  2c34              CMP      r4,#0x34
001108  d104              BNE      |L1.4372|
;;;253    				{
;;;254    				lc640_write_int(EE_U_OUT_KONTR_MIN,modbus_rx_arg1);
00110a  4629              MOV      r1,r5
00110c  f44f7096          MOV      r0,#0x12c
001110  f7fffffe          BL       lc640_write_int
                  |L1.4372|
;;;255    	     		}
;;;256    			if(modbus_rx_arg0==53)		//
001114  2c35              CMP      r4,#0x35
001116  d104              BNE      |L1.4386|
;;;257    				{
;;;258    				lc640_write_int(EE_U_OUT_KONTR_DELAY,modbus_rx_arg1);
001118  4629              MOV      r1,r5
00111a  f44f7097          MOV      r0,#0x12e
00111e  f7fffffe          BL       lc640_write_int
                  |L1.4386|
;;;259    	     		}
;;;260    
;;;261    			if(modbus_rx_arg0==19)		//βκλ/βϋκλ θρςξχνθκΰ νΰοπ.
;;;262    				{
;;;263    	/*			if(modbus_rx_arg1==1)
;;;264    					{
;;;265    					if(work_stat!=wsPS)
;;;266    						{
;;;267    						work_stat=wsPS;
;;;268    						time_proc=0;
;;;269    						time_proc_remain=T_PROC_PS;
;;;270    						restart_on_PS();
;;;271    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;272    						}
;;;273    					}
;;;274    				if(modbus_rx_arg1==0)
;;;275    					{
;;;276    					if(work_stat==wsPS)
;;;277    						{
;;;278    						work_stat=wsOFF;
;;;279    						restart_off();
;;;280    						}
;;;281    					} */
;;;282    				}
;;;283    			if(modbus_rx_arg0==20)		//βκλ/βϋκλ θρςξχνθκΰ ςξκΰ
;;;284    				{
;;;285    /*				if(modbus_rx_arg1==1)
;;;286    					{
;;;287    					if(work_stat!=wsGS)
;;;288    						{
;;;289    						work_stat=wsGS;
;;;290    						time_proc=0;
;;;291    						time_proc_remain=T_PROC_GS;
;;;292    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
;;;293    						}
;;;294    					}
;;;295    				if(modbus_rx_arg1==0)
;;;296    					{
;;;297    					if(work_stat==wsGS)
;;;298    						{
;;;299    						work_stat=wsOFF;
;;;300    						restart_off();
;;;301    						}
;;;302    					}*/
;;;303    				}
;;;304    			modbus_hold_register_transmit(MODBUS_ADRESS,modbus_func,modbus_rx_arg0);
001122  f8b90000          LDRH     r0,[r9,#0]  ; MODBUS_ADRESS
001126  4622              MOV      r2,r4
001128  4639              MOV      r1,r7
00112a  e8bd43f8          POP      {r3-r9,lr}
00112e  b2c0              UXTB     r0,r0
001130  f7ffbffe          B.W      modbus_hold_register_transmit
                  |L1.4404|
;;;305    			}
;;;306    		} 
;;;307    	//modbus_plazma++;
;;;308    	}
;;;309    // modbus_plazma++;
;;;310    
;;;311    }
001134  e8bd83f8          POP      {r3-r9,pc}
;;;312    
                          ENDP

                  |L1.4408|
                          DCD      0x40024000
                  |L1.4412|
                          DCD      TBAT
                  |L1.4416|
                          DCD      UB20

                          AREA ||area_number.2||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.2||, ||.text||
                  modbus_register_transmit PROC
;;;313    //-----------------------------------------------
;;;314    void modbus_register_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;315    {
000004  b08e              SUB      sp,sp,#0x38
;;;316    //char modbus_registers[150];
;;;317    char modbus_tx_buff[50];
;;;318    unsigned short crc_temp;
;;;319    char i;
;;;320    
;;;321    
;;;322    modbus_registers[0]=(char)(load_U/256);					//Πεγ1
000006  4bfb              LDR      r3,|L2.1012|
000008  f9b34000          LDRSH    r4,[r3,#0]  ; load_U
00000c  ea4f73e4          ASR      r3,r4,#31
000010  eb046513          ADD      r5,r4,r3,LSR #24
000014  4bf8              LDR      r3,|L2.1016|
000016  ea4f2625          ASR      r6,r5,#8
00001a  701e              STRB     r6,[r3,#0]
;;;323    modbus_registers[1]=(char)(load_U%256);
00001c  705c              STRB     r4,[r3,#1]
;;;324    modbus_registers[2]=(char)(load_I/256);					//Πεγ2
00001e  4cf7              LDR      r4,|L2.1020|
000020  f9b45000          LDRSH    r5,[r4,#0]  ; load_I
000024  ea4f74e5          ASR      r4,r5,#31
000028  eb056614          ADD      r6,r5,r4,LSR #24
00002c  f3c62407          UBFX     r4,r6,#8,#8
000030  709c              STRB     r4,[r3,#2]
;;;325    modbus_registers[3]=(char)(load_I%256);
000032  b2ed              UXTB     r5,r5
000034  70dd              STRB     r5,[r3,#3]
;;;326    modbus_registers[4]=(char)(Ib_ips_termokompensat/256);		//Πεγ3
000036  4ef2              LDR      r6,|L2.1024|
000038  f9b66000          LDRSH    r6,[r6,#0]  ; Ib_ips_termokompensat
00003c  ea4f77e6          ASR      r7,r6,#31
000040  eb066717          ADD      r7,r6,r7,LSR #24
000044  ea4f2c27          ASR      r12,r7,#8
000048  f883c004          STRB     r12,[r3,#4]
;;;327    modbus_registers[5]=(char)(Ib_ips_termokompensat%256);
00004c  715e              STRB     r6,[r3,#5]
;;;328    modbus_registers[6]=(char)(t_ext[0]/256);				//Πεγ4
00004e  4eed              LDR      r6,|L2.1028|
000050  f9b66000          LDRSH    r6,[r6,#0]  ; t_ext
000054  ea4f77e6          ASR      r7,r6,#31
000058  eb066717          ADD      r7,r6,r7,LSR #24
00005c  ea4f2c27          ASR      r12,r7,#8
000060  f883c006          STRB     r12,[r3,#6]
;;;329    modbus_registers[7]=(char)(t_ext[0]%256);
000064  71de              STRB     r6,[r3,#7]
;;;330    modbus_registers[8]=(char)(net_Ua/256);					//Πεγ5
000066  4ee8              LDR      r6,|L2.1032|
000068  f9b66000          LDRSH    r6,[r6,#0]  ; net_Ua
00006c  ea4f77e6          ASR      r7,r6,#31
000070  eb066717          ADD      r7,r6,r7,LSR #24
000074  ea4f2c27          ASR      r12,r7,#8
000078  f883c008          STRB     r12,[r3,#8]
;;;331    modbus_registers[9]=(char)(net_Ua%256);		 	
00007c  725e              STRB     r6,[r3,#9]
;;;332    modbus_registers[10]=(char)(net_Ub/256);				//Πεγ6
00007e  4ee3              LDR      r6,|L2.1036|
000080  f9b66000          LDRSH    r6,[r6,#0]  ; net_Ub
000084  ea4f77e6          ASR      r7,r6,#31
000088  eb066717          ADD      r7,r6,r7,LSR #24
00008c  ea4f2c27          ASR      r12,r7,#8
000090  f883c00a          STRB     r12,[r3,#0xa]
;;;333    modbus_registers[11]=(char)(net_Ub%256);
000094  72de              STRB     r6,[r3,#0xb]
;;;334    modbus_registers[12]=(char)(net_Uc/256);				//Πεγ7
000096  4ede              LDR      r6,|L2.1040|
000098  f9b66000          LDRSH    r6,[r6,#0]  ; net_Uc
00009c  ea4f77e6          ASR      r7,r6,#31
0000a0  eb066717          ADD      r7,r6,r7,LSR #24
0000a4  ea4f2c27          ASR      r12,r7,#8
0000a8  f883c00c          STRB     r12,[r3,#0xc]
;;;335    modbus_registers[13]=(char)(net_Uc%256);
0000ac  735e              STRB     r6,[r3,#0xd]
;;;336    modbus_registers[14]=(char)(net_F3/256);				//Πεγ8
0000ae  4ed9              LDR      r6,|L2.1044|
0000b0  f9b66000          LDRSH    r6,[r6,#0]  ; net_F3
0000b4  ea4f77e6          ASR      r7,r6,#31
0000b8  eb066717          ADD      r7,r6,r7,LSR #24
0000bc  ea4f2c27          ASR      r12,r7,#8
0000c0  f883c00e          STRB     r12,[r3,#0xe]
;;;337    modbus_registers[15]=(char)(net_F3%256);
0000c4  73de              STRB     r6,[r3,#0xf]
;;;338    modbus_registers[16]=(char)(load_I/256);				//Πεγ9
0000c6  741c              STRB     r4,[r3,#0x10]
;;;339    modbus_registers[17]=(char)(load_I%256);
0000c8  745d              STRB     r5,[r3,#0x11]
;;;340    modbus_registers[18]=(char)(load_I/256);				//Πεγ10
0000ca  749c              STRB     r4,[r3,#0x12]
;;;341    modbus_registers[19]=(char)(load_I%256);
0000cc  74dd              STRB     r5,[r3,#0x13]
;;;342    modbus_registers[20]=(char)((LPC_RTC->YEAR)/256);			//Πεγ11
0000ce  4ed2              LDR      r6,|L2.1048|
0000d0  8bb7              LDRH     r7,[r6,#0x1c]
0000d2  ea4f2717          LSR      r7,r7,#8
0000d6  f8037f14          STRB     r7,[r3,#0x14]!
;;;343    modbus_registers[21]=(char)((LPC_RTC->YEAR)%256);
0000da  8bb7              LDRH     r7,[r6,#0x1c]
0000dc  705f              STRB     r7,[r3,#1]
;;;344    modbus_registers[22]=(char)((LPC_RTC->MONTH)/256);		//Πεγ12
0000de  7e37              LDRB     r7,[r6,#0x18]
0000e0  f04f0700          MOV      r7,#0
0000e4  709f              STRB     r7,[r3,#2]
;;;345    modbus_registers[23]=(char)((LPC_RTC->MONTH)%256);
0000e6  f896c018          LDRB     r12,[r6,#0x18]
0000ea  f883c003          STRB     r12,[r3,#3]
;;;346    modbus_registers[24]=(char)((LPC_RTC->DOM)/256);			//Πεγ13
0000ee  f896c00c          LDRB     r12,[r6,#0xc]
0000f2  711f              STRB     r7,[r3,#4]
;;;347    modbus_registers[25]=(char)((LPC_RTC->DOM)%256);
0000f4  f896c00c          LDRB     r12,[r6,#0xc]
0000f8  f883c005          STRB     r12,[r3,#5]
;;;348    modbus_registers[26]=(char)((LPC_RTC->HOUR)/256);			//Πεγ14
0000fc  f896c008          LDRB     r12,[r6,#8]
000100  719f              STRB     r7,[r3,#6]
;;;349    modbus_registers[27]=(char)((LPC_RTC->HOUR)%256);
000102  f896c008          LDRB     r12,[r6,#8]
000106  f883c007          STRB     r12,[r3,#7]
;;;350    modbus_registers[28]=(char)((LPC_RTC->MIN)/256);			//Πεγ15
00010a  f896c004          LDRB     r12,[r6,#4]
00010e  721f              STRB     r7,[r3,#8]
;;;351    modbus_registers[29]=(char)((LPC_RTC->MIN)%256);
000110  f896c004          LDRB     r12,[r6,#4]
000114  f883c009          STRB     r12,[r3,#9]
;;;352    modbus_registers[30]=(char)((LPC_RTC->SEC)/256);			//Πεγ16
000118  f896c000          LDRB     r12,[r6,#0]
00011c  729f              STRB     r7,[r3,#0xa]
;;;353    modbus_registers[31]=(char)((LPC_RTC->SEC)%256);
00011e  7836              LDRB     r6,[r6,#0]
000120  72de              STRB     r6,[r3,#0xb]
;;;354    modbus_registers[32]=(char)(load_I/256);				//Πεγ17
000122  731c              STRB     r4,[r3,#0xc]
;;;355    modbus_registers[33]=(char)(load_I%256);
000124  735d              STRB     r5,[r3,#0xd]
;;;356    modbus_registers[34]=(char)(load_I/256);				//Πεγ18
000126  739c              STRB     r4,[r3,#0xe]
;;;357    modbus_registers[35]=(char)(load_I%256);
000128  73dd              STRB     r5,[r3,#0xf]
;;;358    modbus_registers[36]=(char)(load_I/256);		//Πεγ19
00012a  741c              STRB     r4,[r3,#0x10]
;;;359    modbus_registers[37]=(char)(load_I%256);
00012c  745d              STRB     r5,[r3,#0x11]
00012e  f1a30314          SUB      r3,r3,#0x14
;;;360    modbus_registers[38]=(char)(NUMIST/256);		//Πεγ20
000132  4eba              LDR      r6,|L2.1052|
000134  f9b66000          LDRSH    r6,[r6,#0]  ; NUMIST
000138  ea4f77e6          ASR      r7,r6,#31
00013c  eb066717          ADD      r7,r6,r7,LSR #24
000140  ea4f2c27          ASR      r12,r7,#8
000144  f803cf26          STRB     r12,[r3,#0x26]!
;;;361    modbus_registers[39]=(char)(NUMIST%256);
000148  705e              STRB     r6,[r3,#1]
;;;362    modbus_registers[40]=(char)(PAR/256);		//Πεγ21
00014a  4eb5              LDR      r6,|L2.1056|
00014c  f9b66000          LDRSH    r6,[r6,#0]  ; PAR
000150  ea4f77e6          ASR      r7,r6,#31
000154  eb066717          ADD      r7,r6,r7,LSR #24
000158  ea4f2c27          ASR      r12,r7,#8
00015c  f883c002          STRB     r12,[r3,#2]
;;;363    modbus_registers[41]=(char)(PAR%256);
000160  70de              STRB     r6,[r3,#3]
;;;364    modbus_registers[42]=(char)(ZV_ON/256);		//Πεγ22
000162  4eb0              LDR      r6,|L2.1060|
000164  f9b66000          LDRSH    r6,[r6,#0]  ; ZV_ON
000168  ea4f77e6          ASR      r7,r6,#31
00016c  eb066717          ADD      r7,r6,r7,LSR #24
000170  ea4f2c27          ASR      r12,r7,#8
000174  f883c004          STRB     r12,[r3,#4]
;;;365    modbus_registers[43]=(char)(ZV_ON%256);
000178  715e              STRB     r6,[r3,#5]
;;;366    modbus_registers[44]=(char)(TERMOKOMPENS/256);		//Πεγ23
00017a  4eab              LDR      r6,|L2.1064|
00017c  f9b66000          LDRSH    r6,[r6,#0]  ; TERMOKOMPENS
000180  ea4f77e6          ASR      r7,r6,#31
000184  eb066717          ADD      r7,r6,r7,LSR #24
000188  ea4f2c27          ASR      r12,r7,#8
00018c  f883c006          STRB     r12,[r3,#6]
;;;367    modbus_registers[45]=(char)(TERMOKOMPENS%256);
000190  71de              STRB     r6,[r3,#7]
;;;368    modbus_registers[46]=(char)(UBM_AV/256);		//Πεγ24
000192  4ea6              LDR      r6,|L2.1068|
000194  f9b66000          LDRSH    r6,[r6,#0]  ; UBM_AV
000198  ea4f77e6          ASR      r7,r6,#31
00019c  eb066717          ADD      r7,r6,r7,LSR #24
0001a0  ea4f2c27          ASR      r12,r7,#8
0001a4  f883c008          STRB     r12,[r3,#8]
;;;369    modbus_registers[47]=(char)(UBM_AV%256);
0001a8  725e              STRB     r6,[r3,#9]
;;;370    modbus_registers[48]=(char)(load_I/256);		//Πεγ25
0001aa  729c              STRB     r4,[r3,#0xa]
;;;371    modbus_registers[49]=(char)(load_I%256);
0001ac  72dd              STRB     r5,[r3,#0xb]
;;;372    modbus_registers[50]=(char)(load_I/256);		//Πεγ26
0001ae  731c              STRB     r4,[r3,#0xc]
;;;373    modbus_registers[51]=(char)(load_I%256);
0001b0  735d              STRB     r5,[r3,#0xd]
;;;374    modbus_registers[52]=(char)(load_I/256);		//Πεγ27
0001b2  739c              STRB     r4,[r3,#0xe]
;;;375    modbus_registers[53]=(char)(load_I%256);
0001b4  73dd              STRB     r5,[r3,#0xf]
;;;376    modbus_registers[54]=(char)(load_I/256);		//Πεγ28
0001b6  741c              STRB     r4,[r3,#0x10]
;;;377    modbus_registers[55]=(char)(load_I%256);
0001b8  745d              STRB     r5,[r3,#0x11]
;;;378    modbus_registers[56]=(char)(load_I/256);		//Πεγ29
0001ba  749c              STRB     r4,[r3,#0x12]
;;;379    modbus_registers[57]=(char)(load_I%256);
0001bc  74dd              STRB     r5,[r3,#0x13]
;;;380    modbus_registers[58]=(char)(TBAT/256);			//Πεγ30
0001be  4e9c              LDR      r6,|L2.1072|
0001c0  f9b66000          LDRSH    r6,[r6,#0]  ; TBAT
0001c4  ea4f77e6          ASR      r7,r6,#31
0001c8  eb066717          ADD      r7,r6,r7,LSR #24
0001cc  ea4f2c27          ASR      r12,r7,#8
0001d0  f883c014          STRB     r12,[r3,#0x14]
;;;381    modbus_registers[59]=(char)(TBAT%256);
0001d4  755e              STRB     r6,[r3,#0x15]
;;;382    modbus_registers[60]=(char)(UMAX/256);			//Πεγ31
0001d6  4e97              LDR      r6,|L2.1076|
0001d8  f9b66000          LDRSH    r6,[r6,#0]  ; UMAX
0001dc  ea4f77e6          ASR      r7,r6,#31
0001e0  eb066717          ADD      r7,r6,r7,LSR #24
0001e4  ea4f2c27          ASR      r12,r7,#8
0001e8  f883c016          STRB     r12,[r3,#0x16]
;;;383    modbus_registers[61]=(char)(UMAX%256);
0001ec  75de              STRB     r6,[r3,#0x17]
;;;384    modbus_registers[62]=(char)((UB20-DU)/256);		//Πεγ32
0001ee  4e92              LDR      r6,|L2.1080|
0001f0  4f92              LDR      r7,|L2.1084|
0001f2  f9b66000          LDRSH    r6,[r6,#0]  ; UB20
0001f6  f9b77000          LDRSH    r7,[r7,#0]  ; DU
0001fa  eba60707          SUB      r7,r6,r7
0001fe  ea4f7ce7          ASR      r12,r7,#31
000202  eb076c1c          ADD      r12,r7,r12,LSR #24
000206  ea4f282c          ASR      r8,r12,#8
00020a  f8838018          STRB     r8,[r3,#0x18]
;;;385    modbus_registers[63]=(char)((UB20-DU)%256);
00020e  765f              STRB     r7,[r3,#0x19]
;;;386    modbus_registers[64]=(char)(UB0/256);			//Πεγ33
000210  4f8b              LDR      r7,|L2.1088|
000212  f9b77000          LDRSH    r7,[r7,#0]  ; UB0
000216  ea4f7ce7          ASR      r12,r7,#31
00021a  eb076c1c          ADD      r12,r7,r12,LSR #24
00021e  ea4f282c          ASR      r8,r12,#8
000222  f883801a          STRB     r8,[r3,#0x1a]
;;;387    modbus_registers[65]=(char)(UB0%256);
000226  76df              STRB     r7,[r3,#0x1b]
;;;388    modbus_registers[66]=(char)(UB20/256);			//Πεγ34
000228  ea4f77e6          ASR      r7,r6,#31
00022c  eb066717          ADD      r7,r6,r7,LSR #24
000230  ea4f2c27          ASR      r12,r7,#8
000234  f883c01c          STRB     r12,[r3,#0x1c]
;;;389    modbus_registers[67]=(char)(UB20%256);
000238  775e              STRB     r6,[r3,#0x1d]
00023a  f1a30326          SUB      r3,r3,#0x26
;;;390    modbus_registers[68]=(char)(USIGN/256);		//Πεγ35
00023e  4e81              LDR      r6,|L2.1092|
000240  f9b66000          LDRSH    r6,[r6,#0]  ; USIGN
000244  ea4f77e6          ASR      r7,r6,#31
000248  eb066717          ADD      r7,r6,r7,LSR #24
00024c  ea4f2c27          ASR      r12,r7,#8
000250  f803cf44          STRB     r12,[r3,#0x44]!
;;;391    modbus_registers[69]=(char)(USIGN%256);
000254  705e              STRB     r6,[r3,#1]
;;;392    modbus_registers[70]=(char)(UMN/256);		//Πεγ36
000256  4e7c              LDR      r6,|L2.1096|
000258  f9b66000          LDRSH    r6,[r6,#0]  ; UMN
00025c  ea4f77e6          ASR      r7,r6,#31
000260  eb066717          ADD      r7,r6,r7,LSR #24
000264  ea4f2c27          ASR      r12,r7,#8
000268  f883c002          STRB     r12,[r3,#2]
;;;393    modbus_registers[71]=(char)(UMN%256);
00026c  70de              STRB     r6,[r3,#3]
;;;394    modbus_registers[72]=(char)(U0B/256);		//Πεγ37
00026e  4e77              LDR      r6,|L2.1100|
000270  f9b66000          LDRSH    r6,[r6,#0]  ; U0B
000274  ea4f77e6          ASR      r7,r6,#31
000278  eb066717          ADD      r7,r6,r7,LSR #24
00027c  ea4f2c27          ASR      r12,r7,#8
000280  f883c004          STRB     r12,[r3,#4]
;;;395    modbus_registers[73]=(char)(U0B%256);
000284  715e              STRB     r6,[r3,#5]
;;;396    modbus_registers[74]=(char)(IKB/256);		//Πεγ38
000286  4e72              LDR      r6,|L2.1104|
000288  f9b66000          LDRSH    r6,[r6,#0]  ; IKB
00028c  ea4f77e6          ASR      r7,r6,#31
000290  eb066717          ADD      r7,r6,r7,LSR #24
000294  ea4f2c27          ASR      r12,r7,#8
000298  f883c006          STRB     r12,[r3,#6]
;;;397    modbus_registers[75]=(char)(IKB%256);
00029c  71de              STRB     r6,[r3,#7]
;;;398    modbus_registers[76]=(char)(IZMAX/256);		//Πεγ39
00029e  4e6d              LDR      r6,|L2.1108|
0002a0  f9b66000          LDRSH    r6,[r6,#0]  ; IZMAX
0002a4  ea4f77e6          ASR      r7,r6,#31
0002a8  eb066717          ADD      r7,r6,r7,LSR #24
0002ac  ea4f2c27          ASR      r12,r7,#8
0002b0  f883c008          STRB     r12,[r3,#8]
;;;399    modbus_registers[77]=(char)(IZMAX%256);
0002b4  725e              STRB     r6,[r3,#9]
;;;400    modbus_registers[78]=(char)(IMAX/256);		//Πεγ40
0002b6  4e68              LDR      r6,|L2.1112|
0002b8  f9b66000          LDRSH    r6,[r6,#0]  ; IMAX
0002bc  ea4f77e6          ASR      r7,r6,#31
0002c0  eb066717          ADD      r7,r6,r7,LSR #24
0002c4  ea4f2c27          ASR      r12,r7,#8
0002c8  f883c00a          STRB     r12,[r3,#0xa]
;;;401    modbus_registers[79]=(char)(IMAX%256);
0002cc  72de              STRB     r6,[r3,#0xb]
;;;402    modbus_registers[80]=(char)(IMIN/256);		//Πεγ41
0002ce  4e63              LDR      r6,|L2.1116|
0002d0  f9b66000          LDRSH    r6,[r6,#0]  ; IMIN
0002d4  ea4f77e6          ASR      r7,r6,#31
0002d8  eb066717          ADD      r7,r6,r7,LSR #24
0002dc  ea4f2c27          ASR      r12,r7,#8
0002e0  f883c00c          STRB     r12,[r3,#0xc]
;;;403    modbus_registers[81]=(char)(IMIN%256);
0002e4  735e              STRB     r6,[r3,#0xd]
;;;404    modbus_registers[82]=(char)(UVZ/256);		//Πεγ42
0002e6  4e5e              LDR      r6,|L2.1120|
0002e8  f9b66000          LDRSH    r6,[r6,#0]  ; UVZ
0002ec  ea4f77e6          ASR      r7,r6,#31
0002f0  eb066717          ADD      r7,r6,r7,LSR #24
0002f4  ea4f2c27          ASR      r12,r7,#8
0002f8  f883c00e          STRB     r12,[r3,#0xe]
;;;405    modbus_registers[83]=(char)(UVZ%256);
0002fc  73de              STRB     r6,[r3,#0xf]
;;;406    modbus_registers[84]=(char)(TZAS/256);		//Πεγ43
0002fe  4e59              LDR      r6,|L2.1124|
000300  f9b66000          LDRSH    r6,[r6,#0]  ; TZAS
000304  ea4f77e6          ASR      r7,r6,#31
000308  eb066717          ADD      r7,r6,r7,LSR #24
00030c  ea4f2c27          ASR      r12,r7,#8
000310  f883c010          STRB     r12,[r3,#0x10]
;;;407    modbus_registers[85]=(char)(TZAS%256);
000314  745e              STRB     r6,[r3,#0x11]
;;;408    modbus_registers[86]=(char)(TMAX/256);		//Πεγ44
000316  4e54              LDR      r6,|L2.1128|
000318  f9b66000          LDRSH    r6,[r6,#0]  ; TMAX
00031c  ea4f77e6          ASR      r7,r6,#31
000320  eb066717          ADD      r7,r6,r7,LSR #24
000324  ea4f2c27          ASR      r12,r7,#8
000328  f883c012          STRB     r12,[r3,#0x12]
;;;409    modbus_registers[87]=(char)(TMAX%256);
00032c  74de              STRB     r6,[r3,#0x13]
;;;410    modbus_registers[88]=(char)(TSIGN/256);		//Πεγ45
00032e  4e4f              LDR      r6,|L2.1132|
000330  f9b66000          LDRSH    r6,[r6,#0]  ; TSIGN
000334  ea4f77e6          ASR      r7,r6,#31
000338  eb066717          ADD      r7,r6,r7,LSR #24
00033c  ea4f2c27          ASR      r12,r7,#8
000340  f883c014          STRB     r12,[r3,#0x14]
;;;411    modbus_registers[89]=(char)(TSIGN%256);
000344  755e              STRB     r6,[r3,#0x15]
;;;412    modbus_registers[90]=(char)(TBATMAX/256);		//Πεγ46
000346  4e4a              LDR      r6,|L2.1136|
000348  f9b66000          LDRSH    r6,[r6,#0]  ; TBATMAX
00034c  ea4f77e6          ASR      r7,r6,#31
000350  eb066717          ADD      r7,r6,r7,LSR #24
000354  ea4f2c27          ASR      r12,r7,#8
000358  f883c016          STRB     r12,[r3,#0x16]
;;;413    modbus_registers[91]=(char)(TBATMAX%256);
00035c  75de              STRB     r6,[r3,#0x17]
;;;414    modbus_registers[92]=(char)(TBATSIGN/256);		//Πεγ47
00035e  4e45              LDR      r6,|L2.1140|
000360  f9b66000          LDRSH    r6,[r6,#0]  ; TBATSIGN
000364  ea4f77e6          ASR      r7,r6,#31
000368  eb066717          ADD      r7,r6,r7,LSR #24
00036c  ea4f2c27          ASR      r12,r7,#8
000370  f883c018          STRB     r12,[r3,#0x18]
;;;415    modbus_registers[93]=(char)(TBATSIGN%256);
000374  765e              STRB     r6,[r3,#0x19]
;;;416    modbus_registers[94]=(char)(load_I/256);		//Πεγ48
000376  769c              STRB     r4,[r3,#0x1a]
;;;417    modbus_registers[95]=(char)(load_I%256);
000378  76dd              STRB     r5,[r3,#0x1b]
;;;418    modbus_registers[96]=(char)(load_I/256);		//Πεγ49
00037a  771c              STRB     r4,[r3,#0x1c]
;;;419    modbus_registers[97]=(char)(load_I%256);
00037c  775d              STRB     r5,[r3,#0x1d]
;;;420    modbus_registers[98]=(char)(load_I/256);		//Πεγ50
00037e  779c              STRB     r4,[r3,#0x1e]
000380  f1a30344          SUB      r3,r3,#0x44
;;;421    modbus_registers[99]=(char)(load_I%256);
000384  f8835063          STRB     r5,[r3,#0x63]
;;;422    
;;;423    modbus_tx_buff[0]=adr;
000388  f88d0004          STRB     r0,[sp,#4]
;;;424    modbus_tx_buff[1]=func;
00038c  f88d1005          STRB     r1,[sp,#5]
;;;425    modbus_tx_buff[2]=(char)(reg_adr/256);
000390  ea4f2012          LSR      r0,r2,#8
000394  f88d0006          STRB     r0,[sp,#6]
;;;426    modbus_tx_buff[3]=(char)(reg_adr%256);
000398  f88d2007          STRB     r2,[sp,#7]
;;;427    //modbus_tx_buff[4]=(char)(reg_quantity/256);
;;;428    //modbus_tx_buff[5]=(char)(reg_quantity%256);
;;;429    /*
;;;430    modbus_registers[0]=0x10;
;;;431    modbus_registers[1]=0x11;
;;;432    modbus_registers[2]=0x12;
;;;433    modbus_registers[3]=0x13;
;;;434    modbus_registers[4]=0x14;
;;;435    modbus_registers[5]=0x15;
;;;436    */
;;;437    
;;;438    mem_copy((char*)&modbus_tx_buff[4],(char*)&modbus_registers[(reg_adr-1)*2],2);
00039c  f1a20201          SUB      r2,r2,#1
0003a0  eb030142          ADD      r1,r3,r2,LSL #1
0003a4  ad01              ADD      r5,sp,#4
0003a6  f04f0202          MOV      r2,#2
0003aa  f1050004          ADD      r0,r5,#4
0003ae  f7fffffe          BL       mem_copy
;;;439    
;;;440    crc_temp=CRC16_2(modbus_tx_buff,6);
0003b2  2106              MOVS     r1,#6
0003b4  a801              ADD      r0,sp,#4
0003b6  f7fffffe          BL       CRC16_2
;;;441    
;;;442    modbus_tx_buff[6]=crc_temp%256;
0003ba  f88d000a          STRB     r0,[sp,#0xa]
;;;443    modbus_tx_buff[7]=crc_temp/256;
0003be  ea4f2010          LSR      r0,r0,#8
0003c2  f88d000b          STRB     r0,[sp,#0xb]
;;;444    
;;;445    for (i=0;i<8;i++)
0003c6  f04f0400          MOV      r4,#0
                  |L2.970|
;;;446    	{
;;;447    	putchar0(modbus_tx_buff[i]);
0003ca  5d28              LDRB     r0,[r5,r4]
0003cc  f7fffffe          BL       putchar0
0003d0  f1040401          ADD      r4,r4,#1              ;445
0003d4  b2e4              UXTB     r4,r4                 ;445
0003d6  2c08              CMP      r4,#8                 ;445
0003d8  d3f7              BCC      |L2.970|
;;;448    	}
;;;449    for (i=0;i<8;i++)
0003da  f04f0400          MOV      r4,#0
                  |L2.990|
;;;450    	{
;;;451    	putchar_sc16is700(modbus_tx_buff[i]);
0003de  5d28              LDRB     r0,[r5,r4]
0003e0  f7fffffe          BL       putchar_sc16is700
0003e4  f1040401          ADD      r4,r4,#1              ;449
0003e8  b2e4              UXTB     r4,r4                 ;449
0003ea  2c08              CMP      r4,#8                 ;449
0003ec  d3f7              BCC      |L2.990|
;;;452    	}
;;;453    }
0003ee  b00e              ADD      sp,sp,#0x38
0003f0  e8bd81f0          POP      {r4-r8,pc}
                  |L2.1012|
                          DCD      load_U
                  |L2.1016|
                          DCD      ||area_number.6||+0x3c
                  |L2.1020|
                          DCD      load_I
                  |L2.1024|
                          DCD      Ib_ips_termokompensat
                  |L2.1028|
                          DCD      t_ext
                  |L2.1032|
                          DCD      net_Ua
                  |L2.1036|
                          DCD      net_Ub
                  |L2.1040|
                          DCD      net_Uc
                  |L2.1044|
                          DCD      net_F3
                  |L2.1048|
                          DCD      0x40024020
                  |L2.1052|
                          DCD      NUMIST
                  |L2.1056|
                          DCD      PAR
                  |L2.1060|
                          DCD      ZV_ON
                  |L2.1064|
                          DCD      TERMOKOMPENS
                  |L2.1068|
                          DCD      UBM_AV
                  |L2.1072|
                          DCD      TBAT
                  |L2.1076|
                          DCD      UMAX
                  |L2.1080|
                          DCD      UB20
                  |L2.1084|
                          DCD      ||DU||
                  |L2.1088|
                          DCD      UB0
                  |L2.1092|
                          DCD      USIGN
                  |L2.1096|
                          DCD      UMN
                  |L2.1100|
                          DCD      U0B
                  |L2.1104|
                          DCD      IKB
                  |L2.1108|
                          DCD      IZMAX
                  |L2.1112|
                          DCD      IMAX
                  |L2.1116|
                          DCD      IMIN
                  |L2.1120|
                          DCD      UVZ
                  |L2.1124|
                          DCD      TZAS
                  |L2.1128|
                          DCD      TMAX
                  |L2.1132|
                          DCD      TSIGN
                  |L2.1136|
                          DCD      TBATMAX
                  |L2.1140|
                          DCD      TBATSIGN
                          ENDP


                          AREA ||area_number.3||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.3||, ||.text||
                  modbus_registers_transmit PROC
;;;313    //-----------------------------------------------
;;;314    void modbus_register_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr)
000000  e92d43f0          PUSH     {r4-r9,lr}
;;;315    {
000004  b099              SUB      sp,sp,#0x64
;;;316    //char modbus_registers[150];
;;;317    char modbus_tx_buff[50];
;;;318    unsigned short crc_temp;
;;;319    char i;
;;;320    
;;;321    
;;;322    modbus_registers[0]=(char)(load_U/256);					//Πεγ1
000006  4698              MOV      r8,r3
000008  4bfb              LDR      r3,|L3.1016|
00000a  f9b33000          LDRSH    r3,[r3,#0]  ; load_U
00000e  ea4f74e3          ASR      r4,r3,#31
000012  eb036514          ADD      r5,r3,r4,LSR #24
000016  4cf9              LDR      r4,|L3.1020|
000018  ea4f2625          ASR      r6,r5,#8
;;;323    modbus_registers[1]=(char)(load_U%256);
00001c  7026              STRB     r6,[r4,#0]
;;;324    modbus_registers[2]=(char)(load_I/256);					//Πεγ2
00001e  7063              STRB     r3,[r4,#1]
000020  4bf7              LDR      r3,|L3.1024|
000022  f9b33000          LDRSH    r3,[r3,#0]  ; load_I
000026  ea4f75e3          ASR      r5,r3,#31
00002a  eb036615          ADD      r6,r3,r5,LSR #24
00002e  f3c62507          UBFX     r5,r6,#8,#8
;;;325    modbus_registers[3]=(char)(load_I%256);
000032  70a5              STRB     r5,[r4,#2]
000034  b2de              UXTB     r6,r3
;;;326    modbus_registers[4]=(char)(Ib_ips_termokompensat/256);		//Πεγ3
000036  70e6              STRB     r6,[r4,#3]
000038  4bf2              LDR      r3,|L3.1028|
00003a  f9b33000          LDRSH    r3,[r3,#0]  ; Ib_ips_termokompensat
00003e  ea4f77e3          ASR      r7,r3,#31
000042  eb036717          ADD      r7,r3,r7,LSR #24
000046  ea4f2c27          ASR      r12,r7,#8
00004a  f884c004          STRB     r12,[r4,#4]
;;;327    modbus_registers[5]=(char)(Ib_ips_termokompensat%256);
;;;328    modbus_registers[6]=(char)(t_ext[0]/256);				//Πεγ4
00004e  7163              STRB     r3,[r4,#5]
000050  4bed              LDR      r3,|L3.1032|
000052  f9b33000          LDRSH    r3,[r3,#0]  ; t_ext
000056  ea4f77e3          ASR      r7,r3,#31
00005a  eb036717          ADD      r7,r3,r7,LSR #24
00005e  ea4f2c27          ASR      r12,r7,#8
000062  f884c006          STRB     r12,[r4,#6]
;;;329    modbus_registers[7]=(char)(t_ext[0]%256);
;;;330    modbus_registers[8]=(char)(net_Ua/256);					//Πεγ5
000066  71e3              STRB     r3,[r4,#7]
000068  4be8              LDR      r3,|L3.1036|
00006a  f9b33000          LDRSH    r3,[r3,#0]  ; net_Ua
00006e  ea4f77e3          ASR      r7,r3,#31
000072  eb036717          ADD      r7,r3,r7,LSR #24
000076  ea4f2c27          ASR      r12,r7,#8
00007a  f884c008          STRB     r12,[r4,#8]
;;;331    modbus_registers[9]=(char)(net_Ua%256);		 	
;;;332    modbus_registers[10]=(char)(net_Ub/256);				//Πεγ6
00007e  7263              STRB     r3,[r4,#9]
000080  4be3              LDR      r3,|L3.1040|
000082  f9b33000          LDRSH    r3,[r3,#0]  ; net_Ub
000086  ea4f77e3          ASR      r7,r3,#31
00008a  eb036717          ADD      r7,r3,r7,LSR #24
00008e  ea4f2c27          ASR      r12,r7,#8
000092  f884c00a          STRB     r12,[r4,#0xa]
;;;333    modbus_registers[11]=(char)(net_Ub%256);
;;;334    modbus_registers[12]=(char)(net_Uc/256);				//Πεγ7
000096  72e3              STRB     r3,[r4,#0xb]
000098  4bde              LDR      r3,|L3.1044|
00009a  f9b33000          LDRSH    r3,[r3,#0]  ; net_Uc
00009e  ea4f77e3          ASR      r7,r3,#31
0000a2  eb036717          ADD      r7,r3,r7,LSR #24
0000a6  ea4f2c27          ASR      r12,r7,#8
0000aa  f884c00c          STRB     r12,[r4,#0xc]
;;;335    modbus_registers[13]=(char)(net_Uc%256);
;;;336    modbus_registers[14]=(char)(net_F3/256);				//Πεγ8
0000ae  7363              STRB     r3,[r4,#0xd]
0000b0  4bd9              LDR      r3,|L3.1048|
0000b2  f9b33000          LDRSH    r3,[r3,#0]  ; net_F3
0000b6  ea4f77e3          ASR      r7,r3,#31
0000ba  eb036717          ADD      r7,r3,r7,LSR #24
0000be  ea4f2c27          ASR      r12,r7,#8
0000c2  f884c00e          STRB     r12,[r4,#0xe]
;;;337    modbus_registers[15]=(char)(net_F3%256);
;;;338    modbus_registers[16]=(char)(load_I/256);				//Πεγ9
0000c6  73e3              STRB     r3,[r4,#0xf]
;;;339    modbus_registers[17]=(char)(load_I%256);
0000c8  7425              STRB     r5,[r4,#0x10]
;;;340    modbus_registers[18]=(char)(load_I/256);				//Πεγ10
0000ca  7466              STRB     r6,[r4,#0x11]
;;;341    modbus_registers[19]=(char)(load_I%256);
0000cc  74a5              STRB     r5,[r4,#0x12]
;;;342    modbus_registers[20]=(char)((LPC_RTC->YEAR)/256);			//Πεγ11
0000ce  74e6              STRB     r6,[r4,#0x13]
0000d0  4fd2              LDR      r7,|L3.1052|
0000d2  8bbb              LDRH     r3,[r7,#0x1c]
0000d4  ea4f2313          LSR      r3,r3,#8
0000d8  f8043f14          STRB     r3,[r4,#0x14]!
;;;343    modbus_registers[21]=(char)((LPC_RTC->YEAR)%256);
0000dc  8bbb              LDRH     r3,[r7,#0x1c]
;;;344    modbus_registers[22]=(char)((LPC_RTC->MONTH)/256);		//Πεγ12
0000de  7063              STRB     r3,[r4,#1]
0000e0  7e3b              LDRB     r3,[r7,#0x18]
0000e2  f04f0300          MOV      r3,#0
;;;345    modbus_registers[23]=(char)((LPC_RTC->MONTH)%256);
0000e6  70a3              STRB     r3,[r4,#2]
0000e8  f897c018          LDRB     r12,[r7,#0x18]
0000ec  f884c003          STRB     r12,[r4,#3]
;;;346    modbus_registers[24]=(char)((LPC_RTC->DOM)/256);			//Πεγ13
0000f0  f897c00c          LDRB     r12,[r7,#0xc]
;;;347    modbus_registers[25]=(char)((LPC_RTC->DOM)%256);
0000f4  7123              STRB     r3,[r4,#4]
0000f6  f897c00c          LDRB     r12,[r7,#0xc]
0000fa  f884c005          STRB     r12,[r4,#5]
;;;348    modbus_registers[26]=(char)((LPC_RTC->HOUR)/256);			//Πεγ14
0000fe  f897c008          LDRB     r12,[r7,#8]
;;;349    modbus_registers[27]=(char)((LPC_RTC->HOUR)%256);
000102  71a3              STRB     r3,[r4,#6]
000104  f897c008          LDRB     r12,[r7,#8]
000108  f884c007          STRB     r12,[r4,#7]
;;;350    modbus_registers[28]=(char)((LPC_RTC->MIN)/256);			//Πεγ15
00010c  f897c004          LDRB     r12,[r7,#4]
;;;351    modbus_registers[29]=(char)((LPC_RTC->MIN)%256);
000110  7223              STRB     r3,[r4,#8]
000112  f897c004          LDRB     r12,[r7,#4]
000116  f884c009          STRB     r12,[r4,#9]
;;;352    modbus_registers[30]=(char)((LPC_RTC->SEC)/256);			//Πεγ16
00011a  f897c000          LDRB     r12,[r7,#0]
;;;353    modbus_registers[31]=(char)((LPC_RTC->SEC)%256);
00011e  72a3              STRB     r3,[r4,#0xa]
000120  783b              LDRB     r3,[r7,#0]
;;;354    modbus_registers[32]=(char)(load_I/256);				//Πεγ17
000122  72e3              STRB     r3,[r4,#0xb]
;;;355    modbus_registers[33]=(char)(load_I%256);
000124  7325              STRB     r5,[r4,#0xc]
;;;356    modbus_registers[34]=(char)(load_I/256);				//Πεγ18
000126  7366              STRB     r6,[r4,#0xd]
;;;357    modbus_registers[35]=(char)(load_I%256);
000128  73a5              STRB     r5,[r4,#0xe]
;;;358    modbus_registers[36]=(char)(load_I/256);		//Πεγ19
00012a  73e6              STRB     r6,[r4,#0xf]
;;;359    modbus_registers[37]=(char)(load_I%256);
00012c  7425              STRB     r5,[r4,#0x10]
00012e  7466              STRB     r6,[r4,#0x11]
000130  f1a40414          SUB      r4,r4,#0x14
;;;360    modbus_registers[38]=(char)(NUMIST/256);		//Πεγ20
000134  4bba              LDR      r3,|L3.1056|
000136  f9b33000          LDRSH    r3,[r3,#0]  ; NUMIST
00013a  ea4f77e3          ASR      r7,r3,#31
00013e  eb036717          ADD      r7,r3,r7,LSR #24
000142  ea4f2c27          ASR      r12,r7,#8
000146  f804cf26          STRB     r12,[r4,#0x26]!
;;;361    modbus_registers[39]=(char)(NUMIST%256);
;;;362    modbus_registers[40]=(char)(PAR/256);		//Πεγ21
00014a  7063              STRB     r3,[r4,#1]
00014c  4bb5              LDR      r3,|L3.1060|
00014e  f9b33000          LDRSH    r3,[r3,#0]  ; PAR
000152  ea4f77e3          ASR      r7,r3,#31
000156  eb036717          ADD      r7,r3,r7,LSR #24
00015a  ea4f2c27          ASR      r12,r7,#8
00015e  f884c002          STRB     r12,[r4,#2]
;;;363    modbus_registers[41]=(char)(PAR%256);
;;;364    modbus_registers[42]=(char)(ZV_ON/256);		//Πεγ22
000162  70e3              STRB     r3,[r4,#3]
000164  4bb0              LDR      r3,|L3.1064|
000166  f9b33000          LDRSH    r3,[r3,#0]  ; ZV_ON
00016a  ea4f77e3          ASR      r7,r3,#31
00016e  eb036717          ADD      r7,r3,r7,LSR #24
000172  ea4f2c27          ASR      r12,r7,#8
000176  f884c004          STRB     r12,[r4,#4]
;;;365    modbus_registers[43]=(char)(ZV_ON%256);
;;;366    modbus_registers[44]=(char)(TERMOKOMPENS/256);		//Πεγ23
00017a  7163              STRB     r3,[r4,#5]
00017c  4bab              LDR      r3,|L3.1068|
00017e  f9b33000          LDRSH    r3,[r3,#0]  ; TERMOKOMPENS
000182  ea4f77e3          ASR      r7,r3,#31
000186  eb036717          ADD      r7,r3,r7,LSR #24
00018a  ea4f2c27          ASR      r12,r7,#8
00018e  f884c006          STRB     r12,[r4,#6]
;;;367    modbus_registers[45]=(char)(TERMOKOMPENS%256);
;;;368    modbus_registers[46]=(char)(UBM_AV/256);		//Πεγ24
000192  71e3              STRB     r3,[r4,#7]
000194  4ba6              LDR      r3,|L3.1072|
000196  f9b33000          LDRSH    r3,[r3,#0]  ; UBM_AV
00019a  ea4f77e3          ASR      r7,r3,#31
00019e  eb036717          ADD      r7,r3,r7,LSR #24
0001a2  ea4f2c27          ASR      r12,r7,#8
0001a6  f884c008          STRB     r12,[r4,#8]
;;;369    modbus_registers[47]=(char)(UBM_AV%256);
;;;370    modbus_registers[48]=(char)(load_I/256);		//Πεγ25
0001aa  7263              STRB     r3,[r4,#9]
;;;371    modbus_registers[49]=(char)(load_I%256);
0001ac  72a5              STRB     r5,[r4,#0xa]
;;;372    modbus_registers[50]=(char)(load_I/256);		//Πεγ26
0001ae  72e6              STRB     r6,[r4,#0xb]
;;;373    modbus_registers[51]=(char)(load_I%256);
0001b0  7325              STRB     r5,[r4,#0xc]
;;;374    modbus_registers[52]=(char)(load_I/256);		//Πεγ27
0001b2  7366              STRB     r6,[r4,#0xd]
;;;375    modbus_registers[53]=(char)(load_I%256);
0001b4  73a5              STRB     r5,[r4,#0xe]
;;;376    modbus_registers[54]=(char)(load_I/256);		//Πεγ28
0001b6  73e6              STRB     r6,[r4,#0xf]
;;;377    modbus_registers[55]=(char)(load_I%256);
0001b8  7425              STRB     r5,[r4,#0x10]
;;;378    modbus_registers[56]=(char)(load_I/256);		//Πεγ29
0001ba  7466              STRB     r6,[r4,#0x11]
;;;379    modbus_registers[57]=(char)(load_I%256);
0001bc  74a5              STRB     r5,[r4,#0x12]
;;;380    modbus_registers[58]=(char)(TBAT/256);			//Πεγ30
0001be  74e6              STRB     r6,[r4,#0x13]
0001c0  4b9c              LDR      r3,|L3.1076|
0001c2  f9b33000          LDRSH    r3,[r3,#0]  ; TBAT
0001c6  ea4f77e3          ASR      r7,r3,#31
0001ca  eb036717          ADD      r7,r3,r7,LSR #24
0001ce  ea4f2c27          ASR      r12,r7,#8
0001d2  f884c014          STRB     r12,[r4,#0x14]
;;;381    modbus_registers[59]=(char)(TBAT%256);
;;;382    modbus_registers[60]=(char)(UMAX/256);			//Πεγ31
0001d6  7563              STRB     r3,[r4,#0x15]
0001d8  4b97              LDR      r3,|L3.1080|
0001da  f9b33000          LDRSH    r3,[r3,#0]  ; UMAX
0001de  ea4f77e3          ASR      r7,r3,#31
0001e2  eb036717          ADD      r7,r3,r7,LSR #24
0001e6  ea4f2c27          ASR      r12,r7,#8
0001ea  f884c016          STRB     r12,[r4,#0x16]
;;;383    modbus_registers[61]=(char)(UMAX%256);
;;;384    modbus_registers[62]=(char)((UB20-DU)/256);		//Πεγ32
0001ee  75e3              STRB     r3,[r4,#0x17]
0001f0  4b92              LDR      r3,|L3.1084|
0001f2  f9b37000          LDRSH    r7,[r3,#0]  ; UB20
0001f6  4b92              LDR      r3,|L3.1088|
0001f8  f9b33000          LDRSH    r3,[r3,#0]  ; DU
0001fc  eba70303          SUB      r3,r7,r3
000200  ea4f7ce3          ASR      r12,r3,#31
000204  eb036c1c          ADD      r12,r3,r12,LSR #24
000208  ea4f292c          ASR      r9,r12,#8
00020c  f8849018          STRB     r9,[r4,#0x18]
;;;385    modbus_registers[63]=(char)((UB20-DU)%256);
;;;386    modbus_registers[64]=(char)(UB0/256);			//Πεγ33
000210  7663              STRB     r3,[r4,#0x19]
000212  4b8c              LDR      r3,|L3.1092|
000214  f9b33000          LDRSH    r3,[r3,#0]  ; UB0
000218  ea4f7ce3          ASR      r12,r3,#31
00021c  eb036c1c          ADD      r12,r3,r12,LSR #24
000220  ea4f292c          ASR      r9,r12,#8
000224  f884901a          STRB     r9,[r4,#0x1a]
;;;387    modbus_registers[65]=(char)(UB0%256);
;;;388    modbus_registers[66]=(char)(UB20/256);			//Πεγ34
000228  76e3              STRB     r3,[r4,#0x1b]
00022a  ea4f73e7          ASR      r3,r7,#31
00022e  eb076313          ADD      r3,r7,r3,LSR #24
000232  ea4f2c23          ASR      r12,r3,#8
000236  f884c01c          STRB     r12,[r4,#0x1c]
;;;389    modbus_registers[67]=(char)(UB20%256);
00023a  463b              MOV      r3,r7
00023c  7763              STRB     r3,[r4,#0x1d]
;;;390    modbus_registers[68]=(char)(USIGN/256);		//Πεγ35
00023e  f1a40426          SUB      r4,r4,#0x26
000242  4b81              LDR      r3,|L3.1096|
000244  f9b33000          LDRSH    r3,[r3,#0]  ; USIGN
000248  ea4f77e3          ASR      r7,r3,#31
00024c  eb036717          ADD      r7,r3,r7,LSR #24
000250  ea4f2c27          ASR      r12,r7,#8
;;;391    modbus_registers[69]=(char)(USIGN%256);
000254  f804cf44          STRB     r12,[r4,#0x44]!
;;;392    modbus_registers[70]=(char)(UMN/256);		//Πεγ36
000258  7063              STRB     r3,[r4,#1]
00025a  4b7c              LDR      r3,|L3.1100|
00025c  f9b33000          LDRSH    r3,[r3,#0]  ; UMN
000260  ea4f77e3          ASR      r7,r3,#31
000264  eb036717          ADD      r7,r3,r7,LSR #24
000268  ea4f2c27          ASR      r12,r7,#8
;;;393    modbus_registers[71]=(char)(UMN%256);
00026c  f884c002          STRB     r12,[r4,#2]
;;;394    modbus_registers[72]=(char)(U0B/256);		//Πεγ37
000270  70e3              STRB     r3,[r4,#3]
000272  4b77              LDR      r3,|L3.1104|
000274  f9b33000          LDRSH    r3,[r3,#0]  ; U0B
000278  ea4f77e3          ASR      r7,r3,#31
00027c  eb036717          ADD      r7,r3,r7,LSR #24
000280  ea4f2c27          ASR      r12,r7,#8
;;;395    modbus_registers[73]=(char)(U0B%256);
000284  f884c004          STRB     r12,[r4,#4]
;;;396    modbus_registers[74]=(char)(IKB/256);		//Πεγ38
000288  7163              STRB     r3,[r4,#5]
00028a  4b72              LDR      r3,|L3.1108|
00028c  f9b33000          LDRSH    r3,[r3,#0]  ; IKB
000290  ea4f77e3          ASR      r7,r3,#31
000294  eb036717          ADD      r7,r3,r7,LSR #24
000298  ea4f2c27          ASR      r12,r7,#8
;;;397    modbus_registers[75]=(char)(IKB%256);
00029c  f884c006          STRB     r12,[r4,#6]
;;;398    modbus_registers[76]=(char)(IZMAX/256);		//Πεγ39
0002a0  71e3              STRB     r3,[r4,#7]
0002a2  4b6d              LDR      r3,|L3.1112|
0002a4  f9b33000          LDRSH    r3,[r3,#0]  ; IZMAX
0002a8  ea4f77e3          ASR      r7,r3,#31
0002ac  eb036717          ADD      r7,r3,r7,LSR #24
0002b0  ea4f2c27          ASR      r12,r7,#8
;;;399    modbus_registers[77]=(char)(IZMAX%256);
0002b4  f884c008          STRB     r12,[r4,#8]
;;;400    modbus_registers[78]=(char)(IMAX/256);		//Πεγ40
0002b8  7263              STRB     r3,[r4,#9]
0002ba  4b68              LDR      r3,|L3.1116|
0002bc  f9b33000          LDRSH    r3,[r3,#0]  ; IMAX
0002c0  ea4f77e3          ASR      r7,r3,#31
0002c4  eb036717          ADD      r7,r3,r7,LSR #24
0002c8  ea4f2c27          ASR      r12,r7,#8
;;;401    modbus_registers[79]=(char)(IMAX%256);
0002cc  f884c00a          STRB     r12,[r4,#0xa]
;;;402    modbus_registers[80]=(char)(IMIN/256);		//Πεγ41
0002d0  72e3              STRB     r3,[r4,#0xb]
0002d2  4b63              LDR      r3,|L3.1120|
0002d4  f9b33000          LDRSH    r3,[r3,#0]  ; IMIN
0002d8  ea4f77e3          ASR      r7,r3,#31
0002dc  eb036717          ADD      r7,r3,r7,LSR #24
0002e0  ea4f2c27          ASR      r12,r7,#8
;;;403    modbus_registers[81]=(char)(IMIN%256);
0002e4  f884c00c          STRB     r12,[r4,#0xc]
;;;404    modbus_registers[82]=(char)(UVZ/256);		//Πεγ42
0002e8  7363              STRB     r3,[r4,#0xd]
0002ea  4b5e              LDR      r3,|L3.1124|
0002ec  f9b33000          LDRSH    r3,[r3,#0]  ; UVZ
0002f0  ea4f77e3          ASR      r7,r3,#31
0002f4  eb036717          ADD      r7,r3,r7,LSR #24
0002f8  ea4f2c27          ASR      r12,r7,#8
;;;405    modbus_registers[83]=(char)(UVZ%256);
0002fc  f884c00e          STRB     r12,[r4,#0xe]
;;;406    modbus_registers[84]=(char)(TZAS/256);		//Πεγ43
000300  73e3              STRB     r3,[r4,#0xf]
000302  4b59              LDR      r3,|L3.1128|
000304  f9b33000          LDRSH    r3,[r3,#0]  ; TZAS
000308  ea4f77e3          ASR      r7,r3,#31
00030c  eb036717          ADD      r7,r3,r7,LSR #24
000310  ea4f2c27          ASR      r12,r7,#8
;;;407    modbus_registers[85]=(char)(TZAS%256);
000314  f884c010          STRB     r12,[r4,#0x10]
;;;408    modbus_registers[86]=(char)(TMAX/256);		//Πεγ44
000318  7463              STRB     r3,[r4,#0x11]
00031a  4b54              LDR      r3,|L3.1132|
00031c  f9b33000          LDRSH    r3,[r3,#0]  ; TMAX
000320  ea4f77e3          ASR      r7,r3,#31
000324  eb036717          ADD      r7,r3,r7,LSR #24
000328  ea4f2c27          ASR      r12,r7,#8
;;;409    modbus_registers[87]=(char)(TMAX%256);
00032c  f884c012          STRB     r12,[r4,#0x12]
;;;410    modbus_registers[88]=(char)(TSIGN/256);		//Πεγ45
000330  74e3              STRB     r3,[r4,#0x13]
000332  4b4f              LDR      r3,|L3.1136|
000334  f9b33000          LDRSH    r3,[r3,#0]  ; TSIGN
000338  ea4f77e3          ASR      r7,r3,#31
00033c  eb036717          ADD      r7,r3,r7,LSR #24
000340  ea4f2c27          ASR      r12,r7,#8
;;;411    modbus_registers[89]=(char)(TSIGN%256);
000344  f884c014          STRB     r12,[r4,#0x14]
;;;412    modbus_registers[90]=(char)(TBATMAX/256);		//Πεγ46
000348  7563              STRB     r3,[r4,#0x15]
00034a  4b4a              LDR      r3,|L3.1140|
00034c  f9b33000          LDRSH    r3,[r3,#0]  ; TBATMAX
000350  ea4f77e3          ASR      r7,r3,#31
000354  eb036717          ADD      r7,r3,r7,LSR #24
000358  ea4f2c27          ASR      r12,r7,#8
;;;413    modbus_registers[91]=(char)(TBATMAX%256);
00035c  f884c016          STRB     r12,[r4,#0x16]
;;;414    modbus_registers[92]=(char)(TBATSIGN/256);		//Πεγ47
000360  75e3              STRB     r3,[r4,#0x17]
000362  4b45              LDR      r3,|L3.1144|
000364  f9b33000          LDRSH    r3,[r3,#0]  ; TBATSIGN
000368  ea4f77e3          ASR      r7,r3,#31
00036c  eb036717          ADD      r7,r3,r7,LSR #24
000370  ea4f2c27          ASR      r12,r7,#8
;;;415    modbus_registers[93]=(char)(TBATSIGN%256);
000374  f884c018          STRB     r12,[r4,#0x18]
;;;416    modbus_registers[94]=(char)(load_I/256);		//Πεγ48
;;;417    modbus_registers[95]=(char)(load_I%256);
000378  7663              STRB     r3,[r4,#0x19]
;;;418    modbus_registers[96]=(char)(load_I/256);		//Πεγ49
00037a  76a5              STRB     r5,[r4,#0x1a]
;;;419    modbus_registers[97]=(char)(load_I%256);
00037c  76e6              STRB     r6,[r4,#0x1b]
;;;420    modbus_registers[98]=(char)(load_I/256);		//Πεγ50
00037e  7725              STRB     r5,[r4,#0x1c]
000380  7766              STRB     r6,[r4,#0x1d]
000382  77a5              STRB     r5,[r4,#0x1e]
;;;421    modbus_registers[99]=(char)(load_I%256);
000384  f1a40444          SUB      r4,r4,#0x44
;;;422    
;;;423    modbus_tx_buff[0]=adr;
000388  f8846063          STRB     r6,[r4,#0x63]
;;;424    modbus_tx_buff[1]=func;
00038c  f88d0000          STRB     r0,[sp,#0]
;;;425    modbus_tx_buff[2]=(char)(reg_adr/256);
000390  f88d1001          STRB     r1,[sp,#1]
000394  ea4f0048          LSL      r0,r8,#1
;;;426    modbus_tx_buff[3]=(char)(reg_adr%256);
000398  f88d0002          STRB     r0,[sp,#2]
;;;427    //modbus_tx_buff[4]=(char)(reg_quantity/256);
;;;428    //modbus_tx_buff[5]=(char)(reg_quantity%256);
;;;429    /*
;;;430    modbus_registers[0]=0x10;
;;;431    modbus_registers[1]=0x11;
;;;432    modbus_registers[2]=0x12;
;;;433    modbus_registers[3]=0x13;
;;;434    modbus_registers[4]=0x14;
;;;435    modbus_registers[5]=0x15;
;;;436    */
;;;437    
;;;438    mem_copy((char*)&modbus_tx_buff[4],(char*)&modbus_registers[(reg_adr-1)*2],2);
00039c  f1a20201          SUB      r2,r2,#1
0003a0  eb040142          ADD      r1,r4,r2,LSL #1
0003a4  4602              MOV      r2,r0
0003a6  466d              MOV      r5,sp
0003a8  f10d0003          ADD      r0,sp,#3
0003ac  f7fffffe          BL       mem_copy
0003b0  2003              MOVS     r0,#3
;;;439    
;;;440    crc_temp=CRC16_2(modbus_tx_buff,6);
0003b2  eb000048          ADD      r0,r0,r8,LSL #1
0003b6  b201              SXTH     r1,r0
0003b8  4668              MOV      r0,sp
;;;441    
;;;442    modbus_tx_buff[6]=crc_temp%256;
0003ba  f7fffffe          BL       CRC16_2
;;;443    modbus_tx_buff[7]=crc_temp/256;
0003be  eb050148          ADD      r1,r5,r8,LSL #1
0003c2  70c8              STRB     r0,[r1,#3]
0003c4  ea4f2010          LSR      r0,r0,#8
;;;444    
;;;445    for (i=0;i<8;i++)
0003c8  7108              STRB     r0,[r1,#4]
;;;446    	{
;;;447    	putchar0(modbus_tx_buff[i]);
0003ca  f04f0400          MOV      r4,#0
                  |L3.974|
0003ce  5d28              LDRB     r0,[r5,r4]
0003d0  f7fffffe          BL       putchar0
0003d4  f1040401          ADD      r4,r4,#1              ;445
0003d8  b2e4              UXTB     r4,r4                 ;445
;;;448    	}
;;;449    for (i=0;i<8;i++)
0003da  2c0f              CMP      r4,#0xf
0003dc  d3f7              BCC      |L3.974|
;;;450    	{
;;;451    	putchar_sc16is700(modbus_tx_buff[i]);
0003de  f04f0400          MOV      r4,#0
                  |L3.994|
0003e2  5d28              LDRB     r0,[r5,r4]
0003e4  f7fffffe          BL       putchar_sc16is700
0003e8  f1040401          ADD      r4,r4,#1              ;449
0003ec  b2e4              UXTB     r4,r4                 ;449
;;;452    	}
;;;453    }
0003ee  2c0f              CMP      r4,#0xf
0003f0  d3f7              BCC      |L3.994|
0003f2  b019              ADD      sp,sp,#0x64
0003f4  e8bd83f0          POP      {r4-r9,pc}
                  |L3.1016|
                          DCD      load_U
                  |L3.1020|
                          DCD      ||area_number.6||+0x3c
                  |L3.1024|
                          DCD      load_I
                  |L3.1028|
                          DCD      Ib_ips_termokompensat
                  |L3.1032|
                          DCD      t_ext
                  |L3.1036|
                          DCD      net_Ua
                  |L3.1040|
                          DCD      net_Ub
                  |L3.1044|
                          DCD      net_Uc
                  |L3.1048|
                          DCD      net_F3
                  |L3.1052|
                          DCD      0x40024020
                  |L3.1056|
                          DCD      NUMIST
                  |L3.1060|
                          DCD      PAR
                  |L3.1064|
                          DCD      ZV_ON
                  |L3.1068|
                          DCD      TERMOKOMPENS
                  |L3.1072|
                          DCD      UBM_AV
                  |L3.1076|
                          DCD      TBAT
                  |L3.1080|
                          DCD      UMAX
                  |L3.1084|
                          DCD      UB20
                  |L3.1088|
                          DCD      ||DU||
                  |L3.1092|
                          DCD      UB0
                  |L3.1096|
                          DCD      USIGN
                  |L3.1100|
                          DCD      UMN
                  |L3.1104|
                          DCD      U0B
                  |L3.1108|
                          DCD      IKB
                  |L3.1112|
                          DCD      IZMAX
                  |L3.1116|
                          DCD      IMAX
                  |L3.1120|
                          DCD      IMIN
                  |L3.1124|
                          DCD      UVZ
                  |L3.1128|
                          DCD      TZAS
                  |L3.1132|
                          DCD      TMAX
                  |L3.1136|
                          DCD      TSIGN
                  |L3.1140|
                          DCD      TBATMAX
                  |L3.1144|
                          DCD      TBATSIGN
                          ENDP


                          AREA ||.bss||, DATA, NOINIT, ALIGN=0

                  modbus_buf
                          %        20

                          AREA ||area_number.6||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.6||, ||.bss||
                  modbus_rx_buffer
                          %        30
                  modbus_an_buffer
                          %        30
                  modbus_registers
                          %        200

                          AREA ||.data||, DATA, ALIGN=1

                  modbus_crc16
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.9||, DATA, ALIGN=0

                          EXPORTAS ||area_number.9||, ||.data||
                  modbus_timeout_cnt
000000  00                DCB      0x00

                          AREA ||area_number.10||, DATA, ALIGN=1

                          EXPORTAS ||area_number.10||, ||.data||
                  bMODBUS_TIMEOUT
000000  00                DCB      0x00
                  modbus_rx_buffer_ptr
000001  00                DCB      0x00
                  modbus_rx_counter
000002  0000              DCB      0x00,0x00
                  modbus_plazma
000004  0000              DCB      0x00,0x00
                  modbus_plazma1
000006  0000              DCB      0x00,0x00
                  modbus_plazma2
000008  0000              DCB      0x00,0x00
                  modbus_plazma3
00000a  0000              DCB      0x00,0x00
                  modbus_rx_arg0
00000c  0000              DCB      0x00,0x00
                  modbus_rx_arg1
00000e  0000              DCB      0x00,0x00

                          AREA ||area_number.11||, DATA, ALIGN=1

                          EXPORTAS ||area_number.11||, ||.data||
                  modbus_rx_arg2
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.12||, DATA, ALIGN=1

                          EXPORTAS ||area_number.12||, ||.data||
                  modbus_rx_arg3
000000  0000              DCB      0x00,0x00
