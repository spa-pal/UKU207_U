; generated by ARM C/C++ Compiler, 4.1 [Build 644]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\EXE\modbus.o --asm_dir=.\ --list_dir=.\ --depend=.\EXE\modbus.d --feedback=.\EXE\UKU_220_IPS_TERMOKOMPENSAT.fed --cpu=Cortex-M3 --apcs=interwork -O1 -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\INC\NXP\LPC17xx -D__MICROLIB -DUKU_220_IPS_TERMOKOMPENSAT -DUKU2071x --omf_browse=.\EXE\modbus.crf modbus.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  CRC16_2 PROC
;;;32     //-----------------------------------------------
;;;33     unsigned short CRC16_2(char* buf, short len)
000000  b570              PUSH     {r4-r6,lr}
;;;34     {
000002  4605              MOV      r5,r0
;;;35     unsigned short crc = 0xFFFF;
000004  f64f70ff          MOV      r0,#0xffff
;;;36     short pos;
;;;37     short i;
;;;38     
;;;39     for (pos = 0; pos < len; pos++)
000008  f04f0300          MOV      r3,#0
;;;40       	{
;;;41         	crc ^= (unsigned short)buf[pos];          // XOR byte into least sig. byte of crc
;;;42     
;;;43         	for ( i = 8; i != 0; i--) 
;;;44     		{    // Loop over each bit
;;;45           	if ((crc & 0x0001) != 0) 
;;;46     			{      // If the LSB is set
;;;47             		crc >>= 1;                    // Shift right and XOR 0xA001
;;;48             		crc ^= 0xA001;
00000c  f24a0401          MOV      r4,#0xa001
000010  e015              B        |L1.62|
                  |L1.18|
000012  5cea              LDRB     r2,[r5,r3]            ;41
000014  ea820000          EOR      r0,r2,r0              ;41
000018  f04f0208          MOV      r2,#8                 ;43
                  |L1.28|
00001c  07c6              LSLS     r6,r0,#31             ;45
00001e  d004              BEQ      |L1.42|
000020  ea4f0050          LSR      r0,r0,#1              ;47
000024  ea800004          EOR      r0,r0,r4
000028  e001              B        |L1.46|
                  |L1.42|
;;;49           		}
;;;50           	else  crc >>= 1;                    // Just shift right
00002a  ea4f0050          LSR      r0,r0,#1
                  |L1.46|
00002e  f1a20201          SUB      r2,r2,#1              ;43
000032  b212              SXTH     r2,r2                 ;43
000034  2a00              CMP      r2,#0                 ;43
000036  d1f1              BNE      |L1.28|
000038  f1030301          ADD      r3,r3,#1              ;39
00003c  b21b              SXTH     r3,r3                 ;39
                  |L1.62|
00003e  428b              CMP      r3,r1                 ;39
000040  dbe7              BLT      |L1.18|
;;;51         		}
;;;52       	}
;;;53       // Note, this number has low and high bytes swapped, so use it accordingly (or swap bytes)
;;;54     return crc;
;;;55     }
000042  bd70              POP      {r4-r6,pc}
;;;56     
                          ENDP

                  modbus_hold_register_transmit PROC
;;;311    //-----------------------------------------------
;;;312    void modbus_register_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr)
;;;313    {
;;;314    char modbus_registers[150];
;;;315    char modbus_tx_buff[50];
;;;316    unsigned short crc_temp;
;;;317    char i;
;;;318    
;;;319    
;;;320    modbus_registers[0]=(char)(load_U/256);					//Πεγ1
;;;321    modbus_registers[1]=(char)(load_U%256);
;;;322    modbus_registers[2]=(char)(load_I/256);					//Πεγ2
;;;323    modbus_registers[3]=(char)(load_I%256);
;;;324    modbus_registers[4]=(char)(Ib_ips_termokompensat/256);		//Πεγ3
000044  b570              PUSH     {r4-r6,lr}
000046  b0cc              SUB      sp,sp,#0x130
000048  4bff              LDR      r3,|L1.1096|
00004a  8b9c              LDRH     r4,[r3,#0x1c]
00004c  ea4f2414          LSR      r4,r4,#8
;;;325    modbus_registers[5]=(char)(Ib_ips_termokompensat%256);
000050  f88d40ac          STRB     r4,[sp,#0xac]
;;;326    modbus_registers[6]=(char)(t_ext[0]/256);				//Πεγ4
000054  8b9c              LDRH     r4,[r3,#0x1c]
000056  f88d40ad          STRB     r4,[sp,#0xad]
00005a  7e1c              LDRB     r4,[r3,#0x18]
00005c  f04f0400          MOV      r4,#0
000060  f88d40ae          STRB     r4,[sp,#0xae]
000064  7e1d              LDRB     r5,[r3,#0x18]
000066  f88d50af          STRB     r5,[sp,#0xaf]
;;;327    modbus_registers[7]=(char)(t_ext[0]%256);
00006a  7b1d              LDRB     r5,[r3,#0xc]
00006c  f88d40b0          STRB     r4,[sp,#0xb0]
;;;328    modbus_registers[8]=(char)(net_Ua/256);					//Πεγ5
000070  7b1d              LDRB     r5,[r3,#0xc]
000072  f88d50b1          STRB     r5,[sp,#0xb1]
000076  7a1d              LDRB     r5,[r3,#8]
000078  f88d40b2          STRB     r4,[sp,#0xb2]
00007c  7a1d              LDRB     r5,[r3,#8]
00007e  f88d50b3          STRB     r5,[sp,#0xb3]
000082  791d              LDRB     r5,[r3,#4]
;;;329    modbus_registers[9]=(char)(net_Ua%256);		 	
000084  f88d40b4          STRB     r4,[sp,#0xb4]
;;;330    modbus_registers[10]=(char)(net_Ub/256);				//Πεγ6
000088  791d              LDRB     r5,[r3,#4]
00008a  f88d50b5          STRB     r5,[sp,#0xb5]
00008e  781d              LDRB     r5,[r3,#0]
000090  f88d40b6          STRB     r4,[sp,#0xb6]
000094  781b              LDRB     r3,[r3,#0]
000096  f88d30b7          STRB     r3,[sp,#0xb7]
00009a  4bec              LDR      r3,|L1.1100|
00009c  f9b33000          LDRSH    r3,[r3,#0]  ; NUMIST
;;;331    modbus_registers[11]=(char)(net_Ub%256);
0000a0  ea4f74e3          ASR      r4,r3,#31
;;;332    modbus_registers[12]=(char)(net_Uc/256);				//Πεγ7
0000a4  eb036414          ADD      r4,r3,r4,LSR #24
0000a8  ea4f2524          ASR      r5,r4,#8
0000ac  f88d50be          STRB     r5,[sp,#0xbe]
0000b0  f88d30bf          STRB     r3,[sp,#0xbf]
0000b4  4be6              LDR      r3,|L1.1104|
0000b6  f9b33000          LDRSH    r3,[r3,#0]  ; PAR
;;;333    modbus_registers[13]=(char)(net_Uc%256);
0000ba  ea4f74e3          ASR      r4,r3,#31
;;;334    modbus_registers[14]=(char)(net_F3/256);				//Πεγ8
0000be  eb036414          ADD      r4,r3,r4,LSR #24
0000c2  ea4f2524          ASR      r5,r4,#8
0000c6  f88d50c0          STRB     r5,[sp,#0xc0]
0000ca  f88d30c1          STRB     r3,[sp,#0xc1]
0000ce  4be1              LDR      r3,|L1.1108|
0000d0  f9b33000          LDRSH    r3,[r3,#0]  ; ZV_ON
;;;335    modbus_registers[15]=(char)(net_F3%256);
0000d4  ea4f74e3          ASR      r4,r3,#31
;;;336    modbus_registers[16]=(char)(load_I/256);				//Πεγ9
0000d8  eb036414          ADD      r4,r3,r4,LSR #24
;;;337    modbus_registers[17]=(char)(load_I%256);
0000dc  ea4f2524          ASR      r5,r4,#8
;;;338    modbus_registers[18]=(char)(load_I/256);				//Πεγ10
0000e0  f88d50c2          STRB     r5,[sp,#0xc2]
;;;339    modbus_registers[19]=(char)(load_I%256);
0000e4  f88d30c3          STRB     r3,[sp,#0xc3]
;;;340    modbus_registers[20]=(char)((LPC_RTC->YEAR)/256);			//Πεγ11
0000e8  4bdb              LDR      r3,|L1.1112|
0000ea  f9b33000          LDRSH    r3,[r3,#0]  ; UBM_AV
0000ee  ea4f74e3          ASR      r4,r3,#31
;;;341    modbus_registers[21]=(char)((LPC_RTC->YEAR)%256);
0000f2  eb036414          ADD      r4,r3,r4,LSR #24
0000f6  ea4f2524          ASR      r5,r4,#8
;;;342    modbus_registers[22]=(char)((LPC_RTC->MONTH)/256);		//Πεγ12
0000fa  f88d50c6          STRB     r5,[sp,#0xc6]
0000fe  f88d30c7          STRB     r3,[sp,#0xc7]
;;;343    modbus_registers[23]=(char)((LPC_RTC->MONTH)%256);
000102  4bd6              LDR      r3,|L1.1116|
000104  f9b33000          LDRSH    r3,[r3,#0]  ; TBAT
;;;344    modbus_registers[24]=(char)((LPC_RTC->DOM)/256);			//Πεγ13
000108  ea4f74e3          ASR      r4,r3,#31
00010c  eb036414          ADD      r4,r3,r4,LSR #24
;;;345    modbus_registers[25]=(char)((LPC_RTC->DOM)%256);
000110  ea4f2524          ASR      r5,r4,#8
;;;346    modbus_registers[26]=(char)((LPC_RTC->HOUR)/256);			//Πεγ14
000114  f88d50d2          STRB     r5,[sp,#0xd2]
000118  f88d30d3          STRB     r3,[sp,#0xd3]
;;;347    modbus_registers[27]=(char)((LPC_RTC->HOUR)%256);
00011c  4bd0              LDR      r3,|L1.1120|
00011e  f9b33000          LDRSH    r3,[r3,#0]  ; UMAX
;;;348    modbus_registers[28]=(char)((LPC_RTC->MIN)/256);			//Πεγ15
000122  ea4f74e3          ASR      r4,r3,#31
;;;349    modbus_registers[29]=(char)((LPC_RTC->MIN)%256);
000126  eb036414          ADD      r4,r3,r4,LSR #24
00012a  ea4f2524          ASR      r5,r4,#8
;;;350    modbus_registers[30]=(char)((LPC_RTC->SEC)/256);			//Πεγ16
00012e  f88d50d4          STRB     r5,[sp,#0xd4]
;;;351    modbus_registers[31]=(char)((LPC_RTC->SEC)%256);
000132  f88d30d5          STRB     r3,[sp,#0xd5]
000136  4bcb              LDR      r3,|L1.1124|
;;;352    modbus_registers[32]=(char)(load_I/256);				//Πεγ17
000138  4ccb              LDR      r4,|L1.1128|
00013a  f9b33000          LDRSH    r3,[r3,#0]  ; UB20
;;;353    modbus_registers[33]=(char)(load_I%256);
00013e  f9b44000          LDRSH    r4,[r4,#0]  ; DU
;;;354    modbus_registers[34]=(char)(load_I/256);				//Πεγ18
000142  eba30404          SUB      r4,r3,r4
;;;355    modbus_registers[35]=(char)(load_I%256);
000146  ea4f75e4          ASR      r5,r4,#31
;;;356    modbus_registers[36]=(char)(load_I/256);		//Πεγ19
00014a  eb046515          ADD      r5,r4,r5,LSR #24
;;;357    modbus_registers[37]=(char)(load_I%256);
00014e  ea4f2625          ASR      r6,r5,#8
;;;358    modbus_registers[38]=(char)(NUMIST/256);		//Πεγ20
000152  f88d60d6          STRB     r6,[sp,#0xd6]
000156  f88d40d7          STRB     r4,[sp,#0xd7]
00015a  4cc4              LDR      r4,|L1.1132|
00015c  f9b44000          LDRSH    r4,[r4,#0]  ; UB0
000160  ea4f75e4          ASR      r5,r4,#31
000164  eb046515          ADD      r5,r4,r5,LSR #24
;;;359    modbus_registers[39]=(char)(NUMIST%256);
000168  ea4f2625          ASR      r6,r5,#8
;;;360    modbus_registers[40]=(char)(PAR/256);		//Πεγ21
00016c  f88d60d8          STRB     r6,[sp,#0xd8]
000170  f88d40d9          STRB     r4,[sp,#0xd9]
000174  ea4f74e3          ASR      r4,r3,#31
000178  eb036414          ADD      r4,r3,r4,LSR #24
00017c  ea4f2524          ASR      r5,r4,#8
;;;361    modbus_registers[41]=(char)(PAR%256);
000180  f88d50da          STRB     r5,[sp,#0xda]
;;;362    modbus_registers[42]=(char)(ZV_ON/256);		//Πεγ22
000184  f88d30db          STRB     r3,[sp,#0xdb]
000188  4bb9              LDR      r3,|L1.1136|
00018a  f9b33000          LDRSH    r3,[r3,#0]  ; USIGN
00018e  ea4f74e3          ASR      r4,r3,#31
000192  eb036414          ADD      r4,r3,r4,LSR #24
000196  ea4f2524          ASR      r5,r4,#8
;;;363    modbus_registers[43]=(char)(ZV_ON%256);
00019a  f88d50dc          STRB     r5,[sp,#0xdc]
;;;364    modbus_registers[44]=(char)(TERMOKOMPENS/256);		//Πεγ23
00019e  f88d30dd          STRB     r3,[sp,#0xdd]
0001a2  4bb4              LDR      r3,|L1.1140|
0001a4  f9b33000          LDRSH    r3,[r3,#0]  ; UMN
0001a8  ea4f74e3          ASR      r4,r3,#31
0001ac  eb036414          ADD      r4,r3,r4,LSR #24
0001b0  ea4f2524          ASR      r5,r4,#8
;;;365    modbus_registers[45]=(char)(TERMOKOMPENS%256);
0001b4  f88d50de          STRB     r5,[sp,#0xde]
;;;366    modbus_registers[46]=(char)(UBM_AV/256);		//Πεγ24
0001b8  f88d30df          STRB     r3,[sp,#0xdf]
0001bc  4bae              LDR      r3,|L1.1144|
0001be  f9b33000          LDRSH    r3,[r3,#0]  ; U0B
0001c2  ea4f74e3          ASR      r4,r3,#31
0001c6  eb036414          ADD      r4,r3,r4,LSR #24
0001ca  ea4f2524          ASR      r5,r4,#8
;;;367    modbus_registers[47]=(char)(UBM_AV%256);
0001ce  f88d50e0          STRB     r5,[sp,#0xe0]
;;;368    modbus_registers[48]=(char)(load_I/256);		//Πεγ25
0001d2  f88d30e1          STRB     r3,[sp,#0xe1]
;;;369    modbus_registers[49]=(char)(load_I%256);
0001d6  4ba9              LDR      r3,|L1.1148|
0001d8  f9b33000          LDRSH    r3,[r3,#0]  ; IKB
;;;370    modbus_registers[50]=(char)(load_I/256);		//Πεγ26
0001dc  ea4f74e3          ASR      r4,r3,#31
;;;371    modbus_registers[51]=(char)(load_I%256);
0001e0  eb036414          ADD      r4,r3,r4,LSR #24
;;;372    modbus_registers[52]=(char)(load_I/256);		//Πεγ27
0001e4  ea4f2524          ASR      r5,r4,#8
;;;373    modbus_registers[53]=(char)(load_I%256);
0001e8  f88d50e2          STRB     r5,[sp,#0xe2]
;;;374    modbus_registers[54]=(char)(load_I/256);		//Πεγ28
0001ec  f88d30e3          STRB     r3,[sp,#0xe3]
;;;375    modbus_registers[55]=(char)(load_I%256);
0001f0  4ba3              LDR      r3,|L1.1152|
;;;376    modbus_registers[56]=(char)(load_I/256);		//Πεγ29
0001f2  f9b33000          LDRSH    r3,[r3,#0]  ; IZMAX
;;;377    modbus_registers[57]=(char)(load_I%256);
0001f6  ea4f74e3          ASR      r4,r3,#31
;;;378    modbus_registers[58]=(char)(TBAT/256);			//Πεγ30
0001fa  eb036414          ADD      r4,r3,r4,LSR #24
0001fe  ea4f2524          ASR      r5,r4,#8
000202  f88d50e4          STRB     r5,[sp,#0xe4]
000206  f88d30e5          STRB     r3,[sp,#0xe5]
00020a  4b9e              LDR      r3,|L1.1156|
00020c  f9b33000          LDRSH    r3,[r3,#0]  ; IMAX
;;;379    modbus_registers[59]=(char)(TBAT%256);
000210  ea4f74e3          ASR      r4,r3,#31
;;;380    modbus_registers[60]=(char)(UMAX/256);			//Πεγ31
000214  eb036414          ADD      r4,r3,r4,LSR #24
000218  ea4f2524          ASR      r5,r4,#8
00021c  f88d50e6          STRB     r5,[sp,#0xe6]
000220  f88d30e7          STRB     r3,[sp,#0xe7]
000224  4b98              LDR      r3,|L1.1160|
000226  f9b33000          LDRSH    r3,[r3,#0]  ; IMIN
;;;381    modbus_registers[61]=(char)(UMAX%256);
00022a  ea4f74e3          ASR      r4,r3,#31
;;;382    modbus_registers[62]=(char)((UB20-DU)/256);		//Πεγ32
00022e  eb036414          ADD      r4,r3,r4,LSR #24
000232  ea4f2524          ASR      r5,r4,#8
000236  f88d50e8          STRB     r5,[sp,#0xe8]
00023a  f88d30e9          STRB     r3,[sp,#0xe9]
00023e  4b93              LDR      r3,|L1.1164|
000240  f9b33000          LDRSH    r3,[r3,#0]  ; UVZ
000244  ea4f74e3          ASR      r4,r3,#31
000248  eb036414          ADD      r4,r3,r4,LSR #24
00024c  ea4f2524          ASR      r5,r4,#8
;;;383    modbus_registers[63]=(char)((UB20-DU)%256);
000250  f88d50ea          STRB     r5,[sp,#0xea]
;;;384    modbus_registers[64]=(char)(UB0/256);			//Πεγ33
000254  f88d30eb          STRB     r3,[sp,#0xeb]
000258  4b8d              LDR      r3,|L1.1168|
00025a  f9b33000          LDRSH    r3,[r3,#0]  ; TZAS
00025e  ea4f74e3          ASR      r4,r3,#31
000262  eb036414          ADD      r4,r3,r4,LSR #24
000266  ea4f2524          ASR      r5,r4,#8
;;;385    modbus_registers[65]=(char)(UB0%256);
00026a  f88d50ec          STRB     r5,[sp,#0xec]
;;;386    modbus_registers[66]=(char)(UB20/256);			//Πεγ34
00026e  f88d30ed          STRB     r3,[sp,#0xed]
000272  4b88              LDR      r3,|L1.1172|
000274  f9b33000          LDRSH    r3,[r3,#0]  ; TMAX
000278  ea4f74e3          ASR      r4,r3,#31
;;;387    modbus_registers[67]=(char)(UB20%256);
00027c  eb036414          ADD      r4,r3,r4,LSR #24
;;;388    modbus_registers[68]=(char)(USIGN/256);		//Πεγ35
000280  ea4f2524          ASR      r5,r4,#8
000284  f88d50ee          STRB     r5,[sp,#0xee]
000288  f88d30ef          STRB     r3,[sp,#0xef]
00028c  4b82              LDR      r3,|L1.1176|
00028e  f9b33000          LDRSH    r3,[r3,#0]  ; TSIGN
000292  ea4f74e3          ASR      r4,r3,#31
;;;389    modbus_registers[69]=(char)(USIGN%256);
000296  eb036414          ADD      r4,r3,r4,LSR #24
;;;390    modbus_registers[70]=(char)(UMN/256);		//Πεγ36
00029a  ea4f2524          ASR      r5,r4,#8
00029e  f88d50f0          STRB     r5,[sp,#0xf0]
0002a2  f88d30f1          STRB     r3,[sp,#0xf1]
0002a6  4b7d              LDR      r3,|L1.1180|
0002a8  f9b33000          LDRSH    r3,[r3,#0]  ; TBATMAX
0002ac  ea4f74e3          ASR      r4,r3,#31
;;;391    modbus_registers[71]=(char)(UMN%256);
0002b0  eb036414          ADD      r4,r3,r4,LSR #24
;;;392    modbus_registers[72]=(char)(U0B/256);		//Πεγ37
0002b4  ea4f2524          ASR      r5,r4,#8
0002b8  f88d50f2          STRB     r5,[sp,#0xf2]
0002bc  f88d30f3          STRB     r3,[sp,#0xf3]
0002c0  4b77              LDR      r3,|L1.1184|
0002c2  f9b33000          LDRSH    r3,[r3,#0]  ; TBATSIGN
0002c6  ea4f74e3          ASR      r4,r3,#31
;;;393    modbus_registers[73]=(char)(U0B%256);
0002ca  eb036414          ADD      r4,r3,r4,LSR #24
;;;394    modbus_registers[74]=(char)(IKB/256);		//Πεγ38
0002ce  ea4f2524          ASR      r5,r4,#8
0002d2  f88d50f4          STRB     r5,[sp,#0xf4]
0002d6  f88d30f5          STRB     r3,[sp,#0xf5]
0002da  4b72              LDR      r3,|L1.1188|
0002dc  f9b33000          LDRSH    r3,[r3,#0]  ; speedChrgCurr
0002e0  ea4f74e3          ASR      r4,r3,#31
;;;395    modbus_registers[75]=(char)(IKB%256);
0002e4  eb036414          ADD      r4,r3,r4,LSR #24
;;;396    modbus_registers[76]=(char)(IZMAX/256);		//Πεγ39
0002e8  ea4f2524          ASR      r5,r4,#8
0002ec  f88d50f6          STRB     r5,[sp,#0xf6]
0002f0  f88d30f7          STRB     r3,[sp,#0xf7]
0002f4  4b6c              LDR      r3,|L1.1192|
0002f6  f9b33000          LDRSH    r3,[r3,#0]  ; speedChrgVolt
0002fa  ea4f74e3          ASR      r4,r3,#31
;;;397    modbus_registers[77]=(char)(IZMAX%256);
0002fe  eb036414          ADD      r4,r3,r4,LSR #24
;;;398    modbus_registers[78]=(char)(IMAX/256);		//Πεγ40
000302  ea4f2524          ASR      r5,r4,#8
000306  f88d50f8          STRB     r5,[sp,#0xf8]
00030a  f88d30f9          STRB     r3,[sp,#0xf9]
00030e  4b67              LDR      r3,|L1.1196|
000310  f9b33000          LDRSH    r3,[r3,#0]  ; speedChrgTimeInHour
000314  ea4f74e3          ASR      r4,r3,#31
;;;399    modbus_registers[79]=(char)(IMAX%256);
000318  eb036414          ADD      r4,r3,r4,LSR #24
;;;400    modbus_registers[80]=(char)(IMIN/256);		//Πεγ41
00031c  ea4f2524          ASR      r5,r4,#8
000320  f88d50fa          STRB     r5,[sp,#0xfa]
000324  f88d30fb          STRB     r3,[sp,#0xfb]
000328  f88d0000          STRB     r0,[sp,#0]
00032c  f88d1001          STRB     r1,[sp,#1]
000330  ea4f2012          LSR      r0,r2,#8
;;;401    modbus_registers[81]=(char)(IMIN%256);
000334  f88d0002          STRB     r0,[sp,#2]
;;;402    modbus_registers[82]=(char)(UVZ/256);		//Πεγ42
000338  f88d2003          STRB     r2,[sp,#3]
00033c  a826              ADD      r0,sp,#0x98
00033e  f1a20201          SUB      r2,r2,#1
000342  eb000142          ADD      r1,r0,r2,LSL #1
000346  f04f0202          MOV      r2,#2
00034a  466d              MOV      r5,sp
;;;403    modbus_registers[83]=(char)(UVZ%256);
00034c  a801              ADD      r0,sp,#4
00034e  f7fffffe          BL       mem_copy
;;;404    modbus_registers[84]=(char)(TZAS/256);		//Πεγ43
000352  2106              MOVS     r1,#6
000354  4668              MOV      r0,sp
000356  f7fffffe          BL       CRC16_2
00035a  f88d0006          STRB     r0,[sp,#6]
00035e  ea4f2010          LSR      r0,r0,#8
000362  f88d0007          STRB     r0,[sp,#7]
;;;405    modbus_registers[85]=(char)(TZAS%256);
000366  f04f0400          MOV      r4,#0
                  |L1.874|
;;;406    modbus_registers[86]=(char)(TMAX/256);		//Πεγ44
00036a  5d28              LDRB     r0,[r5,r4]
00036c  f7fffffe          BL       putchar0
000370  f1040401          ADD      r4,r4,#1
000374  b2e4              UXTB     r4,r4
000376  2c08              CMP      r4,#8
000378  d3f7              BCC      |L1.874|
00037a  f04f0400          MOV      r4,#0
                  |L1.894|
00037e  5d28              LDRB     r0,[r5,r4]
;;;407    modbus_registers[87]=(char)(TMAX%256);
000380  f7fffffe          BL       putchar_sc16is700
;;;408    modbus_registers[88]=(char)(TSIGN/256);		//Πεγ45
000384  f1040401          ADD      r4,r4,#1
000388  b2e4              UXTB     r4,r4
00038a  2c08              CMP      r4,#8
00038c  d3f7              BCC      |L1.894|
00038e  b04c              ADD      sp,sp,#0x130
000390  bd70              POP      {r4-r6,pc}
;;;409    modbus_registers[89]=(char)(TSIGN%256);
;;;410    modbus_registers[90]=(char)(TBATMAX/256);		//Πεγ46
;;;411    modbus_registers[91]=(char)(TBATMAX%256);
;;;412    modbus_registers[92]=(char)(TBATSIGN/256);		//Πεγ47
;;;413    modbus_registers[93]=(char)(TBATSIGN%256);
;;;414    modbus_registers[94]=(char)(load_I/256);		//Πεγ48
;;;415    modbus_registers[95]=(char)(load_I%256);
;;;416    modbus_registers[96]=(char)(load_I/256);		//Πεγ49
;;;417    modbus_registers[97]=(char)(load_I%256);
;;;418    modbus_registers[98]=(char)(load_I/256);		//Πεγ50
;;;419    modbus_registers[99]=(char)(load_I%256);
;;;420    
;;;421    modbus_tx_buff[0]=adr;
;;;422    modbus_tx_buff[1]=func;
;;;423    modbus_tx_buff[2]=(char)(reg_adr/256);
;;;424    modbus_tx_buff[3]=(char)(reg_adr%256);
;;;425    //modbus_tx_buff[4]=(char)(reg_quantity/256);
;;;426    //modbus_tx_buff[5]=(char)(reg_quantity%256);
;;;427    /*
;;;428    modbus_registers[0]=0x10;
;;;429    modbus_registers[1]=0x11;
;;;430    modbus_registers[2]=0x12;
;;;431    modbus_registers[3]=0x13;
;;;432    modbus_registers[4]=0x14;
;;;433    modbus_registers[5]=0x15;
;;;434    */
;;;435    
;;;436    mem_copy((char*)&modbus_tx_buff[4],(char*)&modbus_registers[(reg_adr-1)*2],2);
;;;437    
;;;438    crc_temp=CRC16_2(modbus_tx_buff,6);
;;;439    
;;;440    modbus_tx_buff[6]=crc_temp%256;
;;;441    modbus_tx_buff[7]=crc_temp/256;
;;;442    
;;;443    for (i=0;i<8;i++)
;;;444    	{
;;;445    	putchar0(modbus_tx_buff[i]);
;;;446    	}
;;;447    for (i=0;i<8;i++)
;;;448    	{
;;;449    	putchar_sc16is700(modbus_tx_buff[i]);
;;;450    	}
;;;451    }
;;;452    
                          ENDP

                  modbus_input_registers_transmit PROC
;;;311    //-----------------------------------------------
;;;312    void modbus_register_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr)
;;;313    {
;;;314    char modbus_registers[150];
;;;315    char modbus_tx_buff[50];
;;;316    unsigned short crc_temp;
;;;317    char i;
;;;318    
;;;319    
;;;320    modbus_registers[0]=(char)(load_U/256);					//Πεγ1
;;;321    modbus_registers[1]=(char)(load_U%256);
;;;322    modbus_registers[2]=(char)(load_I/256);					//Πεγ2
;;;323    modbus_registers[3]=(char)(load_I%256);
;;;324    modbus_registers[4]=(char)(Ib_ips_termokompensat/256);		//Πεγ3
;;;325    modbus_registers[5]=(char)(Ib_ips_termokompensat%256);
;;;326    modbus_registers[6]=(char)(t_ext[0]/256);				//Πεγ4
;;;327    modbus_registers[7]=(char)(t_ext[0]%256);
;;;328    modbus_registers[8]=(char)(net_Ua/256);					//Πεγ5
;;;329    modbus_registers[9]=(char)(net_Ua%256);		 	
;;;330    modbus_registers[10]=(char)(net_Ub/256);				//Πεγ6
;;;331    modbus_registers[11]=(char)(net_Ub%256);
;;;332    modbus_registers[12]=(char)(net_Uc/256);				//Πεγ7
;;;333    modbus_registers[13]=(char)(net_Uc%256);
;;;334    modbus_registers[14]=(char)(net_F3/256);				//Πεγ8
;;;335    modbus_registers[15]=(char)(net_F3%256);
;;;336    modbus_registers[16]=(char)(load_I/256);				//Πεγ9
;;;337    modbus_registers[17]=(char)(load_I%256);
;;;338    modbus_registers[18]=(char)(load_I/256);				//Πεγ10
;;;339    modbus_registers[19]=(char)(load_I%256);
;;;340    modbus_registers[20]=(char)((LPC_RTC->YEAR)/256);			//Πεγ11
;;;341    modbus_registers[21]=(char)((LPC_RTC->YEAR)%256);
;;;342    modbus_registers[22]=(char)((LPC_RTC->MONTH)/256);		//Πεγ12
;;;343    modbus_registers[23]=(char)((LPC_RTC->MONTH)%256);
;;;344    modbus_registers[24]=(char)((LPC_RTC->DOM)/256);			//Πεγ13
;;;345    modbus_registers[25]=(char)((LPC_RTC->DOM)%256);
;;;346    modbus_registers[26]=(char)((LPC_RTC->HOUR)/256);			//Πεγ14
;;;347    modbus_registers[27]=(char)((LPC_RTC->HOUR)%256);
;;;348    modbus_registers[28]=(char)((LPC_RTC->MIN)/256);			//Πεγ15
;;;349    modbus_registers[29]=(char)((LPC_RTC->MIN)%256);
;;;350    modbus_registers[30]=(char)((LPC_RTC->SEC)/256);			//Πεγ16
;;;351    modbus_registers[31]=(char)((LPC_RTC->SEC)%256);
;;;352    modbus_registers[32]=(char)(load_I/256);				//Πεγ17
;;;353    modbus_registers[33]=(char)(load_I%256);
;;;354    modbus_registers[34]=(char)(load_I/256);				//Πεγ18
;;;355    modbus_registers[35]=(char)(load_I%256);
;;;356    modbus_registers[36]=(char)(load_I/256);		//Πεγ19
;;;357    modbus_registers[37]=(char)(load_I%256);
;;;358    modbus_registers[38]=(char)(NUMIST/256);		//Πεγ20
;;;359    modbus_registers[39]=(char)(NUMIST%256);
;;;360    modbus_registers[40]=(char)(PAR/256);		//Πεγ21
;;;361    modbus_registers[41]=(char)(PAR%256);
;;;362    modbus_registers[42]=(char)(ZV_ON/256);		//Πεγ22
;;;363    modbus_registers[43]=(char)(ZV_ON%256);
;;;364    modbus_registers[44]=(char)(TERMOKOMPENS/256);		//Πεγ23
;;;365    modbus_registers[45]=(char)(TERMOKOMPENS%256);
;;;366    modbus_registers[46]=(char)(UBM_AV/256);		//Πεγ24
;;;367    modbus_registers[47]=(char)(UBM_AV%256);
;;;368    modbus_registers[48]=(char)(load_I/256);		//Πεγ25
;;;369    modbus_registers[49]=(char)(load_I%256);
;;;370    modbus_registers[50]=(char)(load_I/256);		//Πεγ26
;;;371    modbus_registers[51]=(char)(load_I%256);
;;;372    modbus_registers[52]=(char)(load_I/256);		//Πεγ27
;;;373    modbus_registers[53]=(char)(load_I%256);
;;;374    modbus_registers[54]=(char)(load_I/256);		//Πεγ28
;;;375    modbus_registers[55]=(char)(load_I%256);
;;;376    modbus_registers[56]=(char)(load_I/256);		//Πεγ29
;;;377    modbus_registers[57]=(char)(load_I%256);
;;;378    modbus_registers[58]=(char)(TBAT/256);			//Πεγ30
;;;379    modbus_registers[59]=(char)(TBAT%256);
;;;380    modbus_registers[60]=(char)(UMAX/256);			//Πεγ31
;;;381    modbus_registers[61]=(char)(UMAX%256);
;;;382    modbus_registers[62]=(char)((UB20-DU)/256);		//Πεγ32
;;;383    modbus_registers[63]=(char)((UB20-DU)%256);
;;;384    modbus_registers[64]=(char)(UB0/256);			//Πεγ33
;;;385    modbus_registers[65]=(char)(UB0%256);
;;;386    modbus_registers[66]=(char)(UB20/256);			//Πεγ34
;;;387    modbus_registers[67]=(char)(UB20%256);
;;;388    modbus_registers[68]=(char)(USIGN/256);		//Πεγ35
;;;389    modbus_registers[69]=(char)(USIGN%256);
;;;390    modbus_registers[70]=(char)(UMN/256);		//Πεγ36
;;;391    modbus_registers[71]=(char)(UMN%256);
;;;392    modbus_registers[72]=(char)(U0B/256);		//Πεγ37
;;;393    modbus_registers[73]=(char)(U0B%256);
;;;394    modbus_registers[74]=(char)(IKB/256);		//Πεγ38
;;;395    modbus_registers[75]=(char)(IKB%256);
;;;396    modbus_registers[76]=(char)(IZMAX/256);		//Πεγ39
;;;397    modbus_registers[77]=(char)(IZMAX%256);
;;;398    modbus_registers[78]=(char)(IMAX/256);		//Πεγ40
;;;399    modbus_registers[79]=(char)(IMAX%256);
;;;400    modbus_registers[80]=(char)(IMIN/256);		//Πεγ41
;;;401    modbus_registers[81]=(char)(IMIN%256);
;;;402    modbus_registers[82]=(char)(UVZ/256);		//Πεγ42
;;;403    modbus_registers[83]=(char)(UVZ%256);
;;;404    modbus_registers[84]=(char)(TZAS/256);		//Πεγ43
;;;405    modbus_registers[85]=(char)(TZAS%256);
;;;406    modbus_registers[86]=(char)(TMAX/256);		//Πεγ44
;;;407    modbus_registers[87]=(char)(TMAX%256);
;;;408    modbus_registers[88]=(char)(TSIGN/256);		//Πεγ45
000392  e92d41f0          PUSH     {r4-r8,lr}
000396  b0e4              SUB      sp,sp,#0x190
000398  461d              MOV      r5,r3
;;;409    modbus_registers[89]=(char)(TSIGN%256);
00039a  4b45              LDR      r3,|L1.1200|
00039c  f9b33000          LDRSH    r3,[r3,#0]  ; out_U
;;;410    modbus_registers[90]=(char)(TBATMAX/256);		//Πεγ46
0003a0  ea4f74e3          ASR      r4,r3,#31
0003a4  eb036414          ADD      r4,r3,r4,LSR #24
0003a8  ea4f2624          ASR      r6,r4,#8
0003ac  f88d60c8          STRB     r6,[sp,#0xc8]
0003b0  f88d30c9          STRB     r3,[sp,#0xc9]
;;;411    modbus_registers[91]=(char)(TBATMAX%256);
0003b4  4b3f              LDR      r3,|L1.1204|
0003b6  f9b33000          LDRSH    r3,[r3,#0]  ; bps_I
;;;412    modbus_registers[92]=(char)(TBATSIGN/256);		//Πεγ47
0003ba  ea4f74e3          ASR      r4,r3,#31
0003be  eb036414          ADD      r4,r3,r4,LSR #24
0003c2  ea4f2624          ASR      r6,r4,#8
0003c6  f88d60ca          STRB     r6,[sp,#0xca]
0003ca  f88d30cb          STRB     r3,[sp,#0xcb]
;;;413    modbus_registers[93]=(char)(TBATSIGN%256);
0003ce  4b3a              LDR      r3,|L1.1208|
0003d0  f9b33000          LDRSH    r3,[r3,#0]  ; net_U
;;;414    modbus_registers[94]=(char)(load_I/256);		//Πεγ48
0003d4  ea4f74e3          ASR      r4,r3,#31
;;;415    modbus_registers[95]=(char)(load_I%256);
0003d8  eb036414          ADD      r4,r3,r4,LSR #24
;;;416    modbus_registers[96]=(char)(load_I/256);		//Πεγ49
0003dc  ea4f2624          ASR      r6,r4,#8
;;;417    modbus_registers[97]=(char)(load_I%256);
0003e0  f88d60cc          STRB     r6,[sp,#0xcc]
;;;418    modbus_registers[98]=(char)(load_I/256);		//Πεγ50
0003e4  f88d30cd          STRB     r3,[sp,#0xcd]
;;;419    modbus_registers[99]=(char)(load_I%256);
0003e8  4b34              LDR      r3,|L1.1212|
;;;420    
;;;421    modbus_tx_buff[0]=adr;
0003ea  f9b33000          LDRSH    r3,[r3,#0]  ; net_F
;;;422    modbus_tx_buff[1]=func;
0003ee  ea4f74e3          ASR      r4,r3,#31
;;;423    modbus_tx_buff[2]=(char)(reg_adr/256);
0003f2  eb036414          ADD      r4,r3,r4,LSR #24
0003f6  ea4f2624          ASR      r6,r4,#8
;;;424    modbus_tx_buff[3]=(char)(reg_adr%256);
0003fa  f88d60ce          STRB     r6,[sp,#0xce]
;;;425    //modbus_tx_buff[4]=(char)(reg_quantity/256);
;;;426    //modbus_tx_buff[5]=(char)(reg_quantity%256);
;;;427    /*
;;;428    modbus_registers[0]=0x10;
;;;429    modbus_registers[1]=0x11;
;;;430    modbus_registers[2]=0x12;
;;;431    modbus_registers[3]=0x13;
;;;432    modbus_registers[4]=0x14;
;;;433    modbus_registers[5]=0x15;
;;;434    */
;;;435    
;;;436    mem_copy((char*)&modbus_tx_buff[4],(char*)&modbus_registers[(reg_adr-1)*2],2);
0003fe  f88d30cf          STRB     r3,[sp,#0xcf]
000402  4b2f              LDR      r3,|L1.1216|
000404  f9b33000          LDRSH    r3,[r3,#0]  ; net_Ua
000408  ea4f74e3          ASR      r4,r3,#31
00040c  eb036414          ADD      r4,r3,r4,LSR #24
000410  ea4f2624          ASR      r6,r4,#8
000414  f88d60d0          STRB     r6,[sp,#0xd0]
000418  f88d30d1          STRB     r3,[sp,#0xd1]
00041c  4b29              LDR      r3,|L1.1220|
00041e  f9b33000          LDRSH    r3,[r3,#0]  ; net_Ub
000422  ea4f74e3          ASR      r4,r3,#31
000426  eb036414          ADD      r4,r3,r4,LSR #24
00042a  ea4f2624          ASR      r6,r4,#8
00042e  f88d60d2          STRB     r6,[sp,#0xd2]
000432  f88d30d3          STRB     r3,[sp,#0xd3]
000436  4b24              LDR      r3,|L1.1224|
000438  f9b33000          LDRSH    r3,[r3,#0]  ; net_Uc
00043c  ea4f74e3          ASR      r4,r3,#31
000440  eb036414          ADD      r4,r3,r4,LSR #24
000444  e042              B        |L1.1228|
000446  0000              DCW      0x0000
                  |L1.1096|
                          DCD      0x40024020
                  |L1.1100|
                          DCD      NUMIST
                  |L1.1104|
                          DCD      PAR
                  |L1.1108|
                          DCD      ZV_ON
                  |L1.1112|
                          DCD      UBM_AV
                  |L1.1116|
                          DCD      TBAT
                  |L1.1120|
                          DCD      UMAX
                  |L1.1124|
                          DCD      UB20
                  |L1.1128|
                          DCD      ||DU||
                  |L1.1132|
                          DCD      UB0
                  |L1.1136|
                          DCD      USIGN
                  |L1.1140|
                          DCD      UMN
                  |L1.1144|
                          DCD      U0B
                  |L1.1148|
                          DCD      IKB
                  |L1.1152|
                          DCD      IZMAX
                  |L1.1156|
                          DCD      IMAX
                  |L1.1160|
                          DCD      IMIN
                  |L1.1164|
                          DCD      UVZ
                  |L1.1168|
                          DCD      TZAS
                  |L1.1172|
                          DCD      TMAX
                  |L1.1176|
                          DCD      TSIGN
                  |L1.1180|
                          DCD      TBATMAX
                  |L1.1184|
                          DCD      TBATSIGN
                  |L1.1188|
                          DCD      speedChrgCurr
                  |L1.1192|
                          DCD      speedChrgVolt
                  |L1.1196|
                          DCD      speedChrgTimeInHour
                  |L1.1200|
                          DCD      out_U
                  |L1.1204|
                          DCD      bps_I
                  |L1.1208|
                          DCD      net_U
                  |L1.1212|
                          DCD      net_F
                  |L1.1216|
                          DCD      net_Ua
                  |L1.1220|
                          DCD      net_Ub
                  |L1.1224|
                          DCD      net_Uc
                  |L1.1228|
;;;437    
;;;438    crc_temp=CRC16_2(modbus_tx_buff,6);
;;;439    
;;;440    modbus_tx_buff[6]=crc_temp%256;
;;;441    modbus_tx_buff[7]=crc_temp/256;
;;;442    
;;;443    for (i=0;i<8;i++)
;;;444    	{
;;;445    	putchar0(modbus_tx_buff[i]);
;;;446    	}
;;;447    for (i=0;i<8;i++)
0004cc  ea4f2624          ASR      r6,r4,#8
0004d0  f88d60d4          STRB     r6,[sp,#0xd4]
;;;448    	{
;;;449    	putchar_sc16is700(modbus_tx_buff[i]);
;;;450    	}
;;;451    }
0004d4  f88d30d5          STRB     r3,[sp,#0xd5]
0004d8  4bff              LDR      r3,|L1.2264|
0004da  f9b34002          LDRSH    r4,[r3,#2]  ; bat
0004de  ea4f76e4          ASR      r6,r4,#31
0004e2  eb046616          ADD      r6,r4,r6,LSR #24
0004e6  ea4f2726          ASR      r7,r6,#8
0004ea  f88d70d6          STRB     r7,[sp,#0xd6]
0004ee  f88d40d7          STRB     r4,[sp,#0xd7]
0004f2  f9b34008          LDRSH    r4,[r3,#8]  ; bat
0004f6  ea4f76e4          ASR      r6,r4,#31
0004fa  eb046616          ADD      r6,r4,r6,LSR #24
0004fe  ea4f2726          ASR      r7,r6,#8
000502  f88d70d8          STRB     r7,[sp,#0xd8]
000506  f88d40d9          STRB     r4,[sp,#0xd9]
00050a  f9b3400a          LDRSH    r4,[r3,#0xa]  ; bat
00050e  ea4f76e4          ASR      r6,r4,#31
000512  eb046616          ADD      r6,r4,r6,LSR #24
000516  ea4f2726          ASR      r7,r6,#8
00051a  f88d70da          STRB     r7,[sp,#0xda]
00051e  f88d40db          STRB     r4,[sp,#0xdb]
000522  8a1c              LDRH     r4,[r3,#0x10]  ; bat
000524  ea4f2614          LSR      r6,r4,#8
000528  f88d60dc          STRB     r6,[sp,#0xdc]
00052c  f88d40dd          STRB     r4,[sp,#0xdd]
000530  f9b34004          LDRSH    r4,[r3,#4]  ; bat
000534  ea4f76e4          ASR      r6,r4,#31
000538  eb046616          ADD      r6,r4,r6,LSR #24
00053c  ea4f2726          ASR      r7,r6,#8
000540  f88d70de          STRB     r7,[sp,#0xde]
000544  f88d40df          STRB     r4,[sp,#0xdf]
000548  f9b34006          LDRSH    r4,[r3,#6]  ; bat
00054c  ea4f76e4          ASR      r6,r4,#31
000550  eb046616          ADD      r6,r4,r6,LSR #24
000554  ea4f2726          ASR      r7,r6,#8
000558  f88d70e0          STRB     r7,[sp,#0xe0]
00055c  f88d40e1          STRB     r4,[sp,#0xe1]
000560  4ede              LDR      r6,|L1.2268|
000562  f9b64000          LDRSH    r4,[r6,#0]  ; BAT_C_REAL
000566  ea4f77e4          ASR      r7,r4,#31
00056a  eb046717          ADD      r7,r4,r7,LSR #24
00056e  ea4f2c27          ASR      r12,r7,#8
000572  f88dc0e2          STRB     r12,[sp,#0xe2]
000576  f88d40e3          STRB     r4,[sp,#0xe3]
00057a  f9b3404e          LDRSH    r4,[r3,#0x4e]  ; bat
00057e  ea4f77e4          ASR      r7,r4,#31
000582  eb046717          ADD      r7,r4,r7,LSR #24
000586  ea4f2c27          ASR      r12,r7,#8
00058a  f88dc0e4          STRB     r12,[sp,#0xe4]
00058e  f88d40e5          STRB     r4,[sp,#0xe5]
000592  f9b34054          LDRSH    r4,[r3,#0x54]  ; bat
000596  ea4f77e4          ASR      r7,r4,#31
00059a  eb046717          ADD      r7,r4,r7,LSR #24
00059e  ea4f2c27          ASR      r12,r7,#8
0005a2  f88dc0e6          STRB     r12,[sp,#0xe6]
0005a6  f88d40e7          STRB     r4,[sp,#0xe7]
0005aa  f9b34056          LDRSH    r4,[r3,#0x56]  ; bat
0005ae  ea4f77e4          ASR      r7,r4,#31
0005b2  eb046717          ADD      r7,r4,r7,LSR #24
0005b6  ea4f2c27          ASR      r12,r7,#8
0005ba  f88dc0e8          STRB     r12,[sp,#0xe8]
0005be  f88d40e9          STRB     r4,[sp,#0xe9]
0005c2  f8b3405c          LDRH     r4,[r3,#0x5c]  ; bat
0005c6  ea4f2714          LSR      r7,r4,#8
0005ca  f88d70ea          STRB     r7,[sp,#0xea]
0005ce  f88d40eb          STRB     r4,[sp,#0xeb]
0005d2  f9b34050          LDRSH    r4,[r3,#0x50]  ; bat
0005d6  ea4f77e4          ASR      r7,r4,#31
0005da  eb046717          ADD      r7,r4,r7,LSR #24
0005de  ea4f2c27          ASR      r12,r7,#8
0005e2  f88dc0ec          STRB     r12,[sp,#0xec]
0005e6  f88d40ed          STRB     r4,[sp,#0xed]
0005ea  f9b33052          LDRSH    r3,[r3,#0x52]  ; bat
0005ee  ea4f74e3          ASR      r4,r3,#31
0005f2  eb036414          ADD      r4,r3,r4,LSR #24
0005f6  ea4f2724          ASR      r7,r4,#8
0005fa  f88d70ee          STRB     r7,[sp,#0xee]
0005fe  f88d30ef          STRB     r3,[sp,#0xef]
000602  f9b63002          LDRSH    r3,[r6,#2]  ; BAT_C_REAL
000606  ea4f74e3          ASR      r4,r3,#31
00060a  eb036414          ADD      r4,r3,r4,LSR #24
00060e  ea4f2624          ASR      r6,r4,#8
000612  f88d60f0          STRB     r6,[sp,#0xf0]
000616  f88d30f1          STRB     r3,[sp,#0xf1]
00061a  4cb1              LDR      r4,|L1.2272|
00061c  69e3              LDR      r3,[r4,#0x1c]  ; bps
00061e  ea4f76e3          ASR      r6,r3,#31
000622  eb036616          ADD      r6,r3,r6,LSR #24
000626  ea4f2726          ASR      r7,r6,#8
00062a  f88d70f2          STRB     r7,[sp,#0xf2]
00062e  f88d30f3          STRB     r3,[sp,#0xf3]
000632  6a63              LDR      r3,[r4,#0x24]  ; bps
000634  ea4f76e3          ASR      r6,r3,#31
000638  eb036616          ADD      r6,r3,r6,LSR #24
00063c  ea4f2726          ASR      r7,r6,#8
000640  f88d70f4          STRB     r7,[sp,#0xf4]
000644  f88d30f5          STRB     r3,[sp,#0xf5]
000648  6aa3              LDR      r3,[r4,#0x28]  ; bps
00064a  ea4f76e3          ASR      r6,r3,#31
00064e  eb036616          ADD      r6,r3,r6,LSR #24
000652  ea4f2726          ASR      r7,r6,#8
000656  f88d70f6          STRB     r7,[sp,#0xf6]
00065a  f88d30f7          STRB     r3,[sp,#0xf7]
00065e  f04f0600          MOV      r6,#0
000662  f88d60f8          STRB     r6,[sp,#0xf8]
000666  7863              LDRB     r3,[r4,#1]  ; bps
000668  f88d30f9          STRB     r3,[sp,#0xf9]
00066c  6f23              LDR      r3,[r4,#0x70]  ; bps
00066e  ea4f77e3          ASR      r7,r3,#31
000672  eb036717          ADD      r7,r3,r7,LSR #24
000676  ea4f2c27          ASR      r12,r7,#8
00067a  f88dc0fa          STRB     r12,[sp,#0xfa]
00067e  f88d30fb          STRB     r3,[sp,#0xfb]
000682  6fa3              LDR      r3,[r4,#0x78]  ; bps
000684  ea4f77e3          ASR      r7,r3,#31
000688  eb036717          ADD      r7,r3,r7,LSR #24
00068c  ea4f2c27          ASR      r12,r7,#8
000690  f88dc0fc          STRB     r12,[sp,#0xfc]
000694  f88d30fd          STRB     r3,[sp,#0xfd]
000698  6fe3              LDR      r3,[r4,#0x7c]  ; bps
00069a  ea4f77e3          ASR      r7,r3,#31
00069e  eb036717          ADD      r7,r3,r7,LSR #24
0006a2  ea4f2c27          ASR      r12,r7,#8
0006a6  f88dc0fe          STRB     r12,[sp,#0xfe]
0006aa  f88d30ff          STRB     r3,[sp,#0xff]
0006ae  f88d6100          STRB     r6,[sp,#0x100]
0006b2  f8943055          LDRB     r3,[r4,#0x55]  ; bps
0006b6  f88d3101          STRB     r3,[sp,#0x101]
0006ba  f8d430c4          LDR      r3,[r4,#0xc4]  ; bps
0006be  ea4f77e3          ASR      r7,r3,#31
0006c2  eb036717          ADD      r7,r3,r7,LSR #24
0006c6  ea4f2c27          ASR      r12,r7,#8
0006ca  f88dc102          STRB     r12,[sp,#0x102]
0006ce  f88d3103          STRB     r3,[sp,#0x103]
0006d2  f8d430cc          LDR      r3,[r4,#0xcc]  ; bps
0006d6  ea4f77e3          ASR      r7,r3,#31
0006da  eb036717          ADD      r7,r3,r7,LSR #24
0006de  ea4f2c27          ASR      r12,r7,#8
0006e2  f88dc104          STRB     r12,[sp,#0x104]
0006e6  f88d3105          STRB     r3,[sp,#0x105]
0006ea  f8d430d0          LDR      r3,[r4,#0xd0]  ; bps
0006ee  ea4f77e3          ASR      r7,r3,#31
0006f2  eb036717          ADD      r7,r3,r7,LSR #24
0006f6  ea4f2c27          ASR      r12,r7,#8
0006fa  f88dc106          STRB     r12,[sp,#0x106]
0006fe  f88d3107          STRB     r3,[sp,#0x107]
000702  f88d6108          STRB     r6,[sp,#0x108]
000706  f89430a9          LDRB     r3,[r4,#0xa9]  ; bps
00070a  f88d3109          STRB     r3,[sp,#0x109]
00070e  f8d43118          LDR      r3,[r4,#0x118]  ; bps
000712  ea4f77e3          ASR      r7,r3,#31
000716  eb036717          ADD      r7,r3,r7,LSR #24
00071a  ea4f2c27          ASR      r12,r7,#8
00071e  f88dc10a          STRB     r12,[sp,#0x10a]
000722  f88d310b          STRB     r3,[sp,#0x10b]
000726  f8d43120          LDR      r3,[r4,#0x120]  ; bps
00072a  ea4f77e3          ASR      r7,r3,#31
00072e  eb036717          ADD      r7,r3,r7,LSR #24
000732  ea4f2c27          ASR      r12,r7,#8
000736  f88dc10c          STRB     r12,[sp,#0x10c]
00073a  f88d310d          STRB     r3,[sp,#0x10d]
00073e  f8d43124          LDR      r3,[r4,#0x124]  ; bps
000742  ea4f77e3          ASR      r7,r3,#31
000746  eb036717          ADD      r7,r3,r7,LSR #24
00074a  ea4f2c27          ASR      r12,r7,#8
00074e  f88dc10e          STRB     r12,[sp,#0x10e]
000752  f88d310f          STRB     r3,[sp,#0x10f]
000756  f88d6110          STRB     r6,[sp,#0x110]
00075a  f50474a8          ADD      r4,r4,#0x150
00075e  f8143c53          LDRB     r3,[r4,#-0x53]  ; bps
000762  f88d3111          STRB     r3,[sp,#0x111]
000766  69e3              LDR      r3,[r4,#0x1c]  ; bps
000768  ea4f77e3          ASR      r7,r3,#31
00076c  eb036717          ADD      r7,r3,r7,LSR #24
000770  ea4f2c27          ASR      r12,r7,#8
000774  f88dc112          STRB     r12,[sp,#0x112]
000778  f88d3113          STRB     r3,[sp,#0x113]
00077c  6a63              LDR      r3,[r4,#0x24]  ; bps
00077e  ea4f77e3          ASR      r7,r3,#31
000782  eb036717          ADD      r7,r3,r7,LSR #24
000786  ea4f2c27          ASR      r12,r7,#8
00078a  f88dc114          STRB     r12,[sp,#0x114]
00078e  f88d3115          STRB     r3,[sp,#0x115]
000792  6aa3              LDR      r3,[r4,#0x28]  ; bps
000794  ea4f77e3          ASR      r7,r3,#31
000798  eb036717          ADD      r7,r3,r7,LSR #24
00079c  ea4f2c27          ASR      r12,r7,#8
0007a0  f88dc116          STRB     r12,[sp,#0x116]
0007a4  f88d3117          STRB     r3,[sp,#0x117]
0007a8  f88d6118          STRB     r6,[sp,#0x118]
0007ac  7863              LDRB     r3,[r4,#1]  ; bps
0007ae  f88d3119          STRB     r3,[sp,#0x119]
0007b2  6f23              LDR      r3,[r4,#0x70]  ; bps
0007b4  ea4f77e3          ASR      r7,r3,#31
0007b8  eb036717          ADD      r7,r3,r7,LSR #24
0007bc  ea4f2c27          ASR      r12,r7,#8
0007c0  f88dc11a          STRB     r12,[sp,#0x11a]
0007c4  f88d311b          STRB     r3,[sp,#0x11b]
0007c8  6fa3              LDR      r3,[r4,#0x78]  ; bps
0007ca  ea4f77e3          ASR      r7,r3,#31
0007ce  eb036717          ADD      r7,r3,r7,LSR #24
0007d2  ea4f2c27          ASR      r12,r7,#8
0007d6  f88dc11c          STRB     r12,[sp,#0x11c]
0007da  f88d311d          STRB     r3,[sp,#0x11d]
0007de  6fe3              LDR      r3,[r4,#0x7c]  ; bps
0007e0  ea4f77e3          ASR      r7,r3,#31
0007e4  eb036717          ADD      r7,r3,r7,LSR #24
0007e8  ea4f2c27          ASR      r12,r7,#8
0007ec  f88dc11e          STRB     r12,[sp,#0x11e]
0007f0  f88d311f          STRB     r3,[sp,#0x11f]
0007f4  f88d6120          STRB     r6,[sp,#0x120]
0007f8  f8943055          LDRB     r3,[r4,#0x55]  ; bps
0007fc  f88d3121          STRB     r3,[sp,#0x121]
000800  f8d430c4          LDR      r3,[r4,#0xc4]  ; bps
000804  ea4f77e3          ASR      r7,r3,#31
000808  eb036717          ADD      r7,r3,r7,LSR #24
00080c  ea4f2c27          ASR      r12,r7,#8
000810  f88dc122          STRB     r12,[sp,#0x122]
000814  f88d3123          STRB     r3,[sp,#0x123]
000818  f8d430cc          LDR      r3,[r4,#0xcc]  ; bps
00081c  ea4f77e3          ASR      r7,r3,#31
000820  eb036717          ADD      r7,r3,r7,LSR #24
000824  ea4f2c27          ASR      r12,r7,#8
000828  f88dc124          STRB     r12,[sp,#0x124]
00082c  f88d3125          STRB     r3,[sp,#0x125]
000830  f8d430d0          LDR      r3,[r4,#0xd0]  ; bps
000834  ea4f77e3          ASR      r7,r3,#31
000838  eb036717          ADD      r7,r3,r7,LSR #24
00083c  ea4f2c27          ASR      r12,r7,#8
000840  f88dc126          STRB     r12,[sp,#0x126]
000844  f88d3127          STRB     r3,[sp,#0x127]
000848  f88d6128          STRB     r6,[sp,#0x128]
00084c  f89430a9          LDRB     r3,[r4,#0xa9]  ; bps
000850  f88d3129          STRB     r3,[sp,#0x129]
000854  f8d43118          LDR      r3,[r4,#0x118]  ; bps
000858  ea4f77e3          ASR      r7,r3,#31
00085c  eb036717          ADD      r7,r3,r7,LSR #24
000860  ea4f2c27          ASR      r12,r7,#8
000864  f88dc12a          STRB     r12,[sp,#0x12a]
000868  f88d312b          STRB     r3,[sp,#0x12b]
00086c  f8d43120          LDR      r3,[r4,#0x120]  ; bps
000870  ea4f77e3          ASR      r7,r3,#31
000874  eb036717          ADD      r7,r3,r7,LSR #24
000878  ea4f2c27          ASR      r12,r7,#8
00087c  f88dc12c          STRB     r12,[sp,#0x12c]
000880  f88d312d          STRB     r3,[sp,#0x12d]
000884  f8d43124          LDR      r3,[r4,#0x124]  ; bps
000888  ea4f77e3          ASR      r7,r3,#31
00088c  eb036717          ADD      r7,r3,r7,LSR #24
000890  ea4f2c27          ASR      r12,r7,#8
000894  f88dc12e          STRB     r12,[sp,#0x12e]
000898  f88d312f          STRB     r3,[sp,#0x12f]
00089c  f88d6130          STRB     r6,[sp,#0x130]
0008a0  f89430fd          LDRB     r3,[r4,#0xfd]  ; bps
0008a4  f88d3131          STRB     r3,[sp,#0x131]
0008a8  4b0e              LDR      r3,|L1.2276|
0008aa  f9b33000          LDRSH    r3,[r3,#0]  ; bps_U
0008ae  ea4f74e3          ASR      r4,r3,#31
0008b2  eb036414          ADD      r4,r3,r4,LSR #24
0008b6  ea4f2724          ASR      r7,r4,#8
0008ba  f88d7132          STRB     r7,[sp,#0x132]
0008be  f88d3133          STRB     r3,[sp,#0x133]
0008c2  4633              MOV      r3,r6
0008c4  4c08              LDR      r4,|L1.2280|
0008c6  8824              LDRH     r4,[r4,#0]  ; speedChIsOn
0008c8  b10c              CBZ      r4,|L1.2254|
0008ca  f04f0301          MOV      r3,#1
                  |L1.2254|
0008ce  ea4f74e3          ASR      r4,r3,#31
0008d2  eb036414          ADD      r4,r3,r4,LSR #24
0008d6  e009              B        |L1.2284|
                  |L1.2264|
                          DCD      bat
                  |L1.2268|
                          DCD      BAT_C_REAL
                  |L1.2272|
                          DCD      bps
                  |L1.2276|
                          DCD      bps_U
                  |L1.2280|
                          DCD      speedChIsOn
                  |L1.2284|
0008ec  ea4f2724          ASR      r7,r4,#8
0008f0  f88d7134          STRB     r7,[sp,#0x134]
0008f4  f88d3135          STRB     r3,[sp,#0x135]
0008f8  f04f0300          MOV      r3,#0
0008fc  4cff              LDR      r4,|L1.3324|
0008fe  7824              LDRB     r4,[r4,#0]  ; spc_stat
000900  2c02              CMP      r4,#2
000902  d101              BNE      |L1.2312|
000904  f04f0301          MOV      r3,#1
                  |L1.2312|
000908  ea4f74e3          ASR      r4,r3,#31
00090c  eb036414          ADD      r4,r3,r4,LSR #24
000910  ea4f2724          ASR      r7,r4,#8
000914  f88d7136          STRB     r7,[sp,#0x136]
000918  f88d3137          STRB     r3,[sp,#0x137]
00091c  f88d6138          STRB     r6,[sp,#0x138]
000920  4bf7              LDR      r3,|L1.3328|
000922  781b              LDRB     r3,[r3,#0]  ; uout_av
000924  f88d3139          STRB     r3,[sp,#0x139]
000928  4bf6              LDR      r3,|L1.3332|
00092a  f9b34000          LDRSH    r4,[r3,#0]  ; t_ext
00092e  f8dfc3d8          LDR      r12,|L1.3336|
000932  4ff6              LDR      r7,|L1.3340|
000934  f8dc6000          LDR      r6,[r12,#0]  ; ND_EXT
000938  b106              CBZ      r6,|L1.2364|
00093a  463c              MOV      r4,r7
                  |L1.2364|
00093c  ea4f76e4          ASR      r6,r4,#31
000940  eb046616          ADD      r6,r4,r6,LSR #24
000944  ea4f2826          ASR      r8,r6,#8
000948  f9b34002          LDRSH    r4,[r3,#2]  ; t_ext
00094c  f8dc6004          LDR      r6,[r12,#4]  ; ND_EXT
000950  b106              CBZ      r6,|L1.2388|
000952  463c              MOV      r4,r7
                  |L1.2388|
000954  ea4f76e4          ASR      r6,r4,#31
000958  eb046616          ADD      r6,r4,r6,LSR #24
00095c  ea4f2826          ASR      r8,r6,#8
000960  f9b34004          LDRSH    r4,[r3,#4]  ; t_ext
000964  f8dc6008          LDR      r6,[r12,#8]  ; ND_EXT
000968  b106              CBZ      r6,|L1.2412|
00096a  463c              MOV      r4,r7
                  |L1.2412|
00096c  ea4f76e4          ASR      r6,r4,#31
000970  eb046616          ADD      r6,r4,r6,LSR #24
000974  ea4f2826          ASR      r8,r6,#8
000978  f9b33006          LDRSH    r3,[r3,#6]  ; t_ext
00097c  f8dc400c          LDR      r4,[r12,#0xc]  ; ND_EXT
000980  b104              CBZ      r4,|L1.2436|
000982  463b              MOV      r3,r7
                  |L1.2436|
000984  ea4f74e3          ASR      r4,r3,#31
000988  eb036414          ADD      r4,r3,r4,LSR #24
00098c  ea4f2624          ASR      r6,r4,#8
000990  f04f0400          MOV      r4,#0
000994  4ede              LDR      r6,|L1.3344|
000996  7833              LDRB     r3,[r6,#0]  ; sk_stat
000998  2b01              CMP      r3,#1
00099a  d100              BNE      |L1.2462|
00099c  461c              MOV      r4,r3
                  |L1.2462|
00099e  4fdd              LDR      r7,|L1.3348|
0009a0  783b              LDRB     r3,[r7,#0]  ; sk_av_stat
0009a2  2b01              CMP      r3,#1
0009a4  d101              BNE      |L1.2474|
0009a6  f0440402          ORR      r4,r4,#2
                  |L1.2474|
0009aa  ea4f73e4          ASR      r3,r4,#31
0009ae  eb046313          ADD      r3,r4,r3,LSR #24
0009b2  ea4f2c23          ASR      r12,r3,#8
0009b6  4623              MOV      r3,r4
0009b8  f04f0400          MOV      r4,#0
0009bc  7873              LDRB     r3,[r6,#1]  ; sk_stat
0009be  2b01              CMP      r3,#1
0009c0  d100              BNE      |L1.2500|
0009c2  461c              MOV      r4,r3
                  |L1.2500|
0009c4  787b              LDRB     r3,[r7,#1]  ; sk_av_stat
0009c6  2b01              CMP      r3,#1
0009c8  d101              BNE      |L1.2510|
0009ca  f0440402          ORR      r4,r4,#2
                  |L1.2510|
0009ce  ea4f73e4          ASR      r3,r4,#31
0009d2  eb046313          ADD      r3,r4,r3,LSR #24
0009d6  ea4f2c23          ASR      r12,r3,#8
0009da  4623              MOV      r3,r4
0009dc  f04f0400          MOV      r4,#0
0009e0  78b3              LDRB     r3,[r6,#2]  ; sk_stat
0009e2  2b01              CMP      r3,#1
0009e4  d100              BNE      |L1.2536|
0009e6  461c              MOV      r4,r3
                  |L1.2536|
0009e8  78bb              LDRB     r3,[r7,#2]  ; sk_av_stat
0009ea  2b01              CMP      r3,#1
0009ec  d101              BNE      |L1.2546|
0009ee  f0440402          ORR      r4,r4,#2
                  |L1.2546|
0009f2  ea4f73e4          ASR      r3,r4,#31
0009f6  eb046313          ADD      r3,r4,r3,LSR #24
0009fa  ea4f2c23          ASR      r12,r3,#8
0009fe  4623              MOV      r3,r4
000a00  f04f0400          MOV      r4,#0
000a04  78f3              LDRB     r3,[r6,#3]  ; sk_stat
000a06  2b01              CMP      r3,#1
000a08  d100              BNE      |L1.2572|
000a0a  461c              MOV      r4,r3
                  |L1.2572|
000a0c  78fb              LDRB     r3,[r7,#3]  ; sk_av_stat
000a0e  2b01              CMP      r3,#1
000a10  d101              BNE      |L1.2582|
000a12  f0440402          ORR      r4,r4,#2
                  |L1.2582|
000a16  ea4f73e4          ASR      r3,r4,#31
000a1a  eb046313          ADD      r3,r4,r3,LSR #24
000a1e  ea4f2623          ASR      r6,r3,#8
000a22  4623              MOV      r3,r4
000a24  f88d0000          STRB     r0,[sp,#0]
000a28  f88d1001          STRB     r1,[sp,#1]
000a2c  ea4f0045          LSL      r0,r5,#1
000a30  f88d0002          STRB     r0,[sp,#2]
000a34  a932              ADD      r1,sp,#0xc8
000a36  f1a20201          SUB      r2,r2,#1
000a3a  eb010142          ADD      r1,r1,r2,LSL #1
000a3e  4602              MOV      r2,r0
000a40  466e              MOV      r6,sp
000a42  f10d0003          ADD      r0,sp,#3
000a46  f7fffffe          BL       mem_copy
000a4a  2003              MOVS     r0,#3
000a4c  eb000045          ADD      r0,r0,r5,LSL #1
000a50  b201              SXTH     r1,r0
000a52  4668              MOV      r0,sp
000a54  f7fffffe          BL       CRC16_2
000a58  eb060145          ADD      r1,r6,r5,LSL #1
000a5c  70c8              STRB     r0,[r1,#3]
000a5e  ea4f2010          LSR      r0,r0,#8
000a62  7108              STRB     r0,[r1,#4]
000a64  f04f0400          MOV      r4,#0
000a68  f04f0005          MOV      r0,#5
000a6c  eb000545          ADD      r5,r0,r5,LSL #1
000a70  e005              B        |L1.2686|
                  |L1.2674|
000a72  5d30              LDRB     r0,[r6,r4]
000a74  f7fffffe          BL       putchar0
000a78  f1040401          ADD      r4,r4,#1
000a7c  b2e4              UXTB     r4,r4
                  |L1.2686|
000a7e  42a5              CMP      r5,r4
000a80  d8f7              BHI      |L1.2674|
000a82  f04f0400          MOV      r4,#0
000a86  e005              B        |L1.2708|
                  |L1.2696|
000a88  5d30              LDRB     r0,[r6,r4]
000a8a  f7fffffe          BL       putchar_sc16is700
000a8e  f1040401          ADD      r4,r4,#1
000a92  b2e4              UXTB     r4,r4
                  |L1.2708|
000a94  42a5              CMP      r5,r4
000a96  d8f7              BHI      |L1.2696|
000a98  b064              ADD      sp,sp,#0x190
                  |L1.2714|
000a9a  e8bd81f0          POP      {r4-r8,pc}
;;;452    
                          ENDP

                  modbus_hold_registers_transmit PROC
;;;694    //-----------------------------------------------
;;;695    void modbus_hold_registers_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr,unsigned short reg_quantity)
000a9e  e92d41f0          PUSH     {r4-r8,lr}
;;;696    {
000aa2  b0cc              SUB      sp,sp,#0x130
000aa4  4607              MOV      r7,r0
000aa6  4688              MOV      r8,r1
000aa8  4616              MOV      r6,r2
000aaa  461d              MOV      r5,r3
;;;697    char modbus_registers[150];
;;;698    char modbus_tx_buff[150];
;;;699    unsigned short crc_temp;
;;;700    char i;
;;;701    
;;;702    modbus_registers[20]=(char)((LPC_RTC->YEAR)/256);			//Πεγ11  Βπεμ, γξδ
000aac  4c9a              LDR      r4,|L1.3352|
000aae  8ba0              LDRH     r0,[r4,#0x1c]
000ab0  ea4f2010          LSR      r0,r0,#8
000ab4  f88d00ac          STRB     r0,[sp,#0xac]
;;;703    modbus_registers[21]=(char)((LPC_RTC->YEAR)%256);
000ab8  8ba0              LDRH     r0,[r4,#0x1c]
000aba  f88d00ad          STRB     r0,[sp,#0xad]
;;;704    modbus_registers[22]=(char)((LPC_RTC->MONTH)/256);		//Πεγ12  Βπεμ, μερφ
000abe  7e20              LDRB     r0,[r4,#0x18]
000ac0  f04f0000          MOV      r0,#0
000ac4  f88d00ae          STRB     r0,[sp,#0xae]
;;;705    modbus_registers[23]=(char)((LPC_RTC->MONTH)%256);
000ac8  7e21              LDRB     r1,[r4,#0x18]
000aca  f88d10af          STRB     r1,[sp,#0xaf]
;;;706    modbus_registers[24]=(char)((LPC_RTC->DOM)/256);			//Πεγ13  Βπεμ, δενό μερφΰ
000ace  7b21              LDRB     r1,[r4,#0xc]
000ad0  f88d00b0          STRB     r0,[sp,#0xb0]
;;;707    modbus_registers[25]=(char)((LPC_RTC->DOM)%256);
000ad4  7b21              LDRB     r1,[r4,#0xc]
000ad6  f88d10b1          STRB     r1,[sp,#0xb1]
;;;708    modbus_registers[26]=(char)((LPC_RTC->HOUR)/256);			//Πεγ14  Βπεμ, χΰρ
000ada  7a21              LDRB     r1,[r4,#8]
000adc  f88d00b2          STRB     r0,[sp,#0xb2]
;;;709    modbus_registers[27]=(char)((LPC_RTC->HOUR)%256);
000ae0  7a21              LDRB     r1,[r4,#8]
000ae2  f88d10b3          STRB     r1,[sp,#0xb3]
;;;710    modbus_registers[28]=(char)((LPC_RTC->MIN)/256);			//Πεγ15  Βπεμ, μθνσςϋ
000ae6  7921              LDRB     r1,[r4,#4]
000ae8  f88d00b4          STRB     r0,[sp,#0xb4]
;;;711    modbus_registers[29]=(char)((LPC_RTC->MIN)%256);
000aec  7921              LDRB     r1,[r4,#4]
000aee  f88d10b5          STRB     r1,[sp,#0xb5]
;;;712    modbus_registers[30]=(char)((LPC_RTC->SEC)/256);			//Πεγ16  Βπεμ, ρεκσνδϋ
000af2  7821              LDRB     r1,[r4,#0]
000af4  f88d00b6          STRB     r0,[sp,#0xb6]
;;;713    modbus_registers[31]=(char)((LPC_RTC->SEC)%256);
000af8  7820              LDRB     r0,[r4,#0]
000afa  f88d00b7          STRB     r0,[sp,#0xb7]
;;;714    modbus_registers[38]=(char)(NUMIST/256);				//Πεγ20  Κξλθχερςβξ βϋοπμθςελει β ρςπσκςσπε
000afe  4887              LDR      r0,|L1.3356|
000b00  f9b00000          LDRSH    r0,[r0,#0]  ; NUMIST
000b04  ea4f71e0          ASR      r1,r0,#31
000b08  eb006111          ADD      r1,r0,r1,LSR #24
000b0c  ea4f2221          ASR      r2,r1,#8
000b10  f88d20be          STRB     r2,[sp,#0xbe]
;;;715    modbus_registers[39]=(char)(NUMIST%256);
000b14  f88d00bf          STRB     r0,[sp,#0xbf]
;;;716    modbus_registers[40]=(char)(PAR/256);					//Πεγ21  Οΰπΰλλελόνΰ πΰαξςΰ βϋοπμθςελει βκλ./βϋκλ.
000b18  4881              LDR      r0,|L1.3360|
000b1a  f9b00000          LDRSH    r0,[r0,#0]  ; PAR
000b1e  ea4f71e0          ASR      r1,r0,#31
000b22  eb006111          ADD      r1,r0,r1,LSR #24
000b26  ea4f2221          ASR      r2,r1,#8
000b2a  f88d20c0          STRB     r2,[sp,#0xc0]
;;;717    modbus_registers[41]=(char)(PAR%256);
000b2e  f88d00c1          STRB     r0,[sp,#0xc1]
;;;718    modbus_registers[42]=(char)(ZV_ON/256);					//Πεγ22  Ηβσκξβΰ ΰβΰπθινΰ ρθγνΰλθηΰφθ βκλ./βϋκλ.
000b32  487c              LDR      r0,|L1.3364|
000b34  f9b00000          LDRSH    r0,[r0,#0]  ; ZV_ON
000b38  ea4f71e0          ASR      r1,r0,#31
000b3c  eb006111          ADD      r1,r0,r1,LSR #24
000b40  ea4f2221          ASR      r2,r1,#8
000b44  f88d20c2          STRB     r2,[sp,#0xc2]
;;;719    modbus_registers[43]=(char)(ZV_ON%256);
000b48  f88d00c3          STRB     r0,[sp,#0xc3]
;;;720    modbus_registers[46]=(char)(UBM_AV/256);				//Πεγ24  ΐβΰπθινϋι σπξβενό ξςκλξνενθ νΰοπζενθ ρπεδνει ςξχκθ αΰςΰπεθ, %
000b4c  4876              LDR      r0,|L1.3368|
000b4e  f9b00000          LDRSH    r0,[r0,#0]  ; UBM_AV
000b52  ea4f71e0          ASR      r1,r0,#31
000b56  eb006111          ADD      r1,r0,r1,LSR #24
000b5a  ea4f2221          ASR      r2,r1,#8
000b5e  f88d20c6          STRB     r2,[sp,#0xc6]
;;;721    modbus_registers[47]=(char)(UBM_AV%256);
000b62  f88d00c7          STRB     r0,[sp,#0xc7]
;;;722    modbus_registers[58]=(char)(TBAT/256);					//Πεγ30  Οεπθξδ οπξβεπκθ φεοθ αΰςΰπεθ, μθνσς.
000b66  4871              LDR      r0,|L1.3372|
000b68  f9b00000          LDRSH    r0,[r0,#0]  ; TBAT
000b6c  ea4f71e0          ASR      r1,r0,#31
000b70  eb006111          ADD      r1,r0,r1,LSR #24
000b74  ea4f2221          ASR      r2,r1,#8
000b78  f88d20d2          STRB     r2,[sp,#0xd2]
;;;723    modbus_registers[59]=(char)(TBAT%256);
000b7c  f88d00d3          STRB     r0,[sp,#0xd3]
;;;724    modbus_registers[60]=(char)(UMAX/256);					//Πεγ31  Μΰκρθμΰλόνξε (ΰβΰπθινξε) νΰοπζενθε βϋοπμθςελει, 0.1Β
000b80  486b              LDR      r0,|L1.3376|
000b82  f9b00000          LDRSH    r0,[r0,#0]  ; UMAX
000b86  ea4f71e0          ASR      r1,r0,#31
000b8a  eb006111          ADD      r1,r0,r1,LSR #24
000b8e  ea4f2221          ASR      r2,r1,#8
000b92  f88d20d4          STRB     r2,[sp,#0xd4]
;;;725    modbus_registers[61]=(char)(UMAX%256);
000b96  f88d00d5          STRB     r0,[sp,#0xd5]
;;;726    modbus_registers[62]=(char)((UB20-DU)/256);				//Πεγ32  Μθνθμΰλόνξε (ΰβΰπθινξε) νΰοπζενθε βϋοπμθςελει, 0.1Β
000b9a  4866              LDR      r0,|L1.3380|
000b9c  f9b03000          LDRSH    r3,[r0,#0]  ; UB20
000ba0  4865              LDR      r0,|L1.3384|
000ba2  f9b00000          LDRSH    r0,[r0,#0]  ; DU
000ba6  eba30400          SUB      r4,r3,r0
000baa  ea4f70e4          ASR      r0,r4,#31
000bae  eb046010          ADD      r0,r4,r0,LSR #24
000bb2  ea4f2120          ASR      r1,r0,#8
000bb6  f88d10d6          STRB     r1,[sp,#0xd6]
;;;727    modbus_registers[63]=(char)((UB20-DU)%256);
000bba  4620              MOV      r0,r4
000bbc  f88d00d7          STRB     r0,[sp,#0xd7]
;;;728    modbus_registers[64]=(char)(UB0/256);					//Πεγ33  Νΰοπζενθε ρξδεπζΰνθ αΰςΰπεθ οπθ 0γΦ, 0.1Β
000bc0  485e              LDR      r0,|L1.3388|
000bc2  f9b04000          LDRSH    r4,[r0,#0]  ; UB0
000bc6  ea4f70e4          ASR      r0,r4,#31
000bca  eb046010          ADD      r0,r4,r0,LSR #24
000bce  ea4f2120          ASR      r1,r0,#8
000bd2  f88d10d8          STRB     r1,[sp,#0xd8]
;;;729    modbus_registers[65]=(char)(UB0%256);
000bd6  4620              MOV      r0,r4
000bd8  f88d00d9          STRB     r0,[sp,#0xd9]
;;;730    modbus_registers[66]=(char)(UB20/256);					//Πεγ34  Νΰοπζενθε ρξδεπζΰνθ αΰςΰπεθ οπθ 20γΦ, 0.1Β
000bdc  ea4f70e3          ASR      r0,r3,#31
000be0  eb036010          ADD      r0,r3,r0,LSR #24
000be4  ea4f2120          ASR      r1,r0,#8
000be8  f88d10da          STRB     r1,[sp,#0xda]
;;;731    modbus_registers[67]=(char)(UB20%256);
000bec  4618              MOV      r0,r3
000bee  f88d00db          STRB     r0,[sp,#0xdb]
;;;732    modbus_registers[68]=(char)(USIGN/256);					//Πεγ35  Μθνθμΰλόνξε (ρθγνΰλόνξε) νΰοπζενθε αΰςΰπεθ, 1Β
000bf2  4853              LDR      r0,|L1.3392|
000bf4  f9b00000          LDRSH    r0,[r0,#0]  ; USIGN
000bf8  ea4f71e0          ASR      r1,r0,#31
000bfc  eb006111          ADD      r1,r0,r1,LSR #24
000c00  ea4f2221          ASR      r2,r1,#8
000c04  f88d20dc          STRB     r2,[sp,#0xdc]
;;;733    modbus_registers[69]=(char)(USIGN%256);
000c08  f88d00dd          STRB     r0,[sp,#0xdd]
;;;734    modbus_registers[70]=(char)(UMN/256);					//Πεγ36  Μθνθμΰλόνξε (ΰβΰπθινξε) νΰοπζενθε οθςΰώωει ρεςθ, 1Β
000c0c  484d              LDR      r0,|L1.3396|
000c0e  f9b00000          LDRSH    r0,[r0,#0]  ; UMN
000c12  ea4f71e0          ASR      r1,r0,#31
000c16  eb006111          ADD      r1,r0,r1,LSR #24
000c1a  ea4f2221          ASR      r2,r1,#8
000c1e  f88d20de          STRB     r2,[sp,#0xde]
;;;735    modbus_registers[71]=(char)(UMN%256);
000c22  f88d00df          STRB     r0,[sp,#0xdf]
;;;736    modbus_registers[72]=(char)(U0B/256);					//Πεγ37  Πΰαξχεε νΰοπζενθε οπθ νεββεδεννϋυ αΰςΰπευ, 0.1Β
000c26  4848              LDR      r0,|L1.3400|
000c28  f9b00000          LDRSH    r0,[r0,#0]  ; U0B
000c2c  ea4f71e0          ASR      r1,r0,#31
000c30  eb006111          ADD      r1,r0,r1,LSR #24
000c34  ea4f2221          ASR      r2,r1,#8
000c38  f88d20e0          STRB     r2,[sp,#0xe0]
;;;737    modbus_registers[73]=(char)(U0B%256);
000c3c  f88d00e1          STRB     r0,[sp,#0xe1]
;;;738    modbus_registers[74]=(char)(IKB/256);					//Πεγ38  ξκ κξνςπξλ νΰλθχθ αΰςΰπεθ, 0.1ΰ
000c40  4842              LDR      r0,|L1.3404|
000c42  f9b00000          LDRSH    r0,[r0,#0]  ; IKB
000c46  ea4f71e0          ASR      r1,r0,#31
000c4a  eb006111          ADD      r1,r0,r1,LSR #24
000c4e  ea4f2221          ASR      r2,r1,#8
000c52  f88d20e2          STRB     r2,[sp,#0xe2]
;;;739    modbus_registers[75]=(char)(IKB%256);
000c56  f88d00e3          STRB     r0,[sp,#0xe3]
;;;740    modbus_registers[76]=(char)(IZMAX/256);					//Πεγ39  ξκ ηΰπδΰ αΰςΰπεθ μΰκρθμΰλόνϋι, 0.1ΐ
000c5a  483d              LDR      r0,|L1.3408|
000c5c  f9b00000          LDRSH    r0,[r0,#0]  ; IZMAX
000c60  ea4f71e0          ASR      r1,r0,#31
000c64  eb006111          ADD      r1,r0,r1,LSR #24
000c68  ea4f2221          ASR      r2,r1,#8
000c6c  f88d20e4          STRB     r2,[sp,#0xe4]
;;;741    modbus_registers[77]=(char)(IZMAX%256);
000c70  f88d00e5          STRB     r0,[sp,#0xe5]
;;;742    modbus_registers[78]=(char)(IMAX/256);					//Πεγ40  ξκ οεπεκλώχενθ νΰ αξλόψεε κξλ-βξ βϋοπμθςελει, 0.1ΐ
000c74  4837              LDR      r0,|L1.3412|
000c76  f9b00000          LDRSH    r0,[r0,#0]  ; IMAX
000c7a  ea4f71e0          ASR      r1,r0,#31
000c7e  eb006111          ADD      r1,r0,r1,LSR #24
000c82  ea4f2221          ASR      r2,r1,#8
000c86  f88d20e6          STRB     r2,[sp,#0xe6]
;;;743    modbus_registers[79]=(char)(IMAX%256);
000c8a  f88d00e7          STRB     r0,[sp,#0xe7]
;;;744    modbus_registers[80]=(char)(IMIN/256);					//Πεγ41  ξκ οεπεκλώχενθ νΰ μενόψεε κξλ-βξ βϋοπμθςελει, 0.1ΐ
000c8e  4832              LDR      r0,|L1.3416|
000c90  f9b00000          LDRSH    r0,[r0,#0]  ; IMIN
000c94  ea4f71e0          ASR      r1,r0,#31
000c98  eb006111          ADD      r1,r0,r1,LSR #24
000c9c  ea4f2221          ASR      r2,r1,#8
000ca0  f88d20e8          STRB     r2,[sp,#0xe8]
;;;745    modbus_registers[81]=(char)(IMIN%256);
000ca4  f88d00e9          STRB     r0,[sp,#0xe9]
;;;746    modbus_registers[82]=(char)(UVZ/256);					//Πεγ42  Νΰοπζενθε βϋπΰβνθβΰώωεγξ ηΰπδΰ, 0.1Β
000ca8  482c              LDR      r0,|L1.3420|
000caa  f9b00000          LDRSH    r0,[r0,#0]  ; UVZ
000cae  ea4f71e0          ASR      r1,r0,#31
000cb2  eb006111          ADD      r1,r0,r1,LSR #24
000cb6  ea4f2221          ASR      r2,r1,#8
000cba  f88d20ea          STRB     r2,[sp,#0xea]
;;;747    modbus_registers[83]=(char)(UVZ%256);
000cbe  f88d00eb          STRB     r0,[sp,#0xeb]
;;;748    modbus_registers[84]=(char)(TZAS/256);					//Πεγ43  Βπεμ ηΰδεπζκθ βκλώχενθ βϋοπμθςελει, ρεκ
000cc2  4827              LDR      r0,|L1.3424|
000cc4  f9b00000          LDRSH    r0,[r0,#0]  ; TZAS
000cc8  ea4f71e0          ASR      r1,r0,#31
000ccc  eb006111          ADD      r1,r0,r1,LSR #24
000cd0  ea4f2221          ASR      r2,r1,#8
000cd4  f88d20ec          STRB     r2,[sp,#0xec]
;;;749    modbus_registers[85]=(char)(TZAS%256);
000cd8  f88d00ed          STRB     r0,[sp,#0xed]
;;;750    modbus_registers[86]=(char)(TMAX/256);					//Πεγ44  εμοεπΰςσπΰ βϋοπμθςελει ΰβΰπθινΰ, 1γΦ
000cdc  4821              LDR      r0,|L1.3428|
000cde  f9b00000          LDRSH    r0,[r0,#0]  ; TMAX
000ce2  ea4f71e0          ASR      r1,r0,#31
000ce6  eb006111          ADD      r1,r0,r1,LSR #24
000cea  ea4f2221          ASR      r2,r1,#8
000cee  f88d20ee          STRB     r2,[sp,#0xee]
;;;751    modbus_registers[87]=(char)(TMAX%256);
000cf2  f88d00ef          STRB     r0,[sp,#0xef]
;;;752    modbus_registers[88]=(char)(TSIGN/256);					//Πεγ45  εμοεπΰςσπΰ βϋοπμθςελει ρθγνΰλόνΰ, 1γΦ
000cf6  481c              LDR      r0,|L1.3432|
000cf8  e038              B        |L1.3436|
000cfa  0000              DCW      0x0000
                  |L1.3324|
                          DCD      spc_stat
                  |L1.3328|
                          DCD      uout_av
                  |L1.3332|
                          DCD      t_ext
                  |L1.3336|
                          DCD      ND_EXT
                  |L1.3340|
                          DCD      0xfffffc18
                  |L1.3344|
                          DCD      sk_stat
                  |L1.3348|
                          DCD      sk_av_stat
                  |L1.3352|
                          DCD      0x40024020
                  |L1.3356|
                          DCD      NUMIST
                  |L1.3360|
                          DCD      PAR
                  |L1.3364|
                          DCD      ZV_ON
                  |L1.3368|
                          DCD      UBM_AV
                  |L1.3372|
                          DCD      TBAT
                  |L1.3376|
                          DCD      UMAX
                  |L1.3380|
                          DCD      UB20
                  |L1.3384|
                          DCD      ||DU||
                  |L1.3388|
                          DCD      UB0
                  |L1.3392|
                          DCD      USIGN
                  |L1.3396|
                          DCD      UMN
                  |L1.3400|
                          DCD      U0B
                  |L1.3404|
                          DCD      IKB
                  |L1.3408|
                          DCD      IZMAX
                  |L1.3412|
                          DCD      IMAX
                  |L1.3416|
                          DCD      IMIN
                  |L1.3420|
                          DCD      UVZ
                  |L1.3424|
                          DCD      TZAS
                  |L1.3428|
                          DCD      TMAX
                  |L1.3432|
                          DCD      TSIGN
                  |L1.3436|
000d6c  f9b00000          LDRSH    r0,[r0,#0]  ; TSIGN
000d70  ea4f71e0          ASR      r1,r0,#31
000d74  eb006111          ADD      r1,r0,r1,LSR #24
000d78  ea4f2221          ASR      r2,r1,#8
000d7c  f88d20f0          STRB     r2,[sp,#0xf0]
;;;753    modbus_registers[89]=(char)(TSIGN%256);
000d80  f88d00f1          STRB     r0,[sp,#0xf1]
;;;754    modbus_registers[90]=(char)(TBATMAX/256);				//Πεγ46  εμοεπΰςσπΰ αΰςΰπεθ ΰβΰπθινΰ, 1γΦ
000d84  48ff              LDR      r0,|L1.4484|
000d86  f9b00000          LDRSH    r0,[r0,#0]  ; TBATMAX
000d8a  ea4f71e0          ASR      r1,r0,#31
000d8e  eb006111          ADD      r1,r0,r1,LSR #24
000d92  ea4f2221          ASR      r2,r1,#8
000d96  f88d20f2          STRB     r2,[sp,#0xf2]
;;;755    modbus_registers[91]=(char)(TBATMAX%256);
000d9a  f88d00f3          STRB     r0,[sp,#0xf3]
;;;756    modbus_registers[92]=(char)(TBATSIGN/256);				//Πεγ47  εμοεπΰςσπΰ αΰςΰπεθ ρθγνΰλόνΰ, 1γΦ
000d9e  48fa              LDR      r0,|L1.4488|
000da0  f9b00000          LDRSH    r0,[r0,#0]  ; TBATSIGN
000da4  ea4f71e0          ASR      r1,r0,#31
000da8  eb006111          ADD      r1,r0,r1,LSR #24
000dac  ea4f2221          ASR      r2,r1,#8
000db0  f88d20f4          STRB     r2,[sp,#0xf4]
;;;757    modbus_registers[93]=(char)(TBATSIGN%256);
000db4  f88d00f5          STRB     r0,[sp,#0xf5]
;;;758    modbus_registers[94]=(char)(speedChrgCurr/256);					//Πεγ48  ξκ σρκξπεννξγξ ηΰπδΰ, 0.1ΐ
000db8  48f4              LDR      r0,|L1.4492|
000dba  f9b00000          LDRSH    r0,[r0,#0]  ; speedChrgCurr
000dbe  ea4f71e0          ASR      r1,r0,#31
000dc2  eb006111          ADD      r1,r0,r1,LSR #24
000dc6  ea4f2221          ASR      r2,r1,#8
000dca  f88d20f6          STRB     r2,[sp,#0xf6]
;;;759    modbus_registers[95]=(char)(speedChrgCurr%256);
000dce  f88d00f7          STRB     r0,[sp,#0xf7]
;;;760    modbus_registers[96]=(char)(speedChrgVolt/256);				//Πεγ49	 Νΰοπζενθε σρκξπεννξγξ ηΰπδΰ, 0.1Β 
000dd2  48ef              LDR      r0,|L1.4496|
000dd4  f9b00000          LDRSH    r0,[r0,#0]  ; speedChrgVolt
000dd8  ea4f71e0          ASR      r1,r0,#31
000ddc  eb006111          ADD      r1,r0,r1,LSR #24
000de0  ea4f2221          ASR      r2,r1,#8
000de4  f88d20f8          STRB     r2,[sp,#0xf8]
;;;761    modbus_registers[97]=(char)(speedChrgVolt%256);
000de8  f88d00f9          STRB     r0,[sp,#0xf9]
;;;762    modbus_registers[98]=(char)(speedChrgTimeInHour/256);				//Πεγ50	 Βπεμ σρκξπεννξγξ ηΰπδΰ, 1χ
000dec  48e9              LDR      r0,|L1.4500|
000dee  f9b00000          LDRSH    r0,[r0,#0]  ; speedChrgTimeInHour
000df2  ea4f71e0          ASR      r1,r0,#31
000df6  eb006111          ADD      r1,r0,r1,LSR #24
000dfa  ea4f2221          ASR      r2,r1,#8
000dfe  f88d20fa          STRB     r2,[sp,#0xfa]
;;;763    modbus_registers[99]=(char)(speedChrgTimeInHour%256);
000e02  f88d00fb          STRB     r0,[sp,#0xfb]
;;;764    modbus_registers[100]=(char)(U_OUT_KONTR_MAX/256);					//Πεγ51	 Κξνςπξλό βϋυξδνξγξ νΰοπζενθ, Umax, 0.1Β
000e06  48e4              LDR      r0,|L1.4504|
000e08  f9b00000          LDRSH    r0,[r0,#0]  ; U_OUT_KONTR_MAX
000e0c  ea4f71e0          ASR      r1,r0,#31
000e10  eb006111          ADD      r1,r0,r1,LSR #24
000e14  ea4f2221          ASR      r2,r1,#8
000e18  f88d20fc          STRB     r2,[sp,#0xfc]
;;;765    modbus_registers[101]=(char)(U_OUT_KONTR_MAX%256);
000e1c  f88d00fd          STRB     r0,[sp,#0xfd]
;;;766    modbus_registers[102]=(char)(U_OUT_KONTR_MIN/256);					//Πεγ52	 Κξνςπξλό βϋυξδνξγξ νΰοπζενθ, Umin, 0.1Β
000e20  48de              LDR      r0,|L1.4508|
000e22  f9b00000          LDRSH    r0,[r0,#0]  ; U_OUT_KONTR_MIN
000e26  ea4f71e0          ASR      r1,r0,#31
000e2a  eb006111          ADD      r1,r0,r1,LSR #24
000e2e  ea4f2221          ASR      r2,r1,#8
000e32  f88d20fe          STRB     r2,[sp,#0xfe]
;;;767    modbus_registers[103]=(char)(U_OUT_KONTR_MIN%256);
000e36  f88d00ff          STRB     r0,[sp,#0xff]
;;;768    modbus_registers[104]=(char)(U_OUT_KONTR_DELAY/256);				//Πεγ53	 Κξνςπξλό βϋυξδνξγξ νΰοπζενθ, Tηΰδεπζκθ, 1ρεκ.
000e3a  48d9              LDR      r0,|L1.4512|
000e3c  f9b00000          LDRSH    r0,[r0,#0]  ; U_OUT_KONTR_DELAY
000e40  ea4f71e0          ASR      r1,r0,#31
000e44  eb006111          ADD      r1,r0,r1,LSR #24
000e48  ea4f2221          ASR      r2,r1,#8
000e4c  f88d2100          STRB     r2,[sp,#0x100]
;;;769    modbus_registers[105]=(char)(U_OUT_KONTR_DELAY%256);
000e50  f88d0101          STRB     r0,[sp,#0x101]
;;;770    
;;;771    			if(modbus_rx_arg0==51)		//
000e54  4cd3              LDR      r4,|L1.4516|
000e56  89a0              LDRH     r0,[r4,#0xc]  ; modbus_rx_arg0
000e58  2833              CMP      r0,#0x33
000e5a  d104              BNE      |L1.3686|
;;;772    				{
;;;773    				lc640_write_int(EE_U_OUT_KONTR_MAX,modbus_rx_arg1);
000e5c  89e1              LDRH     r1,[r4,#0xe]  ; modbus_rx_arg1
000e5e  f44f7095          MOV      r0,#0x12a
000e62  f7fffffe          BL       lc640_write_int
                  |L1.3686|
;;;774    	     		}
;;;775    			if(modbus_rx_arg0==52)		//
000e66  89a0              LDRH     r0,[r4,#0xc]  ; modbus_rx_arg0
000e68  2834              CMP      r0,#0x34
000e6a  d104              BNE      |L1.3702|
;;;776    				{
;;;777    				lc640_write_int(EE_U_OUT_KONTR_MIN,modbus_rx_arg1);
000e6c  89e1              LDRH     r1,[r4,#0xe]  ; modbus_rx_arg1
000e6e  f44f7096          MOV      r0,#0x12c
000e72  f7fffffe          BL       lc640_write_int
                  |L1.3702|
;;;778    	     		}
;;;779    			if(modbus_rx_arg0==53)		//
000e76  89a0              LDRH     r0,[r4,#0xc]  ; modbus_rx_arg0
000e78  2835              CMP      r0,#0x35
000e7a  d104              BNE      |L1.3718|
;;;780    				{
;;;781    				lc640_write_int(EE_U_OUT_KONTR_DELAY,modbus_rx_arg1);
000e7c  89e1              LDRH     r1,[r4,#0xe]  ; modbus_rx_arg1
000e7e  f44f7097          MOV      r0,#0x12e
000e82  f7fffffe          BL       lc640_write_int
                  |L1.3718|
;;;782    	     		}
;;;783    
;;;784    
;;;785    modbus_tx_buff[0]=adr;
000e86  f88d7000          STRB     r7,[sp,#0]
;;;786    modbus_tx_buff[1]=func;
000e8a  f88d8001          STRB     r8,[sp,#1]
;;;787    //modbus_tx_buff[2]=(char)(reg_adr/256);
;;;788    //modbus_tx_buff[3]=(char)(reg_adr%256);
;;;789    //modbus_tx_buff[4]=(char)(reg_quantity/256);
;;;790    //modbus_tx_buff[5]=(char)(reg_quantity%256);
;;;791    modbus_tx_buff[2]=(char)(reg_quantity*2);
000e8e  ea4f0245          LSL      r2,r5,#1
000e92  f88d2002          STRB     r2,[sp,#2]
;;;792    /*
;;;793    modbus_registers[0]=0x10;
;;;794    modbus_registers[1]=0x11;
;;;795    modbus_registers[2]=0x12;
;;;796    modbus_registers[3]=0x13;
;;;797    modbus_registers[4]=0x14;
;;;798    modbus_registers[5]=0x15;
;;;799    */
;;;800    
;;;801    //if((reg_adr<17)&&(reg_quantity<10))
;;;802    	{
;;;803    	mem_copy((char*)&modbus_tx_buff[3],(char*)&modbus_registers[(reg_adr-1)*2],reg_quantity*2);
000e96  a826              ADD      r0,sp,#0x98
000e98  f1a60601          SUB      r6,r6,#1
000e9c  eb000146          ADD      r1,r0,r6,LSL #1
000ea0  466e              MOV      r6,sp
000ea2  f10d0003          ADD      r0,sp,#3
000ea6  f7fffffe          BL       mem_copy
;;;804    	}
;;;805    crc_temp=CRC16_2(modbus_tx_buff,(reg_quantity*2)+3);
000eaa  2003              MOVS     r0,#3
000eac  eb000045          ADD      r0,r0,r5,LSL #1
000eb0  b201              SXTH     r1,r0
000eb2  4668              MOV      r0,sp
000eb4  f7fffffe          BL       CRC16_2
;;;806    
;;;807    modbus_tx_buff[3+(reg_quantity*2)]=crc_temp%256;
000eb8  eb060145          ADD      r1,r6,r5,LSL #1
000ebc  70c8              STRB     r0,[r1,#3]
;;;808    modbus_tx_buff[4+(reg_quantity*2)]=crc_temp/256;
000ebe  ea4f2010          LSR      r0,r0,#8
000ec2  7108              STRB     r0,[r1,#4]
;;;809    
;;;810    for (i=0;i<(5+(reg_quantity*2));i++)
000ec4  f04f0400          MOV      r4,#0
000ec8  f04f0005          MOV      r0,#5
000ecc  eb000545          ADD      r5,r0,r5,LSL #1
000ed0  e005              B        |L1.3806|
                  |L1.3794|
;;;811    	{
;;;812    	putchar0(modbus_tx_buff[i]);
000ed2  5d30              LDRB     r0,[r6,r4]
000ed4  f7fffffe          BL       putchar0
000ed8  f1040401          ADD      r4,r4,#1              ;810
000edc  b2e4              UXTB     r4,r4                 ;810
                  |L1.3806|
000ede  42a5              CMP      r5,r4                 ;810
000ee0  d8f7              BHI      |L1.3794|
;;;813    	}
;;;814    
;;;815    for (i=0;i<(5+(reg_quantity*2));i++)
000ee2  f04f0400          MOV      r4,#0
000ee6  e005              B        |L1.3828|
                  |L1.3816|
;;;816    	{
;;;817    	putchar_sc16is700(modbus_tx_buff[i]);
000ee8  5d30              LDRB     r0,[r6,r4]
000eea  f7fffffe          BL       putchar_sc16is700
000eee  f1040401          ADD      r4,r4,#1              ;815
000ef2  b2e4              UXTB     r4,r4                 ;815
                  |L1.3828|
000ef4  42a5              CMP      r5,r4                 ;815
000ef6  d8f7              BHI      |L1.3816|
;;;818    	}
;;;819    
;;;820    /*	putchar2(modbus_tx_buff[0]);
;;;821    	putchar2(modbus_tx_buff[1]);
;;;822    	putchar2(modbus_tx_buff[2]);
;;;823    	putchar2(modbus_tx_buff[3]);
;;;824    	putchar2(modbus_tx_buff[4]);
;;;825    	putchar2(modbus_tx_buff[5]);
;;;826    	putchar2(modbus_tx_buff[6]);*/
;;;827    //	putchar2(modbus_tx_buff[0]);
;;;828    	//putchar2(modbus_tx_buff[1]);
;;;829    //	putchar2(modbus_tx_buff[2]);
;;;830    //	putchar2(modbus_tx_buff[3]);
;;;831    ///	putchar2(modbus_tx_buff[4]);
;;;832    //	putchar2(modbus_tx_buff[5]);
;;;833    //	putchar2(modbus_tx_buff[6]);
;;;834    }
000ef8  b04c              ADD      sp,sp,#0x130
000efa  e5ce              B        |L1.2714|
;;;835    
                          ENDP

                  modbus_in PROC
;;;57     //-----------------------------------------------
;;;58     void modbus_in(void)
000efc  e92d41f0          PUSH     {r4-r8,lr}
;;;59     {
;;;60     short crc16_calculated;		//βϋχθρλεμΰ θη οπθνςϋυ δΰννϋυ CRC
;;;61     short crc16_incapsulated;	//βρςπξενννΰ β οξρϋλκσ CRC
;;;62     unsigned short modbus_rx_arg0;		//βρςπξεννϋι β οξρϋλκσ οεπβϋι ΰπγσμενς
;;;63     unsigned short modbus_rx_arg1;		//βρςπξεννϋι β οξρϋλκσ βςξπξι ΰπγσμενς
;;;64     unsigned short modbus_rx_arg2;		//βρςπξεννϋι β οξρϋλκσ ςπεςθι ΰπγσμενς
;;;65     unsigned short modbus_rx_arg3;		//βρςπξεννϋι β οξρϋλκσ χεςβεπςϋι ΰπγσμενς
;;;66     unsigned char modbus_func;			//βρςπξεννϋι β οξρϋλκσ κξδ τσνκφθθ
;;;67     
;;;68     
;;;69     
;;;70     mem_copy(modbus_an_buffer,modbus_rx_buffer,modbus_rx_buffer_ptr);
000f00  4ea8              LDR      r6,|L1.4516|
000f02  49a9              LDR      r1,|L1.4520|
000f04  7872              LDRB     r2,[r6,#1]  ; modbus_rx_buffer_ptr
000f06  f101001e          ADD      r0,r1,#0x1e
000f0a  f7fffffe          BL       mem_copy
;;;71     modbus_rx_counter=modbus_rx_buffer_ptr;
000f0e  7871              LDRB     r1,[r6,#1]  ; modbus_rx_buffer_ptr
000f10  70b1              STRB     r1,[r6,#2]
;;;72     modbus_rx_buffer_ptr=0;
000f12  f04f0000          MOV      r0,#0
000f16  7070              STRB     r0,[r6,#1]
;;;73     bMODBUS_TIMEOUT=0;
000f18  7030              STRB     r0,[r6,#0]
;;;74     	
;;;75     crc16_calculated  = CRC16_2(modbus_an_buffer, modbus_rx_counter-2);
000f1a  48a3              LDR      r0,|L1.4520|
000f1c  f1a10102          SUB      r1,r1,#2
000f20  f100001e          ADD      r0,r0,#0x1e
000f24  f7fffffe          BL       CRC16_2
000f28  b201              SXTH     r1,r0
;;;76     crc16_incapsulated = *((short*)&modbus_an_buffer[modbus_rx_counter-2]);
000f2a  489f              LDR      r0,|L1.4520|
000f2c  78b3              LDRB     r3,[r6,#2]  ; modbus_rx_counter
000f2e  301e              ADDS     r0,r0,#0x1e
000f30  eb000203          ADD      r2,r0,r3
000f34  f9322c02          LDRSH    r2,[r2,#-2]
;;;77     
;;;78     modbus_plazma1=modbus_rx_counter;
000f38  80f3              STRH     r3,[r6,#6]
;;;79     modbus_plazma2=crc16_calculated;
000f3a  8131              STRH     r1,[r6,#8]
;;;80     modbus_plazma3=crc16_incapsulated;
000f3c  8172              STRH     r2,[r6,#0xa]
;;;81     
;;;82     modbus_func=modbus_an_buffer[1];
000f3e  7847              LDRB     r7,[r0,#1]  ; modbus_an_buffer
;;;83     modbus_rx_arg0=(((unsigned short)modbus_an_buffer[2])*((unsigned short)256))+((unsigned short)modbus_an_buffer[3]);
000f40  78c3              LDRB     r3,[r0,#3]  ; modbus_an_buffer
000f42  7884              LDRB     r4,[r0,#2]  ; modbus_an_buffer
000f44  eb032304          ADD      r3,r3,r4,LSL #8
000f48  b29c              UXTH     r4,r3
;;;84     modbus_rx_arg1=(((unsigned short)modbus_an_buffer[4])*((unsigned short)256))+((unsigned short)modbus_an_buffer[5]);
000f4a  7943              LDRB     r3,[r0,#5]  ; modbus_an_buffer
000f4c  7905              LDRB     r5,[r0,#4]  ; modbus_an_buffer
000f4e  eb032305          ADD      r3,r3,r5,LSL #8
000f52  b29d              UXTH     r5,r3
;;;85     modbus_rx_arg2=(((unsigned short)modbus_an_buffer[6])*((unsigned short)256))+((unsigned short)modbus_an_buffer[7]);
;;;86     modbus_rx_arg3=(((unsigned short)modbus_an_buffer[8])*((unsigned short)256))+((unsigned short)modbus_an_buffer[9]);
;;;87     
;;;88     
;;;89     if(crc16_calculated==crc16_incapsulated)
000f54  4291              CMP      r1,r2
000f56  d173              BNE      |L1.4160|
;;;90     	{
;;;91     	
;;;92     	if(modbus_an_buffer[0]==MODBUS_ADRESS)
000f58  f8df8250          LDR      r8,|L1.4524|
000f5c  7801              LDRB     r1,[r0,#0]  ; modbus_an_buffer
000f5e  f9b80000          LDRSH    r0,[r8,#0]  ; MODBUS_ADRESS
000f62  4281              CMP      r1,r0
000f64  d16c              BNE      |L1.4160|
;;;93     		{
;;;94     		if(modbus_func==3)		//χςενθε οπξθηβξλόνξγξ κξλ-βΰ πεγθρςπξβ υπΰνενθ
000f66  2f03              CMP      r7,#3
000f68  d109              BNE      |L1.3966|
;;;95     			{
;;;96     			modbus_plazma++;
000f6a  88b1              LDRH     r1,[r6,#4]  ; modbus_plazma
000f6c  f1010101          ADD      r1,r1,#1
000f70  80b1              STRH     r1,[r6,#4]
;;;97     			modbus_hold_registers_transmit(MODBUS_ADRESS,modbus_func,modbus_rx_arg0,modbus_rx_arg1);
000f72  462b              MOV      r3,r5
000f74  4622              MOV      r2,r4
000f76  4639              MOV      r1,r7
000f78  b2c0              UXTB     r0,r0
000f7a  f7fffffe          BL       modbus_hold_registers_transmit
                  |L1.3966|
;;;98     			}
;;;99     
;;;100    		if(modbus_func==4)		//χςενθε οπξθηβξλόνξγξ κξλ-βΰ πεγθρςπξβ	βυξδξβ
000f7e  2f04              CMP      r7,#4
000f80  d005              BEQ      |L1.3982|
;;;101    			{
;;;102    			modbus_input_registers_transmit(MODBUS_ADRESS,modbus_func,modbus_rx_arg0,modbus_rx_arg1);
;;;103    			}
;;;104    
;;;105    		else if(modbus_func==6) 	//ηΰοθρό πεγθρςπξβ υπΰνενθ
000f82  2f06              CMP      r7,#6
000f84  d15c              BNE      |L1.4160|
;;;106    			{
;;;107    			if(modbus_rx_arg0==11)		//Σρςΰνξβκΰ βπεμενθ 
;;;108    				{
;;;109    				LPC_RTC->YEAR=(uint16_t)modbus_rx_arg1;
000f86  488a              LDR      r0,|L1.4528|
000f88  2c0b              CMP      r4,#0xb               ;107
000f8a  d00a              BEQ      |L1.4002|
000f8c  e00a              B        |L1.4004|
                  |L1.3982|
000f8e  f8b80000          LDRH     r0,[r8,#0]            ;102  ; MODBUS_ADRESS
000f92  462b              MOV      r3,r5                 ;102
000f94  4622              MOV      r2,r4                 ;102
000f96  4639              MOV      r1,r7                 ;102
000f98  e8bd41f0          POP      {r4-r8,lr}            ;102
000f9c  b2c0              UXTB     r0,r0                 ;102
000f9e  f7ffbffe          B.W      modbus_input_registers_transmit
                  |L1.4002|
000fa2  8785              STRH     r5,[r0,#0x3c]
                  |L1.4004|
;;;110    				}
;;;111    			if(modbus_rx_arg0==12)		//Σρςΰνξβκΰ βπεμενθ 
000fa4  2c0c              CMP      r4,#0xc
000fa6  d101              BNE      |L1.4012|
;;;112    				{
;;;113    				LPC_RTC->MONTH=(uint16_t)modbus_rx_arg1;
000fa8  f8805038          STRB     r5,[r0,#0x38]
                  |L1.4012|
;;;114    				}
;;;115    			if(modbus_rx_arg0==13)		//Σρςΰνξβκΰ βπεμενθ 
000fac  2c0d              CMP      r4,#0xd
000fae  d101              BNE      |L1.4020|
;;;116    				{
;;;117    				LPC_RTC->DOM=(uint16_t)modbus_rx_arg1;
000fb0  f880502c          STRB     r5,[r0,#0x2c]
                  |L1.4020|
;;;118    				}
;;;119    			if(modbus_rx_arg0==14)		//Σρςΰνξβκΰ βπεμενθ 
000fb4  2c0e              CMP      r4,#0xe
000fb6  d101              BNE      |L1.4028|
;;;120    				{
;;;121    				LPC_RTC->HOUR=(uint16_t)modbus_rx_arg1;
000fb8  f8805028          STRB     r5,[r0,#0x28]
                  |L1.4028|
;;;122    				}
;;;123    			if(modbus_rx_arg0==15)		//Σρςΰνξβκΰ βπεμενθ 
000fbc  2c0f              CMP      r4,#0xf
000fbe  d101              BNE      |L1.4036|
;;;124    				{
;;;125    				LPC_RTC->MIN=(uint16_t)modbus_rx_arg1;
000fc0  f8805024          STRB     r5,[r0,#0x24]
                  |L1.4036|
;;;126    				}
;;;127    			if(modbus_rx_arg0==16)		//Σρςΰνξβκΰ βπεμενθ 
000fc4  2c10              CMP      r4,#0x10
000fc6  d101              BNE      |L1.4044|
;;;128    				{
;;;129    				LPC_RTC->SEC=(uint16_t)modbus_rx_arg1;
000fc8  f8805020          STRB     r5,[r0,#0x20]
                  |L1.4044|
;;;130    				}
;;;131    			if(modbus_rx_arg0==20)		//ςξκ ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ ςξκΰ
000fcc  2c14              CMP      r4,#0x14
000fce  d106              BNE      |L1.4062|
;;;132    				{
;;;133    				if((modbus_rx_arg1>0)&&(modbus_rx_arg1<5))
000fd0  1e68              SUBS     r0,r5,#1
000fd2  2804              CMP      r0,#4
000fd4  d203              BCS      |L1.4062|
;;;134    				lc640_write_int(EE_NUMIST,modbus_rx_arg1);  
000fd6  4629              MOV      r1,r5
000fd8  2098              MOVS     r0,#0x98
000fda  f7fffffe          BL       lc640_write_int
                  |L1.4062|
;;;135    				}
;;;136    			if(modbus_rx_arg0==21)		//ςξκ ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ ςξκΰ
000fde  2c15              CMP      r4,#0x15
000fe0  d106              BNE      |L1.4080|
;;;137    				{
;;;138    				if((modbus_rx_arg1==0)||(modbus_rx_arg1==1))
000fe2  b10d              CBZ      r5,|L1.4072|
000fe4  2d01              CMP      r5,#1
000fe6  d103              BNE      |L1.4080|
                  |L1.4072|
;;;139    				lc640_write_int(EE_PAR,modbus_rx_arg1);  
000fe8  4629              MOV      r1,r5
000fea  20ca              MOVS     r0,#0xca
000fec  f7fffffe          BL       lc640_write_int
                  |L1.4080|
;;;140    				}
;;;141    			if(modbus_rx_arg0==22)		//ςξκ ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ ςξκΰ
000ff0  2c16              CMP      r4,#0x16
000ff2  d106              BNE      |L1.4098|
;;;142    				{
;;;143    				if((modbus_rx_arg1==0)||(modbus_rx_arg1==1))
000ff4  b10d              CBZ      r5,|L1.4090|
000ff6  2d01              CMP      r5,#1
000ff8  d103              BNE      |L1.4098|
                  |L1.4090|
;;;144    				lc640_write_int(EE_ZV_ON,modbus_rx_arg1);  
000ffa  4629              MOV      r1,r5
000ffc  2086              MOVS     r0,#0x86
000ffe  f7fffffe          BL       lc640_write_int
                  |L1.4098|
;;;145    				}
;;;146    			if(modbus_rx_arg0==23)		//ςξκ ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ ςξκΰ
001002  2c17              CMP      r4,#0x17
001004  d106              BNE      |L1.4116|
;;;147    				{
;;;148    				if((modbus_rx_arg1==0)||(modbus_rx_arg1==1))
001006  b10d              CBZ      r5,|L1.4108|
001008  2d01              CMP      r5,#1
00100a  d103              BNE      |L1.4116|
                  |L1.4108|
;;;149    				lc640_write_int(EE_TERMOKOMP,modbus_rx_arg1);  
00100c  4629              MOV      r1,r5
00100e  20f2              MOVS     r0,#0xf2
001010  f7fffffe          BL       lc640_write_int
                  |L1.4116|
;;;150    				}
;;;151    			if(modbus_rx_arg0==24)		//ςξκ ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ ςξκΰ
001014  2c18              CMP      r4,#0x18
001016  d104              BNE      |L1.4130|
;;;152    				{
;;;153    				if((modbus_rx_arg1>=0)||(modbus_rx_arg1<=20))
;;;154    				lc640_write_int(EE_UBM_AV,modbus_rx_arg1);  
001018  4629              MOV      r1,r5
00101a  f44f7019          MOV      r0,#0x264
00101e  f7fffffe          BL       lc640_write_int
                  |L1.4130|
;;;155    				}
;;;156    
;;;157    
;;;158    			if(modbus_rx_arg0==30)		//νΰοπζενθε ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ νΰοπζενθ
001022  2c1e              CMP      r4,#0x1e
001024  d113              BNE      |L1.4174|
;;;159    				{
;;;160    				if(modbus_rx_arg1<0)TBAT=0;
;;;161    				else if((modbus_rx_arg1>0)&&(modbus_rx_arg1<=5))modbus_rx_arg1=0;
001026  1e69              SUBS     r1,r5,#1
;;;162    				else if(modbus_rx_arg1>=60)TBAT=60;
001028  4862              LDR      r0,|L1.4532|
00102a  2904              CMP      r1,#4                 ;161
00102c  d802              BHI      |L1.4148|
00102e  f04f0500          MOV      r5,#0                 ;161
001032  e007              B        |L1.4164|
                  |L1.4148|
001034  2d3c              CMP      r5,#0x3c
001036  d304              BCC      |L1.4162|
001038  f04f013c          MOV      r1,#0x3c
00103c  8001              STRH     r1,[r0,#0]
00103e  e001              B        |L1.4164|
                  |L1.4160|
001040  e0be              B        |L1.4544|
                  |L1.4162|
;;;163    				else TBAT=modbus_rx_arg1;
001042  8005              STRH     r5,[r0,#0]
                  |L1.4164|
;;;164    				lc640_write_int(EE_TBAT,TBAT);
001044  f9b01000          LDRSH    r1,[r0,#0]  ; TBAT
001048  20c2              MOVS     r0,#0xc2
00104a  f7fffffe          BL       lc640_write_int
                  |L1.4174|
;;;165    	     		}
;;;166    			if(modbus_rx_arg0==31)		//
00104e  2c1f              CMP      r4,#0x1f
001050  d103              BNE      |L1.4186|
;;;167    				{
;;;168    				lc640_write_int(EE_UMAX,modbus_rx_arg1);
001052  4629              MOV      r1,r5
001054  2078              MOVS     r0,#0x78
001056  f7fffffe          BL       lc640_write_int
                  |L1.4186|
;;;169    	     		}
;;;170    			if(modbus_rx_arg0==32)		//
00105a  2c20              CMP      r4,#0x20
00105c  d106              BNE      |L1.4204|
;;;171    				{
;;;172    				lc640_write_int(EE_DU,UB20-modbus_rx_arg1);
00105e  4856              LDR      r0,|L1.4536|
001060  f9b00000          LDRSH    r0,[r0,#0]  ; UB20
001064  1b41              SUBS     r1,r0,r5
001066  20c8              MOVS     r0,#0xc8
001068  f7fffffe          BL       lc640_write_int
                  |L1.4204|
;;;173    	     		}
;;;174    			if(modbus_rx_arg0==33)		//
00106c  2c21              CMP      r4,#0x21
00106e  d103              BNE      |L1.4216|
;;;175    				{
;;;176    				lc640_write_int(EE_UB0,modbus_rx_arg1);
001070  4629              MOV      r1,r5
001072  207a              MOVS     r0,#0x7a
001074  f7fffffe          BL       lc640_write_int
                  |L1.4216|
;;;177    	     		}
;;;178    			if(modbus_rx_arg0==34)		//
001078  2c22              CMP      r4,#0x22
00107a  d103              BNE      |L1.4228|
;;;179    				{
;;;180    				lc640_write_int(EE_UB20,modbus_rx_arg1);
00107c  4629              MOV      r1,r5
00107e  207c              MOVS     r0,#0x7c
001080  f7fffffe          BL       lc640_write_int
                  |L1.4228|
;;;181    	     		}
;;;182    			if(modbus_rx_arg0==35)		//
001084  2c23              CMP      r4,#0x23
001086  d103              BNE      |L1.4240|
;;;183    				{
;;;184    				lc640_write_int(EE_USIGN,modbus_rx_arg1);
001088  4629              MOV      r1,r5
00108a  2082              MOVS     r0,#0x82
00108c  f7fffffe          BL       lc640_write_int
                  |L1.4240|
;;;185    	     		}
;;;186    			if(modbus_rx_arg0==36)		//
001090  2c24              CMP      r4,#0x24
001092  d103              BNE      |L1.4252|
;;;187    				{
;;;188    				lc640_write_int(EE_UMN,modbus_rx_arg1);
001094  4629              MOV      r1,r5
001096  2084              MOVS     r0,#0x84
001098  f7fffffe          BL       lc640_write_int
                  |L1.4252|
;;;189    	     		}
;;;190    			if(modbus_rx_arg0==37)		//
00109c  2c25              CMP      r4,#0x25
00109e  d103              BNE      |L1.4264|
;;;191    				{
;;;192    				lc640_write_int(EE_U0B,modbus_rx_arg1);
0010a0  4629              MOV      r1,r5
0010a2  2094              MOVS     r0,#0x94
0010a4  f7fffffe          BL       lc640_write_int
                  |L1.4264|
;;;193    	     		}
;;;194    			if(modbus_rx_arg0==38)		//
0010a8  2c26              CMP      r4,#0x26
0010aa  d103              BNE      |L1.4276|
;;;195    				{
;;;196    				lc640_write_int(EE_IKB,modbus_rx_arg1);
0010ac  4629              MOV      r1,r5
0010ae  2088              MOVS     r0,#0x88
0010b0  f7fffffe          BL       lc640_write_int
                  |L1.4276|
;;;197    	     		}
;;;198    			if(modbus_rx_arg0==39)		//
0010b4  2c27              CMP      r4,#0x27
0010b6  d103              BNE      |L1.4288|
;;;199    				{
;;;200    				lc640_write_int(EE_IZMAX,modbus_rx_arg1);
0010b8  4629              MOV      r1,r5
0010ba  2092              MOVS     r0,#0x92
0010bc  f7fffffe          BL       lc640_write_int
                  |L1.4288|
;;;201    	     		}
;;;202    			if(modbus_rx_arg0==40)		//
0010c0  2c28              CMP      r4,#0x28
0010c2  d103              BNE      |L1.4300|
;;;203    				{
;;;204    				lc640_write_int(EE_IMAX,modbus_rx_arg1);
0010c4  4629              MOV      r1,r5
0010c6  208c              MOVS     r0,#0x8c
0010c8  f7fffffe          BL       lc640_write_int
                  |L1.4300|
;;;205    	     		}
;;;206    			if(modbus_rx_arg0==41)		//
0010cc  2c29              CMP      r4,#0x29
0010ce  d103              BNE      |L1.4312|
;;;207    				{
;;;208    				lc640_write_int(EE_IMIN,modbus_rx_arg1);
0010d0  4629              MOV      r1,r5
0010d2  208e              MOVS     r0,#0x8e
0010d4  f7fffffe          BL       lc640_write_int
                  |L1.4312|
;;;209    	     		}
;;;210    			if(modbus_rx_arg0==42)		//
0010d8  2c2a              CMP      r4,#0x2a
0010da  d103              BNE      |L1.4324|
;;;211    				{
;;;212    				lc640_write_int(EE_UVZ,modbus_rx_arg1);
0010dc  4629              MOV      r1,r5
0010de  20de              MOVS     r0,#0xde
0010e0  f7fffffe          BL       lc640_write_int
                  |L1.4324|
;;;213    	     		}
;;;214    			if(modbus_rx_arg0==43)		//
0010e4  2c2b              CMP      r4,#0x2b
0010e6  d103              BNE      |L1.4336|
;;;215    				{
;;;216    				lc640_write_int(EE_TZAS,modbus_rx_arg1);
0010e8  4629              MOV      r1,r5
0010ea  2096              MOVS     r0,#0x96
0010ec  f7fffffe          BL       lc640_write_int
                  |L1.4336|
;;;217    	     		}
;;;218    			if(modbus_rx_arg0==44)		//
0010f0  2c2c              CMP      r4,#0x2c
0010f2  d103              BNE      |L1.4348|
;;;219    				{
;;;220    				lc640_write_int(EE_TMAX,modbus_rx_arg1);
0010f4  4629              MOV      r1,r5
0010f6  207e              MOVS     r0,#0x7e
0010f8  f7fffffe          BL       lc640_write_int
                  |L1.4348|
;;;221    	     		}
;;;222    			if(modbus_rx_arg0==45)		//
0010fc  2c2d              CMP      r4,#0x2d
0010fe  d103              BNE      |L1.4360|
;;;223    				{
;;;224    				lc640_write_int(EE_TSIGN,modbus_rx_arg1);
001100  4629              MOV      r1,r5
001102  20c6              MOVS     r0,#0xc6
001104  f7fffffe          BL       lc640_write_int
                  |L1.4360|
;;;225    	     		}
;;;226    			if(modbus_rx_arg0==46)		//
001108  2c2e              CMP      r4,#0x2e
00110a  d103              BNE      |L1.4372|
;;;227    				{
;;;228    				lc640_write_int(EE_TBATMAX,modbus_rx_arg1);
00110c  4629              MOV      r1,r5
00110e  20cc              MOVS     r0,#0xcc
001110  f7fffffe          BL       lc640_write_int
                  |L1.4372|
;;;229    	     		}
;;;230    			if(modbus_rx_arg0==47)		//
001114  2c2f              CMP      r4,#0x2f
001116  d103              BNE      |L1.4384|
;;;231    				{
;;;232    				lc640_write_int(EE_TBATSIGN,modbus_rx_arg1);
001118  4629              MOV      r1,r5
00111a  20ce              MOVS     r0,#0xce
00111c  f7fffffe          BL       lc640_write_int
                  |L1.4384|
;;;233    	     		}
;;;234    			if(modbus_rx_arg0==48)		//
001120  2c30              CMP      r4,#0x30
001122  d104              BNE      |L1.4398|
;;;235    				{
;;;236    				lc640_write_int(EE_SPEED_CHRG_CURR,modbus_rx_arg1);
001124  4629              MOV      r1,r5
001126  f44f708b          MOV      r0,#0x116
00112a  f7fffffe          BL       lc640_write_int
                  |L1.4398|
;;;237    	     		}
;;;238    			if(modbus_rx_arg0==49)		//
00112e  2c31              CMP      r4,#0x31
001130  d104              BNE      |L1.4412|
;;;239    				{
;;;240    				lc640_write_int(EE_SPEED_CHRG_VOLT,modbus_rx_arg1);
001132  4629              MOV      r1,r5
001134  f44f708c          MOV      r0,#0x118
001138  f7fffffe          BL       lc640_write_int
                  |L1.4412|
;;;241    	     		}
;;;242    			if(modbus_rx_arg0==50)		//
00113c  2c32              CMP      r4,#0x32
00113e  d104              BNE      |L1.4426|
;;;243    				{
;;;244    				lc640_write_int(EE_SPEED_CHRG_TIME,modbus_rx_arg1);
001140  4629              MOV      r1,r5
001142  f44f708d          MOV      r0,#0x11a
001146  f7fffffe          BL       lc640_write_int
                  |L1.4426|
;;;245    	     		}
;;;246    			if(modbus_rx_arg0==51)		//
00114a  2c33              CMP      r4,#0x33
00114c  d104              BNE      |L1.4440|
;;;247    				{
;;;248    				lc640_write_int(EE_U_OUT_KONTR_MAX,modbus_rx_arg1);
00114e  4629              MOV      r1,r5
001150  f44f7095          MOV      r0,#0x12a
001154  f7fffffe          BL       lc640_write_int
                  |L1.4440|
;;;249    	     		}
;;;250    			if(modbus_rx_arg0==52)		//
001158  2c34              CMP      r4,#0x34
00115a  d104              BNE      |L1.4454|
;;;251    				{
;;;252    				lc640_write_int(EE_U_OUT_KONTR_MIN,modbus_rx_arg1);
00115c  4629              MOV      r1,r5
00115e  f44f7096          MOV      r0,#0x12c
001162  f7fffffe          BL       lc640_write_int
                  |L1.4454|
;;;253    	     		}
;;;254    			if(modbus_rx_arg0==53)		//
001166  2c35              CMP      r4,#0x35
001168  d104              BNE      |L1.4468|
;;;255    				{
;;;256    				lc640_write_int(EE_U_OUT_KONTR_DELAY,modbus_rx_arg1);
00116a  4629              MOV      r1,r5
00116c  f44f7097          MOV      r0,#0x12e
001170  f7fffffe          BL       lc640_write_int
                  |L1.4468|
;;;257    	     		}
;;;258    
;;;259    			if(modbus_rx_arg0==19)		//βκλ/βϋκλ θρςξχνθκΰ νΰοπ.
;;;260    				{
;;;261    	/*			if(modbus_rx_arg1==1)
;;;262    					{
;;;263    					if(work_stat!=wsPS)
;;;264    						{
;;;265    						work_stat=wsPS;
;;;266    						time_proc=0;
;;;267    						time_proc_remain=T_PROC_PS;
;;;268    						restart_on_PS();
;;;269    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;270    						}
;;;271    					}
;;;272    				if(modbus_rx_arg1==0)
;;;273    					{
;;;274    					if(work_stat==wsPS)
;;;275    						{
;;;276    						work_stat=wsOFF;
;;;277    						restart_off();
;;;278    						}
;;;279    					} */
;;;280    				}
;;;281    			if(modbus_rx_arg0==20)		//βκλ/βϋκλ θρςξχνθκΰ ςξκΰ
;;;282    				{
;;;283    /*				if(modbus_rx_arg1==1)
;;;284    					{
;;;285    					if(work_stat!=wsGS)
;;;286    						{
;;;287    						work_stat=wsGS;
;;;288    						time_proc=0;
;;;289    						time_proc_remain=T_PROC_GS;
;;;290    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
;;;291    						}
;;;292    					}
;;;293    				if(modbus_rx_arg1==0)
;;;294    					{
;;;295    					if(work_stat==wsGS)
;;;296    						{
;;;297    						work_stat=wsOFF;
;;;298    						restart_off();
;;;299    						}
;;;300    					}*/
;;;301    				}
;;;302    			modbus_hold_register_transmit(MODBUS_ADRESS,modbus_func,modbus_rx_arg0);
001174  f8b80000          LDRH     r0,[r8,#0]  ; MODBUS_ADRESS
001178  4622              MOV      r2,r4
00117a  4639              MOV      r1,r7
00117c  e8bd41f0          POP      {r4-r8,lr}
001180  b2c0              UXTB     r0,r0
001182  e01b              B        |L1.4540|
                  |L1.4484|
                          DCD      TBATMAX
                  |L1.4488|
                          DCD      TBATSIGN
                  |L1.4492|
                          DCD      speedChrgCurr
                  |L1.4496|
                          DCD      speedChrgVolt
                  |L1.4500|
                          DCD      speedChrgTimeInHour
                  |L1.4504|
                          DCD      U_OUT_KONTR_MAX
                  |L1.4508|
                          DCD      U_OUT_KONTR_MIN
                  |L1.4512|
                          DCD      U_OUT_KONTR_DELAY
                  |L1.4516|
                          DCD      ||area_number.10||
                  |L1.4520|
                          DCD      ||area_number.6||
                  |L1.4524|
                          DCD      MODBUS_ADRESS
                  |L1.4528|
                          DCD      0x40024000
                  |L1.4532|
                          DCD      TBAT
                  |L1.4536|
                          DCD      UB20
                  |L1.4540|
0011bc  f7ffbffe          B.W      modbus_hold_register_transmit
                  |L1.4544|
;;;303    			}
;;;304    		} 
;;;305    	//modbus_plazma++;
;;;306    	}
;;;307    // modbus_plazma++;
;;;308    
;;;309    }
0011c0  e46b              B        |L1.2714|
;;;310    
                          ENDP


                          AREA ||area_number.2||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.2||, ||.text||
                  modbus_register_transmit PROC
;;;311    //-----------------------------------------------
;;;312    void modbus_register_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr)
000000  b5f0              PUSH     {r4-r7,lr}
;;;313    {
000002  b0b3              SUB      sp,sp,#0xcc
;;;314    char modbus_registers[150];
;;;315    char modbus_tx_buff[50];
;;;316    unsigned short crc_temp;
;;;317    char i;
;;;318    
;;;319    
;;;320    modbus_registers[0]=(char)(load_U/256);					//Πεγ1
000004  4bff              LDR      r3,|L2.1028|
000006  f9b33000          LDRSH    r3,[r3,#0]  ; load_U
00000a  ea4f74e3          ASR      r4,r3,#31
00000e  eb036414          ADD      r4,r3,r4,LSR #24
000012  ea4f2524          ASR      r5,r4,#8
000016  f88d5034          STRB     r5,[sp,#0x34]
;;;321    modbus_registers[1]=(char)(load_U%256);
00001a  f88d3035          STRB     r3,[sp,#0x35]
;;;322    modbus_registers[2]=(char)(load_I/256);					//Πεγ2
00001e  4bfa              LDR      r3,|L2.1032|
000020  f9b34000          LDRSH    r4,[r3,#0]  ; load_I
000024  ea4f73e4          ASR      r3,r4,#31
000028  eb046513          ADD      r5,r4,r3,LSR #24
00002c  f3c52307          UBFX     r3,r5,#8,#8
000030  f88d3036          STRB     r3,[sp,#0x36]
;;;323    modbus_registers[3]=(char)(load_I%256);
000034  b2e4              UXTB     r4,r4
000036  f88d4037          STRB     r4,[sp,#0x37]
;;;324    modbus_registers[4]=(char)(Ib_ips_termokompensat/256);		//Πεγ3
00003a  4df4              LDR      r5,|L2.1036|
00003c  f9b55000          LDRSH    r5,[r5,#0]  ; Ib_ips_termokompensat
000040  ea4f76e5          ASR      r6,r5,#31
000044  eb056616          ADD      r6,r5,r6,LSR #24
000048  ea4f2726          ASR      r7,r6,#8
00004c  f88d7038          STRB     r7,[sp,#0x38]
;;;325    modbus_registers[5]=(char)(Ib_ips_termokompensat%256);
000050  f88d5039          STRB     r5,[sp,#0x39]
;;;326    modbus_registers[6]=(char)(t_ext[0]/256);				//Πεγ4
000054  4dee              LDR      r5,|L2.1040|
000056  f9b55000          LDRSH    r5,[r5,#0]  ; t_ext
00005a  ea4f76e5          ASR      r6,r5,#31
00005e  eb056616          ADD      r6,r5,r6,LSR #24
000062  ea4f2726          ASR      r7,r6,#8
000066  f88d703a          STRB     r7,[sp,#0x3a]
;;;327    modbus_registers[7]=(char)(t_ext[0]%256);
00006a  f88d503b          STRB     r5,[sp,#0x3b]
;;;328    modbus_registers[8]=(char)(net_Ua/256);					//Πεγ5
00006e  4de9              LDR      r5,|L2.1044|
000070  f9b55000          LDRSH    r5,[r5,#0]  ; net_Ua
000074  ea4f76e5          ASR      r6,r5,#31
000078  eb056616          ADD      r6,r5,r6,LSR #24
00007c  ea4f2726          ASR      r7,r6,#8
000080  f88d703c          STRB     r7,[sp,#0x3c]
;;;329    modbus_registers[9]=(char)(net_Ua%256);		 	
000084  f88d503d          STRB     r5,[sp,#0x3d]
;;;330    modbus_registers[10]=(char)(net_Ub/256);				//Πεγ6
000088  4de3              LDR      r5,|L2.1048|
00008a  f9b55000          LDRSH    r5,[r5,#0]  ; net_Ub
00008e  ea4f76e5          ASR      r6,r5,#31
000092  eb056616          ADD      r6,r5,r6,LSR #24
000096  ea4f2726          ASR      r7,r6,#8
00009a  f88d703e          STRB     r7,[sp,#0x3e]
;;;331    modbus_registers[11]=(char)(net_Ub%256);
00009e  f88d503f          STRB     r5,[sp,#0x3f]
;;;332    modbus_registers[12]=(char)(net_Uc/256);				//Πεγ7
0000a2  4dde              LDR      r5,|L2.1052|
0000a4  f9b55000          LDRSH    r5,[r5,#0]  ; net_Uc
0000a8  ea4f76e5          ASR      r6,r5,#31
0000ac  eb056616          ADD      r6,r5,r6,LSR #24
0000b0  ea4f2726          ASR      r7,r6,#8
0000b4  f88d7040          STRB     r7,[sp,#0x40]
;;;333    modbus_registers[13]=(char)(net_Uc%256);
0000b8  f88d5041          STRB     r5,[sp,#0x41]
;;;334    modbus_registers[14]=(char)(net_F3/256);				//Πεγ8
0000bc  4dd8              LDR      r5,|L2.1056|
0000be  f9b55000          LDRSH    r5,[r5,#0]  ; net_F3
0000c2  ea4f76e5          ASR      r6,r5,#31
0000c6  eb056616          ADD      r6,r5,r6,LSR #24
0000ca  ea4f2726          ASR      r7,r6,#8
0000ce  f88d7042          STRB     r7,[sp,#0x42]
;;;335    modbus_registers[15]=(char)(net_F3%256);
0000d2  f88d5043          STRB     r5,[sp,#0x43]
;;;336    modbus_registers[16]=(char)(load_I/256);				//Πεγ9
0000d6  f88d3044          STRB     r3,[sp,#0x44]
;;;337    modbus_registers[17]=(char)(load_I%256);
0000da  f88d4045          STRB     r4,[sp,#0x45]
;;;338    modbus_registers[18]=(char)(load_I/256);				//Πεγ10
0000de  f88d3046          STRB     r3,[sp,#0x46]
;;;339    modbus_registers[19]=(char)(load_I%256);
0000e2  f88d4047          STRB     r4,[sp,#0x47]
;;;340    modbus_registers[20]=(char)((LPC_RTC->YEAR)/256);			//Πεγ11
0000e6  4dcf              LDR      r5,|L2.1060|
0000e8  8bae              LDRH     r6,[r5,#0x1c]
0000ea  ea4f2616          LSR      r6,r6,#8
0000ee  f88d6048          STRB     r6,[sp,#0x48]
;;;341    modbus_registers[21]=(char)((LPC_RTC->YEAR)%256);
0000f2  8bae              LDRH     r6,[r5,#0x1c]
0000f4  f88d6049          STRB     r6,[sp,#0x49]
;;;342    modbus_registers[22]=(char)((LPC_RTC->MONTH)/256);		//Πεγ12
0000f8  7e2e              LDRB     r6,[r5,#0x18]
0000fa  f04f0600          MOV      r6,#0
0000fe  f88d604a          STRB     r6,[sp,#0x4a]
;;;343    modbus_registers[23]=(char)((LPC_RTC->MONTH)%256);
000102  7e2f              LDRB     r7,[r5,#0x18]
000104  f88d704b          STRB     r7,[sp,#0x4b]
;;;344    modbus_registers[24]=(char)((LPC_RTC->DOM)/256);			//Πεγ13
000108  7b2f              LDRB     r7,[r5,#0xc]
00010a  f88d604c          STRB     r6,[sp,#0x4c]
;;;345    modbus_registers[25]=(char)((LPC_RTC->DOM)%256);
00010e  7b2f              LDRB     r7,[r5,#0xc]
000110  f88d704d          STRB     r7,[sp,#0x4d]
;;;346    modbus_registers[26]=(char)((LPC_RTC->HOUR)/256);			//Πεγ14
000114  7a2f              LDRB     r7,[r5,#8]
000116  f88d604e          STRB     r6,[sp,#0x4e]
;;;347    modbus_registers[27]=(char)((LPC_RTC->HOUR)%256);
00011a  7a2f              LDRB     r7,[r5,#8]
00011c  f88d704f          STRB     r7,[sp,#0x4f]
;;;348    modbus_registers[28]=(char)((LPC_RTC->MIN)/256);			//Πεγ15
000120  792f              LDRB     r7,[r5,#4]
000122  f88d6050          STRB     r6,[sp,#0x50]
;;;349    modbus_registers[29]=(char)((LPC_RTC->MIN)%256);
000126  792f              LDRB     r7,[r5,#4]
000128  f88d7051          STRB     r7,[sp,#0x51]
;;;350    modbus_registers[30]=(char)((LPC_RTC->SEC)/256);			//Πεγ16
00012c  782f              LDRB     r7,[r5,#0]
00012e  f88d6052          STRB     r6,[sp,#0x52]
;;;351    modbus_registers[31]=(char)((LPC_RTC->SEC)%256);
000132  782d              LDRB     r5,[r5,#0]
000134  f88d5053          STRB     r5,[sp,#0x53]
;;;352    modbus_registers[32]=(char)(load_I/256);				//Πεγ17
000138  f88d3054          STRB     r3,[sp,#0x54]
;;;353    modbus_registers[33]=(char)(load_I%256);
00013c  f88d4055          STRB     r4,[sp,#0x55]
;;;354    modbus_registers[34]=(char)(load_I/256);				//Πεγ18
000140  f88d3056          STRB     r3,[sp,#0x56]
;;;355    modbus_registers[35]=(char)(load_I%256);
000144  f88d4057          STRB     r4,[sp,#0x57]
;;;356    modbus_registers[36]=(char)(load_I/256);		//Πεγ19
000148  f88d3058          STRB     r3,[sp,#0x58]
;;;357    modbus_registers[37]=(char)(load_I%256);
00014c  f88d4059          STRB     r4,[sp,#0x59]
;;;358    modbus_registers[38]=(char)(NUMIST/256);		//Πεγ20
000150  4db5              LDR      r5,|L2.1064|
000152  f9b55000          LDRSH    r5,[r5,#0]  ; NUMIST
000156  ea4f76e5          ASR      r6,r5,#31
00015a  eb056616          ADD      r6,r5,r6,LSR #24
00015e  ea4f2726          ASR      r7,r6,#8
000162  f88d705a          STRB     r7,[sp,#0x5a]
;;;359    modbus_registers[39]=(char)(NUMIST%256);
000166  f88d505b          STRB     r5,[sp,#0x5b]
;;;360    modbus_registers[40]=(char)(PAR/256);		//Πεγ21
00016a  4db0              LDR      r5,|L2.1068|
00016c  f9b55000          LDRSH    r5,[r5,#0]  ; PAR
000170  ea4f76e5          ASR      r6,r5,#31
000174  eb056616          ADD      r6,r5,r6,LSR #24
000178  ea4f2726          ASR      r7,r6,#8
00017c  f88d705c          STRB     r7,[sp,#0x5c]
;;;361    modbus_registers[41]=(char)(PAR%256);
000180  f88d505d          STRB     r5,[sp,#0x5d]
;;;362    modbus_registers[42]=(char)(ZV_ON/256);		//Πεγ22
000184  4daa              LDR      r5,|L2.1072|
000186  f9b55000          LDRSH    r5,[r5,#0]  ; ZV_ON
00018a  ea4f76e5          ASR      r6,r5,#31
00018e  eb056616          ADD      r6,r5,r6,LSR #24
000192  ea4f2726          ASR      r7,r6,#8
000196  f88d705e          STRB     r7,[sp,#0x5e]
;;;363    modbus_registers[43]=(char)(ZV_ON%256);
00019a  f88d505f          STRB     r5,[sp,#0x5f]
;;;364    modbus_registers[44]=(char)(TERMOKOMPENS/256);		//Πεγ23
00019e  4da5              LDR      r5,|L2.1076|
0001a0  f9b55000          LDRSH    r5,[r5,#0]  ; TERMOKOMPENS
0001a4  ea4f76e5          ASR      r6,r5,#31
0001a8  eb056616          ADD      r6,r5,r6,LSR #24
0001ac  ea4f2726          ASR      r7,r6,#8
0001b0  f88d7060          STRB     r7,[sp,#0x60]
;;;365    modbus_registers[45]=(char)(TERMOKOMPENS%256);
0001b4  f88d5061          STRB     r5,[sp,#0x61]
;;;366    modbus_registers[46]=(char)(UBM_AV/256);		//Πεγ24
0001b8  4d9f              LDR      r5,|L2.1080|
0001ba  f9b55000          LDRSH    r5,[r5,#0]  ; UBM_AV
0001be  ea4f76e5          ASR      r6,r5,#31
0001c2  eb056616          ADD      r6,r5,r6,LSR #24
0001c6  ea4f2726          ASR      r7,r6,#8
0001ca  f88d7062          STRB     r7,[sp,#0x62]
;;;367    modbus_registers[47]=(char)(UBM_AV%256);
0001ce  f88d5063          STRB     r5,[sp,#0x63]
;;;368    modbus_registers[48]=(char)(load_I/256);		//Πεγ25
0001d2  f88d3064          STRB     r3,[sp,#0x64]
;;;369    modbus_registers[49]=(char)(load_I%256);
0001d6  f88d4065          STRB     r4,[sp,#0x65]
;;;370    modbus_registers[50]=(char)(load_I/256);		//Πεγ26
0001da  f88d3066          STRB     r3,[sp,#0x66]
;;;371    modbus_registers[51]=(char)(load_I%256);
0001de  f88d4067          STRB     r4,[sp,#0x67]
;;;372    modbus_registers[52]=(char)(load_I/256);		//Πεγ27
0001e2  f88d3068          STRB     r3,[sp,#0x68]
;;;373    modbus_registers[53]=(char)(load_I%256);
0001e6  f88d4069          STRB     r4,[sp,#0x69]
;;;374    modbus_registers[54]=(char)(load_I/256);		//Πεγ28
0001ea  f88d306a          STRB     r3,[sp,#0x6a]
;;;375    modbus_registers[55]=(char)(load_I%256);
0001ee  f88d406b          STRB     r4,[sp,#0x6b]
;;;376    modbus_registers[56]=(char)(load_I/256);		//Πεγ29
0001f2  f88d306c          STRB     r3,[sp,#0x6c]
;;;377    modbus_registers[57]=(char)(load_I%256);
0001f6  f88d406d          STRB     r4,[sp,#0x6d]
;;;378    modbus_registers[58]=(char)(TBAT/256);			//Πεγ30
0001fa  4d90              LDR      r5,|L2.1084|
0001fc  f9b55000          LDRSH    r5,[r5,#0]  ; TBAT
000200  ea4f76e5          ASR      r6,r5,#31
000204  eb056616          ADD      r6,r5,r6,LSR #24
000208  ea4f2726          ASR      r7,r6,#8
00020c  f88d706e          STRB     r7,[sp,#0x6e]
;;;379    modbus_registers[59]=(char)(TBAT%256);
000210  f88d506f          STRB     r5,[sp,#0x6f]
;;;380    modbus_registers[60]=(char)(UMAX/256);			//Πεγ31
000214  4d8a              LDR      r5,|L2.1088|
000216  f9b55000          LDRSH    r5,[r5,#0]  ; UMAX
00021a  ea4f76e5          ASR      r6,r5,#31
00021e  eb056616          ADD      r6,r5,r6,LSR #24
000222  ea4f2726          ASR      r7,r6,#8
000226  f88d7070          STRB     r7,[sp,#0x70]
;;;381    modbus_registers[61]=(char)(UMAX%256);
00022a  f88d5071          STRB     r5,[sp,#0x71]
;;;382    modbus_registers[62]=(char)((UB20-DU)/256);		//Πεγ32
00022e  4d85              LDR      r5,|L2.1092|
000230  4e85              LDR      r6,|L2.1096|
000232  f9b55000          LDRSH    r5,[r5,#0]  ; UB20
000236  f9b66000          LDRSH    r6,[r6,#0]  ; DU
00023a  eba50606          SUB      r6,r5,r6
00023e  ea4f77e6          ASR      r7,r6,#31
000242  eb066717          ADD      r7,r6,r7,LSR #24
000246  ea4f2c27          ASR      r12,r7,#8
00024a  f88dc072          STRB     r12,[sp,#0x72]
;;;383    modbus_registers[63]=(char)((UB20-DU)%256);
00024e  f88d6073          STRB     r6,[sp,#0x73]
;;;384    modbus_registers[64]=(char)(UB0/256);			//Πεγ33
000252  4e7e              LDR      r6,|L2.1100|
000254  f9b66000          LDRSH    r6,[r6,#0]  ; UB0
000258  ea4f77e6          ASR      r7,r6,#31
00025c  eb066717          ADD      r7,r6,r7,LSR #24
000260  ea4f2c27          ASR      r12,r7,#8
000264  f88dc074          STRB     r12,[sp,#0x74]
;;;385    modbus_registers[65]=(char)(UB0%256);
000268  f88d6075          STRB     r6,[sp,#0x75]
;;;386    modbus_registers[66]=(char)(UB20/256);			//Πεγ34
00026c  ea4f76e5          ASR      r6,r5,#31
000270  eb056616          ADD      r6,r5,r6,LSR #24
000274  ea4f2726          ASR      r7,r6,#8
000278  f88d7076          STRB     r7,[sp,#0x76]
;;;387    modbus_registers[67]=(char)(UB20%256);
00027c  f88d5077          STRB     r5,[sp,#0x77]
;;;388    modbus_registers[68]=(char)(USIGN/256);		//Πεγ35
000280  4d73              LDR      r5,|L2.1104|
000282  f9b55000          LDRSH    r5,[r5,#0]  ; USIGN
000286  ea4f76e5          ASR      r6,r5,#31
00028a  eb056616          ADD      r6,r5,r6,LSR #24
00028e  ea4f2726          ASR      r7,r6,#8
000292  f88d7078          STRB     r7,[sp,#0x78]
;;;389    modbus_registers[69]=(char)(USIGN%256);
000296  f88d5079          STRB     r5,[sp,#0x79]
;;;390    modbus_registers[70]=(char)(UMN/256);		//Πεγ36
00029a  4d6e              LDR      r5,|L2.1108|
00029c  f9b55000          LDRSH    r5,[r5,#0]  ; UMN
0002a0  ea4f76e5          ASR      r6,r5,#31
0002a4  eb056616          ADD      r6,r5,r6,LSR #24
0002a8  ea4f2726          ASR      r7,r6,#8
0002ac  f88d707a          STRB     r7,[sp,#0x7a]
;;;391    modbus_registers[71]=(char)(UMN%256);
0002b0  f88d507b          STRB     r5,[sp,#0x7b]
;;;392    modbus_registers[72]=(char)(U0B/256);		//Πεγ37
0002b4  4d68              LDR      r5,|L2.1112|
0002b6  f9b55000          LDRSH    r5,[r5,#0]  ; U0B
0002ba  ea4f76e5          ASR      r6,r5,#31
0002be  eb056616          ADD      r6,r5,r6,LSR #24
0002c2  ea4f2726          ASR      r7,r6,#8
0002c6  f88d707c          STRB     r7,[sp,#0x7c]
;;;393    modbus_registers[73]=(char)(U0B%256);
0002ca  f88d507d          STRB     r5,[sp,#0x7d]
;;;394    modbus_registers[74]=(char)(IKB/256);		//Πεγ38
0002ce  4d63              LDR      r5,|L2.1116|
0002d0  f9b55000          LDRSH    r5,[r5,#0]  ; IKB
0002d4  ea4f76e5          ASR      r6,r5,#31
0002d8  eb056616          ADD      r6,r5,r6,LSR #24
0002dc  ea4f2726          ASR      r7,r6,#8
0002e0  f88d707e          STRB     r7,[sp,#0x7e]
;;;395    modbus_registers[75]=(char)(IKB%256);
0002e4  f88d507f          STRB     r5,[sp,#0x7f]
;;;396    modbus_registers[76]=(char)(IZMAX/256);		//Πεγ39
0002e8  4d5d              LDR      r5,|L2.1120|
0002ea  f9b55000          LDRSH    r5,[r5,#0]  ; IZMAX
0002ee  ea4f76e5          ASR      r6,r5,#31
0002f2  eb056616          ADD      r6,r5,r6,LSR #24
0002f6  ea4f2726          ASR      r7,r6,#8
0002fa  f88d7080          STRB     r7,[sp,#0x80]
;;;397    modbus_registers[77]=(char)(IZMAX%256);
0002fe  f88d5081          STRB     r5,[sp,#0x81]
;;;398    modbus_registers[78]=(char)(IMAX/256);		//Πεγ40
000302  4d58              LDR      r5,|L2.1124|
000304  f9b55000          LDRSH    r5,[r5,#0]  ; IMAX
000308  ea4f76e5          ASR      r6,r5,#31
00030c  eb056616          ADD      r6,r5,r6,LSR #24
000310  ea4f2726          ASR      r7,r6,#8
000314  f88d7082          STRB     r7,[sp,#0x82]
;;;399    modbus_registers[79]=(char)(IMAX%256);
000318  f88d5083          STRB     r5,[sp,#0x83]
;;;400    modbus_registers[80]=(char)(IMIN/256);		//Πεγ41
00031c  4d52              LDR      r5,|L2.1128|
00031e  f9b55000          LDRSH    r5,[r5,#0]  ; IMIN
000322  ea4f76e5          ASR      r6,r5,#31
000326  eb056616          ADD      r6,r5,r6,LSR #24
00032a  ea4f2726          ASR      r7,r6,#8
00032e  f88d7084          STRB     r7,[sp,#0x84]
;;;401    modbus_registers[81]=(char)(IMIN%256);
000332  f88d5085          STRB     r5,[sp,#0x85]
;;;402    modbus_registers[82]=(char)(UVZ/256);		//Πεγ42
000336  4d4d              LDR      r5,|L2.1132|
000338  f9b55000          LDRSH    r5,[r5,#0]  ; UVZ
00033c  ea4f76e5          ASR      r6,r5,#31
000340  eb056616          ADD      r6,r5,r6,LSR #24
000344  ea4f2726          ASR      r7,r6,#8
000348  f88d7086          STRB     r7,[sp,#0x86]
;;;403    modbus_registers[83]=(char)(UVZ%256);
00034c  f88d5087          STRB     r5,[sp,#0x87]
;;;404    modbus_registers[84]=(char)(TZAS/256);		//Πεγ43
000350  4d47              LDR      r5,|L2.1136|
000352  f9b55000          LDRSH    r5,[r5,#0]  ; TZAS
000356  ea4f76e5          ASR      r6,r5,#31
00035a  eb056616          ADD      r6,r5,r6,LSR #24
00035e  ea4f2726          ASR      r7,r6,#8
000362  f88d7088          STRB     r7,[sp,#0x88]
;;;405    modbus_registers[85]=(char)(TZAS%256);
000366  f88d5089          STRB     r5,[sp,#0x89]
;;;406    modbus_registers[86]=(char)(TMAX/256);		//Πεγ44
00036a  4d42              LDR      r5,|L2.1140|
00036c  f9b55000          LDRSH    r5,[r5,#0]  ; TMAX
000370  ea4f76e5          ASR      r6,r5,#31
000374  eb056616          ADD      r6,r5,r6,LSR #24
000378  ea4f2726          ASR      r7,r6,#8
00037c  f88d708a          STRB     r7,[sp,#0x8a]
;;;407    modbus_registers[87]=(char)(TMAX%256);
000380  f88d508b          STRB     r5,[sp,#0x8b]
;;;408    modbus_registers[88]=(char)(TSIGN/256);		//Πεγ45
000384  4d3c              LDR      r5,|L2.1144|
000386  f9b55000          LDRSH    r5,[r5,#0]  ; TSIGN
00038a  ea4f76e5          ASR      r6,r5,#31
00038e  eb056616          ADD      r6,r5,r6,LSR #24
000392  ea4f2726          ASR      r7,r6,#8
000396  f88d708c          STRB     r7,[sp,#0x8c]
;;;409    modbus_registers[89]=(char)(TSIGN%256);
00039a  f88d508d          STRB     r5,[sp,#0x8d]
;;;410    modbus_registers[90]=(char)(TBATMAX/256);		//Πεγ46
00039e  4d37              LDR      r5,|L2.1148|
0003a0  f9b55000          LDRSH    r5,[r5,#0]  ; TBATMAX
0003a4  ea4f76e5          ASR      r6,r5,#31
0003a8  eb056616          ADD      r6,r5,r6,LSR #24
0003ac  ea4f2726          ASR      r7,r6,#8
0003b0  f88d708e          STRB     r7,[sp,#0x8e]
;;;411    modbus_registers[91]=(char)(TBATMAX%256);
0003b4  f88d508f          STRB     r5,[sp,#0x8f]
;;;412    modbus_registers[92]=(char)(TBATSIGN/256);		//Πεγ47
0003b8  4d31              LDR      r5,|L2.1152|
0003ba  f9b55000          LDRSH    r5,[r5,#0]  ; TBATSIGN
0003be  ea4f76e5          ASR      r6,r5,#31
0003c2  eb056616          ADD      r6,r5,r6,LSR #24
0003c6  ea4f2726          ASR      r7,r6,#8
0003ca  f88d7090          STRB     r7,[sp,#0x90]
;;;413    modbus_registers[93]=(char)(TBATSIGN%256);
0003ce  f88d5091          STRB     r5,[sp,#0x91]
;;;414    modbus_registers[94]=(char)(load_I/256);		//Πεγ48
0003d2  f88d3092          STRB     r3,[sp,#0x92]
;;;415    modbus_registers[95]=(char)(load_I%256);
0003d6  f88d4093          STRB     r4,[sp,#0x93]
;;;416    modbus_registers[96]=(char)(load_I/256);		//Πεγ49
0003da  f88d3094          STRB     r3,[sp,#0x94]
;;;417    modbus_registers[97]=(char)(load_I%256);
0003de  f88d4095          STRB     r4,[sp,#0x95]
;;;418    modbus_registers[98]=(char)(load_I/256);		//Πεγ50
0003e2  f88d3096          STRB     r3,[sp,#0x96]
;;;419    modbus_registers[99]=(char)(load_I%256);
0003e6  f88d4097          STRB     r4,[sp,#0x97]
;;;420    
;;;421    modbus_tx_buff[0]=adr;
0003ea  f88d0000          STRB     r0,[sp,#0]
;;;422    modbus_tx_buff[1]=func;
0003ee  f88d1001          STRB     r1,[sp,#1]
;;;423    modbus_tx_buff[2]=(char)(reg_adr/256);
0003f2  ea4f2012          LSR      r0,r2,#8
0003f6  f88d0002          STRB     r0,[sp,#2]
;;;424    modbus_tx_buff[3]=(char)(reg_adr%256);
0003fa  f88d2003          STRB     r2,[sp,#3]
;;;425    //modbus_tx_buff[4]=(char)(reg_quantity/256);
;;;426    //modbus_tx_buff[5]=(char)(reg_quantity%256);
;;;427    /*
;;;428    modbus_registers[0]=0x10;
;;;429    modbus_registers[1]=0x11;
;;;430    modbus_registers[2]=0x12;
;;;431    modbus_registers[3]=0x13;
;;;432    modbus_registers[4]=0x14;
;;;433    modbus_registers[5]=0x15;
;;;434    */
;;;435    
;;;436    mem_copy((char*)&modbus_tx_buff[4],(char*)&modbus_registers[(reg_adr-1)*2],2);
0003fe  a80d              ADD      r0,sp,#0x34
000400  e040              B        |L2.1156|
000402  0000              DCW      0x0000
                  |L2.1028|
                          DCD      load_U
                  |L2.1032|
                          DCD      load_I
                  |L2.1036|
                          DCD      Ib_ips_termokompensat
                  |L2.1040|
                          DCD      t_ext
                  |L2.1044|
                          DCD      net_Ua
                  |L2.1048|
                          DCD      net_Ub
                  |L2.1052|
                          DCD      net_Uc
                  |L2.1056|
                          DCD      net_F3
                  |L2.1060|
                          DCD      0x40024020
                  |L2.1064|
                          DCD      NUMIST
                  |L2.1068|
                          DCD      PAR
                  |L2.1072|
                          DCD      ZV_ON
                  |L2.1076|
                          DCD      TERMOKOMPENS
                  |L2.1080|
                          DCD      UBM_AV
                  |L2.1084|
                          DCD      TBAT
                  |L2.1088|
                          DCD      UMAX
                  |L2.1092|
                          DCD      UB20
                  |L2.1096|
                          DCD      ||DU||
                  |L2.1100|
                          DCD      UB0
                  |L2.1104|
                          DCD      USIGN
                  |L2.1108|
                          DCD      UMN
                  |L2.1112|
                          DCD      U0B
                  |L2.1116|
                          DCD      IKB
                  |L2.1120|
                          DCD      IZMAX
                  |L2.1124|
                          DCD      IMAX
                  |L2.1128|
                          DCD      IMIN
                  |L2.1132|
                          DCD      UVZ
                  |L2.1136|
                          DCD      TZAS
                  |L2.1140|
                          DCD      TMAX
                  |L2.1144|
                          DCD      TSIGN
                  |L2.1148|
                          DCD      TBATMAX
                  |L2.1152|
                          DCD      TBATSIGN
                  |L2.1156|
000484  f1a20201          SUB      r2,r2,#1
000488  eb000142          ADD      r1,r0,r2,LSL #1
00048c  f04f0202          MOV      r2,#2
000490  466d              MOV      r5,sp
000492  a801              ADD      r0,sp,#4
000494  f7fffffe          BL       mem_copy
;;;437    
;;;438    crc_temp=CRC16_2(modbus_tx_buff,6);
000498  2106              MOVS     r1,#6
00049a  4668              MOV      r0,sp
00049c  f7fffffe          BL       CRC16_2
;;;439    
;;;440    modbus_tx_buff[6]=crc_temp%256;
0004a0  f88d0006          STRB     r0,[sp,#6]
;;;441    modbus_tx_buff[7]=crc_temp/256;
0004a4  ea4f2010          LSR      r0,r0,#8
0004a8  f88d0007          STRB     r0,[sp,#7]
;;;442    
;;;443    for (i=0;i<8;i++)
0004ac  f04f0400          MOV      r4,#0
                  |L2.1200|
;;;444    	{
;;;445    	putchar0(modbus_tx_buff[i]);
0004b0  5d28              LDRB     r0,[r5,r4]
0004b2  f7fffffe          BL       putchar0
0004b6  f1040401          ADD      r4,r4,#1              ;443
0004ba  b2e4              UXTB     r4,r4                 ;443
0004bc  2c08              CMP      r4,#8                 ;443
0004be  d3f7              BCC      |L2.1200|
;;;446    	}
;;;447    for (i=0;i<8;i++)
0004c0  f04f0400          MOV      r4,#0
                  |L2.1220|
;;;448    	{
;;;449    	putchar_sc16is700(modbus_tx_buff[i]);
0004c4  5d28              LDRB     r0,[r5,r4]
0004c6  f7fffffe          BL       putchar_sc16is700
0004ca  f1040401          ADD      r4,r4,#1              ;447
0004ce  b2e4              UXTB     r4,r4                 ;447
0004d0  2c08              CMP      r4,#8                 ;447
0004d2  d3f7              BCC      |L2.1220|
;;;450    	}
;;;451    }
0004d4  b033              ADD      sp,sp,#0xcc
0004d6  bdf0              POP      {r4-r7,pc}
;;;452    
                          ENDP


                          AREA ||area_number.3||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.3||, ||.text||
                  modbus_registers_transmit PROC
;;;311    //-----------------------------------------------
;;;312    void modbus_register_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;313    {
;;;314    char modbus_registers[150];
;;;315    char modbus_tx_buff[50];
;;;316    unsigned short crc_temp;
;;;317    char i;
;;;318    
;;;319    
;;;320    modbus_registers[0]=(char)(load_U/256);					//Πεγ1
000004  b0b2              SUB      sp,sp,#0xc8
000006  4698              MOV      r8,r3
000008  4bff              LDR      r3,|L3.1032|
00000a  f9b33000          LDRSH    r3,[r3,#0]  ; load_U
00000e  ea4f74e3          ASR      r4,r3,#31
000012  eb036414          ADD      r4,r3,r4,LSR #24
000016  ea4f2524          ASR      r5,r4,#8
;;;321    modbus_registers[1]=(char)(load_U%256);
00001a  f88d5064          STRB     r5,[sp,#0x64]
;;;322    modbus_registers[2]=(char)(load_I/256);					//Πεγ2
00001e  f88d3065          STRB     r3,[sp,#0x65]
000022  4bfa              LDR      r3,|L3.1036|
000024  f9b33000          LDRSH    r3,[r3,#0]  ; load_I
000028  ea4f74e3          ASR      r4,r3,#31
00002c  eb036514          ADD      r5,r3,r4,LSR #24
000030  f3c52407          UBFX     r4,r5,#8,#8
;;;323    modbus_registers[3]=(char)(load_I%256);
000034  f88d4066          STRB     r4,[sp,#0x66]
000038  b2dd              UXTB     r5,r3
;;;324    modbus_registers[4]=(char)(Ib_ips_termokompensat/256);		//Πεγ3
00003a  f88d5067          STRB     r5,[sp,#0x67]
00003e  4bf4              LDR      r3,|L3.1040|
000040  f9b36000          LDRSH    r6,[r3,#0]  ; Ib_ips_termokompensat
000044  ea4f73e6          ASR      r3,r6,#31
000048  eb066313          ADD      r3,r6,r3,LSR #24
00004c  ea4f2723          ASR      r7,r3,#8
;;;325    modbus_registers[5]=(char)(Ib_ips_termokompensat%256);
000050  f88d7068          STRB     r7,[sp,#0x68]
;;;326    modbus_registers[6]=(char)(t_ext[0]/256);				//Πεγ4
000054  4633              MOV      r3,r6
000056  f88d3069          STRB     r3,[sp,#0x69]
00005a  4bee              LDR      r3,|L3.1044|
00005c  f9b33000          LDRSH    r3,[r3,#0]  ; t_ext
000060  ea4f76e3          ASR      r6,r3,#31
000064  eb036616          ADD      r6,r3,r6,LSR #24
000068  ea4f2726          ASR      r7,r6,#8
;;;327    modbus_registers[7]=(char)(t_ext[0]%256);
00006c  f88d706a          STRB     r7,[sp,#0x6a]
;;;328    modbus_registers[8]=(char)(net_Ua/256);					//Πεγ5
000070  f88d306b          STRB     r3,[sp,#0x6b]
000074  4be8              LDR      r3,|L3.1048|
000076  f9b33000          LDRSH    r3,[r3,#0]  ; net_Ua
00007a  ea4f76e3          ASR      r6,r3,#31
00007e  eb036616          ADD      r6,r3,r6,LSR #24
000082  ea4f2726          ASR      r7,r6,#8
;;;329    modbus_registers[9]=(char)(net_Ua%256);		 	
000086  f88d706c          STRB     r7,[sp,#0x6c]
;;;330    modbus_registers[10]=(char)(net_Ub/256);				//Πεγ6
00008a  f88d306d          STRB     r3,[sp,#0x6d]
00008e  4be3              LDR      r3,|L3.1052|
000090  f9b33000          LDRSH    r3,[r3,#0]  ; net_Ub
000094  ea4f76e3          ASR      r6,r3,#31
000098  eb036616          ADD      r6,r3,r6,LSR #24
00009c  ea4f2726          ASR      r7,r6,#8
;;;331    modbus_registers[11]=(char)(net_Ub%256);
0000a0  f88d706e          STRB     r7,[sp,#0x6e]
;;;332    modbus_registers[12]=(char)(net_Uc/256);				//Πεγ7
0000a4  f88d306f          STRB     r3,[sp,#0x6f]
0000a8  4bdd              LDR      r3,|L3.1056|
0000aa  f9b33000          LDRSH    r3,[r3,#0]  ; net_Uc
0000ae  ea4f76e3          ASR      r6,r3,#31
0000b2  eb036616          ADD      r6,r3,r6,LSR #24
0000b6  ea4f2726          ASR      r7,r6,#8
;;;333    modbus_registers[13]=(char)(net_Uc%256);
0000ba  f88d7070          STRB     r7,[sp,#0x70]
;;;334    modbus_registers[14]=(char)(net_F3/256);				//Πεγ8
0000be  f88d3071          STRB     r3,[sp,#0x71]
0000c2  4bd8              LDR      r3,|L3.1060|
0000c4  f9b33000          LDRSH    r3,[r3,#0]  ; net_F3
0000c8  ea4f76e3          ASR      r6,r3,#31
0000cc  eb036616          ADD      r6,r3,r6,LSR #24
0000d0  ea4f2726          ASR      r7,r6,#8
;;;335    modbus_registers[15]=(char)(net_F3%256);
0000d4  f88d7072          STRB     r7,[sp,#0x72]
;;;336    modbus_registers[16]=(char)(load_I/256);				//Πεγ9
0000d8  f88d3073          STRB     r3,[sp,#0x73]
;;;337    modbus_registers[17]=(char)(load_I%256);
0000dc  f88d4074          STRB     r4,[sp,#0x74]
;;;338    modbus_registers[18]=(char)(load_I/256);				//Πεγ10
0000e0  f88d5075          STRB     r5,[sp,#0x75]
;;;339    modbus_registers[19]=(char)(load_I%256);
0000e4  f88d4076          STRB     r4,[sp,#0x76]
;;;340    modbus_registers[20]=(char)((LPC_RTC->YEAR)/256);			//Πεγ11
0000e8  f88d5077          STRB     r5,[sp,#0x77]
0000ec  4ece              LDR      r6,|L3.1064|
0000ee  8bb3              LDRH     r3,[r6,#0x1c]
0000f0  ea4f2313          LSR      r3,r3,#8
;;;341    modbus_registers[21]=(char)((LPC_RTC->YEAR)%256);
0000f4  f88d3078          STRB     r3,[sp,#0x78]
;;;342    modbus_registers[22]=(char)((LPC_RTC->MONTH)/256);		//Πεγ12
0000f8  8bb3              LDRH     r3,[r6,#0x1c]
0000fa  f88d3079          STRB     r3,[sp,#0x79]
0000fe  7e33              LDRB     r3,[r6,#0x18]
000100  f04f0300          MOV      r3,#0
;;;343    modbus_registers[23]=(char)((LPC_RTC->MONTH)%256);
000104  f88d307a          STRB     r3,[sp,#0x7a]
;;;344    modbus_registers[24]=(char)((LPC_RTC->DOM)/256);			//Πεγ13
000108  7e37              LDRB     r7,[r6,#0x18]
00010a  f88d707b          STRB     r7,[sp,#0x7b]
;;;345    modbus_registers[25]=(char)((LPC_RTC->DOM)%256);
00010e  7b37              LDRB     r7,[r6,#0xc]
000110  f88d307c          STRB     r3,[sp,#0x7c]
;;;346    modbus_registers[26]=(char)((LPC_RTC->HOUR)/256);			//Πεγ14
000114  7b37              LDRB     r7,[r6,#0xc]
000116  f88d707d          STRB     r7,[sp,#0x7d]
;;;347    modbus_registers[27]=(char)((LPC_RTC->HOUR)%256);
00011a  7a37              LDRB     r7,[r6,#8]
00011c  f88d307e          STRB     r3,[sp,#0x7e]
;;;348    modbus_registers[28]=(char)((LPC_RTC->MIN)/256);			//Πεγ15
000120  7a37              LDRB     r7,[r6,#8]
000122  f88d707f          STRB     r7,[sp,#0x7f]
;;;349    modbus_registers[29]=(char)((LPC_RTC->MIN)%256);
000126  7937              LDRB     r7,[r6,#4]
000128  f88d3080          STRB     r3,[sp,#0x80]
;;;350    modbus_registers[30]=(char)((LPC_RTC->SEC)/256);			//Πεγ16
00012c  7937              LDRB     r7,[r6,#4]
00012e  f88d7081          STRB     r7,[sp,#0x81]
;;;351    modbus_registers[31]=(char)((LPC_RTC->SEC)%256);
000132  7837              LDRB     r7,[r6,#0]
000134  f88d3082          STRB     r3,[sp,#0x82]
;;;352    modbus_registers[32]=(char)(load_I/256);				//Πεγ17
000138  7833              LDRB     r3,[r6,#0]
00013a  f88d3083          STRB     r3,[sp,#0x83]
;;;353    modbus_registers[33]=(char)(load_I%256);
00013e  f88d4084          STRB     r4,[sp,#0x84]
;;;354    modbus_registers[34]=(char)(load_I/256);				//Πεγ18
000142  f88d5085          STRB     r5,[sp,#0x85]
;;;355    modbus_registers[35]=(char)(load_I%256);
000146  f88d4086          STRB     r4,[sp,#0x86]
;;;356    modbus_registers[36]=(char)(load_I/256);		//Πεγ19
00014a  f88d5087          STRB     r5,[sp,#0x87]
;;;357    modbus_registers[37]=(char)(load_I%256);
00014e  f88d4088          STRB     r4,[sp,#0x88]
;;;358    modbus_registers[38]=(char)(NUMIST/256);		//Πεγ20
000152  f88d5089          STRB     r5,[sp,#0x89]
000156  4bb5              LDR      r3,|L3.1068|
000158  f9b33000          LDRSH    r3,[r3,#0]  ; NUMIST
00015c  ea4f76e3          ASR      r6,r3,#31
000160  eb036616          ADD      r6,r3,r6,LSR #24
000164  ea4f2726          ASR      r7,r6,#8
;;;359    modbus_registers[39]=(char)(NUMIST%256);
000168  f88d708a          STRB     r7,[sp,#0x8a]
;;;360    modbus_registers[40]=(char)(PAR/256);		//Πεγ21
00016c  f88d308b          STRB     r3,[sp,#0x8b]
000170  4baf              LDR      r3,|L3.1072|
000172  f9b33000          LDRSH    r3,[r3,#0]  ; PAR
000176  ea4f76e3          ASR      r6,r3,#31
00017a  eb036616          ADD      r6,r3,r6,LSR #24
00017e  ea4f2726          ASR      r7,r6,#8
;;;361    modbus_registers[41]=(char)(PAR%256);
000182  f88d708c          STRB     r7,[sp,#0x8c]
;;;362    modbus_registers[42]=(char)(ZV_ON/256);		//Πεγ22
000186  f88d308d          STRB     r3,[sp,#0x8d]
00018a  4baa              LDR      r3,|L3.1076|
00018c  f9b33000          LDRSH    r3,[r3,#0]  ; ZV_ON
000190  ea4f76e3          ASR      r6,r3,#31
000194  eb036616          ADD      r6,r3,r6,LSR #24
000198  ea4f2726          ASR      r7,r6,#8
;;;363    modbus_registers[43]=(char)(ZV_ON%256);
00019c  f88d708e          STRB     r7,[sp,#0x8e]
;;;364    modbus_registers[44]=(char)(TERMOKOMPENS/256);		//Πεγ23
0001a0  f88d308f          STRB     r3,[sp,#0x8f]
0001a4  4ba4              LDR      r3,|L3.1080|
0001a6  f9b33000          LDRSH    r3,[r3,#0]  ; TERMOKOMPENS
0001aa  ea4f76e3          ASR      r6,r3,#31
0001ae  eb036616          ADD      r6,r3,r6,LSR #24
0001b2  ea4f2726          ASR      r7,r6,#8
;;;365    modbus_registers[45]=(char)(TERMOKOMPENS%256);
0001b6  f88d7090          STRB     r7,[sp,#0x90]
;;;366    modbus_registers[46]=(char)(UBM_AV/256);		//Πεγ24
0001ba  f88d3091          STRB     r3,[sp,#0x91]
0001be  4b9f              LDR      r3,|L3.1084|
0001c0  f9b33000          LDRSH    r3,[r3,#0]  ; UBM_AV
0001c4  ea4f76e3          ASR      r6,r3,#31
0001c8  eb036616          ADD      r6,r3,r6,LSR #24
0001cc  ea4f2726          ASR      r7,r6,#8
;;;367    modbus_registers[47]=(char)(UBM_AV%256);
0001d0  f88d7092          STRB     r7,[sp,#0x92]
;;;368    modbus_registers[48]=(char)(load_I/256);		//Πεγ25
0001d4  f88d3093          STRB     r3,[sp,#0x93]
;;;369    modbus_registers[49]=(char)(load_I%256);
0001d8  f88d4094          STRB     r4,[sp,#0x94]
;;;370    modbus_registers[50]=(char)(load_I/256);		//Πεγ26
0001dc  f88d5095          STRB     r5,[sp,#0x95]
;;;371    modbus_registers[51]=(char)(load_I%256);
0001e0  f88d4096          STRB     r4,[sp,#0x96]
;;;372    modbus_registers[52]=(char)(load_I/256);		//Πεγ27
0001e4  f88d5097          STRB     r5,[sp,#0x97]
;;;373    modbus_registers[53]=(char)(load_I%256);
0001e8  f88d4098          STRB     r4,[sp,#0x98]
;;;374    modbus_registers[54]=(char)(load_I/256);		//Πεγ28
0001ec  f88d5099          STRB     r5,[sp,#0x99]
;;;375    modbus_registers[55]=(char)(load_I%256);
0001f0  f88d409a          STRB     r4,[sp,#0x9a]
;;;376    modbus_registers[56]=(char)(load_I/256);		//Πεγ29
0001f4  f88d509b          STRB     r5,[sp,#0x9b]
;;;377    modbus_registers[57]=(char)(load_I%256);
0001f8  f88d409c          STRB     r4,[sp,#0x9c]
;;;378    modbus_registers[58]=(char)(TBAT/256);			//Πεγ30
0001fc  f88d509d          STRB     r5,[sp,#0x9d]
000200  4b8f              LDR      r3,|L3.1088|
000202  f9b33000          LDRSH    r3,[r3,#0]  ; TBAT
000206  ea4f76e3          ASR      r6,r3,#31
00020a  eb036616          ADD      r6,r3,r6,LSR #24
00020e  ea4f2726          ASR      r7,r6,#8
;;;379    modbus_registers[59]=(char)(TBAT%256);
000212  f88d709e          STRB     r7,[sp,#0x9e]
;;;380    modbus_registers[60]=(char)(UMAX/256);			//Πεγ31
000216  f88d309f          STRB     r3,[sp,#0x9f]
00021a  4b8a              LDR      r3,|L3.1092|
00021c  f9b33000          LDRSH    r3,[r3,#0]  ; UMAX
000220  ea4f76e3          ASR      r6,r3,#31
000224  eb036616          ADD      r6,r3,r6,LSR #24
000228  ea4f2726          ASR      r7,r6,#8
;;;381    modbus_registers[61]=(char)(UMAX%256);
00022c  f88d70a0          STRB     r7,[sp,#0xa0]
;;;382    modbus_registers[62]=(char)((UB20-DU)/256);		//Πεγ32
000230  f88d30a1          STRB     r3,[sp,#0xa1]
000234  4b84              LDR      r3,|L3.1096|
000236  f9b36000          LDRSH    r6,[r3,#0]  ; UB20
00023a  4b84              LDR      r3,|L3.1100|
00023c  f9b33000          LDRSH    r3,[r3,#0]  ; DU
000240  eba60703          SUB      r7,r6,r3
000244  ea4f73e7          ASR      r3,r7,#31
000248  eb076313          ADD      r3,r7,r3,LSR #24
00024c  ea4f2c23          ASR      r12,r3,#8
;;;383    modbus_registers[63]=(char)((UB20-DU)%256);
000250  f88dc0a2          STRB     r12,[sp,#0xa2]
;;;384    modbus_registers[64]=(char)(UB0/256);			//Πεγ33
000254  463b              MOV      r3,r7
000256  f88d30a3          STRB     r3,[sp,#0xa3]
00025a  4b7d              LDR      r3,|L3.1104|
00025c  f9b37000          LDRSH    r7,[r3,#0]  ; UB0
000260  ea4f73e7          ASR      r3,r7,#31
000264  eb076313          ADD      r3,r7,r3,LSR #24
;;;385    modbus_registers[65]=(char)(UB0%256);
000268  ea4f2c23          ASR      r12,r3,#8
;;;386    modbus_registers[66]=(char)(UB20/256);			//Πεγ34
00026c  f88dc0a4          STRB     r12,[sp,#0xa4]
000270  463b              MOV      r3,r7
000272  f88d30a5          STRB     r3,[sp,#0xa5]
000276  ea4f73e6          ASR      r3,r6,#31
00027a  eb066313          ADD      r3,r6,r3,LSR #24
;;;387    modbus_registers[67]=(char)(UB20%256);
00027e  ea4f2723          ASR      r7,r3,#8
;;;388    modbus_registers[68]=(char)(USIGN/256);		//Πεγ35
000282  f88d70a6          STRB     r7,[sp,#0xa6]
000286  4633              MOV      r3,r6
000288  f88d30a7          STRB     r3,[sp,#0xa7]
00028c  4b71              LDR      r3,|L3.1108|
00028e  f9b33000          LDRSH    r3,[r3,#0]  ; USIGN
000292  ea4f76e3          ASR      r6,r3,#31
;;;389    modbus_registers[69]=(char)(USIGN%256);
000296  eb036616          ADD      r6,r3,r6,LSR #24
;;;390    modbus_registers[70]=(char)(UMN/256);		//Πεγ36
00029a  ea4f2726          ASR      r7,r6,#8
00029e  f88d70a8          STRB     r7,[sp,#0xa8]
0002a2  f88d30a9          STRB     r3,[sp,#0xa9]
0002a6  4b6c              LDR      r3,|L3.1112|
0002a8  f9b33000          LDRSH    r3,[r3,#0]  ; UMN
0002ac  ea4f76e3          ASR      r6,r3,#31
;;;391    modbus_registers[71]=(char)(UMN%256);
0002b0  eb036616          ADD      r6,r3,r6,LSR #24
;;;392    modbus_registers[72]=(char)(U0B/256);		//Πεγ37
0002b4  ea4f2726          ASR      r7,r6,#8
0002b8  f88d70aa          STRB     r7,[sp,#0xaa]
0002bc  f88d30ab          STRB     r3,[sp,#0xab]
0002c0  4b66              LDR      r3,|L3.1116|
0002c2  f9b33000          LDRSH    r3,[r3,#0]  ; U0B
0002c6  ea4f76e3          ASR      r6,r3,#31
;;;393    modbus_registers[73]=(char)(U0B%256);
0002ca  eb036616          ADD      r6,r3,r6,LSR #24
;;;394    modbus_registers[74]=(char)(IKB/256);		//Πεγ38
0002ce  ea4f2726          ASR      r7,r6,#8
0002d2  f88d70ac          STRB     r7,[sp,#0xac]
0002d6  f88d30ad          STRB     r3,[sp,#0xad]
0002da  4b61              LDR      r3,|L3.1120|
0002dc  f9b33000          LDRSH    r3,[r3,#0]  ; IKB
0002e0  ea4f76e3          ASR      r6,r3,#31
;;;395    modbus_registers[75]=(char)(IKB%256);
0002e4  eb036616          ADD      r6,r3,r6,LSR #24
;;;396    modbus_registers[76]=(char)(IZMAX/256);		//Πεγ39
0002e8  ea4f2726          ASR      r7,r6,#8
0002ec  f88d70ae          STRB     r7,[sp,#0xae]
0002f0  f88d30af          STRB     r3,[sp,#0xaf]
0002f4  4b5b              LDR      r3,|L3.1124|
0002f6  f9b33000          LDRSH    r3,[r3,#0]  ; IZMAX
0002fa  ea4f76e3          ASR      r6,r3,#31
;;;397    modbus_registers[77]=(char)(IZMAX%256);
0002fe  eb036616          ADD      r6,r3,r6,LSR #24
;;;398    modbus_registers[78]=(char)(IMAX/256);		//Πεγ40
000302  ea4f2726          ASR      r7,r6,#8
000306  f88d70b0          STRB     r7,[sp,#0xb0]
00030a  f88d30b1          STRB     r3,[sp,#0xb1]
00030e  4b56              LDR      r3,|L3.1128|
000310  f9b33000          LDRSH    r3,[r3,#0]  ; IMAX
000314  ea4f76e3          ASR      r6,r3,#31
;;;399    modbus_registers[79]=(char)(IMAX%256);
000318  eb036616          ADD      r6,r3,r6,LSR #24
;;;400    modbus_registers[80]=(char)(IMIN/256);		//Πεγ41
00031c  ea4f2726          ASR      r7,r6,#8
000320  f88d70b2          STRB     r7,[sp,#0xb2]
000324  f88d30b3          STRB     r3,[sp,#0xb3]
000328  4b50              LDR      r3,|L3.1132|
00032a  f9b33000          LDRSH    r3,[r3,#0]  ; IMIN
00032e  ea4f76e3          ASR      r6,r3,#31
;;;401    modbus_registers[81]=(char)(IMIN%256);
000332  eb036616          ADD      r6,r3,r6,LSR #24
;;;402    modbus_registers[82]=(char)(UVZ/256);		//Πεγ42
000336  ea4f2726          ASR      r7,r6,#8
00033a  f88d70b4          STRB     r7,[sp,#0xb4]
00033e  f88d30b5          STRB     r3,[sp,#0xb5]
000342  4b4b              LDR      r3,|L3.1136|
000344  f9b33000          LDRSH    r3,[r3,#0]  ; UVZ
000348  ea4f76e3          ASR      r6,r3,#31
;;;403    modbus_registers[83]=(char)(UVZ%256);
00034c  eb036616          ADD      r6,r3,r6,LSR #24
;;;404    modbus_registers[84]=(char)(TZAS/256);		//Πεγ43
000350  ea4f2726          ASR      r7,r6,#8
000354  f88d70b6          STRB     r7,[sp,#0xb6]
000358  f88d30b7          STRB     r3,[sp,#0xb7]
00035c  4b45              LDR      r3,|L3.1140|
00035e  f9b33000          LDRSH    r3,[r3,#0]  ; TZAS
000362  ea4f76e3          ASR      r6,r3,#31
;;;405    modbus_registers[85]=(char)(TZAS%256);
000366  eb036616          ADD      r6,r3,r6,LSR #24
;;;406    modbus_registers[86]=(char)(TMAX/256);		//Πεγ44
00036a  ea4f2726          ASR      r7,r6,#8
00036e  f88d70b8          STRB     r7,[sp,#0xb8]
000372  f88d30b9          STRB     r3,[sp,#0xb9]
000376  4b40              LDR      r3,|L3.1144|
000378  f9b33000          LDRSH    r3,[r3,#0]  ; TMAX
00037c  ea4f76e3          ASR      r6,r3,#31
;;;407    modbus_registers[87]=(char)(TMAX%256);
000380  eb036616          ADD      r6,r3,r6,LSR #24
;;;408    modbus_registers[88]=(char)(TSIGN/256);		//Πεγ45
000384  ea4f2726          ASR      r7,r6,#8
000388  f88d70ba          STRB     r7,[sp,#0xba]
00038c  f88d30bb          STRB     r3,[sp,#0xbb]
000390  4b3a              LDR      r3,|L3.1148|
000392  f9b33000          LDRSH    r3,[r3,#0]  ; TSIGN
000396  ea4f76e3          ASR      r6,r3,#31
;;;409    modbus_registers[89]=(char)(TSIGN%256);
00039a  eb036616          ADD      r6,r3,r6,LSR #24
;;;410    modbus_registers[90]=(char)(TBATMAX/256);		//Πεγ46
00039e  ea4f2726          ASR      r7,r6,#8
0003a2  f88d70bc          STRB     r7,[sp,#0xbc]
0003a6  f88d30bd          STRB     r3,[sp,#0xbd]
0003aa  4b35              LDR      r3,|L3.1152|
0003ac  f9b33000          LDRSH    r3,[r3,#0]  ; TBATMAX
0003b0  ea4f76e3          ASR      r6,r3,#31
;;;411    modbus_registers[91]=(char)(TBATMAX%256);
0003b4  eb036616          ADD      r6,r3,r6,LSR #24
;;;412    modbus_registers[92]=(char)(TBATSIGN/256);		//Πεγ47
0003b8  ea4f2726          ASR      r7,r6,#8
0003bc  f88d70be          STRB     r7,[sp,#0xbe]
0003c0  f88d30bf          STRB     r3,[sp,#0xbf]
0003c4  4b2f              LDR      r3,|L3.1156|
0003c6  f9b33000          LDRSH    r3,[r3,#0]  ; TBATSIGN
0003ca  ea4f76e3          ASR      r6,r3,#31
;;;413    modbus_registers[93]=(char)(TBATSIGN%256);
0003ce  eb036616          ADD      r6,r3,r6,LSR #24
;;;414    modbus_registers[94]=(char)(load_I/256);		//Πεγ48
0003d2  ea4f2726          ASR      r7,r6,#8
;;;415    modbus_registers[95]=(char)(load_I%256);
0003d6  f88d70c0          STRB     r7,[sp,#0xc0]
;;;416    modbus_registers[96]=(char)(load_I/256);		//Πεγ49
0003da  f88d30c1          STRB     r3,[sp,#0xc1]
;;;417    modbus_registers[97]=(char)(load_I%256);
0003de  f88d40c2          STRB     r4,[sp,#0xc2]
;;;418    modbus_registers[98]=(char)(load_I/256);		//Πεγ50
0003e2  f88d50c3          STRB     r5,[sp,#0xc3]
;;;419    modbus_registers[99]=(char)(load_I%256);
0003e6  f88d40c4          STRB     r4,[sp,#0xc4]
;;;420    
;;;421    modbus_tx_buff[0]=adr;
0003ea  f88d50c5          STRB     r5,[sp,#0xc5]
;;;422    modbus_tx_buff[1]=func;
0003ee  f88d40c6          STRB     r4,[sp,#0xc6]
;;;423    modbus_tx_buff[2]=(char)(reg_adr/256);
0003f2  f88d50c7          STRB     r5,[sp,#0xc7]
0003f6  f88d0000          STRB     r0,[sp,#0]
;;;424    modbus_tx_buff[3]=(char)(reg_adr%256);
0003fa  f88d1001          STRB     r1,[sp,#1]
;;;425    //modbus_tx_buff[4]=(char)(reg_quantity/256);
;;;426    //modbus_tx_buff[5]=(char)(reg_quantity%256);
;;;427    /*
;;;428    modbus_registers[0]=0x10;
;;;429    modbus_registers[1]=0x11;
;;;430    modbus_registers[2]=0x12;
;;;431    modbus_registers[3]=0x13;
;;;432    modbus_registers[4]=0x14;
;;;433    modbus_registers[5]=0x15;
;;;434    */
;;;435    
;;;436    mem_copy((char*)&modbus_tx_buff[4],(char*)&modbus_registers[(reg_adr-1)*2],2);
0003fe  ea4f0048          LSL      r0,r8,#1
000402  f88d0002          STRB     r0,[sp,#2]
000406  e03f              B        |L3.1160|
                  |L3.1032|
                          DCD      load_U
                  |L3.1036|
                          DCD      load_I
                  |L3.1040|
                          DCD      Ib_ips_termokompensat
                  |L3.1044|
                          DCD      t_ext
                  |L3.1048|
                          DCD      net_Ua
                  |L3.1052|
                          DCD      net_Ub
                  |L3.1056|
                          DCD      net_Uc
                  |L3.1060|
                          DCD      net_F3
                  |L3.1064|
                          DCD      0x40024020
                  |L3.1068|
                          DCD      NUMIST
                  |L3.1072|
                          DCD      PAR
                  |L3.1076|
                          DCD      ZV_ON
                  |L3.1080|
                          DCD      TERMOKOMPENS
                  |L3.1084|
                          DCD      UBM_AV
                  |L3.1088|
                          DCD      TBAT
                  |L3.1092|
                          DCD      UMAX
                  |L3.1096|
                          DCD      UB20
                  |L3.1100|
                          DCD      ||DU||
                  |L3.1104|
                          DCD      UB0
                  |L3.1108|
                          DCD      USIGN
                  |L3.1112|
                          DCD      UMN
                  |L3.1116|
                          DCD      U0B
                  |L3.1120|
                          DCD      IKB
                  |L3.1124|
                          DCD      IZMAX
                  |L3.1128|
                          DCD      IMAX
                  |L3.1132|
                          DCD      IMIN
                  |L3.1136|
                          DCD      UVZ
                  |L3.1140|
                          DCD      TZAS
                  |L3.1144|
                          DCD      TMAX
                  |L3.1148|
                          DCD      TSIGN
                  |L3.1152|
                          DCD      TBATMAX
                  |L3.1156|
                          DCD      TBATSIGN
                  |L3.1160|
000488  a919              ADD      r1,sp,#0x64
00048a  f1a20201          SUB      r2,r2,#1
00048e  eb010142          ADD      r1,r1,r2,LSL #1
000492  4602              MOV      r2,r0
000494  466d              MOV      r5,sp
000496  f10d0003          ADD      r0,sp,#3
;;;437    
;;;438    crc_temp=CRC16_2(modbus_tx_buff,6);
00049a  f7fffffe          BL       mem_copy
00049e  2003              MOVS     r0,#3
;;;439    
;;;440    modbus_tx_buff[6]=crc_temp%256;
0004a0  eb000048          ADD      r0,r0,r8,LSL #1
;;;441    modbus_tx_buff[7]=crc_temp/256;
0004a4  b201              SXTH     r1,r0
0004a6  4668              MOV      r0,sp
0004a8  f7fffffe          BL       CRC16_2
;;;442    
;;;443    for (i=0;i<8;i++)
0004ac  eb050148          ADD      r1,r5,r8,LSL #1
;;;444    	{
;;;445    	putchar0(modbus_tx_buff[i]);
0004b0  70c8              STRB     r0,[r1,#3]
0004b2  ea4f2010          LSR      r0,r0,#8
0004b6  7108              STRB     r0,[r1,#4]            ;443
0004b8  f04f0400          MOV      r4,#0                 ;443
                  |L3.1212|
0004bc  5d28              LDRB     r0,[r5,r4]            ;443
0004be  f7fffffe          BL       putchar0
;;;446    	}
;;;447    for (i=0;i<8;i++)
0004c2  f1040401          ADD      r4,r4,#1
;;;448    	{
;;;449    	putchar_sc16is700(modbus_tx_buff[i]);
0004c6  b2e4              UXTB     r4,r4
0004c8  2c0f              CMP      r4,#0xf
0004ca  d3f7              BCC      |L3.1212|
0004cc  f04f0400          MOV      r4,#0                 ;447
                  |L3.1232|
0004d0  5d28              LDRB     r0,[r5,r4]            ;447
0004d2  f7fffffe          BL       putchar_sc16is700
;;;450    	}
;;;451    }
0004d6  f1040401          ADD      r4,r4,#1
0004da  b2e4              UXTB     r4,r4
0004dc  2c0f              CMP      r4,#0xf
0004de  d3f7              BCC      |L3.1232|
0004e0  b032              ADD      sp,sp,#0xc8
0004e2  e8bd81f0          POP      {r4-r8,pc}
;;;452    
                          ENDP


                          AREA ||.bss||, DATA, NOINIT, ALIGN=0

                  modbus_buf
                          %        20

                          AREA ||area_number.6||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.6||, ||.bss||
                  modbus_rx_buffer
                          %        30
                  modbus_an_buffer
                          %        30

                          AREA ||.data||, DATA, ALIGN=1

                  modbus_crc16
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.9||, DATA, ALIGN=0

                          EXPORTAS ||area_number.9||, ||.data||
                  modbus_timeout_cnt
000000  00                DCB      0x00

                          AREA ||area_number.10||, DATA, ALIGN=1

                          EXPORTAS ||area_number.10||, ||.data||
                  bMODBUS_TIMEOUT
000000  00                DCB      0x00
                  modbus_rx_buffer_ptr
000001  00                DCB      0x00
                  modbus_rx_counter
000002  0000              DCB      0x00,0x00
                  modbus_plazma
000004  0000              DCB      0x00,0x00
                  modbus_plazma1
000006  0000              DCB      0x00,0x00
                  modbus_plazma2
000008  0000              DCB      0x00,0x00
                  modbus_plazma3
00000a  0000              DCB      0x00,0x00
                  modbus_rx_arg0
00000c  0000              DCB      0x00,0x00
                  modbus_rx_arg1
00000e  0000              DCB      0x00,0x00

                          AREA ||area_number.11||, DATA, ALIGN=1

                          EXPORTAS ||area_number.11||, ||.data||
                  modbus_rx_arg2
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.12||, DATA, ALIGN=1

                          EXPORTAS ||area_number.12||, ||.data||
                  modbus_rx_arg3
000000  0000              DCB      0x00,0x00
