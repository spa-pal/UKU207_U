; generated by ARM C/C++ Compiler, 4.1 [Build 644]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\EXE\modbus.o --asm_dir=.\ --list_dir=.\ --depend=.\EXE\modbus.d --feedback=.\EXE\UKU_220_IPS_TERMOKOMPENSAT.fed --cpu=Cortex-M3 --apcs=interwork -O1 -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\INC\NXP\LPC17xx -D__MICROLIB -DUKU_220_IPS_TERMOKOMPENSAT -DUKU2071x --omf_browse=.\EXE\modbus.crf modbus.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  CRC16_2 PROC
;;;39     //-----------------------------------------------
;;;40     unsigned short CRC16_2(char* buf, short len)
000000  b570              PUSH     {r4-r6,lr}
;;;41     {
000002  4605              MOV      r5,r0
;;;42     unsigned short crc = 0xFFFF;
000004  f64f70ff          MOV      r0,#0xffff
;;;43     short pos;
;;;44     short i;
;;;45     
;;;46     for (pos = 0; pos < len; pos++)
000008  f04f0300          MOV      r3,#0
;;;47       	{
;;;48         	crc ^= (unsigned short)buf[pos];          // XOR byte into least sig. byte of crc
;;;49     
;;;50         	for ( i = 8; i != 0; i--) 
;;;51     		{    // Loop over each bit
;;;52           	if ((crc & 0x0001) != 0) 
;;;53     			{      // If the LSB is set
;;;54             		crc >>= 1;                    // Shift right and XOR 0xA001
;;;55             		crc ^= 0xA001;
00000c  f24a0401          MOV      r4,#0xa001
000010  e015              B        |L1.62|
                  |L1.18|
000012  5cea              LDRB     r2,[r5,r3]            ;48
000014  ea820000          EOR      r0,r2,r0              ;48
000018  f04f0208          MOV      r2,#8                 ;50
                  |L1.28|
00001c  07c6              LSLS     r6,r0,#31             ;52
00001e  d004              BEQ      |L1.42|
000020  ea4f0050          LSR      r0,r0,#1              ;54
000024  ea800004          EOR      r0,r0,r4
000028  e001              B        |L1.46|
                  |L1.42|
;;;56           		}
;;;57           	else  crc >>= 1;                    // Just shift right
00002a  ea4f0050          LSR      r0,r0,#1
                  |L1.46|
00002e  f1a20201          SUB      r2,r2,#1              ;50
000032  b212              SXTH     r2,r2                 ;50
000034  2a00              CMP      r2,#0                 ;50
000036  d1f1              BNE      |L1.28|
000038  f1030301          ADD      r3,r3,#1              ;46
00003c  b21b              SXTH     r3,r3                 ;46
                  |L1.62|
00003e  428b              CMP      r3,r1                 ;46
000040  dbe7              BLT      |L1.18|
;;;58         		}
;;;59       	}
;;;60       // Note, this number has low and high bytes swapped, so use it accordingly (or swap bytes)
;;;61     return crc;
;;;62     }
000042  bd70              POP      {r4-r6,pc}
;;;63     
                          ENDP

                  modbus_hold_register_transmit PROC
;;;318    //-----------------------------------------------
;;;319    void modbus_register_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr)
;;;320    {
;;;321    //char modbus_registers[150];
;;;322    char modbus_tx_buff[50];
;;;323    unsigned short crc_temp;
;;;324    char i;
;;;325    
;;;326    
;;;327    modbus_registers[0]=(char)(load_U/256);					//Πεγ1
;;;328    modbus_registers[1]=(char)(load_U%256);
;;;329    modbus_registers[2]=(char)(load_I/256);					//Πεγ2
;;;330    modbus_registers[3]=(char)(load_I%256);
;;;331    modbus_registers[4]=(char)(Ib_ips_termokompensat/256);		//Πεγ3
000044  b5f0              PUSH     {r4-r7,lr}
000046  b0a7              SUB      sp,sp,#0x9c
000048  4bff              LDR      r3,|L1.1096|
00004a  8f9b              LDRH     r3,[r3,#0x3c]
;;;332    modbus_registers[5]=(char)(Ib_ips_termokompensat%256);
00004c  ea4f2413          LSR      r4,r3,#8
;;;333    modbus_registers[6]=(char)(t_ext[0]/256);				//Πεγ4
000050  4bfe              LDR      r3,|L1.1100|
000052  701c              STRB     r4,[r3,#0]
000054  4cfc              LDR      r4,|L1.1096|
000056  8fa4              LDRH     r4,[r4,#0x3c]
000058  705c              STRB     r4,[r3,#1]
00005a  4cfb              LDR      r4,|L1.1096|
00005c  f8944038          LDRB     r4,[r4,#0x38]
000060  f04f0400          MOV      r4,#0
;;;334    modbus_registers[7]=(char)(t_ext[0]%256);
000064  709c              STRB     r4,[r3,#2]
;;;335    modbus_registers[8]=(char)(net_Ua/256);					//Πεγ5
000066  4dfa              LDR      r5,|L1.1104|
000068  782d              LDRB     r5,[r5,#0]
00006a  70dd              STRB     r5,[r3,#3]
00006c  4df9              LDR      r5,|L1.1108|
00006e  782d              LDRB     r5,[r5,#0]
000070  711c              STRB     r4,[r3,#4]
000072  4df8              LDR      r5,|L1.1108|
000074  782d              LDRB     r5,[r5,#0]
000076  715d              STRB     r5,[r3,#5]
000078  4df7              LDR      r5,|L1.1112|
00007a  782d              LDRB     r5,[r5,#0]
;;;336    modbus_registers[9]=(char)(net_Ua%256);		 	
00007c  719c              STRB     r4,[r3,#6]
;;;337    modbus_registers[10]=(char)(net_Ub/256);				//Πεγ6
00007e  4df6              LDR      r5,|L1.1112|
000080  782d              LDRB     r5,[r5,#0]
000082  71dd              STRB     r5,[r3,#7]
000084  4df5              LDR      r5,|L1.1116|
000086  782d              LDRB     r5,[r5,#0]
000088  721c              STRB     r4,[r3,#8]
00008a  4df4              LDR      r5,|L1.1116|
00008c  782d              LDRB     r5,[r5,#0]
00008e  725d              STRB     r5,[r3,#9]
000090  4df3              LDR      r5,|L1.1120|
000092  782d              LDRB     r5,[r5,#0]
;;;338    modbus_registers[11]=(char)(net_Ub%256);
000094  729c              STRB     r4,[r3,#0xa]
;;;339    modbus_registers[12]=(char)(net_Uc/256);				//Πεγ7
000096  4cf2              LDR      r4,|L1.1120|
000098  7824              LDRB     r4,[r4,#0]
00009a  72dc              STRB     r4,[r3,#0xb]
00009c  f1030312          ADD      r3,r3,#0x12
0000a0  4cf0              LDR      r4,|L1.1124|
0000a2  f9b44000          LDRSH    r4,[r4,#0]  ; NUMIST
0000a6  ea4f75e4          ASR      r5,r4,#31
0000aa  eb046515          ADD      r5,r4,r5,LSR #24
;;;340    modbus_registers[13]=(char)(net_Uc%256);
;;;341    modbus_registers[14]=(char)(net_F3/256);				//Πεγ8
0000ae  ea4f2625          ASR      r6,r5,#8
0000b2  701e              STRB     r6,[r3,#0]
0000b4  705c              STRB     r4,[r3,#1]
0000b6  4cec              LDR      r4,|L1.1128|
0000b8  f9b44000          LDRSH    r4,[r4,#0]  ; PAR
0000bc  ea4f75e4          ASR      r5,r4,#31
0000c0  eb046515          ADD      r5,r4,r5,LSR #24
;;;342    modbus_registers[15]=(char)(net_F3%256);
0000c4  ea4f2625          ASR      r6,r5,#8
;;;343    modbus_registers[16]=(char)(load_I/256);				//Πεγ9
;;;344    modbus_registers[17]=(char)(load_I%256);
0000c8  709e              STRB     r6,[r3,#2]
;;;345    modbus_registers[18]=(char)(load_I/256);				//Πεγ10
0000ca  70dc              STRB     r4,[r3,#3]
;;;346    modbus_registers[19]=(char)(load_I%256);
0000cc  4ce7              LDR      r4,|L1.1132|
;;;347    modbus_registers[20]=(char)((LPC_RTC->YEAR)/256);			//Πεγ11
0000ce  f9b44000          LDRSH    r4,[r4,#0]  ; ZV_ON
0000d2  ea4f75e4          ASR      r5,r4,#31
0000d6  eb046515          ADD      r5,r4,r5,LSR #24
;;;348    modbus_registers[21]=(char)((LPC_RTC->YEAR)%256);
0000da  ea4f2625          ASR      r6,r5,#8
;;;349    modbus_registers[22]=(char)((LPC_RTC->MONTH)/256);		//Πεγ12
0000de  711e              STRB     r6,[r3,#4]
0000e0  715c              STRB     r4,[r3,#5]
0000e2  4ce3              LDR      r4,|L1.1136|
0000e4  f9b44000          LDRSH    r4,[r4,#0]  ; UBM_AV
;;;350    modbus_registers[23]=(char)((LPC_RTC->MONTH)%256);
0000e8  ea4f75e4          ASR      r5,r4,#31
0000ec  eb046515          ADD      r5,r4,r5,LSR #24
;;;351    modbus_registers[24]=(char)((LPC_RTC->DOM)/256);			//Πεγ13
0000f0  ea4f2625          ASR      r6,r5,#8
;;;352    modbus_registers[25]=(char)((LPC_RTC->DOM)%256);
0000f4  721e              STRB     r6,[r3,#8]
0000f6  725c              STRB     r4,[r3,#9]
0000f8  4cde              LDR      r4,|L1.1140|
0000fa  f9b44000          LDRSH    r4,[r4,#0]  ; TBAT
;;;353    modbus_registers[26]=(char)((LPC_RTC->HOUR)/256);			//Πεγ14
0000fe  ea4f75e4          ASR      r5,r4,#31
;;;354    modbus_registers[27]=(char)((LPC_RTC->HOUR)%256);
000102  eb046515          ADD      r5,r4,r5,LSR #24
000106  ea4f2625          ASR      r6,r5,#8
;;;355    modbus_registers[28]=(char)((LPC_RTC->MIN)/256);			//Πεγ15
00010a  751e              STRB     r6,[r3,#0x14]
00010c  755c              STRB     r4,[r3,#0x15]
00010e  4cda              LDR      r4,|L1.1144|
;;;356    modbus_registers[29]=(char)((LPC_RTC->MIN)%256);
000110  f9b44000          LDRSH    r4,[r4,#0]  ; UMAX
000114  ea4f75e4          ASR      r5,r4,#31
;;;357    modbus_registers[30]=(char)((LPC_RTC->SEC)/256);			//Πεγ16
000118  eb046515          ADD      r5,r4,r5,LSR #24
00011c  ea4f2625          ASR      r6,r5,#8
;;;358    modbus_registers[31]=(char)((LPC_RTC->SEC)%256);
000120  759e              STRB     r6,[r3,#0x16]
;;;359    modbus_registers[32]=(char)(load_I/256);				//Πεγ17
000122  75dc              STRB     r4,[r3,#0x17]
;;;360    modbus_registers[33]=(char)(load_I%256);
000124  4cd5              LDR      r4,|L1.1148|
;;;361    modbus_registers[34]=(char)(load_I/256);				//Πεγ18
000126  4dd6              LDR      r5,|L1.1152|
;;;362    modbus_registers[35]=(char)(load_I%256);
000128  f9b44000          LDRSH    r4,[r4,#0]  ; UB20
;;;363    modbus_registers[36]=(char)(load_I/256);		//Πεγ19
;;;364    modbus_registers[37]=(char)(load_I%256);
00012c  f9b55000          LDRSH    r5,[r5,#0]  ; DU
000130  eba40505          SUB      r5,r4,r5
;;;365    modbus_registers[38]=(char)(NUMIST/256);		//Πεγ20
000134  ea4f76e5          ASR      r6,r5,#31
000138  eb056616          ADD      r6,r5,r6,LSR #24
00013c  ea4f2726          ASR      r7,r6,#8
000140  761f              STRB     r7,[r3,#0x18]
000142  765d              STRB     r5,[r3,#0x19]
000144  4dcf              LDR      r5,|L1.1156|
000146  f9b55000          LDRSH    r5,[r5,#0]  ; UB0
;;;366    modbus_registers[39]=(char)(NUMIST%256);
;;;367    modbus_registers[40]=(char)(PAR/256);		//Πεγ21
00014a  ea4f76e5          ASR      r6,r5,#31
00014e  eb056616          ADD      r6,r5,r6,LSR #24
000152  ea4f2726          ASR      r7,r6,#8
000156  769f              STRB     r7,[r3,#0x1a]
000158  76dd              STRB     r5,[r3,#0x1b]
00015a  ea4f75e4          ASR      r5,r4,#31
00015e  eb046515          ADD      r5,r4,r5,LSR #24
;;;368    modbus_registers[41]=(char)(PAR%256);
;;;369    modbus_registers[42]=(char)(ZV_ON/256);		//Πεγ22
000162  ea4f2625          ASR      r6,r5,#8
000166  771e              STRB     r6,[r3,#0x1c]
000168  775c              STRB     r4,[r3,#0x1d]
00016a  4cc7              LDR      r4,|L1.1160|
00016c  f9b44000          LDRSH    r4,[r4,#0]  ; USIGN
000170  ea4f75e4          ASR      r5,r4,#31
000174  eb046515          ADD      r5,r4,r5,LSR #24
;;;370    modbus_registers[43]=(char)(ZV_ON%256);
000178  ea4f2625          ASR      r6,r5,#8
;;;371    modbus_registers[44]=(char)(TERMOKOMPENS/256);		//Πεγ23
00017c  779e              STRB     r6,[r3,#0x1e]
00017e  77dc              STRB     r4,[r3,#0x1f]
000180  4cc2              LDR      r4,|L1.1164|
000182  f9b44000          LDRSH    r4,[r4,#0]  ; UMN
000186  ea4f75e4          ASR      r5,r4,#31
00018a  eb046515          ADD      r5,r4,r5,LSR #24
00018e  ea4f2625          ASR      r6,r5,#8
;;;372    modbus_registers[45]=(char)(TERMOKOMPENS%256);
;;;373    modbus_registers[46]=(char)(UBM_AV/256);		//Πεγ24
000192  f8836020          STRB     r6,[r3,#0x20]
000196  f8834021          STRB     r4,[r3,#0x21]
00019a  4cbd              LDR      r4,|L1.1168|
00019c  f9b44000          LDRSH    r4,[r4,#0]  ; U0B
0001a0  ea4f75e4          ASR      r5,r4,#31
0001a4  eb046515          ADD      r5,r4,r5,LSR #24
;;;374    modbus_registers[47]=(char)(UBM_AV%256);
0001a8  ea4f2625          ASR      r6,r5,#8
;;;375    modbus_registers[48]=(char)(load_I/256);		//Πεγ25
;;;376    modbus_registers[49]=(char)(load_I%256);
0001ac  f8836022          STRB     r6,[r3,#0x22]
;;;377    modbus_registers[50]=(char)(load_I/256);		//Πεγ26
;;;378    modbus_registers[51]=(char)(load_I%256);
0001b0  f8834023          STRB     r4,[r3,#0x23]
;;;379    modbus_registers[52]=(char)(load_I/256);		//Πεγ27
;;;380    modbus_registers[53]=(char)(load_I%256);
0001b4  4cb7              LDR      r4,|L1.1172|
;;;381    modbus_registers[54]=(char)(load_I/256);		//Πεγ28
0001b6  f9b44000          LDRSH    r4,[r4,#0]  ; IKB
;;;382    modbus_registers[55]=(char)(load_I%256);
;;;383    modbus_registers[56]=(char)(load_I/256);		//Πεγ29
0001ba  ea4f75e4          ASR      r5,r4,#31
;;;384    modbus_registers[57]=(char)(load_I%256);
;;;385    modbus_registers[58]=(char)(TBAT/256);			//Πεγ30
0001be  eb046515          ADD      r5,r4,r5,LSR #24
0001c2  ea4f2625          ASR      r6,r5,#8
0001c6  f8836024          STRB     r6,[r3,#0x24]
0001ca  f8834025          STRB     r4,[r3,#0x25]
0001ce  f1a30326          SUB      r3,r3,#0x26
0001d2  4cb1              LDR      r4,|L1.1176|
;;;386    modbus_registers[59]=(char)(TBAT%256);
0001d4  f9b44000          LDRSH    r4,[r4,#0]  ; IZMAX
;;;387    modbus_registers[60]=(char)(UMAX/256);			//Πεγ31
0001d8  ea4f75e4          ASR      r5,r4,#31
0001dc  eb046515          ADD      r5,r4,r5,LSR #24
0001e0  ea4f2625          ASR      r6,r5,#8
0001e4  f8036f4c          STRB     r6,[r3,#0x4c]!
0001e8  705c              STRB     r4,[r3,#1]
0001ea  4cac              LDR      r4,|L1.1180|
;;;388    modbus_registers[61]=(char)(UMAX%256);
0001ec  f9b44000          LDRSH    r4,[r4,#0]  ; IMAX
;;;389    modbus_registers[62]=(char)((UB20-DU)/256);		//Πεγ32
0001f0  ea4f75e4          ASR      r5,r4,#31
0001f4  eb046515          ADD      r5,r4,r5,LSR #24
0001f8  ea4f2625          ASR      r6,r5,#8
0001fc  709e              STRB     r6,[r3,#2]
0001fe  70dc              STRB     r4,[r3,#3]
000200  4ca7              LDR      r4,|L1.1184|
000202  f9b44000          LDRSH    r4,[r4,#0]  ; IMIN
000206  ea4f75e4          ASR      r5,r4,#31
00020a  eb046515          ADD      r5,r4,r5,LSR #24
;;;390    modbus_registers[63]=(char)((UB20-DU)%256);
00020e  ea4f2625          ASR      r6,r5,#8
;;;391    modbus_registers[64]=(char)(UB0/256);			//Πεγ33
000212  711e              STRB     r6,[r3,#4]
000214  715c              STRB     r4,[r3,#5]
000216  4ca3              LDR      r4,|L1.1188|
000218  f9b44000          LDRSH    r4,[r4,#0]  ; UVZ
00021c  ea4f75e4          ASR      r5,r4,#31
000220  eb046515          ADD      r5,r4,r5,LSR #24
000224  ea4f2625          ASR      r6,r5,#8
;;;392    modbus_registers[65]=(char)(UB0%256);
;;;393    modbus_registers[66]=(char)(UB20/256);			//Πεγ34
000228  719e              STRB     r6,[r3,#6]
00022a  71dc              STRB     r4,[r3,#7]
00022c  4c9e              LDR      r4,|L1.1192|
00022e  f9b44000          LDRSH    r4,[r4,#0]  ; TZAS
000232  ea4f75e4          ASR      r5,r4,#31
000236  eb046515          ADD      r5,r4,r5,LSR #24
;;;394    modbus_registers[67]=(char)(UB20%256);
00023a  ea4f2625          ASR      r6,r5,#8
;;;395    modbus_registers[68]=(char)(USIGN/256);		//Πεγ35
00023e  721e              STRB     r6,[r3,#8]
000240  725c              STRB     r4,[r3,#9]
000242  4c9a              LDR      r4,|L1.1196|
000244  f9b44000          LDRSH    r4,[r4,#0]  ; TMAX
000248  ea4f75e4          ASR      r5,r4,#31
00024c  eb046515          ADD      r5,r4,r5,LSR #24
000250  ea4f2625          ASR      r6,r5,#8
;;;396    modbus_registers[69]=(char)(USIGN%256);
000254  729e              STRB     r6,[r3,#0xa]
;;;397    modbus_registers[70]=(char)(UMN/256);		//Πεγ36
000256  72dc              STRB     r4,[r3,#0xb]
000258  4c95              LDR      r4,|L1.1200|
00025a  f9b44000          LDRSH    r4,[r4,#0]  ; TSIGN
00025e  ea4f75e4          ASR      r5,r4,#31
000262  eb046515          ADD      r5,r4,r5,LSR #24
000266  ea4f2625          ASR      r6,r5,#8
00026a  731e              STRB     r6,[r3,#0xc]
;;;398    modbus_registers[71]=(char)(UMN%256);
00026c  735c              STRB     r4,[r3,#0xd]
;;;399    modbus_registers[72]=(char)(U0B/256);		//Πεγ37
00026e  4c91              LDR      r4,|L1.1204|
000270  f9b44000          LDRSH    r4,[r4,#0]  ; TBATMAX
000274  ea4f75e4          ASR      r5,r4,#31
000278  eb046515          ADD      r5,r4,r5,LSR #24
00027c  ea4f2625          ASR      r6,r5,#8
000280  739e              STRB     r6,[r3,#0xe]
000282  73dc              STRB     r4,[r3,#0xf]
;;;400    modbus_registers[73]=(char)(U0B%256);
000284  4c8c              LDR      r4,|L1.1208|
;;;401    modbus_registers[74]=(char)(IKB/256);		//Πεγ38
000286  f9b44000          LDRSH    r4,[r4,#0]  ; TBATSIGN
00028a  ea4f75e4          ASR      r5,r4,#31
00028e  eb046515          ADD      r5,r4,r5,LSR #24
000292  ea4f2625          ASR      r6,r5,#8
000296  741e              STRB     r6,[r3,#0x10]
000298  745c              STRB     r4,[r3,#0x11]
00029a  4c88              LDR      r4,|L1.1212|
;;;402    modbus_registers[75]=(char)(IKB%256);
00029c  f9b44000          LDRSH    r4,[r4,#0]  ; speedChrgCurr
;;;403    modbus_registers[76]=(char)(IZMAX/256);		//Πεγ39
0002a0  ea4f75e4          ASR      r5,r4,#31
0002a4  eb046515          ADD      r5,r4,r5,LSR #24
0002a8  ea4f2625          ASR      r6,r5,#8
0002ac  749e              STRB     r6,[r3,#0x12]
0002ae  74dc              STRB     r4,[r3,#0x13]
0002b0  4c83              LDR      r4,|L1.1216|
0002b2  f9b44000          LDRSH    r4,[r4,#0]  ; speedChrgVolt
;;;404    modbus_registers[77]=(char)(IZMAX%256);
;;;405    modbus_registers[78]=(char)(IMAX/256);		//Πεγ40
0002b6  ea4f75e4          ASR      r5,r4,#31
0002ba  eb046515          ADD      r5,r4,r5,LSR #24
0002be  ea4f2625          ASR      r6,r5,#8
0002c2  751e              STRB     r6,[r3,#0x14]
0002c4  755c              STRB     r4,[r3,#0x15]
0002c6  4c7f              LDR      r4,|L1.1220|
0002c8  f9b44000          LDRSH    r4,[r4,#0]  ; speedChrgTimeInHour
;;;406    modbus_registers[79]=(char)(IMAX%256);
0002cc  ea4f75e4          ASR      r5,r4,#31
;;;407    modbus_registers[80]=(char)(IMIN/256);		//Πεγ41
0002d0  eb046515          ADD      r5,r4,r5,LSR #24
0002d4  ea4f2625          ASR      r6,r5,#8
0002d8  759e              STRB     r6,[r3,#0x16]
0002da  75dc              STRB     r4,[r3,#0x17]
0002dc  f1a3034c          SUB      r3,r3,#0x4c
0002e0  f88d0004          STRB     r0,[sp,#4]
;;;408    modbus_registers[81]=(char)(IMIN%256);
0002e4  f88d1005          STRB     r1,[sp,#5]
;;;409    modbus_registers[82]=(char)(UVZ/256);		//Πεγ42
0002e8  ea4f2012          LSR      r0,r2,#8
0002ec  f88d0006          STRB     r0,[sp,#6]
0002f0  f88d2007          STRB     r2,[sp,#7]
0002f4  f1a20201          SUB      r2,r2,#1
0002f8  eb030142          ADD      r1,r3,r2,LSL #1
;;;410    modbus_registers[83]=(char)(UVZ%256);
0002fc  ad01              ADD      r5,sp,#4
;;;411    modbus_registers[84]=(char)(TZAS/256);		//Πεγ43
0002fe  f04f0202          MOV      r2,#2
000302  f1050004          ADD      r0,r5,#4
000306  f7fffffe          BL       mem_copy
00030a  2106              MOVS     r1,#6
00030c  a801              ADD      r0,sp,#4
00030e  f7fffffe          BL       CRC16_2
000312  f88d000a          STRB     r0,[sp,#0xa]
;;;412    modbus_registers[85]=(char)(TZAS%256);
;;;413    modbus_registers[86]=(char)(TMAX/256);		//Πεγ44
000316  ea4f2010          LSR      r0,r0,#8
00031a  f88d000b          STRB     r0,[sp,#0xb]
00031e  f04f0400          MOV      r4,#0
                  |L1.802|
000322  5d28              LDRB     r0,[r5,r4]
000324  f7fffffe          BL       putchar0
000328  f1040401          ADD      r4,r4,#1
;;;414    modbus_registers[87]=(char)(TMAX%256);
00032c  b2e4              UXTB     r4,r4
;;;415    modbus_registers[88]=(char)(TSIGN/256);		//Πεγ45
00032e  2c08              CMP      r4,#8
000330  d3f7              BCC      |L1.802|
000332  f04f0400          MOV      r4,#0
                  |L1.822|
000336  5d28              LDRB     r0,[r5,r4]
000338  f7fffffe          BL       putchar_sc16is700
00033c  f1040401          ADD      r4,r4,#1
000340  b2e4              UXTB     r4,r4
000342  2c08              CMP      r4,#8
;;;416    modbus_registers[89]=(char)(TSIGN%256);
000344  d3f7              BCC      |L1.822|
;;;417    modbus_registers[90]=(char)(TBATMAX/256);		//Πεγ46
000346  b027              ADD      sp,sp,#0x9c
000348  bdf0              POP      {r4-r7,pc}
;;;418    modbus_registers[91]=(char)(TBATMAX%256);
;;;419    modbus_registers[92]=(char)(TBATSIGN/256);		//Πεγ47
;;;420    modbus_registers[93]=(char)(TBATSIGN%256);
;;;421    modbus_registers[94]=(char)(load_I/256);		//Πεγ48
;;;422    modbus_registers[95]=(char)(load_I%256);
;;;423    modbus_registers[96]=(char)(load_I/256);		//Πεγ49
;;;424    modbus_registers[97]=(char)(load_I%256);
;;;425    modbus_registers[98]=(char)(load_I/256);		//Πεγ50
;;;426    modbus_registers[99]=(char)(load_I%256);
;;;427    
;;;428    modbus_tx_buff[0]=adr;
;;;429    modbus_tx_buff[1]=func;
;;;430    modbus_tx_buff[2]=(char)(reg_adr/256);
;;;431    modbus_tx_buff[3]=(char)(reg_adr%256);
;;;432    //modbus_tx_buff[4]=(char)(reg_quantity/256);
;;;433    //modbus_tx_buff[5]=(char)(reg_quantity%256);
;;;434    /*
;;;435    modbus_registers[0]=0x10;
;;;436    modbus_registers[1]=0x11;
;;;437    modbus_registers[2]=0x12;
;;;438    modbus_registers[3]=0x13;
;;;439    modbus_registers[4]=0x14;
;;;440    modbus_registers[5]=0x15;
;;;441    */
;;;442    
;;;443    mem_copy((char*)&modbus_tx_buff[4],(char*)&modbus_registers[(reg_adr-1)*2],2);
;;;444    
;;;445    crc_temp=CRC16_2(modbus_tx_buff,6);
;;;446    
;;;447    modbus_tx_buff[6]=crc_temp%256;
;;;448    modbus_tx_buff[7]=crc_temp/256;
;;;449    
;;;450    for (i=0;i<8;i++)
;;;451    	{
;;;452    	putchar0(modbus_tx_buff[i]);
;;;453    	}
;;;454    for (i=0;i<8;i++)
;;;455    	{
;;;456    	putchar_sc16is700(modbus_tx_buff[i]);
;;;457    	}
;;;458    }
;;;459    
                          ENDP

                  modbus_input_registers_transmit PROC
;;;318    //-----------------------------------------------
;;;319    void modbus_register_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr)
;;;320    {
;;;321    //char modbus_registers[150];
;;;322    char modbus_tx_buff[50];
;;;323    unsigned short crc_temp;
;;;324    char i;
;;;325    
;;;326    
;;;327    modbus_registers[0]=(char)(load_U/256);					//Πεγ1
;;;328    modbus_registers[1]=(char)(load_U%256);
;;;329    modbus_registers[2]=(char)(load_I/256);					//Πεγ2
;;;330    modbus_registers[3]=(char)(load_I%256);
;;;331    modbus_registers[4]=(char)(Ib_ips_termokompensat/256);		//Πεγ3
;;;332    modbus_registers[5]=(char)(Ib_ips_termokompensat%256);
;;;333    modbus_registers[6]=(char)(t_ext[0]/256);				//Πεγ4
;;;334    modbus_registers[7]=(char)(t_ext[0]%256);
;;;335    modbus_registers[8]=(char)(net_Ua/256);					//Πεγ5
;;;336    modbus_registers[9]=(char)(net_Ua%256);		 	
;;;337    modbus_registers[10]=(char)(net_Ub/256);				//Πεγ6
;;;338    modbus_registers[11]=(char)(net_Ub%256);
;;;339    modbus_registers[12]=(char)(net_Uc/256);				//Πεγ7
;;;340    modbus_registers[13]=(char)(net_Uc%256);
;;;341    modbus_registers[14]=(char)(net_F3/256);				//Πεγ8
;;;342    modbus_registers[15]=(char)(net_F3%256);
;;;343    modbus_registers[16]=(char)(load_I/256);				//Πεγ9
;;;344    modbus_registers[17]=(char)(load_I%256);
;;;345    modbus_registers[18]=(char)(load_I/256);				//Πεγ10
;;;346    modbus_registers[19]=(char)(load_I%256);
;;;347    modbus_registers[20]=(char)((LPC_RTC->YEAR)/256);			//Πεγ11
;;;348    modbus_registers[21]=(char)((LPC_RTC->YEAR)%256);
;;;349    modbus_registers[22]=(char)((LPC_RTC->MONTH)/256);		//Πεγ12
;;;350    modbus_registers[23]=(char)((LPC_RTC->MONTH)%256);
;;;351    modbus_registers[24]=(char)((LPC_RTC->DOM)/256);			//Πεγ13
;;;352    modbus_registers[25]=(char)((LPC_RTC->DOM)%256);
;;;353    modbus_registers[26]=(char)((LPC_RTC->HOUR)/256);			//Πεγ14
;;;354    modbus_registers[27]=(char)((LPC_RTC->HOUR)%256);
;;;355    modbus_registers[28]=(char)((LPC_RTC->MIN)/256);			//Πεγ15
;;;356    modbus_registers[29]=(char)((LPC_RTC->MIN)%256);
;;;357    modbus_registers[30]=(char)((LPC_RTC->SEC)/256);			//Πεγ16
;;;358    modbus_registers[31]=(char)((LPC_RTC->SEC)%256);
;;;359    modbus_registers[32]=(char)(load_I/256);				//Πεγ17
;;;360    modbus_registers[33]=(char)(load_I%256);
;;;361    modbus_registers[34]=(char)(load_I/256);				//Πεγ18
;;;362    modbus_registers[35]=(char)(load_I%256);
;;;363    modbus_registers[36]=(char)(load_I/256);		//Πεγ19
;;;364    modbus_registers[37]=(char)(load_I%256);
;;;365    modbus_registers[38]=(char)(NUMIST/256);		//Πεγ20
;;;366    modbus_registers[39]=(char)(NUMIST%256);
;;;367    modbus_registers[40]=(char)(PAR/256);		//Πεγ21
;;;368    modbus_registers[41]=(char)(PAR%256);
;;;369    modbus_registers[42]=(char)(ZV_ON/256);		//Πεγ22
;;;370    modbus_registers[43]=(char)(ZV_ON%256);
;;;371    modbus_registers[44]=(char)(TERMOKOMPENS/256);		//Πεγ23
;;;372    modbus_registers[45]=(char)(TERMOKOMPENS%256);
;;;373    modbus_registers[46]=(char)(UBM_AV/256);		//Πεγ24
;;;374    modbus_registers[47]=(char)(UBM_AV%256);
;;;375    modbus_registers[48]=(char)(load_I/256);		//Πεγ25
;;;376    modbus_registers[49]=(char)(load_I%256);
;;;377    modbus_registers[50]=(char)(load_I/256);		//Πεγ26
;;;378    modbus_registers[51]=(char)(load_I%256);
;;;379    modbus_registers[52]=(char)(load_I/256);		//Πεγ27
;;;380    modbus_registers[53]=(char)(load_I%256);
;;;381    modbus_registers[54]=(char)(load_I/256);		//Πεγ28
;;;382    modbus_registers[55]=(char)(load_I%256);
;;;383    modbus_registers[56]=(char)(load_I/256);		//Πεγ29
;;;384    modbus_registers[57]=(char)(load_I%256);
;;;385    modbus_registers[58]=(char)(TBAT/256);			//Πεγ30
;;;386    modbus_registers[59]=(char)(TBAT%256);
;;;387    modbus_registers[60]=(char)(UMAX/256);			//Πεγ31
;;;388    modbus_registers[61]=(char)(UMAX%256);
;;;389    modbus_registers[62]=(char)((UB20-DU)/256);		//Πεγ32
;;;390    modbus_registers[63]=(char)((UB20-DU)%256);
;;;391    modbus_registers[64]=(char)(UB0/256);			//Πεγ33
;;;392    modbus_registers[65]=(char)(UB0%256);
;;;393    modbus_registers[66]=(char)(UB20/256);			//Πεγ34
;;;394    modbus_registers[67]=(char)(UB20%256);
;;;395    modbus_registers[68]=(char)(USIGN/256);		//Πεγ35
;;;396    modbus_registers[69]=(char)(USIGN%256);
;;;397    modbus_registers[70]=(char)(UMN/256);		//Πεγ36
;;;398    modbus_registers[71]=(char)(UMN%256);
;;;399    modbus_registers[72]=(char)(U0B/256);		//Πεγ37
;;;400    modbus_registers[73]=(char)(U0B%256);
;;;401    modbus_registers[74]=(char)(IKB/256);		//Πεγ38
;;;402    modbus_registers[75]=(char)(IKB%256);
;;;403    modbus_registers[76]=(char)(IZMAX/256);		//Πεγ39
;;;404    modbus_registers[77]=(char)(IZMAX%256);
;;;405    modbus_registers[78]=(char)(IMAX/256);		//Πεγ40
;;;406    modbus_registers[79]=(char)(IMAX%256);
;;;407    modbus_registers[80]=(char)(IMIN/256);		//Πεγ41
;;;408    modbus_registers[81]=(char)(IMIN%256);
;;;409    modbus_registers[82]=(char)(UVZ/256);		//Πεγ42
;;;410    modbus_registers[83]=(char)(UVZ%256);
;;;411    modbus_registers[84]=(char)(TZAS/256);		//Πεγ43
;;;412    modbus_registers[85]=(char)(TZAS%256);
;;;413    modbus_registers[86]=(char)(TMAX/256);		//Πεγ44
;;;414    modbus_registers[87]=(char)(TMAX%256);
;;;415    modbus_registers[88]=(char)(TSIGN/256);		//Πεγ45
;;;416    modbus_registers[89]=(char)(TSIGN%256);
;;;417    modbus_registers[90]=(char)(TBATMAX/256);		//Πεγ46
00034a  e92d47f0          PUSH     {r4-r10,lr}
00034e  b0b2              SUB      sp,sp,#0xc8
000350  461e              MOV      r6,r3
000352  9f3a              LDR      r7,[sp,#0xe8]
000354  4b5c              LDR      r3,|L1.1224|
000356  f9b33000          LDRSH    r3,[r3,#0]  ; out_U
00035a  ea4f74e3          ASR      r4,r3,#31
;;;418    modbus_registers[91]=(char)(TBATMAX%256);
;;;419    modbus_registers[92]=(char)(TBATSIGN/256);		//Πεγ47
00035e  eb036514          ADD      r5,r3,r4,LSR #24
000362  4c3a              LDR      r4,|L1.1100|
000364  ea4f2c25          ASR      r12,r5,#8
000368  f1a40414          SUB      r4,r4,#0x14
00036c  f884c000          STRB     r12,[r4,#0]
000370  7063              STRB     r3,[r4,#1]
000372  4b56              LDR      r3,|L1.1228|
;;;420    modbus_registers[93]=(char)(TBATSIGN%256);
000374  f9b33000          LDRSH    r3,[r3,#0]  ; bps_I
;;;421    modbus_registers[94]=(char)(load_I/256);		//Πεγ48
;;;422    modbus_registers[95]=(char)(load_I%256);
000378  ea4f75e3          ASR      r5,r3,#31
;;;423    modbus_registers[96]=(char)(load_I/256);		//Πεγ49
;;;424    modbus_registers[97]=(char)(load_I%256);
00037c  eb036515          ADD      r5,r3,r5,LSR #24
;;;425    modbus_registers[98]=(char)(load_I/256);		//Πεγ50
000380  ea4f2c25          ASR      r12,r5,#8
;;;426    modbus_registers[99]=(char)(load_I%256);
000384  f884c002          STRB     r12,[r4,#2]
;;;427    
;;;428    modbus_tx_buff[0]=adr;
000388  70e3              STRB     r3,[r4,#3]
00038a  4b51              LDR      r3,|L1.1232|
;;;429    modbus_tx_buff[1]=func;
00038c  f9b33000          LDRSH    r3,[r3,#0]  ; net_U
;;;430    modbus_tx_buff[2]=(char)(reg_adr/256);
000390  ea4f75e3          ASR      r5,r3,#31
000394  eb036515          ADD      r5,r3,r5,LSR #24
;;;431    modbus_tx_buff[3]=(char)(reg_adr%256);
000398  ea4f2c25          ASR      r12,r5,#8
;;;432    //modbus_tx_buff[4]=(char)(reg_quantity/256);
;;;433    //modbus_tx_buff[5]=(char)(reg_quantity%256);
;;;434    /*
;;;435    modbus_registers[0]=0x10;
;;;436    modbus_registers[1]=0x11;
;;;437    modbus_registers[2]=0x12;
;;;438    modbus_registers[3]=0x13;
;;;439    modbus_registers[4]=0x14;
;;;440    modbus_registers[5]=0x15;
;;;441    */
;;;442    
;;;443    mem_copy((char*)&modbus_tx_buff[4],(char*)&modbus_registers[(reg_adr-1)*2],2);
00039c  f884c004          STRB     r12,[r4,#4]
0003a0  7163              STRB     r3,[r4,#5]
0003a2  4b4c              LDR      r3,|L1.1236|
0003a4  f9b33000          LDRSH    r3,[r3,#0]  ; net_F
0003a8  ea4f75e3          ASR      r5,r3,#31
0003ac  eb036515          ADD      r5,r3,r5,LSR #24
0003b0  ea4f2c25          ASR      r12,r5,#8
;;;444    
;;;445    crc_temp=CRC16_2(modbus_tx_buff,6);
0003b4  f884c006          STRB     r12,[r4,#6]
0003b8  71e3              STRB     r3,[r4,#7]
;;;446    
;;;447    modbus_tx_buff[6]=crc_temp%256;
0003ba  4b47              LDR      r3,|L1.1240|
0003bc  f9b33000          LDRSH    r3,[r3,#0]  ; net_Ua
;;;448    modbus_tx_buff[7]=crc_temp/256;
0003c0  ea4f75e3          ASR      r5,r3,#31
0003c4  eb036515          ADD      r5,r3,r5,LSR #24
;;;449    
;;;450    for (i=0;i<8;i++)
0003c8  ea4f2c25          ASR      r12,r5,#8
;;;451    	{
;;;452    	putchar0(modbus_tx_buff[i]);
0003cc  f884c008          STRB     r12,[r4,#8]
0003d0  7263              STRB     r3,[r4,#9]            ;450
0003d2  4b42              LDR      r3,|L1.1244|
0003d4  f9b33000          LDRSH    r3,[r3,#0]            ;450  ; net_Ub
0003d8  ea4f75e3          ASR      r5,r3,#31             ;450
;;;453    	}
;;;454    for (i=0;i<8;i++)
0003dc  eb036515          ADD      r5,r3,r5,LSR #24
;;;455    	{
;;;456    	putchar_sc16is700(modbus_tx_buff[i]);
0003e0  ea4f2c25          ASR      r12,r5,#8
0003e4  f884c00a          STRB     r12,[r4,#0xa]         ;454
0003e8  72e3              STRB     r3,[r4,#0xb]          ;454
0003ea  4b3d              LDR      r3,|L1.1248|
0003ec  f9b33000          LDRSH    r3,[r3,#0]            ;454  ; net_Uc
;;;457    	}
;;;458    }
0003f0  ea4f75e3          ASR      r5,r3,#31
0003f4  eb036515          ADD      r5,r3,r5,LSR #24
0003f8  ea4f2c25          ASR      r12,r5,#8
0003fc  f884c00c          STRB     r12,[r4,#0xc]
000400  7363              STRB     r3,[r4,#0xd]
000402  4b38              LDR      r3,|L1.1252|
000404  f9b35002          LDRSH    r5,[r3,#2]  ; bat
000408  ea4f7ce5          ASR      r12,r5,#31
00040c  eb056c1c          ADD      r12,r5,r12,LSR #24
000410  ea4f282c          ASR      r8,r12,#8
000414  f884800e          STRB     r8,[r4,#0xe]
000418  73e5              STRB     r5,[r4,#0xf]
00041a  f9b35008          LDRSH    r5,[r3,#8]  ; bat
00041e  ea4f7ce5          ASR      r12,r5,#31
000422  eb056c1c          ADD      r12,r5,r12,LSR #24
000426  ea4f282c          ASR      r8,r12,#8
00042a  f8848010          STRB     r8,[r4,#0x10]
00042e  7465              STRB     r5,[r4,#0x11]
000430  f9b3500a          LDRSH    r5,[r3,#0xa]  ; bat
000434  ea4f7ce5          ASR      r12,r5,#31
000438  eb056c1c          ADD      r12,r5,r12,LSR #24
00043c  ea4f282c          ASR      r8,r12,#8
000440  f8848012          STRB     r8,[r4,#0x12]
000444  74e5              STRB     r5,[r4,#0x13]
000446  e04f              B        |L1.1256|
                  |L1.1096|
                          DCD      0x40024000
                  |L1.1100|
                          DCD      ||area_number.6||+0x50
                  |L1.1104|
                          DCD      0x40024038
                  |L1.1108|
                          DCD      0x4002402c
                  |L1.1112|
                          DCD      0x40024028
                  |L1.1116|
                          DCD      0x40024024
                  |L1.1120|
                          DCD      0x40024020
                  |L1.1124|
                          DCD      NUMIST
                  |L1.1128|
                          DCD      PAR
                  |L1.1132|
                          DCD      ZV_ON
                  |L1.1136|
                          DCD      UBM_AV
                  |L1.1140|
                          DCD      TBAT
                  |L1.1144|
                          DCD      UMAX
                  |L1.1148|
                          DCD      UB20
                  |L1.1152|
                          DCD      ||DU||
                  |L1.1156|
                          DCD      UB0
                  |L1.1160|
                          DCD      USIGN
                  |L1.1164|
                          DCD      UMN
                  |L1.1168|
                          DCD      U0B
                  |L1.1172|
                          DCD      IKB
                  |L1.1176|
                          DCD      IZMAX
                  |L1.1180|
                          DCD      IMAX
                  |L1.1184|
                          DCD      IMIN
                  |L1.1188|
                          DCD      UVZ
                  |L1.1192|
                          DCD      TZAS
                  |L1.1196|
                          DCD      TMAX
                  |L1.1200|
                          DCD      TSIGN
                  |L1.1204|
                          DCD      TBATMAX
                  |L1.1208|
                          DCD      TBATSIGN
                  |L1.1212|
                          DCD      speedChrgCurr
                  |L1.1216|
                          DCD      speedChrgVolt
                  |L1.1220|
                          DCD      speedChrgTimeInHour
                  |L1.1224|
                          DCD      out_U
                  |L1.1228|
                          DCD      bps_I
                  |L1.1232|
                          DCD      net_U
                  |L1.1236|
                          DCD      net_F
                  |L1.1240|
                          DCD      net_Ua
                  |L1.1244|
                          DCD      net_Ub
                  |L1.1248|
                          DCD      net_Uc
                  |L1.1252|
                          DCD      bat
                  |L1.1256|
0004e8  8a1d              LDRH     r5,[r3,#0x10]  ; bat
0004ea  ea4f2c15          LSR      r12,r5,#8
0004ee  f884c014          STRB     r12,[r4,#0x14]
0004f2  7565              STRB     r5,[r4,#0x15]
0004f4  f9b35004          LDRSH    r5,[r3,#4]  ; bat
0004f8  ea4f7ce5          ASR      r12,r5,#31
0004fc  eb056c1c          ADD      r12,r5,r12,LSR #24
000500  ea4f282c          ASR      r8,r12,#8
000504  f8848016          STRB     r8,[r4,#0x16]
000508  75e5              STRB     r5,[r4,#0x17]
00050a  f9b35006          LDRSH    r5,[r3,#6]  ; bat
00050e  ea4f7ce5          ASR      r12,r5,#31
000512  eb056c1c          ADD      r12,r5,r12,LSR #24
000516  ea4f282c          ASR      r8,r12,#8
00051a  f8848018          STRB     r8,[r4,#0x18]
00051e  7665              STRB     r5,[r4,#0x19]
000520  f8dfc4a4          LDR      r12,|L1.2504|
000524  f9bc5000          LDRSH    r5,[r12,#0]  ; BAT_C_REAL
000528  ea4f78e5          ASR      r8,r5,#31
00052c  eb056818          ADD      r8,r5,r8,LSR #24
000530  ea4f2928          ASR      r9,r8,#8
000534  f884901a          STRB     r9,[r4,#0x1a]
000538  76e5              STRB     r5,[r4,#0x1b]
00053a  f9b3504e          LDRSH    r5,[r3,#0x4e]  ; bat
00053e  ea4f78e5          ASR      r8,r5,#31
000542  eb056818          ADD      r8,r5,r8,LSR #24
000546  ea4f2928          ASR      r9,r8,#8
00054a  f884901c          STRB     r9,[r4,#0x1c]
00054e  7765              STRB     r5,[r4,#0x1d]
000550  f9b35054          LDRSH    r5,[r3,#0x54]  ; bat
000554  ea4f78e5          ASR      r8,r5,#31
000558  eb056818          ADD      r8,r5,r8,LSR #24
00055c  ea4f2928          ASR      r9,r8,#8
000560  f884901e          STRB     r9,[r4,#0x1e]
000564  f8045f1f          STRB     r5,[r4,#0x1f]!
000568  f9b35056          LDRSH    r5,[r3,#0x56]  ; bat
00056c  ea4f78e5          ASR      r8,r5,#31
000570  eb056818          ADD      r8,r5,r8,LSR #24
000574  ea4f2928          ASR      r9,r8,#8
000578  f8849001          STRB     r9,[r4,#1]
00057c  70a5              STRB     r5,[r4,#2]
00057e  f8b3505c          LDRH     r5,[r3,#0x5c]  ; bat
000582  ea4f2815          LSR      r8,r5,#8
000586  f8848003          STRB     r8,[r4,#3]
00058a  7125              STRB     r5,[r4,#4]
00058c  f9b35050          LDRSH    r5,[r3,#0x50]  ; bat
000590  ea4f78e5          ASR      r8,r5,#31
000594  eb056818          ADD      r8,r5,r8,LSR #24
000598  ea4f2928          ASR      r9,r8,#8
00059c  f8849005          STRB     r9,[r4,#5]
0005a0  71a5              STRB     r5,[r4,#6]
0005a2  f9b33052          LDRSH    r3,[r3,#0x52]  ; bat
0005a6  ea4f75e3          ASR      r5,r3,#31
0005aa  eb036515          ADD      r5,r3,r5,LSR #24
0005ae  ea4f2825          ASR      r8,r5,#8
0005b2  f8848007          STRB     r8,[r4,#7]
0005b6  7223              STRB     r3,[r4,#8]
0005b8  f9bc3002          LDRSH    r3,[r12,#2]  ; BAT_C_REAL
0005bc  ea4f75e3          ASR      r5,r3,#31
0005c0  eb036515          ADD      r5,r3,r5,LSR #24
0005c4  ea4f2c25          ASR      r12,r5,#8
0005c8  f884c009          STRB     r12,[r4,#9]
0005cc  72a3              STRB     r3,[r4,#0xa]
0005ce  4dff              LDR      r5,|L1.2508|
0005d0  69eb              LDR      r3,[r5,#0x1c]  ; bps
0005d2  ea4f7ce3          ASR      r12,r3,#31
0005d6  eb036c1c          ADD      r12,r3,r12,LSR #24
0005da  ea4f282c          ASR      r8,r12,#8
0005de  f884800b          STRB     r8,[r4,#0xb]
0005e2  7323              STRB     r3,[r4,#0xc]
0005e4  6a6b              LDR      r3,[r5,#0x24]  ; bps
0005e6  ea4f7ce3          ASR      r12,r3,#31
0005ea  eb036c1c          ADD      r12,r3,r12,LSR #24
0005ee  ea4f282c          ASR      r8,r12,#8
0005f2  f884800d          STRB     r8,[r4,#0xd]
0005f6  73a3              STRB     r3,[r4,#0xe]
0005f8  6aab              LDR      r3,[r5,#0x28]  ; bps
0005fa  ea4f7ce3          ASR      r12,r3,#31
0005fe  eb036c1c          ADD      r12,r3,r12,LSR #24
000602  ea4f282c          ASR      r8,r12,#8
000606  f884800f          STRB     r8,[r4,#0xf]
00060a  7423              STRB     r3,[r4,#0x10]
00060c  f04f0c00          MOV      r12,#0
000610  f884c011          STRB     r12,[r4,#0x11]
000614  786b              LDRB     r3,[r5,#1]  ; bps
000616  74a3              STRB     r3,[r4,#0x12]
000618  6f2b              LDR      r3,[r5,#0x70]  ; bps
00061a  ea4f78e3          ASR      r8,r3,#31
00061e  eb036818          ADD      r8,r3,r8,LSR #24
000622  ea4f2928          ASR      r9,r8,#8
000626  f8849013          STRB     r9,[r4,#0x13]
00062a  7523              STRB     r3,[r4,#0x14]
00062c  6fab              LDR      r3,[r5,#0x78]  ; bps
00062e  ea4f78e3          ASR      r8,r3,#31
000632  eb036818          ADD      r8,r3,r8,LSR #24
000636  ea4f2928          ASR      r9,r8,#8
00063a  f8849015          STRB     r9,[r4,#0x15]
00063e  75a3              STRB     r3,[r4,#0x16]
000640  6feb              LDR      r3,[r5,#0x7c]  ; bps
000642  ea4f78e3          ASR      r8,r3,#31
000646  eb036818          ADD      r8,r3,r8,LSR #24
00064a  ea4f2928          ASR      r9,r8,#8
00064e  f8849017          STRB     r9,[r4,#0x17]
000652  7623              STRB     r3,[r4,#0x18]
000654  f884c019          STRB     r12,[r4,#0x19]
000658  f8953055          LDRB     r3,[r5,#0x55]  ; bps
00065c  76a3              STRB     r3,[r4,#0x1a]
00065e  f8553fc4          LDR      r3,[r5,#0xc4]!  ; bps
000662  ea4f78e3          ASR      r8,r3,#31
000666  eb036818          ADD      r8,r3,r8,LSR #24
00066a  ea4f2928          ASR      r9,r8,#8
00066e  f884901b          STRB     r9,[r4,#0x1b]
000672  7723              STRB     r3,[r4,#0x1c]
000674  68ab              LDR      r3,[r5,#8]  ; bps
000676  ea4f78e3          ASR      r8,r3,#31
00067a  eb036818          ADD      r8,r3,r8,LSR #24
00067e  ea4f2928          ASR      r9,r8,#8
000682  f884901d          STRB     r9,[r4,#0x1d]
000686  77a3              STRB     r3,[r4,#0x1e]
000688  68eb              LDR      r3,[r5,#0xc]  ; bps
00068a  f1a505c4          SUB      r5,r5,#0xc4
00068e  ea4f78e3          ASR      r8,r3,#31
000692  eb036818          ADD      r8,r3,r8,LSR #24
000696  ea4f2928          ASR      r9,r8,#8
00069a  f884901f          STRB     r9,[r4,#0x1f]
00069e  f8843020          STRB     r3,[r4,#0x20]
0006a2  f884c021          STRB     r12,[r4,#0x21]
0006a6  f89530a9          LDRB     r3,[r5,#0xa9]  ; bps
0006aa  f8843022          STRB     r3,[r4,#0x22]
0006ae  f8d53118          LDR      r3,[r5,#0x118]  ; bps
0006b2  ea4f78e3          ASR      r8,r3,#31
0006b6  eb036818          ADD      r8,r3,r8,LSR #24
0006ba  ea4f2928          ASR      r9,r8,#8
0006be  f8849023          STRB     r9,[r4,#0x23]
0006c2  f1a4041f          SUB      r4,r4,#0x1f
0006c6  f8043f43          STRB     r3,[r4,#0x43]!
0006ca  f10505fc          ADD      r5,r5,#0xfc
0006ce  6a6b              LDR      r3,[r5,#0x24]  ; bps
0006d0  ea4f78e3          ASR      r8,r3,#31
0006d4  eb036818          ADD      r8,r3,r8,LSR #24
0006d8  ea4f2928          ASR      r9,r8,#8
0006dc  f8849001          STRB     r9,[r4,#1]
0006e0  70a3              STRB     r3,[r4,#2]
0006e2  6aab              LDR      r3,[r5,#0x28]  ; bps
0006e4  ea4f78e3          ASR      r8,r3,#31
0006e8  eb036818          ADD      r8,r3,r8,LSR #24
0006ec  ea4f2928          ASR      r9,r8,#8
0006f0  f8849003          STRB     r9,[r4,#3]
0006f4  7123              STRB     r3,[r4,#4]
0006f6  f884c005          STRB     r12,[r4,#5]
0006fa  786b              LDRB     r3,[r5,#1]  ; bps
0006fc  71a3              STRB     r3,[r4,#6]
0006fe  6f2b              LDR      r3,[r5,#0x70]  ; bps
000700  ea4f78e3          ASR      r8,r3,#31
000704  eb036818          ADD      r8,r3,r8,LSR #24
000708  ea4f2928          ASR      r9,r8,#8
00070c  f8849007          STRB     r9,[r4,#7]
000710  7223              STRB     r3,[r4,#8]
000712  6fab              LDR      r3,[r5,#0x78]  ; bps
000714  ea4f78e3          ASR      r8,r3,#31
000718  eb036818          ADD      r8,r3,r8,LSR #24
00071c  ea4f2928          ASR      r9,r8,#8
000720  f8849009          STRB     r9,[r4,#9]
000724  72a3              STRB     r3,[r4,#0xa]
000726  6feb              LDR      r3,[r5,#0x7c]  ; bps
000728  ea4f78e3          ASR      r8,r3,#31
00072c  eb036818          ADD      r8,r3,r8,LSR #24
000730  ea4f2928          ASR      r9,r8,#8
000734  f884900b          STRB     r9,[r4,#0xb]
000738  7323              STRB     r3,[r4,#0xc]
00073a  f884c00d          STRB     r12,[r4,#0xd]
00073e  f8953055          LDRB     r3,[r5,#0x55]  ; bps
000742  73a3              STRB     r3,[r4,#0xe]
000744  f8553fc4          LDR      r3,[r5,#0xc4]!  ; bps
000748  ea4f78e3          ASR      r8,r3,#31
00074c  eb036818          ADD      r8,r3,r8,LSR #24
000750  ea4f2928          ASR      r9,r8,#8
000754  f884900f          STRB     r9,[r4,#0xf]
000758  7423              STRB     r3,[r4,#0x10]
00075a  68ab              LDR      r3,[r5,#8]  ; bps
00075c  ea4f78e3          ASR      r8,r3,#31
000760  eb036818          ADD      r8,r3,r8,LSR #24
000764  ea4f2928          ASR      r9,r8,#8
000768  f8849011          STRB     r9,[r4,#0x11]
00076c  74a3              STRB     r3,[r4,#0x12]
00076e  68eb              LDR      r3,[r5,#0xc]  ; bps
000770  f1a505c4          SUB      r5,r5,#0xc4
000774  ea4f78e3          ASR      r8,r3,#31
000778  eb036818          ADD      r8,r3,r8,LSR #24
00077c  ea4f2928          ASR      r9,r8,#8
000780  f8849013          STRB     r9,[r4,#0x13]
000784  7523              STRB     r3,[r4,#0x14]
000786  f884c015          STRB     r12,[r4,#0x15]
00078a  f10505fc          ADD      r5,r5,#0xfc
00078e  f8153c53          LDRB     r3,[r5,#-0x53]  ; bps
000792  f8043f16          STRB     r3,[r4,#0x16]!
000796  69eb              LDR      r3,[r5,#0x1c]  ; bps
000798  ea4f78e3          ASR      r8,r3,#31
00079c  eb036818          ADD      r8,r3,r8,LSR #24
0007a0  ea4f2928          ASR      r9,r8,#8
0007a4  f8849001          STRB     r9,[r4,#1]
0007a8  70a3              STRB     r3,[r4,#2]
0007aa  6a6b              LDR      r3,[r5,#0x24]  ; bps
0007ac  ea4f78e3          ASR      r8,r3,#31
0007b0  eb036818          ADD      r8,r3,r8,LSR #24
0007b4  ea4f2928          ASR      r9,r8,#8
0007b8  f8849003          STRB     r9,[r4,#3]
0007bc  7123              STRB     r3,[r4,#4]
0007be  6aab              LDR      r3,[r5,#0x28]  ; bps
0007c0  ea4f78e3          ASR      r8,r3,#31
0007c4  eb036818          ADD      r8,r3,r8,LSR #24
0007c8  ea4f2928          ASR      r9,r8,#8
0007cc  f8849005          STRB     r9,[r4,#5]
0007d0  71a3              STRB     r3,[r4,#6]
0007d2  f884c007          STRB     r12,[r4,#7]
0007d6  786b              LDRB     r3,[r5,#1]  ; bps
0007d8  7223              STRB     r3,[r4,#8]
0007da  6f2b              LDR      r3,[r5,#0x70]  ; bps
0007dc  ea4f78e3          ASR      r8,r3,#31
0007e0  eb036818          ADD      r8,r3,r8,LSR #24
0007e4  ea4f2928          ASR      r9,r8,#8
0007e8  f8849009          STRB     r9,[r4,#9]
0007ec  72a3              STRB     r3,[r4,#0xa]
0007ee  6fab              LDR      r3,[r5,#0x78]  ; bps
0007f0  ea4f78e3          ASR      r8,r3,#31
0007f4  eb036818          ADD      r8,r3,r8,LSR #24
0007f8  ea4f2928          ASR      r9,r8,#8
0007fc  f884900b          STRB     r9,[r4,#0xb]
000800  7323              STRB     r3,[r4,#0xc]
000802  6feb              LDR      r3,[r5,#0x7c]  ; bps
000804  f5a575fc          SUB      r5,r5,#0x1f8
000808  ea4f78e3          ASR      r8,r3,#31
00080c  eb036818          ADD      r8,r3,r8,LSR #24
000810  ea4f2928          ASR      r9,r8,#8
000814  f884900d          STRB     r9,[r4,#0xd]
000818  73a3              STRB     r3,[r4,#0xe]
00081a  f1a40459          SUB      r4,r4,#0x59
00081e  f884c068          STRB     r12,[r4,#0x68]
000822  f895324d          LDRB     r3,[r5,#0x24d]  ; bps
000826  f8843069          STRB     r3,[r4,#0x69]
00082a  4b69              LDR      r3,|L1.2512|
00082c  f9b33000          LDRSH    r3,[r3,#0]  ; bps_U
000830  ea4f75e3          ASR      r5,r3,#31
000834  eb036515          ADD      r5,r3,r5,LSR #24
000838  ea4f2825          ASR      r8,r5,#8
00083c  f884806a          STRB     r8,[r4,#0x6a]
000840  f884306b          STRB     r3,[r4,#0x6b]
000844  4663              MOV      r3,r12
000846  4d63              LDR      r5,|L1.2516|
000848  882d              LDRH     r5,[r5,#0]  ; speedChIsOn
00084a  b10d              CBZ      r5,|L1.2128|
00084c  f04f0301          MOV      r3,#1
                  |L1.2128|
000850  ea4f75e3          ASR      r5,r3,#31
000854  eb036515          ADD      r5,r3,r5,LSR #24
000858  ea4f2825          ASR      r8,r5,#8
00085c  f884806c          STRB     r8,[r4,#0x6c]
000860  f884306d          STRB     r3,[r4,#0x6d]
000864  f04f0300          MOV      r3,#0
000868  4d5b              LDR      r5,|L1.2520|
00086a  782d              LDRB     r5,[r5,#0]  ; spc_stat
00086c  2d02              CMP      r5,#2
00086e  d101              BNE      |L1.2164|
000870  f04f0301          MOV      r3,#1
                  |L1.2164|
000874  ea4f75e3          ASR      r5,r3,#31
000878  eb036515          ADD      r5,r3,r5,LSR #24
00087c  ea4f2825          ASR      r8,r5,#8
000880  f884806e          STRB     r8,[r4,#0x6e]
000884  f884306f          STRB     r3,[r4,#0x6f]
000888  f884c070          STRB     r12,[r4,#0x70]
00088c  4b53              LDR      r3,|L1.2524|
00088e  781b              LDRB     r3,[r3,#0]  ; uout_av
000890  f8843071          STRB     r3,[r4,#0x71]
000894  f8df8148          LDR      r8,|L1.2528|
000898  f9b83000          LDRSH    r3,[r8,#0]  ; t_ext
00089c  f8dfa144          LDR      r10,|L1.2532|
0008a0  f8df9144          LDR      r9,|L1.2536|
0008a4  f8da5000          LDR      r5,[r10,#0]  ; ND_EXT
0008a8  b105              CBZ      r5,|L1.2220|
0008aa  464b              MOV      r3,r9
                  |L1.2220|
0008ac  ea4f75e3          ASR      r5,r3,#31
0008b0  eb036515          ADD      r5,r3,r5,LSR #24
0008b4  ea4f2c25          ASR      r12,r5,#8
0008b8  f884c190          STRB     r12,[r4,#0x190]
0008bc  f8843191          STRB     r3,[r4,#0x191]
0008c0  f9b85002          LDRSH    r5,[r8,#2]  ; t_ext
0008c4  f8da3004          LDR      r3,[r10,#4]  ; ND_EXT
0008c8  b103              CBZ      r3,|L1.2252|
0008ca  464d              MOV      r5,r9
                  |L1.2252|
0008cc  ea4f73e5          ASR      r3,r5,#31
0008d0  eb056313          ADD      r3,r5,r3,LSR #24
0008d4  ea4f2c23          ASR      r12,r3,#8
0008d8  f884c192          STRB     r12,[r4,#0x192]
0008dc  462b              MOV      r3,r5
0008de  f8843193          STRB     r3,[r4,#0x193]
0008e2  f9b8c004          LDRSH    r12,[r8,#4]  ; t_ext
0008e6  f8da3008          LDR      r3,[r10,#8]  ; ND_EXT
0008ea  b103              CBZ      r3,|L1.2286|
0008ec  46cc              MOV      r12,r9
                  |L1.2286|
0008ee  ea4f73ec          ASR      r3,r12,#31
0008f2  eb0c6313          ADD      r3,r12,r3,LSR #24
0008f6  ea4f2523          ASR      r5,r3,#8
0008fa  f8845194          STRB     r5,[r4,#0x194]
0008fe  4663              MOV      r3,r12
000900  f8843195          STRB     r3,[r4,#0x195]
000904  f9b88006          LDRSH    r8,[r8,#6]  ; t_ext
000908  f8da300c          LDR      r3,[r10,#0xc]  ; ND_EXT
00090c  b103              CBZ      r3,|L1.2320|
00090e  46c8              MOV      r8,r9
                  |L1.2320|
000910  ea4f73e8          ASR      r3,r8,#31
000914  eb086313          ADD      r3,r8,r3,LSR #24
000918  ea4f2523          ASR      r5,r3,#8
00091c  f8845196          STRB     r5,[r4,#0x196]
000920  4643              MOV      r3,r8
000922  f8843197          STRB     r3,[r4,#0x197]
000926  f04f0500          MOV      r5,#0
00092a  f8dfc0c0          LDR      r12,|L1.2540|
00092e  f89c3000          LDRB     r3,[r12,#0]  ; sk_stat
000932  2b01              CMP      r3,#1
000934  d100              BNE      |L1.2360|
000936  461d              MOV      r5,r3
                  |L1.2360|
000938  f8df80b4          LDR      r8,|L1.2544|
00093c  f8983000          LDRB     r3,[r8,#0]  ; sk_av_stat
000940  2b01              CMP      r3,#1
000942  d101              BNE      |L1.2376|
000944  f0450502          ORR      r5,r5,#2
                  |L1.2376|
000948  ea4f73e5          ASR      r3,r5,#31
00094c  eb056313          ADD      r3,r5,r3,LSR #24
000950  ea4f2923          ASR      r9,r3,#8
000954  f88491a4          STRB     r9,[r4,#0x1a4]
000958  462b              MOV      r3,r5
00095a  f88431a5          STRB     r3,[r4,#0x1a5]
00095e  f04f0300          MOV      r3,#0
000962  f89c5001          LDRB     r5,[r12,#1]  ; sk_stat
000966  2d01              CMP      r5,#1
000968  d101              BNE      |L1.2414|
00096a  f04f0301          MOV      r3,#1
                  |L1.2414|
00096e  f8985001          LDRB     r5,[r8,#1]  ; sk_av_stat
000972  2d01              CMP      r5,#1
000974  d101              BNE      |L1.2426|
000976  f0430302          ORR      r3,r3,#2
                  |L1.2426|
00097a  ea4f75e3          ASR      r5,r3,#31
00097e  eb036515          ADD      r5,r3,r5,LSR #24
000982  ea4f2925          ASR      r9,r5,#8
000986  f88491a6          STRB     r9,[r4,#0x1a6]
00098a  f88431a7          STRB     r3,[r4,#0x1a7]
00098e  f04f0300          MOV      r3,#0
000992  f89c5002          LDRB     r5,[r12,#2]  ; sk_stat
000996  2d01              CMP      r5,#1
000998  d101              BNE      |L1.2462|
00099a  f04f0301          MOV      r3,#1
                  |L1.2462|
00099e  f8985002          LDRB     r5,[r8,#2]  ; sk_av_stat
0009a2  2d01              CMP      r5,#1
0009a4  d101              BNE      |L1.2474|
0009a6  f0430302          ORR      r3,r3,#2
                  |L1.2474|
0009aa  ea4f75e3          ASR      r5,r3,#31
0009ae  eb036515          ADD      r5,r3,r5,LSR #24
0009b2  ea4f2925          ASR      r9,r5,#8
0009b6  f88491a8          STRB     r9,[r4,#0x1a8]
0009ba  f88431a9          STRB     r3,[r4,#0x1a9]
0009be  f04f0300          MOV      r3,#0
0009c2  f89c5003          LDRB     r5,[r12,#3]  ; sk_stat
0009c6  e015              B        |L1.2548|
                  |L1.2504|
                          DCD      BAT_C_REAL
                  |L1.2508|
                          DCD      bps
                  |L1.2512|
                          DCD      bps_U
                  |L1.2516|
                          DCD      speedChIsOn
                  |L1.2520|
                          DCD      spc_stat
                  |L1.2524|
                          DCD      uout_av
                  |L1.2528|
                          DCD      t_ext
                  |L1.2532|
                          DCD      ND_EXT
                  |L1.2536|
                          DCD      0xfffffc18
                  |L1.2540|
                          DCD      sk_stat
                  |L1.2544|
                          DCD      sk_av_stat
                  |L1.2548|
0009f4  2d01              CMP      r5,#1
0009f6  d101              BNE      |L1.2556|
0009f8  f04f0301          MOV      r3,#1
                  |L1.2556|
0009fc  f8985003          LDRB     r5,[r8,#3]  ; sk_av_stat
000a00  2d01              CMP      r5,#1
000a02  d101              BNE      |L1.2568|
000a04  f0430302          ORR      r3,r3,#2
                  |L1.2568|
000a08  ea4f75e3          ASR      r5,r3,#31
000a0c  eb036515          ADD      r5,r3,r5,LSR #24
000a10  ea4f2c25          ASR      r12,r5,#8
000a14  f884c1aa          STRB     r12,[r4,#0x1aa]
000a18  f88431ab          STRB     r3,[r4,#0x1ab]
000a1c  4bff              LDR      r3,|L1.3612|
000a1e  f1a20201          SUB      r2,r2,#1
000a22  eb030342          ADD      r3,r3,r2,LSL #1
000a26  b137              CBZ      r7,|L1.2614|
000a28  2f01              CMP      r7,#1
000a2a  d101              BNE      |L1.2608|
000a2c  48fc              LDR      r0,|L1.3616|
000a2e  6003              STR      r3,[r0,#0]  ; modbus_tcp_out_ptr
                  |L1.2608|
000a30  b032              ADD      sp,sp,#0xc8
000a32  e8bd87f0          POP      {r4-r10,pc}
                  |L1.2614|
000a36  f88d0000          STRB     r0,[sp,#0]
000a3a  f88d1001          STRB     r1,[sp,#1]
000a3e  ea4f0246          LSL      r2,r6,#1
000a42  f88d2002          STRB     r2,[sp,#2]
000a46  4619              MOV      r1,r3
000a48  466f              MOV      r7,sp
000a4a  f10d0003          ADD      r0,sp,#3
000a4e  f7fffffe          BL       mem_copy
000a52  2003              MOVS     r0,#3
000a54  eb000046          ADD      r0,r0,r6,LSL #1
000a58  b201              SXTH     r1,r0
000a5a  4668              MOV      r0,sp
000a5c  f7fffffe          BL       CRC16_2
000a60  eb070146          ADD      r1,r7,r6,LSL #1
000a64  70c8              STRB     r0,[r1,#3]
000a66  ea4f2010          LSR      r0,r0,#8
000a6a  7108              STRB     r0,[r1,#4]
000a6c  f04f0400          MOV      r4,#0
000a70  f04f0005          MOV      r0,#5
000a74  eb000546          ADD      r5,r0,r6,LSL #1
000a78  e005              B        |L1.2694|
                  |L1.2682|
000a7a  5d38              LDRB     r0,[r7,r4]
000a7c  f7fffffe          BL       putchar0
000a80  f1040401          ADD      r4,r4,#1
000a84  b2e4              UXTB     r4,r4
                  |L1.2694|
000a86  42a5              CMP      r5,r4
000a88  d8f7              BHI      |L1.2682|
000a8a  f04f0400          MOV      r4,#0
000a8e  e005              B        |L1.2716|
                  |L1.2704|
000a90  5d38              LDRB     r0,[r7,r4]
000a92  f7fffffe          BL       putchar_sc16is700
000a96  f1040401          ADD      r4,r4,#1
000a9a  b2e4              UXTB     r4,r4
                  |L1.2716|
000a9c  42a5              CMP      r5,r4
000a9e  d8f7              BHI      |L1.2704|
000aa0  e7c6              B        |L1.2608|
;;;459    
                          ENDP

                  modbus_hold_registers_transmit PROC
;;;701    //-----------------------------------------------
;;;702    void modbus_hold_registers_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr,unsigned short reg_quantity, char prot)
000aa2  e92d43f0          PUSH     {r4-r9,lr}
;;;703    {
000aa6  b0a7              SUB      sp,sp,#0x9c
000aa8  4680              MOV      r8,r0
000aaa  9e2e              LDR      r6,[sp,#0xb8]
000aac  4689              MOV      r9,r1
000aae  4617              MOV      r7,r2
000ab0  461d              MOV      r5,r3
;;;704    //char modbus_registers[150];
;;;705    char modbus_tx_buff[150];
;;;706    unsigned short crc_temp;
;;;707    char i;
;;;708    
;;;709    modbus_registers[20]=(char)((LPC_RTC->YEAR)/256);			//Πεγ11  Βπεμ, γξδ
000ab2  48dc              LDR      r0,|L1.3620|
000ab4  8f80              LDRH     r0,[r0,#0x3c]
000ab6  4cd9              LDR      r4,|L1.3612|
000ab8  ea4f2010          LSR      r0,r0,#8
000abc  f1040414          ADD      r4,r4,#0x14
000ac0  7020              STRB     r0,[r4,#0]
;;;710    modbus_registers[21]=(char)((LPC_RTC->YEAR)%256);
000ac2  48d8              LDR      r0,|L1.3620|
000ac4  8f80              LDRH     r0,[r0,#0x3c]
000ac6  7060              STRB     r0,[r4,#1]
;;;711    modbus_registers[22]=(char)((LPC_RTC->MONTH)/256);		//Πεγ12  Βπεμ, μερφ
000ac8  48d6              LDR      r0,|L1.3620|
000aca  f8900038          LDRB     r0,[r0,#0x38]
000ace  f04f0000          MOV      r0,#0
000ad2  70a0              STRB     r0,[r4,#2]
;;;712    modbus_registers[23]=(char)((LPC_RTC->MONTH)%256);
000ad4  49d4              LDR      r1,|L1.3624|
000ad6  7809              LDRB     r1,[r1,#0]
000ad8  70e1              STRB     r1,[r4,#3]
;;;713    modbus_registers[24]=(char)((LPC_RTC->DOM)/256);			//Πεγ13  Βπεμ, δενό μερφΰ
000ada  49d4              LDR      r1,|L1.3628|
000adc  7809              LDRB     r1,[r1,#0]
000ade  7120              STRB     r0,[r4,#4]
;;;714    modbus_registers[25]=(char)((LPC_RTC->DOM)%256);
000ae0  49d2              LDR      r1,|L1.3628|
000ae2  7809              LDRB     r1,[r1,#0]
000ae4  7161              STRB     r1,[r4,#5]
;;;715    modbus_registers[26]=(char)((LPC_RTC->HOUR)/256);			//Πεγ14  Βπεμ, χΰρ
000ae6  49d2              LDR      r1,|L1.3632|
000ae8  7809              LDRB     r1,[r1,#0]
000aea  71a0              STRB     r0,[r4,#6]
;;;716    modbus_registers[27]=(char)((LPC_RTC->HOUR)%256);
000aec  49d0              LDR      r1,|L1.3632|
000aee  7809              LDRB     r1,[r1,#0]
000af0  71e1              STRB     r1,[r4,#7]
;;;717    modbus_registers[28]=(char)((LPC_RTC->MIN)/256);			//Πεγ15  Βπεμ, μθνσςϋ
000af2  49d0              LDR      r1,|L1.3636|
000af4  7809              LDRB     r1,[r1,#0]
000af6  7220              STRB     r0,[r4,#8]
;;;718    modbus_registers[29]=(char)((LPC_RTC->MIN)%256);
000af8  49ce              LDR      r1,|L1.3636|
000afa  7809              LDRB     r1,[r1,#0]
000afc  7261              STRB     r1,[r4,#9]
;;;719    modbus_registers[30]=(char)((LPC_RTC->SEC)/256);			//Πεγ16  Βπεμ, ρεκσνδϋ
000afe  49ce              LDR      r1,|L1.3640|
000b00  7809              LDRB     r1,[r1,#0]
000b02  72a0              STRB     r0,[r4,#0xa]
;;;720    modbus_registers[31]=(char)((LPC_RTC->SEC)%256);
000b04  48cc              LDR      r0,|L1.3640|
000b06  7800              LDRB     r0,[r0,#0]
000b08  72e0              STRB     r0,[r4,#0xb]
000b0a  f1040412          ADD      r4,r4,#0x12
;;;721    modbus_registers[38]=(char)(NUMIST/256);				//Πεγ20  Κξλθχερςβξ βϋοπμθςελει β ρςπσκςσπε
000b0e  48cb              LDR      r0,|L1.3644|
000b10  f9b00000          LDRSH    r0,[r0,#0]  ; NUMIST
000b14  ea4f71e0          ASR      r1,r0,#31
000b18  eb006111          ADD      r1,r0,r1,LSR #24
000b1c  ea4f2221          ASR      r2,r1,#8
000b20  7022              STRB     r2,[r4,#0]
;;;722    modbus_registers[39]=(char)(NUMIST%256);
000b22  7060              STRB     r0,[r4,#1]
;;;723    modbus_registers[40]=(char)(PAR/256);					//Πεγ21  Οΰπΰλλελόνΰ πΰαξςΰ βϋοπμθςελει βκλ./βϋκλ.
000b24  48c6              LDR      r0,|L1.3648|
000b26  f9b00000          LDRSH    r0,[r0,#0]  ; PAR
000b2a  ea4f71e0          ASR      r1,r0,#31
000b2e  eb006111          ADD      r1,r0,r1,LSR #24
000b32  ea4f2221          ASR      r2,r1,#8
000b36  70a2              STRB     r2,[r4,#2]
;;;724    modbus_registers[41]=(char)(PAR%256);
000b38  70e0              STRB     r0,[r4,#3]
;;;725    modbus_registers[42]=(char)(ZV_ON/256);					//Πεγ22  Ηβσκξβΰ ΰβΰπθινΰ ρθγνΰλθηΰφθ βκλ./βϋκλ.
000b3a  48c2              LDR      r0,|L1.3652|
000b3c  f9b00000          LDRSH    r0,[r0,#0]  ; ZV_ON
000b40  ea4f71e0          ASR      r1,r0,#31
000b44  eb006111          ADD      r1,r0,r1,LSR #24
000b48  ea4f2221          ASR      r2,r1,#8
000b4c  7122              STRB     r2,[r4,#4]
;;;726    modbus_registers[43]=(char)(ZV_ON%256);
000b4e  7160              STRB     r0,[r4,#5]
;;;727    modbus_registers[46]=(char)(UBM_AV/256);				//Πεγ24  ΐβΰπθινϋι σπξβενό ξςκλξνενθ νΰοπζενθ ρπεδνει ςξχκθ αΰςΰπεθ, %
000b50  48bd              LDR      r0,|L1.3656|
000b52  f9b00000          LDRSH    r0,[r0,#0]  ; UBM_AV
000b56  ea4f71e0          ASR      r1,r0,#31
000b5a  eb006111          ADD      r1,r0,r1,LSR #24
000b5e  ea4f2221          ASR      r2,r1,#8
000b62  7222              STRB     r2,[r4,#8]
;;;728    modbus_registers[47]=(char)(UBM_AV%256);
000b64  7260              STRB     r0,[r4,#9]
;;;729    modbus_registers[58]=(char)(TBAT/256);					//Πεγ30  Οεπθξδ οπξβεπκθ φεοθ αΰςΰπεθ, μθνσς.
000b66  48b9              LDR      r0,|L1.3660|
000b68  f9b00000          LDRSH    r0,[r0,#0]  ; TBAT
000b6c  ea4f71e0          ASR      r1,r0,#31
000b70  eb006111          ADD      r1,r0,r1,LSR #24
000b74  ea4f2221          ASR      r2,r1,#8
000b78  7522              STRB     r2,[r4,#0x14]
;;;730    modbus_registers[59]=(char)(TBAT%256);
000b7a  7560              STRB     r0,[r4,#0x15]
;;;731    modbus_registers[60]=(char)(UMAX/256);					//Πεγ31  Μΰκρθμΰλόνξε (ΰβΰπθινξε) νΰοπζενθε βϋοπμθςελει, 0.1Β
000b7c  48b4              LDR      r0,|L1.3664|
000b7e  f9b00000          LDRSH    r0,[r0,#0]  ; UMAX
000b82  ea4f71e0          ASR      r1,r0,#31
000b86  eb006111          ADD      r1,r0,r1,LSR #24
000b8a  ea4f2221          ASR      r2,r1,#8
000b8e  75a2              STRB     r2,[r4,#0x16]
;;;732    modbus_registers[61]=(char)(UMAX%256);
000b90  75e0              STRB     r0,[r4,#0x17]
;;;733    modbus_registers[62]=(char)((UB20-DU)/256);				//Πεγ32  Μθνθμΰλόνξε (ΰβΰπθινξε) νΰοπζενθε βϋοπμθςελει, 0.1Β
000b92  48b0              LDR      r0,|L1.3668|
000b94  f9b03000          LDRSH    r3,[r0,#0]  ; UB20
000b98  48af              LDR      r0,|L1.3672|
000b9a  f9b00000          LDRSH    r0,[r0,#0]  ; DU
000b9e  eba30000          SUB      r0,r3,r0
000ba2  ea4f71e0          ASR      r1,r0,#31
000ba6  eb006111          ADD      r1,r0,r1,LSR #24
000baa  ea4f2221          ASR      r2,r1,#8
000bae  7622              STRB     r2,[r4,#0x18]
;;;734    modbus_registers[63]=(char)((UB20-DU)%256);
000bb0  7660              STRB     r0,[r4,#0x19]
;;;735    modbus_registers[64]=(char)(UB0/256);					//Πεγ33  Νΰοπζενθε ρξδεπζΰνθ αΰςΰπεθ οπθ 0γΦ, 0.1Β
000bb2  48aa              LDR      r0,|L1.3676|
000bb4  f9b00000          LDRSH    r0,[r0,#0]  ; UB0
000bb8  ea4f71e0          ASR      r1,r0,#31
000bbc  eb006111          ADD      r1,r0,r1,LSR #24
000bc0  ea4f2221          ASR      r2,r1,#8
000bc4  76a2              STRB     r2,[r4,#0x1a]
;;;736    modbus_registers[65]=(char)(UB0%256);
000bc6  76e0              STRB     r0,[r4,#0x1b]
;;;737    modbus_registers[66]=(char)(UB20/256);					//Πεγ34  Νΰοπζενθε ρξδεπζΰνθ αΰςΰπεθ οπθ 20γΦ, 0.1Β
000bc8  ea4f70e3          ASR      r0,r3,#31
000bcc  eb036010          ADD      r0,r3,r0,LSR #24
000bd0  ea4f2120          ASR      r1,r0,#8
000bd4  7721              STRB     r1,[r4,#0x1c]
;;;738    modbus_registers[67]=(char)(UB20%256);
000bd6  4618              MOV      r0,r3
000bd8  7760              STRB     r0,[r4,#0x1d]
;;;739    modbus_registers[68]=(char)(USIGN/256);					//Πεγ35  Μθνθμΰλόνξε (ρθγνΰλόνξε) νΰοπζενθε αΰςΰπεθ, 1Β
000bda  48a1              LDR      r0,|L1.3680|
000bdc  f9b00000          LDRSH    r0,[r0,#0]  ; USIGN
000be0  ea4f71e0          ASR      r1,r0,#31
000be4  eb006111          ADD      r1,r0,r1,LSR #24
000be8  ea4f2221          ASR      r2,r1,#8
000bec  77a2              STRB     r2,[r4,#0x1e]
;;;740    modbus_registers[69]=(char)(USIGN%256);
000bee  77e0              STRB     r0,[r4,#0x1f]
;;;741    modbus_registers[70]=(char)(UMN/256);					//Πεγ36  Μθνθμΰλόνξε (ΰβΰπθινξε) νΰοπζενθε οθςΰώωει ρεςθ, 1Β
000bf0  489c              LDR      r0,|L1.3684|
000bf2  f9b00000          LDRSH    r0,[r0,#0]  ; UMN
000bf6  ea4f71e0          ASR      r1,r0,#31
000bfa  eb006111          ADD      r1,r0,r1,LSR #24
000bfe  ea4f2221          ASR      r2,r1,#8
000c02  f8842020          STRB     r2,[r4,#0x20]
;;;742    modbus_registers[71]=(char)(UMN%256);
000c06  f8840021          STRB     r0,[r4,#0x21]
;;;743    modbus_registers[72]=(char)(U0B/256);					//Πεγ37  Πΰαξχεε νΰοπζενθε οπθ νεββεδεννϋυ αΰςΰπευ, 0.1Β
000c0a  4897              LDR      r0,|L1.3688|
000c0c  f9b00000          LDRSH    r0,[r0,#0]  ; U0B
000c10  ea4f71e0          ASR      r1,r0,#31
000c14  eb006111          ADD      r1,r0,r1,LSR #24
000c18  ea4f2221          ASR      r2,r1,#8
000c1c  f8842022          STRB     r2,[r4,#0x22]
;;;744    modbus_registers[73]=(char)(U0B%256);
000c20  f8840023          STRB     r0,[r4,#0x23]
;;;745    modbus_registers[74]=(char)(IKB/256);					//Πεγ38  ξκ κξνςπξλ νΰλθχθ αΰςΰπεθ, 0.1ΰ
000c24  4891              LDR      r0,|L1.3692|
000c26  f9b00000          LDRSH    r0,[r0,#0]  ; IKB
000c2a  ea4f71e0          ASR      r1,r0,#31
000c2e  eb006111          ADD      r1,r0,r1,LSR #24
000c32  ea4f2221          ASR      r2,r1,#8
000c36  f8842024          STRB     r2,[r4,#0x24]
;;;746    modbus_registers[75]=(char)(IKB%256);
000c3a  f8840025          STRB     r0,[r4,#0x25]
000c3e  f1a40426          SUB      r4,r4,#0x26
;;;747    modbus_registers[76]=(char)(IZMAX/256);					//Πεγ39  ξκ ηΰπδΰ αΰςΰπεθ μΰκρθμΰλόνϋι, 0.1ΐ
000c42  488b              LDR      r0,|L1.3696|
000c44  f9b00000          LDRSH    r0,[r0,#0]  ; IZMAX
000c48  ea4f71e0          ASR      r1,r0,#31
000c4c  eb006111          ADD      r1,r0,r1,LSR #24
000c50  ea4f2221          ASR      r2,r1,#8
000c54  f8042f4c          STRB     r2,[r4,#0x4c]!
;;;748    modbus_registers[77]=(char)(IZMAX%256);
000c58  7060              STRB     r0,[r4,#1]
;;;749    modbus_registers[78]=(char)(IMAX/256);					//Πεγ40  ξκ οεπεκλώχενθ νΰ αξλόψεε κξλ-βξ βϋοπμθςελει, 0.1ΐ
000c5a  4886              LDR      r0,|L1.3700|
000c5c  f9b00000          LDRSH    r0,[r0,#0]  ; IMAX
000c60  ea4f71e0          ASR      r1,r0,#31
000c64  eb006111          ADD      r1,r0,r1,LSR #24
000c68  ea4f2221          ASR      r2,r1,#8
000c6c  70a2              STRB     r2,[r4,#2]
;;;750    modbus_registers[79]=(char)(IMAX%256);
000c6e  70e0              STRB     r0,[r4,#3]
;;;751    modbus_registers[80]=(char)(IMIN/256);					//Πεγ41  ξκ οεπεκλώχενθ νΰ μενόψεε κξλ-βξ βϋοπμθςελει, 0.1ΐ
000c70  4881              LDR      r0,|L1.3704|
000c72  f9b00000          LDRSH    r0,[r0,#0]  ; IMIN
000c76  ea4f71e0          ASR      r1,r0,#31
000c7a  eb006111          ADD      r1,r0,r1,LSR #24
000c7e  ea4f2221          ASR      r2,r1,#8
000c82  7122              STRB     r2,[r4,#4]
;;;752    modbus_registers[81]=(char)(IMIN%256);
000c84  7160              STRB     r0,[r4,#5]
;;;753    modbus_registers[82]=(char)(UVZ/256);					//Πεγ42  Νΰοπζενθε βϋπΰβνθβΰώωεγξ ηΰπδΰ, 0.1Β
000c86  487d              LDR      r0,|L1.3708|
000c88  f9b00000          LDRSH    r0,[r0,#0]  ; UVZ
000c8c  ea4f71e0          ASR      r1,r0,#31
000c90  eb006111          ADD      r1,r0,r1,LSR #24
000c94  ea4f2221          ASR      r2,r1,#8
000c98  71a2              STRB     r2,[r4,#6]
;;;754    modbus_registers[83]=(char)(UVZ%256);
000c9a  71e0              STRB     r0,[r4,#7]
;;;755    modbus_registers[84]=(char)(TZAS/256);					//Πεγ43  Βπεμ ηΰδεπζκθ βκλώχενθ βϋοπμθςελει, ρεκ
000c9c  4878              LDR      r0,|L1.3712|
000c9e  f9b00000          LDRSH    r0,[r0,#0]  ; TZAS
000ca2  ea4f71e0          ASR      r1,r0,#31
000ca6  eb006111          ADD      r1,r0,r1,LSR #24
000caa  ea4f2221          ASR      r2,r1,#8
000cae  7222              STRB     r2,[r4,#8]
;;;756    modbus_registers[85]=(char)(TZAS%256);
000cb0  7260              STRB     r0,[r4,#9]
;;;757    modbus_registers[86]=(char)(TMAX/256);					//Πεγ44  εμοεπΰςσπΰ βϋοπμθςελει ΰβΰπθινΰ, 1γΦ
000cb2  4874              LDR      r0,|L1.3716|
000cb4  f9b00000          LDRSH    r0,[r0,#0]  ; TMAX
000cb8  ea4f71e0          ASR      r1,r0,#31
000cbc  eb006111          ADD      r1,r0,r1,LSR #24
000cc0  ea4f2221          ASR      r2,r1,#8
000cc4  72a2              STRB     r2,[r4,#0xa]
;;;758    modbus_registers[87]=(char)(TMAX%256);
000cc6  72e0              STRB     r0,[r4,#0xb]
;;;759    modbus_registers[88]=(char)(TSIGN/256);					//Πεγ45  εμοεπΰςσπΰ βϋοπμθςελει ρθγνΰλόνΰ, 1γΦ
000cc8  486f              LDR      r0,|L1.3720|
000cca  f9b00000          LDRSH    r0,[r0,#0]  ; TSIGN
000cce  ea4f71e0          ASR      r1,r0,#31
000cd2  eb006111          ADD      r1,r0,r1,LSR #24
000cd6  ea4f2221          ASR      r2,r1,#8
000cda  7322              STRB     r2,[r4,#0xc]
;;;760    modbus_registers[89]=(char)(TSIGN%256);
000cdc  7360              STRB     r0,[r4,#0xd]
;;;761    modbus_registers[90]=(char)(TBATMAX/256);				//Πεγ46  εμοεπΰςσπΰ αΰςΰπεθ ΰβΰπθινΰ, 1γΦ
000cde  486b              LDR      r0,|L1.3724|
000ce0  f9b00000          LDRSH    r0,[r0,#0]  ; TBATMAX
000ce4  ea4f71e0          ASR      r1,r0,#31
000ce8  eb006111          ADD      r1,r0,r1,LSR #24
000cec  ea4f2221          ASR      r2,r1,#8
000cf0  73a2              STRB     r2,[r4,#0xe]
;;;762    modbus_registers[91]=(char)(TBATMAX%256);
000cf2  73e0              STRB     r0,[r4,#0xf]
;;;763    modbus_registers[92]=(char)(TBATSIGN/256);				//Πεγ47  εμοεπΰςσπΰ αΰςΰπεθ ρθγνΰλόνΰ, 1γΦ
000cf4  4866              LDR      r0,|L1.3728|
000cf6  f9b00000          LDRSH    r0,[r0,#0]  ; TBATSIGN
000cfa  ea4f71e0          ASR      r1,r0,#31
000cfe  eb006111          ADD      r1,r0,r1,LSR #24
000d02  ea4f2221          ASR      r2,r1,#8
000d06  7422              STRB     r2,[r4,#0x10]
;;;764    modbus_registers[93]=(char)(TBATSIGN%256);
000d08  7460              STRB     r0,[r4,#0x11]
;;;765    modbus_registers[94]=(char)(speedChrgCurr/256);					//Πεγ48  ξκ σρκξπεννξγξ ηΰπδΰ, 0.1ΐ
000d0a  4862              LDR      r0,|L1.3732|
000d0c  f9b00000          LDRSH    r0,[r0,#0]  ; speedChrgCurr
000d10  ea4f71e0          ASR      r1,r0,#31
000d14  eb006111          ADD      r1,r0,r1,LSR #24
000d18  ea4f2221          ASR      r2,r1,#8
000d1c  74a2              STRB     r2,[r4,#0x12]
;;;766    modbus_registers[95]=(char)(speedChrgCurr%256);
000d1e  74e0              STRB     r0,[r4,#0x13]
;;;767    modbus_registers[96]=(char)(speedChrgVolt/256);				//Πεγ49	 Νΰοπζενθε σρκξπεννξγξ ηΰπδΰ, 0.1Β 
000d20  485d              LDR      r0,|L1.3736|
000d22  f9b00000          LDRSH    r0,[r0,#0]  ; speedChrgVolt
000d26  ea4f71e0          ASR      r1,r0,#31
000d2a  eb006111          ADD      r1,r0,r1,LSR #24
000d2e  ea4f2221          ASR      r2,r1,#8
000d32  7522              STRB     r2,[r4,#0x14]
;;;768    modbus_registers[97]=(char)(speedChrgVolt%256);
000d34  7560              STRB     r0,[r4,#0x15]
;;;769    modbus_registers[98]=(char)(speedChrgTimeInHour/256);				//Πεγ50	 Βπεμ σρκξπεννξγξ ηΰπδΰ, 1χ
000d36  4859              LDR      r0,|L1.3740|
000d38  f9b00000          LDRSH    r0,[r0,#0]  ; speedChrgTimeInHour
000d3c  ea4f71e0          ASR      r1,r0,#31
000d40  eb006111          ADD      r1,r0,r1,LSR #24
000d44  ea4f2221          ASR      r2,r1,#8
000d48  75a2              STRB     r2,[r4,#0x16]
;;;770    modbus_registers[99]=(char)(speedChrgTimeInHour%256);
000d4a  75e0              STRB     r0,[r4,#0x17]
;;;771    modbus_registers[100]=(char)(U_OUT_KONTR_MAX/256);					//Πεγ51	 Κξνςπξλό βϋυξδνξγξ νΰοπζενθ, Umax, 0.1Β
000d4c  4854              LDR      r0,|L1.3744|
000d4e  f9b00000          LDRSH    r0,[r0,#0]  ; U_OUT_KONTR_MAX
000d52  ea4f71e0          ASR      r1,r0,#31
000d56  eb006111          ADD      r1,r0,r1,LSR #24
000d5a  ea4f2221          ASR      r2,r1,#8
000d5e  7622              STRB     r2,[r4,#0x18]
;;;772    modbus_registers[101]=(char)(U_OUT_KONTR_MAX%256);
000d60  7660              STRB     r0,[r4,#0x19]
;;;773    modbus_registers[102]=(char)(U_OUT_KONTR_MIN/256);					//Πεγ52	 Κξνςπξλό βϋυξδνξγξ νΰοπζενθ, Umin, 0.1Β
000d62  4850              LDR      r0,|L1.3748|
000d64  f9b00000          LDRSH    r0,[r0,#0]  ; U_OUT_KONTR_MIN
000d68  ea4f71e0          ASR      r1,r0,#31
000d6c  eb006111          ADD      r1,r0,r1,LSR #24
000d70  ea4f2221          ASR      r2,r1,#8
000d74  76a2              STRB     r2,[r4,#0x1a]
;;;774    modbus_registers[103]=(char)(U_OUT_KONTR_MIN%256);
000d76  76e0              STRB     r0,[r4,#0x1b]
;;;775    modbus_registers[104]=(char)(U_OUT_KONTR_DELAY/256);				//Πεγ53	 Κξνςπξλό βϋυξδνξγξ νΰοπζενθ, Tηΰδεπζκθ, 1ρεκ.
000d78  484b              LDR      r0,|L1.3752|
000d7a  f9b00000          LDRSH    r0,[r0,#0]  ; U_OUT_KONTR_DELAY
000d7e  ea4f71e0          ASR      r1,r0,#31
000d82  eb006111          ADD      r1,r0,r1,LSR #24
000d86  ea4f2221          ASR      r2,r1,#8
000d8a  7722              STRB     r2,[r4,#0x1c]
;;;776    modbus_registers[105]=(char)(U_OUT_KONTR_DELAY%256);
000d8c  7760              STRB     r0,[r4,#0x1d]
;;;777    
;;;778    			if(modbus_rx_arg0==51)		//
000d8e  4c47              LDR      r4,|L1.3756|
000d90  89a0              LDRH     r0,[r4,#0xc]  ; modbus_rx_arg0
000d92  2833              CMP      r0,#0x33
000d94  d104              BNE      |L1.3488|
;;;779    				{
;;;780    				lc640_write_int(EE_U_OUT_KONTR_MAX,modbus_rx_arg1);
000d96  89e1              LDRH     r1,[r4,#0xe]  ; modbus_rx_arg1
000d98  f44f7095          MOV      r0,#0x12a
000d9c  f7fffffe          BL       lc640_write_int
                  |L1.3488|
;;;781    	     		}
;;;782    			if(modbus_rx_arg0==52)		//
000da0  89a0              LDRH     r0,[r4,#0xc]  ; modbus_rx_arg0
000da2  2834              CMP      r0,#0x34
000da4  d104              BNE      |L1.3504|
;;;783    				{
;;;784    				lc640_write_int(EE_U_OUT_KONTR_MIN,modbus_rx_arg1);
000da6  89e1              LDRH     r1,[r4,#0xe]  ; modbus_rx_arg1
000da8  f44f7096          MOV      r0,#0x12c
000dac  f7fffffe          BL       lc640_write_int
                  |L1.3504|
;;;785    	     		}
;;;786    			if(modbus_rx_arg0==53)		//
000db0  89a0              LDRH     r0,[r4,#0xc]  ; modbus_rx_arg0
000db2  2835              CMP      r0,#0x35
000db4  d104              BNE      |L1.3520|
;;;787    				{
;;;788    				lc640_write_int(EE_U_OUT_KONTR_DELAY,modbus_rx_arg1);
000db6  89e1              LDRH     r1,[r4,#0xe]  ; modbus_rx_arg1
000db8  f44f7097          MOV      r0,#0x12e
000dbc  f7fffffe          BL       lc640_write_int
                  |L1.3520|
000dc0  4816              LDR      r0,|L1.3612|
;;;789    	     		}
;;;790    
;;;791    
;;;792    if(prot==MODBUS_RTU_PROT)
;;;793    	{
;;;794    	modbus_tx_buff[0]=adr;
;;;795    	modbus_tx_buff[1]=func;
;;;796    	modbus_tx_buff[2]=(char)(reg_quantity*2);
;;;797    	mem_copy((char*)&modbus_tx_buff[3],(char*)&modbus_registers[(reg_adr-1)*2],reg_quantity*2);
000dc2  1e7f              SUBS     r7,r7,#1
000dc4  eb000147          ADD      r1,r0,r7,LSL #1
000dc8  b136              CBZ      r6,|L1.3544|
;;;798    	
;;;799    	crc_temp=CRC16_2(modbus_tx_buff,(reg_quantity*2)+3);
;;;800    
;;;801    	modbus_tx_buff[3+(reg_quantity*2)]=crc_temp%256;
;;;802    	modbus_tx_buff[4+(reg_quantity*2)]=crc_temp/256;
;;;803    
;;;804    	for (i=0;i<(5+(reg_quantity*2));i++)
;;;805    		{
;;;806    		putchar0(modbus_tx_buff[i]);
;;;807    		}
;;;808    
;;;809    	for (i=0;i<(5+(reg_quantity*2));i++)
;;;810    		{
;;;811    		putchar_sc16is700(modbus_tx_buff[i]);
;;;812    		}
;;;813    	}
;;;814    else if(prot==MODBUS_TCP_PROT)
000dca  2e01              CMP      r6,#1
000dcc  d101              BNE      |L1.3538|
;;;815    	{
;;;816    	modbus_tcp_out_ptr=(char*)&modbus_registers[(reg_adr-1)*2];
000dce  4814              LDR      r0,|L1.3616|
000dd0  6001              STR      r1,[r0,#0]  ; modbus_tcp_out_ptr
                  |L1.3538|
;;;817    	}
;;;818    }
000dd2  b027              ADD      sp,sp,#0x9c
000dd4  e8bd83f0          POP      {r4-r9,pc}
                  |L1.3544|
000dd8  f88d8004          STRB     r8,[sp,#4]            ;794
000ddc  f88d9005          STRB     r9,[sp,#5]            ;795
000de0  ea4f0245          LSL      r2,r5,#1              ;796
000de4  f88d2006          STRB     r2,[sp,#6]            ;796
000de8  ae01              ADD      r6,sp,#4              ;797
000dea  f10d0007          ADD      r0,sp,#7              ;797
000dee  f7fffffe          BL       mem_copy
000df2  2003              MOVS     r0,#3                 ;799
000df4  eb000045          ADD      r0,r0,r5,LSL #1       ;799
000df8  b201              SXTH     r1,r0                 ;799
000dfa  a801              ADD      r0,sp,#4              ;799
000dfc  f7fffffe          BL       CRC16_2
000e00  eb060145          ADD      r1,r6,r5,LSL #1       ;801
000e04  70c8              STRB     r0,[r1,#3]            ;801
000e06  ea4f2010          LSR      r0,r0,#8              ;802
000e0a  7108              STRB     r0,[r1,#4]            ;802
000e0c  f04f0400          MOV      r4,#0                 ;804
000e10  f04f0005          MOV      r0,#5                 ;804
000e14  eb000545          ADD      r5,r0,r5,LSL #1       ;804
000e18  e050              B        |L1.3772|
000e1a  0000              DCW      0x0000
                  |L1.3612|
                          DCD      ||area_number.6||+0x3c
                  |L1.3616|
                          DCD      modbus_tcp_out_ptr
                  |L1.3620|
                          DCD      0x40024000
                  |L1.3624|
                          DCD      0x40024038
                  |L1.3628|
                          DCD      0x4002402c
                  |L1.3632|
                          DCD      0x40024028
                  |L1.3636|
                          DCD      0x40024024
                  |L1.3640|
                          DCD      0x40024020
                  |L1.3644|
                          DCD      NUMIST
                  |L1.3648|
                          DCD      PAR
                  |L1.3652|
                          DCD      ZV_ON
                  |L1.3656|
                          DCD      UBM_AV
                  |L1.3660|
                          DCD      TBAT
                  |L1.3664|
                          DCD      UMAX
                  |L1.3668|
                          DCD      UB20
                  |L1.3672|
                          DCD      ||DU||
                  |L1.3676|
                          DCD      UB0
                  |L1.3680|
                          DCD      USIGN
                  |L1.3684|
                          DCD      UMN
                  |L1.3688|
                          DCD      U0B
                  |L1.3692|
                          DCD      IKB
                  |L1.3696|
                          DCD      IZMAX
                  |L1.3700|
                          DCD      IMAX
                  |L1.3704|
                          DCD      IMIN
                  |L1.3708|
                          DCD      UVZ
                  |L1.3712|
                          DCD      TZAS
                  |L1.3716|
                          DCD      TMAX
                  |L1.3720|
                          DCD      TSIGN
                  |L1.3724|
                          DCD      TBATMAX
                  |L1.3728|
                          DCD      TBATSIGN
                  |L1.3732|
                          DCD      speedChrgCurr
                  |L1.3736|
                          DCD      speedChrgVolt
                  |L1.3740|
                          DCD      speedChrgTimeInHour
                  |L1.3744|
                          DCD      U_OUT_KONTR_MAX
                  |L1.3748|
                          DCD      U_OUT_KONTR_MIN
                  |L1.3752|
                          DCD      U_OUT_KONTR_DELAY
                  |L1.3756|
                          DCD      ||area_number.10||
                  |L1.3760|
000eb0  5d30              LDRB     r0,[r6,r4]            ;806
000eb2  f7fffffe          BL       putchar0
000eb6  f1040401          ADD      r4,r4,#1              ;804
000eba  b2e4              UXTB     r4,r4                 ;804
                  |L1.3772|
000ebc  42a5              CMP      r5,r4                 ;804
000ebe  d8f7              BHI      |L1.3760|
000ec0  f04f0400          MOV      r4,#0                 ;809
000ec4  e005              B        |L1.3794|
                  |L1.3782|
000ec6  5d30              LDRB     r0,[r6,r4]            ;811
000ec8  f7fffffe          BL       putchar_sc16is700
000ecc  f1040401          ADD      r4,r4,#1              ;809
000ed0  b2e4              UXTB     r4,r4                 ;809
                  |L1.3794|
000ed2  42a5              CMP      r5,r4                 ;809
000ed4  d8f7              BHI      |L1.3782|
000ed6  e77c              B        |L1.3538|
;;;819    
                          ENDP

                  modbus_in PROC
;;;64     //-----------------------------------------------
;;;65     void modbus_in(void)
000ed8  e92d43f8          PUSH     {r3-r9,lr}
;;;66     {
;;;67     short crc16_calculated;		//βϋχθρλεμΰ θη οπθνςϋυ δΰννϋυ CRC
;;;68     short crc16_incapsulated;	//βρςπξενννΰ β οξρϋλκσ CRC
;;;69     unsigned short modbus_rx_arg0;		//βρςπξεννϋι β οξρϋλκσ οεπβϋι ΰπγσμενς
;;;70     unsigned short modbus_rx_arg1;		//βρςπξεννϋι β οξρϋλκσ βςξπξι ΰπγσμενς
;;;71     unsigned short modbus_rx_arg2;		//βρςπξεννϋι β οξρϋλκσ ςπεςθι ΰπγσμενς
;;;72     unsigned short modbus_rx_arg3;		//βρςπξεννϋι β οξρϋλκσ χεςβεπςϋι ΰπγσμενς
;;;73     unsigned char modbus_func;			//βρςπξεννϋι β οξρϋλκσ κξδ τσνκφθθ
;;;74     
;;;75     
;;;76     
;;;77     mem_copy(modbus_an_buffer,modbus_rx_buffer,modbus_rx_buffer_ptr);
000edc  4ea3              LDR      r6,|L1.4460|
000ede  49a4              LDR      r1,|L1.4464|
000ee0  7872              LDRB     r2,[r6,#1]  ; modbus_rx_buffer_ptr
000ee2  f101001e          ADD      r0,r1,#0x1e
000ee6  f7fffffe          BL       mem_copy
;;;78     modbus_rx_counter=modbus_rx_buffer_ptr;
000eea  7871              LDRB     r1,[r6,#1]  ; modbus_rx_buffer_ptr
000eec  70b1              STRB     r1,[r6,#2]
;;;79     modbus_rx_buffer_ptr=0;
000eee  f04f0800          MOV      r8,#0
000ef2  f8868001          STRB     r8,[r6,#1]
;;;80     bMODBUS_TIMEOUT=0;
000ef6  f8868000          STRB     r8,[r6,#0]
;;;81     	
;;;82     crc16_calculated  = CRC16_2(modbus_an_buffer, modbus_rx_counter-2);
000efa  489d              LDR      r0,|L1.4464|
000efc  f1a10102          SUB      r1,r1,#2
000f00  f100001e          ADD      r0,r0,#0x1e
000f04  f7fffffe          BL       CRC16_2
000f08  b201              SXTH     r1,r0
;;;83     crc16_incapsulated = *((short*)&modbus_an_buffer[modbus_rx_counter-2]);
000f0a  4899              LDR      r0,|L1.4464|
000f0c  78b3              LDRB     r3,[r6,#2]  ; modbus_rx_counter
000f0e  301e              ADDS     r0,r0,#0x1e
000f10  eb000203          ADD      r2,r0,r3
000f14  f9322c02          LDRSH    r2,[r2,#-2]
;;;84     
;;;85     modbus_plazma1=modbus_rx_counter;
000f18  80f3              STRH     r3,[r6,#6]
;;;86     modbus_plazma2=crc16_calculated;
000f1a  8131              STRH     r1,[r6,#8]
;;;87     modbus_plazma3=crc16_incapsulated;
000f1c  8172              STRH     r2,[r6,#0xa]
;;;88     
;;;89     modbus_func=modbus_an_buffer[1];
000f1e  7847              LDRB     r7,[r0,#1]  ; modbus_an_buffer
;;;90     modbus_rx_arg0=(((unsigned short)modbus_an_buffer[2])*((unsigned short)256))+((unsigned short)modbus_an_buffer[3]);
000f20  78c3              LDRB     r3,[r0,#3]  ; modbus_an_buffer
000f22  7884              LDRB     r4,[r0,#2]  ; modbus_an_buffer
000f24  eb032304          ADD      r3,r3,r4,LSL #8
000f28  b29c              UXTH     r4,r3
;;;91     modbus_rx_arg1=(((unsigned short)modbus_an_buffer[4])*((unsigned short)256))+((unsigned short)modbus_an_buffer[5]);
000f2a  7943              LDRB     r3,[r0,#5]  ; modbus_an_buffer
000f2c  7905              LDRB     r5,[r0,#4]  ; modbus_an_buffer
000f2e  eb032305          ADD      r3,r3,r5,LSL #8
000f32  b29d              UXTH     r5,r3
;;;92     modbus_rx_arg2=(((unsigned short)modbus_an_buffer[6])*((unsigned short)256))+((unsigned short)modbus_an_buffer[7]);
;;;93     modbus_rx_arg3=(((unsigned short)modbus_an_buffer[8])*((unsigned short)256))+((unsigned short)modbus_an_buffer[9]);
;;;94     
;;;95     
;;;96     if(crc16_calculated==crc16_incapsulated)
000f34  4291              CMP      r1,r2
000f36  d126              BNE      |L1.3974|
;;;97     	{
;;;98     	
;;;99     	if(modbus_an_buffer[0]==MODBUS_ADRESS)
000f38  f8df9238          LDR      r9,|L1.4468|
000f3c  7801              LDRB     r1,[r0,#0]  ; modbus_an_buffer
000f3e  f9b90000          LDRSH    r0,[r9,#0]  ; MODBUS_ADRESS
000f42  4281              CMP      r1,r0
000f44  d11f              BNE      |L1.3974|
;;;100    		{
;;;101    		if(modbus_func==3)		//χςενθε οπξθηβξλόνξγξ κξλ-βΰ πεγθρςπξβ υπΰνενθ
000f46  2f03              CMP      r7,#3
000f48  d10b              BNE      |L1.3938|
;;;102    			{
;;;103    			modbus_plazma++;
000f4a  88b1              LDRH     r1,[r6,#4]  ; modbus_plazma
000f4c  f1010101          ADD      r1,r1,#1
000f50  80b1              STRH     r1,[r6,#4]
;;;104    			modbus_hold_registers_transmit(MODBUS_ADRESS,modbus_func,modbus_rx_arg0,modbus_rx_arg1,MODBUS_RTU_PROT);
000f52  462b              MOV      r3,r5
000f54  4622              MOV      r2,r4
000f56  4639              MOV      r1,r7
000f58  b2c0              UXTB     r0,r0
000f5a  f8cd8000          STR      r8,[sp,#0]
000f5e  f7fffffe          BL       modbus_hold_registers_transmit
                  |L1.3938|
;;;105    			}
;;;106    
;;;107    		if(modbus_func==4)		//χςενθε οπξθηβξλόνξγξ κξλ-βΰ πεγθρςπξβ	βυξδξβ
000f62  2f04              CMP      r7,#4
000f64  d005              BEQ      |L1.3954|
;;;108    			{
;;;109    			modbus_input_registers_transmit(MODBUS_ADRESS,modbus_func,modbus_rx_arg0,modbus_rx_arg1,MODBUS_RTU_PROT);
;;;110    			}
;;;111    
;;;112    		else if(modbus_func==6) 	//ηΰοθρό πεγθρςπξβ υπΰνενθ
000f66  2f06              CMP      r7,#6
000f68  d10d              BNE      |L1.3974|
;;;113    			{
;;;114    			if(modbus_rx_arg0==11)		//Σρςΰνξβκΰ βπεμενθ 
;;;115    				{
;;;116    				LPC_RTC->YEAR=(uint16_t)modbus_rx_arg1;
000f6a  4883              LDR      r0,|L1.4472|
000f6c  2c0b              CMP      r4,#0xb               ;114
000f6e  d00c              BEQ      |L1.3978|
000f70  e00c              B        |L1.3980|
                  |L1.3954|
000f72  f8cd8000          STR      r8,[sp,#0]            ;109
000f76  f8b90000          LDRH     r0,[r9,#0]            ;109  ; MODBUS_ADRESS
000f7a  462b              MOV      r3,r5                 ;109
000f7c  4622              MOV      r2,r4                 ;109
000f7e  4639              MOV      r1,r7                 ;109
000f80  b2c0              UXTB     r0,r0                 ;109
000f82  f7fffffe          BL       modbus_input_registers_transmit
                  |L1.3974|
;;;117    				}
;;;118    			if(modbus_rx_arg0==12)		//Σρςΰνξβκΰ βπεμενθ 
;;;119    				{
;;;120    				LPC_RTC->MONTH=(uint16_t)modbus_rx_arg1;
;;;121    				}
;;;122    			if(modbus_rx_arg0==13)		//Σρςΰνξβκΰ βπεμενθ 
;;;123    				{
;;;124    				LPC_RTC->DOM=(uint16_t)modbus_rx_arg1;
;;;125    				}
;;;126    			if(modbus_rx_arg0==14)		//Σρςΰνξβκΰ βπεμενθ 
;;;127    				{
;;;128    				LPC_RTC->HOUR=(uint16_t)modbus_rx_arg1;
;;;129    				}
;;;130    			if(modbus_rx_arg0==15)		//Σρςΰνξβκΰ βπεμενθ 
;;;131    				{
;;;132    				LPC_RTC->MIN=(uint16_t)modbus_rx_arg1;
;;;133    				}
;;;134    			if(modbus_rx_arg0==16)		//Σρςΰνξβκΰ βπεμενθ 
;;;135    				{
;;;136    				LPC_RTC->SEC=(uint16_t)modbus_rx_arg1;
;;;137    				}
;;;138    			if(modbus_rx_arg0==20)		//ςξκ ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ ςξκΰ
;;;139    				{
;;;140    				if((modbus_rx_arg1>0)&&(modbus_rx_arg1<=18))
;;;141    				lc640_write_int(EE_NUMIST,modbus_rx_arg1);  
;;;142    				}
;;;143    			if(modbus_rx_arg0==21)		//ςξκ ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ ςξκΰ
;;;144    				{
;;;145    				if((modbus_rx_arg1==0)||(modbus_rx_arg1==1))
;;;146    				lc640_write_int(EE_PAR,modbus_rx_arg1);  
;;;147    				}
;;;148    			if(modbus_rx_arg0==22)		//ςξκ ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ ςξκΰ
;;;149    				{
;;;150    				if((modbus_rx_arg1==0)||(modbus_rx_arg1==1))
;;;151    				lc640_write_int(EE_ZV_ON,modbus_rx_arg1);  
;;;152    				}
;;;153    			if(modbus_rx_arg0==23)		//ςξκ ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ ςξκΰ
;;;154    				{
;;;155    				if((modbus_rx_arg1==0)||(modbus_rx_arg1==1))
;;;156    				lc640_write_int(EE_TERMOKOMP,modbus_rx_arg1);  
;;;157    				}
;;;158    			if(modbus_rx_arg0==24)		//ςξκ ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ ςξκΰ
;;;159    				{
;;;160    				if((modbus_rx_arg1>=0)||(modbus_rx_arg1<=20))
;;;161    				lc640_write_int(EE_UBM_AV,modbus_rx_arg1);  
;;;162    				}
;;;163    
;;;164    
;;;165    			if(modbus_rx_arg0==30)		//νΰοπζενθε ρςΰαθλθηΰφθθ δλ πεζθμΰ ρςΰαθλθηΰφθθ νΰοπζενθ
;;;166    				{
;;;167    				if(modbus_rx_arg1<0)TBAT=0;
;;;168    				else if((modbus_rx_arg1>0)&&(modbus_rx_arg1<=5))modbus_rx_arg1=0;
;;;169    				else if(modbus_rx_arg1>=60)TBAT=60;
;;;170    				else TBAT=modbus_rx_arg1;
;;;171    				lc640_write_int(EE_TBAT,TBAT);
;;;172    	     		}
;;;173    			if(modbus_rx_arg0==31)		//
;;;174    				{
;;;175    				lc640_write_int(EE_UMAX,modbus_rx_arg1);
;;;176    	     		}
;;;177    			if(modbus_rx_arg0==32)		//
;;;178    				{
;;;179    				lc640_write_int(EE_DU,UB20-modbus_rx_arg1);
;;;180    	     		}
;;;181    			if(modbus_rx_arg0==33)		//
;;;182    				{
;;;183    				lc640_write_int(EE_UB0,modbus_rx_arg1);
;;;184    	     		}
;;;185    			if(modbus_rx_arg0==34)		//
;;;186    				{
;;;187    				lc640_write_int(EE_UB20,modbus_rx_arg1);
;;;188    	     		}
;;;189    			if(modbus_rx_arg0==35)		//
;;;190    				{
;;;191    				lc640_write_int(EE_USIGN,modbus_rx_arg1);
;;;192    	     		}
;;;193    			if(modbus_rx_arg0==36)		//
;;;194    				{
;;;195    				lc640_write_int(EE_UMN,modbus_rx_arg1);
;;;196    	     		}
;;;197    			if(modbus_rx_arg0==37)		//
;;;198    				{
;;;199    				lc640_write_int(EE_U0B,modbus_rx_arg1);
;;;200    	     		}
;;;201    			if(modbus_rx_arg0==38)		//
;;;202    				{
;;;203    				lc640_write_int(EE_IKB,modbus_rx_arg1);
;;;204    	     		}
;;;205    			if(modbus_rx_arg0==39)		//
;;;206    				{
;;;207    				lc640_write_int(EE_IZMAX,modbus_rx_arg1);
;;;208    	     		}
;;;209    			if(modbus_rx_arg0==40)		//
;;;210    				{
;;;211    				lc640_write_int(EE_IMAX,modbus_rx_arg1);
;;;212    	     		}
;;;213    			if(modbus_rx_arg0==41)		//
;;;214    				{
;;;215    				lc640_write_int(EE_IMIN,modbus_rx_arg1);
;;;216    	     		}
;;;217    			if(modbus_rx_arg0==42)		//
;;;218    				{
;;;219    				lc640_write_int(EE_UVZ,modbus_rx_arg1);
;;;220    	     		}
;;;221    			if(modbus_rx_arg0==43)		//
;;;222    				{
;;;223    				lc640_write_int(EE_TZAS,modbus_rx_arg1);
;;;224    	     		}
;;;225    			if(modbus_rx_arg0==44)		//
;;;226    				{
;;;227    				lc640_write_int(EE_TMAX,modbus_rx_arg1);
;;;228    	     		}
;;;229    			if(modbus_rx_arg0==45)		//
;;;230    				{
;;;231    				lc640_write_int(EE_TSIGN,modbus_rx_arg1);
;;;232    	     		}
;;;233    			if(modbus_rx_arg0==46)		//
;;;234    				{
;;;235    				lc640_write_int(EE_TBATMAX,modbus_rx_arg1);
;;;236    	     		}
;;;237    			if(modbus_rx_arg0==47)		//
;;;238    				{
;;;239    				lc640_write_int(EE_TBATSIGN,modbus_rx_arg1);
;;;240    	     		}
;;;241    			if(modbus_rx_arg0==48)		//
;;;242    				{
;;;243    				lc640_write_int(EE_SPEED_CHRG_CURR,modbus_rx_arg1);
;;;244    	     		}
;;;245    			if(modbus_rx_arg0==49)		//
;;;246    				{
;;;247    				lc640_write_int(EE_SPEED_CHRG_VOLT,modbus_rx_arg1);
;;;248    	     		}
;;;249    			if(modbus_rx_arg0==50)		//
;;;250    				{
;;;251    				lc640_write_int(EE_SPEED_CHRG_TIME,modbus_rx_arg1);
;;;252    	     		}
;;;253    			if(modbus_rx_arg0==51)		//
;;;254    				{
;;;255    				lc640_write_int(EE_U_OUT_KONTR_MAX,modbus_rx_arg1);
;;;256    	     		}
;;;257    			if(modbus_rx_arg0==52)		//
;;;258    				{
;;;259    				lc640_write_int(EE_U_OUT_KONTR_MIN,modbus_rx_arg1);
;;;260    	     		}
;;;261    			if(modbus_rx_arg0==53)		//
;;;262    				{
;;;263    				lc640_write_int(EE_U_OUT_KONTR_DELAY,modbus_rx_arg1);
;;;264    	     		}
;;;265    
;;;266    			if(modbus_rx_arg0==19)		//βκλ/βϋκλ θρςξχνθκΰ νΰοπ.
;;;267    				{
;;;268    	/*			if(modbus_rx_arg1==1)
;;;269    					{
;;;270    					if(work_stat!=wsPS)
;;;271    						{
;;;272    						work_stat=wsPS;
;;;273    						time_proc=0;
;;;274    						time_proc_remain=T_PROC_PS;
;;;275    						restart_on_PS();
;;;276    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;277    						}
;;;278    					}
;;;279    				if(modbus_rx_arg1==0)
;;;280    					{
;;;281    					if(work_stat==wsPS)
;;;282    						{
;;;283    						work_stat=wsOFF;
;;;284    						restart_off();
;;;285    						}
;;;286    					} */
;;;287    				}
;;;288    			if(modbus_rx_arg0==20)		//βκλ/βϋκλ θρςξχνθκΰ ςξκΰ
;;;289    				{
;;;290    /*				if(modbus_rx_arg1==1)
;;;291    					{
;;;292    					if(work_stat!=wsGS)
;;;293    						{
;;;294    						work_stat=wsGS;
;;;295    						time_proc=0;
;;;296    						time_proc_remain=T_PROC_GS;
;;;297    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
;;;298    						}
;;;299    					}
;;;300    				if(modbus_rx_arg1==0)
;;;301    					{
;;;302    					if(work_stat==wsGS)
;;;303    						{
;;;304    						work_stat=wsOFF;
;;;305    						restart_off();
;;;306    						}
;;;307    					}*/
;;;308    				}
;;;309    			modbus_hold_register_transmit(MODBUS_ADRESS,modbus_func,modbus_rx_arg0);
;;;310    			}
;;;311    		} 
;;;312    	//modbus_plazma++;
;;;313    	}
;;;314    // modbus_plazma++;
;;;315    
;;;316    }
000f86  e8bd83f8          POP      {r3-r9,pc}
                  |L1.3978|
000f8a  8785              STRH     r5,[r0,#0x3c]         ;116
                  |L1.3980|
000f8c  2c0c              CMP      r4,#0xc               ;118
000f8e  d101              BNE      |L1.3988|
000f90  f8805038          STRB     r5,[r0,#0x38]         ;120
                  |L1.3988|
000f94  2c0d              CMP      r4,#0xd               ;122
000f96  d101              BNE      |L1.3996|
000f98  f880502c          STRB     r5,[r0,#0x2c]         ;124
                  |L1.3996|
000f9c  2c0e              CMP      r4,#0xe               ;126
000f9e  d101              BNE      |L1.4004|
000fa0  f8805028          STRB     r5,[r0,#0x28]         ;128
                  |L1.4004|
000fa4  2c0f              CMP      r4,#0xf               ;130
000fa6  d101              BNE      |L1.4012|
000fa8  f8805024          STRB     r5,[r0,#0x24]         ;132
                  |L1.4012|
000fac  2c10              CMP      r4,#0x10              ;134
000fae  d101              BNE      |L1.4020|
000fb0  f8805020          STRB     r5,[r0,#0x20]         ;136
                  |L1.4020|
000fb4  2c14              CMP      r4,#0x14              ;138
000fb6  d106              BNE      |L1.4038|
000fb8  1e68              SUBS     r0,r5,#1              ;140
000fba  2811              CMP      r0,#0x11              ;140
000fbc  d803              BHI      |L1.4038|
000fbe  4629              MOV      r1,r5                 ;141
000fc0  2098              MOVS     r0,#0x98              ;141
000fc2  f7fffffe          BL       lc640_write_int
                  |L1.4038|
000fc6  2c15              CMP      r4,#0x15              ;143
000fc8  d106              BNE      |L1.4056|
000fca  b10d              CBZ      r5,|L1.4048|
000fcc  2d01              CMP      r5,#1                 ;145
000fce  d103              BNE      |L1.4056|
                  |L1.4048|
000fd0  4629              MOV      r1,r5                 ;146
000fd2  20ca              MOVS     r0,#0xca              ;146
000fd4  f7fffffe          BL       lc640_write_int
                  |L1.4056|
000fd8  2c16              CMP      r4,#0x16              ;148
000fda  d106              BNE      |L1.4074|
000fdc  b10d              CBZ      r5,|L1.4066|
000fde  2d01              CMP      r5,#1                 ;150
000fe0  d103              BNE      |L1.4074|
                  |L1.4066|
000fe2  4629              MOV      r1,r5                 ;151
000fe4  2086              MOVS     r0,#0x86              ;151
000fe6  f7fffffe          BL       lc640_write_int
                  |L1.4074|
000fea  2c17              CMP      r4,#0x17              ;153
000fec  d106              BNE      |L1.4092|
000fee  b10d              CBZ      r5,|L1.4084|
000ff0  2d01              CMP      r5,#1                 ;155
000ff2  d103              BNE      |L1.4092|
                  |L1.4084|
000ff4  4629              MOV      r1,r5                 ;156
000ff6  20f2              MOVS     r0,#0xf2              ;156
000ff8  f7fffffe          BL       lc640_write_int
                  |L1.4092|
000ffc  2c18              CMP      r4,#0x18              ;158
000ffe  d104              BNE      |L1.4106|
001000  4629              MOV      r1,r5                 ;161
001002  f44f7019          MOV      r0,#0x264             ;161
001006  f7fffffe          BL       lc640_write_int
                  |L1.4106|
00100a  2c1e              CMP      r4,#0x1e              ;165
00100c  d112              BNE      |L1.4148|
00100e  1e69              SUBS     r1,r5,#1              ;168
001010  485a              LDR      r0,|L1.4476|
001012  2904              CMP      r1,#4                 ;168
001014  d802              BHI      |L1.4124|
001016  f04f0500          MOV      r5,#0                 ;168
00101a  e006              B        |L1.4138|
                  |L1.4124|
00101c  2d3c              CMP      r5,#0x3c              ;169
00101e  d303              BCC      |L1.4136|
001020  f04f013c          MOV      r1,#0x3c              ;169
001024  8001              STRH     r1,[r0,#0]            ;169
001026  e000              B        |L1.4138|
                  |L1.4136|
001028  8005              STRH     r5,[r0,#0]            ;170
                  |L1.4138|
00102a  f9b01000          LDRSH    r1,[r0,#0]            ;171  ; TBAT
00102e  20c2              MOVS     r0,#0xc2              ;171
001030  f7fffffe          BL       lc640_write_int
                  |L1.4148|
001034  2c1f              CMP      r4,#0x1f              ;173
001036  d103              BNE      |L1.4160|
001038  4629              MOV      r1,r5                 ;175
00103a  2078              MOVS     r0,#0x78              ;175
00103c  f7fffffe          BL       lc640_write_int
                  |L1.4160|
001040  2c20              CMP      r4,#0x20              ;177
001042  d106              BNE      |L1.4178|
001044  484e              LDR      r0,|L1.4480|
001046  f9b00000          LDRSH    r0,[r0,#0]            ;179  ; UB20
00104a  1b41              SUBS     r1,r0,r5              ;179
00104c  20c8              MOVS     r0,#0xc8              ;179
00104e  f7fffffe          BL       lc640_write_int
                  |L1.4178|
001052  2c21              CMP      r4,#0x21              ;181
001054  d103              BNE      |L1.4190|
001056  4629              MOV      r1,r5                 ;183
001058  207a              MOVS     r0,#0x7a              ;183
00105a  f7fffffe          BL       lc640_write_int
                  |L1.4190|
00105e  2c22              CMP      r4,#0x22              ;185
001060  d103              BNE      |L1.4202|
001062  4629              MOV      r1,r5                 ;187
001064  207c              MOVS     r0,#0x7c              ;187
001066  f7fffffe          BL       lc640_write_int
                  |L1.4202|
00106a  2c23              CMP      r4,#0x23              ;189
00106c  d103              BNE      |L1.4214|
00106e  4629              MOV      r1,r5                 ;191
001070  2082              MOVS     r0,#0x82              ;191
001072  f7fffffe          BL       lc640_write_int
                  |L1.4214|
001076  2c24              CMP      r4,#0x24              ;193
001078  d103              BNE      |L1.4226|
00107a  4629              MOV      r1,r5                 ;195
00107c  2084              MOVS     r0,#0x84              ;195
00107e  f7fffffe          BL       lc640_write_int
                  |L1.4226|
001082  2c25              CMP      r4,#0x25              ;197
001084  d103              BNE      |L1.4238|
001086  4629              MOV      r1,r5                 ;199
001088  2094              MOVS     r0,#0x94              ;199
00108a  f7fffffe          BL       lc640_write_int
                  |L1.4238|
00108e  2c26              CMP      r4,#0x26              ;201
001090  d103              BNE      |L1.4250|
001092  4629              MOV      r1,r5                 ;203
001094  2088              MOVS     r0,#0x88              ;203
001096  f7fffffe          BL       lc640_write_int
                  |L1.4250|
00109a  2c27              CMP      r4,#0x27              ;205
00109c  d103              BNE      |L1.4262|
00109e  4629              MOV      r1,r5                 ;207
0010a0  2092              MOVS     r0,#0x92              ;207
0010a2  f7fffffe          BL       lc640_write_int
                  |L1.4262|
0010a6  2c28              CMP      r4,#0x28              ;209
0010a8  d103              BNE      |L1.4274|
0010aa  4629              MOV      r1,r5                 ;211
0010ac  208c              MOVS     r0,#0x8c              ;211
0010ae  f7fffffe          BL       lc640_write_int
                  |L1.4274|
0010b2  2c29              CMP      r4,#0x29              ;213
0010b4  d103              BNE      |L1.4286|
0010b6  4629              MOV      r1,r5                 ;215
0010b8  208e              MOVS     r0,#0x8e              ;215
0010ba  f7fffffe          BL       lc640_write_int
                  |L1.4286|
0010be  2c2a              CMP      r4,#0x2a              ;217
0010c0  d103              BNE      |L1.4298|
0010c2  4629              MOV      r1,r5                 ;219
0010c4  20de              MOVS     r0,#0xde              ;219
0010c6  f7fffffe          BL       lc640_write_int
                  |L1.4298|
0010ca  2c2b              CMP      r4,#0x2b              ;221
0010cc  d103              BNE      |L1.4310|
0010ce  4629              MOV      r1,r5                 ;223
0010d0  2096              MOVS     r0,#0x96              ;223
0010d2  f7fffffe          BL       lc640_write_int
                  |L1.4310|
0010d6  2c2c              CMP      r4,#0x2c              ;225
0010d8  d103              BNE      |L1.4322|
0010da  4629              MOV      r1,r5                 ;227
0010dc  207e              MOVS     r0,#0x7e              ;227
0010de  f7fffffe          BL       lc640_write_int
                  |L1.4322|
0010e2  2c2d              CMP      r4,#0x2d              ;229
0010e4  d103              BNE      |L1.4334|
0010e6  4629              MOV      r1,r5                 ;231
0010e8  20c6              MOVS     r0,#0xc6              ;231
0010ea  f7fffffe          BL       lc640_write_int
                  |L1.4334|
0010ee  2c2e              CMP      r4,#0x2e              ;233
0010f0  d103              BNE      |L1.4346|
0010f2  4629              MOV      r1,r5                 ;235
0010f4  20cc              MOVS     r0,#0xcc              ;235
0010f6  f7fffffe          BL       lc640_write_int
                  |L1.4346|
0010fa  2c2f              CMP      r4,#0x2f              ;237
0010fc  d103              BNE      |L1.4358|
0010fe  4629              MOV      r1,r5                 ;239
001100  20ce              MOVS     r0,#0xce              ;239
001102  f7fffffe          BL       lc640_write_int
                  |L1.4358|
001106  2c30              CMP      r4,#0x30              ;241
001108  d104              BNE      |L1.4372|
00110a  4629              MOV      r1,r5                 ;243
00110c  f44f708b          MOV      r0,#0x116             ;243
001110  f7fffffe          BL       lc640_write_int
                  |L1.4372|
001114  2c31              CMP      r4,#0x31              ;245
001116  d104              BNE      |L1.4386|
001118  4629              MOV      r1,r5                 ;247
00111a  f44f708c          MOV      r0,#0x118             ;247
00111e  f7fffffe          BL       lc640_write_int
                  |L1.4386|
001122  2c32              CMP      r4,#0x32              ;249
001124  d104              BNE      |L1.4400|
001126  4629              MOV      r1,r5                 ;251
001128  f44f708d          MOV      r0,#0x11a             ;251
00112c  f7fffffe          BL       lc640_write_int
                  |L1.4400|
001130  2c33              CMP      r4,#0x33              ;253
001132  d104              BNE      |L1.4414|
001134  4629              MOV      r1,r5                 ;255
001136  f44f7095          MOV      r0,#0x12a             ;255
00113a  f7fffffe          BL       lc640_write_int
                  |L1.4414|
00113e  2c34              CMP      r4,#0x34              ;257
001140  d104              BNE      |L1.4428|
001142  4629              MOV      r1,r5                 ;259
001144  f44f7096          MOV      r0,#0x12c             ;259
001148  f7fffffe          BL       lc640_write_int
                  |L1.4428|
00114c  2c35              CMP      r4,#0x35              ;261
00114e  d104              BNE      |L1.4442|
001150  4629              MOV      r1,r5                 ;263
001152  f44f7097          MOV      r0,#0x12e             ;263
001156  f7fffffe          BL       lc640_write_int
                  |L1.4442|
00115a  f8b90000          LDRH     r0,[r9,#0]            ;309  ; MODBUS_ADRESS
00115e  4622              MOV      r2,r4                 ;309
001160  4639              MOV      r1,r7                 ;309
001162  e8bd43f8          POP      {r3-r9,lr}            ;309
001166  b2c0              UXTB     r0,r0                 ;309
001168  f7ffbffe          B.W      modbus_hold_register_transmit
;;;317    
                          ENDP

                  |L1.4460|
                          DCD      ||area_number.10||
                  |L1.4464|
                          DCD      ||area_number.6||
                  |L1.4468|
                          DCD      MODBUS_ADRESS
                  |L1.4472|
                          DCD      0x40024000
                  |L1.4476|
                          DCD      TBAT
                  |L1.4480|
                          DCD      UB20

                          AREA ||area_number.2||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.2||, ||.text||
                  modbus_register_transmit PROC
;;;318    //-----------------------------------------------
;;;319    void modbus_register_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;320    {
000004  b08e              SUB      sp,sp,#0x38
;;;321    //char modbus_registers[150];
;;;322    char modbus_tx_buff[50];
;;;323    unsigned short crc_temp;
;;;324    char i;
;;;325    
;;;326    
;;;327    modbus_registers[0]=(char)(load_U/256);					//Πεγ1
000006  4bfb              LDR      r3,|L2.1012|
000008  f9b34000          LDRSH    r4,[r3,#0]  ; load_U
00000c  ea4f73e4          ASR      r3,r4,#31
000010  eb046513          ADD      r5,r4,r3,LSR #24
000014  4bf8              LDR      r3,|L2.1016|
000016  ea4f2625          ASR      r6,r5,#8
00001a  701e              STRB     r6,[r3,#0]
;;;328    modbus_registers[1]=(char)(load_U%256);
00001c  705c              STRB     r4,[r3,#1]
;;;329    modbus_registers[2]=(char)(load_I/256);					//Πεγ2
00001e  4cf7              LDR      r4,|L2.1020|
000020  f9b45000          LDRSH    r5,[r4,#0]  ; load_I
000024  ea4f74e5          ASR      r4,r5,#31
000028  eb056614          ADD      r6,r5,r4,LSR #24
00002c  f3c62407          UBFX     r4,r6,#8,#8
000030  709c              STRB     r4,[r3,#2]
;;;330    modbus_registers[3]=(char)(load_I%256);
000032  b2ed              UXTB     r5,r5
000034  70dd              STRB     r5,[r3,#3]
;;;331    modbus_registers[4]=(char)(Ib_ips_termokompensat/256);		//Πεγ3
000036  4ef2              LDR      r6,|L2.1024|
000038  f9b66000          LDRSH    r6,[r6,#0]  ; Ib_ips_termokompensat
00003c  ea4f77e6          ASR      r7,r6,#31
000040  eb066717          ADD      r7,r6,r7,LSR #24
000044  ea4f2c27          ASR      r12,r7,#8
000048  f883c004          STRB     r12,[r3,#4]
;;;332    modbus_registers[5]=(char)(Ib_ips_termokompensat%256);
00004c  715e              STRB     r6,[r3,#5]
;;;333    modbus_registers[6]=(char)(t_ext[0]/256);				//Πεγ4
00004e  4eed              LDR      r6,|L2.1028|
000050  f9b66000          LDRSH    r6,[r6,#0]  ; t_ext
000054  ea4f77e6          ASR      r7,r6,#31
000058  eb066717          ADD      r7,r6,r7,LSR #24
00005c  ea4f2c27          ASR      r12,r7,#8
000060  f883c006          STRB     r12,[r3,#6]
;;;334    modbus_registers[7]=(char)(t_ext[0]%256);
000064  71de              STRB     r6,[r3,#7]
;;;335    modbus_registers[8]=(char)(net_Ua/256);					//Πεγ5
000066  4ee8              LDR      r6,|L2.1032|
000068  f9b66000          LDRSH    r6,[r6,#0]  ; net_Ua
00006c  ea4f77e6          ASR      r7,r6,#31
000070  eb066717          ADD      r7,r6,r7,LSR #24
000074  ea4f2c27          ASR      r12,r7,#8
000078  f883c008          STRB     r12,[r3,#8]
;;;336    modbus_registers[9]=(char)(net_Ua%256);		 	
00007c  725e              STRB     r6,[r3,#9]
;;;337    modbus_registers[10]=(char)(net_Ub/256);				//Πεγ6
00007e  4ee3              LDR      r6,|L2.1036|
000080  f9b66000          LDRSH    r6,[r6,#0]  ; net_Ub
000084  ea4f77e6          ASR      r7,r6,#31
000088  eb066717          ADD      r7,r6,r7,LSR #24
00008c  ea4f2c27          ASR      r12,r7,#8
000090  f883c00a          STRB     r12,[r3,#0xa]
;;;338    modbus_registers[11]=(char)(net_Ub%256);
000094  72de              STRB     r6,[r3,#0xb]
;;;339    modbus_registers[12]=(char)(net_Uc/256);				//Πεγ7
000096  4ede              LDR      r6,|L2.1040|
000098  f9b66000          LDRSH    r6,[r6,#0]  ; net_Uc
00009c  ea4f77e6          ASR      r7,r6,#31
0000a0  eb066717          ADD      r7,r6,r7,LSR #24
0000a4  ea4f2c27          ASR      r12,r7,#8
0000a8  f883c00c          STRB     r12,[r3,#0xc]
;;;340    modbus_registers[13]=(char)(net_Uc%256);
0000ac  735e              STRB     r6,[r3,#0xd]
;;;341    modbus_registers[14]=(char)(net_F3/256);				//Πεγ8
0000ae  4ed9              LDR      r6,|L2.1044|
0000b0  f9b66000          LDRSH    r6,[r6,#0]  ; net_F3
0000b4  ea4f77e6          ASR      r7,r6,#31
0000b8  eb066717          ADD      r7,r6,r7,LSR #24
0000bc  ea4f2c27          ASR      r12,r7,#8
0000c0  f883c00e          STRB     r12,[r3,#0xe]
;;;342    modbus_registers[15]=(char)(net_F3%256);
0000c4  73de              STRB     r6,[r3,#0xf]
;;;343    modbus_registers[16]=(char)(load_I/256);				//Πεγ9
0000c6  741c              STRB     r4,[r3,#0x10]
;;;344    modbus_registers[17]=(char)(load_I%256);
0000c8  745d              STRB     r5,[r3,#0x11]
;;;345    modbus_registers[18]=(char)(load_I/256);				//Πεγ10
0000ca  749c              STRB     r4,[r3,#0x12]
;;;346    modbus_registers[19]=(char)(load_I%256);
0000cc  74dd              STRB     r5,[r3,#0x13]
;;;347    modbus_registers[20]=(char)((LPC_RTC->YEAR)/256);			//Πεγ11
0000ce  4ed2              LDR      r6,|L2.1048|
0000d0  8bb7              LDRH     r7,[r6,#0x1c]
0000d2  ea4f2717          LSR      r7,r7,#8
0000d6  f8037f14          STRB     r7,[r3,#0x14]!
;;;348    modbus_registers[21]=(char)((LPC_RTC->YEAR)%256);
0000da  8bb7              LDRH     r7,[r6,#0x1c]
0000dc  705f              STRB     r7,[r3,#1]
;;;349    modbus_registers[22]=(char)((LPC_RTC->MONTH)/256);		//Πεγ12
0000de  7e37              LDRB     r7,[r6,#0x18]
0000e0  f04f0700          MOV      r7,#0
0000e4  709f              STRB     r7,[r3,#2]
;;;350    modbus_registers[23]=(char)((LPC_RTC->MONTH)%256);
0000e6  f896c018          LDRB     r12,[r6,#0x18]
0000ea  f883c003          STRB     r12,[r3,#3]
;;;351    modbus_registers[24]=(char)((LPC_RTC->DOM)/256);			//Πεγ13
0000ee  f896c00c          LDRB     r12,[r6,#0xc]
0000f2  711f              STRB     r7,[r3,#4]
;;;352    modbus_registers[25]=(char)((LPC_RTC->DOM)%256);
0000f4  f896c00c          LDRB     r12,[r6,#0xc]
0000f8  f883c005          STRB     r12,[r3,#5]
;;;353    modbus_registers[26]=(char)((LPC_RTC->HOUR)/256);			//Πεγ14
0000fc  f896c008          LDRB     r12,[r6,#8]
000100  719f              STRB     r7,[r3,#6]
;;;354    modbus_registers[27]=(char)((LPC_RTC->HOUR)%256);
000102  f896c008          LDRB     r12,[r6,#8]
000106  f883c007          STRB     r12,[r3,#7]
;;;355    modbus_registers[28]=(char)((LPC_RTC->MIN)/256);			//Πεγ15
00010a  f896c004          LDRB     r12,[r6,#4]
00010e  721f              STRB     r7,[r3,#8]
;;;356    modbus_registers[29]=(char)((LPC_RTC->MIN)%256);
000110  f896c004          LDRB     r12,[r6,#4]
000114  f883c009          STRB     r12,[r3,#9]
;;;357    modbus_registers[30]=(char)((LPC_RTC->SEC)/256);			//Πεγ16
000118  f896c000          LDRB     r12,[r6,#0]
00011c  729f              STRB     r7,[r3,#0xa]
;;;358    modbus_registers[31]=(char)((LPC_RTC->SEC)%256);
00011e  7836              LDRB     r6,[r6,#0]
000120  72de              STRB     r6,[r3,#0xb]
;;;359    modbus_registers[32]=(char)(load_I/256);				//Πεγ17
000122  731c              STRB     r4,[r3,#0xc]
;;;360    modbus_registers[33]=(char)(load_I%256);
000124  735d              STRB     r5,[r3,#0xd]
;;;361    modbus_registers[34]=(char)(load_I/256);				//Πεγ18
000126  739c              STRB     r4,[r3,#0xe]
;;;362    modbus_registers[35]=(char)(load_I%256);
000128  73dd              STRB     r5,[r3,#0xf]
;;;363    modbus_registers[36]=(char)(load_I/256);		//Πεγ19
00012a  741c              STRB     r4,[r3,#0x10]
;;;364    modbus_registers[37]=(char)(load_I%256);
00012c  745d              STRB     r5,[r3,#0x11]
00012e  f1a30314          SUB      r3,r3,#0x14
;;;365    modbus_registers[38]=(char)(NUMIST/256);		//Πεγ20
000132  4eba              LDR      r6,|L2.1052|
000134  f9b66000          LDRSH    r6,[r6,#0]  ; NUMIST
000138  ea4f77e6          ASR      r7,r6,#31
00013c  eb066717          ADD      r7,r6,r7,LSR #24
000140  ea4f2c27          ASR      r12,r7,#8
000144  f803cf26          STRB     r12,[r3,#0x26]!
;;;366    modbus_registers[39]=(char)(NUMIST%256);
000148  705e              STRB     r6,[r3,#1]
;;;367    modbus_registers[40]=(char)(PAR/256);		//Πεγ21
00014a  4eb5              LDR      r6,|L2.1056|
00014c  f9b66000          LDRSH    r6,[r6,#0]  ; PAR
000150  ea4f77e6          ASR      r7,r6,#31
000154  eb066717          ADD      r7,r6,r7,LSR #24
000158  ea4f2c27          ASR      r12,r7,#8
00015c  f883c002          STRB     r12,[r3,#2]
;;;368    modbus_registers[41]=(char)(PAR%256);
000160  70de              STRB     r6,[r3,#3]
;;;369    modbus_registers[42]=(char)(ZV_ON/256);		//Πεγ22
000162  4eb0              LDR      r6,|L2.1060|
000164  f9b66000          LDRSH    r6,[r6,#0]  ; ZV_ON
000168  ea4f77e6          ASR      r7,r6,#31
00016c  eb066717          ADD      r7,r6,r7,LSR #24
000170  ea4f2c27          ASR      r12,r7,#8
000174  f883c004          STRB     r12,[r3,#4]
;;;370    modbus_registers[43]=(char)(ZV_ON%256);
000178  715e              STRB     r6,[r3,#5]
;;;371    modbus_registers[44]=(char)(TERMOKOMPENS/256);		//Πεγ23
00017a  4eab              LDR      r6,|L2.1064|
00017c  f9b66000          LDRSH    r6,[r6,#0]  ; TERMOKOMPENS
000180  ea4f77e6          ASR      r7,r6,#31
000184  eb066717          ADD      r7,r6,r7,LSR #24
000188  ea4f2c27          ASR      r12,r7,#8
00018c  f883c006          STRB     r12,[r3,#6]
;;;372    modbus_registers[45]=(char)(TERMOKOMPENS%256);
000190  71de              STRB     r6,[r3,#7]
;;;373    modbus_registers[46]=(char)(UBM_AV/256);		//Πεγ24
000192  4ea6              LDR      r6,|L2.1068|
000194  f9b66000          LDRSH    r6,[r6,#0]  ; UBM_AV
000198  ea4f77e6          ASR      r7,r6,#31
00019c  eb066717          ADD      r7,r6,r7,LSR #24
0001a0  ea4f2c27          ASR      r12,r7,#8
0001a4  f883c008          STRB     r12,[r3,#8]
;;;374    modbus_registers[47]=(char)(UBM_AV%256);
0001a8  725e              STRB     r6,[r3,#9]
;;;375    modbus_registers[48]=(char)(load_I/256);		//Πεγ25
0001aa  729c              STRB     r4,[r3,#0xa]
;;;376    modbus_registers[49]=(char)(load_I%256);
0001ac  72dd              STRB     r5,[r3,#0xb]
;;;377    modbus_registers[50]=(char)(load_I/256);		//Πεγ26
0001ae  731c              STRB     r4,[r3,#0xc]
;;;378    modbus_registers[51]=(char)(load_I%256);
0001b0  735d              STRB     r5,[r3,#0xd]
;;;379    modbus_registers[52]=(char)(load_I/256);		//Πεγ27
0001b2  739c              STRB     r4,[r3,#0xe]
;;;380    modbus_registers[53]=(char)(load_I%256);
0001b4  73dd              STRB     r5,[r3,#0xf]
;;;381    modbus_registers[54]=(char)(load_I/256);		//Πεγ28
0001b6  741c              STRB     r4,[r3,#0x10]
;;;382    modbus_registers[55]=(char)(load_I%256);
0001b8  745d              STRB     r5,[r3,#0x11]
;;;383    modbus_registers[56]=(char)(load_I/256);		//Πεγ29
0001ba  749c              STRB     r4,[r3,#0x12]
;;;384    modbus_registers[57]=(char)(load_I%256);
0001bc  74dd              STRB     r5,[r3,#0x13]
;;;385    modbus_registers[58]=(char)(TBAT/256);			//Πεγ30
0001be  4e9c              LDR      r6,|L2.1072|
0001c0  f9b66000          LDRSH    r6,[r6,#0]  ; TBAT
0001c4  ea4f77e6          ASR      r7,r6,#31
0001c8  eb066717          ADD      r7,r6,r7,LSR #24
0001cc  ea4f2c27          ASR      r12,r7,#8
0001d0  f883c014          STRB     r12,[r3,#0x14]
;;;386    modbus_registers[59]=(char)(TBAT%256);
0001d4  755e              STRB     r6,[r3,#0x15]
;;;387    modbus_registers[60]=(char)(UMAX/256);			//Πεγ31
0001d6  4e97              LDR      r6,|L2.1076|
0001d8  f9b66000          LDRSH    r6,[r6,#0]  ; UMAX
0001dc  ea4f77e6          ASR      r7,r6,#31
0001e0  eb066717          ADD      r7,r6,r7,LSR #24
0001e4  ea4f2c27          ASR      r12,r7,#8
0001e8  f883c016          STRB     r12,[r3,#0x16]
;;;388    modbus_registers[61]=(char)(UMAX%256);
0001ec  75de              STRB     r6,[r3,#0x17]
;;;389    modbus_registers[62]=(char)((UB20-DU)/256);		//Πεγ32
0001ee  4e92              LDR      r6,|L2.1080|
0001f0  4f92              LDR      r7,|L2.1084|
0001f2  f9b66000          LDRSH    r6,[r6,#0]  ; UB20
0001f6  f9b77000          LDRSH    r7,[r7,#0]  ; DU
0001fa  eba60707          SUB      r7,r6,r7
0001fe  ea4f7ce7          ASR      r12,r7,#31
000202  eb076c1c          ADD      r12,r7,r12,LSR #24
000206  ea4f282c          ASR      r8,r12,#8
00020a  f8838018          STRB     r8,[r3,#0x18]
;;;390    modbus_registers[63]=(char)((UB20-DU)%256);
00020e  765f              STRB     r7,[r3,#0x19]
;;;391    modbus_registers[64]=(char)(UB0/256);			//Πεγ33
000210  4f8b              LDR      r7,|L2.1088|
000212  f9b77000          LDRSH    r7,[r7,#0]  ; UB0
000216  ea4f7ce7          ASR      r12,r7,#31
00021a  eb076c1c          ADD      r12,r7,r12,LSR #24
00021e  ea4f282c          ASR      r8,r12,#8
000222  f883801a          STRB     r8,[r3,#0x1a]
;;;392    modbus_registers[65]=(char)(UB0%256);
000226  76df              STRB     r7,[r3,#0x1b]
;;;393    modbus_registers[66]=(char)(UB20/256);			//Πεγ34
000228  ea4f77e6          ASR      r7,r6,#31
00022c  eb066717          ADD      r7,r6,r7,LSR #24
000230  ea4f2c27          ASR      r12,r7,#8
000234  f883c01c          STRB     r12,[r3,#0x1c]
;;;394    modbus_registers[67]=(char)(UB20%256);
000238  775e              STRB     r6,[r3,#0x1d]
00023a  f1a30326          SUB      r3,r3,#0x26
;;;395    modbus_registers[68]=(char)(USIGN/256);		//Πεγ35
00023e  4e81              LDR      r6,|L2.1092|
000240  f9b66000          LDRSH    r6,[r6,#0]  ; USIGN
000244  ea4f77e6          ASR      r7,r6,#31
000248  eb066717          ADD      r7,r6,r7,LSR #24
00024c  ea4f2c27          ASR      r12,r7,#8
000250  f803cf44          STRB     r12,[r3,#0x44]!
;;;396    modbus_registers[69]=(char)(USIGN%256);
000254  705e              STRB     r6,[r3,#1]
;;;397    modbus_registers[70]=(char)(UMN/256);		//Πεγ36
000256  4e7c              LDR      r6,|L2.1096|
000258  f9b66000          LDRSH    r6,[r6,#0]  ; UMN
00025c  ea4f77e6          ASR      r7,r6,#31
000260  eb066717          ADD      r7,r6,r7,LSR #24
000264  ea4f2c27          ASR      r12,r7,#8
000268  f883c002          STRB     r12,[r3,#2]
;;;398    modbus_registers[71]=(char)(UMN%256);
00026c  70de              STRB     r6,[r3,#3]
;;;399    modbus_registers[72]=(char)(U0B/256);		//Πεγ37
00026e  4e77              LDR      r6,|L2.1100|
000270  f9b66000          LDRSH    r6,[r6,#0]  ; U0B
000274  ea4f77e6          ASR      r7,r6,#31
000278  eb066717          ADD      r7,r6,r7,LSR #24
00027c  ea4f2c27          ASR      r12,r7,#8
000280  f883c004          STRB     r12,[r3,#4]
;;;400    modbus_registers[73]=(char)(U0B%256);
000284  715e              STRB     r6,[r3,#5]
;;;401    modbus_registers[74]=(char)(IKB/256);		//Πεγ38
000286  4e72              LDR      r6,|L2.1104|
000288  f9b66000          LDRSH    r6,[r6,#0]  ; IKB
00028c  ea4f77e6          ASR      r7,r6,#31
000290  eb066717          ADD      r7,r6,r7,LSR #24
000294  ea4f2c27          ASR      r12,r7,#8
000298  f883c006          STRB     r12,[r3,#6]
;;;402    modbus_registers[75]=(char)(IKB%256);
00029c  71de              STRB     r6,[r3,#7]
;;;403    modbus_registers[76]=(char)(IZMAX/256);		//Πεγ39
00029e  4e6d              LDR      r6,|L2.1108|
0002a0  f9b66000          LDRSH    r6,[r6,#0]  ; IZMAX
0002a4  ea4f77e6          ASR      r7,r6,#31
0002a8  eb066717          ADD      r7,r6,r7,LSR #24
0002ac  ea4f2c27          ASR      r12,r7,#8
0002b0  f883c008          STRB     r12,[r3,#8]
;;;404    modbus_registers[77]=(char)(IZMAX%256);
0002b4  725e              STRB     r6,[r3,#9]
;;;405    modbus_registers[78]=(char)(IMAX/256);		//Πεγ40
0002b6  4e68              LDR      r6,|L2.1112|
0002b8  f9b66000          LDRSH    r6,[r6,#0]  ; IMAX
0002bc  ea4f77e6          ASR      r7,r6,#31
0002c0  eb066717          ADD      r7,r6,r7,LSR #24
0002c4  ea4f2c27          ASR      r12,r7,#8
0002c8  f883c00a          STRB     r12,[r3,#0xa]
;;;406    modbus_registers[79]=(char)(IMAX%256);
0002cc  72de              STRB     r6,[r3,#0xb]
;;;407    modbus_registers[80]=(char)(IMIN/256);		//Πεγ41
0002ce  4e63              LDR      r6,|L2.1116|
0002d0  f9b66000          LDRSH    r6,[r6,#0]  ; IMIN
0002d4  ea4f77e6          ASR      r7,r6,#31
0002d8  eb066717          ADD      r7,r6,r7,LSR #24
0002dc  ea4f2c27          ASR      r12,r7,#8
0002e0  f883c00c          STRB     r12,[r3,#0xc]
;;;408    modbus_registers[81]=(char)(IMIN%256);
0002e4  735e              STRB     r6,[r3,#0xd]
;;;409    modbus_registers[82]=(char)(UVZ/256);		//Πεγ42
0002e6  4e5e              LDR      r6,|L2.1120|
0002e8  f9b66000          LDRSH    r6,[r6,#0]  ; UVZ
0002ec  ea4f77e6          ASR      r7,r6,#31
0002f0  eb066717          ADD      r7,r6,r7,LSR #24
0002f4  ea4f2c27          ASR      r12,r7,#8
0002f8  f883c00e          STRB     r12,[r3,#0xe]
;;;410    modbus_registers[83]=(char)(UVZ%256);
0002fc  73de              STRB     r6,[r3,#0xf]
;;;411    modbus_registers[84]=(char)(TZAS/256);		//Πεγ43
0002fe  4e59              LDR      r6,|L2.1124|
000300  f9b66000          LDRSH    r6,[r6,#0]  ; TZAS
000304  ea4f77e6          ASR      r7,r6,#31
000308  eb066717          ADD      r7,r6,r7,LSR #24
00030c  ea4f2c27          ASR      r12,r7,#8
000310  f883c010          STRB     r12,[r3,#0x10]
;;;412    modbus_registers[85]=(char)(TZAS%256);
000314  745e              STRB     r6,[r3,#0x11]
;;;413    modbus_registers[86]=(char)(TMAX/256);		//Πεγ44
000316  4e54              LDR      r6,|L2.1128|
000318  f9b66000          LDRSH    r6,[r6,#0]  ; TMAX
00031c  ea4f77e6          ASR      r7,r6,#31
000320  eb066717          ADD      r7,r6,r7,LSR #24
000324  ea4f2c27          ASR      r12,r7,#8
000328  f883c012          STRB     r12,[r3,#0x12]
;;;414    modbus_registers[87]=(char)(TMAX%256);
00032c  74de              STRB     r6,[r3,#0x13]
;;;415    modbus_registers[88]=(char)(TSIGN/256);		//Πεγ45
00032e  4e4f              LDR      r6,|L2.1132|
000330  f9b66000          LDRSH    r6,[r6,#0]  ; TSIGN
000334  ea4f77e6          ASR      r7,r6,#31
000338  eb066717          ADD      r7,r6,r7,LSR #24
00033c  ea4f2c27          ASR      r12,r7,#8
000340  f883c014          STRB     r12,[r3,#0x14]
;;;416    modbus_registers[89]=(char)(TSIGN%256);
000344  755e              STRB     r6,[r3,#0x15]
;;;417    modbus_registers[90]=(char)(TBATMAX/256);		//Πεγ46
000346  4e4a              LDR      r6,|L2.1136|
000348  f9b66000          LDRSH    r6,[r6,#0]  ; TBATMAX
00034c  ea4f77e6          ASR      r7,r6,#31
000350  eb066717          ADD      r7,r6,r7,LSR #24
000354  ea4f2c27          ASR      r12,r7,#8
000358  f883c016          STRB     r12,[r3,#0x16]
;;;418    modbus_registers[91]=(char)(TBATMAX%256);
00035c  75de              STRB     r6,[r3,#0x17]
;;;419    modbus_registers[92]=(char)(TBATSIGN/256);		//Πεγ47
00035e  4e45              LDR      r6,|L2.1140|
000360  f9b66000          LDRSH    r6,[r6,#0]  ; TBATSIGN
000364  ea4f77e6          ASR      r7,r6,#31
000368  eb066717          ADD      r7,r6,r7,LSR #24
00036c  ea4f2c27          ASR      r12,r7,#8
000370  f883c018          STRB     r12,[r3,#0x18]
;;;420    modbus_registers[93]=(char)(TBATSIGN%256);
000374  765e              STRB     r6,[r3,#0x19]
;;;421    modbus_registers[94]=(char)(load_I/256);		//Πεγ48
000376  769c              STRB     r4,[r3,#0x1a]
;;;422    modbus_registers[95]=(char)(load_I%256);
000378  76dd              STRB     r5,[r3,#0x1b]
;;;423    modbus_registers[96]=(char)(load_I/256);		//Πεγ49
00037a  771c              STRB     r4,[r3,#0x1c]
;;;424    modbus_registers[97]=(char)(load_I%256);
00037c  775d              STRB     r5,[r3,#0x1d]
;;;425    modbus_registers[98]=(char)(load_I/256);		//Πεγ50
00037e  779c              STRB     r4,[r3,#0x1e]
000380  f1a30344          SUB      r3,r3,#0x44
;;;426    modbus_registers[99]=(char)(load_I%256);
000384  f8835063          STRB     r5,[r3,#0x63]
;;;427    
;;;428    modbus_tx_buff[0]=adr;
000388  f88d0004          STRB     r0,[sp,#4]
;;;429    modbus_tx_buff[1]=func;
00038c  f88d1005          STRB     r1,[sp,#5]
;;;430    modbus_tx_buff[2]=(char)(reg_adr/256);
000390  ea4f2012          LSR      r0,r2,#8
000394  f88d0006          STRB     r0,[sp,#6]
;;;431    modbus_tx_buff[3]=(char)(reg_adr%256);
000398  f88d2007          STRB     r2,[sp,#7]
;;;432    //modbus_tx_buff[4]=(char)(reg_quantity/256);
;;;433    //modbus_tx_buff[5]=(char)(reg_quantity%256);
;;;434    /*
;;;435    modbus_registers[0]=0x10;
;;;436    modbus_registers[1]=0x11;
;;;437    modbus_registers[2]=0x12;
;;;438    modbus_registers[3]=0x13;
;;;439    modbus_registers[4]=0x14;
;;;440    modbus_registers[5]=0x15;
;;;441    */
;;;442    
;;;443    mem_copy((char*)&modbus_tx_buff[4],(char*)&modbus_registers[(reg_adr-1)*2],2);
00039c  f1a20201          SUB      r2,r2,#1
0003a0  eb030142          ADD      r1,r3,r2,LSL #1
0003a4  ad01              ADD      r5,sp,#4
0003a6  f04f0202          MOV      r2,#2
0003aa  f1050004          ADD      r0,r5,#4
0003ae  f7fffffe          BL       mem_copy
;;;444    
;;;445    crc_temp=CRC16_2(modbus_tx_buff,6);
0003b2  2106              MOVS     r1,#6
0003b4  a801              ADD      r0,sp,#4
0003b6  f7fffffe          BL       CRC16_2
;;;446    
;;;447    modbus_tx_buff[6]=crc_temp%256;
0003ba  f88d000a          STRB     r0,[sp,#0xa]
;;;448    modbus_tx_buff[7]=crc_temp/256;
0003be  ea4f2010          LSR      r0,r0,#8
0003c2  f88d000b          STRB     r0,[sp,#0xb]
;;;449    
;;;450    for (i=0;i<8;i++)
0003c6  f04f0400          MOV      r4,#0
                  |L2.970|
;;;451    	{
;;;452    	putchar0(modbus_tx_buff[i]);
0003ca  5d28              LDRB     r0,[r5,r4]
0003cc  f7fffffe          BL       putchar0
0003d0  f1040401          ADD      r4,r4,#1              ;450
0003d4  b2e4              UXTB     r4,r4                 ;450
0003d6  2c08              CMP      r4,#8                 ;450
0003d8  d3f7              BCC      |L2.970|
;;;453    	}
;;;454    for (i=0;i<8;i++)
0003da  f04f0400          MOV      r4,#0
                  |L2.990|
;;;455    	{
;;;456    	putchar_sc16is700(modbus_tx_buff[i]);
0003de  5d28              LDRB     r0,[r5,r4]
0003e0  f7fffffe          BL       putchar_sc16is700
0003e4  f1040401          ADD      r4,r4,#1              ;454
0003e8  b2e4              UXTB     r4,r4                 ;454
0003ea  2c08              CMP      r4,#8                 ;454
0003ec  d3f7              BCC      |L2.990|
;;;457    	}
;;;458    }
0003ee  b00e              ADD      sp,sp,#0x38
0003f0  e8bd81f0          POP      {r4-r8,pc}
                  |L2.1012|
                          DCD      load_U
                  |L2.1016|
                          DCD      ||area_number.6||+0x3c
                  |L2.1020|
                          DCD      load_I
                  |L2.1024|
                          DCD      Ib_ips_termokompensat
                  |L2.1028|
                          DCD      t_ext
                  |L2.1032|
                          DCD      net_Ua
                  |L2.1036|
                          DCD      net_Ub
                  |L2.1040|
                          DCD      net_Uc
                  |L2.1044|
                          DCD      net_F3
                  |L2.1048|
                          DCD      0x40024020
                  |L2.1052|
                          DCD      NUMIST
                  |L2.1056|
                          DCD      PAR
                  |L2.1060|
                          DCD      ZV_ON
                  |L2.1064|
                          DCD      TERMOKOMPENS
                  |L2.1068|
                          DCD      UBM_AV
                  |L2.1072|
                          DCD      TBAT
                  |L2.1076|
                          DCD      UMAX
                  |L2.1080|
                          DCD      UB20
                  |L2.1084|
                          DCD      ||DU||
                  |L2.1088|
                          DCD      UB0
                  |L2.1092|
                          DCD      USIGN
                  |L2.1096|
                          DCD      UMN
                  |L2.1100|
                          DCD      U0B
                  |L2.1104|
                          DCD      IKB
                  |L2.1108|
                          DCD      IZMAX
                  |L2.1112|
                          DCD      IMAX
                  |L2.1116|
                          DCD      IMIN
                  |L2.1120|
                          DCD      UVZ
                  |L2.1124|
                          DCD      TZAS
                  |L2.1128|
                          DCD      TMAX
                  |L2.1132|
                          DCD      TSIGN
                  |L2.1136|
                          DCD      TBATMAX
                  |L2.1140|
                          DCD      TBATSIGN
                          ENDP


                          AREA ||area_number.3||, CODE, READONLY, ALIGN=2

                          EXPORTAS ||area_number.3||, ||.text||
                  modbus_registers_transmit PROC
;;;318    //-----------------------------------------------
;;;319    void modbus_register_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr)
000000  e92d43f0          PUSH     {r4-r9,lr}
;;;320    {
000004  b099              SUB      sp,sp,#0x64
;;;321    //char modbus_registers[150];
;;;322    char modbus_tx_buff[50];
;;;323    unsigned short crc_temp;
;;;324    char i;
;;;325    
;;;326    
;;;327    modbus_registers[0]=(char)(load_U/256);					//Πεγ1
000006  4698              MOV      r8,r3
000008  4bfb              LDR      r3,|L3.1016|
00000a  f9b33000          LDRSH    r3,[r3,#0]  ; load_U
00000e  ea4f74e3          ASR      r4,r3,#31
000012  eb036514          ADD      r5,r3,r4,LSR #24
000016  4cf9              LDR      r4,|L3.1020|
000018  ea4f2625          ASR      r6,r5,#8
;;;328    modbus_registers[1]=(char)(load_U%256);
00001c  7026              STRB     r6,[r4,#0]
;;;329    modbus_registers[2]=(char)(load_I/256);					//Πεγ2
00001e  7063              STRB     r3,[r4,#1]
000020  4bf7              LDR      r3,|L3.1024|
000022  f9b33000          LDRSH    r3,[r3,#0]  ; load_I
000026  ea4f75e3          ASR      r5,r3,#31
00002a  eb036615          ADD      r6,r3,r5,LSR #24
00002e  f3c62507          UBFX     r5,r6,#8,#8
;;;330    modbus_registers[3]=(char)(load_I%256);
000032  70a5              STRB     r5,[r4,#2]
000034  b2de              UXTB     r6,r3
;;;331    modbus_registers[4]=(char)(Ib_ips_termokompensat/256);		//Πεγ3
000036  70e6              STRB     r6,[r4,#3]
000038  4bf2              LDR      r3,|L3.1028|
00003a  f9b33000          LDRSH    r3,[r3,#0]  ; Ib_ips_termokompensat
00003e  ea4f77e3          ASR      r7,r3,#31
000042  eb036717          ADD      r7,r3,r7,LSR #24
000046  ea4f2c27          ASR      r12,r7,#8
00004a  f884c004          STRB     r12,[r4,#4]
;;;332    modbus_registers[5]=(char)(Ib_ips_termokompensat%256);
;;;333    modbus_registers[6]=(char)(t_ext[0]/256);				//Πεγ4
00004e  7163              STRB     r3,[r4,#5]
000050  4bed              LDR      r3,|L3.1032|
000052  f9b33000          LDRSH    r3,[r3,#0]  ; t_ext
000056  ea4f77e3          ASR      r7,r3,#31
00005a  eb036717          ADD      r7,r3,r7,LSR #24
00005e  ea4f2c27          ASR      r12,r7,#8
000062  f884c006          STRB     r12,[r4,#6]
;;;334    modbus_registers[7]=(char)(t_ext[0]%256);
;;;335    modbus_registers[8]=(char)(net_Ua/256);					//Πεγ5
000066  71e3              STRB     r3,[r4,#7]
000068  4be8              LDR      r3,|L3.1036|
00006a  f9b33000          LDRSH    r3,[r3,#0]  ; net_Ua
00006e  ea4f77e3          ASR      r7,r3,#31
000072  eb036717          ADD      r7,r3,r7,LSR #24
000076  ea4f2c27          ASR      r12,r7,#8
00007a  f884c008          STRB     r12,[r4,#8]
;;;336    modbus_registers[9]=(char)(net_Ua%256);		 	
;;;337    modbus_registers[10]=(char)(net_Ub/256);				//Πεγ6
00007e  7263              STRB     r3,[r4,#9]
000080  4be3              LDR      r3,|L3.1040|
000082  f9b33000          LDRSH    r3,[r3,#0]  ; net_Ub
000086  ea4f77e3          ASR      r7,r3,#31
00008a  eb036717          ADD      r7,r3,r7,LSR #24
00008e  ea4f2c27          ASR      r12,r7,#8
000092  f884c00a          STRB     r12,[r4,#0xa]
;;;338    modbus_registers[11]=(char)(net_Ub%256);
;;;339    modbus_registers[12]=(char)(net_Uc/256);				//Πεγ7
000096  72e3              STRB     r3,[r4,#0xb]
000098  4bde              LDR      r3,|L3.1044|
00009a  f9b33000          LDRSH    r3,[r3,#0]  ; net_Uc
00009e  ea4f77e3          ASR      r7,r3,#31
0000a2  eb036717          ADD      r7,r3,r7,LSR #24
0000a6  ea4f2c27          ASR      r12,r7,#8
0000aa  f884c00c          STRB     r12,[r4,#0xc]
;;;340    modbus_registers[13]=(char)(net_Uc%256);
;;;341    modbus_registers[14]=(char)(net_F3/256);				//Πεγ8
0000ae  7363              STRB     r3,[r4,#0xd]
0000b0  4bd9              LDR      r3,|L3.1048|
0000b2  f9b33000          LDRSH    r3,[r3,#0]  ; net_F3
0000b6  ea4f77e3          ASR      r7,r3,#31
0000ba  eb036717          ADD      r7,r3,r7,LSR #24
0000be  ea4f2c27          ASR      r12,r7,#8
0000c2  f884c00e          STRB     r12,[r4,#0xe]
;;;342    modbus_registers[15]=(char)(net_F3%256);
;;;343    modbus_registers[16]=(char)(load_I/256);				//Πεγ9
0000c6  73e3              STRB     r3,[r4,#0xf]
;;;344    modbus_registers[17]=(char)(load_I%256);
0000c8  7425              STRB     r5,[r4,#0x10]
;;;345    modbus_registers[18]=(char)(load_I/256);				//Πεγ10
0000ca  7466              STRB     r6,[r4,#0x11]
;;;346    modbus_registers[19]=(char)(load_I%256);
0000cc  74a5              STRB     r5,[r4,#0x12]
;;;347    modbus_registers[20]=(char)((LPC_RTC->YEAR)/256);			//Πεγ11
0000ce  74e6              STRB     r6,[r4,#0x13]
0000d0  4fd2              LDR      r7,|L3.1052|
0000d2  8bbb              LDRH     r3,[r7,#0x1c]
0000d4  ea4f2313          LSR      r3,r3,#8
0000d8  f8043f14          STRB     r3,[r4,#0x14]!
;;;348    modbus_registers[21]=(char)((LPC_RTC->YEAR)%256);
0000dc  8bbb              LDRH     r3,[r7,#0x1c]
;;;349    modbus_registers[22]=(char)((LPC_RTC->MONTH)/256);		//Πεγ12
0000de  7063              STRB     r3,[r4,#1]
0000e0  7e3b              LDRB     r3,[r7,#0x18]
0000e2  f04f0300          MOV      r3,#0
;;;350    modbus_registers[23]=(char)((LPC_RTC->MONTH)%256);
0000e6  70a3              STRB     r3,[r4,#2]
0000e8  f897c018          LDRB     r12,[r7,#0x18]
0000ec  f884c003          STRB     r12,[r4,#3]
;;;351    modbus_registers[24]=(char)((LPC_RTC->DOM)/256);			//Πεγ13
0000f0  f897c00c          LDRB     r12,[r7,#0xc]
;;;352    modbus_registers[25]=(char)((LPC_RTC->DOM)%256);
0000f4  7123              STRB     r3,[r4,#4]
0000f6  f897c00c          LDRB     r12,[r7,#0xc]
0000fa  f884c005          STRB     r12,[r4,#5]
;;;353    modbus_registers[26]=(char)((LPC_RTC->HOUR)/256);			//Πεγ14
0000fe  f897c008          LDRB     r12,[r7,#8]
;;;354    modbus_registers[27]=(char)((LPC_RTC->HOUR)%256);
000102  71a3              STRB     r3,[r4,#6]
000104  f897c008          LDRB     r12,[r7,#8]
000108  f884c007          STRB     r12,[r4,#7]
;;;355    modbus_registers[28]=(char)((LPC_RTC->MIN)/256);			//Πεγ15
00010c  f897c004          LDRB     r12,[r7,#4]
;;;356    modbus_registers[29]=(char)((LPC_RTC->MIN)%256);
000110  7223              STRB     r3,[r4,#8]
000112  f897c004          LDRB     r12,[r7,#4]
000116  f884c009          STRB     r12,[r4,#9]
;;;357    modbus_registers[30]=(char)((LPC_RTC->SEC)/256);			//Πεγ16
00011a  f897c000          LDRB     r12,[r7,#0]
;;;358    modbus_registers[31]=(char)((LPC_RTC->SEC)%256);
00011e  72a3              STRB     r3,[r4,#0xa]
000120  783b              LDRB     r3,[r7,#0]
;;;359    modbus_registers[32]=(char)(load_I/256);				//Πεγ17
000122  72e3              STRB     r3,[r4,#0xb]
;;;360    modbus_registers[33]=(char)(load_I%256);
000124  7325              STRB     r5,[r4,#0xc]
;;;361    modbus_registers[34]=(char)(load_I/256);				//Πεγ18
000126  7366              STRB     r6,[r4,#0xd]
;;;362    modbus_registers[35]=(char)(load_I%256);
000128  73a5              STRB     r5,[r4,#0xe]
;;;363    modbus_registers[36]=(char)(load_I/256);		//Πεγ19
00012a  73e6              STRB     r6,[r4,#0xf]
;;;364    modbus_registers[37]=(char)(load_I%256);
00012c  7425              STRB     r5,[r4,#0x10]
00012e  7466              STRB     r6,[r4,#0x11]
000130  f1a40414          SUB      r4,r4,#0x14
;;;365    modbus_registers[38]=(char)(NUMIST/256);		//Πεγ20
000134  4bba              LDR      r3,|L3.1056|
000136  f9b33000          LDRSH    r3,[r3,#0]  ; NUMIST
00013a  ea4f77e3          ASR      r7,r3,#31
00013e  eb036717          ADD      r7,r3,r7,LSR #24
000142  ea4f2c27          ASR      r12,r7,#8
000146  f804cf26          STRB     r12,[r4,#0x26]!
;;;366    modbus_registers[39]=(char)(NUMIST%256);
;;;367    modbus_registers[40]=(char)(PAR/256);		//Πεγ21
00014a  7063              STRB     r3,[r4,#1]
00014c  4bb5              LDR      r3,|L3.1060|
00014e  f9b33000          LDRSH    r3,[r3,#0]  ; PAR
000152  ea4f77e3          ASR      r7,r3,#31
000156  eb036717          ADD      r7,r3,r7,LSR #24
00015a  ea4f2c27          ASR      r12,r7,#8
00015e  f884c002          STRB     r12,[r4,#2]
;;;368    modbus_registers[41]=(char)(PAR%256);
;;;369    modbus_registers[42]=(char)(ZV_ON/256);		//Πεγ22
000162  70e3              STRB     r3,[r4,#3]
000164  4bb0              LDR      r3,|L3.1064|
000166  f9b33000          LDRSH    r3,[r3,#0]  ; ZV_ON
00016a  ea4f77e3          ASR      r7,r3,#31
00016e  eb036717          ADD      r7,r3,r7,LSR #24
000172  ea4f2c27          ASR      r12,r7,#8
000176  f884c004          STRB     r12,[r4,#4]
;;;370    modbus_registers[43]=(char)(ZV_ON%256);
;;;371    modbus_registers[44]=(char)(TERMOKOMPENS/256);		//Πεγ23
00017a  7163              STRB     r3,[r4,#5]
00017c  4bab              LDR      r3,|L3.1068|
00017e  f9b33000          LDRSH    r3,[r3,#0]  ; TERMOKOMPENS
000182  ea4f77e3          ASR      r7,r3,#31
000186  eb036717          ADD      r7,r3,r7,LSR #24
00018a  ea4f2c27          ASR      r12,r7,#8
00018e  f884c006          STRB     r12,[r4,#6]
;;;372    modbus_registers[45]=(char)(TERMOKOMPENS%256);
;;;373    modbus_registers[46]=(char)(UBM_AV/256);		//Πεγ24
000192  71e3              STRB     r3,[r4,#7]
000194  4ba6              LDR      r3,|L3.1072|
000196  f9b33000          LDRSH    r3,[r3,#0]  ; UBM_AV
00019a  ea4f77e3          ASR      r7,r3,#31
00019e  eb036717          ADD      r7,r3,r7,LSR #24
0001a2  ea4f2c27          ASR      r12,r7,#8
0001a6  f884c008          STRB     r12,[r4,#8]
;;;374    modbus_registers[47]=(char)(UBM_AV%256);
;;;375    modbus_registers[48]=(char)(load_I/256);		//Πεγ25
0001aa  7263              STRB     r3,[r4,#9]
;;;376    modbus_registers[49]=(char)(load_I%256);
0001ac  72a5              STRB     r5,[r4,#0xa]
;;;377    modbus_registers[50]=(char)(load_I/256);		//Πεγ26
0001ae  72e6              STRB     r6,[r4,#0xb]
;;;378    modbus_registers[51]=(char)(load_I%256);
0001b0  7325              STRB     r5,[r4,#0xc]
;;;379    modbus_registers[52]=(char)(load_I/256);		//Πεγ27
0001b2  7366              STRB     r6,[r4,#0xd]
;;;380    modbus_registers[53]=(char)(load_I%256);
0001b4  73a5              STRB     r5,[r4,#0xe]
;;;381    modbus_registers[54]=(char)(load_I/256);		//Πεγ28
0001b6  73e6              STRB     r6,[r4,#0xf]
;;;382    modbus_registers[55]=(char)(load_I%256);
0001b8  7425              STRB     r5,[r4,#0x10]
;;;383    modbus_registers[56]=(char)(load_I/256);		//Πεγ29
0001ba  7466              STRB     r6,[r4,#0x11]
;;;384    modbus_registers[57]=(char)(load_I%256);
0001bc  74a5              STRB     r5,[r4,#0x12]
;;;385    modbus_registers[58]=(char)(TBAT/256);			//Πεγ30
0001be  74e6              STRB     r6,[r4,#0x13]
0001c0  4b9c              LDR      r3,|L3.1076|
0001c2  f9b33000          LDRSH    r3,[r3,#0]  ; TBAT
0001c6  ea4f77e3          ASR      r7,r3,#31
0001ca  eb036717          ADD      r7,r3,r7,LSR #24
0001ce  ea4f2c27          ASR      r12,r7,#8
0001d2  f884c014          STRB     r12,[r4,#0x14]
;;;386    modbus_registers[59]=(char)(TBAT%256);
;;;387    modbus_registers[60]=(char)(UMAX/256);			//Πεγ31
0001d6  7563              STRB     r3,[r4,#0x15]
0001d8  4b97              LDR      r3,|L3.1080|
0001da  f9b33000          LDRSH    r3,[r3,#0]  ; UMAX
0001de  ea4f77e3          ASR      r7,r3,#31
0001e2  eb036717          ADD      r7,r3,r7,LSR #24
0001e6  ea4f2c27          ASR      r12,r7,#8
0001ea  f884c016          STRB     r12,[r4,#0x16]
;;;388    modbus_registers[61]=(char)(UMAX%256);
;;;389    modbus_registers[62]=(char)((UB20-DU)/256);		//Πεγ32
0001ee  75e3              STRB     r3,[r4,#0x17]
0001f0  4b92              LDR      r3,|L3.1084|
0001f2  f9b37000          LDRSH    r7,[r3,#0]  ; UB20
0001f6  4b92              LDR      r3,|L3.1088|
0001f8  f9b33000          LDRSH    r3,[r3,#0]  ; DU
0001fc  eba70303          SUB      r3,r7,r3
000200  ea4f7ce3          ASR      r12,r3,#31
000204  eb036c1c          ADD      r12,r3,r12,LSR #24
000208  ea4f292c          ASR      r9,r12,#8
00020c  f8849018          STRB     r9,[r4,#0x18]
;;;390    modbus_registers[63]=(char)((UB20-DU)%256);
;;;391    modbus_registers[64]=(char)(UB0/256);			//Πεγ33
000210  7663              STRB     r3,[r4,#0x19]
000212  4b8c              LDR      r3,|L3.1092|
000214  f9b33000          LDRSH    r3,[r3,#0]  ; UB0
000218  ea4f7ce3          ASR      r12,r3,#31
00021c  eb036c1c          ADD      r12,r3,r12,LSR #24
000220  ea4f292c          ASR      r9,r12,#8
000224  f884901a          STRB     r9,[r4,#0x1a]
;;;392    modbus_registers[65]=(char)(UB0%256);
;;;393    modbus_registers[66]=(char)(UB20/256);			//Πεγ34
000228  76e3              STRB     r3,[r4,#0x1b]
00022a  ea4f73e7          ASR      r3,r7,#31
00022e  eb076313          ADD      r3,r7,r3,LSR #24
000232  ea4f2c23          ASR      r12,r3,#8
000236  f884c01c          STRB     r12,[r4,#0x1c]
;;;394    modbus_registers[67]=(char)(UB20%256);
00023a  463b              MOV      r3,r7
00023c  7763              STRB     r3,[r4,#0x1d]
;;;395    modbus_registers[68]=(char)(USIGN/256);		//Πεγ35
00023e  f1a40426          SUB      r4,r4,#0x26
000242  4b81              LDR      r3,|L3.1096|
000244  f9b33000          LDRSH    r3,[r3,#0]  ; USIGN
000248  ea4f77e3          ASR      r7,r3,#31
00024c  eb036717          ADD      r7,r3,r7,LSR #24
000250  ea4f2c27          ASR      r12,r7,#8
;;;396    modbus_registers[69]=(char)(USIGN%256);
000254  f804cf44          STRB     r12,[r4,#0x44]!
;;;397    modbus_registers[70]=(char)(UMN/256);		//Πεγ36
000258  7063              STRB     r3,[r4,#1]
00025a  4b7c              LDR      r3,|L3.1100|
00025c  f9b33000          LDRSH    r3,[r3,#0]  ; UMN
000260  ea4f77e3          ASR      r7,r3,#31
000264  eb036717          ADD      r7,r3,r7,LSR #24
000268  ea4f2c27          ASR      r12,r7,#8
;;;398    modbus_registers[71]=(char)(UMN%256);
00026c  f884c002          STRB     r12,[r4,#2]
;;;399    modbus_registers[72]=(char)(U0B/256);		//Πεγ37
000270  70e3              STRB     r3,[r4,#3]
000272  4b77              LDR      r3,|L3.1104|
000274  f9b33000          LDRSH    r3,[r3,#0]  ; U0B
000278  ea4f77e3          ASR      r7,r3,#31
00027c  eb036717          ADD      r7,r3,r7,LSR #24
000280  ea4f2c27          ASR      r12,r7,#8
;;;400    modbus_registers[73]=(char)(U0B%256);
000284  f884c004          STRB     r12,[r4,#4]
;;;401    modbus_registers[74]=(char)(IKB/256);		//Πεγ38
000288  7163              STRB     r3,[r4,#5]
00028a  4b72              LDR      r3,|L3.1108|
00028c  f9b33000          LDRSH    r3,[r3,#0]  ; IKB
000290  ea4f77e3          ASR      r7,r3,#31
000294  eb036717          ADD      r7,r3,r7,LSR #24
000298  ea4f2c27          ASR      r12,r7,#8
;;;402    modbus_registers[75]=(char)(IKB%256);
00029c  f884c006          STRB     r12,[r4,#6]
;;;403    modbus_registers[76]=(char)(IZMAX/256);		//Πεγ39
0002a0  71e3              STRB     r3,[r4,#7]
0002a2  4b6d              LDR      r3,|L3.1112|
0002a4  f9b33000          LDRSH    r3,[r3,#0]  ; IZMAX
0002a8  ea4f77e3          ASR      r7,r3,#31
0002ac  eb036717          ADD      r7,r3,r7,LSR #24
0002b0  ea4f2c27          ASR      r12,r7,#8
;;;404    modbus_registers[77]=(char)(IZMAX%256);
0002b4  f884c008          STRB     r12,[r4,#8]
;;;405    modbus_registers[78]=(char)(IMAX/256);		//Πεγ40
0002b8  7263              STRB     r3,[r4,#9]
0002ba  4b68              LDR      r3,|L3.1116|
0002bc  f9b33000          LDRSH    r3,[r3,#0]  ; IMAX
0002c0  ea4f77e3          ASR      r7,r3,#31
0002c4  eb036717          ADD      r7,r3,r7,LSR #24
0002c8  ea4f2c27          ASR      r12,r7,#8
;;;406    modbus_registers[79]=(char)(IMAX%256);
0002cc  f884c00a          STRB     r12,[r4,#0xa]
;;;407    modbus_registers[80]=(char)(IMIN/256);		//Πεγ41
0002d0  72e3              STRB     r3,[r4,#0xb]
0002d2  4b63              LDR      r3,|L3.1120|
0002d4  f9b33000          LDRSH    r3,[r3,#0]  ; IMIN
0002d8  ea4f77e3          ASR      r7,r3,#31
0002dc  eb036717          ADD      r7,r3,r7,LSR #24
0002e0  ea4f2c27          ASR      r12,r7,#8
;;;408    modbus_registers[81]=(char)(IMIN%256);
0002e4  f884c00c          STRB     r12,[r4,#0xc]
;;;409    modbus_registers[82]=(char)(UVZ/256);		//Πεγ42
0002e8  7363              STRB     r3,[r4,#0xd]
0002ea  4b5e              LDR      r3,|L3.1124|
0002ec  f9b33000          LDRSH    r3,[r3,#0]  ; UVZ
0002f0  ea4f77e3          ASR      r7,r3,#31
0002f4  eb036717          ADD      r7,r3,r7,LSR #24
0002f8  ea4f2c27          ASR      r12,r7,#8
;;;410    modbus_registers[83]=(char)(UVZ%256);
0002fc  f884c00e          STRB     r12,[r4,#0xe]
;;;411    modbus_registers[84]=(char)(TZAS/256);		//Πεγ43
000300  73e3              STRB     r3,[r4,#0xf]
000302  4b59              LDR      r3,|L3.1128|
000304  f9b33000          LDRSH    r3,[r3,#0]  ; TZAS
000308  ea4f77e3          ASR      r7,r3,#31
00030c  eb036717          ADD      r7,r3,r7,LSR #24
000310  ea4f2c27          ASR      r12,r7,#8
;;;412    modbus_registers[85]=(char)(TZAS%256);
000314  f884c010          STRB     r12,[r4,#0x10]
;;;413    modbus_registers[86]=(char)(TMAX/256);		//Πεγ44
000318  7463              STRB     r3,[r4,#0x11]
00031a  4b54              LDR      r3,|L3.1132|
00031c  f9b33000          LDRSH    r3,[r3,#0]  ; TMAX
000320  ea4f77e3          ASR      r7,r3,#31
000324  eb036717          ADD      r7,r3,r7,LSR #24
000328  ea4f2c27          ASR      r12,r7,#8
;;;414    modbus_registers[87]=(char)(TMAX%256);
00032c  f884c012          STRB     r12,[r4,#0x12]
;;;415    modbus_registers[88]=(char)(TSIGN/256);		//Πεγ45
000330  74e3              STRB     r3,[r4,#0x13]
000332  4b4f              LDR      r3,|L3.1136|
000334  f9b33000          LDRSH    r3,[r3,#0]  ; TSIGN
000338  ea4f77e3          ASR      r7,r3,#31
00033c  eb036717          ADD      r7,r3,r7,LSR #24
000340  ea4f2c27          ASR      r12,r7,#8
;;;416    modbus_registers[89]=(char)(TSIGN%256);
000344  f884c014          STRB     r12,[r4,#0x14]
;;;417    modbus_registers[90]=(char)(TBATMAX/256);		//Πεγ46
000348  7563              STRB     r3,[r4,#0x15]
00034a  4b4a              LDR      r3,|L3.1140|
00034c  f9b33000          LDRSH    r3,[r3,#0]  ; TBATMAX
000350  ea4f77e3          ASR      r7,r3,#31
000354  eb036717          ADD      r7,r3,r7,LSR #24
000358  ea4f2c27          ASR      r12,r7,#8
;;;418    modbus_registers[91]=(char)(TBATMAX%256);
00035c  f884c016          STRB     r12,[r4,#0x16]
;;;419    modbus_registers[92]=(char)(TBATSIGN/256);		//Πεγ47
000360  75e3              STRB     r3,[r4,#0x17]
000362  4b45              LDR      r3,|L3.1144|
000364  f9b33000          LDRSH    r3,[r3,#0]  ; TBATSIGN
000368  ea4f77e3          ASR      r7,r3,#31
00036c  eb036717          ADD      r7,r3,r7,LSR #24
000370  ea4f2c27          ASR      r12,r7,#8
;;;420    modbus_registers[93]=(char)(TBATSIGN%256);
000374  f884c018          STRB     r12,[r4,#0x18]
;;;421    modbus_registers[94]=(char)(load_I/256);		//Πεγ48
;;;422    modbus_registers[95]=(char)(load_I%256);
000378  7663              STRB     r3,[r4,#0x19]
;;;423    modbus_registers[96]=(char)(load_I/256);		//Πεγ49
00037a  76a5              STRB     r5,[r4,#0x1a]
;;;424    modbus_registers[97]=(char)(load_I%256);
00037c  76e6              STRB     r6,[r4,#0x1b]
;;;425    modbus_registers[98]=(char)(load_I/256);		//Πεγ50
00037e  7725              STRB     r5,[r4,#0x1c]
000380  7766              STRB     r6,[r4,#0x1d]
000382  77a5              STRB     r5,[r4,#0x1e]
;;;426    modbus_registers[99]=(char)(load_I%256);
000384  f1a40444          SUB      r4,r4,#0x44
;;;427    
;;;428    modbus_tx_buff[0]=adr;
000388  f8846063          STRB     r6,[r4,#0x63]
;;;429    modbus_tx_buff[1]=func;
00038c  f88d0000          STRB     r0,[sp,#0]
;;;430    modbus_tx_buff[2]=(char)(reg_adr/256);
000390  f88d1001          STRB     r1,[sp,#1]
000394  ea4f0048          LSL      r0,r8,#1
;;;431    modbus_tx_buff[3]=(char)(reg_adr%256);
000398  f88d0002          STRB     r0,[sp,#2]
;;;432    //modbus_tx_buff[4]=(char)(reg_quantity/256);
;;;433    //modbus_tx_buff[5]=(char)(reg_quantity%256);
;;;434    /*
;;;435    modbus_registers[0]=0x10;
;;;436    modbus_registers[1]=0x11;
;;;437    modbus_registers[2]=0x12;
;;;438    modbus_registers[3]=0x13;
;;;439    modbus_registers[4]=0x14;
;;;440    modbus_registers[5]=0x15;
;;;441    */
;;;442    
;;;443    mem_copy((char*)&modbus_tx_buff[4],(char*)&modbus_registers[(reg_adr-1)*2],2);
00039c  f1a20201          SUB      r2,r2,#1
0003a0  eb040142          ADD      r1,r4,r2,LSL #1
0003a4  4602              MOV      r2,r0
0003a6  466d              MOV      r5,sp
0003a8  f10d0003          ADD      r0,sp,#3
0003ac  f7fffffe          BL       mem_copy
0003b0  2003              MOVS     r0,#3
;;;444    
;;;445    crc_temp=CRC16_2(modbus_tx_buff,6);
0003b2  eb000048          ADD      r0,r0,r8,LSL #1
0003b6  b201              SXTH     r1,r0
0003b8  4668              MOV      r0,sp
;;;446    
;;;447    modbus_tx_buff[6]=crc_temp%256;
0003ba  f7fffffe          BL       CRC16_2
;;;448    modbus_tx_buff[7]=crc_temp/256;
0003be  eb050148          ADD      r1,r5,r8,LSL #1
0003c2  70c8              STRB     r0,[r1,#3]
0003c4  ea4f2010          LSR      r0,r0,#8
;;;449    
;;;450    for (i=0;i<8;i++)
0003c8  7108              STRB     r0,[r1,#4]
;;;451    	{
;;;452    	putchar0(modbus_tx_buff[i]);
0003ca  f04f0400          MOV      r4,#0
                  |L3.974|
0003ce  5d28              LDRB     r0,[r5,r4]
0003d0  f7fffffe          BL       putchar0
0003d4  f1040401          ADD      r4,r4,#1              ;450
0003d8  b2e4              UXTB     r4,r4                 ;450
;;;453    	}
;;;454    for (i=0;i<8;i++)
0003da  2c0f              CMP      r4,#0xf
0003dc  d3f7              BCC      |L3.974|
;;;455    	{
;;;456    	putchar_sc16is700(modbus_tx_buff[i]);
0003de  f04f0400          MOV      r4,#0
                  |L3.994|
0003e2  5d28              LDRB     r0,[r5,r4]
0003e4  f7fffffe          BL       putchar_sc16is700
0003e8  f1040401          ADD      r4,r4,#1              ;454
0003ec  b2e4              UXTB     r4,r4                 ;454
;;;457    	}
;;;458    }
0003ee  2c0f              CMP      r4,#0xf
0003f0  d3f7              BCC      |L3.994|
0003f2  b019              ADD      sp,sp,#0x64
0003f4  e8bd83f0          POP      {r4-r9,pc}
                  |L3.1016|
                          DCD      load_U
                  |L3.1020|
                          DCD      ||area_number.6||+0x3c
                  |L3.1024|
                          DCD      load_I
                  |L3.1028|
                          DCD      Ib_ips_termokompensat
                  |L3.1032|
                          DCD      t_ext
                  |L3.1036|
                          DCD      net_Ua
                  |L3.1040|
                          DCD      net_Ub
                  |L3.1044|
                          DCD      net_Uc
                  |L3.1048|
                          DCD      net_F3
                  |L3.1052|
                          DCD      0x40024020
                  |L3.1056|
                          DCD      NUMIST
                  |L3.1060|
                          DCD      PAR
                  |L3.1064|
                          DCD      ZV_ON
                  |L3.1068|
                          DCD      TERMOKOMPENS
                  |L3.1072|
                          DCD      UBM_AV
                  |L3.1076|
                          DCD      TBAT
                  |L3.1080|
                          DCD      UMAX
                  |L3.1084|
                          DCD      UB20
                  |L3.1088|
                          DCD      ||DU||
                  |L3.1092|
                          DCD      UB0
                  |L3.1096|
                          DCD      USIGN
                  |L3.1100|
                          DCD      UMN
                  |L3.1104|
                          DCD      U0B
                  |L3.1108|
                          DCD      IKB
                  |L3.1112|
                          DCD      IZMAX
                  |L3.1116|
                          DCD      IMAX
                  |L3.1120|
                          DCD      IMIN
                  |L3.1124|
                          DCD      UVZ
                  |L3.1128|
                          DCD      TZAS
                  |L3.1132|
                          DCD      TMAX
                  |L3.1136|
                          DCD      TSIGN
                  |L3.1140|
                          DCD      TBATMAX
                  |L3.1144|
                          DCD      TBATSIGN
                          ENDP


                          AREA ||.bss||, DATA, NOINIT, ALIGN=0

                  modbus_buf
                          %        20

                          AREA ||area_number.6||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.6||, ||.bss||
                  modbus_rx_buffer
                          %        30
                  modbus_an_buffer
                          %        30
                  modbus_registers
                          %        200

                          AREA ||.data||, DATA, ALIGN=1

                  modbus_crc16
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.9||, DATA, ALIGN=0

                          EXPORTAS ||area_number.9||, ||.data||
                  modbus_timeout_cnt
000000  00                DCB      0x00

                          AREA ||area_number.10||, DATA, ALIGN=1

                          EXPORTAS ||area_number.10||, ||.data||
                  bMODBUS_TIMEOUT
000000  00                DCB      0x00
                  modbus_rx_buffer_ptr
000001  00                DCB      0x00
                  modbus_rx_counter
000002  0000              DCB      0x00,0x00
                  modbus_plazma
000004  0000              DCB      0x00,0x00
                  modbus_plazma1
000006  0000              DCB      0x00,0x00
                  modbus_plazma2
000008  0000              DCB      0x00,0x00
                  modbus_plazma3
00000a  0000              DCB      0x00,0x00
                  modbus_rx_arg0
00000c  0000              DCB      0x00,0x00
                  modbus_rx_arg1
00000e  0000              DCB      0x00,0x00

                          AREA ||area_number.11||, DATA, ALIGN=1

                          EXPORTAS ||area_number.11||, ||.data||
                  modbus_rx_arg2
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.12||, DATA, ALIGN=1

                          EXPORTAS ||area_number.12||, ||.data||
                  modbus_rx_arg3
000000  0000              DCB      0x00,0x00
