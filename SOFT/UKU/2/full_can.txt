; generated by ARM C/C++ Compiler, 4.1 [Build 644]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\EXE\full_can.o --asm_dir=.\ --list_dir=.\ --depend=.\EXE\full_can.d --feedback=.\EXE\UKU_220_IPS_TERMOKOMPENSAT.fed --cpu=Cortex-M3 --apcs=interwork -O1 -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\INC\NXP\LPC17xx -D__MICROLIB -DUKU_220_IPS_TERMOKOMPENSAT -DUKU2071x --omf_browse=.\EXE\full_can.crf full_can.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  CRC1_in PROC
;;;107    //-----------------------------------------------
;;;108    char CRC1_in(void)
000000  b530              PUSH     {r4,r5,lr}
;;;109    {
;;;110    char r,j,lb;
;;;111    lb=(RXBUFF[1]&0x1f)+0x04;
000002  4bff              LDR      r3,|L1.1024|
000004  7858              LDRB     r0,[r3,#1]  ; RXBUFF
000006  f000021f          AND      r2,r0,#0x1f
00000a  f1020204          ADD      r2,r2,#4
;;;112    r=RXBUFF[0];
00000e  7818              LDRB     r0,[r3,#0]  ; RXBUFF
;;;113    for(j=1;j<(lb+1);j++)
000010  f04f0101          MOV      r1,#1
;;;114    	{
;;;115    	r=(RXBUFF[j]^Table87[r]);
000014  4cfb              LDR      r4,|L1.1028|
000016  f1020201          ADD      r2,r2,#1              ;113
00001a  e006              B        |L1.42|
                  |L1.28|
00001c  5c5d              LDRB     r5,[r3,r1]
00001e  5c20              LDRB     r0,[r4,r0]
000020  ea850000          EOR      r0,r5,r0
000024  f1010101          ADD      r1,r1,#1              ;113
000028  b2c9              UXTB     r1,r1                 ;113
                  |L1.42|
00002a  4291              CMP      r1,r2                 ;113
00002c  d3f6              BCC      |L1.28|
;;;116    	}
;;;117    if(r==0)r=0xFF;
00002e  2800              CMP      r0,#0
000030  d101              BNE      |L1.54|
000032  f04f00ff          MOV      r0,#0xff
                  |L1.54|
;;;118    return r;	
;;;119    } 
000036  bd30              POP      {r4,r5,pc}
;;;120    
                          ENDP

                  CRC2_in PROC
;;;121    //-----------------------------------------------
;;;122    char CRC2_in(void)
000038  b530              PUSH     {r4,r5,lr}
;;;123    {
;;;124    char r,j,lb;
;;;125    lb=(RXBUFF[1]&0x1f)+0x04;
00003a  4bf1              LDR      r3,|L1.1024|
00003c  7858              LDRB     r0,[r3,#1]  ; RXBUFF
00003e  f000021f          AND      r2,r0,#0x1f
000042  f1020204          ADD      r2,r2,#4
;;;126    r=RXBUFF[0];
000046  7818              LDRB     r0,[r3,#0]  ; RXBUFF
;;;127    for(j=1;j<(lb+1);j++)
000048  f04f0101          MOV      r1,#1
;;;128    	{
;;;129    	r=(RXBUFF[j]^Table95[r]);
00004c  4cee              LDR      r4,|L1.1032|
00004e  f1020201          ADD      r2,r2,#1              ;127
000052  e006              B        |L1.98|
                  |L1.84|
000054  5c5d              LDRB     r5,[r3,r1]
000056  5c20              LDRB     r0,[r4,r0]
000058  ea850000          EOR      r0,r5,r0
00005c  f1010101          ADD      r1,r1,#1              ;127
000060  b2c9              UXTB     r1,r1                 ;127
                  |L1.98|
000062  4291              CMP      r1,r2                 ;127
000064  d3f6              BCC      |L1.84|
;;;130    	}
;;;131    if(r==0)r=0xFF;
000066  2800              CMP      r0,#0
000068  d101              BNE      |L1.110|
00006a  f04f00ff          MOV      r0,#0xff
                  |L1.110|
;;;132    return r;	
;;;133    }  
00006e  bd30              POP      {r4,r5,pc}
;;;134    
                          ENDP

                  CRC1_out PROC
;;;135    //-----------------------------------------------
;;;136    char CRC1_out(void)
000070  b530              PUSH     {r4,r5,lr}
;;;137    {
;;;138    char r,j,lb;
;;;139    lb=(TXBUFF[1]&0x1f)+0x04;
000072  4be3              LDR      r3,|L1.1024|
000074  3328              ADDS     r3,r3,#0x28
000076  7858              LDRB     r0,[r3,#1]  ; TXBUFF
000078  f000021f          AND      r2,r0,#0x1f
00007c  f1020204          ADD      r2,r2,#4
;;;140    r=TXBUFF[0];
000080  7818              LDRB     r0,[r3,#0]  ; TXBUFF
;;;141    for(j=1;j<(lb+1);j++)
000082  f04f0101          MOV      r1,#1
;;;142    	{
;;;143    	r=(TXBUFF[j]^Table87[r]);
000086  4cdf              LDR      r4,|L1.1028|
000088  f1020201          ADD      r2,r2,#1              ;141
00008c  e006              B        |L1.156|
                  |L1.142|
00008e  5c5d              LDRB     r5,[r3,r1]
000090  5c20              LDRB     r0,[r4,r0]
000092  ea850000          EOR      r0,r5,r0
000096  f1010101          ADD      r1,r1,#1              ;141
00009a  b2c9              UXTB     r1,r1                 ;141
                  |L1.156|
00009c  4291              CMP      r1,r2                 ;141
00009e  d3f6              BCC      |L1.142|
;;;144    	}
;;;145    if(r==0)r=0xFF;
0000a0  2800              CMP      r0,#0
0000a2  d101              BNE      |L1.168|
0000a4  f04f00ff          MOV      r0,#0xff
                  |L1.168|
;;;146    return r;	
;;;147    } 
0000a8  bd30              POP      {r4,r5,pc}
;;;148    
                          ENDP

                  CRC2_out PROC
;;;149    //-----------------------------------------------
;;;150    char CRC2_out(void)
0000aa  b530              PUSH     {r4,r5,lr}
;;;151    {
;;;152    char r,j,lb;
;;;153    lb=(TXBUFF[1]&0x1f)+0x04;
0000ac  4bd4              LDR      r3,|L1.1024|
0000ae  3328              ADDS     r3,r3,#0x28
0000b0  7858              LDRB     r0,[r3,#1]  ; TXBUFF
0000b2  f000021f          AND      r2,r0,#0x1f
0000b6  f1020204          ADD      r2,r2,#4
;;;154    r=TXBUFF[0];
0000ba  7818              LDRB     r0,[r3,#0]  ; TXBUFF
;;;155    for(j=1;j<(lb+1);j++)
0000bc  f04f0101          MOV      r1,#1
;;;156    	{
;;;157    	r=(TXBUFF[j]^Table95[r]);
0000c0  4cd1              LDR      r4,|L1.1032|
0000c2  f1020201          ADD      r2,r2,#1              ;155
0000c6  e006              B        |L1.214|
                  |L1.200|
0000c8  5c5d              LDRB     r5,[r3,r1]
0000ca  5c20              LDRB     r0,[r4,r0]
0000cc  ea850000          EOR      r0,r5,r0
0000d0  f1010101          ADD      r1,r1,#1              ;155
0000d4  b2c9              UXTB     r1,r1                 ;155
                  |L1.214|
0000d6  4291              CMP      r1,r2                 ;155
0000d8  d3f6              BCC      |L1.200|
;;;158    	}
;;;159    if(r==0)r=0xFF;
0000da  2800              CMP      r0,#0
0000dc  d101              BNE      |L1.226|
0000de  f04f00ff          MOV      r0,#0xff
                  |L1.226|
;;;160    return r;	
;;;161    }
0000e2  bd30              POP      {r4,r5,pc}
;;;162    
                          ENDP

                  can1_out_adr PROC
;;;163    //-----------------------------------------------
;;;164    void can1_out_adr(char* ptr,char num)
0000e4  e92d4ff0          PUSH     {r4-r11,lr}
;;;165    {
;;;166    
;;;167    if(num<=8)
;;;168    	{
;;;169    	can1_info[ptr_can1_tx_wr]=(((long)num)<<16)&0x000f0000UL;
0000e8  4fc8              LDR      r7,|L1.1036|
0000ea  f8dfa324          LDR      r10,|L1.1040|
;;;170    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
;;;171    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[0];
;;;172    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[1];
;;;173    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[2];
;;;174    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[3];
;;;175    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[4];
;;;176    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[5];
;;;177    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[6];
;;;178    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[7];	
;;;179    	ptr_can1_tx_wr++;
;;;180    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
0000ee  2500              MOVS     r5,#0
0000f0  78fa              LDRB     r2,[r7,#3]            ;169
0000f2  f10a0920          ADD      r9,r10,#0x20          ;170
0000f6  1c53              ADDS     r3,r2,#1              ;179
0000f8  b2de              UXTB     r6,r3                 ;179
0000fa  f1090c20          ADD      r12,r9,#0x20          ;171
0000fe  f1090840          ADD      r8,r9,#0x40           ;175
000102  f04f0e9e          MOV      lr,#0x9e              ;170
000106  eb080382          ADD      r3,r8,r2,LSL #2       ;175
00010a  eb0c0482          ADD      r4,r12,r2,LSL #2      ;171
00010e  2908              CMP      r1,#8                 ;167
000110  d81e              BHI      |L1.336|
000112  f44f2b70          MOV      r11,#0xf0000          ;169
000116  ea0b4101          AND      r1,r11,r1,LSL #16     ;169
00011a  f84a1022          STR      r1,[r10,r2,LSL #2]    ;169
00011e  f849e022          STR      lr,[r9,r2,LSL #2]     ;170
000122  7801              LDRB     r1,[r0,#0]            ;171
000124  f80c1022          STRB     r1,[r12,r2,LSL #2]    ;171
000128  7841              LDRB     r1,[r0,#1]            ;172
00012a  7061              STRB     r1,[r4,#1]            ;172
00012c  7881              LDRB     r1,[r0,#2]            ;173
00012e  70a1              STRB     r1,[r4,#2]            ;173
000130  78c1              LDRB     r1,[r0,#3]            ;174
000132  70e1              STRB     r1,[r4,#3]            ;174
000134  7901              LDRB     r1,[r0,#4]            ;175
000136  f8081022          STRB     r1,[r8,r2,LSL #2]     ;175
00013a  7941              LDRB     r1,[r0,#5]            ;176
00013c  7059              STRB     r1,[r3,#1]            ;176
00013e  7981              LDRB     r1,[r0,#6]            ;177
000140  7099              STRB     r1,[r3,#2]            ;177
000142  79c0              LDRB     r0,[r0,#7]            ;178
000144  70d8              STRB     r0,[r3,#3]            ;178
000146  70fe              STRB     r6,[r7,#3]            ;179
000148  2e08              CMP      r6,#8
00014a  d300              BCC      |L1.334|
00014c  70fd              STRB     r5,[r7,#3]
                  |L1.334|
00014e  e155              B        |L1.1020|
                  |L1.336|
;;;181    	}
;;;182    	
;;;183    else if(num<=16)
;;;184    	{
;;;185    	can1_info[ptr_can1_tx_wr]=(8UL<<16)&0x000f0000UL;
000150  f44f2b00          MOV      r11,#0x80000
000154  2910              CMP      r1,#0x10              ;183
000156  d849              BHI      |L1.492|
000158  f84ab022          STR      r11,[r10,r2,LSL #2]
;;;186    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
00015c  f849e022          STR      lr,[r9,r2,LSL #2]
;;;187    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[0];
000160  f890b000          LDRB     r11,[r0,#0]
000164  f80cb022          STRB     r11,[r12,r2,LSL #2]
;;;188    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[1];
000168  f890b001          LDRB     r11,[r0,#1]
00016c  f884b001          STRB     r11,[r4,#1]
;;;189    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[2];
000170  f890b002          LDRB     r11,[r0,#2]
000174  f884b002          STRB     r11,[r4,#2]
;;;190    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[3];
000178  f890b003          LDRB     r11,[r0,#3]
00017c  f884b003          STRB     r11,[r4,#3]
;;;191    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[4];
000180  7904              LDRB     r4,[r0,#4]
000182  f8084022          STRB     r4,[r8,r2,LSL #2]
;;;192    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[5];
000186  7942              LDRB     r2,[r0,#5]
000188  705a              STRB     r2,[r3,#1]
;;;193    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[6];
00018a  7982              LDRB     r2,[r0,#6]
00018c  709a              STRB     r2,[r3,#2]
;;;194    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[7];	
00018e  79c2              LDRB     r2,[r0,#7]
000190  70da              STRB     r2,[r3,#3]
;;;195    	ptr_can1_tx_wr++;
000192  70fe              STRB     r6,[r7,#3]
;;;196    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
000194  2e08              CMP      r6,#8
000196  d300              BCC      |L1.410|
000198  70fd              STRB     r5,[r7,#3]
                  |L1.410|
;;;197    	
;;;198    	can1_info[ptr_can1_tx_wr]=(((long)(num-8))<<16)&0x000f0000UL;
00019a  f1a10108          SUB      r1,r1,#8
00019e  f44f2270          MOV      r2,#0xf0000
0001a2  ea024201          AND      r2,r2,r1,LSL #16
0001a6  78f9              LDRB     r1,[r7,#3]  ; ptr_can1_tx_wr
0001a8  f84a2021          STR      r2,[r10,r1,LSL #2]
;;;199    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
0001ac  f849e021          STR      lr,[r9,r1,LSL #2]
;;;200    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[8];
0001b0  7a02              LDRB     r2,[r0,#8]
0001b2  f80c2021          STRB     r2,[r12,r1,LSL #2]
;;;201    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[9];
0001b6  eb0c0381          ADD      r3,r12,r1,LSL #2
0001ba  7a42              LDRB     r2,[r0,#9]
0001bc  705a              STRB     r2,[r3,#1]
;;;202    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[10];
0001be  7a82              LDRB     r2,[r0,#0xa]
0001c0  709a              STRB     r2,[r3,#2]
;;;203    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[11];
0001c2  7ac2              LDRB     r2,[r0,#0xb]
0001c4  70da              STRB     r2,[r3,#3]
;;;204    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[12];
0001c6  7b02              LDRB     r2,[r0,#0xc]
0001c8  f8082021          STRB     r2,[r8,r1,LSL #2]
;;;205    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[13];
0001cc  eb080281          ADD      r2,r8,r1,LSL #2
0001d0  7b43              LDRB     r3,[r0,#0xd]
0001d2  7053              STRB     r3,[r2,#1]
;;;206    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[14];
0001d4  7b83              LDRB     r3,[r0,#0xe]
0001d6  7093              STRB     r3,[r2,#2]
;;;207    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[15];	
0001d8  7bc0              LDRB     r0,[r0,#0xf]
0001da  70d0              STRB     r0,[r2,#3]
;;;208    	ptr_can1_tx_wr++;
0001dc  f1010101          ADD      r1,r1,#1
0001e0  b2c8              UXTB     r0,r1
0001e2  70f8              STRB     r0,[r7,#3]
;;;209    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;	
0001e4  2808              CMP      r0,#8
0001e6  d3b2              BCC      |L1.334|
0001e8  70fd              STRB     r5,[r7,#3]
0001ea  e107              B        |L1.1020|
                  |L1.492|
;;;210    	}	
;;;211    
;;;212    else if(num<=24)
0001ec  2918              CMP      r1,#0x18
0001ee  d870              BHI      |L1.722|
;;;213    	{
;;;214    	can1_info[ptr_can1_tx_wr]=(8UL<<16)&0x000f0000UL;
0001f0  f44f2b00          MOV      r11,#0x80000
0001f4  f84ab022          STR      r11,[r10,r2,LSL #2]
;;;215    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
0001f8  f849e022          STR      lr,[r9,r2,LSL #2]
;;;216    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[0];
0001fc  f890b000          LDRB     r11,[r0,#0]
000200  f80cb022          STRB     r11,[r12,r2,LSL #2]
;;;217    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[1];
000204  f890b001          LDRB     r11,[r0,#1]
000208  f884b001          STRB     r11,[r4,#1]
;;;218    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[2];
00020c  f890b002          LDRB     r11,[r0,#2]
000210  f884b002          STRB     r11,[r4,#2]
;;;219    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[3];
000214  f890b003          LDRB     r11,[r0,#3]
000218  f884b003          STRB     r11,[r4,#3]
;;;220    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[4];
00021c  7904              LDRB     r4,[r0,#4]
00021e  f8084022          STRB     r4,[r8,r2,LSL #2]
;;;221    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[5];
000222  7942              LDRB     r2,[r0,#5]
000224  705a              STRB     r2,[r3,#1]
;;;222    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[6];
000226  7982              LDRB     r2,[r0,#6]
000228  709a              STRB     r2,[r3,#2]
;;;223    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[7];	
00022a  79c2              LDRB     r2,[r0,#7]
00022c  70da              STRB     r2,[r3,#3]
;;;224    	ptr_can1_tx_wr++;
00022e  70fe              STRB     r6,[r7,#3]
;;;225    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
000230  2e08              CMP      r6,#8
000232  d300              BCC      |L1.566|
000234  70fd              STRB     r5,[r7,#3]
                  |L1.566|
;;;226    
;;;227    	can1_info[ptr_can1_tx_wr]=(8UL<<16)&0x000f0000UL;
000236  78fa              LDRB     r2,[r7,#3]  ; ptr_can1_tx_wr
000238  f44f2300          MOV      r3,#0x80000
00023c  f84a3022          STR      r3,[r10,r2,LSL #2]
;;;228    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
000240  f849e022          STR      lr,[r9,r2,LSL #2]
;;;229    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[8];
000244  7a03              LDRB     r3,[r0,#8]
000246  f80c3022          STRB     r3,[r12,r2,LSL #2]
;;;230    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[9];
00024a  eb0c0382          ADD      r3,r12,r2,LSL #2
00024e  7a44              LDRB     r4,[r0,#9]
000250  705c              STRB     r4,[r3,#1]
;;;231    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[10];
000252  7a84              LDRB     r4,[r0,#0xa]
000254  709c              STRB     r4,[r3,#2]
;;;232    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[11];
000256  7ac4              LDRB     r4,[r0,#0xb]
000258  70dc              STRB     r4,[r3,#3]
;;;233    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[12];
00025a  7b03              LDRB     r3,[r0,#0xc]
00025c  f8083022          STRB     r3,[r8,r2,LSL #2]
;;;234    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[13];
000260  eb080382          ADD      r3,r8,r2,LSL #2
000264  7b44              LDRB     r4,[r0,#0xd]
000266  705c              STRB     r4,[r3,#1]
;;;235    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[14];
000268  7b84              LDRB     r4,[r0,#0xe]
00026a  709c              STRB     r4,[r3,#2]
;;;236    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[15];	
00026c  7bc4              LDRB     r4,[r0,#0xf]
00026e  70dc              STRB     r4,[r3,#3]
;;;237    	ptr_can1_tx_wr++;
000270  f1020201          ADD      r2,r2,#1
000274  b2d2              UXTB     r2,r2
000276  70fa              STRB     r2,[r7,#3]
;;;238    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
000278  2a08              CMP      r2,#8
00027a  d300              BCC      |L1.638|
00027c  70fd              STRB     r5,[r7,#3]
                  |L1.638|
;;;239    	
;;;240    	can1_info[ptr_can1_tx_wr]=(((long)(num-16))<<16)&0x000f0000UL;
00027e  f1a10110          SUB      r1,r1,#0x10
000282  f44f2270          MOV      r2,#0xf0000
000286  ea024201          AND      r2,r2,r1,LSL #16
00028a  78f9              LDRB     r1,[r7,#3]  ; ptr_can1_tx_wr
00028c  f84a2021          STR      r2,[r10,r1,LSL #2]
;;;241    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
000290  f849e021          STR      lr,[r9,r1,LSL #2]
;;;242    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[16];
000294  7c02              LDRB     r2,[r0,#0x10]
000296  f80c2021          STRB     r2,[r12,r1,LSL #2]
;;;243    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[17];
00029a  eb0c0381          ADD      r3,r12,r1,LSL #2
00029e  7c42              LDRB     r2,[r0,#0x11]
0002a0  705a              STRB     r2,[r3,#1]
;;;244    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[18];
0002a2  7c82              LDRB     r2,[r0,#0x12]
0002a4  709a              STRB     r2,[r3,#2]
;;;245    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[19];
0002a6  7cc2              LDRB     r2,[r0,#0x13]
0002a8  70da              STRB     r2,[r3,#3]
;;;246    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[20];
0002aa  7d02              LDRB     r2,[r0,#0x14]
0002ac  f8082021          STRB     r2,[r8,r1,LSL #2]
;;;247    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[21];
0002b0  eb080281          ADD      r2,r8,r1,LSL #2
0002b4  7d43              LDRB     r3,[r0,#0x15]
0002b6  7053              STRB     r3,[r2,#1]
;;;248    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[22];
0002b8  7d83              LDRB     r3,[r0,#0x16]
0002ba  7093              STRB     r3,[r2,#2]
;;;249    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[23];	
0002bc  7dc0              LDRB     r0,[r0,#0x17]
0002be  70d0              STRB     r0,[r2,#3]
;;;250    	ptr_can1_tx_wr++;
0002c0  f1010101          ADD      r1,r1,#1
0002c4  b2c8              UXTB     r0,r1
0002c6  70f8              STRB     r0,[r7,#3]
;;;251    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;	
0002c8  2808              CMP      r0,#8
0002ca  d300              BCC      |L1.718|
0002cc  70fd              STRB     r5,[r7,#3]
                  |L1.718|
0002ce  e095              B        |L1.1020|
0002d0  e7ff              B        |L1.722|
                  |L1.722|
;;;252    	}	
;;;253    
;;;254    else if(num<=32)
0002d2  2920              CMP      r1,#0x20
0002d4  d87e              BHI      |L1.980|
;;;255    	{
;;;256    	can1_info[ptr_can1_tx_wr]=(8UL<<16)&0x000f0000UL;
0002d6  f44f2b00          MOV      r11,#0x80000
0002da  f84ab022          STR      r11,[r10,r2,LSL #2]
;;;257    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
0002de  f849e022          STR      lr,[r9,r2,LSL #2]
;;;258    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[0];
0002e2  f890b000          LDRB     r11,[r0,#0]
0002e6  f80cb022          STRB     r11,[r12,r2,LSL #2]
;;;259    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[1];
0002ea  f890b001          LDRB     r11,[r0,#1]
0002ee  f884b001          STRB     r11,[r4,#1]
;;;260    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[2];
0002f2  f890b002          LDRB     r11,[r0,#2]
0002f6  f884b002          STRB     r11,[r4,#2]
;;;261    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[3];
0002fa  f890b003          LDRB     r11,[r0,#3]
0002fe  f884b003          STRB     r11,[r4,#3]
;;;262    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[4];
000302  7904              LDRB     r4,[r0,#4]
000304  f8084022          STRB     r4,[r8,r2,LSL #2]
;;;263    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[5];
000308  7942              LDRB     r2,[r0,#5]
00030a  705a              STRB     r2,[r3,#1]
;;;264    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[6];
00030c  7982              LDRB     r2,[r0,#6]
00030e  709a              STRB     r2,[r3,#2]
;;;265    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[7];	
000310  79c2              LDRB     r2,[r0,#7]
000312  70da              STRB     r2,[r3,#3]
;;;266    	ptr_can1_tx_wr++;
000314  70fe              STRB     r6,[r7,#3]
;;;267    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
000316  2e08              CMP      r6,#8
000318  d300              BCC      |L1.796|
00031a  70fd              STRB     r5,[r7,#3]
                  |L1.796|
;;;268    
;;;269    	can1_info[ptr_can1_tx_wr]=(8UL<<16)&0x000f0000UL;
00031c  78fa              LDRB     r2,[r7,#3]  ; ptr_can1_tx_wr
00031e  f44f2300          MOV      r3,#0x80000
000322  f84a3022          STR      r3,[r10,r2,LSL #2]
;;;270    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
000326  f849e022          STR      lr,[r9,r2,LSL #2]
;;;271    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[8];
00032a  7a04              LDRB     r4,[r0,#8]
00032c  f80c4022          STRB     r4,[r12,r2,LSL #2]
;;;272    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[9];
000330  eb0c0482          ADD      r4,r12,r2,LSL #2
000334  7a46              LDRB     r6,[r0,#9]
000336  7066              STRB     r6,[r4,#1]
;;;273    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[10];
000338  7a86              LDRB     r6,[r0,#0xa]
00033a  70a6              STRB     r6,[r4,#2]
;;;274    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[11];
00033c  7ac6              LDRB     r6,[r0,#0xb]
00033e  70e6              STRB     r6,[r4,#3]
;;;275    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[12];
000340  7b04              LDRB     r4,[r0,#0xc]
000342  f8084022          STRB     r4,[r8,r2,LSL #2]
;;;276    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[13];
000346  eb080482          ADD      r4,r8,r2,LSL #2
00034a  7b46              LDRB     r6,[r0,#0xd]
00034c  7066              STRB     r6,[r4,#1]
;;;277    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[14];
00034e  7b86              LDRB     r6,[r0,#0xe]
000350  70a6              STRB     r6,[r4,#2]
;;;278    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[15];	
000352  7bc6              LDRB     r6,[r0,#0xf]
000354  70e6              STRB     r6,[r4,#3]
;;;279    	ptr_can1_tx_wr++;
000356  f1020201          ADD      r2,r2,#1
00035a  b2d2              UXTB     r2,r2
00035c  70fa              STRB     r2,[r7,#3]
;;;280    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
00035e  2a08              CMP      r2,#8
000360  d300              BCC      |L1.868|
000362  70fd              STRB     r5,[r7,#3]
                  |L1.868|
;;;281    	
;;;282    	can1_info[ptr_can1_tx_wr]=(8UL<<16)&0x000f0000UL;
000364  78fa              LDRB     r2,[r7,#3]  ; ptr_can1_tx_wr
000366  f84a3022          STR      r3,[r10,r2,LSL #2]
;;;283    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
00036a  f849e022          STR      lr,[r9,r2,LSL #2]
;;;284    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[16];
00036e  7c03              LDRB     r3,[r0,#0x10]
000370  f80c3022          STRB     r3,[r12,r2,LSL #2]
;;;285    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[17];
000374  eb0c0382          ADD      r3,r12,r2,LSL #2
000378  7c44              LDRB     r4,[r0,#0x11]
00037a  705c              STRB     r4,[r3,#1]
;;;286    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[18];
00037c  7c84              LDRB     r4,[r0,#0x12]
00037e  709c              STRB     r4,[r3,#2]
;;;287    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[19];
000380  7cc4              LDRB     r4,[r0,#0x13]
000382  70dc              STRB     r4,[r3,#3]
;;;288    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[20];
000384  7d03              LDRB     r3,[r0,#0x14]
000386  f8083022          STRB     r3,[r8,r2,LSL #2]
;;;289    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[21];
00038a  eb080382          ADD      r3,r8,r2,LSL #2
00038e  7d44              LDRB     r4,[r0,#0x15]
000390  705c              STRB     r4,[r3,#1]
;;;290    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[22];
000392  7d84              LDRB     r4,[r0,#0x16]
000394  709c              STRB     r4,[r3,#2]
;;;291    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[23];	
000396  7dc4              LDRB     r4,[r0,#0x17]
000398  70dc              STRB     r4,[r3,#3]
;;;292    	ptr_can1_tx_wr++;
00039a  f1020201          ADD      r2,r2,#1
00039e  b2d2              UXTB     r2,r2
0003a0  70fa              STRB     r2,[r7,#3]
;;;293    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
0003a2  2a08              CMP      r2,#8
0003a4  d300              BCC      |L1.936|
0003a6  70fd              STRB     r5,[r7,#3]
                  |L1.936|
;;;294    	
;;;295    	can1_info[ptr_can1_tx_wr]=(((long)(num-24))<<16)&0x000f0000UL;
0003a8  f1a10118          SUB      r1,r1,#0x18
0003ac  f44f2270          MOV      r2,#0xf0000
0003b0  ea024201          AND      r2,r2,r1,LSL #16
0003b4  78f9              LDRB     r1,[r7,#3]  ; ptr_can1_tx_wr
0003b6  f84a2021          STR      r2,[r10,r1,LSL #2]
;;;296    	can1_id[ptr_can1_tx_wr]=0x0000009eUL;
0003ba  f849e021          STR      lr,[r9,r1,LSL #2]
;;;297    	*((char*)&can1_data[ptr_can1_tx_wr])=ptr[24];
0003be  7e02              LDRB     r2,[r0,#0x18]
0003c0  f80c2021          STRB     r2,[r12,r1,LSL #2]
;;;298    	*(((char*)&can1_data[ptr_can1_tx_wr])+1)=ptr[25];
0003c4  eb0c0381          ADD      r3,r12,r1,LSL #2
0003c8  7e42              LDRB     r2,[r0,#0x19]
0003ca  705a              STRB     r2,[r3,#1]
;;;299    	*(((char*)&can1_data[ptr_can1_tx_wr])+2)=ptr[26];
0003cc  7e82              LDRB     r2,[r0,#0x1a]
0003ce  709a              STRB     r2,[r3,#2]
;;;300    	*(((char*)&can1_data[ptr_can1_tx_wr])+3)=ptr[27];
0003d0  7ec2              LDRB     r2,[r0,#0x1b]
0003d2  e000              B        |L1.982|
                  |L1.980|
0003d4  e012              B        |L1.1020|
                  |L1.982|
0003d6  70da              STRB     r2,[r3,#3]
;;;301    	*((char*)&can1_datb[ptr_can1_tx_wr])=ptr[28];
0003d8  7f02              LDRB     r2,[r0,#0x1c]
0003da  f8082021          STRB     r2,[r8,r1,LSL #2]
;;;302    	*(((char*)&can1_datb[ptr_can1_tx_wr])+1)=ptr[29];
0003de  eb080281          ADD      r2,r8,r1,LSL #2
0003e2  7f43              LDRB     r3,[r0,#0x1d]
0003e4  7053              STRB     r3,[r2,#1]
;;;303    	*(((char*)&can1_datb[ptr_can1_tx_wr])+2)=ptr[30];
0003e6  7f83              LDRB     r3,[r0,#0x1e]
0003e8  7093              STRB     r3,[r2,#2]
;;;304    	*(((char*)&can1_datb[ptr_can1_tx_wr])+3)=ptr[31];	
0003ea  7fc0              LDRB     r0,[r0,#0x1f]
0003ec  70d0              STRB     r0,[r2,#3]
;;;305    	ptr_can1_tx_wr++;
0003ee  f1010101          ADD      r1,r1,#1
0003f2  b2c8              UXTB     r0,r1
0003f4  70f8              STRB     r0,[r7,#3]
;;;306    	if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;	
0003f6  2808              CMP      r0,#8
0003f8  d300              BCC      |L1.1020|
0003fa  70fd              STRB     r5,[r7,#3]
                  |L1.1020|
;;;307    	}	
;;;308    
;;;309    
;;;310    if(bOUT_FREE)
0003fc  7838              LDRB     r0,[r7,#0]  ; bOUT_FREE
0003fe  e009              B        |L1.1044|
                  |L1.1024|
                          DCD      ||.bss||+0x124
                  |L1.1028|
                          DCD      ||.constdata||
                  |L1.1032|
                          DCD      ||.constdata||+0x100
                  |L1.1036|
                          DCD      ||.data||
                  |L1.1040|
                          DCD      ||.bss||
                  |L1.1044|
000414  2800              CMP      r0,#0
000416  d018              BEQ      |L1.1098|
;;;311    	{
;;;312    	LPC_CAN1->TFI1=can1_info[ptr_can1_tx_rd];
000418  7938              LDRB     r0,[r7,#4]  ; ptr_can1_tx_rd
00041a  49fb              LDR      r1,|L1.2056|
00041c  f85a2020          LDR      r2,[r10,r0,LSL #2]
000420  630a              STR      r2,[r1,#0x30]
;;;313         LPC_CAN1->TID1=can1_id[ptr_can1_tx_rd];
000422  f8592020          LDR      r2,[r9,r0,LSL #2]
000426  634a              STR      r2,[r1,#0x34]
;;;314         LPC_CAN1->TDA1=can1_data[ptr_can1_tx_rd];
000428  f85c2020          LDR      r2,[r12,r0,LSL #2]
00042c  638a              STR      r2,[r1,#0x38]
;;;315         LPC_CAN1->TDB1=can1_datb[ptr_can1_tx_rd];
00042e  f8582020          LDR      r2,[r8,r0,LSL #2]
000432  63ca              STR      r2,[r1,#0x3c]
;;;316         LPC_CAN1->CMR=0x00000021;
000434  f04f0221          MOV      r2,#0x21
000438  604a              STR      r2,[r1,#4]
;;;317         ptr_can1_tx_rd++;
00043a  f1000001          ADD      r0,r0,#1
00043e  b2c0              UXTB     r0,r0
000440  7138              STRB     r0,[r7,#4]
;;;318         if(ptr_can1_tx_rd>=8)ptr_can1_tx_rd=0;
000442  2808              CMP      r0,#8
000444  d300              BCC      |L1.1096|
000446  713d              STRB     r5,[r7,#4]
                  |L1.1096|
;;;319         bOUT_FREE=0;	
000448  703d              STRB     r5,[r7,#0]
                  |L1.1098|
;;;320    	}
;;;321    
;;;322    }	
00044a  e8bd8ff0          POP      {r4-r11,pc}
;;;323    
                          ENDP

                  can2_out_adr PROC
;;;324    //-----------------------------------------------
;;;325    void can2_out_adr(char* ptr,char num)
00044e  e92d4ff0          PUSH     {r4-r11,lr}
;;;326    {
;;;327    
;;;328    if(num<=8)
;;;329    	{
;;;330    	can2_info[ptr_can2_tx_wr]=(((long)num)<<16)&0x000f0000UL;
000452  4fee              LDR      r7,|L1.2060|
000454  f8dfa3b8          LDR      r10,|L1.2064|
;;;331    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
;;;332    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[0];
;;;333    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[1];
;;;334    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[2];
;;;335    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[3];
;;;336    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[4];
;;;337    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[5];
;;;338    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[6];
;;;339    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[7];	
;;;340    	ptr_can2_tx_wr++;
;;;341    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
000458  2500              MOVS     r5,#0
00045a  797a              LDRB     r2,[r7,#5]            ;330
00045c  f10a0920          ADD      r9,r10,#0x20          ;331
000460  1c53              ADDS     r3,r2,#1              ;340
000462  b2de              UXTB     r6,r3                 ;340
000464  f1090c20          ADD      r12,r9,#0x20          ;332
000468  f1090840          ADD      r8,r9,#0x40           ;336
00046c  f04f0e9e          MOV      lr,#0x9e              ;331
000470  eb080382          ADD      r3,r8,r2,LSL #2       ;336
000474  eb0c0482          ADD      r4,r12,r2,LSL #2      ;332
000478  2908              CMP      r1,#8                 ;328
00047a  d81e              BHI      |L1.1210|
00047c  f44f2b70          MOV      r11,#0xf0000          ;330
000480  ea0b4101          AND      r1,r11,r1,LSL #16     ;330
000484  f84a1022          STR      r1,[r10,r2,LSL #2]    ;330
000488  f849e022          STR      lr,[r9,r2,LSL #2]     ;331
00048c  7801              LDRB     r1,[r0,#0]            ;332
00048e  f80c1022          STRB     r1,[r12,r2,LSL #2]    ;332
000492  7841              LDRB     r1,[r0,#1]            ;333
000494  7061              STRB     r1,[r4,#1]            ;333
000496  7881              LDRB     r1,[r0,#2]            ;334
000498  70a1              STRB     r1,[r4,#2]            ;334
00049a  78c1              LDRB     r1,[r0,#3]            ;335
00049c  70e1              STRB     r1,[r4,#3]            ;335
00049e  7901              LDRB     r1,[r0,#4]            ;336
0004a0  f8081022          STRB     r1,[r8,r2,LSL #2]     ;336
0004a4  7941              LDRB     r1,[r0,#5]            ;337
0004a6  7059              STRB     r1,[r3,#1]            ;337
0004a8  7981              LDRB     r1,[r0,#6]            ;338
0004aa  7099              STRB     r1,[r3,#2]            ;338
0004ac  79c0              LDRB     r0,[r0,#7]            ;339
0004ae  70d8              STRB     r0,[r3,#3]            ;339
0004b0  717e              STRB     r6,[r7,#5]            ;340
0004b2  2e08              CMP      r6,#8
0004b4  d300              BCC      |L1.1208|
0004b6  717d              STRB     r5,[r7,#5]
                  |L1.1208|
0004b8  e155              B        |L1.1894|
                  |L1.1210|
;;;342    	}
;;;343    	
;;;344    else if(num<=16)
;;;345    	{
;;;346    	
;;;347    	can2_info[ptr_can2_tx_wr]=(8UL<<16)&0x000f0000UL;
0004ba  f44f2b00          MOV      r11,#0x80000
0004be  2910              CMP      r1,#0x10              ;344
0004c0  d849              BHI      |L1.1366|
0004c2  f84ab022          STR      r11,[r10,r2,LSL #2]
;;;348    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
0004c6  f849e022          STR      lr,[r9,r2,LSL #2]
;;;349    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[0];
0004ca  f890b000          LDRB     r11,[r0,#0]
0004ce  f80cb022          STRB     r11,[r12,r2,LSL #2]
;;;350    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[1];
0004d2  f890b001          LDRB     r11,[r0,#1]
0004d6  f884b001          STRB     r11,[r4,#1]
;;;351    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[2];
0004da  f890b002          LDRB     r11,[r0,#2]
0004de  f884b002          STRB     r11,[r4,#2]
;;;352    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[3];
0004e2  f890b003          LDRB     r11,[r0,#3]
0004e6  f884b003          STRB     r11,[r4,#3]
;;;353    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[4];
0004ea  7904              LDRB     r4,[r0,#4]
0004ec  f8084022          STRB     r4,[r8,r2,LSL #2]
;;;354    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[5];
0004f0  7942              LDRB     r2,[r0,#5]
0004f2  705a              STRB     r2,[r3,#1]
;;;355    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[6];
0004f4  7982              LDRB     r2,[r0,#6]
0004f6  709a              STRB     r2,[r3,#2]
;;;356    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[7];	
0004f8  79c2              LDRB     r2,[r0,#7]
0004fa  70da              STRB     r2,[r3,#3]
;;;357    	ptr_can2_tx_wr++;
0004fc  717e              STRB     r6,[r7,#5]
;;;358    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
0004fe  2e08              CMP      r6,#8
000500  d300              BCC      |L1.1284|
000502  717d              STRB     r5,[r7,#5]
                  |L1.1284|
;;;359    	
;;;360    	can2_info[ptr_can2_tx_wr]=(((long)(num-8))<<16)&0x000f0000UL;
000504  f1a10108          SUB      r1,r1,#8
000508  f44f2270          MOV      r2,#0xf0000
00050c  ea024201          AND      r2,r2,r1,LSL #16
000510  7979              LDRB     r1,[r7,#5]  ; ptr_can2_tx_wr
000512  f84a2021          STR      r2,[r10,r1,LSL #2]
;;;361    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
000516  f849e021          STR      lr,[r9,r1,LSL #2]
;;;362    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[8];
00051a  7a02              LDRB     r2,[r0,#8]
00051c  f80c2021          STRB     r2,[r12,r1,LSL #2]
;;;363    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[9];
000520  eb0c0381          ADD      r3,r12,r1,LSL #2
000524  7a42              LDRB     r2,[r0,#9]
000526  705a              STRB     r2,[r3,#1]
;;;364    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[10];
000528  7a82              LDRB     r2,[r0,#0xa]
00052a  709a              STRB     r2,[r3,#2]
;;;365    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[11];
00052c  7ac2              LDRB     r2,[r0,#0xb]
00052e  70da              STRB     r2,[r3,#3]
;;;366    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[12];
000530  7b02              LDRB     r2,[r0,#0xc]
000532  f8082021          STRB     r2,[r8,r1,LSL #2]
;;;367    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[13];
000536  eb080281          ADD      r2,r8,r1,LSL #2
00053a  7b43              LDRB     r3,[r0,#0xd]
00053c  7053              STRB     r3,[r2,#1]
;;;368    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[14];
00053e  7b83              LDRB     r3,[r0,#0xe]
000540  7093              STRB     r3,[r2,#2]
;;;369    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[15];	
000542  7bc0              LDRB     r0,[r0,#0xf]
000544  70d0              STRB     r0,[r2,#3]
;;;370    	ptr_can2_tx_wr++;
000546  f1010101          ADD      r1,r1,#1
00054a  b2c8              UXTB     r0,r1
00054c  7178              STRB     r0,[r7,#5]
;;;371    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
00054e  2808              CMP      r0,#8
000550  d3b2              BCC      |L1.1208|
000552  717d              STRB     r5,[r7,#5]
000554  e107              B        |L1.1894|
                  |L1.1366|
;;;372    		
;;;373    	}	
;;;374    
;;;375    else if(num<=24)
000556  2918              CMP      r1,#0x18
000558  d870              BHI      |L1.1596|
;;;376    	{
;;;377    	can2_info[ptr_can2_tx_wr]=(8UL<<16)&0x000f0000UL;
00055a  f44f2b00          MOV      r11,#0x80000
00055e  f84ab022          STR      r11,[r10,r2,LSL #2]
;;;378    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
000562  f849e022          STR      lr,[r9,r2,LSL #2]
;;;379    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[0];
000566  f890b000          LDRB     r11,[r0,#0]
00056a  f80cb022          STRB     r11,[r12,r2,LSL #2]
;;;380    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[1];
00056e  f890b001          LDRB     r11,[r0,#1]
000572  f884b001          STRB     r11,[r4,#1]
;;;381    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[2];
000576  f890b002          LDRB     r11,[r0,#2]
00057a  f884b002          STRB     r11,[r4,#2]
;;;382    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[3];
00057e  f890b003          LDRB     r11,[r0,#3]
000582  f884b003          STRB     r11,[r4,#3]
;;;383    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[4];
000586  7904              LDRB     r4,[r0,#4]
000588  f8084022          STRB     r4,[r8,r2,LSL #2]
;;;384    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[5];
00058c  7942              LDRB     r2,[r0,#5]
00058e  705a              STRB     r2,[r3,#1]
;;;385    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[6];
000590  7982              LDRB     r2,[r0,#6]
000592  709a              STRB     r2,[r3,#2]
;;;386    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[7];	
000594  79c2              LDRB     r2,[r0,#7]
000596  70da              STRB     r2,[r3,#3]
;;;387    	ptr_can2_tx_wr++;
000598  717e              STRB     r6,[r7,#5]
;;;388    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
00059a  2e08              CMP      r6,#8
00059c  d300              BCC      |L1.1440|
00059e  717d              STRB     r5,[r7,#5]
                  |L1.1440|
;;;389    
;;;390    	can2_info[ptr_can2_tx_wr]=(8UL<<16)&0x000f0000UL;
0005a0  797a              LDRB     r2,[r7,#5]  ; ptr_can2_tx_wr
0005a2  f44f2300          MOV      r3,#0x80000
0005a6  f84a3022          STR      r3,[r10,r2,LSL #2]
;;;391    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
0005aa  f849e022          STR      lr,[r9,r2,LSL #2]
;;;392    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[8];
0005ae  7a03              LDRB     r3,[r0,#8]
0005b0  f80c3022          STRB     r3,[r12,r2,LSL #2]
;;;393    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[9];
0005b4  eb0c0382          ADD      r3,r12,r2,LSL #2
0005b8  7a44              LDRB     r4,[r0,#9]
0005ba  705c              STRB     r4,[r3,#1]
;;;394    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[10];
0005bc  7a84              LDRB     r4,[r0,#0xa]
0005be  709c              STRB     r4,[r3,#2]
;;;395    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[11];
0005c0  7ac4              LDRB     r4,[r0,#0xb]
0005c2  70dc              STRB     r4,[r3,#3]
;;;396    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[12];
0005c4  7b03              LDRB     r3,[r0,#0xc]
0005c6  f8083022          STRB     r3,[r8,r2,LSL #2]
;;;397    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[13];
0005ca  eb080382          ADD      r3,r8,r2,LSL #2
0005ce  7b44              LDRB     r4,[r0,#0xd]
0005d0  705c              STRB     r4,[r3,#1]
;;;398    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[14];
0005d2  7b84              LDRB     r4,[r0,#0xe]
0005d4  709c              STRB     r4,[r3,#2]
;;;399    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[15];	
0005d6  7bc4              LDRB     r4,[r0,#0xf]
0005d8  70dc              STRB     r4,[r3,#3]
;;;400    	ptr_can2_tx_wr++;
0005da  f1020201          ADD      r2,r2,#1
0005de  b2d2              UXTB     r2,r2
0005e0  717a              STRB     r2,[r7,#5]
;;;401    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
0005e2  2a08              CMP      r2,#8
0005e4  d300              BCC      |L1.1512|
0005e6  717d              STRB     r5,[r7,#5]
                  |L1.1512|
;;;402    	
;;;403    	can2_info[ptr_can2_tx_wr]=(((long)(num-16))<<16)&0x000f0000UL;
0005e8  f1a10110          SUB      r1,r1,#0x10
0005ec  f44f2270          MOV      r2,#0xf0000
0005f0  ea024201          AND      r2,r2,r1,LSL #16
0005f4  7979              LDRB     r1,[r7,#5]  ; ptr_can2_tx_wr
0005f6  f84a2021          STR      r2,[r10,r1,LSL #2]
;;;404    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
0005fa  f849e021          STR      lr,[r9,r1,LSL #2]
;;;405    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[16];
0005fe  7c02              LDRB     r2,[r0,#0x10]
000600  f80c2021          STRB     r2,[r12,r1,LSL #2]
;;;406    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[17];
000604  eb0c0381          ADD      r3,r12,r1,LSL #2
000608  7c42              LDRB     r2,[r0,#0x11]
00060a  705a              STRB     r2,[r3,#1]
;;;407    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[18];
00060c  7c82              LDRB     r2,[r0,#0x12]
00060e  709a              STRB     r2,[r3,#2]
;;;408    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[19];
000610  7cc2              LDRB     r2,[r0,#0x13]
000612  70da              STRB     r2,[r3,#3]
;;;409    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[20];
000614  7d02              LDRB     r2,[r0,#0x14]
000616  f8082021          STRB     r2,[r8,r1,LSL #2]
;;;410    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[21];
00061a  eb080281          ADD      r2,r8,r1,LSL #2
00061e  7d43              LDRB     r3,[r0,#0x15]
000620  7053              STRB     r3,[r2,#1]
;;;411    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[22];
000622  7d83              LDRB     r3,[r0,#0x16]
000624  7093              STRB     r3,[r2,#2]
;;;412    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[23];	
000626  7dc0              LDRB     r0,[r0,#0x17]
000628  70d0              STRB     r0,[r2,#3]
;;;413    	ptr_can2_tx_wr++;
00062a  f1010101          ADD      r1,r1,#1
00062e  b2c8              UXTB     r0,r1
000630  7178              STRB     r0,[r7,#5]
;;;414    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;	
000632  2808              CMP      r0,#8
000634  d300              BCC      |L1.1592|
000636  717d              STRB     r5,[r7,#5]
                  |L1.1592|
000638  e095              B        |L1.1894|
00063a  e7ff              B        |L1.1596|
                  |L1.1596|
;;;415    	}	
;;;416    
;;;417    else if(num<=32)
00063c  2920              CMP      r1,#0x20
00063e  d87e              BHI      |L1.1854|
;;;418    	{
;;;419    	can2_info[ptr_can2_tx_wr]=(8UL<<16)&0x000f0000UL;
000640  f44f2b00          MOV      r11,#0x80000
000644  f84ab022          STR      r11,[r10,r2,LSL #2]
;;;420    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
000648  f849e022          STR      lr,[r9,r2,LSL #2]
;;;421    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[0];
00064c  f890b000          LDRB     r11,[r0,#0]
000650  f80cb022          STRB     r11,[r12,r2,LSL #2]
;;;422    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[1];
000654  f890b001          LDRB     r11,[r0,#1]
000658  f884b001          STRB     r11,[r4,#1]
;;;423    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[2];
00065c  f890b002          LDRB     r11,[r0,#2]
000660  f884b002          STRB     r11,[r4,#2]
;;;424    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[3];
000664  f890b003          LDRB     r11,[r0,#3]
000668  f884b003          STRB     r11,[r4,#3]
;;;425    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[4];
00066c  7904              LDRB     r4,[r0,#4]
00066e  f8084022          STRB     r4,[r8,r2,LSL #2]
;;;426    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[5];
000672  7942              LDRB     r2,[r0,#5]
000674  705a              STRB     r2,[r3,#1]
;;;427    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[6];
000676  7982              LDRB     r2,[r0,#6]
000678  709a              STRB     r2,[r3,#2]
;;;428    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[7];	
00067a  79c2              LDRB     r2,[r0,#7]
00067c  70da              STRB     r2,[r3,#3]
;;;429    	ptr_can2_tx_wr++;
00067e  717e              STRB     r6,[r7,#5]
;;;430    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
000680  2e08              CMP      r6,#8
000682  d300              BCC      |L1.1670|
000684  717d              STRB     r5,[r7,#5]
                  |L1.1670|
;;;431    
;;;432    	can2_info[ptr_can2_tx_wr]=(8UL<<16)&0x000f0000UL;
000686  797a              LDRB     r2,[r7,#5]  ; ptr_can2_tx_wr
000688  f44f2300          MOV      r3,#0x80000
00068c  f84a3022          STR      r3,[r10,r2,LSL #2]
;;;433    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
000690  f849e022          STR      lr,[r9,r2,LSL #2]
;;;434    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[8];
000694  7a04              LDRB     r4,[r0,#8]
000696  f80c4022          STRB     r4,[r12,r2,LSL #2]
;;;435    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[9];
00069a  eb0c0482          ADD      r4,r12,r2,LSL #2
00069e  7a46              LDRB     r6,[r0,#9]
0006a0  7066              STRB     r6,[r4,#1]
;;;436    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[10];
0006a2  7a86              LDRB     r6,[r0,#0xa]
0006a4  70a6              STRB     r6,[r4,#2]
;;;437    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[11];
0006a6  7ac6              LDRB     r6,[r0,#0xb]
0006a8  70e6              STRB     r6,[r4,#3]
;;;438    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[12];
0006aa  7b04              LDRB     r4,[r0,#0xc]
0006ac  f8084022          STRB     r4,[r8,r2,LSL #2]
;;;439    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[13];
0006b0  eb080482          ADD      r4,r8,r2,LSL #2
0006b4  7b46              LDRB     r6,[r0,#0xd]
0006b6  7066              STRB     r6,[r4,#1]
;;;440    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[14];
0006b8  7b86              LDRB     r6,[r0,#0xe]
0006ba  70a6              STRB     r6,[r4,#2]
;;;441    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[15];	
0006bc  7bc6              LDRB     r6,[r0,#0xf]
0006be  70e6              STRB     r6,[r4,#3]
;;;442    	ptr_can2_tx_wr++;
0006c0  f1020201          ADD      r2,r2,#1
0006c4  b2d2              UXTB     r2,r2
0006c6  717a              STRB     r2,[r7,#5]
;;;443    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
0006c8  2a08              CMP      r2,#8
0006ca  d300              BCC      |L1.1742|
0006cc  717d              STRB     r5,[r7,#5]
                  |L1.1742|
;;;444    	
;;;445    	can2_info[ptr_can2_tx_wr]=(8UL<<16)&0x000f0000UL;
0006ce  797a              LDRB     r2,[r7,#5]  ; ptr_can2_tx_wr
0006d0  f84a3022          STR      r3,[r10,r2,LSL #2]
;;;446    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
0006d4  f849e022          STR      lr,[r9,r2,LSL #2]
;;;447    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[16];
0006d8  7c03              LDRB     r3,[r0,#0x10]
0006da  f80c3022          STRB     r3,[r12,r2,LSL #2]
;;;448    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[17];
0006de  eb0c0382          ADD      r3,r12,r2,LSL #2
0006e2  7c44              LDRB     r4,[r0,#0x11]
0006e4  705c              STRB     r4,[r3,#1]
;;;449    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[18];
0006e6  7c84              LDRB     r4,[r0,#0x12]
0006e8  709c              STRB     r4,[r3,#2]
;;;450    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[19];
0006ea  7cc4              LDRB     r4,[r0,#0x13]
0006ec  70dc              STRB     r4,[r3,#3]
;;;451    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[20];
0006ee  7d03              LDRB     r3,[r0,#0x14]
0006f0  f8083022          STRB     r3,[r8,r2,LSL #2]
;;;452    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[21];
0006f4  eb080382          ADD      r3,r8,r2,LSL #2
0006f8  7d44              LDRB     r4,[r0,#0x15]
0006fa  705c              STRB     r4,[r3,#1]
;;;453    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[22];
0006fc  7d84              LDRB     r4,[r0,#0x16]
0006fe  709c              STRB     r4,[r3,#2]
;;;454    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[23];	
000700  7dc4              LDRB     r4,[r0,#0x17]
000702  70dc              STRB     r4,[r3,#3]
;;;455    	ptr_can2_tx_wr++;
000704  f1020201          ADD      r2,r2,#1
000708  b2d2              UXTB     r2,r2
00070a  717a              STRB     r2,[r7,#5]
;;;456    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
00070c  2a08              CMP      r2,#8
00070e  d300              BCC      |L1.1810|
000710  717d              STRB     r5,[r7,#5]
                  |L1.1810|
;;;457    	
;;;458    	can2_info[ptr_can2_tx_wr]=(((long)(num-24))<<16)&0x000f0000UL;
000712  f1a10118          SUB      r1,r1,#0x18
000716  f44f2270          MOV      r2,#0xf0000
00071a  ea024201          AND      r2,r2,r1,LSL #16
00071e  7979              LDRB     r1,[r7,#5]  ; ptr_can2_tx_wr
000720  f84a2021          STR      r2,[r10,r1,LSL #2]
;;;459    	can2_id[ptr_can2_tx_wr]=0x0000009eUL;
000724  f849e021          STR      lr,[r9,r1,LSL #2]
;;;460    	*((char*)&can2_data[ptr_can2_tx_wr])=ptr[24];
000728  7e02              LDRB     r2,[r0,#0x18]
00072a  f80c2021          STRB     r2,[r12,r1,LSL #2]
;;;461    	*(((char*)&can2_data[ptr_can2_tx_wr])+1)=ptr[25];
00072e  eb0c0381          ADD      r3,r12,r1,LSL #2
000732  7e42              LDRB     r2,[r0,#0x19]
000734  705a              STRB     r2,[r3,#1]
;;;462    	*(((char*)&can2_data[ptr_can2_tx_wr])+2)=ptr[26];
000736  7e82              LDRB     r2,[r0,#0x1a]
000738  709a              STRB     r2,[r3,#2]
;;;463    	*(((char*)&can2_data[ptr_can2_tx_wr])+3)=ptr[27];
00073a  7ec2              LDRB     r2,[r0,#0x1b]
00073c  e000              B        |L1.1856|
                  |L1.1854|
00073e  e012              B        |L1.1894|
                  |L1.1856|
000740  70da              STRB     r2,[r3,#3]
;;;464    	*((char*)&can2_datb[ptr_can2_tx_wr])=ptr[28];
000742  7f02              LDRB     r2,[r0,#0x1c]
000744  f8082021          STRB     r2,[r8,r1,LSL #2]
;;;465    	*(((char*)&can2_datb[ptr_can2_tx_wr])+1)=ptr[29];
000748  eb080281          ADD      r2,r8,r1,LSL #2
00074c  7f43              LDRB     r3,[r0,#0x1d]
00074e  7053              STRB     r3,[r2,#1]
;;;466    	*(((char*)&can2_datb[ptr_can2_tx_wr])+2)=ptr[30];
000750  7f83              LDRB     r3,[r0,#0x1e]
000752  7093              STRB     r3,[r2,#2]
;;;467    	*(((char*)&can2_datb[ptr_can2_tx_wr])+3)=ptr[31];	
000754  7fc0              LDRB     r0,[r0,#0x1f]
000756  70d0              STRB     r0,[r2,#3]
;;;468    	ptr_can2_tx_wr++;
000758  f1010101          ADD      r1,r1,#1
00075c  b2c8              UXTB     r0,r1
00075e  7178              STRB     r0,[r7,#5]
;;;469    	if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;	
000760  2808              CMP      r0,#8
000762  d300              BCC      |L1.1894|
000764  717d              STRB     r5,[r7,#5]
                  |L1.1894|
;;;470    	}	
;;;471    
;;;472    
;;;473    if(bOUT_FREE2)
000766  7878              LDRB     r0,[r7,#1]  ; bOUT_FREE2
000768  2800              CMP      r0,#0
00076a  d018              BEQ      |L1.1950|
;;;474    	{
;;;475    	LPC_CAN2->TFI1=can2_info[ptr_can2_tx_rd];
00076c  79b8              LDRB     r0,[r7,#6]  ; ptr_can2_tx_rd
00076e  4929              LDR      r1,|L1.2068|
000770  f85a2020          LDR      r2,[r10,r0,LSL #2]
000774  630a              STR      r2,[r1,#0x30]
;;;476         LPC_CAN2->TID1=can2_id[ptr_can2_tx_rd];
000776  f8592020          LDR      r2,[r9,r0,LSL #2]
00077a  634a              STR      r2,[r1,#0x34]
;;;477         LPC_CAN2->TDA1=can2_data[ptr_can2_tx_rd];
00077c  f85c2020          LDR      r2,[r12,r0,LSL #2]
000780  638a              STR      r2,[r1,#0x38]
;;;478         LPC_CAN2->TDB1=can2_datb[ptr_can2_tx_rd];
000782  f8582020          LDR      r2,[r8,r0,LSL #2]
000786  63ca              STR      r2,[r1,#0x3c]
;;;479         LPC_CAN2->CMR=0x00000021;
000788  f04f0221          MOV      r2,#0x21
00078c  604a              STR      r2,[r1,#4]
;;;480         ptr_can2_tx_rd++;
00078e  f1000001          ADD      r0,r0,#1
000792  b2c0              UXTB     r0,r0
000794  71b8              STRB     r0,[r7,#6]
;;;481         if(ptr_can2_tx_rd>=8)ptr_can2_tx_rd=0;
000796  2808              CMP      r0,#8
000798  d300              BCC      |L1.1948|
00079a  71bd              STRB     r5,[r7,#6]
                  |L1.1948|
;;;482         bOUT_FREE2=0;	
00079c  707d              STRB     r5,[r7,#1]
                  |L1.1950|
;;;483    	}
;;;484    
;;;485    }
00079e  e654              B        |L1.1098|
;;;486    
                          ENDP

                  paking PROC
;;;487    //-----------------------------------------------
;;;488    void paking(char* data_ptr,char data_len)
0007a0  b570              PUSH     {r4-r6,lr}
;;;489    {
;;;490    char i,ii,iii;
;;;491    for(i=0;i<data_len;i++)
0007a2  f04f0200          MOV      r2,#0
;;;492    	{
;;;493    	ii=data_len+(i/7);
0007a6  f04f0507          MOV      r5,#7
0007aa  e025              B        |L1.2040|
                  |L1.1964|
0007ac  fbb2f4f5          UDIV     r4,r2,r5
0007b0  eb040301          ADD      r3,r4,r1
0007b4  b2db              UXTB     r3,r3
;;;494    	iii=i-(7*(i/7)); 
0007b6  eba404c4          SUB      r4,r4,r4,LSL #3
0007ba  4414              ADD      r4,r4,r2
0007bc  b2e4              UXTB     r4,r4
;;;495    	if(iii==0) data_ptr[ii]=0;
0007be  b914              CBNZ     r4,|L1.1990|
0007c0  f04f0400          MOV      r4,#0
0007c4  54c4              STRB     r4,[r0,r3]
                  |L1.1990|
;;;496    	data_ptr[ii]<<=1;
0007c6  5cc4              LDRB     r4,[r0,r3]
0007c8  ea4f6444          LSL      r4,r4,#25
0007cc  ea4f6414          LSR      r4,r4,#24
0007d0  54c4              STRB     r4,[r0,r3]
;;;497    	if(data_ptr[i]&0x01)
0007d2  5c86              LDRB     r6,[r0,r2]
0007d4  07f6              LSLS     r6,r6,#31
0007d6  d003              BEQ      |L1.2016|
;;;498    		{
;;;499    		data_ptr[ii]|=0x01;//(1<<(6-iii));
0007d8  f0440401          ORR      r4,r4,#1
0007dc  54c4              STRB     r4,[r0,r3]
0007de  e002              B        |L1.2022|
                  |L1.2016|
;;;500    		}                      
;;;501    	else 
;;;502    		{
;;;503    		data_ptr[ii]&=0xfe;//~(1<<(6-iii));
0007e0  f00404fe          AND      r4,r4,#0xfe
0007e4  54c4              STRB     r4,[r0,r3]
                  |L1.2022|
;;;504    		}              
;;;505    	data_ptr[i]>>=1;	        
0007e6  5c83              LDRB     r3,[r0,r2]
0007e8  ea4f0353          LSR      r3,r3,#1
;;;506    	data_ptr[i]|=0x80;	
0007ec  f0430380          ORR      r3,r3,#0x80
0007f0  5483              STRB     r3,[r0,r2]
0007f2  f1020201          ADD      r2,r2,#1              ;491
0007f6  b2d2              UXTB     r2,r2                 ;491
                  |L1.2040|
0007f8  428a              CMP      r2,r1                 ;491
0007fa  d3d7              BCC      |L1.1964|
;;;507    	}                       
;;;508    for(i=data_len;i<(data_len+(data_len/7)+1);i++)
0007fc  fbb1f2f5          UDIV     r2,r1,r5
000800  440a              ADD      r2,r2,r1
000802  f1020201          ADD      r2,r2,#1
000806  e00e              B        |L1.2086|
                  |L1.2056|
                          DCD      0x40044000
                  |L1.2060|
                          DCD      ||.data||
                  |L1.2064|
                          DCD      ||.bss||+0x80
                  |L1.2068|
                          DCD      0x40048000
                  |L1.2072|
;;;509    	{
;;;510    	data_ptr[i]|=0x80;
000818  5c43              LDRB     r3,[r0,r1]
00081a  f0430380          ORR      r3,r3,#0x80
00081e  5443              STRB     r3,[r0,r1]
000820  f1010101          ADD      r1,r1,#1              ;508
000824  b2c9              UXTB     r1,r1                 ;508
                  |L1.2086|
000826  428a              CMP      r2,r1                 ;508
000828  d8f6              BHI      |L1.2072|
;;;511    	}	
;;;512    }
00082a  bd70              POP      {r4-r6,pc}
;;;513    
                          ENDP

                  can1_out PROC
;;;514    //-----------------------------------------------
;;;515    void can1_out(char dat0,char dat1,char dat2,char dat3,char dat4,char dat5,char dat6,char dat7)
00082c  e92d4ff0          PUSH     {r4-r11,lr}
;;;516    {
000830  e9ddab0b          LDRD     r10,r11,[sp,#0x2c]
000834  e9dd8909          LDRD     r8,r9,[sp,#0x24]
;;;517    //new_rotor[0]++;
;;;518    can1_info[ptr_can1_tx_wr]=((8UL)<<16)&0x000f0000UL;
000838  4fff              LDR      r7,|L1.3128|
00083a  f44f2600          MOV      r6,#0x80000
00083e  4dff              LDR      r5,|L1.3132|
000840  78ec              LDRB     r4,[r5,#3]  ; ptr_can1_tx_wr
000842  f8476024          STR      r6,[r7,r4,LSL #2]
;;;519    can1_id[ptr_can1_tx_wr]=0x0000009eUL;
000846  f1070c20          ADD      r12,r7,#0x20
00084a  f04f069e          MOV      r6,#0x9e
00084e  f84c6024          STR      r6,[r12,r4,LSL #2]
;;;520    *((char*)&can1_data[ptr_can1_tx_wr])=dat0;
000852  f1070640          ADD      r6,r7,#0x40
000856  f8060024          STRB     r0,[r6,r4,LSL #2]
;;;521    *(((char*)&can1_data[ptr_can1_tx_wr])+1)=dat1;
00085a  eb060084          ADD      r0,r6,r4,LSL #2
00085e  7041              STRB     r1,[r0,#1]
;;;522    *(((char*)&can1_data[ptr_can1_tx_wr])+2)=dat2;
000860  7082              STRB     r2,[r0,#2]
;;;523    *(((char*)&can1_data[ptr_can1_tx_wr])+3)=dat3;
000862  70c3              STRB     r3,[r0,#3]
;;;524    *((char*)&can1_datb[ptr_can1_tx_wr])=dat4;
000864  f1060220          ADD      r2,r6,#0x20
000868  f8028024          STRB     r8,[r2,r4,LSL #2]
;;;525    *(((char*)&can1_datb[ptr_can1_tx_wr])+1)=dat5;
00086c  eb020084          ADD      r0,r2,r4,LSL #2
000870  f8809001          STRB     r9,[r0,#1]
;;;526    *(((char*)&can1_datb[ptr_can1_tx_wr])+2)=dat6;
000874  f880a002          STRB     r10,[r0,#2]
;;;527    *(((char*)&can1_datb[ptr_can1_tx_wr])+3)=dat7;	
000878  f880b003          STRB     r11,[r0,#3]
;;;528    ptr_can1_tx_wr++;
00087c  f1040401          ADD      r4,r4,#1
000880  b2e0              UXTB     r0,r4
000882  70e8              STRB     r0,[r5,#3]
;;;529    if(ptr_can1_tx_wr>=8)ptr_can1_tx_wr=0;
000884  f04f0300          MOV      r3,#0
000888  2808              CMP      r0,#8
00088a  d300              BCC      |L1.2190|
00088c  70eb              STRB     r3,[r5,#3]
                  |L1.2190|
;;;530    
;;;531    
;;;532    if(bOUT_FREE)
00088e  7828              LDRB     r0,[r5,#0]  ; bOUT_FREE
000890  2800              CMP      r0,#0
000892  d018              BEQ      |L1.2246|
;;;533    	{
;;;534    	//rotor_rotor_rotor[1]++;
;;;535    //	new_rotor[1]++;
;;;536    	LPC_CAN1->TFI1=can1_info[ptr_can1_tx_rd];
000894  7928              LDRB     r0,[r5,#4]  ; ptr_can1_tx_rd
000896  49ea              LDR      r1,|L1.3136|
000898  f8574020          LDR      r4,[r7,r0,LSL #2]
00089c  630c              STR      r4,[r1,#0x30]
;;;537         LPC_CAN1->TID1=can1_id[ptr_can1_tx_rd];
00089e  f85c4020          LDR      r4,[r12,r0,LSL #2]
0008a2  634c              STR      r4,[r1,#0x34]
;;;538         LPC_CAN1->TDA1=can1_data[ptr_can1_tx_rd];
0008a4  f8564020          LDR      r4,[r6,r0,LSL #2]
0008a8  638c              STR      r4,[r1,#0x38]
;;;539         LPC_CAN1->TDB1=can1_datb[ptr_can1_tx_rd];
0008aa  f8522020          LDR      r2,[r2,r0,LSL #2]
0008ae  63ca              STR      r2,[r1,#0x3c]
;;;540         LPC_CAN1->CMR=0x00000021;
0008b0  f04f0221          MOV      r2,#0x21
0008b4  604a              STR      r2,[r1,#4]
;;;541         ptr_can1_tx_rd++;
0008b6  f1000001          ADD      r0,r0,#1
0008ba  b2c0              UXTB     r0,r0
0008bc  7128              STRB     r0,[r5,#4]
;;;542         if(ptr_can1_tx_rd>=8)ptr_can1_tx_rd=0;
0008be  2808              CMP      r0,#8
0008c0  d300              BCC      |L1.2244|
0008c2  712b              STRB     r3,[r5,#4]
                  |L1.2244|
;;;543         bOUT_FREE=0;	
0008c4  702b              STRB     r3,[r5,#0]
                  |L1.2246|
;;;544    	}
;;;545    }	
0008c6  e5c0              B        |L1.1098|
;;;546    
                          ENDP

                  can2_out PROC
;;;547    //-----------------------------------------------
;;;548    void can2_out(char dat0,char dat1,char dat2,char dat3,char dat4,char dat5,char dat6,char dat7)
0008c8  e92d4ff0          PUSH     {r4-r11,lr}
;;;549    {
0008cc  e9ddab0b          LDRD     r10,r11,[sp,#0x2c]
0008d0  e9dd8909          LDRD     r8,r9,[sp,#0x24]
;;;550    
;;;551    //new_rotor[0]++;
;;;552    can2_info[ptr_can2_tx_wr]=((8UL)<<16)&0x000f0000UL;
0008d4  4dd9              LDR      r5,|L1.3132|
0008d6  4fd8              LDR      r7,|L1.3128|
0008d8  f44f2600          MOV      r6,#0x80000
0008dc  796c              LDRB     r4,[r5,#5]  ; ptr_can2_tx_wr
0008de  f1070780          ADD      r7,r7,#0x80
0008e2  f8476024          STR      r6,[r7,r4,LSL #2]
;;;553    can2_id[ptr_can2_tx_wr]=0x0000018eUL;
0008e6  f1070c20          ADD      r12,r7,#0x20
0008ea  f44f76c7          MOV      r6,#0x18e
0008ee  f84c6024          STR      r6,[r12,r4,LSL #2]
;;;554    *((char*)&can2_data[ptr_can2_tx_wr])=dat0;
0008f2  f1070640          ADD      r6,r7,#0x40
0008f6  f8060024          STRB     r0,[r6,r4,LSL #2]
;;;555    *(((char*)&can2_data[ptr_can2_tx_wr])+1)=dat1;
0008fa  eb060084          ADD      r0,r6,r4,LSL #2
0008fe  7041              STRB     r1,[r0,#1]
;;;556    *(((char*)&can2_data[ptr_can2_tx_wr])+2)=dat2;
000900  7082              STRB     r2,[r0,#2]
;;;557    *(((char*)&can2_data[ptr_can2_tx_wr])+3)=dat3;
000902  70c3              STRB     r3,[r0,#3]
;;;558    *((char*)&can2_datb[ptr_can2_tx_wr])=dat4;
000904  f1060220          ADD      r2,r6,#0x20
000908  f8028024          STRB     r8,[r2,r4,LSL #2]
;;;559    *(((char*)&can2_datb[ptr_can2_tx_wr])+1)=dat5;
00090c  eb020084          ADD      r0,r2,r4,LSL #2
000910  f8809001          STRB     r9,[r0,#1]
;;;560    *(((char*)&can2_datb[ptr_can2_tx_wr])+2)=dat6;
000914  f880a002          STRB     r10,[r0,#2]
;;;561    *(((char*)&can2_datb[ptr_can2_tx_wr])+3)=dat7;	
000918  f880b003          STRB     r11,[r0,#3]
;;;562    ptr_can2_tx_wr++;
00091c  f1040401          ADD      r4,r4,#1
000920  b2e0              UXTB     r0,r4
000922  7168              STRB     r0,[r5,#5]
;;;563    if(ptr_can2_tx_wr>=8)ptr_can2_tx_wr=0;
000924  f04f0300          MOV      r3,#0
000928  2808              CMP      r0,#8
00092a  d300              BCC      |L1.2350|
00092c  716b              STRB     r3,[r5,#5]
                  |L1.2350|
;;;564    
;;;565    
;;;566    if(bOUT_FREE2)
00092e  7868              LDRB     r0,[r5,#1]  ; bOUT_FREE2
000930  2800              CMP      r0,#0
000932  d018              BEQ      |L1.2406|
;;;567    	{
;;;568    	//rotor_rotor_rotor[1]++;
;;;569    //	new_rotor[1]++;
;;;570    	LPC_CAN2->TFI1=can2_info[ptr_can2_tx_rd];
000934  79a8              LDRB     r0,[r5,#6]  ; ptr_can2_tx_rd
000936  49c3              LDR      r1,|L1.3140|
000938  f8574020          LDR      r4,[r7,r0,LSL #2]
00093c  630c              STR      r4,[r1,#0x30]
;;;571         LPC_CAN2->TID1=can2_id[ptr_can2_tx_rd];
00093e  f85c4020          LDR      r4,[r12,r0,LSL #2]
000942  634c              STR      r4,[r1,#0x34]
;;;572         LPC_CAN2->TDA1=can2_data[ptr_can2_tx_rd];
000944  f8564020          LDR      r4,[r6,r0,LSL #2]
000948  638c              STR      r4,[r1,#0x38]
;;;573         LPC_CAN2->TDB1=can2_datb[ptr_can2_tx_rd];
00094a  f8522020          LDR      r2,[r2,r0,LSL #2]
00094e  63ca              STR      r2,[r1,#0x3c]
;;;574         LPC_CAN2->CMR=0x00000021;
000950  f04f0221          MOV      r2,#0x21
000954  604a              STR      r2,[r1,#4]
;;;575         ptr_can2_tx_rd++;
000956  f1000001          ADD      r0,r0,#1
00095a  b2c0              UXTB     r0,r0
00095c  71a8              STRB     r0,[r5,#6]
;;;576         if(ptr_can2_tx_rd>=8)ptr_can2_tx_rd=0;
00095e  2808              CMP      r0,#8
000960  d300              BCC      |L1.2404|
000962  71ab              STRB     r3,[r5,#6]
                  |L1.2404|
;;;577         bOUT_FREE2=0;	
000964  706b              STRB     r3,[r5,#1]
                  |L1.2406|
;;;578    	}
;;;579    }	
000966  e570              B        |L1.1098|
;;;580    	
                          ENDP

                  can_adr_hndl PROC
;;;582    //-----------------------------------------------
;;;583    void can_adr_hndl(void)
000968  4ab7              LDR      r2,|L1.3144|
;;;584    {
;;;585    	TXBUFF[2]=RXBUFF[3];
00096a  f1020128          ADD      r1,r2,#0x28
00096e  78d0              LDRB     r0,[r2,#3]  ; RXBUFF
000970  7088              STRB     r0,[r1,#2]
;;;586    	TXBUFF[3]=RXBUFF[2];
000972  7890              LDRB     r0,[r2,#2]  ; RXBUFF
000974  70c8              STRB     r0,[r1,#3]
;;;587    	TXBUFF[4]=((RXBUFF[4]&0xF0)>>4)|((RXBUFF[4]&0x0f)<<4);
000976  7910              LDRB     r0,[r2,#4]  ; RXBUFF
000978  ea4f1310          LSR      r3,r0,#4
00097c  ea431000          ORR      r0,r3,r0,LSL #4
000980  7108              STRB     r0,[r1,#4]
;;;588    	TXBUFF[5]=((RXBUFF[5]&0xF0)>>4)|((RXBUFF[5]&0x0f)<<4);	
000982  7950              LDRB     r0,[r2,#5]  ; RXBUFF
000984  ea4f1210          LSR      r2,r0,#4
000988  ea421000          ORR      r0,r2,r0,LSL #4
00098c  7148              STRB     r0,[r1,#5]
;;;589    }	
00098e  4770              BX       lr
;;;590    
                          ENDP

                  can_in_an2 PROC
;;;591    //-----------------------------------------------
;;;592    void can_in_an2(void)
000990  e92d4ff8          PUSH     {r3-r11,lr}
;;;593    {
;;;594    if(!bIN) goto CAN_IN_AN_end; 
000994  4da9              LDR      r5,|L1.3132|
000996  7a28              LDRB     r0,[r5,#8]  ; bIN
000998  2800              CMP      r0,#0
00099a  d07e              BEQ      |L1.2714|
;;;595    can_debug_plazma[0][1]++;
00099c  f8dfb2a8          LDR      r11,|L1.3144|
0009a0  f10b0b5a          ADD      r11,r11,#0x5a
0009a4  4659              MOV      r1,r11
0009a6  f89b0001          LDRB     r0,[r11,#1]  ; can_debug_plazma
0009aa  f1000001          ADD      r0,r0,#1
0009ae  7048              STRB     r0,[r1,#1]
;;;596     
;;;597    
;;;598    //  
;;;599    if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xc0)==0x40)&&
0009b0  48a5              LDR      r0,|L1.3144|
;;;600    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x01))
;;;601    	{ 
;;;602         
;;;603    
;;;604        	TXBUFF[0]=0x30;
0009b2  f1a10432          SUB      r4,r1,#0x32
0009b6  4603              MOV      r3,r0                 ;599
0009b8  f890c000          LDRB     r12,[r0,#0]           ;599  ; RXBUFF
0009bc  7858              LDRB     r0,[r3,#1]            ;599
0009be  7919              LDRB     r1,[r3,#4]            ;600
0009c0  795a              LDRB     r2,[r3,#5]            ;600
0009c2  799b              LDRB     r3,[r3,#6]            ;600
;;;605    	TXBUFF[1]=(RXBUFF[1]&0xa0)+4;
0009c4  f0000aa0          AND      r10,r0,#0xa0
0009c8  f04f0901          MOV      r9,#1                 ;599
0009cc  f04f0730          MOV      r7,#0x30              ;599
0009d0  f04f080e          MOV      r8,#0xe               ;600
0009d4  f04f0602          MOV      r6,#2                 ;600
0009d8  f1bc0f30          CMP      r12,#0x30             ;599
0009dc  d10a              BNE      |L1.2548|
0009de  ebb91f90          CMP      r9,r0,LSR #6          ;599
0009e2  d107              BNE      |L1.2548|
0009e4  ebb81f11          CMP      r8,r1,LSR #4          ;600
0009e8  d104              BNE      |L1.2548|
0009ea  ebb61f12          CMP      r6,r2,LSR #4          ;600
0009ee  d101              BNE      |L1.2548|
0009f0  2b01              CMP      r3,#1                 ;600
0009f2  d003              BEQ      |L1.2556|
                  |L1.2548|
;;;606    	can_adr_hndl();
;;;607    	TXBUFF[6]=0x01;
;;;608    	TXBUFF[7]=3;
;;;609    	TXBUFF[8]=5;
;;;610    	TXBUFF[9]=CRC1_out();
;;;611    	TXBUFF[10]=CRC2_out();
;;;612    	TX_len=11;
;;;613    
;;;614    	can2_out_adr(TXBUFF,11);  
;;;615    	}
;;;616    //    
;;;617    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xc0)==0x40)&&
0009f4  f1bc0f30          CMP      r12,#0x30
0009f8  d01f              BEQ      |L1.2618|
0009fa  e029              B        |L1.2640|
                  |L1.2556|
0009fc  7027              STRB     r7,[r4,#0]            ;604
0009fe  f10a0a04          ADD      r10,r10,#4            ;605
000a02  f884a001          STRB     r10,[r4,#1]           ;605
000a06  f7fffffe          BL       can_adr_hndl
000a0a  f8849006          STRB     r9,[r4,#6]            ;607
000a0e  f04f0003          MOV      r0,#3                 ;608
000a12  71e0              STRB     r0,[r4,#7]            ;608
000a14  f04f0005          MOV      r0,#5                 ;609
000a18  7220              STRB     r0,[r4,#8]            ;609
000a1a  f7fffffe          BL       CRC1_out
000a1e  7260              STRB     r0,[r4,#9]            ;610
000a20  f7fffffe          BL       CRC2_out
000a24  72a0              STRB     r0,[r4,#0xa]          ;611
000a26  f04f000b          MOV      r0,#0xb               ;612
000a2a  72a8              STRB     r0,[r5,#0xa]          ;612
000a2c  4601              MOV      r1,r0                 ;614
000a2e  4886              LDR      r0,|L1.3144|
000a30  f1000028          ADD      r0,r0,#0x28           ;614
000a34  f7fffffe          BL       can2_out_adr
000a38  e20f              B        |L1.3674|
                  |L1.2618|
000a3a  ebb91f90          CMP      r9,r0,LSR #6
000a3e  d107              BNE      |L1.2640|
;;;618    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0xB0))
000a40  ebb81f11          CMP      r8,r1,LSR #4
000a44  d104              BNE      |L1.2640|
000a46  ebb61f12          CMP      r6,r2,LSR #4
000a4a  d101              BNE      |L1.2640|
000a4c  2bb0              CMP      r3,#0xb0
000a4e  d00f              BEQ      |L1.2672|
                  |L1.2640|
000a50  f8dfb1f4          LDR      r11,|L1.3144|
;;;619    	{ 
;;;620    	can_debug_plazma[0][2]++;
;;;621        	TXBUFF[0]=0x30;
;;;622    	TXBUFF[1]=(RXBUFF[1]&0xa0)+13;
;;;623    	can_adr_hndl(); 
;;;624    	
;;;625    	TXBUFF[6]=0xB0;
;;;626    	
;;;627    	//net_U=231;
;;;628    	//net_F=501;
;;;629    
;;;630    	if(net_U>=254)TXBUFF[7]=0xff;
;;;631    	else TXBUFF[7]=net_U;
;;;632    	
;;;633    	if(net_F<400) TXBUFF[8]=1;
;;;634    	else if(net_F>654) TXBUFF[8]=0xff;
;;;635    	else TXBUFF[8]=(unsigned char)((net_F-400)+1);
;;;636    	
;;;637    	TXBUFF[9]=*((char*)(&load_U));
;;;638    	TXBUFF[10]=*(((char*)(&load_U))+1);
;;;639    	TXBUFF[11]=*((char*)(&load_I));
;;;640    	TXBUFF[12]=*(((char*)(&load_I))+1);
;;;641    	
;;;642    	TXBUFF[13]=0xcc;
;;;643    	TXBUFF[13]|=4;(NUMIST&0x07);
;;;644    	TXBUFF[13]|=((NUMBAT&0x03)<<4);
;;;645    	
;;;646    
;;;647    	TXBUFF[14]=0x80;
;;;648    	if(avar_stat&0x00000001)TXBUFF[14]|=0x01;
;;;649    	if(PAR)TXBUFF[14]|=0x40;
;;;650    	
;;;651    	TXBUFF[15]=25;//tbat[2];
;;;652         
;;;653    	paking(&TXBUFF[6],10);
;;;654    	
;;;655    	TXBUFF[18]=CRC1_out();
;;;656    	TXBUFF[19]=CRC2_out();
;;;657    	TX_len=20;
;;;658    				
;;;659    	can2_out_adr(TXBUFF,20);  
;;;660    	} 
;;;661    
;;;662    //   1 
;;;663    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xc0)==0x40)&&
000a54  f1bc0f30          CMP      r12,#0x30
000a58  f89ba001          LDRB     r10,[r11,#1]          ;599
;;;664    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0xB1)&&(RXBUFF[7]==0x01))
000a5c  f89bb007          LDRB     r11,[r11,#7]
000a60  f00a0aa0          AND      r10,r10,#0xa0         ;605
;;;665    	{ 
;;;666    	signed short temp_S;
;;;667    
;;;668        	TXBUFF[0]=0x30;
;;;669    	TXBUFF[1]=(RXBUFF[1]&0xa0)+14;
000a64  f10a0a0e          ADD      r10,r10,#0xe
000a68  f00a0aff          AND      r10,r10,#0xff
000a6c  d06d              BEQ      |L1.2890|
000a6e  e07a              B        |L1.2918|
                  |L1.2672|
000a70  f89b0002          LDRB     r0,[r11,#2]           ;620  ; can_debug_plazma
000a74  f1000001          ADD      r0,r0,#1              ;620
000a78  f88b0002          STRB     r0,[r11,#2]           ;620
000a7c  7027              STRB     r7,[r4,#0]            ;621
000a7e  f10a0a0d          ADD      r10,r10,#0xd          ;622
000a82  f884a001          STRB     r10,[r4,#1]           ;622
000a86  f7fffffe          BL       can_adr_hndl
000a8a  f04f00b0          MOV      r0,#0xb0              ;625
000a8e  71a0              STRB     r0,[r4,#6]            ;625
000a90  486e              LDR      r0,|L1.3148|
000a92  f9b00000          LDRSH    r0,[r0,#0]            ;630  ; net_U
000a96  28fe              CMP      r0,#0xfe              ;630
000a98  e000              B        |L1.2716|
                  |L1.2714|
000a9a  e3fe              B        |L1.4762|
                  |L1.2716|
000a9c  db03              BLT      |L1.2726|
000a9e  f04f00ff          MOV      r0,#0xff              ;630
000aa2  71e0              STRB     r0,[r4,#7]            ;630
000aa4  e000              B        |L1.2728|
                  |L1.2726|
000aa6  71e0              STRB     r0,[r4,#7]            ;631
                  |L1.2728|
000aa8  4869              LDR      r0,|L1.3152|
000aaa  f9b00000          LDRSH    r0,[r0,#0]            ;633  ; net_F
000aae  f5b07fc8          CMP      r0,#0x190             ;633
000ab2  da02              BGE      |L1.2746|
000ab4  f8849008          STRB     r9,[r4,#8]            ;633
000ab8  e00a              B        |L1.2768|
                  |L1.2746|
000aba  f240218e          MOV      r1,#0x28e             ;634
000abe  4288              CMP      r0,r1                 ;634
000ac0  dd03              BLE      |L1.2762|
000ac2  f04f00ff          MOV      r0,#0xff              ;634
000ac6  7220              STRB     r0,[r4,#8]            ;634
000ac8  e002              B        |L1.2768|
                  |L1.2762|
000aca  f2a0108f          SUB      r0,r0,#0x18f          ;635
000ace  7220              STRB     r0,[r4,#8]            ;635
                  |L1.2768|
000ad0  4860              LDR      r0,|L1.3156|
000ad2  7801              LDRB     r1,[r0,#0]            ;637  ; load_U
000ad4  7261              STRB     r1,[r4,#9]            ;637
000ad6  7840              LDRB     r0,[r0,#1]            ;638  ; load_U
000ad8  72a0              STRB     r0,[r4,#0xa]          ;638
000ada  485f              LDR      r0,|L1.3160|
000adc  7801              LDRB     r1,[r0,#0]            ;639  ; load_I
000ade  72e1              STRB     r1,[r4,#0xb]          ;639
000ae0  7840              LDRB     r0,[r0,#1]            ;640  ; load_I
000ae2  7320              STRB     r0,[r4,#0xc]          ;640
000ae4  f04f00cc          MOV      r0,#0xcc              ;642
000ae8  495c              LDR      r1,|L1.3164|
000aea  8809              LDRH     r1,[r1,#0]            ;644  ; NUMBAT
000aec  f0010103          AND      r1,r1,#3              ;644
000af0  ea401001          ORR      r0,r0,r1,LSL #4       ;644
000af4  7360              STRB     r0,[r4,#0xd]          ;644
000af6  f04f0080          MOV      r0,#0x80              ;647
000afa  73a0              STRB     r0,[r4,#0xe]          ;647
000afc  4858              LDR      r0,|L1.3168|
000afe  6800              LDR      r0,[r0,#0]            ;648  ; avar_stat
000b00  07c0              LSLS     r0,r0,#31             ;648
000b02  d002              BEQ      |L1.2826|
000b04  f04f0081          MOV      r0,#0x81              ;648
000b08  73a0              STRB     r0,[r4,#0xe]          ;648
                  |L1.2826|
000b0a  4856              LDR      r0,|L1.3172|
000b0c  8800              LDRH     r0,[r0,#0]            ;649  ; PAR
000b0e  b118              CBZ      r0,|L1.2840|
000b10  7ba0              LDRB     r0,[r4,#0xe]          ;649  ; TXBUFF
000b12  f0400040          ORR      r0,r0,#0x40           ;649
000b16  73a0              STRB     r0,[r4,#0xe]          ;649
                  |L1.2840|
000b18  f04f0019          MOV      r0,#0x19              ;651
000b1c  73e0              STRB     r0,[r4,#0xf]          ;651
000b1e  f04f010a          MOV      r1,#0xa               ;653
000b22  f1040006          ADD      r0,r4,#6              ;653
000b26  f7fffffe          BL       paking
000b2a  f7fffffe          BL       CRC1_out
000b2e  74a0              STRB     r0,[r4,#0x12]         ;655
000b30  f7fffffe          BL       CRC2_out
000b34  74e0              STRB     r0,[r4,#0x13]         ;656
000b36  f04f0014          MOV      r0,#0x14              ;657
000b3a  72a8              STRB     r0,[r5,#0xa]          ;657
000b3c  4601              MOV      r1,r0                 ;659
000b3e  4842              LDR      r0,|L1.3144|
000b40  f1000028          ADD      r0,r0,#0x28           ;659
000b44  f7fffffe          BL       can2_out_adr
000b48  e3d6              B        |L1.4856|
                  |L1.2890|
000b4a  ebb91f90          CMP      r9,r0,LSR #6          ;663
000b4e  d10a              BNE      |L1.2918|
000b50  ebb81f11          CMP      r8,r1,LSR #4          ;664
000b54  d107              BNE      |L1.2918|
000b56  ebb61f12          CMP      r6,r2,LSR #4          ;664
000b5a  d104              BNE      |L1.2918|
000b5c  2bb1              CMP      r3,#0xb1              ;664
000b5e  d102              BNE      |L1.2918|
000b60  f1bb0f01          CMP      r11,#1                ;664
000b64  d003              BEQ      |L1.2926|
                  |L1.2918|
;;;670    	can_adr_hndl();
;;;671    	TXBUFF[6]=0xB1;
;;;672    	TXBUFF[7]=1;
;;;673    	
;;;674    	if(BAT_IS_ON[0]!=bisON) TXBUFF[8]=0xFF;
;;;675    	else if(bat[0]._av)TXBUFF[8]=0xF7;
;;;676    	else TXBUFF[8]=0xF0;
;;;677    	
;;;678    	if((spc_stat==spcKE))TXBUFF[9]=0xF9;
;;;679    	else if(spc_stat==spcVZ)TXBUFF[9]=0xF8;                      
;;;680    	else TXBUFF[9]=0xF0;
;;;681    	
;;;682    	
;;;683    	temp_S=(bat[0]._Ib/10)+10000;
;;;684    			
;;;685    	TXBUFF[10]=*((char*)(&bat[0]._Ub));
;;;686    	TXBUFF[11]=*(((char*)(&bat[0]._Ub))+1);
;;;687    	TXBUFF[12]=*((char*)(&temp_S));
;;;688    	TXBUFF[13]=*(((char*)(&temp_S))+1);
;;;689    	TXBUFF[14]=bat[0]._Tb;
;;;690    	TXBUFF[15]=bat[0]._zar; 
;;;691    	
;;;692    	if(BAT_C_REAL[0]==0x5555)TXBUFF[16]=BAT_C_NOM[0];
;;;693    	else TXBUFF[16]=BAT_C_REAL[0]/10;	
;;;694    	
;;;695        	paking(&TXBUFF[6],11);
;;;696        
;;;697    	TXBUFF[19]=CRC1_out();
;;;698    	TXBUFF[20]=CRC2_out();
;;;699    	TX_len=21; 
;;;700     
;;;701    	can2_out_adr(TXBUFF,21);  
;;;702    	}	
;;;703    
;;;704    //   2 
;;;705    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xc0)==0x40)&&
000b66  f1bc0f30          CMP      r12,#0x30
000b6a  d064              BEQ      |L1.3126|
000b6c  e098              B        |L1.3232|
                  |L1.2926|
000b6e  7027              STRB     r7,[r4,#0]            ;668
000b70  f884a001          STRB     r10,[r4,#1]           ;669
000b74  f7fffffe          BL       can_adr_hndl
000b78  f04f00b1          MOV      r0,#0xb1              ;671
000b7c  71a0              STRB     r0,[r4,#6]            ;671
000b7e  f8849007          STRB     r9,[r4,#7]            ;672
000b82  4839              LDR      r0,|L1.3176|
000b84  7800              LDRB     r0,[r0,#0]            ;674  ; BAT_IS_ON
000b86  2855              CMP      r0,#0x55              ;674
000b88  d003              BEQ      |L1.2962|
000b8a  f04f00ff          MOV      r0,#0xff              ;674
000b8e  7220              STRB     r0,[r4,#8]            ;674
000b90  e00a              B        |L1.2984|
                  |L1.2962|
000b92  4836              LDR      r0,|L1.3180|
000b94  f890003d          LDRB     r0,[r0,#0x3d]         ;675  ; bat
000b98  b118              CBZ      r0,|L1.2978|
000b9a  f04f00f7          MOV      r0,#0xf7              ;675
000b9e  7220              STRB     r0,[r4,#8]            ;675
000ba0  e002              B        |L1.2984|
                  |L1.2978|
000ba2  f04f00f0          MOV      r0,#0xf0              ;676
000ba6  7220              STRB     r0,[r4,#8]            ;676
                  |L1.2984|
000ba8  4831              LDR      r0,|L1.3184|
000baa  7800              LDRB     r0,[r0,#0]            ;678  ; spc_stat
000bac  2801              CMP      r0,#1                 ;678
000bae  d028              BEQ      |L1.3074|
000bb0  2802              CMP      r0,#2                 ;679
000bb2  d02a              BEQ      |L1.3082|
000bb4  f04f00f0          MOV      r0,#0xf0              ;680
000bb8  7260              STRB     r0,[r4,#9]            ;680
                  |L1.3002|
000bba  492c              LDR      r1,|L1.3180|
000bbc  f04f020a          MOV      r2,#0xa               ;683
000bc0  f9b10008          LDRSH    r0,[r1,#8]            ;683  ; bat
000bc4  fb90f3f2          SDIV     r3,r0,r2              ;683
000bc8  f2427010          MOV      r0,#0x2710            ;683
000bcc  4418              ADD      r0,r0,r3              ;683
000bce  9000              STR      r0,[sp,#0]            ;683
000bd0  7888              LDRB     r0,[r1,#2]            ;685  ; bat
000bd2  72a0              STRB     r0,[r4,#0xa]          ;685
000bd4  78c8              LDRB     r0,[r1,#3]            ;686  ; bat
000bd6  72e0              STRB     r0,[r4,#0xb]          ;686
000bd8  f89d0000          LDRB     r0,[sp,#0]            ;687
000bdc  7320              STRB     r0,[r4,#0xc]          ;687
000bde  f89d0001          LDRB     r0,[sp,#1]            ;688
000be2  7360              STRB     r0,[r4,#0xd]          ;688
000be4  8948              LDRH     r0,[r1,#0xa]          ;689  ; bat
000be6  73a0              STRB     r0,[r4,#0xe]          ;689
000be8  8a08              LDRH     r0,[r1,#0x10]         ;690  ; bat
000bea  73e0              STRB     r0,[r4,#0xf]          ;690
000bec  4821              LDR      r0,|L1.3188|
000bee  f9b01000          LDRSH    r1,[r0,#0]            ;692  ; BAT_C_REAL
000bf2  f5a140aa          SUB      r0,r1,#0x5500         ;692
000bf6  3855              SUBS     r0,r0,#0x55           ;692
000bf8  d10b              BNE      |L1.3090|
000bfa  481f              LDR      r0,|L1.3192|
000bfc  8800              LDRH     r0,[r0,#0]            ;692  ; BAT_C_NOM
000bfe  7420              STRB     r0,[r4,#0x10]         ;692
000c00  e00a              B        |L1.3096|
                  |L1.3074|
000c02  f04f00f9          MOV      r0,#0xf9              ;678
000c06  7260              STRB     r0,[r4,#9]            ;678
000c08  e7d7              B        |L1.3002|
                  |L1.3082|
000c0a  f04f00f8          MOV      r0,#0xf8              ;679
000c0e  7260              STRB     r0,[r4,#9]            ;679
000c10  e7d3              B        |L1.3002|
                  |L1.3090|
000c12  fb91f0f2          SDIV     r0,r1,r2              ;693
000c16  7420              STRB     r0,[r4,#0x10]         ;693
                  |L1.3096|
000c18  210b              MOVS     r1,#0xb               ;695
000c1a  1da0              ADDS     r0,r4,#6              ;695
000c1c  f7fffffe          BL       paking
000c20  f7fffffe          BL       CRC1_out
000c24  74e0              STRB     r0,[r4,#0x13]         ;697
000c26  f7fffffe          BL       CRC2_out
000c2a  7520              STRB     r0,[r4,#0x14]         ;698
000c2c  f04f0015          MOV      r0,#0x15              ;699
000c30  72a8              STRB     r0,[r5,#0xa]          ;699
000c32  4601              MOV      r1,r0                 ;701
000c34  e022              B        |L1.3196|
                  |L1.3126|
000c36  e025              B        |L1.3204|
                  |L1.3128|
                          DCD      ||.bss||
                  |L1.3132|
                          DCD      ||.data||
                  |L1.3136|
                          DCD      0x40044000
                  |L1.3140|
                          DCD      0x40048000
                  |L1.3144|
                          DCD      ||.bss||+0x124
                  |L1.3148|
                          DCD      net_U
                  |L1.3152|
                          DCD      net_F
                  |L1.3156|
                          DCD      load_U
                  |L1.3160|
                          DCD      load_I
                  |L1.3164|
                          DCD      NUMBAT
                  |L1.3168|
                          DCD      avar_stat
                  |L1.3172|
                          DCD      PAR
                  |L1.3176|
                          DCD      BAT_IS_ON
                  |L1.3180|
                          DCD      bat
                  |L1.3184|
                          DCD      spc_stat
                  |L1.3188|
                          DCD      BAT_C_REAL
                  |L1.3192|
                          DCD      BAT_C_NOM
                  |L1.3196|
000c7c  48fa              LDR      r0,|L1.4200|
000c7e  f7fffffe          BL       can2_out_adr
000c82  e339              B        |L1.4856|
                  |L1.3204|
000c84  ebb91f90          CMP      r9,r0,LSR #6
000c88  d10a              BNE      |L1.3232|
;;;706    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0xB1)&&(RXBUFF[7]==0x02))
000c8a  ebb81f11          CMP      r8,r1,LSR #4
000c8e  d107              BNE      |L1.3232|
000c90  ebb61f12          CMP      r6,r2,LSR #4
000c94  d104              BNE      |L1.3232|
000c96  2bb1              CMP      r3,#0xb1
000c98  d102              BNE      |L1.3232|
000c9a  f1bb0f02          CMP      r11,#2
000c9e  d00f              BEQ      |L1.3264|
                  |L1.3232|
000ca0  f8dfa3c4          LDR      r10,|L1.4200|
;;;707    	{ 
;;;708    	signed short temp_S;
;;;709    
;;;710        TXBUFF[0]=0x30;
;;;711    	TXBUFF[1]=(RXBUFF[1]&0xa0)+14;
;;;712    	can_adr_hndl();
;;;713    	TXBUFF[6]=0xB1;
;;;714    	TXBUFF[7]=2;
;;;715    	
;;;716    	if(BAT_IS_ON[1]!=bisON) TXBUFF[8]=0xFF;
;;;717    	else if(bat[1]._av)TXBUFF[8]=0xF7;
;;;718    	else TXBUFF[8]=0xF0;
;;;719    
;;;720    	if((spc_stat==spcKE))TXBUFF[9]=0xF9;
;;;721    	else if(spc_stat==spcVZ)TXBUFF[9]=0xF8;                      
;;;722    	else TXBUFF[9]=0xF0;
;;;723    	
;;;724    	
;;;725    	temp_S=(bat[1]._Ib/10)+10000;
;;;726    			
;;;727    	TXBUFF[10]=*((char*)(&bat[1]._Ub));
;;;728    	TXBUFF[11]=*(((char*)(&bat[1]._Ub))+1);
;;;729    	TXBUFF[12]=*((char*)(&temp_S));
;;;730    	TXBUFF[13]=*(((char*)(&temp_S))+1);
;;;731    	TXBUFF[14]=bat[1]._Tb;
;;;732    	TXBUFF[15]=bat[1]._zar; 
;;;733    	
;;;734    	if(BAT_C_REAL[1]==0x5555)TXBUFF[16]=BAT_C_NOM[1];
;;;735    	else TXBUFF[16]=BAT_C_REAL[1]/10;	
;;;736    	
;;;737        	paking(&TXBUFF[6],11);
;;;738        
;;;739    	TXBUFF[19]=CRC1_out();
;;;740    	TXBUFF[20]=CRC2_out();
;;;741    	TX_len=21; 
;;;742     
;;;743    	can2_out_adr(TXBUFF,21);  
;;;744    	}		
;;;745    		
;;;746    
;;;747    
;;;748    
;;;749    	//  1 
;;;750    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xc0)==0x40)&&
000ca4  f1bc0f30          CMP      r12,#0x30
000ca8  f1aa0a28          SUB      r10,r10,#0x28         ;599
000cac  f89aa001          LDRB     r10,[r10,#1]          ;599
000cb0  f00a0aa0          AND      r10,r10,#0xa0         ;605
;;;751    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0xB2)&&(RXBUFF[7]==0x01))
;;;752    	{ 
;;;753        //	plazma++;
;;;754    
;;;755        	TXBUFF[0]=0x30;
;;;756    	TXBUFF[1]=(RXBUFF[1]&0xa0)+11;
000cb4  f10a0a0b          ADD      r10,r10,#0xb
000cb8  f00a0aff          AND      r10,r10,#0xff
000cbc  d067              BEQ      |L1.3470|
000cbe  e074              B        |L1.3498|
                  |L1.3264|
000cc0  7027              STRB     r7,[r4,#0]            ;710
000cc2  f884a001          STRB     r10,[r4,#1]           ;711
000cc6  f7fffffe          BL       can_adr_hndl
000cca  f04f00b1          MOV      r0,#0xb1              ;713
000cce  71a0              STRB     r0,[r4,#6]            ;713
000cd0  71e6              STRB     r6,[r4,#7]            ;714
000cd2  48e6              LDR      r0,|L1.4204|
000cd4  7840              LDRB     r0,[r0,#1]            ;716  ; BAT_IS_ON
000cd6  2855              CMP      r0,#0x55              ;716
000cd8  d003              BEQ      |L1.3298|
000cda  f04f00ff          MOV      r0,#0xff              ;716
000cde  7220              STRB     r0,[r4,#8]            ;716
000ce0  e00a              B        |L1.3320|
                  |L1.3298|
000ce2  48e3              LDR      r0,|L1.4208|
000ce4  f8900089          LDRB     r0,[r0,#0x89]         ;717  ; bat
000ce8  b118              CBZ      r0,|L1.3314|
000cea  f04f00f7          MOV      r0,#0xf7              ;717
000cee  7220              STRB     r0,[r4,#8]            ;717
000cf0  e002              B        |L1.3320|
                  |L1.3314|
000cf2  f04f00f0          MOV      r0,#0xf0              ;718
000cf6  7220              STRB     r0,[r4,#8]            ;718
                  |L1.3320|
000cf8  48de              LDR      r0,|L1.4212|
000cfa  7800              LDRB     r0,[r0,#0]            ;720  ; spc_stat
000cfc  2801              CMP      r0,#1                 ;720
000cfe  d029              BEQ      |L1.3412|
000d00  2802              CMP      r0,#2                 ;721
000d02  d02b              BEQ      |L1.3420|
000d04  f04f00f0          MOV      r0,#0xf0              ;722
000d08  7260              STRB     r0,[r4,#9]            ;722
                  |L1.3338|
000d0a  49d9              LDR      r1,|L1.4208|
000d0c  f04f020a          MOV      r2,#0xa               ;725
000d10  314e              ADDS     r1,r1,#0x4e           ;725
000d12  f9b10006          LDRSH    r0,[r1,#6]            ;725  ; bat
000d16  fb90f3f2          SDIV     r3,r0,r2              ;725
000d1a  f2427010          MOV      r0,#0x2710            ;725
000d1e  4418              ADD      r0,r0,r3              ;725
000d20  9000              STR      r0,[sp,#0]            ;725
000d22  7808              LDRB     r0,[r1,#0]            ;727  ; bat
000d24  72a0              STRB     r0,[r4,#0xa]          ;727
000d26  7848              LDRB     r0,[r1,#1]            ;728  ; bat
000d28  72e0              STRB     r0,[r4,#0xb]          ;728
000d2a  f89d0000          LDRB     r0,[sp,#0]            ;729
000d2e  7320              STRB     r0,[r4,#0xc]          ;729
000d30  f89d0001          LDRB     r0,[sp,#1]            ;730
000d34  7360              STRB     r0,[r4,#0xd]          ;730
000d36  8908              LDRH     r0,[r1,#8]            ;731  ; bat
000d38  73a0              STRB     r0,[r4,#0xe]          ;731
000d3a  89c8              LDRH     r0,[r1,#0xe]          ;732  ; bat
000d3c  73e0              STRB     r0,[r4,#0xf]          ;732
000d3e  48ce              LDR      r0,|L1.4216|
000d40  f9b01002          LDRSH    r1,[r0,#2]            ;734  ; BAT_C_REAL
000d44  f5a140aa          SUB      r0,r1,#0x5500         ;734
000d48  3855              SUBS     r0,r0,#0x55           ;734
000d4a  d10b              BNE      |L1.3428|
000d4c  48cb              LDR      r0,|L1.4220|
000d4e  8840              LDRH     r0,[r0,#2]            ;734  ; BAT_C_NOM
000d50  7420              STRB     r0,[r4,#0x10]         ;734
000d52  e00a              B        |L1.3434|
                  |L1.3412|
000d54  f04f00f9          MOV      r0,#0xf9              ;720
000d58  7260              STRB     r0,[r4,#9]            ;720
000d5a  e7d6              B        |L1.3338|
                  |L1.3420|
000d5c  f04f00f8          MOV      r0,#0xf8              ;721
000d60  7260              STRB     r0,[r4,#9]            ;721
000d62  e7d2              B        |L1.3338|
                  |L1.3428|
000d64  fb91f0f2          SDIV     r0,r1,r2              ;735
000d68  7420              STRB     r0,[r4,#0x10]         ;735
                  |L1.3434|
000d6a  210b              MOVS     r1,#0xb               ;737
000d6c  1da0              ADDS     r0,r4,#6              ;737
000d6e  f7fffffe          BL       paking
000d72  f7fffffe          BL       CRC1_out
000d76  74e0              STRB     r0,[r4,#0x13]         ;739
000d78  f7fffffe          BL       CRC2_out
000d7c  7520              STRB     r0,[r4,#0x14]         ;740
000d7e  f04f0015          MOV      r0,#0x15              ;741
000d82  72a8              STRB     r0,[r5,#0xa]          ;741
000d84  4601              MOV      r1,r0                 ;743
000d86  48b8              LDR      r0,|L1.4200|
000d88  f7fffffe          BL       can2_out_adr
000d8c  e2b4              B        |L1.4856|
                  |L1.3470|
000d8e  ebb91f90          CMP      r9,r0,LSR #6          ;750
000d92  d10a              BNE      |L1.3498|
000d94  ebb81f11          CMP      r8,r1,LSR #4          ;751
000d98  d107              BNE      |L1.3498|
000d9a  ebb61f12          CMP      r6,r2,LSR #4          ;751
000d9e  d104              BNE      |L1.3498|
000da0  2bb2              CMP      r3,#0xb2              ;751
000da2  d102              BNE      |L1.3498|
000da4  f1bb0f01          CMP      r11,#1                ;751
000da8  d003              BEQ      |L1.3506|
                  |L1.3498|
;;;757    	can_adr_hndl();
;;;758    	TXBUFF[6]=0xB2;
;;;759    	TXBUFF[7]=1;
;;;760    		
;;;761    	
;;;762    	if(NUMIST<1)TXBUFF[8]=0xff;	
;;;763    	else if(bps[0]._state==bsWRK)TXBUFF[8]=0xf1; 
;;;764    	else if(bps[0]._av&(1<<3))TXBUFF[8]=0xf4;
;;;765    	else if(bps[0]._av&(1<<0))TXBUFF[8]=0xf5;
;;;766    	else if(bps[0]._av&(1<<1))TXBUFF[8]=0xf5;
;;;767    	else if(bps[0]._av&(1<<2))TXBUFF[8]=0xf7;
;;;768    	else TXBUFF[8]=0xf0;
;;;769    
;;;770    	TXBUFF[9]=*((char*)(&bps[0]._Uii));
;;;771    	TXBUFF[10]=*(((char*)(&bps[0]._Uii))+1);
;;;772    	TXBUFF[11]=*((char*)(&bps[0]._Ii));
;;;773    	TXBUFF[12]=*(((char*)(&bps[0]._Ii))+1);
;;;774    	TXBUFF[13]=bps[0]._Ti;
;;;775    	
;;;776        	paking(&TXBUFF[6],8);
;;;777        
;;;778        	TXBUFF[16]=CRC1_out();
;;;779    	TXBUFF[17]=CRC2_out();
;;;780    	TX_len=18;
;;;781    
;;;782    	can2_out_adr(TXBUFF,18);  
;;;783    	}	
;;;784    	//  2 
;;;785    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xc0)==0x40)&&
000daa  f1bc0f30          CMP      r12,#0x30
000dae  d055              BEQ      |L1.3676|
000db0  e062              B        |L1.3704|
                  |L1.3506|
000db2  7027              STRB     r7,[r4,#0]            ;755
000db4  f884a001          STRB     r10,[r4,#1]           ;756
000db8  f7fffffe          BL       can_adr_hndl
000dbc  f04f00b2          MOV      r0,#0xb2              ;758
000dc0  71a0              STRB     r0,[r4,#6]            ;758
000dc2  f8849007          STRB     r9,[r4,#7]            ;759
000dc6  48ae              LDR      r0,|L1.4224|
000dc8  f9b00000          LDRSH    r0,[r0,#0]            ;762  ; NUMIST
000dcc  2801              CMP      r0,#1                 ;762
000dce  da03              BGE      |L1.3544|
000dd0  f04f00ff          MOV      r0,#0xff              ;762
000dd4  7220              STRB     r0,[r4,#8]            ;762
000dd6  e023              B        |L1.3616|
                  |L1.3544|
000dd8  48aa              LDR      r0,|L1.4228|
000dda  7881              LDRB     r1,[r0,#2]            ;763  ; bps
000ddc  2901              CMP      r1,#1                 ;763
000dde  d006              BEQ      |L1.3566|
000de0  7840              LDRB     r0,[r0,#1]            ;764  ; bps
000de2  0701              LSLS     r1,r0,#28             ;764
000de4  d507              BPL      |L1.3574|
000de6  f04f00f4          MOV      r0,#0xf4              ;764
000dea  7220              STRB     r0,[r4,#8]            ;764
000dec  e018              B        |L1.3616|
                  |L1.3566|
000dee  f04f00f1          MOV      r0,#0xf1              ;763
000df2  7220              STRB     r0,[r4,#8]            ;763
000df4  e014              B        |L1.3616|
                  |L1.3574|
000df6  07c1              LSLS     r1,r0,#31             ;765
000df8  d003              BEQ      |L1.3586|
000dfa  f04f00f5          MOV      r0,#0xf5              ;765
000dfe  7220              STRB     r0,[r4,#8]            ;765
000e00  e00e              B        |L1.3616|
                  |L1.3586|
000e02  0781              LSLS     r1,r0,#30             ;766
000e04  d503              BPL      |L1.3598|
000e06  f04f00f5          MOV      r0,#0xf5              ;766
000e0a  7220              STRB     r0,[r4,#8]            ;766
000e0c  e008              B        |L1.3616|
                  |L1.3598|
000e0e  0740              LSLS     r0,r0,#29             ;767
000e10  d503              BPL      |L1.3610|
000e12  f04f00f7          MOV      r0,#0xf7              ;767
000e16  7220              STRB     r0,[r4,#8]            ;767
000e18  e002              B        |L1.3616|
                  |L1.3610|
000e1a  f04f00f0          MOV      r0,#0xf0              ;768
000e1e  7220              STRB     r0,[r4,#8]            ;768
                  |L1.3616|
000e20  4898              LDR      r0,|L1.4228|
000e22  301c              ADDS     r0,r0,#0x1c           ;770
000e24  7801              LDRB     r1,[r0,#0]            ;770  ; bps
000e26  7261              STRB     r1,[r4,#9]            ;770
000e28  7841              LDRB     r1,[r0,#1]            ;771  ; bps
000e2a  72a1              STRB     r1,[r4,#0xa]          ;771
000e2c  7a01              LDRB     r1,[r0,#8]            ;772  ; bps
000e2e  72e1              STRB     r1,[r4,#0xb]          ;772
000e30  7a41              LDRB     r1,[r0,#9]            ;773  ; bps
000e32  7321              STRB     r1,[r4,#0xc]          ;773
000e34  68c0              LDR      r0,[r0,#0xc]          ;774  ; bps
000e36  7360              STRB     r0,[r4,#0xd]          ;774
000e38  2108              MOVS     r1,#8                 ;776
000e3a  1da0              ADDS     r0,r4,#6              ;776
000e3c  f7fffffe          BL       paking
000e40  f7fffffe          BL       CRC1_out
000e44  7420              STRB     r0,[r4,#0x10]         ;778
000e46  f7fffffe          BL       CRC2_out
000e4a  7460              STRB     r0,[r4,#0x11]         ;779
000e4c  f04f0012          MOV      r0,#0x12              ;780
000e50  72a8              STRB     r0,[r5,#0xa]          ;780
000e52  4601              MOV      r1,r0                 ;782
000e54  4884              LDR      r0,|L1.4200|
000e56  f7fffffe          BL       can2_out_adr
                  |L1.3674|
000e5a  e24d              B        |L1.4856|
                  |L1.3676|
000e5c  ebb91f90          CMP      r9,r0,LSR #6
000e60  d10a              BNE      |L1.3704|
;;;786    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0xB2)&&(RXBUFF[7]==0x02))
000e62  ebb81f11          CMP      r8,r1,LSR #4
000e66  d107              BNE      |L1.3704|
000e68  ebb61f12          CMP      r6,r2,LSR #4
000e6c  d104              BNE      |L1.3704|
000e6e  2bb2              CMP      r3,#0xb2
000e70  d102              BNE      |L1.3704|
000e72  f1bb0f02          CMP      r11,#2
000e76  d003              BEQ      |L1.3712|
                  |L1.3704|
;;;787    	{ 
;;;788        //	plazma++;
;;;789    
;;;790        	TXBUFF[0]=0x30;
;;;791    	TXBUFF[1]=(RXBUFF[1]&0xa0)+11;
;;;792    	can_adr_hndl();
;;;793    	TXBUFF[6]=0xB2;
;;;794    	TXBUFF[7]=2;
;;;795    		
;;;796    	
;;;797    	if(NUMIST<3)TXBUFF[8]=0xff;	
;;;798    	else if(bps[1]._state==bsWRK)TXBUFF[8]=0xf1; 
;;;799    	else if(bps[1]._av&(1<<3))TXBUFF[8]=0xf4;
;;;800    	else if(bps[1]._av&(1<<0))TXBUFF[8]=0xf5;
;;;801    	else if(bps[1]._av&(1<<1))TXBUFF[8]=0xf5;
;;;802    	else if(bps[1]._av&(1<<2))TXBUFF[8]=0xf7;
;;;803    	else TXBUFF[8]=0xf0;
;;;804    
;;;805    	TXBUFF[9]=*((char*)(&bps[1]._Uii));
;;;806    	TXBUFF[10]=*(((char*)(&bps[1]._Uii))+1);
;;;807    	TXBUFF[11]=*((char*)(&bps[1]._Ii));
;;;808    	TXBUFF[12]=*(((char*)(&bps[1]._Ii))+1);
;;;809    	TXBUFF[13]=bps[1]._Ti;
;;;810    	
;;;811        	paking(&TXBUFF[6],8);
;;;812        
;;;813        	TXBUFF[16]=CRC1_out();
;;;814    	TXBUFF[17]=CRC2_out();
;;;815    	TX_len=18;
;;;816    
;;;817    	can2_out_adr(TXBUFF,18);  
;;;818    	}	
;;;819    
;;;820    
;;;821    	//  3 
;;;822    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xc0)==0x40)&&
000e78  f1bc0f30          CMP      r12,#0x30
000e7c  d056              BEQ      |L1.3884|
000e7e  e063              B        |L1.3912|
                  |L1.3712|
000e80  7027              STRB     r7,[r4,#0]            ;790
000e82  f884a001          STRB     r10,[r4,#1]           ;791
000e86  f7fffffe          BL       can_adr_hndl
000e8a  f04f00b2          MOV      r0,#0xb2              ;793
000e8e  71a0              STRB     r0,[r4,#6]            ;793
000e90  71e6              STRB     r6,[r4,#7]            ;794
000e92  487b              LDR      r0,|L1.4224|
000e94  f9b00000          LDRSH    r0,[r0,#0]            ;797  ; NUMIST
000e98  2803              CMP      r0,#3                 ;797
000e9a  da03              BGE      |L1.3748|
000e9c  f04f00ff          MOV      r0,#0xff              ;797
000ea0  7220              STRB     r0,[r4,#8]            ;797
000ea2  e025              B        |L1.3824|
                  |L1.3748|
000ea4  4877              LDR      r0,|L1.4228|
000ea6  f8901056          LDRB     r1,[r0,#0x56]         ;798  ; bps
000eaa  2901              CMP      r1,#1                 ;798
000eac  d007              BEQ      |L1.3774|
000eae  f8900055          LDRB     r0,[r0,#0x55]         ;799  ; bps
000eb2  0701              LSLS     r1,r0,#28             ;799
000eb4  d507              BPL      |L1.3782|
000eb6  f04f00f4          MOV      r0,#0xf4              ;799
000eba  7220              STRB     r0,[r4,#8]            ;799
000ebc  e018              B        |L1.3824|
                  |L1.3774|
000ebe  f04f00f1          MOV      r0,#0xf1              ;798
000ec2  7220              STRB     r0,[r4,#8]            ;798
000ec4  e014              B        |L1.3824|
                  |L1.3782|
000ec6  07c1              LSLS     r1,r0,#31             ;800
000ec8  d003              BEQ      |L1.3794|
000eca  f04f00f5          MOV      r0,#0xf5              ;800
000ece  7220              STRB     r0,[r4,#8]            ;800
000ed0  e00e              B        |L1.3824|
                  |L1.3794|
000ed2  0781              LSLS     r1,r0,#30             ;801
000ed4  d503              BPL      |L1.3806|
000ed6  f04f00f5          MOV      r0,#0xf5              ;801
000eda  7220              STRB     r0,[r4,#8]            ;801
000edc  e008              B        |L1.3824|
                  |L1.3806|
000ede  0740              LSLS     r0,r0,#29             ;802
000ee0  d503              BPL      |L1.3818|
000ee2  f04f00f7          MOV      r0,#0xf7              ;802
000ee6  7220              STRB     r0,[r4,#8]            ;802
000ee8  e002              B        |L1.3824|
                  |L1.3818|
000eea  f04f00f0          MOV      r0,#0xf0              ;803
000eee  7220              STRB     r0,[r4,#8]            ;803
                  |L1.3824|
000ef0  4864              LDR      r0,|L1.4228|
000ef2  3070              ADDS     r0,r0,#0x70           ;805
000ef4  7801              LDRB     r1,[r0,#0]            ;805  ; bps
000ef6  7261              STRB     r1,[r4,#9]            ;805
000ef8  7841              LDRB     r1,[r0,#1]            ;806  ; bps
000efa  72a1              STRB     r1,[r4,#0xa]          ;806
000efc  7a01              LDRB     r1,[r0,#8]            ;807  ; bps
000efe  72e1              STRB     r1,[r4,#0xb]          ;807
000f00  7a41              LDRB     r1,[r0,#9]            ;808  ; bps
000f02  7321              STRB     r1,[r4,#0xc]          ;808
000f04  68c0              LDR      r0,[r0,#0xc]          ;809  ; bps
000f06  7360              STRB     r0,[r4,#0xd]          ;809
000f08  2108              MOVS     r1,#8                 ;811
000f0a  1da0              ADDS     r0,r4,#6              ;811
000f0c  f7fffffe          BL       paking
000f10  f7fffffe          BL       CRC1_out
000f14  7420              STRB     r0,[r4,#0x10]         ;813
000f16  f7fffffe          BL       CRC2_out
000f1a  7460              STRB     r0,[r4,#0x11]         ;814
000f1c  f04f0012          MOV      r0,#0x12              ;815
000f20  72a8              STRB     r0,[r5,#0xa]          ;815
000f22  4601              MOV      r1,r0                 ;817
000f24  4850              LDR      r0,|L1.4200|
000f26  f7fffffe          BL       can2_out_adr
000f2a  e1e5              B        |L1.4856|
                  |L1.3884|
000f2c  ebb91f90          CMP      r9,r0,LSR #6
000f30  d10a              BNE      |L1.3912|
;;;823    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0xB2)&&(RXBUFF[7]==0x03))
000f32  ebb81f11          CMP      r8,r1,LSR #4
000f36  d107              BNE      |L1.3912|
000f38  ebb61f12          CMP      r6,r2,LSR #4
000f3c  d104              BNE      |L1.3912|
000f3e  2bb2              CMP      r3,#0xb2
000f40  d102              BNE      |L1.3912|
000f42  f1bb0f03          CMP      r11,#3
000f46  d003              BEQ      |L1.3920|
                  |L1.3912|
;;;824    	{ 
;;;825        //	plazma++;
;;;826    
;;;827        	TXBUFF[0]=0x30;
;;;828    	TXBUFF[1]=(RXBUFF[1]&0xa0)+11;
;;;829    	can_adr_hndl();
;;;830    	TXBUFF[6]=0xB2;
;;;831    	TXBUFF[7]=3;
;;;832    		
;;;833    	
;;;834    	if(NUMIST<3)TXBUFF[8]=0xff;	
;;;835    	else if(bps[2]._state==bsWRK)TXBUFF[8]=0xf1; 
;;;836    	else if(bps[2]._av&(1<<3))TXBUFF[8]=0xf4;
;;;837    	else if(bps[2]._av&(1<<0))TXBUFF[8]=0xf5;
;;;838    	else if(bps[2]._av&(1<<1))TXBUFF[8]=0xf5;
;;;839    	else if(bps[2]._av&(1<<2))TXBUFF[8]=0xf7;
;;;840    	else TXBUFF[8]=0xf0;
;;;841    
;;;842    	TXBUFF[9]=*((char*)(&bps[2]._Uii));
;;;843    	TXBUFF[10]=*(((char*)(&bps[2]._Uii))+1);
;;;844    	TXBUFF[11]=*((char*)(&bps[2]._Ii));
;;;845    	TXBUFF[12]=*(((char*)(&bps[2]._Ii))+1);
;;;846    	TXBUFF[13]=bps[2]._Ti;
;;;847    	
;;;848        	paking(&TXBUFF[6],8);
;;;849        
;;;850        	TXBUFF[16]=CRC1_out();
;;;851    	TXBUFF[17]=CRC2_out();
;;;852    	TX_len=18;
;;;853    
;;;854    	can2_out_adr(TXBUFF,18);  
;;;855    	}	
;;;856    
;;;857    	//  4 
;;;858    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xc0)==0x40)&&
000f48  f1bc0f30          CMP      r12,#0x30
000f4c  d058              BEQ      |L1.4096|
000f4e  e065              B        |L1.4124|
                  |L1.3920|
000f50  7027              STRB     r7,[r4,#0]            ;827
000f52  f884a001          STRB     r10,[r4,#1]           ;828
000f56  f7fffffe          BL       can_adr_hndl
000f5a  f04f00b2          MOV      r0,#0xb2              ;830
000f5e  71a0              STRB     r0,[r4,#6]            ;830
000f60  f04f0003          MOV      r0,#3                 ;831
000f64  71e0              STRB     r0,[r4,#7]            ;831
000f66  4846              LDR      r0,|L1.4224|
000f68  f9b00000          LDRSH    r0,[r0,#0]            ;834  ; NUMIST
000f6c  2803              CMP      r0,#3                 ;834
000f6e  da03              BGE      |L1.3960|
000f70  f04f00ff          MOV      r0,#0xff              ;834
000f74  7220              STRB     r0,[r4,#8]            ;834
000f76  e025              B        |L1.4036|
                  |L1.3960|
000f78  4842              LDR      r0,|L1.4228|
000f7a  f89010aa          LDRB     r1,[r0,#0xaa]         ;835  ; bps
000f7e  2901              CMP      r1,#1                 ;835
000f80  d007              BEQ      |L1.3986|
000f82  f89000a9          LDRB     r0,[r0,#0xa9]         ;836  ; bps
000f86  0701              LSLS     r1,r0,#28             ;836
000f88  d507              BPL      |L1.3994|
000f8a  f04f00f4          MOV      r0,#0xf4              ;836
000f8e  7220              STRB     r0,[r4,#8]            ;836
000f90  e018              B        |L1.4036|
                  |L1.3986|
000f92  f04f00f1          MOV      r0,#0xf1              ;835
000f96  7220              STRB     r0,[r4,#8]            ;835
000f98  e014              B        |L1.4036|
                  |L1.3994|
000f9a  07c1              LSLS     r1,r0,#31             ;837
000f9c  d003              BEQ      |L1.4006|
000f9e  f04f00f5          MOV      r0,#0xf5              ;837
000fa2  7220              STRB     r0,[r4,#8]            ;837
000fa4  e00e              B        |L1.4036|
                  |L1.4006|
000fa6  0781              LSLS     r1,r0,#30             ;838
000fa8  d503              BPL      |L1.4018|
000faa  f04f00f5          MOV      r0,#0xf5              ;838
000fae  7220              STRB     r0,[r4,#8]            ;838
000fb0  e008              B        |L1.4036|
                  |L1.4018|
000fb2  0740              LSLS     r0,r0,#29             ;839
000fb4  d503              BPL      |L1.4030|
000fb6  f04f00f7          MOV      r0,#0xf7              ;839
000fba  7220              STRB     r0,[r4,#8]            ;839
000fbc  e002              B        |L1.4036|
                  |L1.4030|
000fbe  f04f00f0          MOV      r0,#0xf0              ;840
000fc2  7220              STRB     r0,[r4,#8]            ;840
                  |L1.4036|
000fc4  482f              LDR      r0,|L1.4228|
000fc6  30c4              ADDS     r0,r0,#0xc4           ;842
000fc8  7801              LDRB     r1,[r0,#0]            ;842  ; bps
000fca  7261              STRB     r1,[r4,#9]            ;842
000fcc  7841              LDRB     r1,[r0,#1]            ;843  ; bps
000fce  72a1              STRB     r1,[r4,#0xa]          ;843
000fd0  7a01              LDRB     r1,[r0,#8]            ;844  ; bps
000fd2  72e1              STRB     r1,[r4,#0xb]          ;844
000fd4  7a41              LDRB     r1,[r0,#9]            ;845  ; bps
000fd6  7321              STRB     r1,[r4,#0xc]          ;845
000fd8  68c0              LDR      r0,[r0,#0xc]          ;846  ; bps
000fda  7360              STRB     r0,[r4,#0xd]          ;846
000fdc  2108              MOVS     r1,#8                 ;848
000fde  1da0              ADDS     r0,r4,#6              ;848
000fe0  f7fffffe          BL       paking
000fe4  f7fffffe          BL       CRC1_out
000fe8  7420              STRB     r0,[r4,#0x10]         ;850
000fea  f7fffffe          BL       CRC2_out
000fee  7460              STRB     r0,[r4,#0x11]         ;851
000ff0  f04f0012          MOV      r0,#0x12              ;852
000ff4  72a8              STRB     r0,[r5,#0xa]          ;852
000ff6  4601              MOV      r1,r0                 ;854
000ff8  481b              LDR      r0,|L1.4200|
000ffa  f7fffffe          BL       can2_out_adr
000ffe  e17b              B        |L1.4856|
                  |L1.4096|
001000  ebb91f90          CMP      r9,r0,LSR #6
001004  d10a              BNE      |L1.4124|
;;;859    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0xB2)&&(RXBUFF[7]==0x04))
001006  ebb81f11          CMP      r8,r1,LSR #4
00100a  d107              BNE      |L1.4124|
00100c  ebb61f12          CMP      r6,r2,LSR #4
001010  d104              BNE      |L1.4124|
001012  2bb2              CMP      r3,#0xb2
001014  d102              BNE      |L1.4124|
001016  f1bb0f04          CMP      r11,#4
00101a  d003              BEQ      |L1.4132|
                  |L1.4124|
;;;860    	{ 
;;;861        //	plazma++;
;;;862    
;;;863        TXBUFF[0]=0x30;
;;;864    	TXBUFF[1]=(RXBUFF[1]&0xa0)+11;
;;;865    	can_adr_hndl();
;;;866    	TXBUFF[6]=0xB2;
;;;867    	TXBUFF[7]=4;
;;;868    		
;;;869    	
;;;870    	if(NUMIST<4)TXBUFF[8]=0xff;	
;;;871    	else if(bps[3]._state==bsWRK)TXBUFF[8]=0xf1; 
;;;872    	else if(bps[3]._av&(1<<3))TXBUFF[8]=0xf4;
;;;873    	else if(bps[3]._av&(1<<0))TXBUFF[8]=0xf5;
;;;874    	else if(bps[3]._av&(1<<1))TXBUFF[8]=0xf5;
;;;875    	else if(bps[3]._av&(1<<2))TXBUFF[8]=0xf7;
;;;876    	else TXBUFF[8]=0xf0;
;;;877    
;;;878    	TXBUFF[9]=*((char*)(&bps[3]._Uii));
;;;879    	TXBUFF[10]=*(((char*)(&bps[3]._Uii))+1);
;;;880    	TXBUFF[11]=*((char*)(&bps[3]._Ii));
;;;881    	TXBUFF[12]=*(((char*)(&bps[3]._Ii))+1);
;;;882    	TXBUFF[13]=bps[3]._Ti;
;;;883    	
;;;884        	paking(&TXBUFF[6],8);
;;;885        
;;;886        	TXBUFF[16]=CRC1_out();
;;;887    	TXBUFF[17]=CRC2_out();
;;;888    	TX_len=18;
;;;889    
;;;890    	can2_out_adr(TXBUFF,18);  
;;;891    	}
;;;892    
;;;893    //    
;;;894    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
00101c  f1bc0f30          CMP      r12,#0x30
001020  d068              BEQ      |L1.4340|
001022  e095              B        |L1.4432|
                  |L1.4132|
001024  7027              STRB     r7,[r4,#0]            ;863
001026  f884a001          STRB     r10,[r4,#1]           ;864
00102a  f7fffffe          BL       can_adr_hndl
00102e  f04f00b2          MOV      r0,#0xb2              ;866
001032  71a0              STRB     r0,[r4,#6]            ;866
001034  f04f0004          MOV      r0,#4                 ;867
001038  71e0              STRB     r0,[r4,#7]            ;867
00103a  4811              LDR      r0,|L1.4224|
00103c  f9b00000          LDRSH    r0,[r0,#0]            ;870  ; NUMIST
001040  2804              CMP      r0,#4                 ;870
001042  da03              BGE      |L1.4172|
001044  f04f00ff          MOV      r0,#0xff              ;870
001048  7220              STRB     r0,[r4,#8]            ;870
00104a  e036              B        |L1.4282|
                  |L1.4172|
00104c  480d              LDR      r0,|L1.4228|
00104e  f89010fe          LDRB     r1,[r0,#0xfe]         ;871  ; bps
001052  2901              CMP      r1,#1                 ;871
001054  d018              BEQ      |L1.4232|
001056  f89000fd          LDRB     r0,[r0,#0xfd]         ;872  ; bps
00105a  0701              LSLS     r1,r0,#28             ;872
00105c  d518              BPL      |L1.4240|
00105e  f04f00f4          MOV      r0,#0xf4              ;872
001062  7220              STRB     r0,[r4,#8]            ;872
001064  e029              B        |L1.4282|
001066  0000              DCW      0x0000
                  |L1.4200|
                          DCD      ||.bss||+0x14c
                  |L1.4204|
                          DCD      BAT_IS_ON
                  |L1.4208|
                          DCD      bat
                  |L1.4212|
                          DCD      spc_stat
                  |L1.4216|
                          DCD      BAT_C_REAL
                  |L1.4220|
                          DCD      BAT_C_NOM
                  |L1.4224|
                          DCD      NUMIST
                  |L1.4228|
                          DCD      bps
                  |L1.4232|
001088  f04f00f1          MOV      r0,#0xf1              ;871
00108c  7220              STRB     r0,[r4,#8]            ;871
00108e  e014              B        |L1.4282|
                  |L1.4240|
001090  07c1              LSLS     r1,r0,#31             ;873
001092  d003              BEQ      |L1.4252|
001094  f04f00f5          MOV      r0,#0xf5              ;873
001098  7220              STRB     r0,[r4,#8]            ;873
00109a  e00e              B        |L1.4282|
                  |L1.4252|
00109c  0781              LSLS     r1,r0,#30             ;874
00109e  d503              BPL      |L1.4264|
0010a0  f04f00f5          MOV      r0,#0xf5              ;874
0010a4  7220              STRB     r0,[r4,#8]            ;874
0010a6  e008              B        |L1.4282|
                  |L1.4264|
0010a8  0740              LSLS     r0,r0,#29             ;875
0010aa  d503              BPL      |L1.4276|
0010ac  f04f00f7          MOV      r0,#0xf7              ;875
0010b0  7220              STRB     r0,[r4,#8]            ;875
0010b2  e002              B        |L1.4282|
                  |L1.4276|
0010b4  f04f00f0          MOV      r0,#0xf0              ;876
0010b8  7220              STRB     r0,[r4,#8]            ;876
                  |L1.4282|
0010ba  48f8              LDR      r0,|L1.5276|
0010bc  7801              LDRB     r1,[r0,#0]            ;878  ; bps
0010be  7261              STRB     r1,[r4,#9]            ;878
0010c0  7841              LDRB     r1,[r0,#1]            ;879  ; bps
0010c2  72a1              STRB     r1,[r4,#0xa]          ;879
0010c4  7a01              LDRB     r1,[r0,#8]            ;880  ; bps
0010c6  72e1              STRB     r1,[r4,#0xb]          ;880
0010c8  7a41              LDRB     r1,[r0,#9]            ;881  ; bps
0010ca  7321              STRB     r1,[r4,#0xc]          ;881
0010cc  68c0              LDR      r0,[r0,#0xc]          ;882  ; bps
0010ce  7360              STRB     r0,[r4,#0xd]          ;882
0010d0  2108              MOVS     r1,#8                 ;884
0010d2  1da0              ADDS     r0,r4,#6              ;884
0010d4  f7fffffe          BL       paking
0010d8  f7fffffe          BL       CRC1_out
0010dc  7420              STRB     r0,[r4,#0x10]         ;886
0010de  f7fffffe          BL       CRC2_out
0010e2  7460              STRB     r0,[r4,#0x11]         ;887
0010e4  f04f0012          MOV      r0,#0x12              ;888
0010e8  72a8              STRB     r0,[r5,#0xa]          ;888
0010ea  4601              MOV      r1,r0                 ;890
0010ec  48ec              LDR      r0,|L1.5280|
0010ee  f7fffffe          BL       can2_out_adr
0010f2  e101              B        |L1.4856|
                  |L1.4340|
0010f4  f04f0a03          MOV      r10,#3
0010f8  ebba1f50          CMP      r10,r0,LSR #5
0010fc  d128              BNE      |L1.4432|
;;;895    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x03)
0010fe  ebb81f11          CMP      r8,r1,LSR #4
001102  d125              BNE      |L1.4432|
001104  ebb61f12          CMP      r6,r2,LSR #4
001108  d122              BNE      |L1.4432|
00110a  2b03              CMP      r3,#3
00110c  d120              BNE      |L1.4432|
;;;896    	&&((RXBUFF[7])&&(RXBUFF[7]<25)))
00110e  f1bb0f00          CMP      r11,#0
001112  d01d              BEQ      |L1.4432|
001114  f1bb0f19          CMP      r11,#0x19
001118  d21a              BCS      |L1.4432|
;;;897     	  
;;;898    	{ 
;;;899         char temp;      		
;;;900    
;;;901    	temp=vz_start(RXBUFF[7]);
00111a  4658              MOV      r0,r11
00111c  f7fffffe          BL       vz_start
;;;902    
;;;903         TXBUFF[0]=0x30;
001120  7027              STRB     r7,[r4,#0]
;;;904    	TXBUFF[1]=0x20+3;
001122  f04f0023          MOV      r0,#0x23
001126  7060              STRB     r0,[r4,#1]
;;;905    	can_adr_hndl();
001128  f7fffffe          BL       can_adr_hndl
;;;906    	TXBUFF[6]=0x03;
00112c  f884a006          STRB     r10,[r4,#6]
;;;907    	TXBUFF[7]=0x01;
001130  f8849007          STRB     r9,[r4,#7]
;;;908    	TXBUFF[8]=CRC1_out();
001134  f7fffffe          BL       CRC1_out
001138  7220              STRB     r0,[r4,#8]
;;;909    	TXBUFF[9]=CRC2_out();
00113a  f7fffffe          BL       CRC2_out
00113e  7260              STRB     r0,[r4,#9]
;;;910    	TX_len=10;
001140  f04f000a          MOV      r0,#0xa
001144  72a8              STRB     r0,[r5,#0xa]
;;;911    	can2_out_adr(TXBUFF,10);
001146  4601              MOV      r1,r0
001148  48d5              LDR      r0,|L1.5280|
00114a  f7fffffe          BL       can2_out_adr
;;;912    	}
00114e  e0d3              B        |L1.4856|
                  |L1.4432|
001150  f8dfa350          LDR      r10,|L1.5284|
;;;913    
;;;914    //   
;;;915    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
001154  f1bc0f30          CMP      r12,#0x30
001158  f89aa000          LDRB     r10,[r10,#0]          ;678
00115c  d10c              BNE      |L1.4472|
00115e  f04f0e03          MOV      lr,#3
001162  ebbe1f50          CMP      lr,r0,LSR #5
001166  d107              BNE      |L1.4472|
;;;916    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x08))
001168  ebb81f11          CMP      r8,r1,LSR #4
00116c  d104              BNE      |L1.4472|
00116e  ebb61f12          CMP      r6,r2,LSR #4
001172  d101              BNE      |L1.4472|
001174  2b08              CMP      r3,#8
001176  d003              BEQ      |L1.4480|
                  |L1.4472|
;;;917     	  
;;;918    	{ 
;;;919    	if(spc_stat==spcVZ) spc_stat=spcOFF;
;;;920    
;;;921         TXBUFF[0]=0x30;
;;;922    	TXBUFF[1]=0x20+2;
;;;923    	can_adr_hndl();
;;;924    	TXBUFF[6]=0x08;
;;;925    	TXBUFF[7]=CRC1_out();
;;;926    	TXBUFF[8]=CRC2_out();
;;;927    	TX_len=9;
;;;928    	can2_out_adr(TXBUFF,9);
;;;929    	}
;;;930    
;;;931    
;;;932    //    1
;;;933    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
001178  f1bc0f30          CMP      r12,#0x30
00117c  d01e              BEQ      |L1.4540|
00117e  e02d              B        |L1.4572|
                  |L1.4480|
001180  48c8              LDR      r0,|L1.5284|
001182  f1ba0f02          CMP      r10,#2                ;919
001186  d102              BNE      |L1.4494|
001188  f04f0100          MOV      r1,#0                 ;919
00118c  7001              STRB     r1,[r0,#0]            ;919
                  |L1.4494|
00118e  7027              STRB     r7,[r4,#0]            ;921
001190  f04f0022          MOV      r0,#0x22              ;922
001194  7060              STRB     r0,[r4,#1]            ;922
001196  f7fffffe          BL       can_adr_hndl
00119a  f04f0008          MOV      r0,#8                 ;924
00119e  71a0              STRB     r0,[r4,#6]            ;924
0011a0  f7fffffe          BL       CRC1_out
0011a4  71e0              STRB     r0,[r4,#7]            ;925
0011a6  f7fffffe          BL       CRC2_out
0011aa  7220              STRB     r0,[r4,#8]            ;926
0011ac  f04f0009          MOV      r0,#9                 ;927
0011b0  72a8              STRB     r0,[r5,#0xa]          ;927
0011b2  4601              MOV      r1,r0                 ;928
0011b4  48ba              LDR      r0,|L1.5280|
0011b6  f7fffffe          BL       can2_out_adr
0011ba  e09d              B        |L1.4856|
                  |L1.4540|
0011bc  f04f0e03          MOV      lr,#3
0011c0  ebbe1f50          CMP      lr,r0,LSR #5
0011c4  d10a              BNE      |L1.4572|
;;;934    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x04)
0011c6  ebb81f11          CMP      r8,r1,LSR #4
0011ca  d107              BNE      |L1.4572|
0011cc  ebb61f12          CMP      r6,r2,LSR #4
0011d0  d104              BNE      |L1.4572|
0011d2  2b04              CMP      r3,#4
0011d4  d102              BNE      |L1.4572|
;;;935    	&&(RXBUFF[7]==0x01))
0011d6  f1bb0f01          CMP      r11,#1
0011da  d003              BEQ      |L1.4580|
                  |L1.4572|
;;;936    	  
;;;937    	{
;;;938    	ke_start(0);
;;;939    
;;;940    	if(ke_start_stat==kssYES)TXBUFF[7]=0xff;
;;;941    	else TXBUFF[7]=0x01;
;;;942    
;;;943         TXBUFF[0]=0x30;
;;;944    	TXBUFF[1]=0x20+3;
;;;945    	can_adr_hndl();
;;;946    	TXBUFF[6]=0x04;
;;;947    	TXBUFF[7]=0x01;
;;;948    	TXBUFF[8]=CRC1_out();
;;;949    	TXBUFF[9]=CRC2_out();
;;;950    	TX_len=10;
;;;951    	can2_out_adr(TXBUFF,10);
;;;952    	} 
;;;953    	
;;;954    //    2
;;;955    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
0011dc  f1bc0f30          CMP      r12,#0x30
0011e0  d026              BEQ      |L1.4656|
0011e2  e035              B        |L1.4688|
                  |L1.4580|
0011e4  2000              MOVS     r0,#0                 ;938
0011e6  f7fffffe          BL       ke_start
0011ea  48af              LDR      r0,|L1.5288|
0011ec  7800              LDRB     r0,[r0,#0]            ;940  ; ke_start_stat
0011ee  2864              CMP      r0,#0x64              ;940
0011f0  d01a              BEQ      |L1.4648|
0011f2  f8849007          STRB     r9,[r4,#7]            ;941
                  |L1.4598|
0011f6  7027              STRB     r7,[r4,#0]            ;943
0011f8  f04f0023          MOV      r0,#0x23              ;944
0011fc  7060              STRB     r0,[r4,#1]            ;944
0011fe  f7fffffe          BL       can_adr_hndl
001202  f04f0004          MOV      r0,#4                 ;946
001206  71a0              STRB     r0,[r4,#6]            ;946
001208  f8849007          STRB     r9,[r4,#7]            ;947
00120c  f7fffffe          BL       CRC1_out
001210  7220              STRB     r0,[r4,#8]            ;948
001212  f7fffffe          BL       CRC2_out
001216  7260              STRB     r0,[r4,#9]            ;949
001218  f04f000a          MOV      r0,#0xa               ;950
00121c  72a8              STRB     r0,[r5,#0xa]          ;950
00121e  4601              MOV      r1,r0                 ;951
001220  489f              LDR      r0,|L1.5280|
001222  f7fffffe          BL       can2_out_adr
001226  e067              B        |L1.4856|
                  |L1.4648|
001228  f04f00ff          MOV      r0,#0xff              ;940
00122c  71e0              STRB     r0,[r4,#7]            ;940
00122e  e7e2              B        |L1.4598|
                  |L1.4656|
001230  f04f0e03          MOV      lr,#3
001234  ebbe1f50          CMP      lr,r0,LSR #5
001238  d10a              BNE      |L1.4688|
;;;956    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x04)
00123a  ebb81f11          CMP      r8,r1,LSR #4
00123e  d107              BNE      |L1.4688|
001240  ebb61f12          CMP      r6,r2,LSR #4
001244  d104              BNE      |L1.4688|
001246  2b04              CMP      r3,#4
001248  d102              BNE      |L1.4688|
;;;957    	&&(RXBUFF[7]==0x02))
00124a  f1bb0f02          CMP      r11,#2
00124e  d003              BEQ      |L1.4696|
                  |L1.4688|
;;;958    	  
;;;959    	{
;;;960    	ke_start(1);
;;;961    
;;;962    	if(ke_start_stat==kssYES)TXBUFF[7]=0xff;
;;;963    	else TXBUFF[7]=0x01;
;;;964    
;;;965         TXBUFF[0]=0x30;
;;;966    	TXBUFF[1]=0x20+3;
;;;967    	can_adr_hndl();
;;;968    	TXBUFF[6]=0x04;
;;;969    	TXBUFF[7]=0x02;
;;;970    	TXBUFF[8]=CRC1_out();
;;;971    	TXBUFF[9]=CRC2_out();
;;;972    	TX_len=10;
;;;973    	can2_out_adr(TXBUFF,10);
;;;974    	}	
;;;975    	
;;;976    	//    
;;;977    else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
001250  f1bc0f30          CMP      r12,#0x30
001254  d026              BEQ      |L1.4772|
001256  e04f              B        |L1.4856|
                  |L1.4696|
001258  2001              MOVS     r0,#1                 ;960
00125a  f7fffffe          BL       ke_start
00125e  4892              LDR      r0,|L1.5288|
001260  7800              LDRB     r0,[r0,#0]            ;962  ; ke_start_stat
001262  2864              CMP      r0,#0x64              ;962
001264  d01a              BEQ      |L1.4764|
001266  f8849007          STRB     r9,[r4,#7]            ;963
                  |L1.4714|
00126a  7027              STRB     r7,[r4,#0]            ;965
00126c  f04f0023          MOV      r0,#0x23              ;966
001270  7060              STRB     r0,[r4,#1]            ;966
001272  f7fffffe          BL       can_adr_hndl
001276  f04f0004          MOV      r0,#4                 ;968
00127a  71a0              STRB     r0,[r4,#6]            ;968
00127c  71e6              STRB     r6,[r4,#7]            ;969
00127e  f7fffffe          BL       CRC1_out
001282  7220              STRB     r0,[r4,#8]            ;970
001284  f7fffffe          BL       CRC2_out
001288  7260              STRB     r0,[r4,#9]            ;971
00128a  f04f000a          MOV      r0,#0xa               ;972
00128e  72a8              STRB     r0,[r5,#0xa]          ;972
001290  4601              MOV      r1,r0                 ;973
001292  4883              LDR      r0,|L1.5280|
001294  f7fffffe          BL       can2_out_adr
001298  e02e              B        |L1.4856|
                  |L1.4762|
00129a  e19a              B        |L1.5586|
                  |L1.4764|
00129c  f04f00ff          MOV      r0,#0xff              ;962
0012a0  71e0              STRB     r0,[r4,#7]            ;962
0012a2  e7e2              B        |L1.4714|
                  |L1.4772|
0012a4  f04f0c03          MOV      r12,#3
0012a8  ebbc1f50          CMP      r12,r0,LSR #5
0012ac  d124              BNE      |L1.4856|
;;;978    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x07))
0012ae  ebb81f11          CMP      r8,r1,LSR #4
0012b2  d121              BNE      |L1.4856|
0012b4  ebb61f12          CMP      r6,r2,LSR #4
0012b8  d11e              BNE      |L1.4856|
0012ba  2b07              CMP      r3,#7
0012bc  d11c              BNE      |L1.4856|
;;;979    	  
;;;980    	{
;;;981       	
;;;982    	if(spc_stat==spcKE)spc_stat=spcOFF;
0012be  4879              LDR      r0,|L1.5284|
0012c0  f1ba0f01          CMP      r10,#1
0012c4  d102              BNE      |L1.4812|
0012c6  f04f0100          MOV      r1,#0
0012ca  7001              STRB     r1,[r0,#0]
                  |L1.4812|
;;;983    	
;;;984         TXBUFF[0]=0x30;
0012cc  7027              STRB     r7,[r4,#0]
;;;985    	TXBUFF[1]=0x20+2;
0012ce  f04f0022          MOV      r0,#0x22
0012d2  7060              STRB     r0,[r4,#1]
;;;986    	can_adr_hndl();
0012d4  f7fffffe          BL       can_adr_hndl
;;;987    	TXBUFF[6]=0x07;
0012d8  f04f0007          MOV      r0,#7
0012dc  71a0              STRB     r0,[r4,#6]
;;;988    	TXBUFF[7]=CRC1_out();
0012de  f7fffffe          BL       CRC1_out
0012e2  71e0              STRB     r0,[r4,#7]
;;;989    	TXBUFF[8]=CRC2_out();
0012e4  f7fffffe          BL       CRC2_out
0012e8  7220              STRB     r0,[r4,#8]
;;;990    	TX_len=9;
0012ea  f04f0009          MOV      r0,#9
0012ee  72a8              STRB     r0,[r5,#0xa]
;;;991    	can2_out_adr(TXBUFF,9);
0012f0  4601              MOV      r1,r0
0012f2  486b              LDR      r0,|L1.5280|
0012f4  f7fffffe          BL       can2_out_adr
                  |L1.4856|
;;;992    	}
;;;993    
;;;994    
;;;995    
;;;996    // 1 - 
;;;997    if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
0012f8  4a69              LDR      r2,|L1.5280|
;;;998    	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x05)
;;;999    	&&(RXBUFF[7]==0x01))
;;;1000   	  
;;;1001   	{
;;;1002   	bps[0]._ist_blok_host_cnt=3000;
0012fa  f64031b8          MOV      r1,#0xbb8
0012fe  3a28              SUBS     r2,r2,#0x28           ;997
001300  7810              LDRB     r0,[r2,#0]            ;997  ; RXBUFF
001302  2830              CMP      r0,#0x30              ;997
001304  d113              BNE      |L1.4910|
001306  f892c001          LDRB     r12,[r2,#1]           ;997  ; RXBUFF
00130a  2303              MOVS     r3,#3                 ;997
00130c  ebb31f5c          CMP      r3,r12,LSR #5         ;997
001310  d10d              BNE      |L1.4910|
001312  7913              LDRB     r3,[r2,#4]            ;998  ; RXBUFF
001314  ebb81f13          CMP      r8,r3,LSR #4          ;998
001318  d109              BNE      |L1.4910|
00131a  7953              LDRB     r3,[r2,#5]            ;998  ; RXBUFF
00131c  ebb61f13          CMP      r6,r3,LSR #4          ;998
001320  d105              BNE      |L1.4910|
001322  7993              LDRB     r3,[r2,#6]            ;998  ; RXBUFF
001324  2b05              CMP      r3,#5                 ;998
001326  d102              BNE      |L1.4910|
001328  79d3              LDRB     r3,[r2,#7]            ;999  ; RXBUFF
00132a  2b01              CMP      r3,#1                 ;999
00132c  d002              BEQ      |L1.4916|
                  |L1.4910|
;;;1003        TXBUFF[0]=0x30;
;;;1004   	TXBUFF[1]=0x20+3;
;;;1005   	can_adr_hndl();
;;;1006   	TXBUFF[6]=0x05;
;;;1007   	TXBUFF[7]=0x01;
;;;1008   	TXBUFF[8]=CRC1_out();
;;;1009   	TXBUFF[9]=CRC2_out();
;;;1010   	TX_len=10;
;;;1011   	can2_out_adr(TXBUFF,10);
;;;1012   
;;;1013   	}
;;;1014   
;;;1015   // 2 - 
;;;1016   else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
00132e  2830              CMP      r0,#0x30
001330  d01b              BEQ      |L1.4970|
001332  e02e              B        |L1.5010|
                  |L1.4916|
001334  485d              LDR      r0,|L1.5292|
001336  63c1              STR      r1,[r0,#0x3c]         ;1002  ; bps
001338  7027              STRB     r7,[r4,#0]            ;1003
00133a  f04f0023          MOV      r0,#0x23              ;1004
00133e  7060              STRB     r0,[r4,#1]            ;1004
001340  f7fffffe          BL       can_adr_hndl
001344  f04f0005          MOV      r0,#5                 ;1006
001348  71a0              STRB     r0,[r4,#6]            ;1006
00134a  f8849007          STRB     r9,[r4,#7]            ;1007
00134e  f7fffffe          BL       CRC1_out
001352  7220              STRB     r0,[r4,#8]            ;1008
001354  f7fffffe          BL       CRC2_out
001358  7260              STRB     r0,[r4,#9]            ;1009
00135a  f04f000a          MOV      r0,#0xa               ;1010
00135e  72a8              STRB     r0,[r5,#0xa]          ;1010
001360  4601              MOV      r1,r0                 ;1011
001362  484f              LDR      r0,|L1.5280|
001364  f7fffffe          BL       can2_out_adr
001368  e133              B        |L1.5586|
                  |L1.4970|
00136a  f892c001          LDRB     r12,[r2,#1]  ; RXBUFF
00136e  2303              MOVS     r3,#3
001370  ebb31f5c          CMP      r3,r12,LSR #5
001374  d10d              BNE      |L1.5010|
;;;1017   	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x05)
001376  7913              LDRB     r3,[r2,#4]  ; RXBUFF
001378  ebb81f13          CMP      r8,r3,LSR #4
00137c  d109              BNE      |L1.5010|
00137e  7953              LDRB     r3,[r2,#5]  ; RXBUFF
001380  ebb61f13          CMP      r6,r3,LSR #4
001384  d105              BNE      |L1.5010|
001386  7993              LDRB     r3,[r2,#6]  ; RXBUFF
001388  2b05              CMP      r3,#5
00138a  d102              BNE      |L1.5010|
;;;1018   	&&(RXBUFF[7]==0x02))
00138c  79d3              LDRB     r3,[r2,#7]  ; RXBUFF
00138e  2b02              CMP      r3,#2
001390  d002              BEQ      |L1.5016|
                  |L1.5010|
;;;1019   	  
;;;1020   	{                  
;;;1021   	bps[1]._ist_blok_host_cnt=3000;
;;;1022        TXBUFF[0]=0x30;
;;;1023   	TXBUFF[1]=0x20+3;
;;;1024    	can_adr_hndl();
;;;1025   	TXBUFF[6]=0x05;
;;;1026   	TXBUFF[7]=0x02;
;;;1027   	TXBUFF[8]=CRC1_out();
;;;1028   	TXBUFF[9]=CRC2_out();
;;;1029   	TX_len=10;     
;;;1030   
;;;1031   	can2_out_adr(TXBUFF,10);
;;;1032   
;;;1033   	}
;;;1034   
;;;1035   // 3 - 
;;;1036   else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
001392  2830              CMP      r0,#0x30
001394  d01b              BEQ      |L1.5070|
001396  e02e              B        |L1.5110|
                  |L1.5016|
001398  4844              LDR      r0,|L1.5292|
00139a  f8c01090          STR      r1,[r0,#0x90]         ;1021  ; bps
00139e  7027              STRB     r7,[r4,#0]            ;1022
0013a0  f04f0023          MOV      r0,#0x23              ;1023
0013a4  7060              STRB     r0,[r4,#1]            ;1023
0013a6  f7fffffe          BL       can_adr_hndl
0013aa  f04f0005          MOV      r0,#5                 ;1025
0013ae  71a0              STRB     r0,[r4,#6]            ;1025
0013b0  71e6              STRB     r6,[r4,#7]            ;1026
0013b2  f7fffffe          BL       CRC1_out
0013b6  7220              STRB     r0,[r4,#8]            ;1027
0013b8  f7fffffe          BL       CRC2_out
0013bc  7260              STRB     r0,[r4,#9]            ;1028
0013be  f04f000a          MOV      r0,#0xa               ;1029
0013c2  72a8              STRB     r0,[r5,#0xa]          ;1029
0013c4  4601              MOV      r1,r0                 ;1031
0013c6  4836              LDR      r0,|L1.5280|
0013c8  f7fffffe          BL       can2_out_adr
0013cc  e101              B        |L1.5586|
                  |L1.5070|
0013ce  7853              LDRB     r3,[r2,#1]  ; RXBUFF
0013d0  f04f0a03          MOV      r10,#3
0013d4  ebba1f53          CMP      r10,r3,LSR #5
0013d8  d10d              BNE      |L1.5110|
;;;1037   	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x05)
0013da  7913              LDRB     r3,[r2,#4]  ; RXBUFF
0013dc  ebb81f13          CMP      r8,r3,LSR #4
0013e0  d109              BNE      |L1.5110|
0013e2  7953              LDRB     r3,[r2,#5]  ; RXBUFF
0013e4  ebb61f13          CMP      r6,r3,LSR #4
0013e8  d105              BNE      |L1.5110|
0013ea  7993              LDRB     r3,[r2,#6]  ; RXBUFF
0013ec  2b05              CMP      r3,#5
0013ee  d102              BNE      |L1.5110|
;;;1038   	&&(RXBUFF[7]==0x03))
0013f0  79d3              LDRB     r3,[r2,#7]  ; RXBUFF
0013f2  2b03              CMP      r3,#3
0013f4  d002              BEQ      |L1.5116|
                  |L1.5110|
;;;1039   	  
;;;1040   	{                  
;;;1041   	bps[2]._ist_blok_host_cnt=3000;
;;;1042        TXBUFF[0]=0x30;
;;;1043   	TXBUFF[1]=0x20+3;
;;;1044    	can_adr_hndl();
;;;1045   	TXBUFF[6]=0x05;
;;;1046   	TXBUFF[7]=0x03;
;;;1047   	TXBUFF[8]=CRC1_out();
;;;1048   	TXBUFF[9]=CRC2_out();
;;;1049   	TX_len=10;     
;;;1050   
;;;1051   	can2_out_adr(TXBUFF,10);
;;;1052   
;;;1053   	}
;;;1054   
;;;1055   
;;;1056   // 4 - 
;;;1057   else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
0013f6  2830              CMP      r0,#0x30
0013f8  d01c              BEQ      |L1.5172|
0013fa  e02f              B        |L1.5212|
                  |L1.5116|
0013fc  482b              LDR      r0,|L1.5292|
0013fe  f8c010e4          STR      r1,[r0,#0xe4]         ;1041  ; bps
001402  7027              STRB     r7,[r4,#0]            ;1042
001404  f04f0023          MOV      r0,#0x23              ;1043
001408  7060              STRB     r0,[r4,#1]            ;1043
00140a  f7fffffe          BL       can_adr_hndl
00140e  f04f0005          MOV      r0,#5                 ;1045
001412  71a0              STRB     r0,[r4,#6]            ;1045
001414  f884a007          STRB     r10,[r4,#7]           ;1046
001418  f7fffffe          BL       CRC1_out
00141c  7220              STRB     r0,[r4,#8]            ;1047
00141e  f7fffffe          BL       CRC2_out
001422  7260              STRB     r0,[r4,#9]            ;1048
001424  f04f000a          MOV      r0,#0xa               ;1049
001428  72a8              STRB     r0,[r5,#0xa]          ;1049
00142a  4601              MOV      r1,r0                 ;1051
00142c  481c              LDR      r0,|L1.5280|
00142e  f7fffffe          BL       can2_out_adr
001432  e0ce              B        |L1.5586|
                  |L1.5172|
001434  7853              LDRB     r3,[r2,#1]  ; RXBUFF
001436  f04f0a03          MOV      r10,#3
00143a  ebba1f53          CMP      r10,r3,LSR #5
00143e  d10d              BNE      |L1.5212|
;;;1058   	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x05)
001440  7913              LDRB     r3,[r2,#4]  ; RXBUFF
001442  ebb81f13          CMP      r8,r3,LSR #4
001446  d109              BNE      |L1.5212|
001448  7953              LDRB     r3,[r2,#5]  ; RXBUFF
00144a  ebb61f13          CMP      r6,r3,LSR #4
00144e  d105              BNE      |L1.5212|
001450  7993              LDRB     r3,[r2,#6]  ; RXBUFF
001452  2b05              CMP      r3,#5
001454  d102              BNE      |L1.5212|
;;;1059   	&&(RXBUFF[7]==0x04))
001456  79d3              LDRB     r3,[r2,#7]  ; RXBUFF
001458  2b04              CMP      r3,#4
00145a  d002              BEQ      |L1.5218|
                  |L1.5212|
;;;1060   	  
;;;1061   	{                  
;;;1062   	bps[3]._ist_blok_host_cnt=3000;
;;;1063        TXBUFF[0]=0x30;
;;;1064   	TXBUFF[1]=0x20+3;
;;;1065    	can_adr_hndl();
;;;1066   	TXBUFF[6]=0x05;
;;;1067   	TXBUFF[7]=0x03;
;;;1068   	TXBUFF[8]=CRC1_out();
;;;1069   	TXBUFF[9]=CRC2_out();
;;;1070   	TX_len=10;     
;;;1071   
;;;1072   	can2_out_adr(TXBUFF,10);
;;;1073   
;;;1074   	}
;;;1075   
;;;1076   
;;;1077   //  
;;;1078   else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
00145c  2830              CMP      r0,#0x30
00145e  d027              BEQ      |L1.5296|
001460  e036              B        |L1.5328|
                  |L1.5218|
001462  4812              LDR      r0,|L1.5292|
001464  f8c01138          STR      r1,[r0,#0x138]        ;1062  ; bps
001468  7027              STRB     r7,[r4,#0]            ;1063
00146a  f04f0023          MOV      r0,#0x23              ;1064
00146e  7060              STRB     r0,[r4,#1]            ;1064
001470  f7fffffe          BL       can_adr_hndl
001474  f04f0005          MOV      r0,#5                 ;1066
001478  71a0              STRB     r0,[r4,#6]            ;1066
00147a  f884a007          STRB     r10,[r4,#7]           ;1067
00147e  f7fffffe          BL       CRC1_out
001482  7220              STRB     r0,[r4,#8]            ;1068
001484  f7fffffe          BL       CRC2_out
001488  7260              STRB     r0,[r4,#9]            ;1069
00148a  f04f000a          MOV      r0,#0xa               ;1070
00148e  72a8              STRB     r0,[r5,#0xa]          ;1070
001490  4601              MOV      r1,r0                 ;1072
001492  4803              LDR      r0,|L1.5280|
001494  f7fffffe          BL       can2_out_adr
001498  e09b              B        |L1.5586|
00149a  0000              DCW      0x0000
                  |L1.5276|
                          DCD      bps+0x118
                  |L1.5280|
                          DCD      ||.bss||+0x14c
                  |L1.5284|
                          DCD      spc_stat
                  |L1.5288|
                          DCD      ke_start_stat
                  |L1.5292|
                          DCD      bps
                  |L1.5296|
0014b0  7853              LDRB     r3,[r2,#1]  ; RXBUFF
0014b2  2103              MOVS     r1,#3
0014b4  ebb11f53          CMP      r1,r3,LSR #5
0014b8  d10a              BNE      |L1.5328|
;;;1079   	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x06))
0014ba  7911              LDRB     r1,[r2,#4]  ; RXBUFF
0014bc  ebb81f11          CMP      r8,r1,LSR #4
0014c0  d106              BNE      |L1.5328|
0014c2  7951              LDRB     r1,[r2,#5]  ; RXBUFF
0014c4  ebb61f11          CMP      r6,r1,LSR #4
0014c8  d102              BNE      |L1.5328|
0014ca  7991              LDRB     r1,[r2,#6]  ; RXBUFF
0014cc  2906              CMP      r1,#6
0014ce  d002              BEQ      |L1.5334|
                  |L1.5328|
;;;1080   	  
;;;1081   	{                  
;;;1082   	bps[0]._ist_blok_host_cnt=0;
;;;1083   	bps[1]._ist_blok_host_cnt=0;
;;;1084   	bps[2]._ist_blok_host_cnt=0;
;;;1085   	bps[3]._ist_blok_host_cnt=0;
;;;1086        TXBUFF[0]=0x30;
;;;1087   	TXBUFF[1]=0x20+2;
;;;1088    	can_adr_hndl();
;;;1089   	TXBUFF[6]=0x05;
;;;1090   
;;;1091   	TXBUFF[7]=CRC1_out();
;;;1092   	TXBUFF[8]=CRC2_out();
;;;1093   	TX_len=9;     
;;;1094   
;;;1095   	can2_out_adr(TXBUFF,9);
;;;1096   
;;;1097   	}
;;;1098   
;;;1099   //    
;;;1100   else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
0014d0  2830              CMP      r0,#0x30
0014d2  d021              BEQ      |L1.5400|
0014d4  e030              B        |L1.5432|
                  |L1.5334|
0014d6  49fd              LDR      r1,|L1.6348|
0014d8  f04f0000          MOV      r0,#0                 ;1082
0014dc  63c8              STR      r0,[r1,#0x3c]         ;1082  ; bps
0014de  f8c10090          STR      r0,[r1,#0x90]         ;1083  ; bps
0014e2  f8c100e4          STR      r0,[r1,#0xe4]         ;1084  ; bps
0014e6  f8c10138          STR      r0,[r1,#0x138]        ;1085  ; bps
0014ea  7027              STRB     r7,[r4,#0]            ;1086
0014ec  f04f0022          MOV      r0,#0x22              ;1087
0014f0  7060              STRB     r0,[r4,#1]            ;1087
0014f2  f7fffffe          BL       can_adr_hndl
0014f6  f04f0005          MOV      r0,#5                 ;1089
0014fa  71a0              STRB     r0,[r4,#6]            ;1089
0014fc  f7fffffe          BL       CRC1_out
001500  71e0              STRB     r0,[r4,#7]            ;1091
001502  f7fffffe          BL       CRC2_out
001506  7220              STRB     r0,[r4,#8]            ;1092
001508  f04f0009          MOV      r0,#9                 ;1093
00150c  72a8              STRB     r0,[r5,#0xa]          ;1093
00150e  4601              MOV      r1,r0                 ;1095
001510  48ef              LDR      r0,|L1.6352|
001512  f7fffffe          BL       can2_out_adr
001516  e05c              B        |L1.5586|
                  |L1.5400|
001518  7853              LDRB     r3,[r2,#1]  ; RXBUFF
00151a  2103              MOVS     r1,#3
00151c  ebb11f53          CMP      r1,r3,LSR #5
001520  d10a              BNE      |L1.5432|
;;;1101   	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x0a))
001522  7911              LDRB     r1,[r2,#4]  ; RXBUFF
001524  ebb81f11          CMP      r8,r1,LSR #4
001528  d106              BNE      |L1.5432|
00152a  7951              LDRB     r1,[r2,#5]  ; RXBUFF
00152c  ebb61f11          CMP      r6,r1,LSR #4
001530  d102              BNE      |L1.5432|
001532  7991              LDRB     r1,[r2,#6]  ; RXBUFF
001534  290a              CMP      r1,#0xa
001536  d002              BEQ      |L1.5438|
                  |L1.5432|
;;;1102   	  
;;;1103   	{                  
;;;1104   	PAR=1;
;;;1105   	lc640_write_int(EE_PAR,PAR);
;;;1106   	
;;;1107        TXBUFF[0]=0x30;
;;;1108   	TXBUFF[1]=0x20+2;
;;;1109    	can_adr_hndl();
;;;1110   	TXBUFF[6]=0x0a;
;;;1111   	TXBUFF[7]=CRC1_out();
;;;1112   	TXBUFF[8]=CRC2_out();
;;;1113   
;;;1114   	can2_out_adr(TXBUFF,9);    
;;;1115   
;;;1116   	}
;;;1117   
;;;1118   //    
;;;1119   else if((RXBUFF[0]==0x30)&&((RXBUFF[1]&0xe0)==0x60)&&
001538  2830              CMP      r0,#0x30
00153a  d01c              BEQ      |L1.5494|
00153c  e049              B        |L1.5586|
                  |L1.5438|
00153e  48e5              LDR      r0,|L1.6356|
001540  4649              MOV      r1,r9                 ;1104
001542  f8a09000          STRH     r9,[r0,#0]            ;1104
001546  f04f00ca          MOV      r0,#0xca              ;1105
00154a  f7fffffe          BL       lc640_write_int
00154e  7027              STRB     r7,[r4,#0]            ;1107
001550  f04f0022          MOV      r0,#0x22              ;1108
001554  7060              STRB     r0,[r4,#1]            ;1108
001556  f7fffffe          BL       can_adr_hndl
00155a  f04f000a          MOV      r0,#0xa               ;1110
00155e  71a0              STRB     r0,[r4,#6]            ;1110
001560  f7fffffe          BL       CRC1_out
001564  71e0              STRB     r0,[r4,#7]            ;1111
001566  f7fffffe          BL       CRC2_out
00156a  7220              STRB     r0,[r4,#8]            ;1112
00156c  2109              MOVS     r1,#9                 ;1114
00156e  48d8              LDR      r0,|L1.6352|
001570  f7fffffe          BL       can2_out_adr
001574  e02d              B        |L1.5586|
                  |L1.5494|
001576  7851              LDRB     r1,[r2,#1]  ; RXBUFF
001578  2003              MOVS     r0,#3
00157a  ebb01f51          CMP      r0,r1,LSR #5
00157e  d128              BNE      |L1.5586|
;;;1120   	((RXBUFF[4]&0xf0)==0xe0)&&((RXBUFF[5]&0xf0)==0x20)&&(RXBUFF[6]==0x0b))
001580  7910              LDRB     r0,[r2,#4]  ; RXBUFF
001582  ebb81f10          CMP      r8,r0,LSR #4
001586  d124              BNE      |L1.5586|
001588  7950              LDRB     r0,[r2,#5]  ; RXBUFF
00158a  ebb61f10          CMP      r6,r0,LSR #4
00158e  d120              BNE      |L1.5586|
001590  7990              LDRB     r0,[r2,#6]  ; RXBUFF
001592  280b              CMP      r0,#0xb
001594  d11d              BNE      |L1.5586|
;;;1121   	  
;;;1122   	{                  
;;;1123   	PAR=0;
001596  48cf              LDR      r0,|L1.6356|
001598  f04f0100          MOV      r1,#0
00159c  8001              STRH     r1,[r0,#0]
;;;1124   	lc640_write_int(EE_PAR,PAR);
00159e  f04f00ca          MOV      r0,#0xca
0015a2  f7fffffe          BL       lc640_write_int
;;;1125   	
;;;1126        TXBUFF[0]=0x30;
0015a6  7027              STRB     r7,[r4,#0]
;;;1127   	TXBUFF[1]=0x20+2;
0015a8  f04f0022          MOV      r0,#0x22
0015ac  7060              STRB     r0,[r4,#1]
;;;1128    	can_adr_hndl();
0015ae  f7fffffe          BL       can_adr_hndl
;;;1129   	TXBUFF[6]=0x0b;
0015b2  f04f000b          MOV      r0,#0xb
0015b6  71a0              STRB     r0,[r4,#6]
;;;1130   	TXBUFF[7]=CRC1_out();
0015b8  f7fffffe          BL       CRC1_out
0015bc  71e0              STRB     r0,[r4,#7]
;;;1131   	TXBUFF[8]=CRC2_out();
0015be  f7fffffe          BL       CRC2_out
0015c2  7220              STRB     r0,[r4,#8]
;;;1132   	TX_len=9;     
0015c4  f04f0009          MOV      r0,#9
0015c8  72a8              STRB     r0,[r5,#0xa]
;;;1133   
;;;1134   	can2_out_adr(TXBUFF,9);
0015ca  4601              MOV      r1,r0
0015cc  48c0              LDR      r0,|L1.6352|
0015ce  f7fffffe          BL       can2_out_adr
                  |L1.5586|
;;;1135   
;;;1136   	}
;;;1137   
;;;1138   CAN_IN_AN_end:
;;;1139   bIN=0;
0015d2  f04f0000          MOV      r0,#0
0015d6  7228              STRB     r0,[r5,#8]
;;;1140   }
0015d8  e8bd8ff8          POP      {r3-r11,pc}
;;;1141   //-----------------------------------------------
                          ENDP

                  can_in_an1 PROC
;;;1142   void can_in_an1(void)
0015dc  e92d5ff0          PUSH     {r4-r12,lr}
;;;1143   {
;;;1144   //char i;
;;;1145   //signed short temp_SS;
;;;1146   char slave_num;
;;;1147   
;;;1148   //if(!bIN2) goto CAN_IN_AN1_end; 
;;;1149   
;;;1150   //can_debug_plazma[1][2]++;
;;;1151   can_rotor[1]++;
0015e0  48bb              LDR      r0,|L1.6352|
0015e2  3028              ADDS     r0,r0,#0x28
0015e4  7841              LDRB     r1,[r0,#1]  ; can_rotor
0015e6  f1010101          ADD      r1,r1,#1
0015ea  7041              STRB     r1,[r0,#1]
;;;1152   
;;;1153   if((RXBUFF[0]==sub_ind1)&&(RXBUFF[1]==PUTID)&&(RXBUFF[2]==0xdd)&&(RXBUFF[3]==0xdd)/*&&(sub_ind==6)*/)
0015ec  49ba              LDR      r1,|L1.6360|
0015ee  f1a00b50          SUB      r11,r0,#0x50
;;;1154   	{
;;;1155   	mess_send(MESS2IND_HNDL,PARAM_U_AVT_GOOD,0,10);
;;;1156   	can_reset_cnt=0;
0015f2  4eba              LDR      r6,|L1.6364|
0015f4  f89b0000          LDRB     r0,[r11,#0]           ;1153  ; RXBUFF
0015f8  f9911002          LDRSB    r1,[r1,#2]            ;1153  ; a_ind
0015fc  f04f0400          MOV      r4,#0                 ;1155
001600  4288              CMP      r0,r1                 ;1153
001602  d112              BNE      |L1.5674|
001604  f89b0001          LDRB     r0,[r11,#1]           ;1153  ; RXBUFF
001608  2891              CMP      r0,#0x91              ;1153
00160a  d10e              BNE      |L1.5674|
00160c  f89b0002          LDRB     r0,[r11,#2]           ;1153  ; RXBUFF
001610  28dd              CMP      r0,#0xdd              ;1153
001612  d10a              BNE      |L1.5674|
001614  f89b0003          LDRB     r0,[r11,#3]           ;1153  ; RXBUFF
001618  28dd              CMP      r0,#0xdd              ;1153
00161a  d106              BNE      |L1.5674|
00161c  230a              MOVS     r3,#0xa               ;1155
00161e  2200              MOVS     r2,#0                 ;1155
001620  21d9              MOVS     r1,#0xd9              ;1155
001622  20d7              MOVS     r0,#0xd7              ;1155
001624  f7fffffe          BL       mess_send
001628  70b4              STRB     r4,[r6,#2]
                  |L1.5674|
;;;1157   	}
;;;1158   
;;;1159   
;;;1160   if((RXBUFF[1]==PUTTM1)&&((RXBUFF[0]&0x1f)>=0)&&((RXBUFF[0]&0x1f)<12))
00162a  f89b0001          LDRB     r0,[r11,#1]  ; RXBUFF
00162e  270a              MOVS     r7,#0xa               ;1155
;;;1161        {
;;;1162   	//can_debug_plazma[1][2]++;
;;;1163        slave_num=RXBUFF[0]&0x1f;
;;;1164        
;;;1165       if((RXBUFF[0]&0xe0)==0)bps[slave_num]._device=dSRC;
001630  4da6              LDR      r5,|L1.6348|
;;;1166       else if((RXBUFF[0]&0xe0)==0x40)bps[slave_num]._device=dINV;
001632  f04f0902          MOV      r9,#2
001636  f04f0a05          MOV      r10,#5
00163a  f04f0803          MOV      r8,#3                 ;1165
00163e  28da              CMP      r0,#0xda              ;1160
001640  d133              BNE      |L1.5802|
001642  f89b1000          LDRB     r1,[r11,#0]           ;1160  ; RXBUFF
001646  f001001f          AND      r0,r1,#0x1f           ;1160
00164a  280c              CMP      r0,#0xc               ;1160
00164c  d22d              BCS      |L1.5802|
00164e  094a              LSRS     r2,r1,#5              ;1165
001650  d030              BEQ      |L1.5812|
001652  ebb91f51          CMP      r9,r1,LSR #5
001656  d105              BNE      |L1.5732|
001658  ebc001c0          RSB      r1,r0,r0,LSL #3
00165c  eb010141          ADD      r1,r1,r1,LSL #1
001660  f805a021          STRB     r10,[r5,r1,LSL #2]
                  |L1.5732|
;;;1167        	
;;;1168   	bps[slave_num]._buff[0]=RXBUFF[2]; 
001664  ebc001c0          RSB      r1,r0,r0,LSL #3
001668  eb010141          ADD      r1,r1,r1,LSL #1
00166c  eb050181          ADD      r1,r5,r1,LSL #2
001670  f89b2002          LDRB     r2,[r11,#2]  ; RXBUFF
001674  718a              STRB     r2,[r1,#6]
;;;1169   	bps[slave_num]._buff[1]=RXBUFF[3];
001676  f89b2003          LDRB     r2,[r11,#3]  ; RXBUFF
00167a  71ca              STRB     r2,[r1,#7]
;;;1170   	bps[slave_num]._buff[2]=RXBUFF[4];
00167c  f89b2004          LDRB     r2,[r11,#4]  ; RXBUFF
001680  720a              STRB     r2,[r1,#8]
;;;1171   	bps[slave_num]._buff[3]=RXBUFF[5];
001682  f89b2005          LDRB     r2,[r11,#5]  ; RXBUFF
001686  724a              STRB     r2,[r1,#9]
;;;1172   	bps[slave_num]._buff[4]=RXBUFF[6];
001688  f89b2006          LDRB     r2,[r11,#6]  ; RXBUFF
00168c  728a              STRB     r2,[r1,#0xa]
;;;1173   	bps[slave_num]._buff[5]=RXBUFF[7];
00168e  f89b2007          LDRB     r2,[r11,#7]  ; RXBUFF
001692  72ca              STRB     r2,[r1,#0xb]
;;;1174   
;;;1175   
;;;1176   /*	can_slot[slave_num,0]=RXBUFF[0];
;;;1177   	can_slot[slave_num,1]=RXBUFF[1];
;;;1178   	can_slot[slave_num,2]=RXBUFF[2];
;;;1179   	can_slot[slave_num,3]=RXBUFF[3];
;;;1180   	can_slot[slave_num,4]=RXBUFF[4];
;;;1181   	can_slot[slave_num,5]=RXBUFF[5];
;;;1182   	can_slot[slave_num,6]=RXBUFF[6];
;;;1183   	can_slot[slave_num,7]=RXBUFF[7]; */
;;;1184   	
;;;1185   	bps[slave_num]._cnt=0;
001694  70cc              STRB     r4,[r1,#3]
;;;1186   	bps[slave_num]._is_on_cnt=10;
001696  f8817038          STRB     r7,[r1,#0x38]
;;;1187   	
;;;1188    	if((bps[slave_num]._cnt==0)&&(bps[slave_num]._av&(1<<3))) avar_bps_hndl(slave_num,3,0);
00169a  7849              LDRB     r1,[r1,#1]
00169c  0709              LSLS     r1,r1,#28
00169e  d503              BPL      |L1.5800|
0016a0  2200              MOVS     r2,#0
0016a2  2103              MOVS     r1,#3
0016a4  f7fffffe          BL       avar_bps_hndl
                  |L1.5800|
;;;1189   
;;;1190   	can_reset_cnt=0;
0016a8  70b4              STRB     r4,[r6,#2]
                  |L1.5802|
;;;1191        }
;;;1192   
;;;1193   if((RXBUFF[1]==PUTTM2)&&((RXBUFF[0]&0x1f)>=0)&&((RXBUFF[0]&0x1f)<12))
0016aa  f89b2001          LDRB     r2,[r11,#1]  ; RXBUFF
0016ae  2adb              CMP      r2,#0xdb
0016b0  d007              BEQ      |L1.5826|
0016b2  e033              B        |L1.5916|
                  |L1.5812|
0016b4  ebc001c0          RSB      r1,r0,r0,LSL #3       ;1165
0016b8  eb010141          ADD      r1,r1,r1,LSL #1       ;1165
0016bc  f8058021          STRB     r8,[r5,r1,LSL #2]     ;1165
0016c0  e7d0              B        |L1.5732|
                  |L1.5826|
0016c2  f89b1000          LDRB     r1,[r11,#0]  ; RXBUFF
0016c6  f001001f          AND      r0,r1,#0x1f
0016ca  280c              CMP      r0,#0xc
0016cc  d226              BCS      |L1.5916|
;;;1194    	{
;;;1195        slave_num=RXBUFF[0]&0x1f;  
;;;1196   
;;;1197       if((RXBUFF[0]&0xe0)==0)bps[slave_num]._device=dSRC;
0016ce  094b              LSRS     r3,r1,#5
0016d0  d029              BEQ      |L1.5926|
;;;1198       else if((RXBUFF[0]&0xe0)==0x40)bps[slave_num]._device=dINV;
0016d2  ebb91f51          CMP      r9,r1,LSR #5
0016d6  d105              BNE      |L1.5860|
0016d8  ebc001c0          RSB      r1,r0,r0,LSL #3
0016dc  eb010141          ADD      r1,r1,r1,LSL #1
0016e0  f805a021          STRB     r10,[r5,r1,LSL #2]
                  |L1.5860|
;;;1199        
;;;1200   	bps[slave_num]._buff[6]=RXBUFF[2]; 
0016e4  ebc000c0          RSB      r0,r0,r0,LSL #3
0016e8  eb000040          ADD      r0,r0,r0,LSL #1
0016ec  eb050080          ADD      r0,r5,r0,LSL #2
0016f0  f89b1002          LDRB     r1,[r11,#2]  ; RXBUFF
0016f4  7301              STRB     r1,[r0,#0xc]
;;;1201   	bps[slave_num]._buff[7]=RXBUFF[3];
0016f6  f89b1003          LDRB     r1,[r11,#3]  ; RXBUFF
0016fa  7341              STRB     r1,[r0,#0xd]
;;;1202   	bps[slave_num]._buff[8]=RXBUFF[4];
0016fc  f89b1004          LDRB     r1,[r11,#4]  ; RXBUFF
001700  7381              STRB     r1,[r0,#0xe]
;;;1203   	bps[slave_num]._buff[9]=RXBUFF[5];
001702  f89b1005          LDRB     r1,[r11,#5]  ; RXBUFF
001706  73c1              STRB     r1,[r0,#0xf]
;;;1204   	bps[slave_num]._buff[10]=RXBUFF[6];
001708  f89b1006          LDRB     r1,[r11,#6]  ; RXBUFF
00170c  7401              STRB     r1,[r0,#0x10]
;;;1205   	bps[slave_num]._buff[11]=RXBUFF[7];	
00170e  f89b1007          LDRB     r1,[r11,#7]  ; RXBUFF
001712  7441              STRB     r1,[r0,#0x11]
;;;1206   
;;;1207   
;;;1208   /*	can_slot[slave_num,8]=RXBUFF[0];
;;;1209   	can_slot[slave_num,9]=RXBUFF[1];
;;;1210   	can_slot[slave_num,10]=RXBUFF[2];
;;;1211   	can_slot[slave_num,11]=RXBUFF[3];
;;;1212   	can_slot[slave_num,12]=RXBUFF[4];
;;;1213   	can_slot[slave_num,13]=RXBUFF[5];
;;;1214   	can_slot[slave_num,14]=RXBUFF[6];
;;;1215   	can_slot[slave_num,15]=RXBUFF[7]; */
;;;1216   	
;;;1217   	bps[slave_num]._cnt=0;
001714  70c4              STRB     r4,[r0,#3]
;;;1218   	bps[slave_num]._is_on_cnt=10; 
001716  f8807038          STRB     r7,[r0,#0x38]
;;;1219   
;;;1220      	//if((src[slave_num]._cnt==0)&&(src[slave_num]._av_net)) avar_s_hndl(slave_num,3,0); 
;;;1221   	can_reset_cnt=0;
00171a  70b4              STRB     r4,[r6,#2]
                  |L1.5916|
;;;1222      	}
;;;1223   
;;;1224   if((RXBUFF[1]==PUTTM1INV2)&&((RXBUFF[0]&0x1f)>=MINIM_INV_ADRESS)&&((RXBUFF[0]&0x1f)<MINIM_INV_ADRESS+NUMINV))
;;;1225        {
;;;1226   	//can_debug_plazma[1][2]++;
;;;1227        slave_num=RXBUFF[0]&0x1f;
;;;1228   
;;;1229   	plazma_can_inv[0]++;
00171c  f8dfb1c0          LDR      r11,|L1.6368|
001720  2add              CMP      r2,#0xdd              ;1224
001722  d007              BEQ      |L1.5940|
001724  e041              B        |L1.6058|
                  |L1.5926|
001726  ebc001c0          RSB      r1,r0,r0,LSL #3       ;1197
00172a  eb010141          ADD      r1,r1,r1,LSL #1       ;1197
00172e  f8058021          STRB     r8,[r5,r1,LSL #2]     ;1197
001732  e7d7              B        |L1.5860|
                  |L1.5940|
001734  4a66              LDR      r2,|L1.6352|
001736  3a28              SUBS     r2,r2,#0x28           ;1224
001738  7811              LDRB     r1,[r2,#0]            ;1224  ; RXBUFF
00173a  f001001f          AND      r0,r1,#0x1f           ;1224
00173e  2814              CMP      r0,#0x14              ;1224
001740  d333              BCC      |L1.6058|
001742  4b68              LDR      r3,|L1.6372|
001744  f9b33000          LDRSH    r3,[r3,#0]            ;1224  ; NUMINV
001748  3314              ADDS     r3,r3,#0x14           ;1224
00174a  4298              CMP      r0,r3                 ;1224
00174c  da2d              BGE      |L1.6058|
00174e  f89b3000          LDRB     r3,[r11,#0]  ; plazma_can_inv
001752  f1030301          ADD      r3,r3,#1
001756  f88b3000          STRB     r3,[r11,#0]
;;;1230        
;;;1231       if((RXBUFF[0]&0xe0)==0)bps[slave_num]._device=dSRC;
00175a  094b              LSRS     r3,r1,#5
00175c  d02e              BEQ      |L1.6076|
;;;1232       else if((RXBUFF[0]&0xe0)==0x40)bps[slave_num]._device=dINV;
00175e  ebb91f51          CMP      r9,r1,LSR #5
001762  d105              BNE      |L1.6000|
001764  ebc001c0          RSB      r1,r0,r0,LSL #3
001768  eb010141          ADD      r1,r1,r1,LSL #1
00176c  f805a021          STRB     r10,[r5,r1,LSL #2]
                  |L1.6000|
;;;1233        	
;;;1234   	bps[slave_num]._buff[0]=RXBUFF[2]; 
001770  ebc001c0          RSB      r1,r0,r0,LSL #3
001774  eb010141          ADD      r1,r1,r1,LSL #1
001778  eb050181          ADD      r1,r5,r1,LSL #2
00177c  7893              LDRB     r3,[r2,#2]  ; RXBUFF
00177e  718b              STRB     r3,[r1,#6]
;;;1235   	bps[slave_num]._buff[1]=RXBUFF[3];
001780  78d3              LDRB     r3,[r2,#3]  ; RXBUFF
001782  71cb              STRB     r3,[r1,#7]
;;;1236   	bps[slave_num]._buff[2]=RXBUFF[4];
001784  7913              LDRB     r3,[r2,#4]  ; RXBUFF
001786  720b              STRB     r3,[r1,#8]
;;;1237   	bps[slave_num]._buff[3]=RXBUFF[5];
001788  7953              LDRB     r3,[r2,#5]  ; RXBUFF
00178a  724b              STRB     r3,[r1,#9]
;;;1238   	bps[slave_num]._buff[4]=RXBUFF[6];
00178c  7993              LDRB     r3,[r2,#6]  ; RXBUFF
00178e  728b              STRB     r3,[r1,#0xa]
;;;1239   	bps[slave_num]._buff[5]=RXBUFF[7];
001790  79d2              LDRB     r2,[r2,#7]  ; RXBUFF
001792  72ca              STRB     r2,[r1,#0xb]
;;;1240   
;;;1241   
;;;1242   /*	can_slot[slave_num,0]=RXBUFF[0];
;;;1243   	can_slot[slave_num,1]=RXBUFF[1];
;;;1244   	can_slot[slave_num,2]=RXBUFF[2];
;;;1245   	can_slot[slave_num,3]=RXBUFF[3];
;;;1246   	can_slot[slave_num,4]=RXBUFF[4];
;;;1247   	can_slot[slave_num,5]=RXBUFF[5];
;;;1248   	can_slot[slave_num,6]=RXBUFF[6];
;;;1249   	can_slot[slave_num,7]=RXBUFF[7]; */
;;;1250   	
;;;1251   	bps[slave_num]._cnt=0;
001794  70cc              STRB     r4,[r1,#3]
;;;1252   	bps[slave_num]._is_on_cnt=10;
001796  f8817038          STRB     r7,[r1,#0x38]
;;;1253   	
;;;1254    	if((bps[slave_num]._cnt==0)&&(bps[slave_num]._av&(1<<3))) avar_bps_hndl(slave_num,3,0);
00179a  7849              LDRB     r1,[r1,#1]
00179c  0709              LSLS     r1,r1,#28
00179e  d503              BPL      |L1.6056|
0017a0  2200              MOVS     r2,#0
0017a2  2103              MOVS     r1,#3
0017a4  f7fffffe          BL       avar_bps_hndl
                  |L1.6056|
;;;1255   
;;;1256   	can_reset_cnt=0;
0017a8  70b4              STRB     r4,[r6,#2]
                  |L1.6058|
;;;1257        }
;;;1258   
;;;1259   if((RXBUFF[1]==PUTTM2INV2)&&((RXBUFF[0]&0x1f)>=MINIM_INV_ADRESS)&&((RXBUFF[0]&0x1f)<MINIM_INV_ADRESS+NUMINV))
0017aa  f8dfc124          LDR      r12,|L1.6352|
0017ae  f1ac0c28          SUB      r12,r12,#0x28
0017b2  f89c2001          LDRB     r2,[r12,#1]  ; RXBUFF
0017b6  2ade              CMP      r2,#0xde
0017b8  d007              BEQ      |L1.6090|
0017ba  e03f              B        |L1.6204|
                  |L1.6076|
0017bc  ebc001c0          RSB      r1,r0,r0,LSL #3       ;1231
0017c0  eb010141          ADD      r1,r1,r1,LSL #1       ;1231
0017c4  f8058021          STRB     r8,[r5,r1,LSL #2]     ;1231
0017c8  e7d2              B        |L1.6000|
                  |L1.6090|
0017ca  f89c1000          LDRB     r1,[r12,#0]  ; RXBUFF
0017ce  f001001f          AND      r0,r1,#0x1f
0017d2  2814              CMP      r0,#0x14
0017d4  d332              BCC      |L1.6204|
0017d6  4b43              LDR      r3,|L1.6372|
0017d8  f9b33000          LDRSH    r3,[r3,#0]  ; NUMINV
0017dc  3314              ADDS     r3,r3,#0x14
0017de  4298              CMP      r0,r3
0017e0  da2c              BGE      |L1.6204|
;;;1260    	{
;;;1261        slave_num=RXBUFF[0]&0x1f;
;;;1262   	
;;;1263   	plazma_can_inv[1]++;  
0017e2  f89b3001          LDRB     r3,[r11,#1]  ; plazma_can_inv
0017e6  f1030301          ADD      r3,r3,#1
0017ea  f88b3001          STRB     r3,[r11,#1]
;;;1264   
;;;1265       if((RXBUFF[0]&0xe0)==0)bps[slave_num]._device=dSRC;
0017ee  094b              LSRS     r3,r1,#5
0017f0  d027              BEQ      |L1.6210|
;;;1266       else if((RXBUFF[0]&0xe0)==0x40)bps[slave_num]._device=dINV;
0017f2  ebb91f51          CMP      r9,r1,LSR #5
0017f6  d105              BNE      |L1.6148|
0017f8  ebc001c0          RSB      r1,r0,r0,LSL #3
0017fc  eb010141          ADD      r1,r1,r1,LSL #1
001800  f805a021          STRB     r10,[r5,r1,LSL #2]
                  |L1.6148|
;;;1267        
;;;1268   	bps[slave_num]._buff[6]=RXBUFF[2]; 
001804  ebc000c0          RSB      r0,r0,r0,LSL #3
001808  eb000040          ADD      r0,r0,r0,LSL #1
00180c  eb050080          ADD      r0,r5,r0,LSL #2
001810  f89c1002          LDRB     r1,[r12,#2]  ; RXBUFF
001814  7301              STRB     r1,[r0,#0xc]
;;;1269   	bps[slave_num]._buff[7]=RXBUFF[3];
001816  f89c1003          LDRB     r1,[r12,#3]  ; RXBUFF
00181a  7341              STRB     r1,[r0,#0xd]
;;;1270   	bps[slave_num]._buff[8]=RXBUFF[4];
00181c  f89c1004          LDRB     r1,[r12,#4]  ; RXBUFF
001820  7381              STRB     r1,[r0,#0xe]
;;;1271   	bps[slave_num]._buff[9]=RXBUFF[5];
001822  f89c1005          LDRB     r1,[r12,#5]  ; RXBUFF
001826  73c1              STRB     r1,[r0,#0xf]
;;;1272   	bps[slave_num]._buff[10]=RXBUFF[6];
001828  f89c1006          LDRB     r1,[r12,#6]  ; RXBUFF
00182c  7401              STRB     r1,[r0,#0x10]
;;;1273   	bps[slave_num]._buff[11]=RXBUFF[7];	
00182e  f89c1007          LDRB     r1,[r12,#7]  ; RXBUFF
001832  7441              STRB     r1,[r0,#0x11]
;;;1274   
;;;1275   
;;;1276   /*	can_slot[slave_num,8]=RXBUFF[0];
;;;1277   	can_slot[slave_num,9]=RXBUFF[1];
;;;1278   	can_slot[slave_num,10]=RXBUFF[2];
;;;1279   	can_slot[slave_num,11]=RXBUFF[3];
;;;1280   	can_slot[slave_num,12]=RXBUFF[4];
;;;1281   	can_slot[slave_num,13]=RXBUFF[5];
;;;1282   	can_slot[slave_num,14]=RXBUFF[6];
;;;1283   	can_slot[slave_num,15]=RXBUFF[7]; */
;;;1284   	
;;;1285   	bps[slave_num]._cnt=0;
001834  70c4              STRB     r4,[r0,#3]
;;;1286   	bps[slave_num]._is_on_cnt=10; 
001836  f8807038          STRB     r7,[r0,#0x38]
;;;1287   
;;;1288      	//if((src[slave_num]._cnt==0)&&(src[slave_num]._av_net)) avar_s_hndl(slave_num,3,0); 
;;;1289   	can_reset_cnt=0;
00183a  70b4              STRB     r4,[r6,#2]
                  |L1.6204|
;;;1290      	}
;;;1291   
;;;1292   if((RXBUFF[1]==PUTTM3INV2)&&((RXBUFF[0]&0x1f)>=MINIM_INV_ADRESS)&&((RXBUFF[0]&0x1f)<MINIM_INV_ADRESS+NUMINV))
00183c  2adf              CMP      r2,#0xdf
00183e  d007              BEQ      |L1.6224|
001840  e03f              B        |L1.6338|
                  |L1.6210|
001842  ebc001c0          RSB      r1,r0,r0,LSL #3       ;1265
001846  eb010141          ADD      r1,r1,r1,LSL #1       ;1265
00184a  f8058021          STRB     r8,[r5,r1,LSL #2]     ;1265
00184e  e7d9              B        |L1.6148|
                  |L1.6224|
001850  f89c1000          LDRB     r1,[r12,#0]  ; RXBUFF
001854  f001001f          AND      r0,r1,#0x1f
001858  2814              CMP      r0,#0x14
00185a  d332              BCC      |L1.6338|
00185c  4b21              LDR      r3,|L1.6372|
00185e  f9b33000          LDRSH    r3,[r3,#0]  ; NUMINV
001862  3314              ADDS     r3,r3,#0x14
001864  4298              CMP      r0,r3
001866  da2c              BGE      |L1.6338|
;;;1293    	{
;;;1294        slave_num=RXBUFF[0]&0x1f; 
;;;1295   
;;;1296   	plazma_can_inv[2]++; 
001868  f89b3002          LDRB     r3,[r11,#2]  ; plazma_can_inv
00186c  f1030301          ADD      r3,r3,#1
001870  f88b3002          STRB     r3,[r11,#2]
;;;1297   
;;;1298       if((RXBUFF[0]&0xe0)==0)bps[slave_num]._device=dSRC;
001874  094b              LSRS     r3,r1,#5
001876  d039              BEQ      |L1.6380|
;;;1299       else if((RXBUFF[0]&0xe0)==0x40)bps[slave_num]._device=dINV;
001878  ebb91f51          CMP      r9,r1,LSR #5
00187c  d105              BNE      |L1.6282|
00187e  ebc001c0          RSB      r1,r0,r0,LSL #3
001882  eb010141          ADD      r1,r1,r1,LSL #1
001886  f805a021          STRB     r10,[r5,r1,LSL #2]
                  |L1.6282|
;;;1300        
;;;1301   	bps[slave_num]._buff[12]=RXBUFF[2]; 
00188a  ebc000c0          RSB      r0,r0,r0,LSL #3
00188e  eb000040          ADD      r0,r0,r0,LSL #1
001892  eb050080          ADD      r0,r5,r0,LSL #2
001896  f89c1002          LDRB     r1,[r12,#2]  ; RXBUFF
00189a  7481              STRB     r1,[r0,#0x12]
;;;1302   	bps[slave_num]._buff[13]=RXBUFF[3];
00189c  f89c1003          LDRB     r1,[r12,#3]  ; RXBUFF
0018a0  74c1              STRB     r1,[r0,#0x13]
;;;1303   	bps[slave_num]._buff[14]=RXBUFF[4];
0018a2  f89c1004          LDRB     r1,[r12,#4]  ; RXBUFF
0018a6  7501              STRB     r1,[r0,#0x14]
;;;1304   	bps[slave_num]._buff[15]=RXBUFF[5];
0018a8  f89c1005          LDRB     r1,[r12,#5]  ; RXBUFF
0018ac  7541              STRB     r1,[r0,#0x15]
;;;1305   	bps[slave_num]._buff[16]=RXBUFF[6];
0018ae  f89c1006          LDRB     r1,[r12,#6]  ; RXBUFF
0018b2  7581              STRB     r1,[r0,#0x16]
;;;1306   	bps[slave_num]._buff[17]=RXBUFF[7];	
0018b4  f89c1007          LDRB     r1,[r12,#7]  ; RXBUFF
0018b8  75c1              STRB     r1,[r0,#0x17]
;;;1307   
;;;1308   
;;;1309   /*	can_slot[slave_num,8]=RXBUFF[0];
;;;1310   	can_slot[slave_num,9]=RXBUFF[1];
;;;1311   	can_slot[slave_num,10]=RXBUFF[2];
;;;1312   	can_slot[slave_num,11]=RXBUFF[3];
;;;1313   	can_slot[slave_num,12]=RXBUFF[4];
;;;1314   	can_slot[slave_num,13]=RXBUFF[5];
;;;1315   	can_slot[slave_num,14]=RXBUFF[6];
;;;1316   	can_slot[slave_num,15]=RXBUFF[7]; */
;;;1317   	
;;;1318   	bps[slave_num]._cnt=0;
0018ba  70c4              STRB     r4,[r0,#3]
;;;1319   	bps[slave_num]._is_on_cnt=10; 
0018bc  f8807038          STRB     r7,[r0,#0x38]
;;;1320   
;;;1321      	//if((src[slave_num]._cnt==0)&&(src[slave_num]._av_net)) avar_s_hndl(slave_num,3,0); 
;;;1322   	can_reset_cnt=0;
0018c0  70b4              STRB     r4,[r6,#2]
                  |L1.6338|
;;;1323      	}
;;;1324   
;;;1325   if((RXBUFF[1]==PUTTM1BYPS))
;;;1326        {
;;;1327   	//can_debug_plazma[1][2]++;
;;;1328        byps._adress=RXBUFF[0]&0x1f;
0018c2  4809              LDR      r0,|L1.6376|
0018c4  46e2              MOV      r10,r12               ;1325
0018c6  2ad8              CMP      r2,#0xd8              ;1325
0018c8  d017              BEQ      |L1.6394|
0018ca  e031              B        |L1.6448|
                  |L1.6348|
                          DCD      bps
                  |L1.6352|
                          DCD      ||.bss||+0x14c
                  |L1.6356|
                          DCD      PAR
                  |L1.6360|
                          DCD      a_ind
                  |L1.6364|
                          DCD      ||.data||
                  |L1.6368|
                          DCD      plazma_can_inv
                  |L1.6372|
                          DCD      NUMINV
                  |L1.6376|
                          DCD      byps
                  |L1.6380|
0018ec  ebc001c0          RSB      r1,r0,r0,LSL #3       ;1298
0018f0  eb010141          ADD      r1,r1,r1,LSL #1       ;1298
0018f4  f8058021          STRB     r8,[r5,r1,LSL #2]     ;1298
0018f8  e7c7              B        |L1.6282|
                  |L1.6394|
0018fa  f89a1000          LDRB     r1,[r10,#0]  ; RXBUFF
0018fe  f001011f          AND      r1,r1,#0x1f
001902  7341              STRB     r1,[r0,#0xd]
;;;1329        
;;;1330        	
;;;1331   	byps._Iout=(signed short)RXBUFF[2]+(((signed short)RXBUFF[3])*256);
001904  f89a1002          LDRB     r1,[r10,#2]  ; RXBUFF
001908  f89a3003          LDRB     r3,[r10,#3]  ; RXBUFF
00190c  eb012103          ADD      r1,r1,r3,LSL #8
001910  8001              STRH     r1,[r0,#0]
;;;1332   	byps._Pout=(signed short)RXBUFF[4]+(((signed short)RXBUFF[5])*256);
001912  f89a1004          LDRB     r1,[r10,#4]  ; RXBUFF
001916  f89a3005          LDRB     r3,[r10,#5]  ; RXBUFF
00191a  eb012103          ADD      r1,r1,r3,LSL #8
00191e  8081              STRH     r1,[r0,#4]
;;;1333   	byps._Uout=(signed short)RXBUFF[6]+(((signed short)RXBUFF[7])*256);
001920  f89a1006          LDRB     r1,[r10,#6]  ; RXBUFF
001924  f89a3007          LDRB     r3,[r10,#7]  ; RXBUFF
001928  eb012103          ADD      r1,r1,r3,LSL #8
00192c  8041              STRH     r1,[r0,#2]
;;;1334   	
;;;1335   	byps._cnt=0;
00192e  7304              STRB     r4,[r0,#0xc]
                  |L1.6448|
;;;1336        }
;;;1337   
;;;1338   if((RXBUFF[1]==PUTTM2BYPS))
001930  2ad9              CMP      r2,#0xd9
001932  d114              BNE      |L1.6494|
;;;1339    	{
;;;1340   	byps._T=(char)RXBUFF[2];
001934  f89a1002          LDRB     r1,[r10,#2]  ; RXBUFF
001938  7281              STRB     r1,[r0,#0xa]
;;;1341   	byps._flags=(char)RXBUFF[3];
00193a  f89a1003          LDRB     r1,[r10,#3]  ; RXBUFF
00193e  72c1              STRB     r1,[r0,#0xb]
;;;1342   	byps._Unet=(signed short)RXBUFF[4]+(((signed short)RXBUFF[5])*256);
001940  f89a1004          LDRB     r1,[r10,#4]  ; RXBUFF
001944  f89a3005          LDRB     r3,[r10,#5]  ; RXBUFF
001948  eb012103          ADD      r1,r1,r3,LSL #8
00194c  80c1              STRH     r1,[r0,#6]
;;;1343   	byps._Uin=(signed short)RXBUFF[6]+(((signed short)RXBUFF[7])*256);
00194e  f89a1006          LDRB     r1,[r10,#6]  ; RXBUFF
001952  f89a3007          LDRB     r3,[r10,#7]  ; RXBUFF
001956  eb012103          ADD      r1,r1,r3,LSL #8
00195a  8101              STRH     r1,[r0,#8]
;;;1344   
;;;1345   	byps._cnt=0;
00195c  7304              STRB     r4,[r0,#0xc]
                  |L1.6494|
;;;1346      	}
;;;1347   
;;;1348   if((RXBUFF[1]==PUTTM_IBATMETER)&&((RXBUFF[0]&0x1f)>=0)&&((RXBUFF[0]&0x1f)<12))
00195e  2ad1              CMP      r2,#0xd1
001960  d125              BNE      |L1.6574|
001962  f89a0000          LDRB     r0,[r10,#0]  ; RXBUFF
001966  f000001f          AND      r0,r0,#0x1f
00196a  280c              CMP      r0,#0xc
00196c  d21f              BCS      |L1.6574|
;;;1349    	{
;;;1350       slave_num=RXBUFF[0]&0x1f;  
;;;1351   
;;;1352       bps[slave_num]._device=dIBAT_METR;
00196e  ebc000c0          RSB      r0,r0,r0,LSL #3
001972  eb000040          ADD      r0,r0,r0,LSL #1
001976  f04f0109          MOV      r1,#9
00197a  f8051020          STRB     r1,[r5,r0,LSL #2]
;;;1353            
;;;1354   	bps[slave_num]._buff[0]=RXBUFF[2]; 
00197e  eb050080          ADD      r0,r5,r0,LSL #2
001982  f89a1002          LDRB     r1,[r10,#2]  ; RXBUFF
001986  7181              STRB     r1,[r0,#6]
;;;1355   	bps[slave_num]._buff[1]=RXBUFF[3];
001988  f89a1003          LDRB     r1,[r10,#3]  ; RXBUFF
00198c  71c1              STRB     r1,[r0,#7]
;;;1356   	bps[slave_num]._buff[2]=RXBUFF[4];
00198e  f89a1004          LDRB     r1,[r10,#4]  ; RXBUFF
001992  7201              STRB     r1,[r0,#8]
;;;1357   	bps[slave_num]._buff[3]=RXBUFF[5];
001994  f89a1005          LDRB     r1,[r10,#5]  ; RXBUFF
001998  7241              STRB     r1,[r0,#9]
;;;1358   	bps[slave_num]._buff[4]=RXBUFF[6];
00199a  f89a1006          LDRB     r1,[r10,#6]  ; RXBUFF
00199e  7281              STRB     r1,[r0,#0xa]
;;;1359   	bps[slave_num]._buff[5]=RXBUFF[7];	
0019a0  f89a1007          LDRB     r1,[r10,#7]  ; RXBUFF
0019a4  72c1              STRB     r1,[r0,#0xb]
;;;1360   
;;;1361   
;;;1362   /*	can_slot[slave_num,8]=RXBUFF[0];
;;;1363   	can_slot[slave_num,9]=RXBUFF[1];
;;;1364   	can_slot[slave_num,10]=RXBUFF[2];
;;;1365   	can_slot[slave_num,11]=RXBUFF[3];
;;;1366   	can_slot[slave_num,12]=RXBUFF[4];
;;;1367   	can_slot[slave_num,13]=RXBUFF[5];
;;;1368   	can_slot[slave_num,14]=RXBUFF[6];
;;;1369   	can_slot[slave_num,15]=RXBUFF[7]; */
;;;1370   	
;;;1371   	bps[slave_num]._cnt=0;
0019a6  70c4              STRB     r4,[r0,#3]
;;;1372   	bps[slave_num]._is_on_cnt=10; 
0019a8  f8807038          STRB     r7,[r0,#0x38]
;;;1373   
;;;1374      	//if((src[slave_num]._cnt==0)&&(src[slave_num]._av_net)) avar_s_hndl(slave_num,3,0); 
;;;1375   	can_reset_cnt=0;
0019ac  70b4              STRB     r4,[r6,#2]
                  |L1.6574|
;;;1376      	}
;;;1377   
;;;1378   if((RXBUFF[1]==PUTTM_NET)&&((RXBUFF[0]&0x1f)>=0)&&((RXBUFF[0]&0x1f)<12))
;;;1379    	{
;;;1380       slave_num=RXBUFF[0]&0x1f;  
;;;1381   
;;;1382       bps[slave_num]._device=dNET_METR;
0019ae  f04f0907          MOV      r9,#7
0019b2  2aea              CMP      r2,#0xea              ;1378
0019b4  d123              BNE      |L1.6654|
0019b6  f89a0000          LDRB     r0,[r10,#0]           ;1378  ; RXBUFF
0019ba  f000001f          AND      r0,r0,#0x1f           ;1378
0019be  280c              CMP      r0,#0xc               ;1378
0019c0  d21d              BCS      |L1.6654|
0019c2  ebc000c0          RSB      r0,r0,r0,LSL #3
0019c6  eb000040          ADD      r0,r0,r0,LSL #1
0019ca  f8059020          STRB     r9,[r5,r0,LSL #2]
;;;1383            
;;;1384   	bps[slave_num]._buff[0]=RXBUFF[2]; 
0019ce  eb050080          ADD      r0,r5,r0,LSL #2
0019d2  f89a1002          LDRB     r1,[r10,#2]  ; RXBUFF
0019d6  7181              STRB     r1,[r0,#6]
;;;1385   	bps[slave_num]._buff[1]=RXBUFF[3];
0019d8  f89a1003          LDRB     r1,[r10,#3]  ; RXBUFF
0019dc  71c1              STRB     r1,[r0,#7]
;;;1386   	bps[slave_num]._buff[2]=RXBUFF[4];
0019de  f89a1004          LDRB     r1,[r10,#4]  ; RXBUFF
0019e2  7201              STRB     r1,[r0,#8]
;;;1387   	bps[slave_num]._buff[3]=RXBUFF[5];
0019e4  f89a1005          LDRB     r1,[r10,#5]  ; RXBUFF
0019e8  7241              STRB     r1,[r0,#9]
;;;1388   	bps[slave_num]._buff[4]=RXBUFF[6];
0019ea  f89a1006          LDRB     r1,[r10,#6]  ; RXBUFF
0019ee  7281              STRB     r1,[r0,#0xa]
;;;1389   	bps[slave_num]._buff[5]=RXBUFF[7];	
0019f0  f89a1007          LDRB     r1,[r10,#7]  ; RXBUFF
0019f4  72c1              STRB     r1,[r0,#0xb]
;;;1390   
;;;1391   
;;;1392   /*	can_slot[slave_num,8]=RXBUFF[0];
;;;1393   	can_slot[slave_num,9]=RXBUFF[1];
;;;1394   	can_slot[slave_num,10]=RXBUFF[2];
;;;1395   	can_slot[slave_num,11]=RXBUFF[3];
;;;1396   	can_slot[slave_num,12]=RXBUFF[4];
;;;1397   	can_slot[slave_num,13]=RXBUFF[5];
;;;1398   	can_slot[slave_num,14]=RXBUFF[6];
;;;1399   	can_slot[slave_num,15]=RXBUFF[7]; */
;;;1400   	
;;;1401   	bps[slave_num]._cnt=0;
0019f6  70c4              STRB     r4,[r0,#3]
;;;1402   	bps[slave_num]._is_on_cnt=10; 
0019f8  f8807038          STRB     r7,[r0,#0x38]
;;;1403   
;;;1404      	//if((src[slave_num]._cnt==0)&&(src[slave_num]._av_net)) avar_s_hndl(slave_num,3,0); 
;;;1405   	can_reset_cnt=0;
0019fc  70b4              STRB     r4,[r6,#2]
                  |L1.6654|
;;;1406      	}
;;;1407   
;;;1408   
;;;1409   if((RXBUFF[1]==PUTTM_NET1)&&((RXBUFF[0]&0x1f)>=0)&&((RXBUFF[0]&0x1f)<12))
0019fe  2aeb              CMP      r2,#0xeb
001a00  d117              BNE      |L1.6706|
001a02  f89a0000          LDRB     r0,[r10,#0]  ; RXBUFF
001a06  f000001f          AND      r0,r0,#0x1f
001a0a  280c              CMP      r0,#0xc
001a0c  d211              BCS      |L1.6706|
;;;1410    	{
;;;1411       slave_num=RXBUFF[0]&0x1f;  
;;;1412   
;;;1413       bps[slave_num]._device=dNET_METR;
001a0e  ebc000c0          RSB      r0,r0,r0,LSL #3
001a12  eb000040          ADD      r0,r0,r0,LSL #1
001a16  f8059020          STRB     r9,[r5,r0,LSL #2]
;;;1414            
;;;1415   	bps[slave_num]._buff[6]=RXBUFF[2]; 
001a1a  eb050080          ADD      r0,r5,r0,LSL #2
001a1e  f89a1002          LDRB     r1,[r10,#2]  ; RXBUFF
001a22  7301              STRB     r1,[r0,#0xc]
;;;1416   	bps[slave_num]._buff[7]=RXBUFF[3];
001a24  f89a1003          LDRB     r1,[r10,#3]  ; RXBUFF
001a28  7341              STRB     r1,[r0,#0xd]
;;;1417   	
;;;1418   	//net_F= RXBUFF[2]+ (RXBUFF[3]*256);
;;;1419   
;;;1420   	bps[slave_num]._cnt=0;
001a2a  70c4              STRB     r4,[r0,#3]
;;;1421   	bps[slave_num]._is_on_cnt=10; 
001a2c  f8807038          STRB     r7,[r0,#0x38]
;;;1422   
;;;1423      	//if((src[slave_num]._cnt==0)&&(src[slave_num]._av_net)) avar_s_hndl(slave_num,3,0); 
;;;1424   	can_reset_cnt=0;
001a30  70b4              STRB     r4,[r6,#2]
                  |L1.6706|
;;;1425      	}
;;;1426   
;;;1427   if( (RXBUFF[0]==MEM_KF)&&(RXBUFF[1]==1)&&(RXBUFF[2]==1))
001a32  f89a3000          LDRB     r3,[r10,#0]  ; RXBUFF
001a36  2b62              CMP      r3,#0x62
001a38  d10e              BNE      |L1.6744|
001a3a  2a01              CMP      r2,#1
001a3c  d10c              BNE      |L1.6744|
001a3e  f89a0002          LDRB     r0,[r10,#2]  ; RXBUFF
001a42  2801              CMP      r0,#1
001a44  d108              BNE      |L1.6744|
;;;1428        {
;;;1429        power_summary_tempo=*((signed short*)&RXBUFF[3]);
001a46  f9ba0003          LDRSH    r0,[r10,#3]  ; RXBUFF
001a4a  49ff              LDR      r1,|L1.7752|
001a4c  6008              STR      r0,[r1,#0]  ; power_summary_tempo
;;;1430        power_current_tempo=*((signed short*)&RXBUFF[5]);
001a4e  49ff              LDR      r1,|L1.7756|
001a50  f8ba0005          LDRH     r0,[r10,#5]  ; RXBUFF
001a54  8008              STRH     r0,[r1,#0]
;;;1431   	//ext_can_cnt++;
;;;1432   	can_reset_cnt=0;
001a56  70b4              STRB     r4,[r6,#2]
                  |L1.6744|
;;;1433        }
;;;1434   
;;;1435   
;;;1436   if( ((RXBUFF[0]&0x1f)==8)&&((RXBUFF[1])==PUTTM) )
001a58  f003001f          AND      r0,r3,#0x1f
001a5c  2808              CMP      r0,#8
001a5e  d116              BNE      |L1.6798|
001a60  2ade              CMP      r2,#0xde
001a62  d114              BNE      |L1.6798|
;;;1437        {
;;;1438        adc_buff_ext_[0]=*((short*)&RXBUFF[2]);
001a64  4dfa              LDR      r5,|L1.7760|
001a66  f8ba1002          LDRH     r1,[r10,#2]  ; RXBUFF
001a6a  8029              STRH     r1,[r5,#0]
;;;1439        adc_buff_ext_[1]=*((short*)&RXBUFF[4]);
001a6c  f8ba1004          LDRH     r1,[r10,#4]  ; RXBUFF
001a70  8069              STRH     r1,[r5,#2]
;;;1440        adc_buff_ext_[2]=*((short*)&RXBUFF[6]);
001a72  f8ba1006          LDRH     r1,[r10,#6]  ; RXBUFF
001a76  80a9              STRH     r1,[r5,#4]
;;;1441   	if((adc_buff_ext_[2]>=-50) && (adc_buff_ext_[2]<=100))
001a78  3132              ADDS     r1,r1,#0x32
;;;1442   		{
;;;1443   		t_ext_can=adc_buff_ext_[2];
001a7a  4ff6              LDR      r7,|L1.7764|
001a7c  2996              CMP      r1,#0x96              ;1441
001a7e  d803              BHI      |L1.6792|
001a80  88a9              LDRH     r1,[r5,#4]  ; adc_buff_ext_
001a82  8039              STRH     r1,[r7,#0]
;;;1444   		t_ext_can_nd=0;
001a84  49f4              LDR      r1,|L1.7768|
001a86  700c              STRB     r4,[r1,#0]
                  |L1.6792|
;;;1445   		}
;;;1446   		t_ext_can=adc_buff_ext_[2];
001a88  88a9              LDRH     r1,[r5,#4]  ; adc_buff_ext_
001a8a  8039              STRH     r1,[r7,#0]
;;;1447   	//ext_can_cnt++;
;;;1448   	can_reset_cnt=0;
001a8c  70b4              STRB     r4,[r6,#2]
                  |L1.6798|
;;;1449        }
;;;1450   
;;;1451   if( ((RXBUFF[0]&0x1f)==9)&&((RXBUFF[1])==PUTTM) )
001a8e  2809              CMP      r0,#9
001a90  d10e              BNE      |L1.6832|
001a92  2ade              CMP      r2,#0xde
001a94  d10c              BNE      |L1.6832|
;;;1452        {
;;;1453        vvod_pos=RXBUFF[2];
001a96  4df1              LDR      r5,|L1.7772|
001a98  f89a1002          LDRB     r1,[r10,#2]  ; RXBUFF
001a9c  8029              STRH     r1,[r5,#0]
;;;1454   	ext_can_cnt=RXBUFF[3];
001a9e  4df0              LDR      r5,|L1.7776|
001aa0  f89a1003          LDRB     r1,[r10,#3]  ; RXBUFF
001aa4  7029              STRB     r1,[r5,#0]
;;;1455   	if(ext_can_cnt<10)bRESET_EXT=0;
001aa6  290a              CMP      r1,#0xa
001aa8  d201              BCS      |L1.6830|
001aaa  49ee              LDR      r1,|L1.7780|
001aac  700c              STRB     r4,[r1,#0]
                  |L1.6830|
;;;1456   	can_reset_cnt=0;
001aae  70b4              STRB     r4,[r6,#2]
                  |L1.6832|
;;;1457        }
;;;1458   
;;;1459   if( ((RXBUFF[0]&0x1f)==10)&&((RXBUFF[1])==PUTTM) )
;;;1460        {
;;;1461        power_current=*((signed short*)&RXBUFF[2]);
001ab0  4ded              LDR      r5,|L1.7784|
;;;1462        power_summary=*((signed long*)&RXBUFF[4]);
001ab2  4fee              LDR      r7,|L1.7788|
001ab4  280a              CMP      r0,#0xa               ;1459
001ab6  d108              BNE      |L1.6858|
001ab8  2ade              CMP      r2,#0xde              ;1459
001aba  d106              BNE      |L1.6858|
001abc  f8ba1002          LDRH     r1,[r10,#2]           ;1461  ; RXBUFF
001ac0  8029              STRH     r1,[r5,#0]            ;1461
001ac2  f8da1004          LDR      r1,[r10,#4]  ; RXBUFF
001ac6  6039              STR      r1,[r7,#0]  ; power_summary
;;;1463   	//ext_can_cnt++;
;;;1464   	can_reset_cnt=0;
001ac8  70b4              STRB     r4,[r6,#2]
                  |L1.6858|
;;;1465        }
;;;1466   
;;;1467   
;;;1468   if( ((RXBUFF[0]&0x1f)==20)&&((RXBUFF[1])==PUTTM) )
;;;1469        {
;;;1470        eb2_data[0]=RXBUFF[2];
001aca  49e9              LDR      r1,|L1.7792|
001acc  2814              CMP      r0,#0x14              ;1468
001ace  d121              BNE      |L1.6932|
001ad0  2ade              CMP      r2,#0xde              ;1468
001ad2  d11f              BNE      |L1.6932|
001ad4  f89ac002          LDRB     r12,[r10,#2]  ; RXBUFF
001ad8  f881c000          STRB     r12,[r1,#0]
;;;1471   	eb2_data[1]=RXBUFF[3];
001adc  f89ac003          LDRB     r12,[r10,#3]  ; RXBUFF
001ae0  f881c001          STRB     r12,[r1,#1]
;;;1472        eb2_data[2]=RXBUFF[4];
001ae4  f89ac004          LDRB     r12,[r10,#4]  ; RXBUFF
001ae8  f881c002          STRB     r12,[r1,#2]
;;;1473   	eb2_data[3]=RXBUFF[5];
001aec  f89ac005          LDRB     r12,[r10,#5]  ; RXBUFF
001af0  f881c003          STRB     r12,[r1,#3]
;;;1474   	eb2_data[4]=RXBUFF[6];
001af4  f89ac006          LDRB     r12,[r10,#6]  ; RXBUFF
001af8  f881c004          STRB     r12,[r1,#4]
;;;1475   	eb2_data[5]=RXBUFF[7];
001afc  f89ac007          LDRB     r12,[r10,#7]  ; RXBUFF
001b00  f881c005          STRB     r12,[r1,#5]
;;;1476        power_current=*((signed short*)&RXBUFF[2]);
001b04  f8bac002          LDRH     r12,[r10,#2]  ; RXBUFF
001b08  f8a5c000          STRH     r12,[r5,#0]
;;;1477        power_summary=*((signed long*)&RXBUFF[4]);
001b0c  f8da5004          LDR      r5,[r10,#4]  ; RXBUFF
001b10  603d              STR      r5,[r7,#0]  ; power_summary
;;;1478   
;;;1479   	 can_reset_cnt=0;
001b12  70b4              STRB     r4,[r6,#2]
                  |L1.6932|
;;;1480        }
;;;1481   
;;;1482   if( ((RXBUFF[0]&0x1f)==21)&&((RXBUFF[1])==PUTTM) )
;;;1483        {
;;;1484        eb2_data[6]=RXBUFF[2];
;;;1485   	eb2_data[7]=RXBUFF[3];
;;;1486        eb2_data[8]=RXBUFF[4];
;;;1487   	eb2_data[9]=RXBUFF[5];
;;;1488   	eb2_data[10]=RXBUFF[6];
;;;1489   	eb2_data[11]=RXBUFF[7];
;;;1490   	eb2_data_short[6]=*((short*)&eb2_data[6]);
001b14  4dd7              LDR      r5,|L1.7796|
001b16  2815              CMP      r0,#0x15              ;1482
001b18  d116              BNE      |L1.6984|
001b1a  2ade              CMP      r2,#0xde              ;1482
001b1c  d114              BNE      |L1.6984|
001b1e  f89a7002          LDRB     r7,[r10,#2]           ;1484  ; RXBUFF
001b22  718f              STRB     r7,[r1,#6]            ;1484
001b24  f89a7003          LDRB     r7,[r10,#3]           ;1485  ; RXBUFF
001b28  71cf              STRB     r7,[r1,#7]            ;1485
001b2a  f89a7004          LDRB     r7,[r10,#4]           ;1486  ; RXBUFF
001b2e  720f              STRB     r7,[r1,#8]            ;1486
001b30  f89a7005          LDRB     r7,[r10,#5]           ;1487  ; RXBUFF
001b34  724f              STRB     r7,[r1,#9]            ;1487
001b36  f89a7006          LDRB     r7,[r10,#6]           ;1488  ; RXBUFF
001b3a  728f              STRB     r7,[r1,#0xa]          ;1488
001b3c  f89a7007          LDRB     r7,[r10,#7]           ;1489  ; RXBUFF
001b40  72cf              STRB     r7,[r1,#0xb]          ;1489
001b42  88cf              LDRH     r7,[r1,#6]  ; eb2_data
001b44  81af              STRH     r7,[r5,#0xc]
;;;1491   
;;;1492   	can_reset_cnt=0;
001b46  70b4              STRB     r4,[r6,#2]
                  |L1.6984|
;;;1493        }
;;;1494   
;;;1495   if( ((RXBUFF[0]&0x1f)==22)&&((RXBUFF[1])==PUTTM) )
001b48  2816              CMP      r0,#0x16
001b4a  d11a              BNE      |L1.7042|
001b4c  2ade              CMP      r2,#0xde
001b4e  d118              BNE      |L1.7042|
;;;1496        {
;;;1497        eb2_data[12]=RXBUFF[2];
001b50  f89a7002          LDRB     r7,[r10,#2]  ; RXBUFF
001b54  730f              STRB     r7,[r1,#0xc]
;;;1498   	eb2_data[13]=RXBUFF[3];
001b56  f89a7003          LDRB     r7,[r10,#3]  ; RXBUFF
001b5a  734f              STRB     r7,[r1,#0xd]
;;;1499        eb2_data[14]=RXBUFF[4];
001b5c  f89a7004          LDRB     r7,[r10,#4]  ; RXBUFF
001b60  738f              STRB     r7,[r1,#0xe]
;;;1500   	eb2_data[15]=RXBUFF[5];
001b62  f89a7005          LDRB     r7,[r10,#5]  ; RXBUFF
001b66  73cf              STRB     r7,[r1,#0xf]
;;;1501   	eb2_data[16]=RXBUFF[6];
001b68  f89a7006          LDRB     r7,[r10,#6]  ; RXBUFF
001b6c  740f              STRB     r7,[r1,#0x10]
;;;1502   	eb2_data[17]=RXBUFF[7];
001b6e  f89a7007          LDRB     r7,[r10,#7]  ; RXBUFF
001b72  744f              STRB     r7,[r1,#0x11]
;;;1503   	eb2_data_short[0]=*((short*)&eb2_data[12]);
001b74  898f              LDRH     r7,[r1,#0xc]  ; eb2_data
001b76  802f              STRH     r7,[r5,#0]
;;;1504   	eb2_data_short[1]=*((short*)&eb2_data[14]);
001b78  89cf              LDRH     r7,[r1,#0xe]  ; eb2_data
001b7a  806f              STRH     r7,[r5,#2]
;;;1505   	eb2_data_short[2]=*((short*)&eb2_data[16]);
001b7c  8a0f              LDRH     r7,[r1,#0x10]  ; eb2_data
001b7e  80af              STRH     r7,[r5,#4]
;;;1506   
;;;1507   	can_reset_cnt=0;
001b80  70b4              STRB     r4,[r6,#2]
                  |L1.7042|
;;;1508        }
;;;1509   
;;;1510   if( ((RXBUFF[0]&0x1f)==23)&&((RXBUFF[1])==PUTTM) )
001b82  2817              CMP      r0,#0x17
001b84  d11a              BNE      |L1.7100|
001b86  2ade              CMP      r2,#0xde
001b88  d118              BNE      |L1.7100|
;;;1511        {
;;;1512        eb2_data[18]=RXBUFF[2];
001b8a  f89a0002          LDRB     r0,[r10,#2]  ; RXBUFF
001b8e  7488              STRB     r0,[r1,#0x12]
;;;1513   	eb2_data[19]=RXBUFF[3];
001b90  f89a0003          LDRB     r0,[r10,#3]  ; RXBUFF
001b94  74c8              STRB     r0,[r1,#0x13]
;;;1514        eb2_data[20]=RXBUFF[4];
001b96  f89a0004          LDRB     r0,[r10,#4]  ; RXBUFF
001b9a  7508              STRB     r0,[r1,#0x14]
;;;1515   	eb2_data[21]=RXBUFF[5];
001b9c  f89a0005          LDRB     r0,[r10,#5]  ; RXBUFF
001ba0  7548              STRB     r0,[r1,#0x15]
;;;1516   	eb2_data[22]=RXBUFF[6];
001ba2  f89a0006          LDRB     r0,[r10,#6]  ; RXBUFF
001ba6  7588              STRB     r0,[r1,#0x16]
;;;1517   	eb2_data[23]=RXBUFF[7];
001ba8  f89a0007          LDRB     r0,[r10,#7]  ; RXBUFF
001bac  75c8              STRB     r0,[r1,#0x17]
;;;1518   	eb2_data_short[3]=*((short*)&eb2_data[18]);
001bae  8a48              LDRH     r0,[r1,#0x12]  ; eb2_data
001bb0  80e8              STRH     r0,[r5,#6]
;;;1519   	eb2_data_short[4]=*((short*)&eb2_data[20]);
001bb2  8a88              LDRH     r0,[r1,#0x14]  ; eb2_data
001bb4  8128              STRH     r0,[r5,#8]
;;;1520   	eb2_data_short[5]=*((short*)&eb2_data[22]);
001bb6  8ac8              LDRH     r0,[r1,#0x16]  ; eb2_data
001bb8  8168              STRH     r0,[r5,#0xa]
;;;1521   
;;;1522   	can_reset_cnt=0;
001bba  70b4              STRB     r4,[r6,#2]
                  |L1.7100|
;;;1523        }
;;;1524   
;;;1525   if( (RXBUFF[1]==PUTTM_MAKB1)&&(RXBUFF[0]>=0)&&(RXBUFF[0]<=3))
;;;1526        {
;;;1527   	makb[RXBUFF[0]]._U[0]=*((short*)&RXBUFF[2]);
001bbc  4dae              LDR      r5,|L1.7800|
001bbe  2ae2              CMP      r2,#0xe2              ;1525
001bc0  d12a              BNE      |L1.7192|
001bc2  2b03              CMP      r3,#3                 ;1525
001bc4  d828              BHI      |L1.7192|
001bc6  ebc300c3          RSB      r0,r3,r3,LSL #3
001bca  eb000040          ADD      r0,r0,r0,LSL #1
001bce  f9bac002          LDRSH    r12,[r10,#2]  ; RXBUFF
001bd2  4657              MOV      r7,r10
001bd4  f825c010          STRH     r12,[r5,r0,LSL #1]
;;;1528   	makb[RXBUFF[0]]._U[1]=*((short*)&RXBUFF[4]);
001bd8  eb050040          ADD      r0,r5,r0,LSL #1
001bdc  f9b71004          LDRSH    r1,[r7,#4]  ; RXBUFF
001be0  8041              STRH     r1,[r0,#2]
;;;1529   	makb[RXBUFF[0]]._U[2]=*((short*)&RXBUFF[6]);
001be2  f9b77006          LDRSH    r7,[r7,#6]  ; RXBUFF
001be6  8087              STRH     r7,[r0,#4]
;;;1530   
;;;1531   	makb[RXBUFF[0]]._Ub[0]=makb[RXBUFF[0]]._U[0];
001be8  f8a0c00a          STRH     r12,[r0,#0xa]
;;;1532   	if(makb[RXBUFF[0]]._Ub[0]<0)makb[RXBUFF[0]]._Ub[0]=0;
001bec  f1bc0f00          CMP      r12,#0
001bf0  da00              BGE      |L1.7156|
001bf2  8144              STRH     r4,[r0,#0xa]
                  |L1.7156|
;;;1533   	makb[RXBUFF[0]]._Ub[1]=makb[RXBUFF[0]]._U[1]-makb[RXBUFF[0]]._U[0];
001bf4  eba10c0c          SUB      r12,r1,r12
001bf8  fa0ffc8c          SXTH     r12,r12
001bfc  f8a0c00c          STRH     r12,[r0,#0xc]
;;;1534   	if(makb[RXBUFF[0]]._Ub[1]<0)makb[RXBUFF[0]]._Ub[1]=0;
001c00  f1bc0f00          CMP      r12,#0
001c04  da00              BGE      |L1.7176|
001c06  8184              STRH     r4,[r0,#0xc]
                  |L1.7176|
;;;1535   	makb[RXBUFF[0]]._Ub[2]=makb[RXBUFF[0]]._U[2]-makb[RXBUFF[0]]._U[1];
001c08  eba70101          SUB      r1,r7,r1
001c0c  b209              SXTH     r1,r1
001c0e  81c1              STRH     r1,[r0,#0xe]
;;;1536   	if(makb[RXBUFF[0]]._Ub[2]<0)makb[RXBUFF[0]]._Ub[2]=0;
001c10  2900              CMP      r1,#0
001c12  da00              BGE      |L1.7190|
001c14  81c4              STRH     r4,[r0,#0xe]
                  |L1.7190|
;;;1537   
;;;1538   	makb[RXBUFF[0]]._cnt=0;
001c16  8504              STRH     r4,[r0,#0x28]
                  |L1.7192|
;;;1539        }
;;;1540   
;;;1541   if( (RXBUFF[1]==PUTTM_MAKB2)&&(RXBUFF[0]>=0)&&(RXBUFF[0]<=3))
001c18  2ae3              CMP      r2,#0xe3
001c1a  d129              BNE      |L1.7280|
001c1c  2b03              CMP      r3,#3
001c1e  d827              BHI      |L1.7280|
;;;1542        {
;;;1543   	makb[RXBUFF[0]]._U[3]=*((short*)&RXBUFF[2]);
001c20  ebc300c3          RSB      r0,r3,r3,LSL #3
001c24  eb000040          ADD      r0,r0,r0,LSL #1
001c28  eb050040          ADD      r0,r5,r0,LSL #1
001c2c  f9ba1002          LDRSH    r1,[r10,#2]  ; RXBUFF
001c30  80c1              STRH     r1,[r0,#6]
;;;1544   	makb[RXBUFF[0]]._U[4]=*((short*)&RXBUFF[4]);
001c32  f9ba7004          LDRSH    r7,[r10,#4]  ; RXBUFF
001c36  8107              STRH     r7,[r0,#8]
;;;1545   	makb[RXBUFF[0]]._T[0]=(signed short)(*((signed char*)&RXBUFF[6]));
001c38  f99ac006          LDRSB    r12,[r10,#6]  ; RXBUFF
001c3c  f8a0c014          STRH     r12,[r0,#0x14]
;;;1546   	makb[RXBUFF[0]]._T[1]=(signed short)(*((signed char*)&RXBUFF[7]));
001c40  f99ac007          LDRSB    r12,[r10,#7]  ; RXBUFF
001c44  f8a0c016          STRH     r12,[r0,#0x16]
;;;1547   
;;;1548   	makb[RXBUFF[0]]._Ub[3]=makb[RXBUFF[0]]._U[3]-makb[RXBUFF[0]]._U[2];
001c48  f8b0c004          LDRH     r12,[r0,#4]
001c4c  eba10c0c          SUB      r12,r1,r12
001c50  fa0ffc8c          SXTH     r12,r12
001c54  f8a0c010          STRH     r12,[r0,#0x10]
;;;1549   	if(makb[RXBUFF[0]]._Ub[3]<0)makb[RXBUFF[0]]._Ub[3]=0;
001c58  f1bc0f00          CMP      r12,#0
001c5c  da00              BGE      |L1.7264|
001c5e  8204              STRH     r4,[r0,#0x10]
                  |L1.7264|
;;;1550   	makb[RXBUFF[0]]._Ub[4]=makb[RXBUFF[0]]._U[4]-makb[RXBUFF[0]]._U[3];
001c60  eba70101          SUB      r1,r7,r1
001c64  b209              SXTH     r1,r1
001c66  8241              STRH     r1,[r0,#0x12]
;;;1551   	if(makb[RXBUFF[0]]._Ub[4]<0)makb[RXBUFF[0]]._Ub[4]=0;
001c68  2900              CMP      r1,#0
001c6a  da00              BGE      |L1.7278|
001c6c  8244              STRH     r4,[r0,#0x12]
                  |L1.7278|
;;;1552   
;;;1553   	makb[RXBUFF[0]]._cnt=0;
001c6e  8504              STRH     r4,[r0,#0x28]
                  |L1.7280|
;;;1554        }
;;;1555   
;;;1556   if( (RXBUFF[1]==PUTTM_MAKB3)&&(RXBUFF[0]>=0)&&(RXBUFF[0]<=3))
001c70  2ae4              CMP      r2,#0xe4
001c72  d12e              BNE      |L1.7378|
001c74  2b03              CMP      r3,#3
001c76  d82c              BHI      |L1.7378|
;;;1557        {
;;;1558   	makb[RXBUFF[0]]._T[2]=(signed short)(*((signed char*)&RXBUFF[2]));
001c78  ebc300c3          RSB      r0,r3,r3,LSL #3
001c7c  eb000040          ADD      r0,r0,r0,LSL #1
001c80  eb050040          ADD      r0,r5,r0,LSL #1
001c84  f99a1002          LDRSB    r1,[r10,#2]  ; RXBUFF
001c88  8301              STRH     r1,[r0,#0x18]
;;;1559   	makb[RXBUFF[0]]._T[3]=(signed short)(*((signed char*)&RXBUFF[3]));
001c8a  f99a1003          LDRSB    r1,[r10,#3]  ; RXBUFF
001c8e  8341              STRH     r1,[r0,#0x1a]
;;;1560   	makb[RXBUFF[0]]._T[4]=(signed short)(*((signed char*)&RXBUFF[4]));
001c90  f99a1004          LDRSB    r1,[r10,#4]  ; RXBUFF
001c94  8381              STRH     r1,[r0,#0x1c]
;;;1561   
;;;1562   	if(RXBUFF[5]&0x01)makb[RXBUFF[0]]._T_nd[0]=1;
001c96  f89a1005          LDRB     r1,[r10,#5]  ; RXBUFF
001c9a  f04f0501          MOV      r5,#1                 ;1153
001c9e  07cf              LSLS     r7,r1,#31
001ca0  d001              BEQ      |L1.7334|
001ca2  83c5              STRH     r5,[r0,#0x1e]
001ca4  e000              B        |L1.7336|
                  |L1.7334|
;;;1563   	else makb[RXBUFF[0]]._T_nd[0]=0;
001ca6  83c4              STRH     r4,[r0,#0x1e]
                  |L1.7336|
;;;1564   	if(RXBUFF[5]&0x02)makb[RXBUFF[0]]._T_nd[1]=1;
001ca8  078f              LSLS     r7,r1,#30
001caa  d501              BPL      |L1.7344|
001cac  8405              STRH     r5,[r0,#0x20]
001cae  e000              B        |L1.7346|
                  |L1.7344|
;;;1565   	else makb[RXBUFF[0]]._T_nd[1]=0;
001cb0  8404              STRH     r4,[r0,#0x20]
                  |L1.7346|
;;;1566   	if(RXBUFF[5]&0x04)makb[RXBUFF[0]]._T_nd[2]=1;
001cb2  074f              LSLS     r7,r1,#29
001cb4  d501              BPL      |L1.7354|
001cb6  8445              STRH     r5,[r0,#0x22]
001cb8  e000              B        |L1.7356|
                  |L1.7354|
;;;1567   	else makb[RXBUFF[0]]._T_nd[2]=0;
001cba  8444              STRH     r4,[r0,#0x22]
                  |L1.7356|
;;;1568   	if(RXBUFF[5]&0x08)makb[RXBUFF[0]]._T_nd[3]=1;
001cbc  070f              LSLS     r7,r1,#28
001cbe  d501              BPL      |L1.7364|
001cc0  8485              STRH     r5,[r0,#0x24]
001cc2  e000              B        |L1.7366|
                  |L1.7364|
;;;1569   	else makb[RXBUFF[0]]._T_nd[3]=0;
001cc4  8484              STRH     r4,[r0,#0x24]
                  |L1.7366|
;;;1570   	if(RXBUFF[5]&0x10)makb[RXBUFF[0]]._T_nd[4]=1;
001cc6  06c9              LSLS     r1,r1,#27
001cc8  d501              BPL      |L1.7374|
001cca  84c5              STRH     r5,[r0,#0x26]
001ccc  e000              B        |L1.7376|
                  |L1.7374|
;;;1571   	else makb[RXBUFF[0]]._T_nd[4]=0;
001cce  84c4              STRH     r4,[r0,#0x26]
                  |L1.7376|
;;;1572   
;;;1573   	makb[RXBUFF[0]]._cnt=0;
001cd0  8504              STRH     r4,[r0,#0x28]
                  |L1.7378|
;;;1574        }
;;;1575   
;;;1576   /*if(RXBUFF[0]==PUT_LB_TM1)
;;;1577        {
;;;1578   	lakb[0]._max_cell_volt=(unsigned short)(*((unsigned short*)&RXBUFF[1]));
;;;1579   	lakb[0]._min_cell_volt=(unsigned short)(*((unsigned short*)&RXBUFF[3]));
;;;1580   	lakb[0]._tot_bat_volt=(unsigned short)(*((unsigned short*)&RXBUFF[5]));
;;;1581   	lakb[0]._max_cell_temp=(unsigned short)RXBUFF[7];
;;;1582   	lakb[0]._cnt=0;
;;;1583   	lakb[0]._plazma[0]++;
;;;1584        }
;;;1585   if(RXBUFF[0]==PUT_LB_TM2)
;;;1586        {
;;;1587   	lakb[0]._ch_curr=(unsigned short)(*((unsigned short*)&RXBUFF[1]));
;;;1588   	lakb[0]._dsch_curr=(unsigned short)(*((unsigned short*)&RXBUFF[3]));
;;;1589   	lakb[0]._rat_cap=(unsigned short)(*((unsigned short*)&RXBUFF[5]));
;;;1590   	lakb[0]._min_cell_temp=(unsigned short)RXBUFF[7];
;;;1591   	lakb[0]._cnt=0;
;;;1592   	lakb[0]._plazma[1]++;
;;;1593        }
;;;1594   if(RXBUFF[0]==PUT_LB_TM3)
;;;1595        {
;;;1596   	lakb[0]._s_o_h=(unsigned short)RXBUFF[1];
;;;1597   	lakb[0]._s_o_c=(unsigned short)RXBUFF[2];
;;;1598   	lakb[0]._c_c_l_v=(unsigned short)(*((unsigned short*)&RXBUFF[3]));
;;;1599   	lakb[0]._r_b_t=(unsigned short)RXBUFF[5];
;;;1600   	lakb[0]._flags1=(unsigned short)RXBUFF[6];
;;;1601   	lakb[0]._flags2=(unsigned short)RXBUFF[7];
;;;1602   	lakb[0]._cnt=0;
;;;1603   	lakb[0]._plazma[2]++;
;;;1604        }
;;;1605   if(RXBUFF[0]==PUT_LB_TM4)
;;;1606        {
;;;1607   	lakb[0]._bRS485ERR=(unsigned short)RXBUFF[1];
;;;1608   	lakb[0]._rs485_cnt=(unsigned short)RXBUFF[2];
;;;1609   	lakb[0]._cnt=0;
;;;1610   	lakb[0]._plazma[3]++;
;;;1611        }*/
;;;1612   	
;;;1613   if((RXBUFF[1]&0xf8)==PUT_LB_TM1)
;;;1614        {
;;;1615   	char temp;
;;;1616   	temp=RXBUFF[1]&0x07;
;;;1617   	
;;;1618   	if(temp==0) //    
;;;1619   		{	
;;;1620   		lakb_damp[temp][0]=RXBUFF[0];
001cd2  4d6a              LDR      r5,|L1.7804|
;;;1621   		mem_copy(&lakb_damp[temp][1],&RXBUFF[2],6);
;;;1622   	
;;;1623   		ccc_plazma[0]++;
001cd4  4f6a              LDR      r7,|L1.7808|
;;;1624   		ccc_plazma[7]=temp;
;;;1625   		li_bat._canErrorCnt=0;
001cd6  f8dfb1ac          LDR      r11,|L1.7812|
001cda  ebb80fd2          CMP      r8,r2,LSR #3          ;1613
001cde  d115              BNE      |L1.7436|
001ce0  4651              MOV      r1,r10                ;1616
001ce2  f0020007          AND      r0,r2,#7              ;1616
001ce6  b988              CBNZ     r0,|L1.7436|
001ce8  702b              STRB     r3,[r5,#0]            ;1620
001cea  f1050001          ADD      r0,r5,#1              ;1620
001cee  f04f0206          MOV      r2,#6                 ;1621
001cf2  f1010102          ADD      r1,r1,#2              ;1621
001cf6  f7fffffe          BL       mem_copy
001cfa  7838              LDRB     r0,[r7,#0]            ;1623  ; ccc_plazma
001cfc  f1000001          ADD      r0,r0,#1              ;1623
001d00  7038              STRB     r0,[r7,#0]            ;1623
001d02  71fc              STRB     r4,[r7,#7]            ;1624
001d04  f8ab4012          STRH     r4,[r11,#0x12]
;;;1626   		li_bat._canError=0;
001d08  f88b4014          STRB     r4,[r11,#0x14]
                  |L1.7436|
;;;1627   		}
;;;1628   	}	
;;;1629   
;;;1630   if((RXBUFF[1]&0xf8)==PUT_LB_TM2)
001d0c  f89a0001          LDRB     r0,[r10,#1]  ; RXBUFF
001d10  210f              MOVS     r1,#0xf
001d12  ebb10fd0          CMP      r1,r0,LSR #3
001d16  d116              BNE      |L1.7494|
;;;1631        {
;;;1632   	char temp;
;;;1633   	temp=RXBUFF[1]&0x07;
001d18  4651              MOV      r1,r10
001d1a  f0000007          AND      r0,r0,#7
;;;1634   	
;;;1635   	if(temp==0) //    
001d1e  b990              CBNZ     r0,|L1.7494|
;;;1636   		{		
;;;1637   		lakb_damp[temp][7]=RXBUFF[0];
001d20  f8112b02          LDRB     r2,[r1],#2  ; RXBUFF
001d24  4628              MOV      r0,r5
001d26  71ea              STRB     r2,[r5,#7]
;;;1638   		mem_copy(&lakb_damp[temp][8],&RXBUFF[2],6);
001d28  f1000008          ADD      r0,r0,#8
001d2c  f04f0206          MOV      r2,#6
001d30  f7fffffe          BL       mem_copy
;;;1639   		
;;;1640   		ccc_plazma[1]++;
001d34  7878              LDRB     r0,[r7,#1]  ; ccc_plazma
001d36  f1000001          ADD      r0,r0,#1
001d3a  7078              STRB     r0,[r7,#1]
;;;1641   		ccc_plazma[8]=temp;
001d3c  723c              STRB     r4,[r7,#8]
;;;1642   		li_bat._canErrorCnt=0;
001d3e  f8ab4012          STRH     r4,[r11,#0x12]
;;;1643   		li_bat._canError=0;
001d42  f88b4014          STRB     r4,[r11,#0x14]
                  |L1.7494|
;;;1644   		}
;;;1645   	}
;;;1646   
;;;1647   if((RXBUFF[1]&0xf8)==PUT_LB_TM3)
001d46  f89a0001          LDRB     r0,[r10,#1]  ; RXBUFF
001d4a  ebb90fd0          CMP      r9,r0,LSR #3
001d4e  d116              BNE      |L1.7550|
;;;1648        {
;;;1649   	char temp;
;;;1650   	temp=RXBUFF[1]&0x07;
001d50  4651              MOV      r1,r10
001d52  f0000007          AND      r0,r0,#7
;;;1651   
;;;1652   	if(temp==0) //    
001d56  b990              CBNZ     r0,|L1.7550|
;;;1653   		{
;;;1654   		lakb_damp[temp][14]=RXBUFF[0];
001d58  f8112b02          LDRB     r2,[r1],#2  ; RXBUFF
001d5c  4628              MOV      r0,r5
001d5e  73aa              STRB     r2,[r5,#0xe]
;;;1655   		mem_copy(&lakb_damp[temp][15],&RXBUFF[2],6);
001d60  f100000f          ADD      r0,r0,#0xf
001d64  f04f0206          MOV      r2,#6
001d68  f7fffffe          BL       mem_copy
;;;1656   		
;;;1657   		ccc_plazma[2]++;
001d6c  78b8              LDRB     r0,[r7,#2]  ; ccc_plazma
001d6e  f1000001          ADD      r0,r0,#1
001d72  70b8              STRB     r0,[r7,#2]
;;;1658   		ccc_plazma[9]=temp;
001d74  727c              STRB     r4,[r7,#9]
;;;1659   		li_bat._canErrorCnt=0;
001d76  f8ab4012          STRH     r4,[r11,#0x12]
;;;1660   		li_bat._canError=0;
001d7a  f88b4014          STRB     r4,[r11,#0x14]
                  |L1.7550|
;;;1661   		}
;;;1662   	}	
;;;1663   
;;;1664   if((RXBUFF[1]&0xf8)==PUT_LB_TM4)
001d7e  f89a0001          LDRB     r0,[r10,#1]  ; RXBUFF
001d82  2109              MOVS     r1,#9
001d84  ebb10fd0          CMP      r1,r0,LSR #3
001d88  d116              BNE      |L1.7608|
;;;1665        {
;;;1666   	char temp;
;;;1667   	temp=RXBUFF[1]&0x07;
001d8a  4651              MOV      r1,r10
001d8c  f0000007          AND      r0,r0,#7
;;;1668   	
;;;1669   	if(temp==0) //    
001d90  b990              CBNZ     r0,|L1.7608|
;;;1670   		{
;;;1671   		lakb_damp[temp][21]=RXBUFF[0];
001d92  f8112b02          LDRB     r2,[r1],#2  ; RXBUFF
001d96  4628              MOV      r0,r5
001d98  756a              STRB     r2,[r5,#0x15]
;;;1672   		mem_copy(&lakb_damp[temp][22],&RXBUFF[2],6);
001d9a  f1000016          ADD      r0,r0,#0x16
001d9e  f04f0206          MOV      r2,#6
001da2  f7fffffe          BL       mem_copy
;;;1673   		
;;;1674   		ccc_plazma[3]++;
001da6  78f8              LDRB     r0,[r7,#3]  ; ccc_plazma
001da8  f1000001          ADD      r0,r0,#1
001dac  70f8              STRB     r0,[r7,#3]
;;;1675   		ccc_plazma[10]=temp;
001dae  72bc              STRB     r4,[r7,#0xa]
;;;1676   		li_bat._canErrorCnt=0;
001db0  f8ab4012          STRH     r4,[r11,#0x12]
;;;1677   		li_bat._canError=0;
001db4  f88b4014          STRB     r4,[r11,#0x14]
                  |L1.7608|
;;;1678   		}
;;;1679   	}
;;;1680   
;;;1681   if((RXBUFF[1]&0xf8)==PUT_LB_TM5)
001db8  f89a0001          LDRB     r0,[r10,#1]  ; RXBUFF
001dbc  210b              MOVS     r1,#0xb
001dbe  ebb10fd0          CMP      r1,r0,LSR #3
001dc2  d116              BNE      |L1.7666|
;;;1682        {
;;;1683   	char temp;
;;;1684   	temp=RXBUFF[1]&0x07;
001dc4  4651              MOV      r1,r10
001dc6  f0000007          AND      r0,r0,#7
;;;1685   
;;;1686   	if(temp==0) //    
001dca  b990              CBNZ     r0,|L1.7666|
;;;1687   		{		
;;;1688   		lakb_damp[temp][28]=RXBUFF[0];
001dcc  f8112b02          LDRB     r2,[r1],#2  ; RXBUFF
001dd0  4628              MOV      r0,r5
001dd2  772a              STRB     r2,[r5,#0x1c]
;;;1689   		mem_copy(&lakb_damp[temp][29],&RXBUFF[2],6);
001dd4  f100001d          ADD      r0,r0,#0x1d
001dd8  f04f0206          MOV      r2,#6
001ddc  f7fffffe          BL       mem_copy
;;;1690   
;;;1691   		ccc_plazma[4]++;
001de0  7938              LDRB     r0,[r7,#4]  ; ccc_plazma
001de2  f1000001          ADD      r0,r0,#1
001de6  7138              STRB     r0,[r7,#4]
;;;1692   		ccc_plazma[11]=temp;
001de8  72fc              STRB     r4,[r7,#0xb]
;;;1693   		li_bat._canErrorCnt=0;
001dea  f8ab4012          STRH     r4,[r11,#0x12]
;;;1694   		li_bat._canError=0;
001dee  f88b4014          STRB     r4,[r11,#0x14]
                  |L1.7666|
;;;1695   		}
;;;1696   	}
;;;1697   
;;;1698   if((RXBUFF[1]&0xf8)==PUT_LB_TM6)
001df2  f89a0001          LDRB     r0,[r10,#1]  ; RXBUFF
001df6  210d              MOVS     r1,#0xd
001df8  ebb10fd0          CMP      r1,r0,LSR #3
001dfc  d117              BNE      |L1.7726|
;;;1699        {
;;;1700   	char temp;
;;;1701   	temp=RXBUFF[1]&0x07;
001dfe  4651              MOV      r1,r10
001e00  f0000007          AND      r0,r0,#7
;;;1702   		
;;;1703   	if(temp==0) //    
001e04  b998              CBNZ     r0,|L1.7726|
;;;1704   		{
;;;1705   		lakb_damp[temp][35]=RXBUFF[0];
001e06  f8112b02          LDRB     r2,[r1],#2  ; RXBUFF
001e0a  4628              MOV      r0,r5
001e0c  f8852023          STRB     r2,[r5,#0x23]
;;;1706   		mem_copy(&lakb_damp[temp][36],&RXBUFF[2],6);
001e10  f1000024          ADD      r0,r0,#0x24
001e14  f04f0206          MOV      r2,#6
001e18  f7fffffe          BL       mem_copy
;;;1707   		
;;;1708   		ccc_plazma[5]++;
001e1c  7978              LDRB     r0,[r7,#5]  ; ccc_plazma
001e1e  f1000001          ADD      r0,r0,#1
001e22  7178              STRB     r0,[r7,#5]
;;;1709   		ccc_plazma[12]=temp;
001e24  733c              STRB     r4,[r7,#0xc]
;;;1710   		li_bat._canErrorCnt=0;
001e26  f8ab4012          STRH     r4,[r11,#0x12]
;;;1711   		li_bat._canError=0;	
001e2a  f88b4014          STRB     r4,[r11,#0x14]
                  |L1.7726|
;;;1712   		}
;;;1713   	}
;;;1714   
;;;1715   
;;;1716   if(RXBUFF[1]==PUT_ZTT_TM1)
001e2e  f89a0001          LDRB     r0,[r10,#1]  ; RXBUFF
;;;1717       {
;;;1718   	lakb[0]._communication2lvlErrorCnt=(signed short)(*((signed char*)&RXBUFF[0]));
;;;1719   	lakb[0]._ch_curr=(signed short)(*((signed short*)&RXBUFF[2]));
;;;1720   	lakb[0]._tot_bat_volt=(signed short)(*((signed short*)&RXBUFF[4]));
;;;1721   	lakb[0]._max_cell_temp=(signed short)(*((signed short*)&RXBUFF[6]));
;;;1722   	
;;;1723   	plazma_ztt[0]++;
001e32  4915              LDR      r1,|L1.7816|
001e34  4a15              LDR      r2,|L1.7820|
001e36  28c1              CMP      r0,#0xc1              ;1716
001e38  d134              BNE      |L1.7844|
001e3a  f99a3000          LDRSB    r3,[r10,#0]           ;1718  ; RXBUFF
001e3e  8413              STRH     r3,[r2,#0x20]         ;1718
001e40  f8ba3002          LDRH     r3,[r10,#2]           ;1719  ; RXBUFF
001e44  8153              STRH     r3,[r2,#0xa]          ;1719
001e46  e023              B        |L1.7824|
                  |L1.7752|
                          DCD      power_summary_tempo
                  |L1.7756|
                          DCD      power_current_tempo
                  |L1.7760|
                          DCD      adc_buff_ext_
                  |L1.7764|
                          DCD      t_ext_can
                  |L1.7768|
                          DCD      t_ext_can_nd
                  |L1.7772|
                          DCD      vvod_pos
                  |L1.7776|
                          DCD      ext_can_cnt
                  |L1.7780|
                          DCD      bRESET_EXT
                  |L1.7784|
                          DCD      power_current
                  |L1.7788|
                          DCD      power_summary
                  |L1.7792|
                          DCD      eb2_data
                  |L1.7796|
                          DCD      eb2_data_short
                  |L1.7800|
                          DCD      makb
                  |L1.7804|
                          DCD      lakb_damp
                  |L1.7808|
                          DCD      ||.bss||+0x1a6
                  |L1.7812|
                          DCD      li_bat
                  |L1.7816|
                          DCD      plazma_ztt
                  |L1.7820|
                          DCD      lakb
                  |L1.7824|
001e90  f8ba3004          LDRH     r3,[r10,#4]           ;1720  ; RXBUFF
001e94  8113              STRH     r3,[r2,#8]            ;1720
001e96  f8ba3006          LDRH     r3,[r10,#6]           ;1721  ; RXBUFF
001e9a  8093              STRH     r3,[r2,#4]            ;1721
001e9c  780b              LDRB     r3,[r1,#0]  ; plazma_ztt
001e9e  f1030301          ADD      r3,r3,#1
001ea2  700b              STRB     r3,[r1,#0]
                  |L1.7844|
;;;1724   
;;;1725   	}
;;;1726   
;;;1727   if(RXBUFF[1]==PUT_ZTT_TM2)
001ea4  28c2              CMP      r0,#0xc2
001ea6  d10f              BNE      |L1.7880|
;;;1728       {
;;;1729   	lakb[0]._communication2lvlErrorStat=(signed short)(*((signed char*)&RXBUFF[0]));
001ea8  f99a3000          LDRSB    r3,[r10,#0]  ; RXBUFF
001eac  83d3              STRH     r3,[r2,#0x1e]
;;;1730   	lakb[0]._s_o_c=(signed short)(*((signed short*)&RXBUFF[2]));
001eae  f8ba3002          LDRH     r3,[r10,#2]  ; RXBUFF
001eb2  8253              STRH     r3,[r2,#0x12]
;;;1731   	lakb[0]._s_o_h=(signed short)(*((signed short*)&RXBUFF[4]));
001eb4  f8ba3004          LDRH     r3,[r10,#4]  ; RXBUFF
001eb8  8213              STRH     r3,[r2,#0x10]
;;;1732   
;;;1733   	//RXBUFF[7]=0x68;
;;;1734   	//RXBUFF[6]=0x60;
;;;1735   
;;;1736   	lakb[0]._plazma_ss=(signed short)(*((signed short*)&RXBUFF[6]));
001eba  f8ba3006          LDRH     r3,[r10,#6]  ; RXBUFF
001ebe  8693              STRH     r3,[r2,#0x34]
;;;1737   	
;;;1738   	plazma_ztt[1]++;
001ec0  784b              LDRB     r3,[r1,#1]  ; plazma_ztt
001ec2  f1030301          ADD      r3,r3,#1
001ec6  704b              STRB     r3,[r1,#1]
                  |L1.7880|
;;;1739   	}		
;;;1740   
;;;1741   if(RXBUFF[1]==PUT_ZTT_TM3)
001ec8  28c3              CMP      r0,#0xc3
001eca  d10e              BNE      |L1.7914|
;;;1742       {
;;;1743   	lakb[1]._communication2lvlErrorCnt=(signed short)(*((signed char*)&RXBUFF[0]));
001ecc  f102023c          ADD      r2,r2,#0x3c
001ed0  f99a1000          LDRSB    r1,[r10,#0]  ; RXBUFF
001ed4  8391              STRH     r1,[r2,#0x1c]
;;;1744   	lakb[1]._ch_curr=(signed short)(*((signed short*)&RXBUFF[2]));
001ed6  f8ba1002          LDRH     r1,[r10,#2]  ; RXBUFF
001eda  80d1              STRH     r1,[r2,#6]
;;;1745   	lakb[1]._tot_bat_volt=(signed short)(*((signed short*)&RXBUFF[4]));
001edc  f8ba1004          LDRH     r1,[r10,#4]  ; RXBUFF
001ee0  8091              STRH     r1,[r2,#4]
;;;1746   	lakb[1]._max_cell_temp=(signed short)(*((signed short*)&RXBUFF[6]));
001ee2  f8ba1006          LDRH     r1,[r10,#6]  ; RXBUFF
001ee6  f822193c          STRH     r1,[r2],#-0x3c
                  |L1.7914|
;;;1747   	
;;;1748   	}
;;;1749   
;;;1750   if(RXBUFF[1]==PUT_ZTT_TM4)
001eea  28c4              CMP      r0,#0xc4
001eec  d10f              BNE      |L1.7950|
;;;1751       {
;;;1752   	lakb[1]._communication2lvlErrorStat=(signed short)(*((signed char*)&RXBUFF[0]));
001eee  f1020248          ADD      r2,r2,#0x48
001ef2  f99a1000          LDRSB    r1,[r10,#0]  ; RXBUFF
001ef6  81d1              STRH     r1,[r2,#0xe]
;;;1753   	lakb[1]._s_o_c=(signed short)(*((signed short*)&RXBUFF[2]));
001ef8  f8ba1002          LDRH     r1,[r10,#2]  ; RXBUFF
001efc  8051              STRH     r1,[r2,#2]
;;;1754   	lakb[1]._s_o_h=(signed short)(*((signed short*)&RXBUFF[4]));
001efe  f8ba1004          LDRH     r1,[r10,#4]  ; RXBUFF
001f02  8011              STRH     r1,[r2,#0]
;;;1755   	lakb[1]._plazma_ss=(signed short)(*((signed short*)&RXBUFF[6]));
001f04  f8ba1006          LDRH     r1,[r10,#6]  ; RXBUFF
001f08  8491              STRH     r1,[r2,#0x24]
001f0a  f1a20248          SUB      r2,r2,#0x48
                  |L1.7950|
;;;1756   	
;;;1757   	}	
;;;1758   
;;;1759   if(RXBUFF[1]==PUT_ZTT_TM5)
001f0e  28c5              CMP      r0,#0xc5
001f10  d10e              BNE      |L1.7984|
;;;1760       {
;;;1761   	lakb[2]._communication2lvlErrorCnt=(signed short)(*((signed char*)&RXBUFF[0]));
001f12  f1020274          ADD      r2,r2,#0x74
001f16  f99a1000          LDRSB    r1,[r10,#0]  ; RXBUFF
001f1a  8391              STRH     r1,[r2,#0x1c]
;;;1762   	lakb[2]._ch_curr=(signed short)(*((signed short*)&RXBUFF[2]));
001f1c  f8ba1002          LDRH     r1,[r10,#2]  ; RXBUFF
001f20  80d1              STRH     r1,[r2,#6]
;;;1763   	lakb[2]._tot_bat_volt=(signed short)(*((signed short*)&RXBUFF[4]));
001f22  f8ba1004          LDRH     r1,[r10,#4]  ; RXBUFF
001f26  8091              STRH     r1,[r2,#4]
;;;1764   	lakb[2]._max_cell_temp=(signed short)(*((signed short*)&RXBUFF[6]));
001f28  f8ba1006          LDRH     r1,[r10,#6]  ; RXBUFF
001f2c  f8221974          STRH     r1,[r2],#-0x74
                  |L1.7984|
;;;1765   	
;;;1766   	}
;;;1767   
;;;1768   if(RXBUFF[1]==PUT_ZTT_TM6)
001f30  28c6              CMP      r0,#0xc6
001f32  d10d              BNE      |L1.8016|
;;;1769       {
;;;1770   	lakb[2]._communication2lvlErrorStat=(signed short)(*((signed char*)&RXBUFF[0]));
001f34  f1020280          ADD      r2,r2,#0x80
001f38  f99a0000          LDRSB    r0,[r10,#0]  ; RXBUFF
001f3c  81d0              STRH     r0,[r2,#0xe]
;;;1771   	lakb[2]._s_o_c=(signed short)(*((signed short*)&RXBUFF[2]));
001f3e  f8ba0002          LDRH     r0,[r10,#2]  ; RXBUFF
001f42  8050              STRH     r0,[r2,#2]
;;;1772   	lakb[2]._s_o_h=(signed short)(*((signed short*)&RXBUFF[4]));
001f44  f8ba0004          LDRH     r0,[r10,#4]  ; RXBUFF
001f48  8010              STRH     r0,[r2,#0]
;;;1773   	lakb[2]._plazma_ss=(signed short)(*((signed short*)&RXBUFF[6]));
001f4a  f8ba0006          LDRH     r0,[r10,#6]  ; RXBUFF
001f4e  8490              STRH     r0,[r2,#0x24]
                  |L1.8016|
;;;1774   	
;;;1775   	}	
;;;1776   	
;;;1777   CAN_IN_AN1_end:
;;;1778   bIN2=0;
001f50  7274              STRB     r4,[r6,#9]
;;;1779   }
001f52  e8bd9ff0          POP      {r4-r12,pc}
;;;1780   
                          ENDP

                  CAN_ISR_Rx1 PROC
;;;1791   ***************************************************************************/ 
;;;1792   void CAN_ISR_Rx1( void )
001f56  b570              PUSH     {r4-r6,lr}
;;;1793   {
;;;1794   unsigned int buf;
;;;1795   unsigned int *pDest;
;;;1796   char temp;
;;;1797   char *ptr,j;
;;;1798   //can_cnt++;
;;;1799   
;;;1800   rotor_can[0]++;
001f58  48fd              LDR      r0,|L1.9040|
001f5a  8801              LDRH     r1,[r0,#0]  ; rotor_can
001f5c  f1010101          ADD      r1,r1,#1
001f60  8001              STRH     r1,[r0,#0]
;;;1801   
;;;1802     if (!(LPC_CAN1->RFS & 0xC0000400L))
001f62  4cfc              LDR      r4,|L1.9044|
001f64  6a21              LDR      r1,[r4,#0x20]
001f66  4afc              LDR      r2,|L1.9048|
001f68  4211              TST      r1,r2
001f6a  d140              BNE      |L1.8174|
;;;1803     { // 11-bit ID, no RTR, matched a filter
;;;1804   
;;;1805   rotor_can[1]++;
001f6c  8841              LDRH     r1,[r0,#2]  ; rotor_can
001f6e  f1010101          ADD      r1,r1,#1
001f72  8041              STRH     r1,[r0,#2]
;;;1806       // initialize destination pointer
;;;1807       // filter number is in lower 10 bits of C1RFS
;;;1808       pDest = (unsigned int *) &(gFullCANList[(LPC_CAN1->RFS & 0x000003FFL)].Dat1);
001f74  6a20              LDR      r0,[r4,#0x20]
001f76  49f6              LDR      r1,|L1.9040|
001f78  f3c00009          UBFX     r0,r0,#0,#10
001f7c  eb000040          ADD      r0,r0,r0,LSL #1
001f80  f101010c          ADD      r1,r1,#0xc
001f84  eb010080          ADD      r0,r1,r0,LSL #2
;;;1809       
;;;1810       // calculate contents for first entry into FullCAN list
;;;1811       buf = LPC_CAN1->RFS & 0xC00F0000L; // mask FF, RTR and DLC
001f88  6a22              LDR      r2,[r4,#0x20]
001f8a  4bf4              LDR      r3,|L1.9052|
001f8c  ea020203          AND      r2,r2,r3
;;;1812       buf |= 0x01002000L; // set semaphore to 01b and CAN port to 1
001f90  4bf3              LDR      r3,|L1.9056|
001f92  ea420203          ORR      r2,r2,r3
;;;1813       buf |= LPC_CAN1->RID & 0x000007FFL; // get CAN message ID
001f96  6a63              LDR      r3,[r4,#0x24]
001f98  f3c3030a          UBFX     r3,r3,#0,#11
001f9c  ea430302          ORR      r3,r3,r2
;;;1814   
;;;1815       // now copy entire message to FullCAN list
;;;1816       *pDest = buf; 
;;;1817       pDest++; // set to gFullCANList[(C1RFS & 0x000003FFL)].DatA
;;;1818       *pDest = LPC_CAN1->RDA; 
001fa0  6aa2              LDR      r2,[r4,#0x28]
001fa2  6042              STR      r2,[r0,#4]
;;;1819       pDest++; // set to gFullCANList[(C1RFS & 0x000003FFL)].DatB
;;;1820       *pDest = LPC_CAN1->RDB; 
001fa4  6ae2              LDR      r2,[r4,#0x2c]
001fa6  6082              STR      r2,[r0,#8]
;;;1821   
;;;1822       // now set the sempahore to complete
;;;1823       buf |= 0x03000000L; // set semaphore to 11b
001fa8  f0437240          ORR      r2,r3,#0x3000000
;;;1824       pDest -= 2; // set to gFullCANList[(C1RFS & 0x000003FFL)].Dat1
;;;1825       *pDest = buf; 
001fac  6002              STR      r2,[r0,#0]
;;;1826       
;;;1827   	temp=(char)gFullCANList[0].DatA;
001fae  6848              LDR      r0,[r1,#4]  ; gFullCANList
001fb0  b2c0              UXTB     r0,r0
;;;1828   	if(temp==0x30) bR=0;
001fb2  4aec              LDR      r2,|L1.9060|
001fb4  2830              CMP      r0,#0x30
001fb6  d00c              BEQ      |L1.8146|
;;;1829   	else bR++;
001fb8  79d0              LDRB     r0,[r2,#7]  ; bR
001fba  f1000001          ADD      r0,r0,#1
001fbe  71d0              STRB     r0,[r2,#7]
                  |L1.8128|
;;;1830   	
;;;1831   	temp=(char)(((gFullCANList[0].Dat1)>>16)&0x0f); 
001fc0  c901              LDM      r1!,{r0}  ; gFullCANList
001fc2  f3c04203          UBFX     r2,r0,#16,#4
;;;1832        
;;;1833        ptr=(char*)(&gFullCANList[0].DatA);
;;;1834   	
;;;1835   	for(j=0;j<temp;j++)
001fc6  f04f0000          MOV      r0,#0
;;;1836   		{
;;;1837   		RXBUFF[j]=*ptr;
001fca  4be1              LDR      r3,|L1.9040|
001fcc  f1030324          ADD      r3,r3,#0x24
001fd0  e009              B        |L1.8166|
                  |L1.8146|
001fd2  f04f0000          MOV      r0,#0                 ;1828
001fd6  71d0              STRB     r0,[r2,#7]            ;1828
001fd8  e7f2              B        |L1.8128|
                  |L1.8154|
001fda  f8115b01          LDRB     r5,[r1],#1
001fde  541d              STRB     r5,[r3,r0]
001fe0  f1000001          ADD      r0,r0,#1              ;1835
001fe4  b2c0              UXTB     r0,r0                 ;1835
                  |L1.8166|
001fe6  4290              CMP      r0,r2                 ;1835
001fe8  d3f7              BCC      |L1.8154|
;;;1838   		ptr++;
;;;1839   		}
;;;1840   	can_in_an1();
001fea  f7fffffe          BL       can_in_an1
                  |L1.8174|
;;;1841   	    
;;;1842       
;;;1843     }
;;;1844   
;;;1845     LPC_CAN1->CMR = 0x04; // release receive buffer
001fee  f04f0004          MOV      r0,#4
001ff2  6060              STR      r0,[r4,#4]
;;;1846   }
001ff4  bd70              POP      {r4-r6,pc}
;;;1847   
                          ENDP

                  CAN_ISR_Rx2 PROC
;;;1855   ***************************************************************************/ 
;;;1856   void CAN_ISR_Rx2( void ) 
001ff6  e92d41f0          PUSH     {r4-r8,lr}
;;;1857   {
;;;1858   unsigned int buf;
;;;1859   unsigned int *pDest;
;;;1860   char temp;
;;;1861   char *ptr,j;
;;;1862   //can_cnt++;
;;;1863   
;;;1864   //rotor_can[0]++;
;;;1865   //can_debug_plazma[0][0]++;
;;;1866   //if(C1ICR & 0x00000001L)
;;;1867   //	{
;;;1868   //	can_debug_plazma[0][0]++;
;;;1869   	if (!(LPC_CAN2->RFS & 0xC0000400L))
001ffa  4cdb              LDR      r4,|L1.9064|
001ffc  6a20              LDR      r0,[r4,#0x20]
001ffe  49d6              LDR      r1,|L1.9048|
002000  4208              TST      r0,r1
002002  d17e              BNE      |L1.8450|
;;;1870       		{ // 11-bit ID, no RTR, matched a filter
;;;1871   			
;;;1872       		//rotor_can[1]++;
;;;1873       		// initialize destination pointer
;;;1874       		// filter number is in lower 10 bits of C1RFS
;;;1875   			//plazma_can4=(char)((LPC_CAN2->RFS>>16) & 0x000000FFL);
;;;1876       		pDest = (unsigned int *) &(gFullCANList[(LPC_CAN2->RFS & 0x000003FFL)].Dat1);
002004  6a20              LDR      r0,[r4,#0x20]
002006  49d2              LDR      r1,|L1.9040|
002008  f3c00009          UBFX     r0,r0,#0,#10
00200c  eb000040          ADD      r0,r0,r0,LSL #1
002010  f101010c          ADD      r1,r1,#0xc
002014  eb010180          ADD      r1,r1,r0,LSL #2
;;;1877       
;;;1878   			plazma_can_pal[plazma_can_pal_index]=(char)(LPC_CAN2->RDA);
002018  6aa3              LDR      r3,[r4,#0x28]
00201a  4ed2              LDR      r6,|L1.9060|
00201c  48cc              LDR      r0,|L1.9040|
00201e  7b72              LDRB     r2,[r6,#0xd]  ; plazma_can_pal_index
002020  f1000092          ADD      r0,r0,#0x92
002024  5483              STRB     r3,[r0,r2]
;;;1879   			plazma_can_pal_index++;
002026  f1020201          ADD      r2,r2,#1
00202a  b2d2              UXTB     r2,r2
;;;1880   			plazma_can_pal[plazma_can_pal_index]=(char)((LPC_CAN2->RDA)>>8);
00202c  6aa3              LDR      r3,[r4,#0x28]
00202e  ea4f2313          LSR      r3,r3,#8
002032  5483              STRB     r3,[r0,r2]
;;;1881   			plazma_can_pal_index++;
002034  f1020201          ADD      r2,r2,#1
002038  b2d2              UXTB     r2,r2
;;;1882   			plazma_can_pal[plazma_can_pal_index]=(char)((LPC_CAN2->RDA)>>16);
00203a  6aa3              LDR      r3,[r4,#0x28]
00203c  ea4f4313          LSR      r3,r3,#16
002040  5483              STRB     r3,[r0,r2]
;;;1883   			plazma_can_pal_index++;
002042  f1020201          ADD      r2,r2,#1
002046  b2d2              UXTB     r2,r2
;;;1884   			plazma_can_pal[plazma_can_pal_index]=(char)((LPC_CAN2->RDA)>>24);
002048  6aa3              LDR      r3,[r4,#0x28]
00204a  ea4f6313          LSR      r3,r3,#24
00204e  5483              STRB     r3,[r0,r2]
;;;1885   			plazma_can_pal_index++;
002050  f1020201          ADD      r2,r2,#1
002054  b2d2              UXTB     r2,r2
;;;1886   			plazma_can_pal[plazma_can_pal_index]=(char)(LPC_CAN2->RDB);
002056  6ae3              LDR      r3,[r4,#0x2c]
002058  5483              STRB     r3,[r0,r2]
;;;1887   			plazma_can_pal_index++;
00205a  f1020201          ADD      r2,r2,#1
00205e  b2d2              UXTB     r2,r2
;;;1888   			plazma_can_pal[plazma_can_pal_index]=(char)((LPC_CAN2->RDB)>>8);
002060  6ae3              LDR      r3,[r4,#0x2c]
002062  ea4f2313          LSR      r3,r3,#8
002066  5483              STRB     r3,[r0,r2]
;;;1889   			plazma_can_pal_index++;
002068  f1020201          ADD      r2,r2,#1
00206c  b2d2              UXTB     r2,r2
;;;1890   			plazma_can_pal[plazma_can_pal_index]=(char)((LPC_CAN2->RDB)>>16);
00206e  6ae3              LDR      r3,[r4,#0x2c]
002070  ea4f4313          LSR      r3,r3,#16
002074  5483              STRB     r3,[r0,r2]
;;;1891   			plazma_can_pal_index++;
002076  f1020201          ADD      r2,r2,#1
00207a  b2d2              UXTB     r2,r2
;;;1892   			plazma_can_pal[plazma_can_pal_index]=(char)((LPC_CAN2->RDB)>>24);
00207c  6ae3              LDR      r3,[r4,#0x2c]
00207e  ea4f6313          LSR      r3,r3,#24
002082  5483              STRB     r3,[r0,r2]
;;;1893   			plazma_can_pal_index++;
002084  f1020201          ADD      r2,r2,#1
002088  7372              STRB     r2,[r6,#0xd]
;;;1894   
;;;1895       		// calculate contents for first entry into FullCAN list
;;;1896       		buf = LPC_CAN2->RFS & 0xC00F0000L; // mask FF, RTR and DLC
00208a  6a20              LDR      r0,[r4,#0x20]
00208c  4ab3              LDR      r2,|L1.9052|
00208e  ea000002          AND      r0,r0,r2
;;;1897       		buf |= 0x01002000L; // set semaphore to 01b and CAN port to 1
002092  4ab3              LDR      r2,|L1.9056|
002094  ea400002          ORR      r0,r0,r2
;;;1898       		buf |= LPC_CAN2->RID & 0x000007FFL; // get CAN message ID
002098  6a62              LDR      r2,[r4,#0x24]
00209a  f3c2020a          UBFX     r2,r2,#0,#11
00209e  ea420200          ORR      r2,r2,r0
;;;1899   
;;;1900       		// now copy entire message to FullCAN list
;;;1901       		*pDest = buf; 
;;;1902       		pDest++; // set to gFullCANList[(C1RFS & 0x000003FFL)].DatA
;;;1903       		*pDest = LPC_CAN2->RDA;
0020a2  6aa0              LDR      r0,[r4,#0x28]
0020a4  6048              STR      r0,[r1,#4]
;;;1904   			//plazma_can4=(char)LPC_CAN2->RDA; 
;;;1905       		pDest++; // set to gFullCANList[(C1RFS & 0x000003FFL)].DatB
;;;1906       		*pDest = LPC_CAN2->RDB; 
0020a6  6ae0              LDR      r0,[r4,#0x2c]
0020a8  6088              STR      r0,[r1,#8]
;;;1907   
;;;1908       		// now set the sempahore to complete
;;;1909       		buf |= 0x03000000L; // set semaphore to 11b
0020aa  f0427040          ORR      r0,r2,#0x3000000
;;;1910       		pDest -= 2; // set to gFullCANList[(C1RFS & 0x000003FFL)].Dat1
;;;1911       		*pDest = buf; 
0020ae  6008              STR      r0,[r1,#0]
;;;1912       
;;;1913   		//temp=(char)gFullCANList[0].DatA;
;;;1914   		temp=(char)(LPC_CAN2->RDA);
0020b0  6aa0              LDR      r0,[r4,#0x28]
0020b2  b2c0              UXTB     r0,r0
;;;1915   		if(temp==0x30)
0020b4  2830              CMP      r0,#0x30
0020b6  d00a              BEQ      |L1.8398|
;;;1916   			{
;;;1917   			 bR=0;
;;;1918   			 }
;;;1919   		else bR++;
0020b8  79f0              LDRB     r0,[r6,#7]  ; bR
0020ba  f1000001          ADD      r0,r0,#1
0020be  71f0              STRB     r0,[r6,#7]
                  |L1.8384|
;;;1920   	
;;;1921   		//temp=(char)(((gFullCANList[0].Dat1)>>16)&0x0f); 
;;;1922        
;;;1923        	//ptr=(char*)(&gFullCANList[0].DatA);
;;;1924   	
;;;1925   		if(!bR)
;;;1926   			{
;;;1927   			/*for(j=0;j<temp;j++)
;;;1928   				{
;;;1929   				RXBUFF[j]=*ptr;
;;;1930   				ptr++;
;;;1931   				}*/
;;;1932   			RXBUFF[0]=(char)(LPC_CAN2->RDA);
0020c0  4da3              LDR      r5,|L1.9040|
0020c2  79f0              LDRB     r0,[r6,#7]            ;1925  ; bR
0020c4  3524              ADDS     r5,r5,#0x24
0020c6  b130              CBZ      r0,|L1.8406|
;;;1933   			RXBUFF[1]=(char)((LPC_CAN2->RDA)>>8);
;;;1934   			RXBUFF[2]=(char)((LPC_CAN2->RDA)>>16);
;;;1935   			RXBUFF[3]=(char)((LPC_CAN2->RDA)>>24);
;;;1936   			RXBUFF[4]=(char)(LPC_CAN2->RDB);
;;;1937   			RXBUFF[5]=(char)((LPC_CAN2->RDB)>>8);
;;;1938   			RXBUFF[6]=(char)((LPC_CAN2->RDB)>>16);
;;;1939   			RXBUFF[7]=(char)((LPC_CAN2->RDB)>>24);
;;;1940   			
;;;1941   			}
;;;1942   		else if(bR==1)
0020c8  2801              CMP      r0,#1
0020ca  d023              BEQ      |L1.8468|
0020cc  e03e              B        |L1.8524|
                  |L1.8398|
0020ce  f04f0000          MOV      r0,#0                 ;1917
0020d2  71f0              STRB     r0,[r6,#7]            ;1917
0020d4  e7f4              B        |L1.8384|
                  |L1.8406|
0020d6  6aa0              LDR      r0,[r4,#0x28]         ;1932
0020d8  7028              STRB     r0,[r5,#0]            ;1932
0020da  6aa0              LDR      r0,[r4,#0x28]         ;1933
0020dc  ea4f2010          LSR      r0,r0,#8              ;1933
0020e0  7068              STRB     r0,[r5,#1]            ;1933
0020e2  6aa0              LDR      r0,[r4,#0x28]         ;1934
0020e4  ea4f4010          LSR      r0,r0,#16             ;1934
0020e8  70a8              STRB     r0,[r5,#2]            ;1934
0020ea  6aa0              LDR      r0,[r4,#0x28]         ;1935
0020ec  ea4f6010          LSR      r0,r0,#24             ;1935
0020f0  70e8              STRB     r0,[r5,#3]            ;1935
0020f2  6ae0              LDR      r0,[r4,#0x2c]         ;1936
0020f4  7128              STRB     r0,[r5,#4]            ;1936
0020f6  6ae0              LDR      r0,[r4,#0x2c]         ;1937
0020f8  ea4f2010          LSR      r0,r0,#8              ;1937
0020fc  7168              STRB     r0,[r5,#5]            ;1937
0020fe  6ae0              LDR      r0,[r4,#0x2c]         ;1938
002100  e000              B        |L1.8452|
                  |L1.8450|
002102  e03a              B        |L1.8570|
                  |L1.8452|
002104  ea4f4010          LSR      r0,r0,#16             ;1938
002108  71a8              STRB     r0,[r5,#6]            ;1938
00210a  6ae0              LDR      r0,[r4,#0x2c]         ;1939
00210c  ea4f6010          LSR      r0,r0,#24             ;1939
002110  71e8              STRB     r0,[r5,#7]            ;1939
002112  e01b              B        |L1.8524|
                  |L1.8468|
;;;1943   			{
;;;1944   			RXBUFF[8]=(char)(LPC_CAN2->RDA);
002114  6aa0              LDR      r0,[r4,#0x28]
002116  7228              STRB     r0,[r5,#8]
;;;1945   			RXBUFF[9]=(char)((LPC_CAN2->RDA)>>8);
002118  6aa0              LDR      r0,[r4,#0x28]
00211a  ea4f2010          LSR      r0,r0,#8
00211e  7268              STRB     r0,[r5,#9]
;;;1946   			RXBUFF[10]=(char)((LPC_CAN2->RDA)>>16);
002120  6aa0              LDR      r0,[r4,#0x28]
002122  ea4f4010          LSR      r0,r0,#16
002126  72a8              STRB     r0,[r5,#0xa]
;;;1947   			RXBUFF[11]=(char)((LPC_CAN2->RDA)>>24);
002128  6aa0              LDR      r0,[r4,#0x28]
00212a  ea4f6010          LSR      r0,r0,#24
00212e  72e8              STRB     r0,[r5,#0xb]
;;;1948   			RXBUFF[12]=(char)(LPC_CAN2->RDB);
002130  6ae0              LDR      r0,[r4,#0x2c]
002132  7328              STRB     r0,[r5,#0xc]
;;;1949   			RXBUFF[13]=(char)((LPC_CAN2->RDB)>>8);
002134  6ae0              LDR      r0,[r4,#0x2c]
002136  ea4f2010          LSR      r0,r0,#8
00213a  7368              STRB     r0,[r5,#0xd]
;;;1950   			RXBUFF[14]=(char)((LPC_CAN2->RDB)>>16);
00213c  6ae0              LDR      r0,[r4,#0x2c]
00213e  ea4f4010          LSR      r0,r0,#16
002142  73a8              STRB     r0,[r5,#0xe]
;;;1951   			RXBUFF[15]=(char)((LPC_CAN2->RDB)>>24);
002144  6ae0              LDR      r0,[r4,#0x2c]
002146  ea4f6010          LSR      r0,r0,#24
00214a  73e8              STRB     r0,[r5,#0xf]
                  |L1.8524|
;;;1952   			} 		
;;;1953   	
;;;1954   	
;;;1955   	
;;;1956   		
;;;1957   		temp=((RXBUFF[1]&0x1f)+4);
00214c  7868              LDRB     r0,[r5,#1]  ; RXBUFF
00214e  f000071f          AND      r7,r0,#0x1f
002152  f1070704          ADD      r7,r7,#4
;;;1958       		//rotor_can[2]++;
;;;1959   		if((CRC1_in()==RXBUFF[temp+1])&&(CRC2_in()==RXBUFF[temp+2])&&bR)
002156  f7fffffe          BL       CRC1_in
00215a  443d              ADD      r5,r5,r7
00215c  7869              LDRB     r1,[r5,#1]
00215e  4288              CMP      r0,r1
002160  d10b              BNE      |L1.8570|
002162  f7fffffe          BL       CRC2_in
002166  78a9              LDRB     r1,[r5,#2]
002168  4288              CMP      r0,r1
00216a  d106              BNE      |L1.8570|
00216c  79f0              LDRB     r0,[r6,#7]  ; bR
00216e  b120              CBZ      r0,|L1.8570|
;;;1960   			{
;;;1961     
;;;1962   			bIN=1;
002170  f04f0001          MOV      r0,#1
002174  7230              STRB     r0,[r6,#8]
;;;1963     			//rotor_can[3]++;
;;;1964     			can_in_an2();
002176  f7fffffe          BL       can_in_an2
                  |L1.8570|
;;;1965   			
;;;1966   			}    
;;;1967       
;;;1968     		}
;;;1969   
;;;1970   LPC_CAN2->CMR = 0x04; // release receive buffer
00217a  f04f0004          MOV      r0,#4
00217e  6060              STR      r0,[r4,#4]
;;;1971   }
002180  e8bd81f0          POP      {r4-r8,pc}
;;;1972   /**************************************************************************
                          ENDP

                  can_isr_tx1 PROC
;;;1978   
;;;1979   void can_isr_tx1 (void) 
002184  4a77              LDR      r2,|L1.9060|
;;;1980   {
;;;1981   //unsigned int buf;
;;;1982   //unsigned int *pDest;
;;;1983   char temp;
;;;1984   //char *ptr,j;
;;;1985   
;;;1986   //plazma_can2++;
;;;1987   
;;;1988   can_tx_cnt++;
002186  7ad0              LDRB     r0,[r2,#0xb]  ; can_tx_cnt
002188  f1000001          ADD      r0,r0,#1
00218c  72d0              STRB     r0,[r2,#0xb]
;;;1989   
;;;1990   rotor_can[5]++;
00218e  4970              LDR      r1,|L1.9040|
002190  8948              LDRH     r0,[r1,#0xa]  ; rotor_can
002192  f1000001          ADD      r0,r0,#1
002196  8148              STRH     r0,[r1,#0xa]
;;;1991   
;;;1992   if(ptr_can1_tx_wr!=ptr_can1_tx_rd)
002198  78d3              LDRB     r3,[r2,#3]  ; ptr_can1_tx_wr
00219a  7910              LDRB     r0,[r2,#4]  ; ptr_can1_tx_rd
;;;1993   	{
;;;1994   	LPC_CAN1->TFI1=can1_info[ptr_can1_tx_rd];
00219c  496d              LDR      r1,|L1.9044|
00219e  4283              CMP      r3,r0                 ;1992
0021a0  d01f              BEQ      |L1.8674|
0021a2  4b72              LDR      r3,|L1.9068|
0021a4  f8533020          LDR      r3,[r3,r0,LSL #2]
0021a8  630b              STR      r3,[r1,#0x30]
;;;1995        LPC_CAN1->TID1=can1_id[ptr_can1_tx_rd];
0021aa  4b70              LDR      r3,|L1.9068|
0021ac  3320              ADDS     r3,r3,#0x20
0021ae  f8533020          LDR      r3,[r3,r0,LSL #2]
0021b2  634b              STR      r3,[r1,#0x34]
;;;1996        LPC_CAN1->TDA1=can1_data[ptr_can1_tx_rd];
0021b4  4b6d              LDR      r3,|L1.9068|
0021b6  3340              ADDS     r3,r3,#0x40
0021b8  f8533020          LDR      r3,[r3,r0,LSL #2]
0021bc  638b              STR      r3,[r1,#0x38]
;;;1997        LPC_CAN1->TDB1=can1_datb[ptr_can1_tx_rd];
0021be  4b6b              LDR      r3,|L1.9068|
0021c0  3360              ADDS     r3,r3,#0x60
0021c2  f8533020          LDR      r3,[r3,r0,LSL #2]
0021c6  63cb              STR      r3,[r1,#0x3c]
;;;1998        LPC_CAN1->CMR=0x00000021;
0021c8  f04f0321          MOV      r3,#0x21
0021cc  604b              STR      r3,[r1,#4]
;;;1999        ptr_can1_tx_rd++;
0021ce  f1000001          ADD      r0,r0,#1
0021d2  b2c0              UXTB     r0,r0
0021d4  7110              STRB     r0,[r2,#4]
;;;2000        if(ptr_can1_tx_rd>=8)ptr_can1_tx_rd=0;
0021d6  2808              CMP      r0,#8
0021d8  d306              BCC      |L1.8680|
0021da  f04f0000          MOV      r0,#0
0021de  7110              STRB     r0,[r2,#4]
0021e0  e002              B        |L1.8680|
                  |L1.8674|
;;;2001   	}
;;;2002   else bOUT_FREE=1;
0021e2  f04f0001          MOV      r0,#1
0021e6  7010              STRB     r0,[r2,#0]
                  |L1.8680|
;;;2003   temp=LPC_CAN1->ICR;
0021e8  68c8              LDR      r0,[r1,#0xc]
;;;2004   
;;;2005   }
0021ea  4770              BX       lr
;;;2006   
                          ENDP

                  can_isr_tx2 PROC
;;;2007   /***************************************************************************/
;;;2008   void can_isr_tx2 (void) 
0021ec  4a5d              LDR      r2,|L1.9060|
;;;2009   {
;;;2010   char temp;
;;;2011   can2_tx_cnt++;
0021ee  8ad0              LDRH     r0,[r2,#0x16]  ; can2_tx_cnt
0021f0  f1000001          ADD      r0,r0,#1
0021f4  82d0              STRH     r0,[r2,#0x16]
;;;2012   
;;;2013   //=ptr_can2_tx_wr;
;;;2014   
;;;2015   if(ptr_can2_tx_wr!=ptr_can2_tx_rd)
0021f6  7953              LDRB     r3,[r2,#5]  ; ptr_can2_tx_wr
0021f8  7990              LDRB     r0,[r2,#6]  ; ptr_can2_tx_rd
;;;2016   	{
;;;2017   	LPC_CAN2->TFI1=can2_info[ptr_can2_tx_rd];
0021fa  495b              LDR      r1,|L1.9064|
0021fc  4283              CMP      r3,r0                 ;2015
0021fe  d020              BEQ      |L1.8770|
002200  4b53              LDR      r3,|L1.9040|
002202  3b80              SUBS     r3,r3,#0x80
002204  f8533020          LDR      r3,[r3,r0,LSL #2]
002208  630b              STR      r3,[r1,#0x30]
;;;2018        LPC_CAN2->TID1=can2_id[ptr_can2_tx_rd];
00220a  4b51              LDR      r3,|L1.9040|
00220c  3b60              SUBS     r3,r3,#0x60
00220e  f8533020          LDR      r3,[r3,r0,LSL #2]
002212  634b              STR      r3,[r1,#0x34]
;;;2019        LPC_CAN2->TDA1=can2_data[ptr_can2_tx_rd];
002214  4b4e              LDR      r3,|L1.9040|
002216  3b40              SUBS     r3,r3,#0x40
002218  f8533020          LDR      r3,[r3,r0,LSL #2]
00221c  638b              STR      r3,[r1,#0x38]
;;;2020        LPC_CAN2->TDB1=can2_datb[ptr_can2_tx_rd];
00221e  4b4c              LDR      r3,|L1.9040|
002220  3b20              SUBS     r3,r3,#0x20
002222  f8533020          LDR      r3,[r3,r0,LSL #2]
002226  63cb              STR      r3,[r1,#0x3c]
;;;2021        LPC_CAN2->CMR=0x00000021;
002228  f04f0321          MOV      r3,#0x21
00222c  604b              STR      r3,[r1,#4]
;;;2022        ptr_can2_tx_rd++;
00222e  f1000001          ADD      r0,r0,#1
002232  b2c0              UXTB     r0,r0
002234  7190              STRB     r0,[r2,#6]
;;;2023        if(ptr_can2_tx_rd>=8)ptr_can2_tx_rd=0;
002236  2808              CMP      r0,#8
002238  d306              BCC      |L1.8776|
00223a  f04f0000          MOV      r0,#0
00223e  7190              STRB     r0,[r2,#6]
002240  e002              B        |L1.8776|
                  |L1.8770|
;;;2024   	}
;;;2025   else bOUT_FREE2=1;
002242  f04f0001          MOV      r0,#1
002246  7050              STRB     r0,[r2,#1]
                  |L1.8776|
;;;2026   temp=LPC_CAN2->ICR;
002248  68c8              LDR      r0,[r1,#0xc]
;;;2027   }
00224a  4770              BX       lr
;;;2028   
                          ENDP

                  can1_init PROC
;;;2032   ***************************************************************************/ 
;;;2033   short can1_init (unsigned int can_btr)
00224c  b510              PUSH     {r4,lr}
;;;2034   {
;;;2035   LPC_SC->PCONP |= (1<<13);  /* Enable CAN1 and CAN2 clock */
00224e  4948              LDR      r1,|L1.9072|
002250  680a              LDR      r2,[r1,#0]
002252  f4425200          ORR      r2,r2,#0x2000
002256  600a              STR      r2,[r1,#0]
;;;2036   
;;;2037   LPC_PINCON->PINSEL0 &= ~0x0000000F;  /* CAN1 is p0.0 and p0.1	*/
002258  4946              LDR      r1,|L1.9076|
00225a  680a              LDR      r2,[r1,#0]
00225c  f022020f          BIC      r2,r2,#0xf
002260  600a              STR      r2,[r1,#0]
;;;2038   LPC_PINCON->PINSEL0 |= 0x00000005;
002262  680a              LDR      r2,[r1,#0]
002264  f0420205          ORR      r2,r2,#5
002268  600a              STR      r2,[r1,#0]
;;;2039   
;;;2040   gCANFilter = 0; // Reset and disable all message filters
00226a  4a3e              LDR      r2,|L1.9060|
00226c  f04f0100          MOV      r1,#0
002270  8291              STRH     r1,[r2,#0x14]
;;;2041   
;;;2042   LPC_CANAF->AFMR = 0x00000001L; // Acceptance Filter Mode Register = off !
002272  4b41              LDR      r3,|L1.9080|
002274  f04f0201          MOV      r2,#1
002278  601a              STR      r2,[r3,#0]
;;;2043   
;;;2044   LPC_CAN1->MOD = 1; // Go into Reset mode
00227a  4c36              LDR      r4,|L1.9044|
00227c  6022              STR      r2,[r4,#0]
;;;2045   
;;;2046   LPC_CAN1->IER = 0;// Disable All Interrupts
00227e  6121              STR      r1,[r4,#0x10]
;;;2047   
;;;2048   LPC_CAN1->GSR = 0; // Clear Status register
002280  60a1              STR      r1,[r4,#8]
;;;2049   
;;;2050   LPC_CAN1->BTR = can_btr; // Set bit timing
002282  6160              STR      r0,[r4,#0x14]
;;;2051   
;;;2052   //LPC_CAN1->IER |=(1<<0)|(1<<1)|(1<<9)|(1<<10); // Enable Receive & Transmit Interrupt
;;;2053   
;;;2054   LPC_CAN1->MOD = 0; // Enter Normal Operating Mode
002284  6021              STR      r1,[r4,#0]
;;;2055   
;;;2056   
;;;2057   
;;;2058   NVIC_EnableIRQ(CAN_IRQn);
002286  f04f0019          MOV      r0,#0x19
00228a  f7fffffe          BL       NVIC_EnableIRQ
;;;2059   LPC_CAN1->IER =0x0003;
00228e  f04f0003          MOV      r0,#3
002292  6120              STR      r0,[r4,#0x10]
;;;2060   return 1;
002294  f04f0001          MOV      r0,#1
;;;2061   }
002298  bd10              POP      {r4,pc}
;;;2062   
                          ENDP

                  can2_init PROC
;;;2066   ***************************************************************************/ 
;;;2067   short can2_init (unsigned int can_btr)
00229a  b510              PUSH     {r4,lr}
;;;2068   {
;;;2069   LPC_SC->PCONP |= (1<<14);  /* Enable CAN1 and CAN2 clock */
00229c  4934              LDR      r1,|L1.9072|
00229e  680a              LDR      r2,[r1,#0]
0022a0  f4424280          ORR      r2,r2,#0x4000
0022a4  600a              STR      r2,[r1,#0]
;;;2070   
;;;2071   LPC_PINCON->PINSEL2 &= ~0x0003c000;  /* CAN1 is p0.0 and p0.1	*/
0022a6  4933              LDR      r1,|L1.9076|
0022a8  688a              LDR      r2,[r1,#8]
0022aa  f4223270          BIC      r2,r2,#0x3c000
0022ae  608a              STR      r2,[r1,#8]
;;;2072   LPC_PINCON->PINSEL4 |= 0x00014000;
0022b0  690a              LDR      r2,[r1,#0x10]
0022b2  f44232a0          ORR      r2,r2,#0x14000
0022b6  610a              STR      r2,[r1,#0x10]
;;;2073   
;;;2074   gCANFilter = 0; // Reset and disable all message filters
0022b8  4a2a              LDR      r2,|L1.9060|
0022ba  f04f0100          MOV      r1,#0
0022be  8291              STRH     r1,[r2,#0x14]
;;;2075   
;;;2076   LPC_CANAF->AFMR = 0x00000001L; // Acceptance Filter Mode Register = off !
0022c0  4b2d              LDR      r3,|L1.9080|
0022c2  f04f0201          MOV      r2,#1
0022c6  601a              STR      r2,[r3,#0]
;;;2077   
;;;2078   LPC_CAN2->MOD = 1; // Go into Reset mode
0022c8  4c27              LDR      r4,|L1.9064|
0022ca  6022              STR      r2,[r4,#0]
;;;2079   
;;;2080   LPC_CAN2->IER = 0;// Disable All Interrupts
0022cc  6121              STR      r1,[r4,#0x10]
;;;2081   
;;;2082   LPC_CAN2->GSR = 0; // Clear Status register
0022ce  60a1              STR      r1,[r4,#8]
;;;2083   
;;;2084   LPC_CAN2->BTR = can_btr; // Set bit timing
0022d0  6160              STR      r0,[r4,#0x14]
;;;2085   
;;;2086   //LPC_CAN1->IER |=(1<<0)|(1<<1)|(1<<9)|(1<<10); // Enable Receive & Transmit Interrupt
;;;2087   
;;;2088   LPC_CAN2->MOD = 0; // Enter Normal Operating Mode
0022d2  6021              STR      r1,[r4,#0]
;;;2089   
;;;2090   
;;;2091   
;;;2092   NVIC_EnableIRQ(CAN_IRQn);
0022d4  f04f0019          MOV      r0,#0x19
0022d8  f7fffffe          BL       NVIC_EnableIRQ
;;;2093   LPC_CAN2->IER =0x0003;
0022dc  f04f0003          MOV      r0,#3
0022e0  6120              STR      r0,[r4,#0x10]
;;;2094   return 1;
0022e2  f04f0001          MOV      r0,#1
;;;2095   }
0022e6  bd10              POP      {r4,pc}
;;;2096   
                          ENDP

                  FullCAN_SetFilter PROC
;;;2100   ***************************************************************************/ 
;;;2101   short FullCAN_SetFilter  (
0022e8  b5f0              PUSH     {r4-r7,lr}
;;;2102                            unsigned short can_port, // CAN interface number
;;;2103                            unsigned int CANID // 11-bit CAN ID
;;;2104                            )
;;;2105   {
;;;2106   unsigned int p, n;
;;;2107   unsigned int buf0, buf1;
;;;2108   unsigned int ID_lower, ID_upper;
;;;2109   unsigned int candata;
;;;2110   unsigned int *pAddr;
;;;2111   
;;;2112    
;;;2113   
;;;2114   // Acceptance Filter Mode Register = off !
;;;2115   LPC_CANAF->AFMR = 0x00000001L;
0022ea  4e23              LDR      r6,|L1.9080|
0022ec  f04f0701          MOV      r7,#1
0022f0  6037              STR      r7,[r6,#0]
;;;2116   
;;;2117   if (gCANFilter == 0)
0022f2  4d1c              LDR      r5,|L1.9060|
0022f4  8aaa              LDRH     r2,[r5,#0x14]  ; gCANFilter
;;;2118        {    
;;;2119        // First call, init entry zero
;;;2120        gFullCANList[0].Dat1 = 0x000037FFL; // CAN 1, disabled and unused
0022f6  4c16              LDR      r4,|L1.9040|
0022f8  f104040c          ADD      r4,r4,#0xc
0022fc  b912              CBNZ     r2,|L1.8964|
0022fe  f24372ff          MOV      r2,#0x37ff
002302  6022              STR      r2,[r4,#0]  ; gFullCANList
                  |L1.8964|
;;;2121        }
;;;2122   if (gCANFilter >= MAX_FILTERS)
002304  f9b52014          LDRSH    r2,[r5,#0x14]  ; gCANFilter
002308  2a02              CMP      r2,#2
00230a  db01              BLT      |L1.8976|
;;;2123        {
;;;2124        return 0;
00230c  2000              MOVS     r0,#0
;;;2125        }
;;;2126   
;;;2127   CANID &= 0x000007FFL; // Mask out 11-bit ID
;;;2128   CANID |= (can_port << 13); // Put can_port info in bits 13-15
;;;2129   
;;;2130   // Filters must be sorted by interface, then by priority
;;;2131   // new filter is sorted into array
;;;2132   p = 0;
;;;2133   while (p < gCANFilter) // loop through all existing filters 
;;;2134        {
;;;2135        if ((gFullCANList[p].Dat1 & 0x0000FFFFL) > CANID)
;;;2136             {
;;;2137             break;
;;;2138             }
;;;2139        p++;
;;;2140        }
;;;2141   
;;;2142   // insert new filter here
;;;2143   buf0 = gFullCANList[p].Dat1; // save current entry
;;;2144   gFullCANList[p].Dat1 = CANID; // insert the new entry
;;;2145   
;;;2146   // move all remaining entries one row up
;;;2147   gCANFilter++;
;;;2148   while (p < gCANFilter)
;;;2149        {
;;;2150        p++;
;;;2151        buf1 = gFullCANList[p].Dat1;
;;;2152        gFullCANList[p].Dat1 = buf0;
;;;2153        buf0 = buf1;
;;;2154        }
;;;2155   
;;;2156   // Now work on Acceptance Filter Configuration     
;;;2157   // Set CAN filter for 11-bit standard identifiers
;;;2158   p = 0;
;;;2159   
;;;2160   // Set pointer for Standard Frame Individual
;;;2161   // Standard Frame Explicit
;;;2162   LPC_CANAF->SFF_sa = p;
;;;2163   
;;;2164   pAddr = (unsigned int *) LPC_CANAF_RAM_BASE;
;;;2165   for (n = 0; n < ((gCANFilter+1)/2); n++)
;;;2166        {
;;;2167        ID_lower = gFullCANList[n * 2].Dat1 & 0x0000FFFFL;
;;;2168        ID_upper = gFullCANList[n * 2 + 1].Dat1 & 0x0000FFFFL;
;;;2169        candata = (ID_lower << 16) + ID_upper;
;;;2170        *pAddr = candata;
;;;2171        p += 4;
;;;2172        pAddr++;
;;;2173        }
;;;2174   
;;;2175   // p is still pointing to ENDofTable;
;;;2176     
;;;2177   // Set pointer for Standard Frame Groups
;;;2178   // Standard Frame Group Start Address Register
;;;2179   LPC_CANAF->SFF_GRP_sa = p;
;;;2180   
;;;2181   // Set pointer for Extended Frame Individual
;;;2182   // Extended Frame Start Address Register
;;;2183   LPC_CANAF->EFF_sa = p;
;;;2184   
;;;2185   // Set pointer for Extended Frame Groups
;;;2186   // Extended Frame Group Start Address Register
;;;2187   LPC_CANAF->EFF_GRP_sa = p;
;;;2188   
;;;2189   // Set ENDofTable 
;;;2190   // End of AF Tables Register
;;;2191   LPC_CANAF->ENDofTable = p;
;;;2192   
;;;2193   // Acceptance Filter Mode Register, start using filter
;;;2194   LPC_CANAF->AFMR = 0;
;;;2195     
;;;2196   return 1;
;;;2197   
;;;2198   /*
;;;2199     // Acceptance Filter Mode Register = off !
;;;2200   LPC_CANAF->AFMR = 0x00000001L;
;;;2201   
;;;2202     if (gCANFilter == 0)
;;;2203     { // First call, init entry zero
;;;2204       gFullCANList[0].Dat1 = 0x000037FFL; // CAN 1, disabled and unused
;;;2205     }
;;;2206     if (gCANFilter >= MAX_FILTERS)
;;;2207     {
;;;2208       return 0;
;;;2209     }
;;;2210   
;;;2211     CANID &= 0x000007FFL; // Mask out 11-bit ID
;;;2212     CANID |= (can_port << 13); // Put can_port info in bits 13-15
;;;2213   
;;;2214     // Filters must be sorted by interface, then by priority
;;;2215     // new filter is sorted into array
;;;2216     p = 0;
;;;2217     while (p < gCANFilter) // loop through all existing filters 
;;;2218     {
;;;2219       if ((gFullCANList[p].Dat1 & 0x0000FFFFL) > CANID)
;;;2220       {
;;;2221         break;
;;;2222       }
;;;2223       p++;
;;;2224     }
;;;2225   
;;;2226     // insert new filter here
;;;2227     buf0 = gFullCANList[p].Dat1; // save current entry
;;;2228     gFullCANList[p].Dat1 = CANID; // insert the new entry
;;;2229   
;;;2230     // move all remaining entries one row up
;;;2231     gCANFilter++;
;;;2232     while (p < gCANFilter)
;;;2233     {
;;;2234       p++;
;;;2235       buf1 = gFullCANList[p].Dat1;
;;;2236       gFullCANList[p].Dat1 = buf0;
;;;2237       buf0 = buf1;
;;;2238     }
;;;2239   
;;;2240     // Now work on Acceptance Filter Configuration     
;;;2241     // Set CAN filter for 11-bit standard identifiers
;;;2242     p = 0;
;;;2243   
;;;2244     // Set pointer for Standard Frame Individual
;;;2245     // Standard Frame Explicit
;;;2246   LPC_CANAF->SFF_sa = p;
;;;2247   
;;;2248     pAddr = (unsigned int *) ACCEPTANCE_FILTER_RAM_BASE;
;;;2249     for (n = 0; n < ((gCANFilter+1)/2); n++)
;;;2250     {
;;;2251       ID_lower = gFullCANList[n * 2].Dat1 & 0x0000FFFFL;
;;;2252       ID_upper = gFullCANList[n * 2 + 1].Dat1 & 0x0000FFFFL;
;;;2253       candata = (ID_lower << 16) + ID_upper;
;;;2254       *pAddr = candata;
;;;2255       p += 4;
;;;2256       pAddr++;
;;;2257     }
;;;2258   
;;;2259     // p is still pointing to ENDofTable;
;;;2260     
;;;2261     // Set pointer for Standard Frame Groups
;;;2262     // Standard Frame Group Start Address Register
;;;2263   LPC_CANAF->SFF_GRP_sa = p;
;;;2264   
;;;2265     // Set pointer for Extended Frame Individual
;;;2266     // Extended Frame Start Address Register
;;;2267   LPC_CANAF->EFF_sa = p;
;;;2268   
;;;2269     // Set pointer for Extended Frame Groups
;;;2270     // Extended Frame Group Start Address Register
;;;2271   LPC_CANAF->EFF_GRP_sa = p;
;;;2272   
;;;2273     // Set ENDofTable 
;;;2274     // End of AF Tables Register
;;;2275   LPC_CANAF->ENDofTable = p;
;;;2276   
;;;2277     // Acceptance Filter Mode Register, start using filter
;;;2278   LPC_CANAF->AFMR = 0;
;;;2279     
;;;2280     return 1;	 */
;;;2281   }
00230e  bdf0              POP      {r4-r7,pc}
                  |L1.8976|
002310  f3c1010a          UBFX     r1,r1,#0,#11          ;2127
002314  ea413140          ORR      r1,r1,r0,LSL #13      ;2128
002318  f04f0000          MOV      r0,#0                 ;2132
00231c  e008              B        |L1.9008|
                  |L1.8990|
00231e  eb000240          ADD      r2,r0,r0,LSL #1       ;2135
002322  f8542022          LDR      r2,[r4,r2,LSL #2]     ;2135
002326  b292              UXTH     r2,r2                 ;2135
002328  428a              CMP      r2,r1                 ;2135
00232a  d805              BHI      |L1.9016|
00232c  f1000001          ADD      r0,r0,#1              ;2139
                  |L1.9008|
002330  f9b52014          LDRSH    r2,[r5,#0x14]         ;2133  ; gCANFilter
002334  4290              CMP      r0,r2                 ;2133
002336  d3f2              BCC      |L1.8990|
                  |L1.9016|
002338  eb000340          ADD      r3,r0,r0,LSL #1       ;2143
00233c  f8542023          LDR      r2,[r4,r3,LSL #2]     ;2143
002340  f8441023          STR      r1,[r4,r3,LSL #2]     ;2144
002344  8aa9              LDRH     r1,[r5,#0x14]         ;2147  ; gCANFilter
002346  f1010101          ADD      r1,r1,#1              ;2147
00234a  82a9              STRH     r1,[r5,#0x14]         ;2147
00234c  e01f              B        |L1.9102|
00234e  0000              DCW      0x0000
                  |L1.9040|
                          DCD      ||.bss||+0x100
                  |L1.9044|
                          DCD      0x40044000
                  |L1.9048|
                          DCD      0xc0000400
                  |L1.9052|
                          DCD      0xc00f0000
                  |L1.9056|
                          DCD      0x01002000
                  |L1.9060|
                          DCD      ||.data||
                  |L1.9064|
                          DCD      0x40048000
                  |L1.9068|
                          DCD      ||.bss||
                  |L1.9072|
                          DCD      0x400fc0c4
                  |L1.9076|
                          DCD      0x4002c000
                  |L1.9080|
                          DCD      0x4003c000
                  |L1.9084|
00237c  f1000001          ADD      r0,r0,#1              ;2150
002380  eb000140          ADD      r1,r0,r0,LSL #1       ;2151
002384  f8543021          LDR      r3,[r4,r1,LSL #2]     ;2151
002388  f8442021          STR      r2,[r4,r1,LSL #2]     ;2152
00238c  461a              MOV      r2,r3                 ;2153
                  |L1.9102|
00238e  f9b51014          LDRSH    r1,[r5,#0x14]         ;2148  ; gCANFilter
002392  4288              CMP      r0,r1                 ;2148
002394  d3f2              BCC      |L1.9084|
002396  f04f0100          MOV      r1,#0                 ;2158
00239a  6071              STR      r1,[r6,#4]            ;2162
00239c  4a34              LDR      r2,|L1.9328|
00239e  4608              MOV      r0,r1                 ;2165
0023a0  e011              B        |L1.9158|
                  |L1.9122|
0023a2  eb000340          ADD      r3,r0,r0,LSL #1       ;2167
0023a6  f854c033          LDR      r12,[r4,r3,LSL #3]    ;2167
0023aa  eb070340          ADD      r3,r7,r0,LSL #1       ;2168
0023ae  eb030343          ADD      r3,r3,r3,LSL #1       ;2168
0023b2  f8543023          LDR      r3,[r4,r3,LSL #2]     ;2168
0023b6  b29b              UXTH     r3,r3                 ;2168
0023b8  eb03430c          ADD      r3,r3,r12,LSL #16     ;2169
0023bc  c208              STM      r2!,{r3}              ;2170
0023be  f1010104          ADD      r1,r1,#4              ;2171
0023c2  f1000001          ADD      r0,r0,#1              ;2165
                  |L1.9158|
0023c6  f9b53014          LDRSH    r3,[r5,#0x14]         ;2165  ; gCANFilter
0023ca  1c5b              ADDS     r3,r3,#1              ;2165
0023cc  eb0373d3          ADD      r3,r3,r3,LSR #31      ;2165
0023d0  ebb00f63          CMP      r0,r3,ASR #1          ;2165
0023d4  d3e5              BCC      |L1.9122|
0023d6  60b1              STR      r1,[r6,#8]            ;2179
0023d8  60f1              STR      r1,[r6,#0xc]          ;2183
0023da  6131              STR      r1,[r6,#0x10]         ;2187
0023dc  6171              STR      r1,[r6,#0x14]         ;2191
0023de  f04f0000          MOV      r0,#0                 ;2194
0023e2  6030              STR      r0,[r6,#0]            ;2194
0023e4  f04f0001          MOV      r0,#1                 ;2196
0023e8  bdf0              POP      {r4-r7,pc}
;;;2282   
                          ENDP

                  CAN_IRQHandler PROC
;;;2283   //-----------------------------------------------
;;;2284   void CAN_IRQHandler(void)  
0023ea  b510              PUSH     {r4,lr}
;;;2285   {
;;;2286   //can_rotor[0]++;
;;;2287   CANStatus = LPC_CAN1->ICR;
0023ec  4821              LDR      r0,|L1.9332|
0023ee  68c0              LDR      r0,[r0,#0xc]
0023f0  4c21              LDR      r4,|L1.9336|
0023f2  61a0              STR      r0,[r4,#0x18]  ; CANStatus
;;;2288   //new_rotor[3]=CANStatus;
;;;2289   //new_rotor[4]=CANStatus>>16;
;;;2290   //
;;;2291   //rotor_rotor_rotor[0]++;
;;;2292   		
;;;2293   if ( CANStatus & (1 << 0) )
0023f4  69a0              LDR      r0,[r4,#0x18]  ; CANStatus
0023f6  07c0              LSLS     r0,r0,#31
0023f8  d005              BEQ      |L1.9222|
;;;2294        {
;;;2295   	CAN_ISR_Rx1();
0023fa  f7fffffe          BL       CAN_ISR_Rx1
;;;2296   	plazma_can1++;
0023fe  7be0              LDRB     r0,[r4,#0xf]  ; plazma_can1
002400  f1000001          ADD      r0,r0,#1
002404  73e0              STRB     r0,[r4,#0xf]
                  |L1.9222|
;;;2297        }
;;;2298   
;;;2299   if ( CANStatus & (1 << 1) )
002406  69a0              LDR      r0,[r4,#0x18]  ; CANStatus
002408  0780              LSLS     r0,r0,#30
00240a  d505              BPL      |L1.9240|
;;;2300        {
;;;2301   	can_isr_tx1();
00240c  f7fffffe          BL       can_isr_tx1
;;;2302   	plazma_can2++;
002410  7c20              LDRB     r0,[r4,#0x10]  ; plazma_can2
002412  f1000001          ADD      r0,r0,#1
002416  7420              STRB     r0,[r4,#0x10]
                  |L1.9240|
;;;2303   	
;;;2304        }
;;;2305   
;;;2306   CANStatus = LPC_CAN2->ICR;
002418  4818              LDR      r0,|L1.9340|
00241a  68c0              LDR      r0,[r0,#0xc]
00241c  61a0              STR      r0,[r4,#0x18]  ; CANStatus
;;;2307   //new_rotor[3]=CANStatus;
;;;2308   //new_rotor[4]=CANStatus>>16;
;;;2309   //
;;;2310   //rotor_rotor_rotor[0]++;
;;;2311   plazma_can++;		
00241e  7ba0              LDRB     r0,[r4,#0xe]  ; plazma_can
002420  f1000001          ADD      r0,r0,#1
002424  73a0              STRB     r0,[r4,#0xe]
;;;2312   if ( CANStatus & (1 << 0) )
002426  69a0              LDR      r0,[r4,#0x18]  ; CANStatus
002428  07c0              LSLS     r0,r0,#31
00242a  d008              BEQ      |L1.9278|
;;;2313        {
;;;2314   	CAN_ISR_Rx2();
00242c  f7fffffe          BL       CAN_ISR_Rx2
;;;2315   	plazma_can3++;
002430  7c60              LDRB     r0,[r4,#0x11]  ; plazma_can3
002432  f1000001          ADD      r0,r0,#1
002436  7460              STRB     r0,[r4,#0x11]
;;;2316   	cnt_can_pal=0;
002438  f04f0000          MOV      r0,#0
00243c  7320              STRB     r0,[r4,#0xc]
                  |L1.9278|
;;;2317   
;;;2318        }
;;;2319   
;;;2320   if ( CANStatus & (1 << 1) )
00243e  69a0              LDR      r0,[r4,#0x18]  ; CANStatus
002440  0780              LSLS     r0,r0,#30
002442  d505              BPL      |L1.9296|
;;;2321        {
;;;2322   	can_isr_tx2();
002444  f7fffffe          BL       can_isr_tx2
;;;2323   	 plazma_can4++;
002448  7ca0              LDRB     r0,[r4,#0x12]  ; plazma_can4
00244a  f1000001          ADD      r0,r0,#1
00244e  74a0              STRB     r0,[r4,#0x12]
                  |L1.9296|
;;;2324   	
;;;2325        }
;;;2326   
;;;2327   return;
;;;2328   }
002450  bd10              POP      {r4,pc}
;;;2329   
                          ENDP

                  NVIC_EnableIRQ PROC
;;;1095    */
;;;1096   static __INLINE void NVIC_EnableIRQ(IRQn_Type IRQn)
002452  f000021f          AND      r2,r0,#0x1f
;;;1097   {
;;;1098     NVIC->ISER[((uint32_t)(IRQn) >> 5)] = (1 << ((uint32_t)(IRQn) & 0x1F)); /* enable interrupt */
002456  f04f0101          MOV      r1,#1
00245a  fa01f102          LSL      r1,r1,r2
00245e  ea4f1050          LSR      r0,r0,#5
002462  f04f22e0          MOV      r2,#0xe000e000
002466  eb020080          ADD      r0,r2,r0,LSL #2
00246a  f8c01100          STR      r1,[r0,#0x100]
;;;1099   }
00246e  4770              BX       lr
;;;1100   
                          ENDP

                  |L1.9328|
                          DCD      0x40038000
                  |L1.9332|
                          DCD      0x40044000
                  |L1.9336|
                          DCD      ||.data||
                  |L1.9340|
                          DCD      0x40048000

                          AREA ||.bss||, DATA, NOINIT, ALIGN=2

                  can1_info
                          %        32
                  can1_id
                          %        32
                  can1_data
                          %        32
                  can1_datb
                          %        32
                  can2_info
                          %        32
                  can2_id
                          %        32
                  can2_data
                          %        32
                  can2_datb
                          %        32
                  rotor_can
                          %        12
                  gFullCANList
                          %        24
                  RXBUFF
                          %        40
                  TXBUFF
                          %        40
                  can_rotor
                          %        10
                  can_debug_plazma
                          %        20
                  plazma_can_pal
                          %        20
                  ccc_plazma
                          %        20

                          AREA ||area_number.4||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.4||, ||.bss||
                  bd_dumm
                          %        25

                          AREA ||area_number.5||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.5||, ||.bss||
                  ||bd||
                          %        25

                          AREA ||area_number.6||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.6||, ||.bss||
                  RXBUFF2
                          %        40

                          AREA ||area_number.7||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.7||, ||.bss||
                  TXBUFF2
                          %        40

                          AREA ||.constdata||, DATA, READONLY, ALIGN=0

                  Table87
000000  000e1c12          DCB      0x00,0x0e,0x1c,0x12
000004  3836242a          DCB      0x38,0x36,0x24,0x2a
000008  707e6c62          DCB      0x70,0x7e,0x6c,0x62
00000c  4846545a          DCB      0x48,0x46,0x54,0x5a
000010  e0eefcf2          DCB      0xe0,0xee,0xfc,0xf2
000014  d8d6c4ca          DCB      0xd8,0xd6,0xc4,0xca
000018  909e8c82          DCB      0x90,0x9e,0x8c,0x82
00001c  a8a6b4ba          DCB      0xa8,0xa6,0xb4,0xba
000020  cec0d2dc          DCB      0xce,0xc0,0xd2,0xdc
000024  f6f8eae4          DCB      0xf6,0xf8,0xea,0xe4
000028  beb0a2ac          DCB      0xbe,0xb0,0xa2,0xac
00002c  86889a94          DCB      0x86,0x88,0x9a,0x94
000030  2e20323c          DCB      0x2e,0x20,0x32,0x3c
000034  16180a04          DCB      0x16,0x18,0x0a,0x04
000038  5e50424c          DCB      0x5e,0x50,0x42,0x4c
00003c  66687a74          DCB      0x66,0x68,0x7a,0x74
000040  929c8e80          DCB      0x92,0x9c,0x8e,0x80
000044  aaa4b6b8          DCB      0xaa,0xa4,0xb6,0xb8
000048  e2ecfef0          DCB      0xe2,0xec,0xfe,0xf0
00004c  dad4c6c8          DCB      0xda,0xd4,0xc6,0xc8
000050  727c6e60          DCB      0x72,0x7c,0x6e,0x60
000054  4a445658          DCB      0x4a,0x44,0x56,0x58
000058  020c1e10          DCB      0x02,0x0c,0x1e,0x10
00005c  3a342628          DCB      0x3a,0x34,0x26,0x28
000060  5c52404e          DCB      0x5c,0x52,0x40,0x4e
000064  646a7876          DCB      0x64,0x6a,0x78,0x76
000068  2c22303e          DCB      0x2c,0x22,0x30,0x3e
00006c  141a0806          DCB      0x14,0x1a,0x08,0x06
000070  bcb2a0ae          DCB      0xbc,0xb2,0xa0,0xae
000074  848a9896          DCB      0x84,0x8a,0x98,0x96
000078  ccc2d0de          DCB      0xcc,0xc2,0xd0,0xde
00007c  f4fae8e6          DCB      0xf4,0xfa,0xe8,0xe6
000080  2a243638          DCB      0x2a,0x24,0x36,0x38
000084  121c0e00          DCB      0x12,0x1c,0x0e,0x00
000088  5a544648          DCB      0x5a,0x54,0x46,0x48
00008c  626c7e70          DCB      0x62,0x6c,0x7e,0x70
000090  cac4d6d8          DCB      0xca,0xc4,0xd6,0xd8
000094  f2fceee0          DCB      0xf2,0xfc,0xee,0xe0
000098  bab4a6a8          DCB      0xba,0xb4,0xa6,0xa8
00009c  828c9e90          DCB      0x82,0x8c,0x9e,0x90
0000a0  e4eaf8f6          DCB      0xe4,0xea,0xf8,0xf6
0000a4  dcd2c0ce          DCB      0xdc,0xd2,0xc0,0xce
0000a8  949a8886          DCB      0x94,0x9a,0x88,0x86
0000ac  aca2b0be          DCB      0xac,0xa2,0xb0,0xbe
0000b0  040a1816          DCB      0x04,0x0a,0x18,0x16
0000b4  3c32202e          DCB      0x3c,0x32,0x20,0x2e
0000b8  747a6866          DCB      0x74,0x7a,0x68,0x66
0000bc  4c42505e          DCB      0x4c,0x42,0x50,0x5e
0000c0  b8b6a4aa          DCB      0xb8,0xb6,0xa4,0xaa
0000c4  808e9c92          DCB      0x80,0x8e,0x9c,0x92
0000c8  c8c6d4da          DCB      0xc8,0xc6,0xd4,0xda
0000cc  f0feece2          DCB      0xf0,0xfe,0xec,0xe2
0000d0  5856444a          DCB      0x58,0x56,0x44,0x4a
0000d4  606e7c72          DCB      0x60,0x6e,0x7c,0x72
0000d8  2826343a          DCB      0x28,0x26,0x34,0x3a
0000dc  101e0c02          DCB      0x10,0x1e,0x0c,0x02
0000e0  76786a64          DCB      0x76,0x78,0x6a,0x64
0000e4  4e40525c          DCB      0x4e,0x40,0x52,0x5c
0000e8  06081a14          DCB      0x06,0x08,0x1a,0x14
0000ec  3e30222c          DCB      0x3e,0x30,0x22,0x2c
0000f0  96988a84          DCB      0x96,0x98,0x8a,0x84
0000f4  aea0b2bc          DCB      0xae,0xa0,0xb2,0xbc
0000f8  e6e8faf4          DCB      0xe6,0xe8,0xfa,0xf4
0000fc  ded0c2cc          DCB      0xde,0xd0,0xc2,0xcc
                  Table95
000100  002a547e          DCB      0x00,0x2a,0x54,0x7e
000104  a882fcd6          DCB      0xa8,0x82,0xfc,0xd6
000108  7a502e04          DCB      0x7a,0x50,0x2e,0x04
00010c  d2f886ac          DCB      0xd2,0xf8,0x86,0xac
000110  f4dea08a          DCB      0xf4,0xde,0xa0,0x8a
000114  5c760822          DCB      0x5c,0x76,0x08,0x22
000118  8ea4daf0          DCB      0x8e,0xa4,0xda,0xf0
00011c  260c7258          DCB      0x26,0x0c,0x72,0x58
000120  c2e896bc          DCB      0xc2,0xe8,0x96,0xbc
000124  6a403e14          DCB      0x6a,0x40,0x3e,0x14
000128  b892ecc6          DCB      0xb8,0x92,0xec,0xc6
00012c  103a446e          DCB      0x10,0x3a,0x44,0x6e
000130  361c6248          DCB      0x36,0x1c,0x62,0x48
000134  9eb4cae0          DCB      0x9e,0xb4,0xca,0xe0
000138  4c661832          DCB      0x4c,0x66,0x18,0x32
00013c  e4ceb09a          DCB      0xe4,0xce,0xb0,0x9a
000140  ae84fad0          DCB      0xae,0x84,0xfa,0xd0
000144  062c5278          DCB      0x06,0x2c,0x52,0x78
000148  d4fe80aa          DCB      0xd4,0xfe,0x80,0xaa
00014c  7c562802          DCB      0x7c,0x56,0x28,0x02
000150  5a700e24          DCB      0x5a,0x70,0x0e,0x24
000154  f2d8a68c          DCB      0xf2,0xd8,0xa6,0x8c
000158  200a745e          DCB      0x20,0x0a,0x74,0x5e
00015c  88a2dcf6          DCB      0x88,0xa2,0xdc,0xf6
000160  6c463812          DCB      0x6c,0x46,0x38,0x12
000164  c4ee90ba          DCB      0xc4,0xee,0x90,0xba
000168  163c4268          DCB      0x16,0x3c,0x42,0x68
00016c  be94eac0          DCB      0xbe,0x94,0xea,0xc0
000170  98b2cce6          DCB      0x98,0xb2,0xcc,0xe6
000174  301a644e          DCB      0x30,0x1a,0x64,0x4e
000178  e2c8b69c          DCB      0xe2,0xc8,0xb6,0x9c
00017c  4a601e34          DCB      0x4a,0x60,0x1e,0x34
000180  765c2208          DCB      0x76,0x5c,0x22,0x08
000184  def48aa0          DCB      0xde,0xf4,0x8a,0xa0
000188  0c265872          DCB      0x0c,0x26,0x58,0x72
00018c  a48ef0da          DCB      0xa4,0x8e,0xf0,0xda
000190  82a8d6fc          DCB      0x82,0xa8,0xd6,0xfc
000194  2a007e54          DCB      0x2a,0x00,0x7e,0x54
000198  f8d2ac86          DCB      0xf8,0xd2,0xac,0x86
00019c  507a042e          DCB      0x50,0x7a,0x04,0x2e
0001a0  b49ee0ca          DCB      0xb4,0x9e,0xe0,0xca
0001a4  1c364862          DCB      0x1c,0x36,0x48,0x62
0001a8  cee49ab0          DCB      0xce,0xe4,0x9a,0xb0
0001ac  664c3218          DCB      0x66,0x4c,0x32,0x18
0001b0  406a143e          DCB      0x40,0x6a,0x14,0x3e
0001b4  e8c2bc96          DCB      0xe8,0xc2,0xbc,0x96
0001b8  3a106e44          DCB      0x3a,0x10,0x6e,0x44
0001bc  92b8c6ec          DCB      0x92,0xb8,0xc6,0xec
0001c0  d8f28ca6          DCB      0xd8,0xf2,0x8c,0xa6
0001c4  705a240e          DCB      0x70,0x5a,0x24,0x0e
0001c8  a288f6dc          DCB      0xa2,0x88,0xf6,0xdc
0001cc  0a205e74          DCB      0x0a,0x20,0x5e,0x74
0001d0  2c067852          DCB      0x2c,0x06,0x78,0x52
0001d4  84aed0fa          DCB      0x84,0xae,0xd0,0xfa
0001d8  567c0228          DCB      0x56,0x7c,0x02,0x28
0001dc  fed4aa80          DCB      0xfe,0xd4,0xaa,0x80
0001e0  1a304e64          DCB      0x1a,0x30,0x4e,0x64
0001e4  b298e6cc          DCB      0xb2,0x98,0xe6,0xcc
0001e8  604a341e          DCB      0x60,0x4a,0x34,0x1e
0001ec  c8e29cb6          DCB      0xc8,0xe2,0x9c,0xb6
0001f0  eec4ba90          DCB      0xee,0xc4,0xba,0x90
0001f4  466c1238          DCB      0x46,0x6c,0x12,0x38
0001f8  94bec0ea          DCB      0x94,0xbe,0xc0,0xea
0001fc  3c166842          DCB      0x3c,0x16,0x68,0x42

                          AREA ||.data||, DATA, ALIGN=2

                  bOUT_FREE
000000  01                DCB      0x01
                  bOUT_FREE2
000001  01                DCB      0x01
                  can_reset_cnt
000002  00                DCB      0x00
                  ptr_can1_tx_wr
000003  00                DCB      0x00
                  ptr_can1_tx_rd
000004  00                DCB      0x00
                  ptr_can2_tx_wr
000005  00                DCB      0x00
                  ptr_can2_tx_rd
000006  00                DCB      0x00
                  ||bR||
000007  00                DCB      0x00
                  bIN
000008  00                DCB      0x00
                  bIN2
000009  00                DCB      0x00
                  TX_len
00000a  00                DCB      0x00
                  can_tx_cnt
00000b  00                DCB      0x00
                  cnt_can_pal
00000c  00                DCB      0x00
                  plazma_can_pal_index
00000d  00                DCB      0x00
                  plazma_can
00000e  00                DCB      0x00
                  plazma_can1
00000f  00                DCB      0x00
                  plazma_can2
000010  00                DCB      0x00
                  plazma_can3
000011  00                DCB      0x00
                  plazma_can4
000012  0000              DCB      0x00,0x00
                  gCANFilter
000014  0000              DCW      0x0000
                  can2_tx_cnt
000016  0000              DCB      0x00,0x00
                  CANStatus
                          DCD      0x00000000

                          AREA ||area_number.11||, DATA, ALIGN=0

                          EXPORTAS ||area_number.11||, ||.data||
                  rotor_rotor_rotor
000000  0000              DCB      0x00,0x00
